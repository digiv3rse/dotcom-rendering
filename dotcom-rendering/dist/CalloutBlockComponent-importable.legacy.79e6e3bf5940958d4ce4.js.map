{"version":3,"file":"CalloutBlockComponent-importable.legacy.79e6e3bf5940958d4ce4.js","mappings":"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","sources":["webpack://@guardian/dotcom-rendering/./src/web/components/Callout/FormField.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Callout/CalloutComponents.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Callout/Form.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Callout/MessageUs.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Callout/Callout.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Callout/Deadline.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/CalloutBlockComponent.importable.tsx"],"sourcesContent":["import { jsx as _jsx } from \"@emotion/react/jsx-runtime\";\nimport { Checkbox, CheckboxGroup, Option, Radio, RadioGroup, Select, TextArea, TextInput, } from '@guardian/source-react-components';\nimport { FileInput } from '@guardian/source-react-components-development-kitchen';\nimport { useEffect, useRef } from 'react';\nexport const FormField = ({ formField, formData, setFieldInFormData, pageId, validationErrors, }) => {\n    const { type, label, hideLabel, description, required, id } = formField;\n    const name = `field_${type}_${id}`;\n    const fieldValue = formField.id in formData ? formData[formField.id] : '';\n    const fieldError = validationErrors[formField.id];\n    const firstUpdate = useRef(true);\n    useEffect(() => {\n        if (firstUpdate.current &&\n            formField.hidden &&\n            formField.type === 'text') {\n            setFieldInFormData(formField.id, pageId);\n            firstUpdate.current = false;\n        }\n    }, [formField, pageId, setFieldInFormData]);\n    switch (formField.type) {\n        case 'phone':\n        case 'email':\n        case 'text': {\n            if (formField.hidden)\n                return null;\n            return (_jsx(TextInput, { name: name, label: label, hideLabel: hideLabel, supporting: description, optional: !required, value: fieldValue, error: fieldError, \"data-testid\": `form-field-${formField.id}`, type: formField.type, onChange: (e) => setFieldInFormData(formField.id, e.target.value) }));\n        }\n        case 'textarea':\n            return (_jsx(TextArea, { name: name, label: label, hideLabel: hideLabel, supporting: description, optional: !required, value: fieldValue, error: fieldError, \"data-testid\": `form-field-${formField.id}`, onChange: (e) => setFieldInFormData(formField.id, e.target.value) }));\n        case 'file':\n            return (_jsx(FileInput, { label: label, hideLabel: hideLabel, supporting: description, optional: !required, error: fieldError, \"data-testid\": `form-field-${formField.id}`, onUpload: (file) => setFieldInFormData(formField.id, file) }));\n        case 'select':\n            return (_jsx(Select, { name: name, label: label, hideLabel: hideLabel, supporting: description, optional: !required, value: fieldValue, error: fieldError, \"data-testid\": `form-field-${formField.id}`, onChange: (e) => setFieldInFormData(formField.id, e.target.value), children: [\n                    {\n                        value: 'default',\n                        label: 'Please choose an option',\n                    },\n                ]\n                    .concat(formField.options)\n                    .map(({ value, label: formLabel }) => {\n                    return (_jsx(Option, { value: value, children: formLabel }, value));\n                }) }));\n        case 'checkbox':\n            return (_jsx(CheckboxGroup, { name: name, label: label, hideLabel: hideLabel, supporting: description, optional: !required, error: fieldError ? fieldError : undefined, \"data-testid\": `form-field-${formField.id}`, children: formField.options.map((option) => {\n                    const selectedCheckboxesArray = formData[formField.id] ?? [];\n                    const isCheckboxChecked = !!selectedCheckboxesArray.find((ele) => ele === option.value);\n                    const filterOutCheckboxFromArray = () => selectedCheckboxesArray.filter((ele) => ele !== option.value);\n                    const addCheckboxToArray = () => [\n                        ...selectedCheckboxesArray,\n                        option.value,\n                    ];\n                    return (_jsx(Checkbox, { name: name, label: option.label, value: option.value, checked: isCheckboxChecked, error: fieldError ? true : false, \"data-testid\": `form-field-${option.value}`, onChange: () => setFieldInFormData(id, isCheckboxChecked\n                            ? filterOutCheckboxFromArray()\n                            : addCheckboxToArray()) }, option.value));\n                }) }));\n        case 'radio':\n            return (_jsx(RadioGroup, { label: formField.label, supporting: formField.description, error: validationErrors[formField.id], name: formField.name, orientation: formField.options.length > 2 ? 'vertical' : 'horizontal', children: formField.options.map((option, index) => {\n                    return (_jsx(Radio, { \"data-testid\": `form-field-${option.value}`, label: option.label, value: option.value, name: `${formField.id}`, checked: formField.id in formData &&\n                            formData[formField.id] === option.value, onChange: (e) => setFieldInFormData(formField.id, e.target.value) }, index));\n                }) }));\n        default:\n            return null;\n    }\n};\n","import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"@emotion/react/jsx-runtime\";\nimport { css } from '@emotion/react';\nimport { body, brand, neutral, palette, space, success, textSans, } from '@guardian/source-foundations';\nimport { Button, SvgShare, SvgTickRound, } from '@guardian/source-react-components';\nimport { useState } from 'react';\nimport { decidePalette } from '../../lib/decidePalette';\n/* stylelint-disable-next-line color-no-hex */\nconst linkDecorationColour = '#12121240';\nexport const calloutLinkStyles = css `\n\ta {\n\t\tcolor: ${brand[500]};\n\t\ttext-decoration: none;\n\t\tborder-bottom: 1px solid ${linkDecorationColour};\n\t}\n\ta:hover,\n\ta:active {\n\t\tborder-bottom: 1px solid ${brand[500]};\n\t}\n`;\nconst descriptionStyles = (useBrandColour) => css `\n\t${!useBrandColour && calloutLinkStyles}\n\tpadding-bottom: ${space[4]}px;\n\t${body.medium()}\n\n\tp {\n\t\tmargin-bottom: ${space[3]}px;\n\t}\n`;\nexport const CalloutDescription = ({ description, useBrandColour, }) => {\n    // this data-ignore attribute ensures correct formatting for links when the callout is collapsible\n    const htmlSplit = description.split('href');\n    const withDataIgnore = htmlSplit.join('data-ignore=\"global-link-styling\" href');\n    return (_jsxs(\"div\", { css: descriptionStyles(useBrandColour), children: [_jsx(\"div\", { dangerouslySetInnerHTML: {\n                    __html: useBrandColour ? description : withDataIgnore,\n                } }), _jsxs(\"div\", { children: [\"Please share your story if you are 18 or over, anonymously if you wish. For more information please see our\", ' ', _jsx(\"a\", { \"data-ignore\": !useBrandColour && 'global-link-styling', href: \"https://www.theguardian.com/help/terms-of-service\", children: \"terms of service\" }), ' ', \"and\", ' ', _jsx(\"a\", { \"data-ignore\": !useBrandColour && 'global-link-styling', href: \"https://www.theguardian.com/help/privacy-policy\", children: \"privacy policy\" }), \".\"] })] }));\n};\nconst expiredStyles = css `\n\t${textSans.small()};\n\tcolor: ${palette.brand};\n\tbackground-color: ${palette.brandAlt[400]};\n\twidth: fit-content;\n`;\nexport const CalloutExpired = () => {\n    return (_jsxs(\"div\", { css: expiredStyles, children: [_jsx(\"p\", { children: \"This callout is now closed to any further submissions.\" }), _jsxs(\"p\", { children: [\"You can see\", ' ', _jsx(\"a\", { href: \"https://www.theguardian.com/profile/guardian-community-team\", children: \"other Guardian community callouts here\" }), ' ', \"or\", ' ', _jsx(\"a\", { href: \"https://www.theguardian.com/community/2015/sep/02/guardianwitness-send-us-a-story\", children: \"tell us about a story here.\" })] })] }));\n};\nconst shareCalloutStyles = css `\n\tdisplay: flex;\n\talign-items: center;\n\tposition: relative;\n`;\nconst shareCalloutTextStyles = css `\n\t${textSans.xsmall()}\n`;\nconst shareCalloutLinkStyles = (useBrandColour, brandPalette) => css `\n\t${textSans.xsmall()}\n\tcolor: ${useBrandColour ? brandPalette.text.articleLink : brand[500]};\n\tborder-bottom: 1px solid ${linkDecorationColour};\n\ttext-decoration: none;\n\ttransition: none;\n\t:hover,\n\t:active {\n\t\tborder-bottom: 1px solid\n\t\t\t${useBrandColour\n    ? brandPalette.border.articleLinkHover\n    : brand[500]};\n\t}\n`;\nconst sharePopupStyles = css `\n\t${textSans.xsmall()};\n\tposition: absolute;\n\tdisplay: flex;\n\talign-items: center;\n\tmin-width: 180px;\n\ttransform: translate(100%, 0);\n\tbackground-color: ${neutral[100]};\n\tcolor: ${neutral[7]};\n\tfont-weight: normal;\n\tborder-radius: ${space[1]}px;\n\tz-index: 1;\n\tpadding: 0 ${space[1]}px 0 0;\n\tbox-shadow: 0px 2px ${space[2]}px rgba(0, 0, 0, 0.5);\n\n\t> svg {\n\t\tfill: ${success[400]};\n\t}\n`;\nconst shareIconStyles = (useBrandColour, brandPalette) => css `\n\tdisplay: inline-flex;\n\tmargin-right: ${space[2]}px;\n\tborder-radius: 50%;\n\tborder: 1px solid\n\t\t${useBrandColour ? brandPalette.text.articleLink : brand[500]};\n\tbox-sizing: border-box;\n\tfill: ${useBrandColour ? brandPalette.text.articleLink : brand[500]};\n\tpadding: 0.5px 0;\n`;\nexport const CalloutShare = ({ title, urlAnchor, useBrandColour, format, }) => {\n    const [isCopied, setIsCopied] = useState(false);\n    const brandPalette = decidePalette(format);\n    const onShare = async () => {\n        const url = window.location.href;\n        if ('share' in navigator &&\n            /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {\n            let shareTitle = `Share your experience`;\n            if (title)\n                shareTitle += `: ${title}`;\n            const shareText = `\n\t\t\tI saw this callout in an article: ${url}#${urlAnchor}\n\t\t\tYou can share your story by using the form on this article, or by contacting the Guardian on WhatsApp, Signal or Telegram.`;\n            await navigator.share({\n                title: shareTitle,\n                text: shareText,\n            });\n            setIsCopied(true);\n            setTimeout(() => setIsCopied(false), 3000);\n        }\n        else if ('clipboard' in navigator) {\n            await navigator.clipboard.writeText(`${url}#${urlAnchor}`);\n            setIsCopied(true);\n            setTimeout(() => setIsCopied(false), 3000);\n        }\n    };\n    if (typeof window === 'undefined' || typeof navigator === 'undefined')\n        return _jsx(_Fragment, {});\n    return (_jsx(_Fragment, { children: _jsxs(\"div\", { css: shareCalloutStyles, children: [_jsx(\"span\", { css: shareIconStyles(useBrandColour, brandPalette), children: _jsx(SvgShare, { size: \"small\" }) }), _jsxs(\"div\", { css: shareCalloutTextStyles, children: [\"Know others who are affected?\", ' ', _jsx(Button, { size: \"xsmall\", priority: \"subdued\", onClick: onShare, cssOverrides: shareCalloutLinkStyles(useBrandColour, brandPalette), children: \"Please share this callout.\" }), isCopied && (_jsxs(\"span\", { css: sharePopupStyles, role: \"alert\", children: [_jsx(SvgTickRound, { size: \"medium\" }), \"Link copied to clipboard\"] }))] })] }) }));\n};\nconst termsAndConditionsStyles = css `\n\t${calloutLinkStyles}\n\t${textSans.small()}\n\tpadding-bottom: ${space[4]}px;\n`;\nexport const CalloutTermsAndConditions = () => (_jsxs(\"div\", { css: termsAndConditionsStyles, children: [\"Your responses, which can be anonymous, are secure as the form is encrypted and only the Guardian has access to your contributions. We will only use the data you provide us for the purpose of the feature and we will delete any personal data when we no longer require it for this purpose. For true anonymity please use our\", ' ', _jsx(\"a\", { \"data-ignore\": \"global-link-styling\", href: \"https://www.theguardian.com/securedrop\", children: \"SecureDrop\" }), ' ', \"service instead.\"] }));\n","import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nimport { css } from '@emotion/react';\nimport { headline, palette, space, success, textSans, } from '@guardian/source-foundations';\nimport { Button, SvgTickRound } from '@guardian/source-react-components';\nimport { ErrorSummary } from '@guardian/source-react-components-development-kitchen';\nimport { useState } from 'react';\nimport { CalloutTermsAndConditions } from './CalloutComponents';\nimport { FormField } from './FormField';\nconst textStyles = css `\n\t${textSans.xsmall()};\n\tpadding-bottom: 16px;\n`;\nconst successStyles = css `\n\t${textSans.xsmall()};\n\tpadding-bottom: 44px;\n`;\nconst tickBoxStyles = css `\n\tfill: ${success[400]};\n\twidth: 48px;\n`;\nconst errorTextStyles = css `\n\tcolor: ${palette.error[400]};\n\t${textSans.medium({ fontWeight: 'bold' })};\n\tdisplay: flex;\n`;\nconst formStyles = css `\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: space-between;\n`;\nconst formFieldWrapperStyles = (hidden) => css `\n\tdisplay: flex;\n\tflex-direction: column;\n\tmargin-bottom: ${hidden ? 0 : space[4]}px;\n`;\nconst submitButtonStyles = css `\n\tmargin: 20px 0px;\n\twidth: 100%;\n\tdisplay: block;\n`;\nconst footerPaddingStyles = css `\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: space-between;\n\tpadding-bottom: ${space[4]}px;\n`;\nexport const Form = ({ formFields, submissionURL, formID, pageId, }) => {\n    const [formData, setFormData] = useState({});\n    const [validationErrors, setValidationErrors] = useState({});\n    const [networkError, setNetworkError] = useState('');\n    const [submissionSuccess, setSubmissionSuccess] = useState(false);\n    const [twitterHandle, setTwitterHandle] = useState('');\n    const setFieldInFormData = (id, data) => {\n        const currentErrors = validationErrors;\n        currentErrors[id] = '';\n        setValidationErrors(currentErrors);\n        setFormData({\n            ...formData,\n            [id]: data,\n        });\n    };\n    const validateForm = () => {\n        const errors = {};\n        let isValid = true;\n        formFields.forEach((field) => {\n            if (field.required && !formData[field.id]) {\n                errors[field.id] = 'This field is required';\n                isValid = false;\n            }\n            if (field.type === 'select' && field.required) {\n                if (formData[field.id] === 'Please choose an option') {\n                    errors[field.id] =\n                        'Please choose an option from the dropdown menu';\n                }\n            }\n            if (field.id === 'email' && formData[field.id]) {\n                const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n                if (!emailRegex.test(formData[field.id])) {\n                    errors[field.id] = 'Please enter a valid email address';\n                    isValid = false;\n                }\n            }\n            if (['number', 'phone'].includes(field.type) &&\n                formData[field.id]) {\n                const numberRegex = /^[\\d ()+-]+$/;\n                if (!numberRegex.test(formData[field.id])) {\n                    errors[field.id] = 'Please enter a valid number';\n                    isValid = false;\n                }\n                const noWhiteSpace = formData[field.id];\n                if (noWhiteSpace.length < 10) {\n                    errors[field.id] = 'Please include your dialling/area code';\n                    isValid = false;\n                }\n            }\n            return isValid;\n        });\n        setValidationErrors(errors);\n        return Object.keys(errors).length === 0;\n    };\n    const cleanFormData = (data) => {\n        if (Array.isArray(data)) {\n            return data.join('\\n');\n        }\n        return data;\n    };\n    const submitForm = async (form) => {\n        setNetworkError('');\n        if (formData.twitterHandle) {\n            setNetworkError('Sorry we think you are a robot.');\n            return;\n        }\n        // need to add prefix `field_` to all keys in form, required by formstack\n        const formDataWithFieldPrefix = Object.keys(formData).reduce((acc, cur) => ({\n            ...acc,\n            [`field_${cur}`]: cleanFormData(form[cur]),\n        }), {});\n        return fetch(submissionURL, {\n            method: 'POST',\n            body: JSON.stringify({\n                formId: formID,\n                ...formDataWithFieldPrefix,\n            }),\n            headers: {\n                'Content-Type': 'application/x-www-form-urlencoded',\n            },\n        })\n            .then((resp) => {\n            if (resp.status === 201) {\n                setSubmissionSuccess(true);\n            }\n            else {\n                setNetworkError('Sorry, there was a problem submitting your form. Please try again later.');\n            }\n        })\n            .catch((respError) => {\n            window.guardian.modules.sentry.reportError(respError, 'callout-embed-submission');\n            setNetworkError('Sorry, there was a problem submitting your form. Please try again later.');\n        });\n    };\n    if (submissionSuccess) {\n        return (_jsxs(_Fragment, { children: [_jsx(\"div\", { css: tickBoxStyles, children: _jsx(SvgTickRound, {}) }), _jsx(\"div\", { css: css `\n\t\t\t\t\t\t${headline.xxsmall({ fontWeight: 'bold' })}\n\t\t\t\t\t`, children: \"Thank you!\" }), _jsx(\"div\", { css: successStyles, children: \"Your story has been submitted successfully. One of our journalists will be in touch if we wish to take your submission further.\" })] }));\n    }\n    return (_jsxs(_Fragment, { children: [_jsx(CalloutTermsAndConditions, {}), _jsxs(\"form\", { action: \"/formstack-campaign/submit\", method: \"post\", css: formStyles, noValidate: true, onSubmit: (e) => {\n                    e.preventDefault();\n                    const isValid = validateForm();\n                    if (!isValid) {\n                        const firstInvalidFormElement = document.querySelectorAll(':invalid')[1];\n                        firstInvalidFormElement.focus();\n                        return;\n                    }\n                    void submitForm(formData);\n                }, children: [Object.values(validationErrors).filter((err) => err !== '')\n                        .length > 0 && (_jsx(ErrorSummary, { message: \"Some information is missing.\", context: \"Please complete all required fields.\", cssOverrides: css `\n\t\t\t\t\t\t\twidth: fit-content;\n\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\tmargin-bottom: ${space[4]}px;\n\t\t\t\t\t\t` })), formFields.map((formField) => {\n                        return (_jsx(\"div\", { css: formFieldWrapperStyles(!!formField.hidden), children: _jsx(FormField, { formField: formField, formData: formData, setFieldInFormData: setFieldInFormData, validationErrors: validationErrors, pageId: pageId }) }, formField.id));\n                    }), _jsx(\"div\", { css: textStyles, children: \"By submitting your response, you are agreeing to share your details with us for this feature.\" }), _jsx(\"div\", { css: css `\n\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\tleft: -62.5rem;\n\t\t\t\t\t`, \"aria-hidden\": \"true\", children: _jsx(\"input\", { name: \"twitter-handle\", type: \"text\", id: \"twitter-handle\", tabIndex: -1, placeholder: \"@mytwitterhandle\", value: twitterHandle, onChange: (e) => setTwitterHandle(e.target.value) }) }), !!networkError && (_jsx(\"div\", { css: errorTextStyles, children: networkError })), _jsx(\"div\", { css: footerPaddingStyles, children: _jsx(Button, { priority: \"primary\", type: \"submit\", cssOverrides: submitButtonStyles, children: \"Submit\" }) })] })] }));\n};\n","import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nimport { css } from '@emotion/react';\nimport { space, textSans } from '@guardian/source-foundations';\nimport { LinkButton, SvgSignalBrand, SvgTelegramBrand, SvgWhatsAppBrand, } from '@guardian/source-react-components';\nimport { calloutLinkStyles } from './CalloutComponents';\nconst calloutPrimaryButtonStyles = css `\n\twidth: 100%;\n\tjustify-content: center;\n\tmargin-top: ${space[4]}px;\n\n\t:last-of-type {\n\t\tmargin-bottom: ${space[6]}px;\n\t}\n`;\nconst infoStyles = css `\n\t${calloutLinkStyles}\n\tmargin-bottom: ${space[2]}px;\n\t${textSans.xsmall()};\n`;\nexport const formatContactType = (s) => s.toLowerCase() === 'whatsapp'\n    ? 'WhatsApp'\n    : s.charAt(0).toUpperCase() + s.slice(1);\nexport const conditionallyRenderContactIcon = (name) => {\n    switch (name.toLowerCase()) {\n        case 'whatsapp':\n            return _jsx(SvgWhatsAppBrand, { size: \"small\" });\n        case 'signal':\n            return _jsx(SvgSignalBrand, { size: \"small\" });\n        case 'telegram':\n            return _jsx(SvgTelegramBrand, { size: \"small\" });\n        default:\n            return _jsx(_Fragment, {});\n    }\n};\nexport const formatContactNumbers = (contacts) => {\n    const contactNumbers = new Map();\n    // Group each contact by its value, so we can display multiple names for the same number.\n    contacts.forEach(({ name, value }) => {\n        if (!contactNumbers.has(value))\n            contactNumbers.set(value, []);\n        contactNumbers.get(value)?.push(name);\n    });\n    // Join the names for each number together,\n    // and then join all the numbers together into a readable string.\n    return [...contactNumbers.entries()].reduce((acc, [value, names], index) => {\n        const namesString = names\n            .map((name) => formatContactType(name))\n            .join(' or ');\n        return (acc + (index === 0 ? '' : ' or ') + `${namesString} at ${value}`);\n    }, 'Contact us on ');\n};\nconst Disclaimer = ({ contacts }) => {\n    const contactText = (_jsxs(\"p\", { css: infoStyles, children: [formatContactNumbers(contacts), \".\"] }));\n    // If any of the contacts have guidance, display it in a readable string.\n    const guidanceText = (_jsxs(\"span\", { children: [\"For more information, please see our guidance on\", ' ', contacts.map((contact, i) => contact.guidance && (_jsxs(_Fragment, { children: [_jsxs(\"a\", { href: contact.guidance, \"data-ignore\": \"global-link-styling\", children: [\"contacting us via\", ' ', formatContactType(contact.name)] }, i), i === contacts.length - 1 ? '.' : ', '] })))] }));\n    const secureDropText = (_jsxs(\"span\", { children: [\"For true anonymity please use our\", ' ', _jsx(\"a\", { href: \"https://www.theguardian.com/securedrop\", \"data-ignore\": \"global-link-styling\", children: \"SecureDrop\" }), ' ', \"service instead.\"] }));\n    return (_jsxs(_Fragment, { children: [contactText, _jsxs(\"p\", { css: infoStyles, children: [contacts.some((c) => !!c.guidance) && guidanceText, ' ', secureDropText] })] }));\n};\nconst MessageUs = ({ contacts }) => {\n    return (_jsxs(\"div\", { className: \"js-message-us-tab\", children: [_jsx(Disclaimer, { contacts: contacts }), contacts.map((contact, i) => !!contact.urlPrefix && !!contact.value ? (_jsxs(LinkButton, { \"data-ignore\": \"global-link-styling\", css: calloutPrimaryButtonStyles, type: \"submit\", priority: \"primary\", href: `${contact.urlPrefix}${contact.value}`, target: \"_blank\", rel: \"noreferrer\", icon: conditionallyRenderContactIcon(contact.name), children: [\"Message us on \", formatContactType(contact.name)] }, i)) : (_jsx(_Fragment, {})))] }));\n};\nexport { MessageUs };\n","import { jsx as _jsx, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nimport { css } from '@emotion/react';\nimport { brand, headline, neutral, space } from '@guardian/source-foundations';\nimport { Tabs } from '@guardian/source-react-components-development-kitchen';\nimport { useState } from 'react';\nimport { CalloutDescription, CalloutShare } from './CalloutComponents';\nimport { Form } from './Form';\nimport { conditionallyRenderContactIcon, MessageUs } from './MessageUs';\nconst summaryContentWrapper = (isNonCollapsible) => css `\n\tvisibility: visible;\n\tpadding-top: 2px;\n\tpadding-bottom: ${space[6]}px;\n\tpadding-left: ${isNonCollapsible ? 0 : space[2]}px;\n\tpadding-right: ${isNonCollapsible ? 0 : space[2]}px;\n`;\nconst promptStyles = (isNonCollapsible) => css `\n\t${headline.xxsmall({ fontWeight: 'bold' })};\n\tcolor: ${isNonCollapsible ? neutral[7] : brand[500]};\n`;\nconst subtitleTextHeaderStyles = css `\n\t${headline.xxsmall()}\n\tpadding-bottom: ${space[3]}px;\n`;\nconst tabTitle = css `\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\talign-items: center;\n\tjustify-content: center;\n`;\nconst tabIcons = css `\n\tpadding-left: ${space[1]}px;\n\tdisplay: flex;\n\talign-items: center;\n`;\nexport const CalloutBlock = ({ prompt, heading, description, formFields, formId, submissionURL, isNonCollapsible, contacts, pageId, format, }) => {\n    const [selectedTab, setSelectedTab] = useState('form');\n    const shouldShowContacts = contacts && contacts.length > 0;\n    const shouldShowHeading = !!heading && !isNonCollapsible;\n    const tabsContent = [\n        {\n            id: 'form',\n            text: _jsx(\"div\", { children: \"Tell us here\" }),\n            content: (_jsx(Form, { formFields: formFields, submissionURL: submissionURL, formID: formId, pageId: pageId })),\n        },\n    ];\n    if (shouldShowContacts) {\n        const tabsText = (_jsxs(\"div\", { css: tabTitle, children: [_jsx(\"div\", { children: \"Message us\" }), _jsx(\"div\", { css: tabIcons, children: contacts.map((c) => conditionallyRenderContactIcon(c.name)) })] }));\n        tabsContent.push({\n            id: 'contact',\n            text: tabsText,\n            content: _jsx(MessageUs, { contacts: contacts }),\n        });\n    }\n    return (_jsxs(\"div\", { id: formId, children: [_jsxs(\"div\", { css: summaryContentWrapper(isNonCollapsible), children: [!!prompt && (_jsx(\"div\", { css: promptStyles(isNonCollapsible), children: prompt })), shouldShowHeading && (_jsx(\"h4\", { css: subtitleTextHeaderStyles, children: heading })), !!description && (_jsx(CalloutDescription, { description: description, useBrandColour: isNonCollapsible })), _jsx(CalloutShare, { title: heading, urlAnchor: formId, useBrandColour: isNonCollapsible, format: format })] }), _jsx(Tabs, { tabsLabel: \"Tell us via online form or message us using your phone\", tabElement: \"button\", tabs: tabsContent, selectedTab: selectedTab, onTabChange: (tabName) => {\n                    setSelectedTab(tabName);\n                } })] }));\n};\n","import { jsx as _jsx, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nimport { css } from '@emotion/react';\nimport { palette, textSans, space } from '@guardian/source-foundations';\nimport { SvgClock } from '@guardian/source-react-components';\nconst deadlineStyles = css `\n\t${textSans.xxsmall()};\n\tbackground-color: ${palette.brandAlt[400]};\n\tright: 0;\n\tdisplay: flex;\n\talign-items: center;\n\tpadding-right: ${space[1]}px;\n`;\nfunction getDaysBetween(first, second) {\n    const ONE_DAY = 1000 * 3600 * 24;\n    return (second.getTime() - first.getTime()) / ONE_DAY;\n}\nconst getDeadlineText = (date1, date2) => {\n    const maxDays = 7;\n    const daysBetween = getDaysBetween(date1, date2);\n    if (daysBetween <= 0 || daysBetween > maxDays)\n        return;\n    if (daysBetween <= 1)\n        return 'Closing today';\n    if (Math.round(daysBetween) === 1)\n        return 'Open for 1 more day';\n    return `Open for ${Math.round(daysBetween)} more days`;\n};\nfunction formatOptionalDate(date) {\n    if (date === undefined)\n        return undefined;\n    return new Date(date * 1000);\n}\nexport const Deadline = ({ until }) => {\n    const untilDate = formatOptionalDate(until);\n    if (!untilDate)\n        return null;\n    const now = new Date();\n    const deadlineText = getDeadlineText(now, untilDate);\n    if (!deadlineText)\n        return null;\n    return (_jsxs(\"span\", { css: deadlineStyles, children: [_jsx(SvgClock, { size: \"xsmall\" }), deadlineText] }));\n};\n","import { jsx as _jsx, Fragment as _Fragment } from \"@emotion/react/jsx-runtime\";\nimport { css } from '@emotion/react';\nimport { palette } from '@guardian/source-foundations';\nimport { ExpandingWrapper } from '@guardian/source-react-components-development-kitchen';\nimport { CalloutBlock } from './Callout/Callout';\nimport { CalloutExpired } from './Callout/CalloutComponents';\nimport { Deadline } from './Callout/Deadline';\nconst collapsibleCalloutStyle = css `\n\tbackground-color: ${palette.neutral[97]};\n`;\n/**\n * # Callout Block Component\n *\n * A callout to readers to share their stories.\n * This is the updated version of the CalloutEmbedBlockComponent.\n *\n * ## Why does this need to be an Island?\n *\n * We are responding to user interactions on the page,\n * and submitting a form.\n *\n */\nexport const CalloutBlockComponent = ({ callout, pageId, format, }) => {\n    const { prompt, title, description, formFields, activeUntil, calloutsUrl, formId, isNonCollapsible, contacts, } = callout;\n    const isExpired = (date) => {\n        if (date !== undefined) {\n            return Math.floor(new Date().getTime() / 1000) > date;\n        }\n        return false;\n    };\n    if (!isNonCollapsible && isExpired(activeUntil)) {\n        return null;\n    }\n    if (isNonCollapsible && isExpired(activeUntil)) {\n        return _jsx(CalloutExpired, {});\n    }\n    const id = formId.toString();\n    return (_jsx(_Fragment, { children: !isNonCollapsible ? (_jsx(\"aside\", { children: _jsx(ExpandingWrapper, { name: `${callout.formId} form`, renderExtra: () => _jsx(Deadline, { until: activeUntil }), collapsedHeight: '160px', children: _jsx(\"div\", { css: collapsibleCalloutStyle, children: _jsx(CalloutBlock, { formId: id, prompt: prompt, heading: title, description: description, formFields: formFields, submissionURL: calloutsUrl, isExpired: isExpired(activeUntil), isNonCollapsible: isNonCollapsible, contacts: contacts, pageId: pageId, format: format }) }) }) })) : (_jsx(CalloutBlock, { formId: id, prompt: prompt, heading: title, description: description, formFields: formFields, submissionURL: calloutsUrl, isExpired: isExpired(activeUntil), isNonCollapsible: isNonCollapsible, contacts: contacts, pageId: pageId, format: format })) }));\n};\n"],"names":["FormField","formField","formData","setFieldInFormData","pageId","validationErrors","type","label","hideLabel","description","required","id","name","fieldValue","fieldError","firstUpdate","useRef","useEffect","current","hidden","_jsx","TextInput","supporting","optional","value","error","onChange","e","target","TextArea","FileInput","onUpload","file","Select","children","concat","options","map","formLabel","Option","CheckboxGroup","undefined","option","selectedCheckboxesArray","isCheckboxChecked","find","ele","Checkbox","checked","filter","RadioGroup","orientation","length","index","Radio","linkDecorationColour","calloutLinkStyles","css","brand","descriptionStyles","useBrandColour","space","body","CalloutDescription","withDataIgnore","split","join","_jsxs","dangerouslySetInnerHTML","__html","href","expiredStyles","textSans","palette","CalloutExpired","shareCalloutStyles","shareCalloutTextStyles","shareCalloutLinkStyles","brandPalette","text","articleLink","border","articleLinkHover","sharePopupStyles","neutral","success","shareIconStyles","CalloutShare","title","urlAnchor","format","useState","isCopied","setIsCopied","decidePalette","onShare","url","window","location","navigator","test","userAgent","shareTitle","shareText","share","setTimeout","clipboard","writeText","_Fragment","SvgShare","size","Button","priority","onClick","cssOverrides","role","SvgTickRound","termsAndConditionsStyles","CalloutTermsAndConditions","textStyles","successStyles","tickBoxStyles","errorTextStyles","fontWeight","formStyles","submitButtonStyles","footerPaddingStyles","Form","formFields","submissionURL","formID","setFormData","setValidationErrors","networkError","setNetworkError","submissionSuccess","setSubmissionSuccess","twitterHandle","setTwitterHandle","data","currentErrors","submitForm","form","formDataWithFieldPrefix","Object","keys","reduce","acc","cur","Array","isArray","fetch","method","JSON","stringify","formId","headers","then","resp","status","catch","respError","guardian","modules","sentry","reportError","headline","action","noValidate","onSubmit","errors","isValid","preventDefault","forEach","field","includes","document","querySelectorAll","focus","values","err","ErrorSummary","message","context","tabIndex","placeholder","calloutPrimaryButtonStyles","infoStyles","formatContactType","s","toLowerCase","charAt","toUpperCase","slice","conditionallyRenderContactIcon","SvgWhatsAppBrand","SvgSignalBrand","SvgTelegramBrand","formatContactNumbers","contacts","contactNumbers","Map","has","set","get","push","entries","namesString","Disclaimer","contactText","guidanceText","contact","i","guidance","secureDropText","some","c","MessageUs","className","urlPrefix","LinkButton","rel","icon","summaryContentWrapper","isNonCollapsible","promptStyles","subtitleTextHeaderStyles","tabTitle","tabIcons","CalloutBlock","prompt","heading","selectedTab","setSelectedTab","shouldShowContacts","shouldShowHeading","tabsContent","content","tabsText","Tabs","tabsLabel","tabElement","tabs","onTabChange","tabName","deadlineStyles","Deadline","untilDate","date","Date","formatOptionalDate","until","deadlineText","date1","date2","first","daysBetween","getTime","Math","round","getDeadlineText","SvgClock","collapsibleCalloutStyle","CalloutBlockComponent","callout","activeUntil","calloutsUrl","isExpired","floor","toString","ExpandingWrapper","renderExtra","collapsedHeight"],"sourceRoot":""}