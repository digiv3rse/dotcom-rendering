(self.webpackChunk_guardian_dotcom_rendering=self.webpackChunk_guardian_dotcom_rendering||[]).push([[8730],{9123:(e,n,t)=>{"use strict";t.d(n,{A:()=>r});var r=function(e){return Object.keys(e).map((function(n){var t=e[n],r=Array.isArray(t)?t.map((function(e){return encodeURIComponent(e)})).join(","):encodeURIComponent(t);return"".concat(n,"=").concat(r)})).join("&")}},1489:(e,n,t)=>{"use strict";t.r(n),t.d(n,{ReaderRevenueLinks:()=>A});var r=t(4649),o=t(5809),i=t(7800),a=t(43),c=t(4857),s=t(5246),u=t(2933),d=t(9525),l=t(7162),p=t(2522),f=t(1846),m=t(3904),g=t(3698),v=t.n(g),h=t(3203),b=t(2376),w=t(9175),x=t(6358),I=t(8576),y=t(9213),S=t(3287);function j(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function R(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?j(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):j(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var C=(0,a.css)("padding-top:39px;padding-left:10px;max-width:310px;",s.Dp.mobileMedium,"{padding-top:44px;}",s.Dp.mobileLandscape,"{padding-left:",u.D[5],"px;}",s.Dp.tablet,"{padding-top:",u.D[1],"px;padding-bottom:",u.D[5],"px;padding-left:",u.D[5],"px;max-width:340px;}",s.Dp.desktop,"{max-width:none;}"),O=function(e){return(0,a.css)("color:",d.A5[400],";",l.Se.xxsmall({fontWeight:"bold"}),";padding-top:3px;margin-bottom:3px;",s.Dp.desktop,"{",l.Se.xsmall({fontWeight:"bold"}),";}",s.Dp.leftCol,"{",e?l.Se.small({fontWeight:"bold"}):l.Se.medium({fontWeight:"bold"}),";}")},_=(0,a.css)("background:",d.A5[400],";border-radius:16px;box-sizing:border-box;color:",d.n$[7],";float:left;",l.OS.small(),";font-weight:700;height:32px;text-decoration:none;padding:6px 12px 0 12px;line-height:18px;position:relative;margin-right:10px;margin-bottom:6px;",s.Dp.mobileMedium,"{padding-right:34px;}svg{fill:currentColor;position:absolute;right:3px;top:50%;height:32px;width:32px;transform:translate(0, -50%);transition:transform 0.3s ease-in-out;",s.C4.mobileMedium,"{display:none;}}:hover svg{transform:translate(3px, -50%);}"),D={name:"eivff4",styles:"display:none"},U=(0,a.css)(s.C4.tablet,"{display:none;}"),E=(0,a.css)(s.Dp.tablet,"{display:none;}"),k=(0,a.css)("color:",p.zb.primary,";",l.OS.medium(),";margin:5px 0;"),P=function(e){var n=e.countryCode,t=e.pageViewId,r=e.contributionsServiceUrl,a=e.ophanRecord,s=(0,m.useState)(null),u=(0,o.Z)(s,2),d=u[0],l=u[1],p=(0,m.useState)(null),g=(0,o.Z)(p,2),v=g[0],b=g[1];return(0,S.t)((function(){(0,I.R)();var e=!!(0,c.e)({name:"GU_U",shouldMemoize:!0}),o={tracking:{ophanPageId:t,platformId:"GUARDIAN_WEB",referrerUrl:window.location.origin+window.location.pathname,clientName:"dcr"},targeting:{showSupportMessaging:!(0,w.S9)(),countryCode:n,modulesVersion:w.BQ,mvtId:Number((0,c.e)({name:"GU_mvt_id",shouldMemoize:!0})),lastOneOffContributionDate:(0,w.tq)(),purchaseInfo:(0,w.cs)(),isSignedIn:e}};(0,f.Pg)(r,o).then((function(e){if(!e.data)return null;var n=e.data.module;return l(n),window.guardianPolyfilledImport(n.url).then((function(e){b((function(){var t;return null!==(t=e[n.name])&&void 0!==t?t:null}))}))})).catch((function(e){var n="Error importing RR header links: ".concat(String(e));console.log(n),window.guardian.modules.sentry.reportError(new Error(n),"rr-header-links")}))}),[n]),null!==v&&d?(0,i.jsx)("div",{css:C,children:(0,i.jsx)(v,R({submitComponentEvent:function(e){return(0,h.X4)(e,a)}},d.props))}):null},T=function(e){var n=e.editionId,t=e.dataLinkNamePrefix,r=e.inHeader,a=e.urls,c=e.ophanRecord,s=e.pageViewId,u=(0,w.S9)(),d=r?"RRHeaderLinks":"RRFooterLinks",l="".concat(d,"_control"),p={abTestName:d,abTestVariant:"control",componentType:r?"ACQUISITIONS_HEADER":"ACQUISITIONS_FOOTER",campaignCode:l},f=(0,y.O)({threshold:0,debounce:!0}),g=(0,o.Z)(f,2),x=g[0],I=g[1];(0,m.useEffect)((function(){!u&&r&&(0,h.n2)("INSERT",p,c)}),[]),(0,m.useEffect)((function(){x&&r&&(0,h.n2)("VIEW",p,c)}),[x]);var S=function(e){return r?(0,b.y)({base:"https://support.theguardian.com/".concat(e),componentType:"ACQUISITIONS_HEADER",componentId:l,campaignCode:l,abTest:{name:d,variant:"control"},pageViewId:s,referrerUrl:window.location.origin+window.location.pathname}):a[e]};if(u)return(0,i.jsx)("div",{css:r&&C,children:(0,i.jsxs)("div",{css:r&&U,children:[(0,i.jsx)("div",{css:O(!0),children:" Thank you "}),(0,i.jsx)("div",{css:k,children:"Your support powers our independent journalism"})]})});var j=function(){return(0,i.jsxs)("a",{css:_,href:S("contribute"),"data-link-name":"".concat(t,"contribute-cta"),children:["Contribute ",(0,i.jsx)(v(),{})]})},R=function(){return(0,i.jsxs)("a",{css:_,href:S("subscribe"),"data-link-name":"".concat(t,"subscribe-cta"),children:["Subscribe ",(0,i.jsx)(v(),{})]})},P="UK"===n?R:j,T="UK"===n?j:R;return(0,i.jsxs)("div",{ref:I,css:r&&C,children:[(0,i.jsxs)("div",{css:r&&U,children:[(0,i.jsx)("div",{css:O(!1),children:(0,i.jsx)("span",{children:"Support theÂ Guardian"})}),(0,i.jsx)("div",{css:k,children:(0,i.jsx)("div",{children:"Available for everyone, funded by readers"})}),r?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(P,{}),(0,i.jsx)(T,{})]}):(0,i.jsx)((function(){return(0,i.jsxs)("a",{css:_,href:S("contribute"),"data-link-name":"".concat(t,"subscribe-cta"),children:["Support us ",(0,i.jsx)(v(),{})]})}),{})]}),(0,i.jsx)("div",{css:r?E:D,children:(0,i.jsx)(P,{})})]})},A=function(e){var n=e.editionId,t=e.dataLinkNamePrefix,r=e.inHeader,a=e.remoteHeader,c=e.urls,s=e.contributionsServiceUrl,u=(0,m.useState)(),d=(0,o.Z)(u,2),l=d[0],p=d[1],f=window.guardian.config.ophan.pageViewId,g=(0,h.ZL)();return(0,m.useEffect)((function(){(0,x.A)().then((function(e){p(null!=e?e:"")})).catch((function(e){return console.error("countryCodePromise - error: ".concat(String(e)))}))}),[]),l?r&&a?(0,i.jsx)(P,{countryCode:l,pageViewId:f,contributionsServiceUrl:s,ophanRecord:g}):(0,i.jsx)(T,{editionId:n,dataLinkNamePrefix:t,inHeader:r,urls:c,ophanRecord:g,pageViewId:f}):null}},2376:(e,n,t)=>{"use strict";t.d(n,{y:()=>o});var r=t(9123),o=function(e){var n=e.base,t=e.componentType,o=e.componentId,i=e.campaignCode,a=e.abTest,c=e.pageViewId,s=e.referrerUrl;if(n.search(/(support.theguardian.com)(\/[a-z]*)?\/(contribute|subscribe)/)>=0){var u={source:"GUARDIAN_WEB",componentId:o,componentType:t,campaignCode:i,abTest:a,referrerPageviewId:c,referrerUrl:s},d={REFPVID:c,INTCMP:i,acquisitionData:JSON.stringify(u)};return"".concat(n).concat(n.includes("?")?"&":"?").concat((0,r.A)(d))}return n}},9175:(e,n,t)=>{"use strict";t.d(n,{Am:()=>_,BQ:()=>b,C6:()=>p,CC:()=>v,G9:()=>O,H2:()=>U,K3:()=>m,Pl:()=>E,S9:()=>j,T0:()=>x,Ty:()=>f,ZD:()=>k,cs:()=>T,nh:()=>P,qQ:()=>I,qw:()=>D,tq:()=>y,y0:()=>g});var r=t(5809),o=t(7791),i=t(824),a=t.n(i),c=t(5226),s=t(4857),u=t(3904),d=t(2516),l=t(3287),p="gu_hide_support_messaging",f="gu_recurring_contributor",m="gu.contributions.recurring.contrib-timestamp.Monthly",g="gu.contributions.recurring.contrib-timestamp.Annual",v="gu.contributions.contrib-timestamp",h="gu.noRRBannerTimestamp",b="v3",w=function(){return!("true"===(0,s.e)({name:p}))},x=function(e){var n="true"===(0,s.e)({name:f}),t=null!==(0,s.e)({name:m,shouldMemoize:!0}),r=null!==(0,s.e)({name:g,shouldMemoize:!0});return e&&(n||t||r)},I=function(){var e=(0,s.e)({name:"gu_one_off_contribution_date"}),n=(0,s.e)({name:v});if(e||n){var t=e?Date.parse(e):0,r=n?parseInt(n,10):0;return t>r?t:r||void 0}},y=function(){var e=I();if(void 0!==e){var n=new Date(e),t=n.getFullYear(),r=(n.getMonth()+1).toString().padStart(2,"0"),o=n.getDate().toString().padStart(2,"0");return"".concat(t,"-").concat(r,"-").concat(o)}},S=function(){var e,n=I();return void 0!==n&&(e=Date.now()-n,Math.floor(e/864e5)<=90)},j=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!w()||x(e)||S()},R=[1,3,7],C=[1,3,5,7],O=function(){return new Promise((function(e){(0,s.e)({name:"gu-cmp-disabled",shouldMemoize:!0})&&e(!0),(0,c.onConsentChange)((function(n){var t=n.ccpa,r=n.tcfv2,o=n.aus;if(t||o)e(!0);else if(r){var i=R.every((function(e){return r.consents[e]}));i||(window.localStorage.removeItem("gu.history.dailyArticleCount"),window.localStorage.removeItem("gu.history.weeklyArticleCount")),e(i)}}))}))},_=function(){var e=(0,o.Z)(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:return n=e.sent,e.abrupt("return",!n||null!==(0,s.e)({name:"gu_article_count_opt_out"}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=(0,u.useState)("Pending"),n=(0,r.Z)(e,2),t=n[0],o=n[1];return(0,l.t)((function(){_().then(o).catch((function(){return o(!0)}))}),[]),t},U=function(){return new Promise((function(e){(0,s.e)({name:"gu-cmp-disabled",shouldMemoize:!0})&&e(!0),(0,c.onConsentChange)((function(n){var t=n.ccpa,r=n.tcfv2,o=n.aus;if(t||o)e(!0);else if(r){var i=C.every((function(e){return r.consents[e]}));e(i)}}))}))},E=function(){var e=window.localStorage.getItem(h);if(e&&!Number.isNaN(parseInt(e,10))){var n=parseInt(e,10)+12e5>Date.now();return n||window.localStorage.removeItem(h),n}return!1},k=function(){return window.localStorage.setItem(h,"".concat(Date.now()))},P=function(e){return function(){return new Promise((function(n){var t;setTimeout((function(){return n(null)}),1e3),(t=e,(0,d._)(t).then((function(e){var n;return null===(n=e.user)||void 0===n?void 0:n.primaryEmailAddress})).catch((function(e){window.guardian.modules.sentry.reportError(e,"getEmail")}))).then((function(e){n(e||null)}))}))}},T=function(){var e=(0,s.e)({name:"GU_CO_COMPLETE",shouldMemoize:!0});if(e){var n;try{n=JSON.parse(decodeURIComponent(e))}catch(e){}return n}}},2516:(e,n,t)=>{"use strict";t.d(n,{T:()=>s,_:()=>c});var r=t(3742);function o(e){if(!e.ok)throw Error(e.statusText||"getIdApiUserData | An api call returned HTTP status ".concat(e.status));return e}var i=function(e){return fetch(e,{credentials:"include"}).then(o).then((function(e){return e.json()}))},a={},c=function(e){if(!a.idapiUserMeResponse){var n=(0,r.p)(e,"user/me");a.idapiUserMeResponse=i(n)}return a.idapiUserMeResponse},s=function(e){if(!a.idapiUserIdentifiersResponse){var n=(0,r.p)(e,"user/me/identifiers");a.idapiUserIdentifiersResponse=i(n)}return a.idapiUserIdentifiersResponse}},8576:(e,n,t)=>{"use strict";t.d(n,{R:()=>c});var r=t(43),o=t(7800),i=t(3904),a=!1,c=function(){a||(window.guardian.automat={emotionReact:r,emotionReactJsxRuntime:o,react:i.default},a=!0)}},9213:(e,n,t)=>{"use strict";t.d(n,{O:()=>c});var r=t(5809),o=t(3198),i=t.n(o),a=t(3904),c=function(e){var n,t=(0,a.useState)(!1),o=(0,r.Z)(t,2),c=o[0],s=o[1],u=(0,a.useState)(null!==(n=e.node)&&void 0!==n?n:null),d=(0,r.Z)(u,2),l=d[0],p=d[1],f=(0,a.useRef)(null),m=function(n){var t=(0,r.Z)(n,1)[0];t&&(t.isIntersecting?s(!0):e.repeat&&s(!1))},g=e.debounce?i()(m,200):m;return(0,a.useEffect)((function(){return f.current&&f.current.disconnect(),window.IntersectionObserver&&(f.current=new window.IntersectionObserver(g,e),l&&f.current.observe(l)),function(){var e;return null===(e=f.current)||void 0===e?void 0:e.disconnect()}}),[l,e,g]),[c,p]}},3287:(e,n,t)=>{"use strict";t.d(n,{t:()=>i});var r=t(5809),o=t(3904),i=function(e,n){var t=(0,o.useState)(!1),i=(0,r.Z)(t,2),a=i[0],c=i[1],s=n.every((function(e){return void 0!==e}));(0,o.useEffect)((function(){!a&&s&&(e(),c(!0))}),[a,s,e])}},3698:(e,n,t)=>{e.exports={attributes:{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 30 30"},content:'<path d="M22.8 14.6l-7.6-7.6-.7.7 5.5 6.6h-14v1.5h14l-5.5 6.6.7.7 7.6-7.6v-.9"/>'};var r=t(5951);e.exports=r(e.exports)}}]);
//# sourceMappingURL=ReaderRevenueLinks-importable.legacy.33541eae4aa9874a789d.js.map