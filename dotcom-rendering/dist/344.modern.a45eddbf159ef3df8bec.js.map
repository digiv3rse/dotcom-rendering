{"version":3,"file":"344.modern.a45eddbf159ef3df8bec.js","mappings":"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","sources":["webpack://@guardian/dotcom-rendering/./src/static/icons/clock.svg","webpack://@guardian/dotcom-rendering/./src/web/components/Byline.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/CardHeadline.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/CardPicture.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/MediaMeta.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Snap.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/SupportingContent.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Card/components/AvatarContainer.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Card/components/CardAge.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Card/components/CardBranding.tsx","webpack://@guardian/dotcom-rendering/./src/web/lib/decideLogo.ts","webpack://@guardian/dotcom-rendering/./src/web/components/Card/components/CardFooter.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Card/components/CardLayout.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Card/components/CardLink.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Card/components/CardWrapper.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Card/components/ContentWrapper.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Card/components/HeadlineWrapper.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Card/components/PlayIcon.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Card/components/ImageWrapper.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Card/components/TrailTextWrapper.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Card/Card.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Card/components/LI.tsx","webpack://@guardian/dotcom-rendering/./src/web/lib/verticalDividerWithBottomOffset.ts","webpack://@guardian/dotcom-rendering/./src/web/components/Hide.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/PulsingDot.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Kicker.tsx","webpack://@guardian/dotcom-rendering/./src/static/icons/Star.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/StarRating/StarRating.tsx","webpack://@guardian/dotcom-rendering/./src/web/lib/getZIndex.tsx","webpack://@guardian/dotcom-rendering/./src/web/lib/useApi.tsx","webpack://@guardian/dotcom-rendering/./src/web/lib/verticalDivider.ts"],"sourcesContent":["\nmodule.exports = {\"attributes\":{\"width\":\"11\",\"height\":\"11\",\"viewBox\":\"0 0 11 11\"},\"content\":\"<path d=\\\"M5.4 0C2.4 0 0 2.4 0 5.4s2.4 5.4 5.4 5.4 5.4-2.4 5.4-5.4S8.4 0 5.4 0zm3 6.8H4.7V1.7h.7L6 5.4l2.4.6v.8z\\\"></path>\"}\nvar desvg = require('@kossnocorp/desvg/react')\nmodule.exports = desvg(module.exports)\n","import { css } from '@emotion/react';\nimport { ArticleSpecial } from '@guardian/libs';\nimport { headline, textSans, until } from '@guardian/source-foundations';\nimport type { DCRContainerPalette } from '../../types/front';\nimport type { Palette } from '../../types/palette';\nimport { decidePalette } from '../lib/decidePalette';\n\ntype Props = {\n\ttext: string;\n\tformat: ArticleFormat;\n\tcontainerPalette?: DCRContainerPalette;\n\tsize: SmallHeadlineSize;\n\tisCard?: boolean;\n};\n\nconst bylineStyles = (size: SmallHeadlineSize, format: ArticleFormat) => {\n\tconst baseStyles = css`\n\t\tdisplay: block;\n\t\tfont-style: italic;\n\t`;\n\n\tswitch (size) {\n\t\tcase 'ginormous':\n\t\tcase 'huge':\n\t\t\tif (format.theme === ArticleSpecial.Labs) {\n\t\t\t\treturn css`\n\t\t\t\t\t${baseStyles};\n\t\t\t\t\t${textSans.xlarge()};\n\t\t\t\t\tfont-size: 24px;\n\t\t\t\t\tline-height: 24px;\n\t\t\t\t\t${until.desktop} {\n\t\t\t\t\t\t${textSans.xlarge()};\n\t\t\t\t\t\tline-height: 20px;\n\t\t\t\t\t}\n\t\t\t\t`;\n\t\t\t}\n\t\t\treturn css`\n\t\t\t\t${baseStyles};\n\t\t\t\t${headline.small()};\n\t\t\t\t${until.desktop} {\n\t\t\t\t\t${headline.xsmall()};\n\t\t\t\t}\n\t\t\t`;\n\t\tcase 'large': {\n\t\t\tif (format.theme === ArticleSpecial.Labs) {\n\t\t\t\treturn css`\n\t\t\t\t\t${baseStyles};\n\t\t\t\t\t${textSans.large()};\n\t\t\t\t\tfont-size: 24px;\n\t\t\t\t\tline-height: 24px;\n\t\t\t\t\t${until.desktop} {\n\t\t\t\t\t\t${textSans.large()};\n\t\t\t\t\t\tline-height: 20px;\n\t\t\t\t\t}\n\t\t\t\t`;\n\t\t\t}\n\t\t\treturn css`\n\t\t\t\t${baseStyles};\n\t\t\t\t${headline.xsmall()};\n\t\t\t\t${until.desktop} {\n\t\t\t\t\t${headline.xxsmall()};\n\t\t\t\t}\n\t\t\t`;\n\t\t}\n\t\tcase 'medium': {\n\t\t\tif (format.theme === ArticleSpecial.Labs) {\n\t\t\t\treturn css`\n\t\t\t\t\t${baseStyles};\n\t\t\t\t\t${textSans.large()};\n\t\t\t\t\tline-height: 20px;\n\t\t\t\t\t${until.desktop} {\n\t\t\t\t\t\t${textSans.medium()};\n\t\t\t\t\t\tline-height: 18px;\n\t\t\t\t\t}\n\t\t\t\t`;\n\t\t\t}\n\t\t\treturn css`\n\t\t\t\t${baseStyles};\n\t\t\t\t${headline.xxsmall()};\n\t\t\t\t${until.desktop} {\n\t\t\t\t\t${headline.xxxsmall()};\n\t\t\t\t}\n\t\t\t`;\n\t\t}\n\t\tcase 'small': {\n\t\t\tif (format.theme === ArticleSpecial.Labs) {\n\t\t\t\treturn css`\n\t\t\t\t\t${baseStyles};\n\t\t\t\t\t${textSans.medium()};\n\t\t\t\t\tline-height: 18px;\n\t\t\t\t`;\n\t\t\t}\n\t\t\treturn css`\n\t\t\t\t${baseStyles};\n\t\t\t\t${headline.xxxsmall()};\n\t\t\t`;\n\t\t}\n\t\tdefault:\n\t\t\treturn css``;\n\t}\n};\n\nconst colourStyles = (palette: Palette, isCard: Props['isCard']) => {\n\treturn css`\n\t\tcolor: ${isCard ? palette.text.cardByline : palette.text.byline};\n\t`;\n};\n\nexport const Byline = ({\n\ttext,\n\tformat,\n\tcontainerPalette,\n\tsize,\n\tisCard,\n}: Props) => {\n\tconst palette = decidePalette(format, containerPalette);\n\treturn (\n\t\t<span css={[bylineStyles(size, format), colourStyles(palette, isCard)]}>\n\t\t\t{text}\n\t\t</span>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { ArticleSpecial } from '@guardian/libs';\nimport type { FontScaleArgs, FontWeight } from '@guardian/source-foundations';\nimport {\n\tbetween,\n\tfontWeights,\n\tfrom,\n\theadline,\n\tspace,\n\ttextSans,\n\tuntil,\n} from '@guardian/source-foundations';\nimport { Link, SvgExternal } from '@guardian/source-react-components';\nimport React from 'react';\nimport type { DCRContainerPalette } from '../../types/front';\nimport type { Palette } from '../../types/palette';\nimport { decidePalette } from '../lib/decidePalette';\nimport { getZIndex } from '../lib/getZIndex';\nimport { Byline } from './Byline';\nimport { Kicker } from './Kicker';\nimport { QuoteIcon } from './QuoteIcon';\n\ntype Props = {\n\theadlineText: string; // The text shown\n\tformat: ArticleFormat; // Used to decide when to add type specific styles\n\tcontainerPalette?: DCRContainerPalette;\n\tkickerText?: string;\n\tshowPulsingDot?: boolean;\n\thideLineBreak?: boolean;\n\tshowQuotes?: boolean; // Even with design !== Comment, a piece can be opinion\n\tsize?: SmallHeadlineSize;\n\tsizeOnMobile?: SmallHeadlineSize;\n\tbyline?: string;\n\tshowByline?: boolean;\n\tshowLine?: boolean; // If true a short line is displayed above, used for sublinks\n\tlinkTo?: string; // If provided, the headline is wrapped in a link\n\tisDynamo?: true;\n\tisExternalLink?: boolean;\n};\n\nconst fontStyles = ({\n\tsize,\n\tfontWeight,\n}: {\n\tsize: SmallHeadlineSize;\n\tfontWeight?: FontWeight;\n}) => {\n\tconst options: FontScaleArgs = {};\n\tif (fontWeight) options.fontWeight = fontWeight;\n\n\tswitch (size) {\n\t\tcase 'ginormous':\n\t\t\treturn css`\n\t\t\t\t${from.desktop} {\n\t\t\t\t\t${headline.large(options)};\n\t\t\t\t\tfont-size: 50px;\n\t\t\t\t}\n\t\t\t`;\n\t\tcase 'huge':\n\t\t\treturn css`\n\t\t\t\t${headline.small(options)};\n\t\t\t`;\n\t\tcase 'large':\n\t\t\treturn css`\n\t\t\t\t${headline.xsmall(options)};\n\t\t\t`;\n\t\tcase 'medium':\n\t\t\treturn css`\n\t\t\t\t${headline.xxsmall(options)};\n\t\t\t`;\n\t\tcase 'small':\n\t\t\treturn css`\n\t\t\t\t${headline.xxxsmall(options)};\n\t\t\t`;\n\t\tcase 'tiny':\n\t\t\treturn css`\n\t\t\t\t${headline.xxxsmall(options)};\n\t\t\t\tfont-size: 14px;\n\t\t\t`;\n\t}\n};\n\nconst fontStylesOnMobile = ({\n\tsize,\n\tfontWeight,\n}: {\n\tsize: SmallHeadlineSize;\n\tfontWeight?: FontWeight;\n}) => {\n\tconst options: FontScaleArgs = {};\n\tif (fontWeight) options.fontWeight = fontWeight;\n\n\tswitch (size) {\n\t\tcase 'ginormous':\n\t\t\treturn css`\n\t\t\t\t${until.mobileLandscape} {\n\t\t\t\t\t${headline.medium(options)};\n\t\t\t\t}\n\t\t\t\t${between.mobileLandscape.and.desktop} {\n\t\t\t\t\t${headline.large(options)};\n\t\t\t\t}\n\t\t\t`;\n\t\tcase 'huge':\n\t\t\treturn css`\n\t\t\t\t${until.desktop} {\n\t\t\t\t\t${headline.xsmall(options)};\n\t\t\t\t}\n\t\t\t`;\n\t\tcase 'large':\n\t\t\treturn css`\n\t\t\t\t${until.desktop} {\n\t\t\t\t\t${headline.xxsmall(options)};\n\t\t\t\t}\n\t\t\t`;\n\t\tcase 'medium':\n\t\t\treturn css`\n\t\t\t\t${until.desktop} {\n\t\t\t\t\t${headline.xxxsmall(options)};\n\t\t\t\t}\n\t\t\t`;\n\t\tdefault:\n\t\t\treturn undefined;\n\t}\n};\n\nconst labTextStyles = (size: SmallHeadlineSize) => {\n\tswitch (size) {\n\t\tcase 'ginormous':\n\t\tcase 'huge':\n\t\tcase 'large':\n\t\t\treturn css`\n\t\t\t\t${textSans.large()};\n\t\t\t\t${until.desktop} {\n\t\t\t\t\t${textSans.medium()};\n\t\t\t\t}\n\t\t\t`;\n\t\tcase 'medium':\n\t\t\treturn css`\n\t\t\t\t${textSans.large({ lineHeight: 'tight' })};\n\t\t\t\t${until.desktop} {\n\t\t\t\t\t${textSans.medium({ lineHeight: 'tight' })};\n\t\t\t\t}\n\t\t\t\tpadding-bottom: ${space[1]}px;\n\t\t\t`;\n\t\tcase 'small':\n\t\t\treturn css`\n\t\t\t\t${textSans.small()};\n\t\t\t`;\n\t\tcase 'tiny':\n\t\t\treturn css`\n\t\t\t\t${textSans.xxsmall()};\n\t\t\t\tfont-size: 14px;\n\t\t\t`;\n\t}\n};\n\nconst sublinkStyles = css`\n\t/* See: https://css-tricks.com/nested-links/ */\n\t${getZIndex('card-nested-link')}\n\t/* The following styles turn off those provided by Link */\n\tcolor: inherit;\n\ttext-decoration: none;\n\t/* stylelint-disable-next-line property-disallowed-list */\n\tfont-family: inherit;\n\tfont-size: inherit;\n\tfont-weight: ${fontWeights.medium};\n\tline-height: inherit;\n\t/* This css is used to remove any underline from the kicker but still\n\t * have it applied to the headline when the kicker is hovered */\n\t:hover {\n\t\tcolor: inherit;\n\t\ttext-decoration: none;\n\t\t.show-underline {\n\t\t\ttext-decoration: underline;\n\t\t}\n\t}\n`;\n\nconst lineStyles = (palette: Palette) => css`\n\tpadding-top: 1px;\n\t:before {\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tcontent: '';\n\t\tborder-top: 1px solid ${palette.border.cardSupporting};\n\n\t\twidth: 120px;\n\t\t${between.tablet.and.desktop} {\n\t\t\twidth: 100px;\n\t\t}\n\t}\n`;\n\nconst dynamoStyles = css`\n\tdisplay: block;\n\tfont-weight: ${fontWeights.medium};\n\tpadding: 5px;\n`;\nconst WithLink = ({\n\tlinkTo,\n\tchildren,\n\tisDynamo,\n}: {\n\tlinkTo?: string;\n\tchildren: React.ReactNode;\n\tisDynamo?: true;\n}) => {\n\tif (linkTo) {\n\t\treturn (\n\t\t\t<Link\n\t\t\t\thref={linkTo}\n\t\t\t\tcssOverrides={\n\t\t\t\t\tisDynamo ? [sublinkStyles, dynamoStyles] : sublinkStyles\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</Link>\n\t\t);\n\t}\n\treturn <>{children}</>;\n};\n\n/** Matches headlines starting with short words of 1 to 3 letters followed by a space */\nconst isFirstWordShort = /^(\\w{1,3}) \\b/;\n\nexport const CardHeadline = ({\n\theadlineText,\n\tformat,\n\tcontainerPalette,\n\tshowQuotes,\n\tkickerText,\n\tshowPulsingDot,\n\thideLineBreak,\n\tsize = 'medium',\n\tsizeOnMobile,\n\tbyline,\n\tshowByline,\n\tshowLine,\n\tlinkTo,\n\tisDynamo,\n\tisExternalLink,\n}: Props) => {\n\tconst palette = decidePalette(format, containerPalette);\n\tconst kickerColour = isDynamo\n\t\t? palette.text.dynamoKicker\n\t\t: palette.text.cardKicker;\n\tconst cleanHeadLineText = headlineText.match(isFirstWordShort)\n\t\t? headlineText.replace(' ', ' ') // from regular to non-breaking space\n\t\t: headlineText;\n\treturn (\n\t\t<>\n\t\t\t<h3\n\t\t\t\tcss={[\n\t\t\t\t\tformat.theme === ArticleSpecial.Labs\n\t\t\t\t\t\t? labTextStyles(size)\n\t\t\t\t\t\t: fontStyles({\n\t\t\t\t\t\t\t\tsize,\n\t\t\t\t\t\t\t\tfontWeight: 'medium',\n\t\t\t\t\t\t  }),\n\t\t\t\t\tformat.theme !== ArticleSpecial.Labs &&\n\t\t\t\t\t\tfontStylesOnMobile({\n\t\t\t\t\t\t\tsize: sizeOnMobile ?? size,\n\t\t\t\t\t\t\tfontWeight: 'medium',\n\t\t\t\t\t\t}),\n\t\t\t\t\tshowLine && !isDynamo && lineStyles(palette),\n\t\t\t\t]}\n\t\t\t>\n\t\t\t\t<WithLink linkTo={linkTo} isDynamo={isDynamo}>\n\t\t\t\t\t{!!kickerText && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Kicker\n\t\t\t\t\t\t\t\ttext={kickerText}\n\t\t\t\t\t\t\t\tcolor={kickerColour}\n\t\t\t\t\t\t\t\tshowPulsingDot={showPulsingDot}\n\t\t\t\t\t\t\t\thideLineBreak={hideLineBreak}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t\t{showQuotes && <QuoteIcon colour={kickerColour} />}\n\t\t\t\t\t<span\n\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\tcolor: ${isDynamo\n\t\t\t\t\t\t\t\t? palette.text.dynamoHeadline\n\t\t\t\t\t\t\t\t: palette.text.cardHeadline};\n\t\t\t\t\t\t`}\n\t\t\t\t\t\tclassName=\"show-underline\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{cleanHeadLineText}\n\t\t\t\t\t\t{isExternalLink && (\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\t\t\tstroke: red;\n\t\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<SvgExternal size=\"xsmall\" />\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</span>\n\t\t\t\t</WithLink>\n\t\t\t</h3>\n\t\t\t{!!byline && showByline && (\n\t\t\t\t<Byline\n\t\t\t\t\ttext={byline}\n\t\t\t\t\tformat={format}\n\t\t\t\t\tcontainerPalette={containerPalette}\n\t\t\t\t\tsize={size}\n\t\t\t\t\tisCard={true}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { breakpoints } from '@guardian/source-foundations';\nimport React from 'react';\nimport type { ImageWidthType } from './Picture';\nimport { generateSources, getFallbackSource } from './Picture';\n\ntype Props = {\n\timageSize: ImageSizeType;\n\tmaster: string;\n\talt: string;\n};\n\n/**\n * **WIP – Some size may be unaccounted for**\n *\n * Currently, this only handles the five (5) image sizes of `ImageSizeType`.\n *\n * This method should cover all use cases with a lot more precision once\n * implemented thoroughly\n */\nconst decideImageWidths = (\n\timageSize: ImageSizeType,\n): [ImageWidthType, ...ImageWidthType[]] => {\n\tswitch (imageSize) {\n\t\t// @TODO missing image size option\n\t\t// case 'tiny':\n\t\t// \treturn [\n\t\t// \t\t{ breakpoint: breakpoints.mobile, width: 120 },\n\t\t// \t\t{ breakpoint: breakpoints.tablet, width: 130 },\n\t\t// \t\t{ breakpoint: breakpoints.desktop, width: 140 },\n\t\t// \t];\n\n\t\tcase 'carousel':\n\t\t\treturn [{ breakpoint: breakpoints.mobile, width: 220 }];\n\n\t\tcase 'small':\n\t\t\treturn [\n\t\t\t\t{ breakpoint: breakpoints.mobile, width: 120 },\n\t\t\t\t{ breakpoint: breakpoints.tablet, width: 160 },\n\t\t\t\t{ breakpoint: breakpoints.desktop, width: 220 },\n\t\t\t];\n\n\t\tcase 'medium':\n\t\t\treturn [\n\t\t\t\t{ breakpoint: breakpoints.mobile, width: 240 },\n\t\t\t\t{ breakpoint: breakpoints.tablet, width: 330 },\n\t\t\t\t{ breakpoint: breakpoints.desktop, width: 460 },\n\t\t\t];\n\n\t\tcase 'large':\n\t\t\treturn [\n\t\t\t\t{ breakpoint: breakpoints.mobile, width: 360 },\n\t\t\t\t{ breakpoint: breakpoints.mobileLandscape, width: 480 },\n\t\t\t\t{ breakpoint: breakpoints.tablet, width: 500 },\n\t\t\t\t{ breakpoint: breakpoints.desktop, width: 700 },\n\t\t\t];\n\n\t\tcase 'jumbo':\n\t\t\treturn [\n\t\t\t\t{ breakpoint: breakpoints.mobile, width: 360 },\n\t\t\t\t{ breakpoint: breakpoints.mobileLandscape, width: 480 },\n\t\t\t\t{ breakpoint: breakpoints.tablet, width: 680 },\n\t\t\t\t{ breakpoint: breakpoints.desktop, width: 940 },\n\t\t\t];\n\t}\n};\n\n/**\n * Used on `picture` and `img` to prevent having a line-height,\n * as these elements are which are `inline` by default.\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/HTML/Element/img#styling_with_css\n */\nconst block = css`\n\tdisplay: block;\n`;\n\n/** On fronts, all images are 5:3 */\nconst aspectRatio = css`\n\tpadding-top: ${(3 / 5) * 100}%;\n\tposition: relative;\n\n\t& > * {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n`;\n\nexport const CardPicture = ({ master, alt, imageSize }: Props) => {\n\tconst sources = generateSources(master, decideImageWidths(imageSize));\n\n\tconst fallbackSource = getFallbackSource(sources);\n\n\treturn (\n\t\t<picture data-size={imageSize} css={[block, aspectRatio]}>\n\t\t\t{sources.map((source) => {\n\t\t\t\treturn (\n\t\t\t\t\t<React.Fragment key={source.breakpoint}>\n\t\t\t\t\t\t{/* High resolution (HDPI) sources*/}\n\t\t\t\t\t\t<source\n\t\t\t\t\t\t\tsrcSet={source.hiResUrl}\n\t\t\t\t\t\t\tmedia={`(min-width: ${source.breakpoint}px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: ${source.breakpoint}px) and (min-resolution: 120dpi)`}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{/* Low resolution (MDPI) source*/}\n\t\t\t\t\t\t<source\n\t\t\t\t\t\t\tsrcSet={source.lowResUrl}\n\t\t\t\t\t\t\tmedia={`(min-width: ${source.breakpoint}px)`}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</React.Fragment>\n\t\t\t\t);\n\t\t\t})}\n\n\t\t\t<img alt={alt} src={fallbackSource.lowResUrl} css={block} />\n\t\t</picture>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { textSans } from '@guardian/source-foundations';\nimport {\n\tSvgAudio,\n\tSvgCamera,\n\tSvgVideo,\n} from '@guardian/source-react-components';\nimport type { DCRContainerPalette } from '../../types/front';\nimport type { Palette } from '../../types/palette';\nimport { decidePalette } from '../lib/decidePalette';\n\ntype Props = {\n\tmediaType: MediaType;\n\tcontainerPalette?: DCRContainerPalette;\n\tformat: ArticleFormat;\n\tmediaDuration?: number;\n\thasKicker: boolean;\n};\n\nconst iconWrapperStyles = (palette: Palette, hasKicker: boolean) => css`\n\twidth: 24px;\n\theight: 24px;\n\t/* We’re using the text colour for the icon badge */\n\tbackground-color: ${hasKicker\n\t\t? palette.text.cardKicker\n\t\t: palette.text.cardFooter};\n\tborder-radius: 50%;\n\tdisplay: inline-block;\n\n\t> svg {\n\t\twidth: 20px;\n\t\theight: 20px;\n\t\tmargin-left: auto;\n\t\tmargin-right: auto;\n\t\tmargin-top: 2px;\n\t\tdisplay: block;\n\t\tfill: ${palette.background.card};\n\t}\n`;\n\nconst durationStyles = (palette: Palette, hasKicker: boolean) => css`\n\tcolor: ${hasKicker ? palette.text.cardKicker : palette.text.cardFooter};\n\t${textSans.xxsmall({ fontWeight: `bold` })}\n`;\n\nconst wrapperStyles = css`\n\tdisplay: flex;\n\talign-items: center;\n\tmargin-top: 4px;\n`;\n\nexport function secondsToDuration(secs?: number): string {\n\tif (typeof secs === `undefined` || secs === 0) {\n\t\treturn ``;\n\t}\n\tconst seconds = Number(secs);\n\tconst h = Math.floor(seconds / 3600);\n\tconst m = Math.floor((seconds % 3600) / 60);\n\tconst s = Math.floor((seconds % 3600) % 60);\n\n\tconst duration = [];\n\tif (h > 0) {\n\t\tduration.push(h);\n\t}\n\tif (h > 0 && m < 10) duration.push(`0${m}`); // e.g 1:01:11\n\telse duration.push(m); // supports 0:59\n\tif (s > 0) {\n\t\tif (s < 10) duration.push(`0${s}`);\n\t\telse duration.push(s);\n\t}\n\treturn duration.join(':');\n}\n\nconst Icon = ({ mediaType }: { mediaType: MediaType }) => {\n\tswitch (mediaType) {\n\t\tcase 'Gallery':\n\t\t\treturn <SvgCamera />;\n\t\tcase 'Video':\n\t\t\treturn <SvgVideo />;\n\t\tcase 'Audio':\n\t\t\treturn <SvgAudio />;\n\t}\n};\n\nconst MediaIcon = ({\n\tmediaType,\n\tpalette,\n\thasKicker,\n}: {\n\tmediaType: MediaType;\n\tpalette: Palette;\n\thasKicker: boolean;\n}) => (\n\t<span css={iconWrapperStyles(palette, hasKicker)}>\n\t\t<Icon mediaType={mediaType} />\n\t</span>\n);\n\nconst MediaDuration = ({\n\tmediaDuration,\n\tpalette,\n\thasKicker,\n}: {\n\tmediaDuration: number;\n\tpalette: Palette;\n\thasKicker: boolean;\n}) => (\n\t<p css={durationStyles(palette, hasKicker)}>\n\t\t{secondsToDuration(mediaDuration)}\n\t</p>\n);\n\nexport const MediaMeta = ({\n\tmediaType,\n\tmediaDuration,\n\tformat,\n\tcontainerPalette,\n\thasKicker,\n}: Props) => {\n\tconst palette = decidePalette(format, containerPalette);\n\treturn (\n\t\t<div css={wrapperStyles}>\n\t\t\t<MediaIcon\n\t\t\t\tmediaType={mediaType}\n\t\t\t\tpalette={palette}\n\t\t\t\thasKicker={hasKicker}\n\t\t\t/>\n\t\t\t&nbsp;\n\t\t\t{mediaDuration !== undefined && mediaDuration > 0 && (\n\t\t\t\t<MediaDuration\n\t\t\t\t\tmediaDuration={mediaDuration}\n\t\t\t\t\tpalette={palette}\n\t\t\t\t\thasKicker={hasKicker}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n","import { css } from '@emotion/react';\nimport type { DCRSnapType } from '../../types/front';\n\nconst snapStyles = css`\n\toverflow-y: hidden;\n\tposition: relative;\n\tdisplay: flex;\n`;\n\ntype Props = {\n\tsnapData?: DCRSnapType;\n};\n\nexport const Snap = ({ snapData }: Props) => {\n\tif (snapData?.embedHtml === undefined) {\n\t\treturn <></>;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<div\n\t\t\t\tcss={[\n\t\t\t\t\tsnapStyles,\n\t\t\t\t\tcss`\n\t\t\t\t\t\t${snapData.embedCss}\n\t\t\t\t\t`,\n\t\t\t\t]}\n\t\t\t\tdangerouslySetInnerHTML={{ __html: snapData.embedHtml }}\n\t\t\t/>\n\t\t\t{snapData.embedJs ? (\n\t\t\t\t<div>\n\t\t\t\t\t<script\n\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: snapData.embedJs }}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t) : undefined}\n\t\t</>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { from, neutral, until } from '@guardian/source-foundations';\nimport type {\n\tDCRContainerPalette,\n\tDCRSupportingContent,\n} from '../../types/front';\nimport { decidePalette } from '../lib/decidePalette';\nimport { transparentColour } from '../lib/transparentColour';\nimport { CardHeadline } from './CardHeadline';\n\nexport type Alignment = 'vertical' | 'horizontal';\n\ntype Props = {\n\tsupportingContent: DCRSupportingContent[];\n\talignment: Alignment;\n\tcontainerPalette?: DCRContainerPalette;\n\tisDynamo?: true;\n\tparentFormat: ArticleFormat;\n};\n\nconst wrapperStyles = css`\n\tposition: relative;\n\tdisplay: flex;\n\tmargin-left: 5px;\n\tmargin-right: 5px;\n\tmargin-bottom: 5px;\n`;\n\nconst directionStyles = (alignment: Alignment) => {\n\tswitch (alignment) {\n\t\tcase 'horizontal':\n\t\t\treturn css`\n\t\t\t\tflex-direction: column;\n\t\t\t\t${from.tablet} {\n\t\t\t\t\tflex-direction: row;\n\t\t\t\t}\n\t\t\t`;\n\t\tcase 'vertical':\n\t\t\treturn css`\n\t\t\t\tflex-direction: column;\n\t\t\t`;\n\t}\n};\n\nconst dynamoStyles = css`\n\tflex-direction: column;\n\tcolumn-gap: 5px;\n\twidth: 100%;\n\tmargin: 0;\n\n\t${from.tablet} {\n\t\tpadding: 0 5px 5px;\n\t\tflex-direction: row;\n\t\tposition: absolute;\n\t\tbottom: 0;\n\t}\n`;\n\nconst liStyles = css`\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex: 1;\n\tpadding-top: 2px;\n\tposition: relative;\n\tmargin-top: 8px;\n\t${from.tablet} {\n\t\tmargin-bottom: 4px;\n\t}\n`;\n\nconst dynamoLiStyles = css`\n\tbackground-color: ${transparentColour(neutral[97], 0.875)};\n\tborder-top: 1px solid;\n\t/* 20% is arbitrary, but the cards should expand thanks for flex-grow */\n\tflex: 1 0 25%;\n\tmargin: 0;\n`;\n\nconst leftMargin = css`\n\t${from.tablet} {\n\t\tmargin-left: 10px;\n\t}\n`;\n\nconst bottomMargin = css`\n\t${until.tablet} {\n\t\tmargin-bottom: 8px;\n\t}\n`;\n\nexport const SupportingContent = ({\n\tsupportingContent,\n\talignment,\n\tcontainerPalette,\n\tisDynamo,\n\tparentFormat,\n}: Props) => {\n\treturn (\n\t\t<ul\n\t\t\tcss={[\n\t\t\t\twrapperStyles,\n\t\t\t\tisDynamo ? dynamoStyles : directionStyles(alignment),\n\t\t\t]}\n\t\t>\n\t\t\t{supportingContent.map((subLink, index, { length }) => {\n\t\t\t\t// The model has this property as optional but it is very likely\n\t\t\t\t// to exist\n\t\t\t\tif (!subLink.headline) return null;\n\t\t\t\tconst shouldPadLeft =\n\t\t\t\t\t!isDynamo && index > 0 && alignment === 'horizontal';\n\t\t\t\tconst isLast = index === length - 1;\n\t\t\t\treturn (\n\t\t\t\t\t<li\n\t\t\t\t\t\tkey={subLink.url}\n\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\tisDynamo\n\t\t\t\t\t\t\t\t? [\n\t\t\t\t\t\t\t\t\t\tdynamoLiStyles,\n\t\t\t\t\t\t\t\t\t\tcss`\n\t\t\t\t\t\t\t\t\t\t\tborder-color: ${decidePalette(\n\t\t\t\t\t\t\t\t\t\t\t\tparentFormat,\n\t\t\t\t\t\t\t\t\t\t\t\tcontainerPalette,\n\t\t\t\t\t\t\t\t\t\t\t).topBar.card};\n\t\t\t\t\t\t\t\t\t\t`,\n\t\t\t\t\t\t\t\t  ]\n\t\t\t\t\t\t\t\t: liStyles,\n\t\t\t\t\t\t\tshouldPadLeft && leftMargin,\n\t\t\t\t\t\t\tisLast && bottomMargin,\n\t\t\t\t\t\t]}\n\t\t\t\t\t>\n\t\t\t\t\t\t<CardHeadline\n\t\t\t\t\t\t\tformat={subLink.format}\n\t\t\t\t\t\t\tsize=\"tiny\"\n\t\t\t\t\t\t\thideLineBreak={true}\n\t\t\t\t\t\t\tshowLine={true}\n\t\t\t\t\t\t\tlinkTo={subLink.url}\n\t\t\t\t\t\t\tcontainerPalette={containerPalette}\n\t\t\t\t\t\t\tisDynamo={isDynamo}\n\t\t\t\t\t\t\theadlineText={subLink.headline}\n\t\t\t\t\t\t\tkickerText={subLink.kickerText}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</li>\n\t\t\t\t);\n\t\t\t})}\n\t\t</ul>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { from, space, until } from '@guardian/source-foundations';\n\ntype Props = {\n\tchildren: React.ReactNode;\n\timageSize: ImageSizeType;\n\timagePosition: ImagePositionType;\n};\n\nconst sideMarginStyles = css`\n\tmargin-right: ${space[1]}px;\n`;\n\nconst topMarginStyles = css`\n\tmargin-top: ${space[1]}px;\n`;\n\nconst largerTopMargin = css`\n\t${from.tablet} {\n\t\tmargin-top: 50px;\n\t}\n`;\n\nconst sizingStyles = (\n\timageSize: ImageSizeType,\n\timagePosition: ImagePositionType,\n) => {\n\tconst isVertical = imagePosition === 'top' || imagePosition === 'bottom';\n\n\tswitch (imageSize) {\n\t\tcase 'small':\n\t\t\treturn css`\n\t\t\t\t${until.tablet} {\n\t\t\t\t\theight: 73px;\n\t\t\t\t\twidth: 73px;\n\t\t\t\t}\n\n\t\t\t\theight: ${isVertical ? '132px' : '73px'};\n\t\t\t\twidth: ${isVertical ? '132px' : '73px'};\n\t\t\t`;\n\t\tcase 'jumbo':\n\t\t\treturn css`\n\t\t\t\theight: ${isVertical ? '132px' : '180px'};\n\t\t\t\twidth: ${isVertical ? '132px' : '180px'};\n\t\t\t`;\n\t\tdefault:\n\t\t\treturn css`\n\t\t\t\t/* Below 980 */\n\t\t\t\t${until.desktop} {\n\t\t\t\t\theight: 108px;\n\t\t\t\t\twidth: 108px;\n\t\t\t\t}\n\t\t\t\t/* Below 740 */\n\t\t\t\t${until.tablet} {\n\t\t\t\t\theight: 73px;\n\t\t\t\t\twidth: 73px;\n\t\t\t\t}\n\t\t\t\t/* Otherwise */\n\t\t\t\theight: 132px;\n\t\t\t\twidth: 132px;\n\t\t\t`;\n\t}\n};\n\nexport const AvatarContainer = ({\n\tchildren,\n\timageSize,\n\timagePosition,\n}: Props) => {\n\tconst isVertical = imagePosition === 'top' || imagePosition === 'bottom';\n\n\treturn (\n\t\t<div\n\t\t\tcss={[\n\t\t\t\tsideMarginStyles,\n\t\t\t\ttopMarginStyles,\n\t\t\t\tisVertical && largerTopMargin,\n\t\t\t\tsizingStyles(imageSize, imagePosition),\n\t\t\t]}\n\t\t>\n\t\t\t{children}\n\t\t</div>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { ArticleDesign, timeAgo } from '@guardian/libs';\nimport { textSans, until } from '@guardian/source-foundations';\nimport ClockIcon from '../../../../static/icons/clock.svg';\nimport type { DCRContainerPalette } from '../../../../types/front';\nimport type { Palette } from '../../../../types/palette';\nimport { decidePalette } from '../../../lib/decidePalette';\n\ntype Props = {\n\tformat: ArticleFormat;\n\tcontainerPalette?: DCRContainerPalette;\n\twebPublicationDate: string;\n\tshowClock?: boolean;\n\tisDynamo?: true;\n};\n\nconst ageStyles = (\n\tformat: ArticleFormat,\n\tpalette: Palette,\n\tisDynamo?: true,\n) => {\n\treturn css`\n\t\t${textSans.xxsmall({ lineHeight: 'tight' })};\n\t\tmargin-top: -4px;\n\t\tcolor: ${isDynamo\n\t\t\t? palette.text.dynamoHeadline\n\t\t\t: palette.text.cardFooter};\n\n\t\t/* Provide side padding for positioning and also to keep spacing\n    between any sibings (like Lines) */\n\t\tpadding-left: 5px;\n\t\tpadding-right: 5px;\n\t\t${until.tablet} {\n\t\t\tline-height: 1.25;\n\t\t}\n\n\t\tsvg {\n\t\t\tfill: ${palette.text.cardFooter};\n\t\t\tmargin-bottom: -1px;\n\t\t\theight: 11px;\n\t\t\twidth: 11px;\n\t\t\tmargin-right: 2px;\n\t\t}\n\n\t\t> time {\n\t\t\t${textSans.xxsmall({\n\t\t\t\tfontWeight:\n\t\t\t\t\tformat.design === ArticleDesign.Gallery ||\n\t\t\t\t\tformat.design === ArticleDesign.Audio ||\n\t\t\t\t\tformat.design === ArticleDesign.Video\n\t\t\t\t\t\t? `bold`\n\t\t\t\t\t\t: `regular`,\n\t\t\t})};\n\t\t}\n\t`;\n};\n\nexport const CardAge = ({\n\tformat,\n\tcontainerPalette,\n\twebPublicationDate,\n\tshowClock,\n\tisDynamo,\n}: Props) => {\n\tconst displayString = timeAgo(new Date(webPublicationDate).getTime());\n\tconst palette = decidePalette(format, containerPalette);\n\n\tif (displayString === false) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<span css={ageStyles(format, palette, isDynamo)}>\n\t\t\t<span>\n\t\t\t\t{showClock && <ClockIcon />}\n\t\t\t\t<time dateTime={webPublicationDate} data-relativeformat=\"med\">\n\t\t\t\t\t{displayString}\n\t\t\t\t</time>\n\t\t\t</span>\n\t\t</span>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { space, textSans, visuallyHidden } from '@guardian/source-foundations';\nimport type { Branding } from '../../../../types/branding';\nimport type { Palette } from '../../../../types/palette';\nimport { trackSponsorLogoLinkClick } from '../../../browser/ga/ga';\nimport { decideLogo } from '../../../lib/decideLogo';\nimport { decidePalette } from '../../../lib/decidePalette';\nimport { getZIndex } from '../../../lib/getZIndex';\n\ntype Props = {\n\tbranding: Branding;\n\tformat: ArticleFormat;\n};\n\nconst logoImageStyle = css`\n\tmax-height: 60px;\n\tmargin-left: ${space[3]}px;\n\tvertical-align: middle;\n\theight: auto;\n\twidth: auto;\n`;\n\nconst brandingWrapperStyle = css`\n\tpadding-right: ${space[2]}px;\n\tpadding-bottom: ${space[2]}px;\n\ttext-align: right;\n\tflex: auto;\n\t/* See: https://css-tricks.com/nested-links/ */\n\t${getZIndex('card-nested-link')}\n\tposition: relative;\n`;\n\nconst labelStyle = (palette: Palette) => {\n\treturn css`\n\t\t${textSans.xxsmall()}\n\t\tcolor: ${palette.text.cardFooter};\n\t`;\n};\n\nexport const CardBranding = ({ branding, format }: Props) => {\n\tconst logo = decideLogo(format, branding);\n\tconst palette = decidePalette(format);\n\treturn (\n\t\t<div css={brandingWrapperStyle}>\n\t\t\t<div css={labelStyle(palette)}>{logo.label}</div>\n\t\t\t<span\n\t\t\t\tcss={css`\n\t\t\t\t\t${visuallyHidden};\n\t\t\t\t`}\n\t\t\t>\n\t\t\t\t{branding.sponsorName\n\t\t\t\t\t? `This content was paid for by ${branding.sponsorName} and produced by the Guardian Labs team.`\n\t\t\t\t\t: 'This content has been paid for by an advertiser and produced by the Guardian Labs team.'}\n\t\t\t</span>\n\t\t\t<a\n\t\t\t\thref={logo.link}\n\t\t\t\tdata-sponsor={branding.sponsorName.toLowerCase()}\n\t\t\t\trel=\"nofollow\"\n\t\t\t\taria-label={`Visit the ${branding.sponsorName} website`}\n\t\t\t\tonClick={() =>\n\t\t\t\t\ttrackSponsorLogoLinkClick(\n\t\t\t\t\t\tbranding.sponsorName.toLowerCase(),\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\tdata-cy=\"card-branding-logo\"\n\t\t\t>\n\t\t\t\t<img\n\t\t\t\t\tcss={logoImageStyle}\n\t\t\t\t\tsrc={logo.src}\n\t\t\t\t\talt={branding.sponsorName}\n\t\t\t\t\twidth={logo.dimensions.width}\n\t\t\t\t\theight={logo.dimensions.height}\n\t\t\t\t/>\n\t\t\t</a>\n\t\t</div>\n\t);\n};\n","import { ArticleDesign, ArticlePillar, ArticleSpecial } from '@guardian/libs';\nimport type { Branding } from '../../types/branding';\n\nconst shouldUseLogoForDarkBackground = (format: ArticleFormat): boolean => {\n\tif (format.theme === ArticleSpecial.SpecialReport) return true;\n\tswitch (format.design) {\n\t\tcase ArticleDesign.Gallery:\n\t\tcase ArticleDesign.Audio:\n\t\tcase ArticleDesign.Video:\n\t\t\treturn true;\n\t\tcase ArticleDesign.LiveBlog:\n\t\t\tswitch (format.theme) {\n\t\t\t\tcase ArticleSpecial.Labs:\n\t\t\t\t\treturn false;\n\t\t\t\tcase ArticlePillar.News:\n\t\t\t\tcase ArticlePillar.Sport:\n\t\t\t\tcase ArticlePillar.Opinion:\n\t\t\t\tcase ArticlePillar.Lifestyle:\n\t\t\t\tcase ArticlePillar.Culture:\n\t\t\t\tdefault:\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\tdefault:\n\t\t\treturn false;\n\t}\n};\n\nexport const decideLogo = (\n\tformat: ArticleFormat,\n\tbranding: Branding,\n): Branding['logo'] => {\n\treturn shouldUseLogoForDarkBackground(format) &&\n\t\tbranding.logoForDarkBackground\n\t\t? branding.logoForDarkBackground\n\t\t: branding.logo;\n};\n","import { css } from '@emotion/react';\nimport { ArticleDesign, ArticleSpecial } from '@guardian/libs';\nimport { StraightLines } from '@guardian/source-react-components-development-kitchen';\nimport type { DCRContainerPalette } from '../../../../types/front';\nimport { decidePalette } from '../../../lib/decidePalette';\n\ntype Props = {\n\tformat: ArticleFormat;\n\tcontainerPalette?: DCRContainerPalette;\n\tdisplayLines?: boolean;\n\tage?: JSX.Element;\n\tcommentCount?: JSX.Element;\n\tcardBranding?: JSX.Element;\n\tsupportingContent?: JSX.Element;\n};\n\nconst spaceBetween = css`\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n`;\n\nconst margins = css`\n\tmargin-top: 3px;\n\tmargin-bottom: 3px;\n`;\n\nconst flexEnd = css`\n\tdisplay: flex;\n\tjustify-content: flex-end;\n`;\n\nexport const CardFooter = ({\n\tformat,\n\tcontainerPalette,\n\tdisplayLines,\n\tage,\n\tcommentCount,\n\tcardBranding,\n\tsupportingContent,\n}: Props) => {\n\tconst palette = decidePalette(format, containerPalette);\n\n\tif (format.theme === ArticleSpecial.Labs && cardBranding) {\n\t\treturn <footer css={margins}>{cardBranding}</footer>;\n\t}\n\n\tif (\n\t\tformat.design === ArticleDesign.Comment ||\n\t\tformat.design === ArticleDesign.Editorial ||\n\t\tformat.design === ArticleDesign.Letter\n\t) {\n\t\treturn (\n\t\t\t<footer css={margins}>\n\t\t\t\t{supportingContent}\n\t\t\t\t<div css={spaceBetween}>\n\t\t\t\t\t{age}\n\t\t\t\t\t{displayLines && (\n\t\t\t\t\t\t<StraightLines\n\t\t\t\t\t\t\tcssOverrides={css`\n\t\t\t\t\t\t\t\t/* Fill the space */\n\t\t\t\t\t\t\t\tflex: 1;\n\t\t\t\t\t\t\t\talign-self: flex-end;\n\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t\tcolor={palette.border.lines}\n\t\t\t\t\t\t\tcount={4}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t{commentCount}\n\t\t\t\t</div>\n\t\t\t</footer>\n\t\t);\n\t}\n\n\tif (age) {\n\t\treturn (\n\t\t\t<footer css={margins}>\n\t\t\t\t{supportingContent}\n\t\t\t\t<div css={spaceBetween}>\n\t\t\t\t\t{age}\n\t\t\t\t\t{commentCount}\n\t\t\t\t</div>\n\t\t\t</footer>\n\t\t);\n\t}\n\n\treturn (\n\t\t<footer css={margins}>\n\t\t\t{supportingContent}\n\t\t\t<div css={flexEnd}>\n\t\t\t\t<>{commentCount}</>\n\t\t\t</div>\n\t\t</footer>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { until } from '@guardian/source-foundations';\n\ntype Props = {\n\tchildren: React.ReactNode;\n\timageType: CardImageType | undefined;\n\timagePosition: ImagePositionType;\n\timagePositionOnMobile: ImagePositionType;\n\tminWidthInPixels?: number;\n};\n\nconst decideDirection = (imagePosition: ImagePositionType) => {\n\tswitch (imagePosition) {\n\t\tcase 'top':\n\t\t\treturn 'column';\n\t\tcase 'bottom':\n\t\t\treturn 'column-reverse';\n\t\tcase 'left':\n\t\t\treturn 'row';\n\t\tcase 'right':\n\t\t\treturn 'row-reverse';\n\t\t// If there's no image (so no imagePosition) default to top down\n\t\tcase 'none':\n\t\t\treturn 'column';\n\t}\n};\n\nconst decideWidth = (minWidthInPixels?: number) => {\n\tif (minWidthInPixels !== undefined && minWidthInPixels > 0) {\n\t\treturn css`\n\t\t\tmin-width: ${minWidthInPixels}px;\n\t\t`;\n\t}\n\treturn css`\n\t\twidth: 100%;\n\t`;\n};\n\nconst decidePosition = (\n\timagePosition: ImagePositionType,\n\timagePositionOnMobile: ImagePositionType,\n\timageType?: CardImageType,\n) => {\n\tif (imageType === 'avatar') {\n\t\tswitch (imagePosition) {\n\t\t\tcase 'left':\n\t\t\tcase 'right': {\n\t\t\t\treturn css`\n\t\t\t\t\tflex-direction: row-reverse;\n\t\t\t\t\t${until.tablet} {\n\t\t\t\t\t\tflex-direction: row-reverse;\n\t\t\t\t\t}\n\t\t\t\t`;\n\t\t\t}\n\t\t\tdefault: {\n\t\t\t\treturn css`\n\t\t\t\t\tflex-direction: column-reverse;\n\t\t\t\t\t${until.tablet} {\n\t\t\t\t\t\tflex-direction: row-reverse;\n\t\t\t\t\t}\n\t\t\t\t`;\n\t\t\t}\n\t\t}\n\t}\n\treturn css`\n\t\tflex-direction: ${decideDirection(imagePosition)};\n\t\t${until.tablet} {\n\t\t\tflex-direction: ${decideDirection(imagePositionOnMobile)};\n\t\t}\n\t`;\n};\n\nexport const CardLayout = ({\n\tchildren,\n\timagePosition,\n\timagePositionOnMobile,\n\tminWidthInPixels,\n\timageType,\n}: Props) => (\n\t<div\n\t\tcss={[\n\t\t\tcss`\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-basis: 100%;\n\t\t\t`,\n\t\t\tdecideWidth(minWidthInPixels),\n\t\t\tdecidePosition(imagePosition, imagePositionOnMobile, imageType),\n\t\t]}\n\t>\n\t\t{children}\n\t</div>\n);\n","import { css } from '@emotion/react';\nimport { focusHalo } from '@guardian/source-foundations';\nimport type { DCRContainerPalette } from '../../../../types/front';\nimport { getZIndex } from '../../../lib/getZIndex';\n\nconst fauxLinkStyles = css`\n\tposition: absolute;\n\t${getZIndex('card-link')};\n\ttop: 0;\n\tright: 0;\n\tbottom: 0;\n\tleft: 0;\n\tbackground-color: transparent;\n\n\t:focus {\n\t\t${focusHalo};\n\t}\n`;\n\ntype Props = {\n\tlinkTo: string;\n\theadlineText: string;\n\tcontainerPalette?: DCRContainerPalette;\n\tdataLinkName?: string;\n\tisExternalLink: boolean;\n};\n\nconst InternalLink = ({\n\tlinkTo,\n\theadlineText,\n\tdataLinkName,\n}: {\n\tlinkTo: string;\n\theadlineText: string;\n\tdataLinkName?: string;\n}) => {\n\treturn (\n\t\t// eslint-disable-next-line jsx-a11y/anchor-has-content -- we have an aria-label attribute describing the content\n\t\t<a\n\t\t\thref={linkTo}\n\t\t\tcss={fauxLinkStyles}\n\t\t\tdata-link-name={dataLinkName}\n\t\t\taria-label={headlineText}\n\t\t/>\n\t);\n};\n\nconst ExternalLink = ({\n\tlinkTo,\n\theadlineText,\n\tdataLinkName,\n}: {\n\tlinkTo: string;\n\theadlineText: string;\n\tdataLinkName?: string;\n}) => {\n\treturn (\n\t\t// eslint-disable-next-line jsx-a11y/anchor-has-content -- we have an aria-label attribute describing the content\n\t\t<a\n\t\t\thref={linkTo}\n\t\t\tcss={fauxLinkStyles}\n\t\t\tdata-link-name={dataLinkName}\n\t\t\taria-label={headlineText + ' (opens in new tab)'}\n\t\t\ttarget=\"_blank\"\n\t\t\trel=\"noreferrer\"\n\t\t/>\n\t);\n};\n\nexport const CardLink = ({\n\tlinkTo,\n\theadlineText,\n\tdataLinkName = 'article', //this makes sense if the link is to an article, but should this say something like \"external\" if it's an external link? are there any other uses/alternatives?\n\tisExternalLink,\n}: Props) => {\n\treturn (\n\t\t<>\n\t\t\t{isExternalLink && (\n\t\t\t\t<ExternalLink\n\t\t\t\t\tlinkTo={linkTo}\n\t\t\t\t\theadlineText={headlineText}\n\t\t\t\t\tdataLinkName={dataLinkName}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t{!isExternalLink && (\n\t\t\t\t<InternalLink\n\t\t\t\t\tlinkTo={linkTo}\n\t\t\t\t\theadlineText={headlineText}\n\t\t\t\t\tdataLinkName={dataLinkName}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</>\n\t);\n};\n","import { css } from '@emotion/react';\nimport type { ArticleFormat } from '@guardian/libs';\nimport { ArticleDesign, ArticleSpecial } from '@guardian/libs';\nimport { from, neutral } from '@guardian/source-foundations';\nimport type {\n\tDCRContainerPalette,\n\tDCRContainerType,\n} from '../../../../types/front';\nimport type { Palette } from '../../../../types/palette';\nimport { decidePalette } from '../../../lib/decidePalette';\n\ntype Props = {\n\tchildren: React.ReactNode;\n\tformat: ArticleFormat;\n\tcontainerPalette?: DCRContainerPalette;\n\tcontainerType?: DCRContainerType;\n\t/** The first card in a dynamic package is ”Dynamo” and gets special styling */\n\tisDynamo?: true;\n};\n\nconst cardStyles = (\n\tformat: ArticleFormat,\n\tpalette: Palette,\n\tisDynamo?: true,\n\tcontainerPalette?: DCRContainerPalette,\n) => {\n\tconst baseCardStyles = css`\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tjustify-content: space-between;\n\t\twidth: 100%;\n\t\t/* We absolutely position the faux link\n\t\tso this is required here */\n\t\tposition: relative;\n\n\t\t:hover .image-overlay {\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t\tleft: 0;\n\t\t\tbackground-color: ${neutral[7]};\n\t\t\topacity: 0.1;\n\t\t}\n\n\t\t/* a tag specific styles */\n\t\tcolor: inherit;\n\t\ttext-decoration: none;\n\t\tbackground-color: ${isDynamo ? 'transparent' : palette.background.card};\n\t`;\n\n\tconst decidePaletteBrightness = (thePalette: DCRContainerPalette) => {\n\t\tswitch (thePalette) {\n\t\t\tcase 'EventPalette':\n\t\t\t\treturn `96%`;\n\t\t\tcase 'BreakingPalette':\n\t\t\t\treturn `85%`;\n\t\t\tcase 'EventAltPalette':\n\t\t\t\treturn `95%`;\n\t\t\tcase 'InvestigationPalette':\n\t\t\t\treturn `90%`;\n\t\t\tcase 'LongRunningPalette':\n\t\t\t\treturn `84%`;\n\t\t\tcase 'LongRunningAltPalette':\n\t\t\t\treturn `95%`;\n\t\t\tcase 'SombrePalette':\n\t\t\t\treturn `90%`;\n\t\t\tcase 'SombreAltPalette':\n\t\t\t\treturn `85%`;\n\t\t\tcase 'SpecialReportAltPalette':\n\t\t\t\treturn `95%`;\n\t\t\tdefault:\n\t\t\t\treturn `90%`;\n\t\t}\n\t};\n\tif (containerPalette) {\n\t\treturn css`\n\t\t\t${baseCardStyles};\n\t\t\t:hover {\n\t\t\t\tfilter: brightness(\n\t\t\t\t\t${decidePaletteBrightness(containerPalette)}\n\t\t\t\t);\n\t\t\t}\n\t\t`;\n\t}\n\n\tif (\n\t\tformat.theme === ArticleSpecial.SpecialReport ||\n\t\tformat.theme === ArticleSpecial.SpecialReportAlt\n\t) {\n\t\treturn css`\n\t\t\t${baseCardStyles};\n\t\t\t:hover {\n\t\t\t\tfilter: brightness(90%);\n\t\t\t}\n\t\t`;\n\t}\n\n\tswitch (format.design) {\n\t\tcase ArticleDesign.Editorial:\n\t\tcase ArticleDesign.Letter:\n\t\tcase ArticleDesign.Comment:\n\t\t\treturn css`\n\t\t\t\t${baseCardStyles};\n\t\t\t\t:hover {\n\t\t\t\t\t/* TODO: This colour is hard coded here because it does not yet\n                           exist in source-foundations. Once it's been added, please\n                           remove this. @siadcock is aware. */\n\t\t\t\t\t/* stylelint-disable-next-line color-no-hex */\n\t\t\t\t\tbackground-color: #fdf0e8;\n\t\t\t\t}\n\t\t\t`;\n\t\tcase ArticleDesign.Gallery:\n\t\tcase ArticleDesign.Audio:\n\t\tcase ArticleDesign.Video:\n\t\tcase ArticleDesign.LiveBlog:\n\t\t\treturn css`\n\t\t\t\t${baseCardStyles};\n\t\t\t\t:hover {\n\t\t\t\t\tfilter: brightness(90%);\n\t\t\t\t}\n\t\t\t`;\n\t\tdefault:\n\t\t\treturn css`\n\t\t\t\t${baseCardStyles};\n\t\t\t\t:hover {\n\t\t\t\t\tbackground-color: ${neutral[93]};\n\t\t\t\t}\n\t\t\t`;\n\t}\n};\n\nconst topBarStyles = ({\n\tisDynamo,\n\tpalette,\n\tcontainerType,\n}: {\n\tisDynamo?: true;\n\tpalette: Palette;\n\tcontainerType?: DCRContainerType;\n}) => {\n\t/* Styling for top bar */\n\tconst baseStyles = css`\n\t\tbackground-color: ${isDynamo\n\t\t\t? palette.text.dynamoKicker\n\t\t\t: palette.topBar.card};\n\t\tcontent: '';\n\t\theight: ${containerType === 'dynamic/package' ? '4px' : '1px'};\n\t\tz-index: 2;\n\t\twidth: 100%;\n\t`;\n\n\tif (isDynamo) {\n\t\treturn css`\n\t\t\t:before {\n\t\t\t\t${baseStyles}\n\t\t\t\t${from.phablet} {\n\t\t\t\t\twidth: 25%;\n\t\t\t\t}\n\t\t\t}\n\t\t`;\n\t}\n\treturn css`\n\t\t:before {\n\t\t\t${baseStyles}\n\t\t}\n\t`;\n};\n\nexport const CardWrapper = ({\n\tchildren,\n\tformat,\n\tcontainerPalette,\n\tcontainerType,\n\tisDynamo,\n}: Props) => {\n\tconst palette = decidePalette(format, containerPalette);\n\treturn (\n\t\t<div\n\t\t\tcss={[\n\t\t\t\tcardStyles(format, palette, isDynamo, containerPalette),\n\t\t\t\ttopBarStyles({ isDynamo, palette, containerType }),\n\t\t\t]}\n\t\t>\n\t\t\t{children}\n\t\t</div>\n\t);\n};\n","import type { SerializedStyles } from '@emotion/react';\nimport { css } from '@emotion/react';\nimport { between, from } from '@guardian/source-foundations';\n\nconst sizingStyles = css`\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: space-between;\n`;\n\n/**\n * This function works in partnership with its sibling in `ImageWrapper`. If you\n * change any values here be sure to update that file as well.\n *\n */\nconst flexBasisStyles = ({\n\timageSize,\n\timageType,\n}: {\n\timageSize: ImageSizeType;\n\timageType?: CardImageType;\n}): SerializedStyles => {\n\tif (imageType === 'avatar') {\n\t\treturn css`\n\t\t\tflex-basis: 100%;\n\t\t`;\n\t}\n\tswitch (imageSize) {\n\t\tdefault:\n\t\tcase 'small':\n\t\t\treturn css`\n\t\t\t\tflex-basis: 75%;\n\t\t\t\t${between.tablet.and.desktop} {\n\t\t\t\t\tflex-basis: 60%;\n\t\t\t\t}\n\t\t\t\t${from.desktop} {\n\t\t\t\t\tflex-basis: 70%;\n\t\t\t\t}\n\t\t\t`;\n\t\tcase 'medium':\n\t\t\treturn css`\n\t\t\t\t${from.tablet} {\n\t\t\t\t\tflex-basis: 50%;\n\t\t\t\t}\n\t\t\t`;\n\t\tcase 'large':\n\t\t\treturn css`\n\t\t\t\t${from.tablet} {\n\t\t\t\t\tflex-basis: 34%;\n\t\t\t\t}\n\t\t\t`;\n\t\tcase 'jumbo':\n\t\t\treturn css`\n\t\t\t\t${from.tablet} {\n\t\t\t\t\tflex-basis: 25%;\n\t\t\t\t}\n\t\t\t`;\n\t}\n};\n\ntype Props = {\n\tchildren: React.ReactNode;\n\timageType?: CardImageType;\n\timageSize: ImageSizeType;\n\timagePosition: ImagePositionType;\n};\n\nexport const ContentWrapper = ({\n\tchildren,\n\timageType,\n\timageSize,\n\timagePosition,\n}: Props) => {\n\tconst isHorizontal = imagePosition === 'left' || imagePosition === 'right';\n\tconst isVertical = imagePosition === 'top' || imagePosition === 'bottom';\n\treturn (\n\t\t<div\n\t\t\tcss={[\n\t\t\t\tsizingStyles,\n\t\t\t\tisHorizontal && flexBasisStyles({ imageSize, imageType }),\n\t\t\t\t/* If the image is top or bottom positioned then it takes 100% of the width and\n\t\t\t\t   we want the content to grow into the remaining vertical space */\n\t\t\t\tisVertical &&\n\t\t\t\t\tcss`\n\t\t\t\t\t\tflex-grow: 1;\n\t\t\t\t\t`,\n\t\t\t]}\n\t\t>\n\t\t\t{children}\n\t\t</div>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { from } from '@guardian/source-foundations';\n\ntype Props = {\n\tchildren: React.ReactNode;\n\timagePosition?: ImagePositionType;\n\timagePositionOnMobile?: ImagePositionType;\n\timageUrl?: string;\n\thasStarRating?: boolean;\n};\n\nexport const HeadlineWrapper = ({\n\tchildren,\n\timagePosition,\n\timagePositionOnMobile,\n\timageUrl,\n\thasStarRating,\n}: Props) => (\n\t<div\n\t\tcss={css`\n\t\t\tpadding-bottom: 8px;\n\t\t\tpadding-left: 5px;\n\t\t\tpadding-right: 5px;\n\t\t\tpadding-top: ${imageUrl &&\n\t\t\timagePositionOnMobile &&\n\t\t\t(imagePositionOnMobile === 'left' ||\n\t\t\t\timagePositionOnMobile === 'right') &&\n\t\t\thasStarRating\n\t\t\t\t? '0px'\n\t\t\t\t: '1px'};\n\t\t\tflex-grow: 1;\n\n\t\t\t${from.phablet} {\n\t\t\t\tpadding-top: 1px;\n\t\t\t}\n\n\t\t\t${from.tablet} {\n\t\t\t\tpadding-top: ${imageUrl &&\n\t\t\t\timagePosition &&\n\t\t\t\t(imagePosition === 'left' || imagePosition === 'right') &&\n\t\t\t\thasStarRating\n\t\t\t\t\t? '0px'\n\t\t\t\t\t: '1px'};\n\t\t\t}\n\t\t`}\n\t>\n\t\t{children}\n\t</div>\n);\n","import { css } from '@emotion/react';\nimport { brandAlt, from } from '@guardian/source-foundations';\nimport { SvgMediaControlsPlay } from '@guardian/source-react-components';\n\ntype PlayButtonSize = 'small' | 'medium' | 'large' | 'xlarge';\n\nconst buttonSize = (size: PlayButtonSize) => {\n\tswitch (size) {\n\t\tcase 'small':\n\t\t\treturn 28;\n\t\tcase 'medium':\n\t\t\treturn 44;\n\t\tcase 'large':\n\t\t\treturn 48;\n\t\tcase 'xlarge':\n\t\t\treturn 60;\n\t}\n};\n\nconst iconSize = (size: PlayButtonSize) => {\n\tswitch (size) {\n\t\tcase 'small':\n\t\t\treturn 26;\n\t\tcase 'medium':\n\t\t\treturn 36;\n\t\tcase 'large':\n\t\t\treturn 40;\n\t\tcase 'xlarge':\n\t\t\treturn 54;\n\t}\n};\n\nconst iconWrapperStyles = css`\n\tdisplay: flex; /* Fixes the div mis-sizing itself */\n\tposition: absolute;\n\tbottom: 4px;\n\tleft: 4px;\n`;\n\nconst iconStyles = (size: PlayButtonSize, sizeOnMobile: PlayButtonSize) => css`\n\tbackground-color: ${brandAlt[400]};\n\tborder-radius: 50%;\n\twidth: ${buttonSize(sizeOnMobile)}px;\n\theight: ${buttonSize(sizeOnMobile)}px;\n\t${from.tablet} {\n\t\twidth: ${buttonSize(size)}px;\n\t\theight: ${buttonSize(size)}px;\n\t}\n\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\n\tsvg {\n\t\t/* Visual centering */\n\t\ttransform: translateX(1px);\n\t\twidth: ${iconSize(sizeOnMobile)}px;\n\t\theight: ${iconSize(sizeOnMobile)}px;\n\t\t${from.tablet} {\n\t\t\twidth: ${iconSize(size)}px;\n\t\t\theight: ${iconSize(size)}px;\n\t\t}\n\t}\n`;\n\nconst getIconSizeOnDesktop = (imageSize: ImageSizeType): PlayButtonSize => {\n\tif (imageSize === 'jumbo') return 'xlarge';\n\telse if (imageSize === 'large') return 'large';\n\telse if (imageSize === 'medium') return 'medium';\n\telse if (imageSize === 'small') return 'small';\n\telse return 'large';\n};\n\nconst getIconSizeOnMobile = (\n\timagePositionOnMobile: ImagePositionType,\n): PlayButtonSize =>\n\timagePositionOnMobile === 'left' || imagePositionOnMobile === 'right'\n\t\t? 'small'\n\t\t: 'large';\n\nexport const PlayIcon = ({\n\timageSize,\n\timagePositionOnMobile,\n}: {\n\timageSize: ImageSizeType;\n\timagePositionOnMobile: ImagePositionType;\n}) => {\n\treturn (\n\t\t<div css={iconWrapperStyles}>\n\t\t\t<span\n\t\t\t\tcss={[\n\t\t\t\t\ticonStyles(\n\t\t\t\t\t\tgetIconSizeOnDesktop(imageSize),\n\t\t\t\t\t\tgetIconSizeOnMobile(imagePositionOnMobile),\n\t\t\t\t\t),\n\t\t\t\t]}\n\t\t\t>\n\t\t\t\t<SvgMediaControlsPlay />\n\t\t\t</span>\n\t\t</div>\n\t);\n};\n","import type { SerializedStyles } from '@emotion/react';\nimport { css } from '@emotion/react';\nimport { between, from, until } from '@guardian/source-foundations';\nimport { PlayIcon } from './PlayIcon';\n\ntype Props = {\n\tchildren: React.ReactNode;\n\timageSize: ImageSizeType;\n\timageType?: CardImageType;\n\timagePosition: ImagePositionType;\n\timagePositionOnMobile: ImagePositionType;\n\tshowPlayIcon: boolean;\n};\n\n/**\n * This function works in partnership with its sibling in `ContentWrapper`. If you\n * change any values here be sure to update that file as well.\n *\n */\nconst flexBasisStyles = ({\n\timageSize,\n}: {\n\timageSize: ImageSizeType;\n}): SerializedStyles => {\n\tswitch (imageSize) {\n\t\tdefault:\n\t\tcase 'small':\n\t\t\treturn css`\n\t\t\t\tflex-basis: 25%;\n\t\t\t\t${between.tablet.and.desktop} {\n\t\t\t\t\tflex-basis: 40%;\n\t\t\t\t}\n\t\t\t\t${from.desktop} {\n\t\t\t\t\tflex-basis: 30%;\n\t\t\t\t}\n\t\t\t`;\n\t\tcase 'medium':\n\t\t\treturn css`\n\t\t\t\tflex-basis: 50%;\n\t\t\t`;\n\t\tcase 'large':\n\t\t\treturn css`\n\t\t\t\tflex-basis: 66%;\n\t\t\t`;\n\t\tcase 'jumbo':\n\t\t\treturn css`\n\t\t\t\tflex-basis: 75%;\n\t\t\t`;\n\t}\n};\n\nexport const ImageWrapper = ({\n\tchildren,\n\timageSize,\n\timageType,\n\timagePosition,\n\timagePositionOnMobile,\n\tshowPlayIcon,\n}: Props) => {\n\tconst isHorizontal = imagePosition === 'left' || imagePosition === 'right';\n\tconst isHorizontalOnMobile =\n\t\timagePositionOnMobile === 'left' || imagePositionOnMobile === 'right';\n\treturn (\n\t\t<div\n\t\t\tcss={[\n\t\t\t\timageType === 'mainMedia' &&\n\t\t\t\t\tisHorizontal &&\n\t\t\t\t\tflexBasisStyles({\n\t\t\t\t\t\timageSize,\n\t\t\t\t\t}),\n\t\t\t\timageType === 'avatar' &&\n\t\t\t\t\tcss`\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\tjustify-content: flex-end;\n\t\t\t\t\t`,\n\t\t\t\t/* If no image position for mobile is provided then hide the image */\n\t\t\t\timagePositionOnMobile === 'none' &&\n\t\t\t\t\tcss`\n\t\t\t\t\t\t${until.tablet} {\n\t\t\t\t\t\t\tdisplay: none;\n\t\t\t\t\t\t}\n\t\t\t\t\t`,\n\t\t\t\t/* Below tablet, we fix the size of the image and add a margin\n\t\t\t\t   around it. The corresponding content flex grows to fill the space */\n\t\t\t\tisHorizontalOnMobile &&\n\t\t\t\t\tcss`\n\t\t\t\t\t\t${until.tablet} {\n\t\t\t\t\t\t\twidth: 125px;\n\t\t\t\t\t\t\tflex-shrink: 0;\n\t\t\t\t\t\t\tmargin-top: 4px;\n\t\t\t\t\t\t\tmargin-right: 0;\n\t\t\t\t\t\t\tmargin-bottom: 4px;\n\t\t\t\t\t\t\tmargin-left: 4px;\n\t\t\t\t\t\t\tflex-basis: unset;\n\t\t\t\t\t\t\talign-self: flex-start;\n\t\t\t\t\t\t}\n\t\t\t\t\t`,\n\t\t\t\tisHorizontal &&\n\t\t\t\t\tcss`\n\t\t\t\t\t\t${from.tablet} {\n\t\t\t\t\t\t\talign-self: flex-start;\n\t\t\t\t\t\t}\n\t\t\t\t\t`,\n\t\t\t\tcss`\n\t\t\t\t\t/* position relative is required here to bound the image overlay */\n\t\t\t\t\tposition: relative;\n\t\t\t\t\timg {\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\tdisplay: block;\n\t\t\t\t\t}\n\t\t\t\t`,\n\t\t\t]}\n\t\t>\n\t\t\t<>\n\t\t\t\t{children}\n\t\t\t\t{/* This image overlay is styled when the CardLink is hovered */}\n\t\t\t\t{imageType === 'mainMedia' && <div className=\"image-overlay\" />}\n\t\t\t\t{imageType === 'mainMedia' && showPlayIcon && (\n\t\t\t\t\t<PlayIcon\n\t\t\t\t\t\timageSize={imageSize}\n\t\t\t\t\t\timagePositionOnMobile={imagePositionOnMobile}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</>\n\t\t</div>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { body, until } from '@guardian/source-foundations';\nimport type { DCRContainerPalette } from '../../../../types/front';\nimport { decidePalette } from '../../../lib/decidePalette';\n\ntype Props = {\n\tchildren: string | React.ReactNode;\n\tformat: ArticleFormat;\n\tcontainerPalette?: DCRContainerPalette;\n\timagePosition?: ImagePositionType;\n\timageSize?: ImageSizeType;\n\timageType?: CardImageType | undefined;\n};\n\nconst showTrailText = (\n\timagePosition?: ImagePositionType,\n\timageSize?: ImageSizeType,\n\timageType?: CardImageType | undefined,\n) => {\n\tif (\n\t\timageSize === 'large' &&\n\t\timagePosition === 'right' &&\n\t\timageType !== 'avatar'\n\t)\n\t\treturn css`\n\t\t\t${until.desktop} {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t`;\n\treturn css`\n\t\t${until.tablet} {\n\t\t\tdisplay: none;\n\t\t}\n\t`;\n};\n\nexport const TrailTextWrapper = ({\n\tchildren,\n\tformat,\n\tcontainerPalette,\n\timagePosition,\n\timageSize,\n\timageType,\n}: Props) => {\n\tconst palette = decidePalette(format, containerPalette);\n\treturn (\n\t\t<div\n\t\t\tcss={[\n\t\t\t\tcss`\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-direction: column;\n\t\t\t\t\tcolor: ${palette.text.cardStandfirst};\n\n\t\t\t\t\t${body.small({ lineHeight: 'regular' })};\n\t\t\t\t\tfont-size: 14px;\n\n\t\t\t\t\tpadding-left: 5px;\n\t\t\t\t\tpadding-right: 5px;\n\t\t\t\t\tpadding-bottom: 8px;\n\t\t\t\t`,\n\t\t\t\tshowTrailText(imagePosition, imageSize, imageType),\n\t\t\t]}\n\t\t>\n\t\t\t{children}\n\t\t</div>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { ArticleDesign } from '@guardian/libs';\nimport { brandAltBackground, from, space } from '@guardian/source-foundations';\nimport { Link } from '@guardian/source-react-components';\nimport { StraightLines } from '@guardian/source-react-components-development-kitchen';\nimport type { Branding } from '../../../types/branding';\nimport type {\n\tDCRContainerPalette,\n\tDCRContainerType,\n\tDCRSnapType,\n\tDCRSupportingContent,\n} from '../../../types/front';\nimport type { Palette } from '../../../types/palette';\nimport { decidePalette } from '../../lib/decidePalette';\nimport { getZIndex } from '../../lib/getZIndex';\nimport { Avatar } from '../Avatar';\nimport { CardHeadline } from '../CardHeadline';\nimport { CardPicture } from '../CardPicture';\nimport { Hide } from '../Hide';\nimport { MediaMeta } from '../MediaMeta';\nimport { Snap } from '../Snap';\nimport { StarRating } from '../StarRating/StarRating';\nimport type { Alignment } from '../SupportingContent';\nimport { SupportingContent } from '../SupportingContent';\nimport { AvatarContainer } from './components/AvatarContainer';\nimport { CardAge } from './components/CardAge';\nimport { CardBranding } from './components/CardBranding';\nimport { CardFooter } from './components/CardFooter';\nimport { CardLayout } from './components/CardLayout';\nimport { CardLink } from './components/CardLink';\nimport { CardWrapper } from './components/CardWrapper';\nimport { ContentWrapper } from './components/ContentWrapper';\nimport { HeadlineWrapper } from './components/HeadlineWrapper';\nimport { ImageWrapper } from './components/ImageWrapper';\nimport { TrailTextWrapper } from './components/TrailTextWrapper';\n\nexport type Props = {\n\tlinkTo: string;\n\tformat: ArticleFormat;\n\theadlineText: string;\n\theadlineSize?: SmallHeadlineSize;\n\theadlineSizeOnMobile?: SmallHeadlineSize;\n\tshowQuotedHeadline?: boolean;\n\tbyline?: string;\n\tshowByline?: boolean;\n\twebPublicationDate?: string;\n\timageUrl?: string;\n\timagePosition?: ImagePositionType;\n\timagePositionOnMobile?: ImagePositionType;\n\t/** Size is ignored when position = 'top' because in that case the image flows based on width */\n\timageSize?: ImageSizeType;\n\tisCrossword?: boolean;\n\ttrailText?: string;\n\tavatarUrl?: string;\n\tshowClock?: boolean;\n\tmediaType?: MediaType;\n\tmediaDuration?: number;\n\tshowMainVideo?: boolean;\n\tkickerText?: string;\n\tshowPulsingDot?: boolean;\n\tstarRating?: number;\n\tminWidthInPixels?: number;\n\t/** Used for Ophan tracking */\n\tdataLinkName?: string;\n\t/** Only used on Labs cards */\n\tbranding?: Branding;\n\tsupportingContent?: DCRSupportingContent[];\n\tsupportingContentAlignment?: Alignment;\n\tsnapData?: DCRSnapType;\n\tcontainerPalette?: DCRContainerPalette;\n\tcontainerType?: DCRContainerType;\n\tshowAge?: boolean;\n\tdiscussionId?: string;\n\t/** The first card in a dynamic package is ”Dynamo” and gets special styling */\n\tisDynamo?: true;\n\tisExternalLink: boolean;\n};\n\nconst StarRatingComponent = ({\n\trating,\n\tcardHasImage,\n}: {\n\trating: number;\n\tcardHasImage: boolean;\n}) => (\n\t<div\n\t\tcss={css`\n\t\t\tbackground-color: ${brandAltBackground.primary};\n\t\t\tmargin-top: ${cardHasImage ? '2' : space[1]}px;\n\t\t\tdisplay: inline-block;\n\n\t\t\t${from.tablet} {\n\t\t\t\tmargin-top: ${space[1]}px;\n\t\t\t}\n\t\t`}\n\t>\n\t\t<Hide when=\"above\" breakpoint=\"desktop\">\n\t\t\t<StarRating rating={rating} size=\"small\" breakpoint=\"mobile\" />\n\t\t</Hide>\n\t\t<Hide when=\"below\" breakpoint=\"desktop\">\n\t\t\t<StarRating\n\t\t\t\trating={rating}\n\t\t\t\tsize={cardHasImage ? 'medium' : 'small'}\n\t\t\t\tbreakpoint=\"wide\"\n\t\t\t/>\n\t\t</Hide>\n\t</div>\n);\n\n/**\n * This functions contains the business logic that decides when the card age should be\n * shown. It uses the format of the article the card links to as well as information\n * about the container where the card sits.\n *\n */\nconst decideIfAgeShouldShow = ({\n\tcontainerPalette,\n\tformat,\n\tshowAge,\n}: {\n\tcontainerPalette?: DCRContainerPalette;\n\tformat: ArticleFormat;\n\tshowAge: boolean;\n}): boolean => {\n\t// Some containers force all cards to show age. E.g., The articles in the headlines\n\t// container are typically very recent so we want to display age there\n\tif (showAge) return true;\n\t// Palettes are time sensitive so show age if one is being used\n\tif (containerPalette) return true;\n\t// Liveblogs are evidently time sensitive\n\tif (format.design === ArticleDesign.LiveBlog) return true;\n\t// Otherwise, do not show the article age on the Card\n\treturn false;\n};\n\ntype RenderFooter = ({\n\tdisplayAge,\n\tdisplayLines,\n}: {\n\tdisplayAge: boolean;\n\tdisplayLines: boolean;\n}) => JSX.Element;\n\nconst DecideFooter = ({\n\tisOpinion,\n\thasSublinks,\n\tdisplayAge,\n\trenderFooter,\n}: {\n\tisOpinion: boolean;\n\thasSublinks?: boolean;\n\tdisplayAge: boolean;\n\trenderFooter: RenderFooter;\n}) => {\n\tif (isOpinion && !hasSublinks) {\n\t\t// Opinion cards without sublinks render the entire footer, including lines,\n\t\t// outside, sitting along the very bottom of the card\n\t\treturn null;\n\t}\n\t// For all other cases (including opinion cards that *do* have sublinks) we\n\t// render a version of the footer without lines here\n\treturn renderFooter({\n\t\tdisplayAge,\n\t\tdisplayLines: false,\n\t});\n\t// Note. Opinion cards always show the lines at the bottom of the card (in CommentFooter)\n};\n\nconst CommentFooter = ({\n\thasSublinks,\n\tpalette,\n\tdisplayAge,\n\trenderFooter,\n}: {\n\thasSublinks?: boolean;\n\tpalette: Palette;\n\tdisplayAge: boolean;\n\trenderFooter: RenderFooter;\n}) => {\n\treturn hasSublinks ? (\n\t\t// For opinion cards with sublinks there is already a footer rendered inside that\n\t\t// shows the metadata. We only want to render the lines here\n\t\t<StraightLines color={palette.border.lines} count={4} />\n\t) : (\n\t\t// When an opinion card has no sublinks we show the entire footer, including lines\n\t\t// outside, along the entire bottom of the card\n\t\trenderFooter({\n\t\t\tdisplayAge,\n\t\t\tdisplayLines: true,\n\t\t})\n\t);\n};\n\nconst getImage = ({\n\timageUrl,\n\tavatarUrl,\n\tisCrossword,\n}: {\n\timageUrl?: string;\n\tavatarUrl?: string;\n\tisCrossword?: boolean;\n}): { type: CardImageType; src: string } | undefined => {\n\tif (avatarUrl) return { type: 'avatar', src: avatarUrl };\n\tif (imageUrl) {\n\t\tconst type = isCrossword ? 'crossword' : 'mainMedia';\n\t\treturn { type, src: imageUrl };\n\t}\n\treturn undefined;\n};\n\nconst decideSublinkPosition = (\n\tsupportingContent?: DCRSupportingContent[],\n\timagePosition?: ImagePositionType,\n\talignment?: Alignment,\n): 'inner' | 'outer' | 'none' => {\n\tif (!supportingContent || supportingContent.length === 0) {\n\t\treturn 'none';\n\t}\n\tif (imagePosition === 'top' || imagePosition === 'bottom') {\n\t\treturn 'outer';\n\t}\n\treturn alignment === 'vertical' ? 'inner' : 'outer';\n};\n\nexport const Card = ({\n\tlinkTo,\n\tformat,\n\theadlineText,\n\theadlineSize,\n\theadlineSizeOnMobile,\n\tshowQuotedHeadline,\n\tbyline,\n\tshowByline,\n\twebPublicationDate,\n\timageUrl,\n\timagePosition = 'top',\n\timagePositionOnMobile = 'left',\n\timageSize = 'small',\n\ttrailText,\n\tavatarUrl,\n\tshowClock,\n\tmediaType,\n\tmediaDuration,\n\tshowMainVideo,\n\tkickerText,\n\tshowPulsingDot,\n\tstarRating,\n\tminWidthInPixels,\n\tdataLinkName,\n\tbranding,\n\tsupportingContent,\n\tsupportingContentAlignment = 'vertical',\n\tsnapData,\n\tcontainerPalette,\n\tcontainerType,\n\tshowAge = false,\n\tdiscussionId,\n\tisDynamo,\n\tisCrossword,\n\tisExternalLink,\n}: Props) => {\n\tconst palette = decidePalette(format, containerPalette);\n\n\tconst hasSublinks = supportingContent && supportingContent.length > 0;\n\tconst sublinkPosition = decideSublinkPosition(\n\t\tsupportingContent,\n\t\timagePosition,\n\t\tsupportingContentAlignment,\n\t);\n\n\tconst showQuotes = !!showQuotedHeadline;\n\n\tconst isOpinion =\n\t\tformat.design === ArticleDesign.Comment ||\n\t\tformat.design === ArticleDesign.Editorial ||\n\t\tformat.design === ArticleDesign.Letter;\n\n\tconst renderFooter = ({\n\t\tdisplayAge,\n\t\tdisplayLines,\n\t}: {\n\t\tdisplayAge?: boolean;\n\t\tdisplayLines?: boolean;\n\t}) => {\n\t\treturn (\n\t\t\t<CardFooter\n\t\t\t\tformat={format}\n\t\t\t\tcontainerPalette={containerPalette}\n\t\t\t\tdisplayLines={displayLines}\n\t\t\t\tage={\n\t\t\t\t\tdisplayAge && webPublicationDate ? (\n\t\t\t\t\t\t<CardAge\n\t\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\t\tcontainerPalette={containerPalette}\n\t\t\t\t\t\t\twebPublicationDate={webPublicationDate}\n\t\t\t\t\t\t\tshowClock={showClock}\n\t\t\t\t\t\t\tisDynamo={isDynamo}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : undefined\n\t\t\t\t}\n\t\t\t\tcommentCount={\n\t\t\t\t\tdiscussionId ? (\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t// This a tag is initially rendered empty. It gets populated later\n\t\t\t\t\t\t\t// after a fetch call is made to get all the counts for each Card\n\t\t\t\t\t\t\t// on the page with a discussion (see FetchCommentCounts.tsx)\n\t\t\t\t\t\t\tdata-discussion-id={discussionId}\n\t\t\t\t\t\t\tdata-format={JSON.stringify(format)}\n\t\t\t\t\t\t\tdata-is-dynamo={isDynamo ? 'true' : undefined}\n\t\t\t\t\t\t\tdata-container-palette={containerPalette}\n\t\t\t\t\t\t\tdata-ignore=\"global-link-styling\"\n\t\t\t\t\t\t\tdata-link-name=\"Comment count\"\n\t\t\t\t\t\t\thref={`${linkTo}#comments`}\n\t\t\t\t\t\t\tcssOverrides={css`\n\t\t\t\t\t\t\t\t/* See: https://css-tricks.com/nested-links/ */\n\t\t\t\t\t\t\t\t${getZIndex('card-nested-link')}\n\t\t\t\t\t\t\t\t/* The following styles turn off those provided by Link */\n\t\t\t\t\t\t\t\tcolor: inherit;\n\t\t\t\t\t\t\t\t/* stylelint-disable-next-line property-disallowed-list */\n\t\t\t\t\t\t\t\tfont-family: inherit;\n\t\t\t\t\t\t\t\tfont-size: inherit;\n\t\t\t\t\t\t\t\tline-height: inherit;\n\t\t\t\t\t\t\t\ttext-decoration: none;\n\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : undefined\n\t\t\t\t}\n\t\t\t\tcardBranding={\n\t\t\t\t\tbranding ? (\n\t\t\t\t\t\t<CardBranding branding={branding} format={format} />\n\t\t\t\t\t) : undefined\n\t\t\t\t}\n\t\t\t/>\n\t\t);\n\t};\n\n\tconst displayAge = decideIfAgeShouldShow({\n\t\tcontainerPalette,\n\t\tformat,\n\t\tshowAge,\n\t});\n\n\tif (snapData?.embedHtml) {\n\t\treturn <Snap snapData={snapData} />;\n\t}\n\n\tconst image = getImage({\n\t\timageUrl,\n\t\tavatarUrl,\n\t\tisCrossword,\n\t});\n\n\treturn (\n\t\t<CardWrapper\n\t\t\tformat={format}\n\t\t\tcontainerPalette={containerPalette}\n\t\t\tcontainerType={containerType}\n\t\t\tisDynamo={isDynamo}\n\t\t>\n\t\t\t<CardLink\n\t\t\t\tlinkTo={linkTo}\n\t\t\t\theadlineText={headlineText}\n\t\t\t\tdataLinkName={dataLinkName}\n\t\t\t\tisExternalLink={isExternalLink}\n\t\t\t/>\n\t\t\t<CardLayout\n\t\t\t\timagePosition={imagePosition}\n\t\t\t\timagePositionOnMobile={imagePositionOnMobile}\n\t\t\t\tminWidthInPixels={minWidthInPixels}\n\t\t\t\timageType={image?.type}\n\t\t\t>\n\t\t\t\t{image && (\n\t\t\t\t\t<ImageWrapper\n\t\t\t\t\t\timageSize={imageSize}\n\t\t\t\t\t\timageType={image.type}\n\t\t\t\t\t\timagePosition={imagePosition}\n\t\t\t\t\t\timagePositionOnMobile={imagePositionOnMobile}\n\t\t\t\t\t\tshowPlayIcon={showMainVideo ?? false}\n\t\t\t\t\t>\n\t\t\t\t\t\t{image.type === 'avatar' && (\n\t\t\t\t\t\t\t<AvatarContainer\n\t\t\t\t\t\t\t\timageSize={imageSize}\n\t\t\t\t\t\t\t\timagePosition={imagePosition}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Avatar\n\t\t\t\t\t\t\t\t\tsrc={image.src}\n\t\t\t\t\t\t\t\t\talt={byline ?? ''}\n\t\t\t\t\t\t\t\t\tcontainerPalette={containerPalette}\n\t\t\t\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</AvatarContainer>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{image.type === 'mainMedia' && (\n\t\t\t\t\t\t\t<CardPicture\n\t\t\t\t\t\t\t\tmaster={image.src}\n\t\t\t\t\t\t\t\timageSize={imageSize}\n\t\t\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{image.type === 'crossword' && (\n\t\t\t\t\t\t\t<img src={image.src} alt=\"\" />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</ImageWrapper>\n\t\t\t\t)}\n\t\t\t\t<ContentWrapper\n\t\t\t\t\timageType={image?.type}\n\t\t\t\t\timageSize={imageSize}\n\t\t\t\t\timagePosition={imagePosition}\n\t\t\t\t>\n\t\t\t\t\t<HeadlineWrapper\n\t\t\t\t\t\timagePositionOnMobile={imagePositionOnMobile}\n\t\t\t\t\t\timagePosition={imagePosition}\n\t\t\t\t\t\timageUrl={imageUrl}\n\t\t\t\t\t\thasStarRating={starRating !== undefined}\n\t\t\t\t\t>\n\t\t\t\t\t\t<CardHeadline\n\t\t\t\t\t\t\theadlineText={headlineText}\n\t\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\t\tcontainerPalette={containerPalette}\n\t\t\t\t\t\t\tsize={headlineSize}\n\t\t\t\t\t\t\tsizeOnMobile={headlineSizeOnMobile}\n\t\t\t\t\t\t\tshowQuotes={showQuotes}\n\t\t\t\t\t\t\tkickerText={\n\t\t\t\t\t\t\t\tformat.design === ArticleDesign.LiveBlog\n\t\t\t\t\t\t\t\t\t? 'Live'\n\t\t\t\t\t\t\t\t\t: kickerText\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tshowPulsingDot={\n\t\t\t\t\t\t\t\tformat.design === ArticleDesign.LiveBlog ||\n\t\t\t\t\t\t\t\tshowPulsingDot\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbyline={byline}\n\t\t\t\t\t\t\tshowByline={showByline}\n\t\t\t\t\t\t\tisDynamo={isDynamo}\n\t\t\t\t\t\t\tisExternalLink={isExternalLink}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{starRating !== undefined ? (\n\t\t\t\t\t\t\t<StarRatingComponent\n\t\t\t\t\t\t\t\trating={starRating}\n\t\t\t\t\t\t\t\tcardHasImage={imageUrl !== undefined}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t{(format.design === ArticleDesign.Gallery ||\n\t\t\t\t\t\t\tformat.design === ArticleDesign.Audio ||\n\t\t\t\t\t\t\tformat.design === ArticleDesign.Video) &&\n\t\t\t\t\t\tmediaType ? (\n\t\t\t\t\t\t\t<MediaMeta\n\t\t\t\t\t\t\t\tcontainerPalette={containerPalette}\n\t\t\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\t\t\tmediaType={mediaType}\n\t\t\t\t\t\t\t\tmediaDuration={mediaDuration}\n\t\t\t\t\t\t\t\thasKicker={!!kickerText}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : undefined}\n\t\t\t\t\t</HeadlineWrapper>\n\t\t\t\t\t{/* This div is needed to push this content to the bottom of the card */}\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{!!trailText && (\n\t\t\t\t\t\t\t<TrailTextWrapper\n\t\t\t\t\t\t\t\tcontainerPalette={containerPalette}\n\t\t\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\t\t\timagePosition={imagePosition}\n\t\t\t\t\t\t\t\timageSize={imageSize}\n\t\t\t\t\t\t\t\timageType={image?.type}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t__html: trailText,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</TrailTextWrapper>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<DecideFooter\n\t\t\t\t\t\t\tisOpinion={isOpinion}\n\t\t\t\t\t\t\thasSublinks={hasSublinks}\n\t\t\t\t\t\t\tdisplayAge={displayAge}\n\t\t\t\t\t\t\trenderFooter={renderFooter}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{hasSublinks && sublinkPosition === 'inner' ? (\n\t\t\t\t\t\t\t<SupportingContent\n\t\t\t\t\t\t\t\tsupportingContent={supportingContent}\n\t\t\t\t\t\t\t\talignment=\"vertical\"\n\t\t\t\t\t\t\t\tcontainerPalette={containerPalette}\n\t\t\t\t\t\t\t\tisDynamo={isDynamo}\n\t\t\t\t\t\t\t\tparentFormat={format}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<></>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</ContentWrapper>\n\t\t\t</CardLayout>\n\n\t\t\t{hasSublinks && sublinkPosition === 'outer' ? (\n\t\t\t\t<SupportingContent\n\t\t\t\t\tsupportingContent={supportingContent}\n\t\t\t\t\tparentFormat={format}\n\t\t\t\t\tcontainerPalette={containerPalette}\n\t\t\t\t\tisDynamo={isDynamo}\n\t\t\t\t\talignment={supportingContentAlignment}\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<></>\n\t\t\t)}\n\t\t\t{isOpinion && !isDynamo && (\n\t\t\t\t<CommentFooter\n\t\t\t\t\thasSublinks={hasSublinks}\n\t\t\t\t\tdisplayAge={displayAge}\n\t\t\t\t\tpalette={palette}\n\t\t\t\t\trenderFooter={renderFooter}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</CardWrapper>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { from, space, until } from '@guardian/source-foundations';\nimport type { DCRContainerPalette } from '../../../../types/front';\nimport { verticalDivider } from '../../../lib/verticalDivider';\nimport { verticalDividerWithBottomOffset } from '../../../lib/verticalDividerWithBottomOffset';\n\n/**\n * This value needs to match the one set\n * in the `verticalDividerWithBottomOffset`\n */\nconst GAP_SIZE = `${space[3]}px`;\n\nconst liStyles = css`\n\t/* This position relative is needed to contain the vertical divider */\n\tposition: relative;\n\n\tdisplay: flex;\n\trow-gap: ${GAP_SIZE};\n`;\n\nconst sidePaddingStyles = (padSidesOnMobile: boolean) => css`\n\t/* Set spacing on the li element */\n\t${padSidesOnMobile && until.tablet} {\n\t\tpadding-left: 10px;\n\t\tpadding-right: 10px;\n\t}\n\n\t${from.tablet} {\n\t\tpadding-left: 10px;\n\t\tpadding-right: 10px;\n\t}\n`;\n\nconst snapAlignStartStyles = css`\n\t/* Snap start of card */\n\tscroll-snap-align: start;\n`;\n\nconst decideSize = (percentage?: CardPercentageType, stretch?: boolean) => {\n\tlet sizeStyle;\n\tif (percentage) {\n\t\tsizeStyle = css`\n\t\t\tflex-basis: ${percentage};\n\t\t\t${stretch &&\n\t\t\tcss`\n\t\t\t\tflex-grow: 1;\n\t\t\t`}\n\t\t`;\n\t} else if (stretch) {\n\t\tsizeStyle = css`\n\t\t\tflex-grow: 1;\n\t\t`;\n\t} else {\n\t\tsizeStyle = css`\n\t\t\tflex: 1;\n\t\t`;\n\t}\n\treturn sizeStyle;\n};\n\nconst decideDivider = (\n\toffsetBottomPaddingOnDivider: boolean,\n\tpaddingSize: string,\n\tcontainerPalette?: DCRContainerPalette,\n) =>\n\toffsetBottomPaddingOnDivider\n\t\t? verticalDividerWithBottomOffset(paddingSize, containerPalette)\n\t\t: verticalDivider(containerPalette);\n\ntype Props = {\n\tchildren: React.ReactNode;\n\t/** Used to give a particular LI more or less weight / space */\n\tpercentage?: CardPercentageType;\n\t/** When true, the card stretches based on content */\n\tstretch?: boolean;\n\t/** If this LI wraps a card in a row this should be true */\n\tshowDivider?: boolean;\n\t/** If this LI directly wraps a card this should be true */\n\tpadSides?: boolean;\n\t/** Should be true if spacing between cards is desired on mobile devices */\n\tpadSidesOnMobile?: boolean;\n\t/** True when snapping card when scrolling e.g. in carousel */\n\tsnapAlignStart?: boolean;\n\t/** Prevent the divider from spanning the LI's bottom padding. To be used when you know that the\n\tLI will have bottom padding, but won't have another card in the same container directly below it. */\n\toffsetBottomPaddingOnDivider?: boolean;\n\n\tcontainerPalette?: DCRContainerPalette;\n};\n\nexport const LI = ({\n\tchildren,\n\tpercentage,\n\tstretch,\n\tshowDivider,\n\tpadSides = false,\n\tpadSidesOnMobile = false,\n\tsnapAlignStart = false,\n\toffsetBottomPaddingOnDivider = false,\n\tcontainerPalette,\n}: Props) => {\n\t// Decide sizing\n\tconst sizeStyles = decideSize(percentage, stretch);\n\n\treturn (\n\t\t<li\n\t\t\tcss={[\n\t\t\t\tliStyles,\n\t\t\t\tsizeStyles,\n\t\t\t\tshowDivider &&\n\t\t\t\t\tdecideDivider(\n\t\t\t\t\t\toffsetBottomPaddingOnDivider,\n\t\t\t\t\t\tGAP_SIZE,\n\t\t\t\t\t\tcontainerPalette,\n\t\t\t\t\t),\n\t\t\t\tpadSides && sidePaddingStyles(padSidesOnMobile),\n\t\t\t\tsnapAlignStart && snapAlignStartStyles,\n\t\t\t]}\n\t\t>\n\t\t\t{children}\n\t\t</li>\n\t);\n};\n","import type { SerializedStyles } from '@emotion/react';\nimport { css } from '@emotion/react';\nimport { border, from } from '@guardian/source-foundations';\nimport type { DCRContainerPalette } from '../../types/front';\nimport { decideContainerOverrides } from './decideContainerOverrides';\n\nexport function verticalDividerWithBottomOffset(\n\tbottomPaddingSize: string,\n\tcontainerPalette?: DCRContainerPalette,\n): SerializedStyles {\n\tconst containerOverrides =\n\t\tcontainerPalette && decideContainerOverrides(containerPalette);\n\n\treturn css`\n\t\t${from.tablet} {\n\t\t\t:before {\n\t\t\t\tcontent: '';\n\t\t\t\tdisplay: block;\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 0;\n\t\t\t\tbottom: 0;\n\t\t\t\tleft: 0;\n\t\t\t\twidth: 1px;\n\t\t\t\t/* 100% is a reasonable fallback for browsers which don't support calc() */\n\t\t\t\theight: 100%;\n\t\t\t\theight: calc(100% + ${bottomPaddingSize});\n\t\t\t\tborder-left: 1px solid\n\t\t\t\t\t${containerOverrides\n\t\t\t\t\t\t? containerOverrides.border.container\n\t\t\t\t\t\t: border.secondary};\n\t\t\t}\n\t\t}\n\t`;\n}\n","import { css } from '@emotion/react';\nimport type { Breakpoint } from '@guardian/source-foundations';\nimport { from, until } from '@guardian/source-foundations';\n\ninterface Props {\n\tchildren: React.ReactNode;\n\twhen: 'above' | 'below';\n\tbreakpoint: Breakpoint;\n}\n\ninterface PropsSpan extends Props {\n\tel?: 'span';\n}\ninterface PropsLi extends Props {\n\tel: 'li';\n}\n\nexport const Hide = ({\n\tchildren,\n\twhen,\n\tbreakpoint,\n\tel,\n}: PropsSpan | PropsLi) => {\n\tlet whenToHide;\n\tif (when === 'below') {\n\t\twhenToHide = css`\n\t\t\t${until[breakpoint]} {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t`;\n\t} else {\n\t\twhenToHide = css`\n\t\t\t${from[breakpoint]} {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t`;\n\t}\n\treturn el === 'li' ? (\n\t\t<li css={whenToHide}>{children}</li>\n\t) : (\n\t\t<span css={whenToHide}>{children}</span>\n\t);\n};\n","import { css, keyframes } from '@emotion/react';\nimport { storage } from '@guardian/libs';\nimport { useEffect, useState } from 'react';\n\nconst dotStyles = (colour?: string) => css`\n\tcolor: ${colour && colour};\n\t:before {\n\t\tborder-radius: 62.5rem;\n\t\tdisplay: inline-block;\n\t\tposition: relative;\n\t\tbackground-color: currentColor;\n\t\twidth: 0.75em;\n\t\theight: 0.75em;\n\t\tcontent: '';\n\t\tmargin-right: 0.1875rem;\n\t\tvertical-align: initial;\n\t}\n`;\n\nconst livePulse = keyframes`\n    0% {opacity: 1;}\n    10% {opacity: .25;}\n    40% {opacity: 1;}\n    100% {opacity: 1;}\n`;\n\nconst animate = css`\n\t&[data-animate='true'] {\n\t\tanimation: ${livePulse} 1s infinite;\n\n\t\t@media (prefers-reduced-motion: reduce) {\n\t\t\tanimation: none;\n\t\t}\n\t}\n`;\n\ninterface Props {\n\tcolour?: string;\n}\n\nexport const PulsingDot = ({ colour }: Props) => {\n\tconst [hydrated, setHydrated] = useState(false);\n\tconst [shouldFlash, setShouldFlash] = useState(false);\n\n\tuseEffect(() => {\n\t\t// Respect the accessibility flag set here\n\t\t// https://www.theguardian.com/help/accessibility-help\n\n\t\tconst flashingPreference = storage.local.get(\n\t\t\t'gu.prefs.accessibility.flashing-elements',\n\t\t);\n\n\t\t// flashingPreference is null if no preference exists and explicitly\n\t\t// false when the reader has said they don't want flashing\n\t\tsetShouldFlash(flashingPreference !== false);\n\t\t// We use this to track if the flashing dot is hydrated\n\t\t// Uses of pulsing dot that aren't in islands can instead be animated by\n\t\t// the 'AnimatePulsingDots.importable.tsx' component\n\t\tsetHydrated(true);\n\t}, []);\n\n\treturn (\n\t\t<span\n\t\t\tcss={[dotStyles(colour), animate]}\n\t\t\tdata-flashing-dot-hydrated={hydrated}\n\t\t\t/**\n\t\t\t * How is the pulsing dot animated?\n\t\t\t *\n\t\t\t * We only enable the animation for the pulsing dot on the client side,\n\t\t\t * this is so that we can check each users flashing-elements configuration\n\t\t\t * and only animate if we verify the use doesn't have it disabled.\n\t\t\t *\n\t\t\t * There are two ways this hydration can be achieved:\n\t\t\t * 1. This file is loaded within an island, this happens in onwards content,\n\t\t\t *    where the useEffect will run & enable data-animate below\n\t\t\t * 2. An additional island can be loaded on the page 'AnimatePulsingDots.importable.tsx',\n\t\t\t *    which checks for un-hydrating pulsing dots and animate them if user settings allow.\n\t\t\t *    This is seen on Fronts and liveblogs.\n\t\t\t *\n\t\t\t * This animation is enabled/disabled through the data-animate attribute, which a CSS selector checks for\n\t\t\t * before setting the 'animate' property. This method allows us to enable the animation through both methods\n\t\t\t * outlined above.\n\t\t\t */\n\t\t\tdata-animate={shouldFlash}\n\t\t/>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { PulsingDot } from './PulsingDot';\n\n// Defines a prefix to be used with a headline (e.g. 'Live /')\ntype Props = {\n\ttext: string;\n\tcolor: string;\n\tshowPulsingDot?: boolean;\n\thideLineBreak?: boolean;\n};\n\nconst kickerStyles = (colour: string) => css`\n\tcolor: ${colour};\n\tfont-weight: 700;\n\tmargin-right: 4px;\n`;\n\nexport const Kicker = ({\n\ttext,\n\tcolor,\n\tshowPulsingDot,\n\thideLineBreak,\n}: Props) => {\n\treturn (\n\t\t<div\n\t\t\tcss={[\n\t\t\t\tkickerStyles(color),\n\t\t\t\thideLineBreak &&\n\t\t\t\t\tcss`\n\t\t\t\t\t\tdisplay: inline-block;\n\t\t\t\t\t`,\n\t\t\t]}\n\t\t>\n\t\t\t{showPulsingDot && <PulsingDot colour={color} />}\n\t\t\t{text}\n\t\t</div>\n\t);\n};\n","import { neutral } from '@guardian/source-foundations';\n\nexport const Star = ({\n\tstarId,\n\tisEmpty,\n}: {\n\tstarId: string;\n\tisEmpty: boolean;\n}) => {\n\tif (isEmpty)\n\t\treturn (\n\t\t\t<svg width=\"14\" height=\"13\" viewBox=\"0 0 14 13\">\n\t\t\t\t<path\n\t\t\t\t\tid={`star-${starId}`}\n\t\t\t\t\tclipPath={`url(#clip-${starId})`}\n\t\t\t\t\tstrokeWidth=\"2\"\n\t\t\t\t\tstroke={neutral[7]}\n\t\t\t\t\tfill=\"transparent\"\n\t\t\t\t\td=\"M0 5.2L3.7 8l-1.4 4.6.5.4 3.7-2.8 3.7 2.8.5-.4L9.3 8 13 5.2l-.2-.6H8.2L6.8 0h-.6L4.8 4.6H.2l-.2.6z\"\n\t\t\t\t/>\n\t\t\t\t<clipPath id={`clip-${starId}`}>\n\t\t\t\t\t<use xlinkHref={`#star-${starId}`} stroke=\"none\" />\n\t\t\t\t</clipPath>\n\t\t\t</svg>\n\t\t);\n\n\treturn (\n\t\t<svg width=\"14\" height=\"13\" viewBox=\"0 0 14 13\">\n\t\t\t<path\n\t\t\t\tfill={neutral[7]}\n\t\t\t\tstrokeWidth=\"0\"\n\t\t\t\td=\"M0 5.2L3.7 8l-1.4 4.6.5.4 3.7-2.8 3.7 2.8.5-.4L9.3 8 13 5.2l-.2-.6H8.2L6.8 0h-.6L4.8 4.6H.2l-.2.6z\"\n\t\t\t/>\n\t\t</svg>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { Star } from '../../../static/icons/Star';\nimport type { RatingSizeType } from '../../../types/content';\nimport { Breakpoint } from '@guardian/source-foundations';\n\nconst starWrapper = css`\n\tdisplay: inline-block;\n\tpadding: 1px;\n`;\n\nconst determineSize = (size: RatingSizeType) => {\n\tswitch (size) {\n\t\tcase 'small':\n\t\t\treturn css`\n\t\t\t\tpadding: 0 2px;\n\t\t\t\tsvg {\n\t\t\t\t\twidth: 12px;\n\t\t\t\t\theight: 12px;\n\t\t\t\t}\n\t\t\t`;\n\t\tcase 'medium':\n\t\t\treturn css`\n\t\t\t\tpadding: 1px;\n\t\t\t\tsvg {\n\t\t\t\t\twidth: 16px;\n\t\t\t\t\theight: 16px;\n\t\t\t\t}\n\t\t\t`;\n\t\tcase 'large':\n\t\t\treturn css`\n\t\t\t\tpadding: 2px 1px 2px 2px;\n\t\t\t\tsvg {\n\t\t\t\t\twidth: 20px;\n\t\t\t\t\theight: 20px;\n\t\t\t\t}\n\t\t\t`;\n\t}\n};\n\nconst determineBreakpoint = (breakpoint: Breakpoint | undefined) =>\n\tbreakpoint === undefined ? 'all-breakpoints' : breakpoint;\n\ntype Props = {\n\trating: number;\n\tsize: RatingSizeType;\n\tbreakpoint?: Breakpoint;\n};\n\nexport const StarRating = ({ rating, size, breakpoint }: Props) => (\n\t<div css={determineSize(size)}>\n\t\t<div css={starWrapper}>\n\t\t\t<Star\n\t\t\t\tstarId={`${size}1-${determineBreakpoint(breakpoint)}`}\n\t\t\t\tisEmpty={rating < 1}\n\t\t\t/>\n\t\t</div>\n\t\t<div css={starWrapper}>\n\t\t\t<Star\n\t\t\t\tstarId={`${size}2-${determineBreakpoint(breakpoint)}`}\n\t\t\t\tisEmpty={rating < 2}\n\t\t\t/>\n\t\t</div>\n\t\t<div css={starWrapper}>\n\t\t\t<Star\n\t\t\t\tstarId={`${size}3-${determineBreakpoint(breakpoint)}`}\n\t\t\t\tisEmpty={rating < 3}\n\t\t\t/>\n\t\t</div>\n\t\t<div css={starWrapper}>\n\t\t\t<Star\n\t\t\t\tstarId={`${size}4-${determineBreakpoint(breakpoint)}`}\n\t\t\t\tisEmpty={rating < 4}\n\t\t\t/>\n\t\t</div>\n\t\t<div css={starWrapper}>\n\t\t\t<Star\n\t\t\t\tstarId={`${size}5-${determineBreakpoint(breakpoint)}`}\n\t\t\t\tisEmpty={rating < 5}\n\t\t\t/>\n\t\t</div>\n\t</div>\n);\n","/**\n * How do I get a z-index for my new item?\n *\n * Decide a meaningful name for your item and then insert it\n * in the indices array below. The higher up your item visually,\n * then the higher it will be in the z-index stack,\n * 'higher' means _earlier_ in the array.\n *\n * Eg. stickyAdWrapper will be given a higher z-index than bodyArea\n *\n * Once inserted in the array, use getZIndex() to return the css\n *\n * Eg.\n *\n * import { getZIndex } from './getZIndex';\n *\n * const myCss = css`\n *    color: blue;\n *    ${getZIndex('TheGuardian')}\n * `;\n *\n * As new items are added, all z-indexes are adjusted\n */\nconst indices = [\n\t// Modals will go here at the top\n\n\t// Sticky video and button need to be above everything\n\t'sticky-video-button',\n\t'sticky-video',\n\t'banner',\n\t'dropdown',\n\t'burger',\n\t'expanded-veggie-menu-wrapper',\n\t'expanded-veggie-menu',\n\n\t// Mobile sticky appears below banners\n\t'mobileSticky',\n\n\t// Headers with sticky ads\n\t'stickyAdWrapperLabsHeader',\n\t'stickyAdWrapper',\n\t'stickyAdWrapperNav',\n\n\t// Edition selector in nav - needs to be below stickyAdWrapper\n\t'editionDropdown',\n\n\t// Liveblog toast\n\t'toast',\n\n\t// Onwards Carousel (Related content etc)\n\t'onwardsCarousel',\n\n\t// Search link should be above The Guardian svg\n\t'myAccountDropdown',\n\t'searchHeaderLink',\n\t'TheGuardian',\n\n\t// Wrapper after nav stuff\n\t'headerWrapper',\n\n\t// Article headline (should be above main media)\n\t'articleHeadline',\n\t'immersiveBlackBox',\n\n\t// Body\n\t'bodyArea',\n\t'rightColumnArea',\n\n\t// Main media\n\t'mainMedia',\n\n\t// Nested links in cards should sit above the main card link\n\t// See: https://www.sarasoueidan.com/blog/nested-links/\n\t'card-nested-link',\n\t'card-link',\n] as const;\n\n// Implementation code - you don't need to change this to get a new index\nexport type ZIndex = (typeof indices)[number];\n\nconst decideIndex = (name: ZIndex): number => {\n\tconst index = indices.indexOf(name);\n\tif (index === -1) return -1; // indexOf returns -1 if there is no match\n\treturn indices.length - index; // reverse the indices: last item gets 1\n};\n\nexport const getZIndex = (zIndex: ZIndex): string =>\n\t`z-index: ${decideIndex(zIndex)};`;\n\nexport const getZIndexImportant = (zIndex: ZIndex): string =>\n\t`z-index: ${decideIndex(zIndex)} !important;`;\n","import type { SWRConfiguration } from 'swr';\nimport useSWR from 'swr';\n\nfunction checkForErrors(response: Response) {\n\tif (!response.ok) {\n\t\tthrow Error(\n\t\t\tresponse.statusText ||\n\t\t\t\t`useApi | An api call returned HTTP status ${response.status}`,\n\t\t);\n\t}\n\treturn response;\n}\n\nconst fetcher = (init?: RequestInit) => (url: string) =>\n\tfetch(url, init)\n\t\t.then(checkForErrors)\n\t\t.then((res) => res.json());\n\ninterface ApiResponse<T> {\n\tloading: boolean;\n\tdata?: T;\n\terror?: Error;\n}\n\n/**\n * @description\n * A custom hook to make a GET request using the given url using the SWR lib (https://swr.vercel.app/)\n * returns { loading, error, data }\n * @param {String} url - The url to fetch\n * @param {SWRConfiguration} options - The SWR config object - https://swr.vercel.app/docs/options\n * @param {RequestInit} init - The fetch init object - https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch#supplying_request_options\n * */\nexport const useApi = <T,>(\n\turl?: string,\n\toptions?: SWRConfiguration,\n\tinit?: RequestInit,\n): ApiResponse<T> => {\n\tconst { data, error } = useSWR(url, fetcher(init), options);\n\n\treturn {\n\t\tdata,\n\t\terror,\n\t\tloading: !!url && !error && !data,\n\t};\n};\n","import type { SerializedStyles } from '@emotion/react';\nimport { css } from '@emotion/react';\nimport { border, from } from '@guardian/source-foundations';\nimport type { DCRContainerPalette } from '../../types/front';\nimport { decideContainerOverrides } from './decideContainerOverrides';\n\nexport const verticalDivider = (\n\tcontainerPalette?: DCRContainerPalette,\n): SerializedStyles => {\n\tconst containerOverrides =\n\t\tcontainerPalette && decideContainerOverrides(containerPalette);\n\n\treturn css`\n\t\t${from.tablet} {\n\t\t\t:before {\n\t\t\t\tcontent: '';\n\t\t\t\tdisplay: block;\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 0;\n\t\t\t\tbottom: 0;\n\t\t\t\tleft: 0;\n\t\t\t\twidth: 1px;\n\t\t\t\theight: 100%;\n\t\t\t\tborder-left: 1px solid\n\t\t\t\t\t${containerOverrides\n\t\t\t\t\t\t? containerOverrides.border.container\n\t\t\t\t\t\t: border.secondary};\n\t\t\t}\n\t\t}\n\t`;\n};\n"],"names":["module","exports","desvg","bylineStyles","size","format","baseStyles","css","theme","ArticleSpecial","textSans","until","headline","colourStyles","palette","isCard","text","cardByline","byline","Byline","containerPalette","decidePalette","span","fontStyles","fontWeight","options","from","fontStylesOnMobile","between","labTextStyles","lineHeight","space","sublinkStyles","getZIndex","fontWeights","lineStyles","border","cardSupporting","dynamoStyles","WithLink","linkTo","children","isDynamo","Link","href","cssOverrides","isFirstWordShort","CardHeadline","headlineText","showQuotes","kickerText","showPulsingDot","hideLineBreak","sizeOnMobile","showByline","showLine","isExternalLink","kickerColour","dynamoKicker","cardKicker","cleanHeadLineText","match","replace","h3","Kicker","color","QuoteIcon","colour","dynamoHeadline","cardHeadline","className","SvgExternal","block","aspectRatio","CardPicture","master","alt","imageSize","sources","generateSources","breakpoint","breakpoints","width","decideImageWidths","fallbackSource","getFallbackSource","picture","data-size","map","source","React","srcSet","hiResUrl","media","lowResUrl","img","src","iconWrapperStyles","hasKicker","cardFooter","background","card","durationStyles","wrapperStyles","secondsToDuration","secs","seconds","Number","h","Math","floor","m","s","duration","push","join","Icon","mediaType","SvgCamera","SvgVideo","SvgAudio","MediaIcon","MediaDuration","mediaDuration","p","MediaMeta","div","undefined","snapStyles","Snap","snapData","embedHtml","embedCss","dangerouslySetInnerHTML","__html","embedJs","script","directionStyles","alignment","liStyles","dynamoLiStyles","transparentColour","neutral","leftMargin","bottomMargin","SupportingContent","supportingContent","parentFormat","ul","subLink","index","length","shouldPadLeft","isLast","li","topBar","url","sideMarginStyles","topMarginStyles","largerTopMargin","sizingStyles","imagePosition","isVertical","AvatarContainer","ageStyles","design","ArticleDesign","CardAge","webPublicationDate","showClock","displayString","timeAgo","Date","getTime","ClockIcon","time","dateTime","data-relativeformat","logoImageStyle","brandingWrapperStyle","labelStyle","CardBranding","branding","logo","ArticlePillar","shouldUseLogoForDarkBackground","logoForDarkBackground","decideLogo","label","visuallyHidden","sponsorName","a","link","data-sponsor","toLowerCase","rel","aria-label","onClick","trackSponsorLogoLinkClick","data-cy","dimensions","height","spaceBetween","margins","flexEnd","CardFooter","displayLines","age","commentCount","cardBranding","footer","StraightLines","lines","count","decideDirection","decideWidth","minWidthInPixels","decidePosition","imagePositionOnMobile","imageType","CardLayout","fauxLinkStyles","focusHalo","InternalLink","dataLinkName","data-link-name","ExternalLink","target","CardLink","cardStyles","baseCardStyles","thePalette","decidePaletteBrightness","topBarStyles","containerType","CardWrapper","flexBasisStyles","ContentWrapper","isHorizontal","HeadlineWrapper","imageUrl","hasStarRating","buttonSize","iconSize","getIconSizeOnDesktop","getIconSizeOnMobile","PlayIcon","brandAlt","SvgMediaControlsPlay","ImageWrapper","showPlayIcon","isHorizontalOnMobile","showTrailText","TrailTextWrapper","cardStandfirst","body","StarRatingComponent","rating","cardHasImage","brandAltBackground","Hide","when","StarRating","DecideFooter","isOpinion","hasSublinks","displayAge","renderFooter","CommentFooter","Card","headlineSize","headlineSizeOnMobile","showQuotedHeadline","trailText","avatarUrl","showMainVideo","starRating","supportingContentAlignment","showAge","discussionId","isCrossword","sublinkPosition","decideSublinkPosition","data-discussion-id","data-format","JSON","stringify","data-is-dynamo","data-container-palette","data-ignore","decideIfAgeShouldShow","image","type","getImage","Avatar","GAP_SIZE","sidePaddingStyles","padSidesOnMobile","snapAlignStartStyles","decideDivider","offsetBottomPaddingOnDivider","paddingSize","bottomPaddingSize","containerOverrides","decideContainerOverrides","container","verticalDividerWithBottomOffset","verticalDivider","LI","percentage","stretch","showDivider","padSides","snapAlignStart","sizeStyles","sizeStyle","decideSize","whenToHide","el","dotStyles","livePulse","keyframes","animate","PulsingDot","hydrated","setHydrated","useState","shouldFlash","setShouldFlash","useEffect","flashingPreference","storage","data-flashing-dot-hydrated","data-animate","Star","starId","isEmpty","svg","viewBox","path","id","clipPath","strokeWidth","stroke","fill","d","use","xlinkHref","starWrapper","determineSize","determineBreakpoint","indices","zIndex","name","indexOf","decideIndex","checkForErrors","response","ok","Error","statusText","status","useApi","init","data","error","useSWR","fetch","then","res","json","fetcher","loading"],"sourceRoot":""}