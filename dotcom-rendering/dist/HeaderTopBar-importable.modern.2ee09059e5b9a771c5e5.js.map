{"version":3,"file":"HeaderTopBar-importable.modern.2ee09059e5b9a771c5e5.js","mappings":"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","sources":["webpack://@guardian/dotcom-rendering/./src/static/icons/arrow-right.svg","webpack://@guardian/dotcom-rendering/./src/static/icons/newspaper.svg","webpack://@guardian/dotcom-rendering/./src/static/icons/profile.svg","webpack://@guardian/dotcom-rendering/./src/static/icons/search.svg","webpack://@guardian/dotcom-rendering/./src/static/icons/x.svg","webpack://@guardian/dotcom-rendering/./src/lib/identity-component-event.ts","webpack://@guardian/dotcom-rendering/./src/lib/querystring.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/notification.ts","webpack://@guardian/dotcom-rendering/./src/web/components/HeaderTopBarMyAccount.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/HeaderTopBarEditionDropdown.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/HeaderTopBarPrintSubscriptions.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/HeaderTopBarSearch.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/HeaderTopBarSearchCapi.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/HeaderTopBarSearchJobs.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/HeaderTopBar.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Hide.tsx","webpack://@guardian/dotcom-rendering/./src/web/lib/acquisitions.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/center.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/getIdapiUserData.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/useApi.tsx","webpack://@guardian/dotcom-rendering/./src/web/lib/hasCurrentBrazeUser.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/getBrazeUuid.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/braze/hasRequiredConsents.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/braze/checkBrazeDependencies.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/braze/initialiseAppboy.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/braze/buildBrazeMessaging.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/useBraze.ts","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/braze-components/dist/logic/index.esm.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-foundations/esm/accessibility/visually-hidden.js"],"sourcesContent":["\nmodule.exports = {\"attributes\":{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"30\",\"height\":\"30\",\"viewBox\":\"0 0 30 30\"},\"content\":\"<path d=\\\"M22.8 14.6l-7.6-7.6-.7.7 5.5 6.6h-14v1.5h14l-5.5 6.6.7.7 7.6-7.6v-.9\\\"/>\"}\nvar desvg = require('@kossnocorp/desvg/react')\nmodule.exports = desvg(module.exports)\n","\nmodule.exports = {\"attributes\":{\"width\":\"18\",\"height\":\"18\",\"viewBox\":\"-4 -4 32 32\",\"xmlns\":\"http://www.w3.org/2000/svg\"},\"content\":\"<path d=\\\"M12,-4 a15,15 0,0,0 0,32 15,15 0,0,0 0,-32     M20 21L19 21H5L4 21V3L5 2H16L20 6V21Z     M18 8H6V9.5H18V8Z     M18 11H6V12.5H18V11Z     M13 14H6V15.5H13V14Z\\\" />\"}\nvar desvg = require('@kossnocorp/desvg/react')\nmodule.exports = desvg(module.exports)\n","\nmodule.exports = {\"attributes\":{\"width\":\"14\",\"height\":\"14\",\"viewBox\":\"0 0 14 14\"},\"content\":\"<path d=\\\"M7 0C3.1 0 0 3.1 0 7c0 2 .9 3.9 2.4 5.2C3.6 13.4 5.3 14 7 14c1.7 0 3.4-.6 4.7-1.8C13.2 10.9 14 9 14 7c0-3.9-3.1-7-7-7zm0 1.8c1.3 0 2.1.8 2.1 2.1S8 6.3 7 6.3c-.8 0-2-1.1-2-2.4 0-1.4.7-2.1 2-2.1zm0 11.6c-1.7 0-3.3-.7-4.5-1.8l.8-3.2.5-.5c1-.4 2.1-.5 3.1-.5 1.1 0 2.1.2 3.1.5l.5.5.9 3.2c-1.1 1.2-2.7 1.8-4.4 1.8z\\\"/>\"}\nvar desvg = require('@kossnocorp/desvg/react')\nmodule.exports = desvg(module.exports)\n","\nmodule.exports = {\"attributes\":{\"width\":\"18\",\"height\":\"18\",\"viewBox\":\"0 0 18 18\"},\"content\":\"<path d=\\\"M6.5 1.6c2.7 0 4.9 2.2 4.9 4.9s-2.2 4.9-4.9 4.9-4.9-2.2-4.9-4.9 2.2-4.9 4.9-4.9m0-1.6c-3.6 0-6.5 2.9-6.5 6.5s2.9 6.5 6.5 6.5 6.5-2.9 6.5-6.5-2.9-6.5-6.5-6.5zm6.6 11.5l4.9 4.9-1.6 1.6-4.9-4.9v-.8l.8-.8h.8z\\\"/>\"}\nvar desvg = require('@kossnocorp/desvg/react')\nmodule.exports = desvg(module.exports)\n","\nmodule.exports = {\"attributes\":{\"width\":\"18\",\"height\":\"18\",\"viewBox\":\"0 0 18 18\"},\"content\":\"<path d=\\\"M7.5 9L1 2l1-1 7 6.5L16 1l1 1-6.5 7 6.5 7-1 1-7-6.5L2 17l-1-1 6.5-7z\\\"></path>\"}\nvar desvg = require('@kossnocorp/desvg/react')\nmodule.exports = desvg(module.exports)\n","import { constructQuery } from './querystring';\n\ntype AuthenticationComponentId =\n\t| 'amp_sidebar_signin'\n\t| 'guardian_signin_header'\n\t| 'signin_to_comment'\n\t| 'register_to_comment';\n\ntype AuthenticationEventParams = {\n\tcomponentType: string;\n\tcomponentId: AuthenticationComponentId;\n\tviewId?: string;\n};\n\nexport const createAuthenticationEventParams = (\n\tcomponentId: AuthenticationComponentId,\n\tpageViewId?: string,\n): string => {\n\tconst params: AuthenticationEventParams = {\n\t\tcomponentType: 'identityauthentication',\n\t\tcomponentId,\n\t};\n\n\tif (pageViewId) {\n\t\tparams.viewId = pageViewId;\n\t}\n\n\treturn `componentEventParams=${encodeURIComponent(constructQuery(params))}`;\n};\n","const constructQuery = (query: { [key: string]: any }): string =>\n\tObject.keys(query)\n\t\t.map((param: string) => {\n\t\t\tconst value = query[param];\n\t\t\tconst queryValue = Array.isArray(value)\n\t\t\t\t? value.map((v) => encodeURIComponent(v)).join(',')\n\t\t\t\t: encodeURIComponent(value);\n\t\t\treturn `${param}=${queryValue}`;\n\t\t})\n\t\t.join('&');\n\nexport { constructQuery };\n","import type { BrazeCard } from '@guardian/braze-components';\nimport type { DropdownLinkType } from '../components/Dropdown';\n\nexport interface Notification {\n\tid: string;\n\ttarget: string;\n\tmessage: string;\n\tophanLabel: string;\n\tlogImpression?: () => void;\n}\n\nconst hasTargetAndMessage = (\n\tcard: BrazeCard,\n): card is BrazeCard & { extras: Notification } =>\n\tBoolean(card.extras.message) &&\n\tBoolean(card.extras.target) &&\n\tBoolean(card.extras.ophanLabel);\n\nexport const mapBrazeCardsToNotifications = (\n\tcards: BrazeCard[],\n): Notification[] => {\n\treturn cards.filter(hasTargetAndMessage).map((card) => {\n\t\treturn {\n\t\t\tid: card.id,\n\t\t\ttarget: card.extras.target,\n\t\t\tmessage: card.extras.message,\n\t\t\tophanLabel: card.extras.ophanLabel,\n\t\t\tlogImpression: () => {\n\t\t\t\tcard.logImpression();\n\t\t\t},\n\t\t};\n\t});\n};\n\nconst groupNotificationsByTarget = (\n\tnotifications: Notification[],\n): { [k: string]: Notification[] } => {\n\treturn notifications.reduce<{ [k: string]: Notification[] }>(\n\t\t(groupings, notification) => {\n\t\t\tgroupings[notification.target] = (\n\t\t\t\tgroupings[notification.target] ?? []\n\t\t\t).concat(notification);\n\n\t\t\treturn groupings;\n\t\t},\n\t\t{},\n\t);\n};\n\nexport const addNotificationsToDropdownLinks = (\n\tlinks: DropdownLinkType[],\n\tnotifications: Notification[],\n): DropdownLinkType[] => {\n\tconst notificationsByTarget = groupNotificationsByTarget(notifications);\n\n\tconst linksWithNotifications = links.map((link) => {\n\t\tconst newNotifications = (link.notifications ?? []).concat(\n\t\t\tnotificationsByTarget[link.id] ?? [],\n\t\t);\n\n\t\tif (newNotifications.length === 0) {\n\t\t\treturn link;\n\t\t}\n\n\t\treturn {\n\t\t\t...link,\n\t\t\tnotifications: newNotifications,\n\t\t};\n\t});\n\n\treturn linksWithNotifications;\n};\n","import { css } from '@emotion/react';\nimport { joinUrl } from '@guardian/libs';\nimport { brand, from, neutral, textSans } from '@guardian/source-foundations';\nimport { useEffect, useState } from 'react';\nimport { createAuthenticationEventParams } from '../../lib/identity-component-event';\nimport ProfileIcon from '../../static/icons/profile.svg';\nimport { getZIndex } from '../lib/getZIndex';\nimport {\n\taddNotificationsToDropdownLinks,\n\tmapBrazeCardsToNotifications,\n} from '../lib/notification';\nimport type { Notification } from '../lib/notification';\nimport { useApi } from '../lib/useApi';\nimport { useBraze } from '../lib/useBraze';\nimport type { DropdownLinkType } from './Dropdown';\nimport { Dropdown } from './Dropdown';\n\ninterface MyAccountProps {\n\tmmaUrl: string;\n\tidUrl: string;\n\tdiscussionApiUrl: string;\n\tidApiUrl: string;\n\tisSignedIn?: boolean;\n}\n\nconst myAccountStyles = css`\n\tdisplay: flex;\n\talign-items: center;\n\t${from.tablet} {\n\t\talign-items: stretch;\n\t}\n\t${from.desktop} {\n\t\t:before {\n\t\t\tcontent: '';\n\t\t\tborder-left: 1px solid ${brand[600]};\n\t\t\theight: 24px;\n\t\t}\n\t}\n`;\n\nconst myAccountLinkStyles = css`\n\tdisplay: flex;\n\talign-items: center;\n\theight: fit-content;\n\tposition: relative;\n\t${textSans.medium()};\n\tfont-size: 1rem;\n\tline-height: 1;\n\tcolor: ${neutral[100]};\n\ttransition: color 80ms ease-out;\n\ttext-decoration: none;\n\tpadding: 0;\n\n\t${from.tablet} {\n\t\tpadding: 7px 10px 7px 6px;\n\t}\n\n\t${from.desktop} {\n\t\tfont-weight: bold;\n\t}\n\n\t:hover,\n\t:focus {\n\t\ttext-decoration: underline;\n\t}\n\n\tsvg {\n\t\tfill: currentColor;\n\t\tfloat: left;\n\t\theight: 18px;\n\t\twidth: 18px;\n\t\tmargin: 0 4px 0 0;\n\t}\n\t${getZIndex('myAccountDropdown')}\n`;\n\nexport const buildIdentityLinks = (\n\tmmaUrl: string,\n\tidUrl: string,\n\tuserId: string,\n): DropdownLinkType[] => {\n\t/**\n\t * Note: the IDs in here are used by Braze to target notifications so should\n\t * be unique. Please check with Marketing Tools/TX before changing!\n\t */\n\tconst links = [\n\t\t{\n\t\t\tid: 'account_overview',\n\t\t\turl: `${mmaUrl}/`,\n\t\t\ttitle: 'Account overview',\n\t\t\tdataLinkName: 'nav3 : topbar : account overview',\n\t\t},\n\t\t{\n\t\t\tid: 'edit_profile',\n\t\t\turl: `${mmaUrl}/public-settings`,\n\t\t\ttitle: 'Profile',\n\t\t\tdataLinkName: 'nav3 : topbar : edit profile',\n\t\t},\n\t\t{\n\t\t\tid: 'email_prefs',\n\t\t\turl: `${mmaUrl}/email-prefs`,\n\t\t\ttitle: 'Emails & marketing',\n\t\t\tdataLinkName: 'nav3 : topbar : email prefs',\n\t\t},\n\t\t{\n\t\t\tid: 'settings',\n\t\t\turl: `${mmaUrl}/account-settings`,\n\t\t\ttitle: 'Settings',\n\t\t\tdataLinkName: 'nav3 : topbar : settings',\n\t\t},\n\t\t{\n\t\t\tid: 'help',\n\t\t\turl: `${mmaUrl}/help`,\n\t\t\ttitle: 'Help',\n\t\t\tdataLinkName: 'nav3 : topbar : help',\n\t\t},\n\t\t{\n\t\t\tid: 'comment_activity',\n\t\t\turl: `${idUrl}/user/id/${userId}`,\n\t\t\ttitle: 'Comments & replies',\n\t\t\tdataLinkName: 'nav3 : topbar : comment activity',\n\t\t},\n\t\t{\n\t\t\tid: 'sign_out',\n\t\t\turl: `${idUrl}/signout`,\n\t\t\ttitle: 'Sign out',\n\t\t\tdataLinkName: 'nav3 : topbar : sign out',\n\t\t},\n\t];\n\n\treturn links;\n};\n\nconst SignIn = ({ idUrl }: { idUrl: string }) => (\n\t<a\n\t\tcss={myAccountLinkStyles}\n\t\thref={`${idUrl}/signin?INTCMP=DOTCOM_NEWHEADER_SIGNIN&ABCMP=ab-sign-in&${createAuthenticationEventParams(\n\t\t\t'guardian_signin_header',\n\t\t)}`}\n\t\tdata-link-name=\"nav3 : topbar : signin\"\n\t>\n\t\t<ProfileIcon /> Sign in\n\t</a>\n);\n\nexport const dropDownOverrides = css`\n\tcolor: ${neutral[100]};\n\tpadding-right: 0;\n\tpadding-bottom: 0;\n\tmargin-top: 0;\n\n\tfont-size: 1rem;\n\n\t&:not(ul):hover {\n\t\tcolor: ${neutral[100]};\n\t\ttext-decoration: underline;\n\t}\n\n\t${from.tablet} {\n\t\tright: 0;\n\t}\n\n\t${from.desktop} {\n\t\tfont-weight: bold;\n\t}\n`;\n\ninterface SignedInWithNotificationsProps {\n\tmmaUrl: string;\n\tidUrl: string;\n\tdiscussionApiUrl: string;\n\tnotifications: Notification[];\n}\n\nconst SignedInWithNotifications = ({\n\tmmaUrl,\n\tidUrl,\n\tdiscussionApiUrl,\n\tnotifications,\n}: SignedInWithNotificationsProps) => {\n\tconst { data, error } = useApi<{ userProfile: UserProfile }>(\n\t\tjoinUrl(discussionApiUrl, 'profile/me?strict_sanctions_check=false'),\n\t\t{},\n\t\t{\n\t\t\tcredentials: 'include',\n\t\t},\n\t);\n\n\t// If we encounter an error or don't have user data display sign in to the user.\n\t// SWR will retry in the background if the request failed\n\tif (error || !data?.userProfile.userId) return <SignIn idUrl={idUrl} />;\n\n\tconst identityLinks = buildIdentityLinks(\n\t\tmmaUrl,\n\t\tidUrl,\n\t\tdata.userProfile.userId,\n\t);\n\n\tconst identityLinksWithNotifications = addNotificationsToDropdownLinks(\n\t\tidentityLinks,\n\t\tnotifications,\n\t);\n\n\treturn (\n\t\t<div css={myAccountLinkStyles}>\n\t\t\t<ProfileIcon />\n\t\t\t<Dropdown\n\t\t\t\tlabel=\"My account\"\n\t\t\t\tlinks={identityLinksWithNotifications}\n\t\t\t\tid=\"my-account\"\n\t\t\t\tdataLinkName=\"nav3 : topbar: my account\"\n\t\t\t\tcssOverrides={dropDownOverrides}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nconst SignedIn = ({ idApiUrl, ...props }: MyAccountProps) => {\n\tconst { brazeCards } = useBraze(idApiUrl);\n\tconst [brazeNotifications, setBrazeNotifications] = useState<\n\t\tNotification[]\n\t>([]);\n\n\tuseEffect(() => {\n\t\tif (brazeCards) {\n\t\t\tconst cards = brazeCards.getCardsForProfileBadge();\n\t\t\tconst cardsToNotifications = mapBrazeCardsToNotifications(cards);\n\t\t\tif (cardsToNotifications.length) {\n\t\t\t\tsetBrazeNotifications(cardsToNotifications);\n\t\t\t}\n\t\t}\n\t}, [brazeCards]);\n\n\treturn (\n\t\t<SignedInWithNotifications\n\t\t\t{...props}\n\t\t\tnotifications={brazeNotifications}\n\t\t/>\n\t);\n};\n\nexport const MyAccount = ({\n\tmmaUrl,\n\tidUrl,\n\tdiscussionApiUrl,\n\tidApiUrl,\n\tisSignedIn,\n}: MyAccountProps) => (\n\t<div css={myAccountStyles}>\n\t\t{isSignedIn ? (\n\t\t\t<SignedIn\n\t\t\t\tmmaUrl={mmaUrl}\n\t\t\t\tidUrl={idUrl}\n\t\t\t\tdiscussionApiUrl={discussionApiUrl}\n\t\t\t\tidApiUrl={idApiUrl}\n\t\t\t/>\n\t\t) : (\n\t\t\t<SignIn idUrl={idUrl} />\n\t\t)}\n\t</div>\n);\n","import { css } from '@emotion/react';\nimport { brand } from '@guardian/source-foundations';\nimport type { EditionId } from '../lib/edition';\nimport { getZIndex } from '../lib/getZIndex';\nimport type { DropdownLinkType } from './Dropdown';\nimport { Dropdown } from './Dropdown';\nimport { dropDownOverrides } from './HeaderTopBarMyAccount';\n\ninterface HeaderTopBarEditionDropdownProps {\n\teditionId: EditionId;\n\tdataLinkName: string;\n\tisInEuropeTest: boolean;\n}\n\nconst editionDropdownStyles = css`\n\t${getZIndex('editionDropdown')};\n\tdisplay: flex;\n\tposition: relative;\n\t:before {\n\t\tcontent: '';\n\t\tborder-left: 1px solid ${brand[600]};\n\t\theight: 24px;\n\t}\n`;\n\nexport const HeaderTopBarEditionDropdown = ({\n\teditionId,\n\tdataLinkName,\n\tisInEuropeTest,\n}: HeaderTopBarEditionDropdownProps) => {\n\tconst ukEdition: DropdownLinkType = {\n\t\tid: 'uk',\n\t\turl: '/preference/edition/uk',\n\t\ttitle: 'UK edition',\n\t\tdataLinkName: 'nav3 : topbar : edition-picker: UK',\n\t};\n\n\tconst links: DropdownLinkType[] = [\n\t\tukEdition,\n\t\t{\n\t\t\tid: 'us',\n\t\t\turl: '/preference/edition/us',\n\t\t\ttitle: 'US edition',\n\t\t\tdataLinkName: 'nav3 : topbar : edition-picker: US',\n\t\t},\n\t\t{\n\t\t\tid: 'au',\n\t\t\turl: '/preference/edition/au',\n\t\t\ttitle: 'Australia edition',\n\t\t\tdataLinkName: 'nav3 : topbar : edition-picker: AU',\n\t\t},\n\t\t{\n\t\t\tid: 'int',\n\t\t\turl: '/preference/edition/int',\n\t\t\ttitle: 'International edition',\n\t\t\tdataLinkName: 'nav3 : topbar : edition-picker: INT',\n\t\t},\n\t\t...(isInEuropeTest\n\t\t\t? [\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'eur',\n\t\t\t\t\t\turl: '/preference/edition/eur',\n\t\t\t\t\t\ttitle: 'Europe edition',\n\t\t\t\t\t\tdataLinkName: 'nav3 : topbar : edition-picker: EUR',\n\t\t\t\t\t},\n\t\t\t  ]\n\t\t\t: []),\n\t].map((link) =>\n\t\tlink.id.toUpperCase() === editionId\n\t\t\t? { ...link, isActive: true }\n\t\t\t: link,\n\t);\n\n\t// Find active link, default to UK\n\tconst activeLink = links.find(({ isActive }) => isActive) ?? {\n\t\t...ukEdition,\n\t\tisActive: true,\n\t};\n\n\t// Remove the active link and add it back to the top of the list\n\tconst linksToDisplay = [\n\t\tactiveLink,\n\t\t...links.filter(({ isActive }) => !isActive),\n\t];\n\n\treturn (\n\t\t<div css={editionDropdownStyles}>\n\t\t\t<Dropdown\n\t\t\t\tlabel={activeLink.title}\n\t\t\t\tlinks={linksToDisplay}\n\t\t\t\tid=\"edition\"\n\t\t\t\tdataLinkName={dataLinkName}\n\t\t\t\tcssOverrides={css`\n\t\t\t\t\t${dropDownOverrides};\n\t\t\t\t\tpadding-top: 6px;\n\t\t\t\t`}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { brandAlt, from, textSans } from '@guardian/source-foundations';\nimport { useEffect, useState } from 'react';\nimport NewspaperIcon from '../../static/icons/newspaper.svg';\nimport { addTrackingCodesToUrl } from '../lib/acquisitions';\nimport type { EditionId } from '../lib/edition';\n\ninterface PrintSubscriptionsProps {\n\teditionId: EditionId;\n}\n\nconst printSubscriptionStyles = css`\n\tdisplay: none;\n\n\t${from.desktop} {\n\t\tdisplay: flex;\n\t}\n`;\n\nconst linkStyles = css`\n\tdisplay: flex;\n\talign-items: center;\n\t${textSans.medium({ fontWeight: 'bold' })};\n\tfont-size: 1rem;\n\theight: fit-content;\n\tline-height: 1;\n\tcolor: ${brandAlt[400]};\n\ttransition: color 80ms ease-out;\n\ttext-decoration: none;\n\tpadding: 7px 0;\n\n\t${from.tablet} {\n\t\tpadding: 7px 10px 7px 6px;\n\t}\n\n\t:hover,\n\t:focus {\n\t\ttext-decoration: underline;\n\t}\n\n\tsvg {\n\t\tfill: currentColor;\n\t\tfloat: left;\n\t\theight: 18px;\n\t\twidth: 18px;\n\t\tmargin: 0 4px 0 0;\n\t}\n`;\n\nexport const HeaderTopBarPrintSubscriptions = ({\n\teditionId,\n}: PrintSubscriptionsProps) => {\n\tconst [pageViewId, setPageViewId] = useState('');\n\tconst [referrerUrl, setReferrerUrl] = useState('');\n\tuseEffect(() => {\n\t\tsetPageViewId(window.guardian.config.ophan.pageViewId);\n\t\tsetReferrerUrl(window.location.origin + window.location.pathname);\n\t}, []);\n\n\tconst href = addTrackingCodesToUrl({\n\t\tbase: `https://support.theguardian.com/subscribe${\n\t\t\teditionId === 'UK' ? '' : '/weekly'\n\t\t}`,\n\t\tcomponentType: 'ACQUISITIONS_HEADER',\n\t\tcomponentId: 'PrintSubscriptionsHeaderLink',\n\t\tpageViewId,\n\t\treferrerUrl,\n\t});\n\n\treturn (\n\t\t<div css={printSubscriptionStyles}>\n\t\t\t<a\n\t\t\t\thref={href}\n\t\t\t\tcss={linkStyles}\n\t\t\t\tdata-link-name=\"nav3 : topbar : printsubs\"\n\t\t\t>\n\t\t\t\t<NewspaperIcon />\n\t\t\t\t<>Print subscriptions</>\n\t\t\t</a>\n\t\t</div>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { brand, from, neutral, textSans } from '@guardian/source-foundations';\nimport SearchIcon from '../../static/icons/search.svg';\nimport { getZIndex } from '../lib/getZIndex';\n\ninterface SearchProps {\n\thref: string;\n\tdataLinkName: string;\n}\n\nconst searchLinkStyles = css`\n\tdisplay: flex;\n\talign-items: center;\n\t${textSans.medium({ fontWeight: 'bold' })};\n\tline-height: 1;\n\tfont-size: 1rem;\n\theight: fit-content;\n\tcolor: ${neutral[100]};\n\ttransition: color 80ms ease-out;\n\ttext-decoration: none;\n\tpadding: 7px 0;\n\n\t${from.tablet} {\n\t\tpadding: 7px 10px 7px 6px;\n\t}\n\n\t:hover,\n\t:focus {\n\t\ttext-decoration: underline;\n\t}\n\n\tsvg {\n\t\tfill: currentColor;\n\t\tfloat: left;\n\t\theight: 18px;\n\t\twidth: 18px;\n\t\tmargin: 0 4px 0 0;\n\t}\n\t${getZIndex('searchHeaderLink')}\n`;\n\nconst linkTablet = css`\n\tdisplay: none;\n\n\t:before {\n\t\tcontent: '';\n\t\tborder-left: 1px solid ${brand[600]};\n\t\theight: 24px;\n\t}\n\n\t${from.desktop} {\n\t\tdisplay: flex;\n\t}\n`;\n\nexport const Search = ({ href, dataLinkName }: SearchProps) => {\n\treturn (\n\t\t<div css={linkTablet}>\n\t\t\t<a href={href} css={searchLinkStyles} data-link-name={dataLinkName}>\n\t\t\t\t<SearchIcon />\n\t\t\t\t<>Search</>\n\t\t\t</a>\n\t\t</div>\n\t);\n};\n","import { css } from '@emotion/react';\nimport {\n\tbrand,\n\tbrandAlt,\n\tfrom,\n\theadline,\n\tneutral,\n\ttextSans,\n} from '@guardian/source-foundations';\nimport { useEffect, useRef, useState } from 'react';\nimport ArrowRightIcon from '../../static/icons/arrow-right.svg';\nimport SearchIcon from '../../static/icons/search.svg';\nimport XIcon from '../../static/icons/x.svg';\nimport { getZIndex } from '../lib/getZIndex';\nimport { useApi } from '../lib/useApi';\n\nconst searchLinkStyles = css`\n\tdisplay: flex;\n\talign-items: center;\n\t${textSans.medium({ fontWeight: 'bold' })};\n\tline-height: 1;\n\tfont-size: 1rem;\n\theight: fit-content;\n\tcolor: ${neutral[100]};\n\ttransition: color 80ms ease-out;\n\ttext-decoration: none;\n\tpadding: 7px 0;\n\n\t${from.tablet} {\n\t\tpadding: 7px 10px 7px 6px;\n\t}\n\n\t:hover,\n\t:focus {\n\t\ttext-decoration: underline;\n\t}\n\n\tsvg {\n\t\tfill: currentColor;\n\t\tfloat: left;\n\t\theight: 18px;\n\t\twidth: 18px;\n\t\tmargin: 0 4px 0 0;\n\t}\n\t${getZIndex('searchHeaderLink')}\n`;\n\nconst linkTablet = css`\n\tdisplay: none;\n\tposition: relative;\n\n\t:before {\n\t\tcontent: '';\n\t\tborder-left: 1px solid ${brand[600]};\n\t\theight: 24px;\n\t}\n\n\t${from.desktop} {\n\t\tdisplay: flex;\n\t}\n`;\n\nexport const HeaderTopBarSearchCapi = () => {\n\tconst [isSearchVisible, setIsSearchVisible] = useState(false);\n\tconst [q, setQ] = useState<string>();\n\tconst qRef = useRef<HTMLInputElement>(null);\n\tconst { data } = useApi<{\n\t\tresponse: { results: { webTitle: string; webUrl: string }[] };\n\t}>(\n\t\tq\n\t\t\t? `https://content.guardianapis.com/search?api-key=d1280925-708c-4940-9162-0952ac6e728f&q=${q}`\n\t\t\t: undefined,\n\t);\n\n\tconst formRef = useRef<HTMLFormElement>(null);\n\tconst searchContainerRef = useRef<HTMLDivElement>(null);\n\n\t// Hide search if you click anywhere outside of search when it's shown\n\tuseEffect(() => {\n\t\tfunction handleClickOutside(event: MouseEvent) {\n\t\t\tif (\n\t\t\t\t!searchContainerRef.current?.contains(event.target as Node) &&\n\t\t\t\t!formRef.current?.contains(event.target as Node) &&\n\t\t\t\tisSearchVisible\n\t\t\t) {\n\t\t\t\tsetQ(undefined);\n\t\t\t\tsetIsSearchVisible(false);\n\t\t\t}\n\t\t}\n\n\t\tdocument.addEventListener('mousedown', handleClickOutside);\n\t\treturn () => {\n\t\t\tdocument.removeEventListener('mousedown', handleClickOutside);\n\t\t};\n\t}, [formRef, isSearchVisible]);\n\n\t// Hide search if you press escape and it's show\n\tuseEffect(() => {\n\t\tconst hideSearch = (event: KeyboardEvent) => {\n\t\t\tif (event.key === 'Escape') {\n\t\t\t\tsetQ(undefined);\n\t\t\t\tsetIsSearchVisible(false);\n\t\t\t}\n\t\t};\n\t\tdocument.addEventListener('keydown', hideSearch, false);\n\t\treturn () => {\n\t\t\tdocument.removeEventListener('keydown', hideSearch, false);\n\t\t};\n\t}, []);\n\n\t// Focus the input element when we show search\n\tuseEffect(() => {\n\t\tif (isSearchVisible) {\n\t\t\tqRef.current?.focus();\n\t\t}\n\t}, [isSearchVisible]);\n\n\treturn (\n\t\t<>\n\t\t\t<div css={linkTablet} ref={searchContainerRef}>\n\t\t\t\t<a\n\t\t\t\t\thref=\"https://www.google.co.uk/advanced_search?q=site:www.theguardian.com\"\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tcss={searchLinkStyles}\n\t\t\t\t\tdata-link-name=\"nav3 : search\"\n\t\t\t\t\tonClick={(event) => {\n\t\t\t\t\t\tevent.preventDefault();\n\n\t\t\t\t\t\t// toggle search\n\t\t\t\t\t\tif (isSearchVisible) {\n\t\t\t\t\t\t\tsetQ(undefined);\n\t\t\t\t\t\t\tsetIsSearchVisible(false);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsetIsSearchVisible(true);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{!isSearchVisible ? <SearchIcon /> : <XIcon />}\n\t\t\t\t\t<>Search</>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t\t{isSearchVisible && (\n\t\t\t\t<form\n\t\t\t\t\tcss={css`\n\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\tbackground: ${brand[400]};\n\t\t\t\t\t\tz-index: 1000;\n\t\t\t\t\t\tright: 0;\n\t\t\t\t\t\twidth: 50%;\n\t\t\t\t\t\ttop: 35px;\n\t\t\t\t\t`}\n\t\t\t\t\tonSubmit={(event) => {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tsetQ(qRef.current?.value);\n\t\t\t\t\t}}\n\t\t\t\t\tref={formRef}\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\tbackground: ${neutral[100]};\n\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\tjustify-content: space-between;\n\t\t\t\t\t\t`}\n\t\t\t\t\t>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tname=\"q\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\t\tborder: none;\n\t\t\t\t\t\t\t\t${textSans.small()}\n\t\t\t\t\t\t\t\tfont-size: 16px;\n\t\t\t\t\t\t\t\tpadding: 0px 8px 0px 20px;\n\t\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\t\theight: 44px;\n\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t\tref={qRef}\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\t\tbackground: none;\n\t\t\t\t\t\t\t\tborder: 0;\n\n\t\t\t\t\t\t\t\t&:hover {\n\t\t\t\t\t\t\t\t\ttransform: scale(1.2);\n\t\t\t\t\t\t\t\t\ttransition: all 0.3s ease;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ArrowRightIcon />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t{data && data.response.results.length == 0 && (\n\t\t\t\t\t\t<p\n\t\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\t\t${textSans.medium()};\n\t\t\t\t\t\t\t\tpadding: 1rem 25px;\n\t\t\t\t\t\t\t\tcolor: ${neutral[100]};\n\n\t\t\t\t\t\t\t\t:hover {\n\t\t\t\t\t\t\t\t\tcolor: ${brandAlt[400]};\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tThere are no results\n\t\t\t\t\t\t</p>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{data && data.response.results.length > 0 && (\n\t\t\t\t\t\t<ul\n\t\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\t\tborder: 1px solid ${neutral[46]};\n\t\t\t\t\t\t\t\tborder-top: none;\n\t\t\t\t\t\t\t\tpadding-top: 8px;\n\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{data.response.results.map((result) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<li key={result.webUrl}>\n\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\thref={result.webUrl}\n\t\t\t\t\t\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\t\t\t\t\t\t${headline.xxxsmall()};\n\t\t\t\t\t\t\t\t\t\t\t\ttext-decoration: none;\n\t\t\t\t\t\t\t\t\t\t\t\tcolor: ${neutral[100]};\n\t\t\t\t\t\t\t\t\t\t\t\tdisplay: block;\n\t\t\t\t\t\t\t\t\t\t\t\tpadding-left: 20px;\n\n\t\t\t\t\t\t\t\t\t\t\t\t:hover {\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: ${brandAlt[400]};\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\t\t\t\t\t\t\tborder-top: 1px solid\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t${neutral[46]};\n\t\t\t\t\t\t\t\t\t\t\t\t\tpadding: 4px 50px 16px 0;\n\t\t\t\t\t\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{result.webTitle}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t)}\n\t\t\t\t</form>\n\t\t\t)}\n\t\t</>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { brand, from, neutral, textSans } from '@guardian/source-foundations';\n\nconst searchLinkStyles = css`\n\t${textSans.medium({ fontWeight: 'bold' })};\n\tfont-size: 1rem;\n\tline-height: 1;\n\tcolor: ${neutral[100]};\n\ttransition: color 80ms ease-out;\n\ttext-decoration: none;\n\tpadding: 7px 0;\n\n\t${from.tablet} {\n\t\tpadding: 8px 10px 7px 6px;\n\t}\n\n\t:hover,\n\t:focus {\n\t\ttext-decoration: underline;\n\t}\n`;\n\nconst linkTablet = css`\n\tdisplay: none;\n\n\t:before {\n\t\tcontent: '';\n\t\tborder-left: 1px solid ${brand[600]};\n\t\theight: 24px;\n\t}\n\n\t${from.desktop} {\n\t\tdisplay: flex;\n\t}\n`;\n\nexport const SearchJobs = () => {\n\treturn (\n\t\t<div css={linkTablet}>\n\t\t\t<a\n\t\t\t\thref=\"https://jobs.theguardian.com\"\n\t\t\t\tcss={searchLinkStyles}\n\t\t\t\tdata-link-name=\"nav3 : job-cta\"\n\t\t\t>\n\t\t\t\tSearch jobs\n\t\t\t</a>\n\t\t</div>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { getCookie } from '@guardian/libs';\nimport { brand, from, space } from '@guardian/source-foundations';\nimport { center } from '../lib/center';\nimport type { EditionId } from '../lib/edition';\nimport { HeaderTopBarEditionDropdown } from './HeaderTopBarEditionDropdown';\nimport { MyAccount } from './HeaderTopBarMyAccount';\nimport { HeaderTopBarPrintSubscriptions } from './HeaderTopBarPrintSubscriptions';\nimport { Search } from './HeaderTopBarSearch';\nimport { HeaderTopBarSearchCapi } from './HeaderTopBarSearchCapi';\nimport { SearchJobs } from './HeaderTopBarSearchJobs';\nimport { Hide } from './Hide';\n\ninterface HeaderTopBarProps {\n\teditionId: EditionId;\n\tdataLinkName: string;\n\tidUrl?: string;\n\tmmaUrl?: string;\n\tdiscussionApiUrl: string;\n\tidApiUrl: string;\n\theaderTopBarSearchCapiSwitch: boolean;\n\tisInEuropeTest: boolean;\n}\n\nconst topBarStyles = css`\n\tdisplay: flex;\n\theight: 30px;\n\tbackground-color: ${brand[300]};\n\tbox-sizing: border-box;\n\tpadding-left: 10px;\n\t${from.mobileLandscape} {\n\t\tpadding-left: ${space[5]}px;\n\t}\n\t${from.tablet} {\n\t\tpadding-left: 15px;\n\t}\n\t${from.desktop} {\n\t\theight: 35px;\n\t\tjustify-content: flex-end;\n\t\tpadding-right: ${space[5]}px;\n\t}\n\t${from.wide} {\n\t\tpadding-right: 96px;\n\t}\n`;\n\n/**\n * # Header Top Bar\n *\n * The slim dark blue top bar at the very top of Guardian pages\n *\n * ## Why does this need to be an Island?\n *\n * - We need to check if a user is signed in to show them the right header.\n * - We track clicks on print subscription with a page view ID\n * - We (sometimes) have a dynamic search\n *\n * ---\n *\n * [`HeaderTopBar` on Chromatic](https://www.chromatic.com/component?appId=63e251470cfbe61776b0ef19&csfId=components-headertopbar)\n */\nexport const HeaderTopBar = ({\n\teditionId,\n\tdataLinkName,\n\tidUrl,\n\tmmaUrl,\n\tdiscussionApiUrl,\n\tidApiUrl,\n\theaderTopBarSearchCapiSwitch,\n\tisInEuropeTest,\n}: HeaderTopBarProps) => {\n\tconst isServer = typeof window === 'undefined';\n\tconst isSignedIn =\n\t\t!isServer && !!getCookie({ name: 'GU_U', shouldMemoize: true });\n\n\treturn (\n\t\t<div\n\t\t\tcss={css`\n\t\t\t\tbackground-color: ${brand[300]};\n\t\t\t`}\n\t\t>\n\t\t\t<div css={[topBarStyles, center]}>\n\t\t\t\t<HeaderTopBarPrintSubscriptions editionId={editionId} />\n\t\t\t\t<MyAccount\n\t\t\t\t\tmmaUrl={mmaUrl ?? 'https://manage.theguardian.com'}\n\t\t\t\t\tidUrl={idUrl ?? 'https://profile.theguardian.com'}\n\t\t\t\t\tdiscussionApiUrl={discussionApiUrl}\n\t\t\t\t\tidApiUrl={idApiUrl}\n\t\t\t\t\tisSignedIn={isSignedIn}\n\t\t\t\t/>\n\t\t\t\t<SearchJobs />\n\n\t\t\t\t{!headerTopBarSearchCapiSwitch && (\n\t\t\t\t\t<Search\n\t\t\t\t\t\thref=\"https://www.google.co.uk/advanced_search?q=site:www.theguardian.com\"\n\t\t\t\t\t\tdataLinkName=\"nav3 : search\"\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\t{headerTopBarSearchCapiSwitch && <HeaderTopBarSearchCapi />}\n\t\t\t\t<Hide when=\"below\" breakpoint=\"desktop\">\n\t\t\t\t\t<HeaderTopBarEditionDropdown\n\t\t\t\t\t\teditionId={editionId}\n\t\t\t\t\t\tdataLinkName={dataLinkName}\n\t\t\t\t\t\tisInEuropeTest={isInEuropeTest}\n\t\t\t\t\t/>\n\t\t\t\t</Hide>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import { css } from '@emotion/react';\nimport type { Breakpoint } from '@guardian/source-foundations';\nimport { from, until } from '@guardian/source-foundations';\n\ninterface Props {\n\tchildren: React.ReactNode;\n\twhen: 'above' | 'below';\n\tbreakpoint: Breakpoint;\n}\n\ninterface PropsSpan extends Props {\n\tel?: 'span';\n}\ninterface PropsLi extends Props {\n\tel: 'li';\n}\n\nexport const Hide = ({\n\tchildren,\n\twhen,\n\tbreakpoint,\n\tel,\n}: PropsSpan | PropsLi) => {\n\tlet whenToHide;\n\tif (when === 'below') {\n\t\twhenToHide = css`\n\t\t\t${until[breakpoint]} {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t`;\n\t} else {\n\t\twhenToHide = css`\n\t\t\t${from[breakpoint]} {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t`;\n\t}\n\treturn el === 'li' ? (\n\t\t<li css={whenToHide}>{children}</li>\n\t) : (\n\t\t<span css={whenToHide}>{children}</span>\n\t);\n};\n","import type { OphanComponentType } from '@guardian/libs';\nimport { constructQuery } from '../../lib/querystring';\n\ntype AcquisitionLinkParams = {\n\tbase: string;\n\tcomponentType: OphanComponentType;\n\tcomponentId: string;\n\tcampaignCode?: string;\n\tabTest?: { name: string; variant: string };\n\tpageViewId: string;\n\treferrerUrl: string;\n};\n\n// Adds acquisition tracking codes if it is a support url\nexport const addTrackingCodesToUrl = ({\n\tbase,\n\tcomponentType,\n\tcomponentId,\n\tcampaignCode,\n\tabTest,\n\tpageViewId,\n\treferrerUrl,\n}: AcquisitionLinkParams): string => {\n\tconst isSupportUrl =\n\t\tbase.search(\n\t\t\t/(support.theguardian.com)(\\/[a-z]*)?\\/(contribute|subscribe)/,\n\t\t) >= 0;\n\n\tif (isSupportUrl) {\n\t\tconst acquisitionData = {\n\t\t\tsource: 'GUARDIAN_WEB',\n\t\t\tcomponentId,\n\t\t\tcomponentType,\n\t\t\tcampaignCode,\n\t\t\tabTest,\n\t\t\treferrerPageviewId: pageViewId,\n\t\t\treferrerUrl,\n\t\t};\n\n\t\tconst params = {\n\t\t\tREFPVID: pageViewId,\n\t\t\tINTCMP: campaignCode,\n\t\t\tacquisitionData: JSON.stringify(acquisitionData),\n\t\t};\n\n\t\treturn `${base}${base.includes('?') ? '&' : '?'}${constructQuery(\n\t\t\tparams,\n\t\t)}`;\n\t}\n\n\treturn base;\n};\n","import { css } from '@emotion/react';\nimport { from } from '@guardian/source-foundations';\n\nexport const center = css`\n\tposition: relative;\n\tmargin: auto;\n\n\t${from.tablet} {\n\t\tmax-width: 740px;\n\t}\n\n\t${from.desktop} {\n\t\tmax-width: 980px;\n\t}\n\n\t${from.leftCol} {\n\t\tmax-width: 1140px;\n\t}\n\n\t${from.wide} {\n\t\tmax-width: 1300px;\n\t}\n`;\n","import { joinUrl } from '@guardian/libs';\n\nexport interface IdApiUserData {\n\tuser?: {\n\t\tprimaryEmailAddress?: string;\n\t\tprivateFields?: {\n\t\t\tbrazeUuid?: string;\n\t\t};\n\t};\n}\n\nexport interface IdApiUserIdentifiers {\n\tid: string;\n\tbrazeUuid: string;\n\tpuzzleId: string;\n\tgoogleTagId: string;\n}\n\nfunction checkForErrors(response: Response) {\n\tif (!response.ok) {\n\t\tthrow Error(\n\t\t\tresponse.statusText ||\n\t\t\t\t`getIdApiUserData | An api call returned HTTP status ${response.status}`,\n\t\t);\n\t}\n\treturn response;\n}\n\nconst callApi = (url: string) => {\n\treturn fetch(url, {\n\t\tcredentials: 'include',\n\t})\n\t\t.then(checkForErrors)\n\t\t.then((response) => response.json());\n};\n\nconst cache: {\n\tidapiUserMeResponse?: Promise<IdApiUserData>;\n\tidapiUserIdentifiersResponse?: Promise<IdApiUserIdentifiers>;\n} = {};\n\nexport const getIdApiUserData = (ajaxUrl: string): Promise<IdApiUserData> => {\n\tif (!cache.idapiUserMeResponse) {\n\t\tconst url = joinUrl(ajaxUrl, 'user/me');\n\t\tcache.idapiUserMeResponse = callApi(url);\n\t}\n\treturn cache.idapiUserMeResponse;\n};\n\nexport const getIdapiUserIdentifiers = (\n\tajaxUrl: string,\n): Promise<IdApiUserIdentifiers> => {\n\tif (!cache.idapiUserIdentifiersResponse) {\n\t\tconst url = joinUrl(ajaxUrl, 'user/me/identifiers');\n\t\tcache.idapiUserIdentifiersResponse = callApi(url);\n\t}\n\treturn cache.idapiUserIdentifiersResponse;\n};\n","import type { SWRConfiguration } from 'swr';\nimport useSWR from 'swr';\n\nfunction checkForErrors(response: Response) {\n\tif (!response.ok) {\n\t\tthrow Error(\n\t\t\tresponse.statusText ||\n\t\t\t\t`useApi | An api call returned HTTP status ${response.status}`,\n\t\t);\n\t}\n\treturn response;\n}\n\nconst fetcher = (init?: RequestInit) => (url: string) =>\n\tfetch(url, init)\n\t\t.then(checkForErrors)\n\t\t.then((res) => res.json());\n\ninterface ApiResponse<T> {\n\tloading: boolean;\n\tdata?: T;\n\terror?: Error;\n}\n\n/**\n * @description\n * A custom hook to make a GET request using the given url using the SWR lib (https://swr.vercel.app/)\n * returns { loading, error, data }\n * @param {String} url - The url to fetch\n * @param {SWRConfiguration} options - The SWR config object - https://swr.vercel.app/docs/options\n * @param {RequestInit} init - The fetch init object - https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch#supplying_request_options\n * */\nexport const useApi = <T,>(\n\turl?: string,\n\toptions?: SWRConfiguration,\n\tinit?: RequestInit,\n): ApiResponse<T> => {\n\tconst { data, error } = useSWR(url, fetcher(init), options);\n\n\treturn {\n\t\tdata,\n\t\terror,\n\t\tloading: !!url && !error && !data,\n\t};\n};\n","const KEY = 'gu.brazeUserSet';\n\nconst hasCurrentBrazeUser = (): boolean => {\n\treturn localStorage.getItem(KEY) === 'true';\n};\n\nconst setHasCurrentBrazeUser = (): void => {\n\tlocalStorage.setItem(KEY, 'true');\n};\n\nconst clearHasCurrentBrazeUser = (): void => {\n\tlocalStorage.removeItem(KEY);\n};\n\nexport {\n\thasCurrentBrazeUser,\n\tsetHasCurrentBrazeUser,\n\tclearHasCurrentBrazeUser,\n};\n","import type { IdApiUserIdentifiers } from './getIdapiUserData';\nimport { getIdapiUserIdentifiers } from './getIdapiUserData';\n\nexport const getBrazeUuid = async (ajaxUrl: string): Promise<string | void> => {\n\treturn getIdapiUserIdentifiers(ajaxUrl)\n\t\t.then((data: IdApiUserIdentifiers) => data.brazeUuid)\n\t\t.catch((error) => {\n\t\t\twindow.guardian.modules.sentry.reportError(error, 'getBrazeUuid');\n\t\t});\n};\n","import {\n\tgetConsentFor,\n\tonConsentChange,\n} from '@guardian/consent-management-platform';\n\nconst hasRequiredConsents = (): Promise<boolean> =>\n\tnew Promise((resolve, reject) => {\n\t\tonConsentChange((state) => {\n\t\t\ttry {\n\t\t\t\tresolve(getConsentFor('braze', state));\n\t\t\t} catch (e) {\n\t\t\t\treject(e);\n\t\t\t}\n\t\t});\n\t});\n\nexport { hasRequiredConsents };\n","import { getBrazeUuid } from '../getBrazeUuid';\nimport { hasRequiredConsents } from './hasRequiredConsents';\n\ntype SuccessResult = {\n\tisSuccessful: true;\n\tdata: ResultData;\n};\n\ntype FailureResult = {\n\tisSuccessful: false;\n\tfailure: {\n\t\tfield: string;\n\t\tdata: any;\n\t};\n\tdata: ResultData;\n};\n\ntype DependenciesResult = SuccessResult | FailureResult;\n\ntype ResultData = { [key: string]: string | boolean };\n\ntype DependencyResult = {\n\tname: string;\n\tvalue: Promise<string | boolean | null | undefined | void>;\n};\nconst buildFailureResponse = (name: string, value: any, data: ResultData) => ({\n\tisSuccessful: false,\n\tfailure: {\n\t\tfield: name,\n\t\tdata: value,\n\t},\n\tdata,\n});\n\nconst buildDependencies = (\n\tisSignedIn: boolean,\n\tidApiUrl: string,\n): DependencyResult[] => {\n\treturn [\n\t\t{\n\t\t\tname: 'apiKey',\n\t\t\tvalue: Promise.resolve(window.guardian.config.page.brazeApiKey),\n\t\t},\n\t\t{\n\t\t\tname: 'brazeSwitch',\n\t\t\tvalue: Promise.resolve(window.guardian.config.switches.brazeSwitch),\n\t\t},\n\t\t{\n\t\t\tname: 'brazeUuid',\n\t\t\tvalue: isSignedIn ? getBrazeUuid(idApiUrl) : Promise.resolve(null),\n\t\t},\n\t\t{\n\t\t\tname: 'consent',\n\t\t\tvalue: hasRequiredConsents(),\n\t\t},\n\t\t{\n\t\t\tname: 'isNotPaidContent',\n\t\t\tvalue: Promise.resolve(!window.guardian.config.page.isPaidContent),\n\t\t},\n\t];\n};\n\nconst checkBrazeDependencies = async (\n\tisSignedIn: boolean,\n\tidApiUrl: string,\n): Promise<DependenciesResult> => {\n\tconst dependencies = buildDependencies(isSignedIn, idApiUrl);\n\n\tconst data: ResultData = {};\n\n\t// I think we could possibly clean this up a bit when we can use\n\t// Promise.allSettled reliably (it's not available in our current Node\n\t// version and polyfill.io doesn't have a polyfill yet).\n\tfor (const { name, value } of dependencies) {\n\t\ttry {\n\t\t\tconst result = await value;\n\n\t\t\t// eslint-disable-next-line @typescript-eslint/strict-boolean-expressions -- TODO: Complex types, look into this further\n\t\t\tif (result) {\n\t\t\t\tdata[name] = result;\n\t\t\t} else {\n\t\t\t\treturn buildFailureResponse(name, result, data);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\treturn buildFailureResponse(\n\t\t\t\tname,\n\t\t\t\te instanceof Error ? e.message : e,\n\t\t\t\tdata,\n\t\t\t);\n\t\t}\n\t}\n\n\treturn {\n\t\tisSuccessful: true,\n\t\tdata,\n\t};\n};\n\nexport { checkBrazeDependencies };\n","import type appboy from '@braze/web-sdk-core';\nimport { log } from '@guardian/libs';\n\nconst SDK_OPTIONS: appboy.InitializationOptions = {\n\tenableLogging: true,\n\tnoCookies: true,\n\tbaseUrl: 'https://sdk.fra-01.braze.eu/api/v3',\n\tsessionTimeoutInSeconds: 1,\n\tminimumIntervalBetweenTriggerActionsInSeconds: 0,\n\tdevicePropertyAllowlist: [],\n};\n\nconst initialiseAppboy = async (apiKey: string): Promise<typeof appboy> => {\n\tconst importedAppboy = (await import(\n\t\t/* webpackChunkName: \"braze-web-sdk-core\" */ '@braze/web-sdk-core'\n\t)) as unknown as typeof appboy;\n\n\timportedAppboy.setLogger((message) => log('tx', message));\n\timportedAppboy.initialize(apiKey, SDK_OPTIONS);\n\n\treturn importedAppboy;\n};\n\nconst getInitialisedAppboy = (() => {\n\tlet cache: Promise<typeof appboy>;\n\n\treturn (apiKey: string): Promise<typeof appboy> => {\n\t\tif (cache === undefined) {\n\t\t\tcache = initialiseAppboy(apiKey);\n\t\t}\n\n\t\treturn cache;\n\t};\n})();\n\nexport { getInitialisedAppboy };\n","import type {\n\tBrazeCardsInterface,\n\tBrazeMessagesInterface,\n} from '@guardian/braze-components/logic';\nimport {\n\tBrazeCards,\n\tBrazeMessages,\n\tLocalMessageCache,\n\tNullBrazeCards,\n\tNullBrazeMessages,\n} from '@guardian/braze-components/logic';\nimport { getCookie, log, storage } from '@guardian/libs';\nimport { initPerf } from '../../browser/initPerf';\nimport { record } from '../../browser/ophan/ophan';\nimport {\n\tclearHasCurrentBrazeUser,\n\thasCurrentBrazeUser,\n\tsetHasCurrentBrazeUser,\n} from '../hasCurrentBrazeUser';\nimport { checkBrazeDependencies } from './checkBrazeDependencies';\nimport { getInitialisedAppboy } from './initialiseAppboy';\n\nconst maybeWipeUserData = async (\n\tapiKey?: string,\n\tbrazeUuid?: null | string,\n\tconsent?: boolean,\n\tbrazeSwitch?: boolean,\n): Promise<void> => {\n\tconst hasCurrentBrazeUserValue = hasCurrentBrazeUser();\n\tconst userHasLoggedOut = !brazeUuid && hasCurrentBrazeUserValue;\n\tconst userHasRemovedConsent = !consent && hasCurrentBrazeUserValue;\n\tconst brazeHasBeenDisabled = !brazeSwitch && hasCurrentBrazeUserValue;\n\n\tif (userHasLoggedOut || userHasRemovedConsent || brazeHasBeenDisabled) {\n\t\ttry {\n\t\t\tif (apiKey) {\n\t\t\t\tconst appboy = await getInitialisedAppboy(apiKey);\n\t\t\t\tappboy.wipeData();\n\t\t\t}\n\t\t\tLocalMessageCache.clear();\n\t\t\tclearHasCurrentBrazeUser();\n\t\t} catch (error) {\n\t\t\twindow.guardian.modules.sentry.reportError(\n\t\t\t\t// @ts-expect-error\n\t\t\t\terror,\n\t\t\t\t'braze-maybeWipeUserData',\n\t\t\t);\n\t\t}\n\t}\n};\n\nexport const buildBrazeMessaging = async (\n\tidApiUrl: string,\n): Promise<{\n\tbrazeMessages: BrazeMessagesInterface;\n\tbrazeCards: BrazeCardsInterface;\n}> => {\n\tif (!storage.local.isAvailable()) {\n\t\t// we require local storage for using any message channel so that we know\n\t\t// when to clear up user data from the device on logout\n\t\treturn {\n\t\t\tbrazeMessages: new NullBrazeMessages(),\n\t\t\tbrazeCards: new NullBrazeCards(),\n\t\t};\n\t}\n\n\tconst isSignedIn = !!getCookie({ name: 'GU_U', shouldMemoize: true });\n\n\tconst dependenciesResult = await checkBrazeDependencies(\n\t\tisSignedIn,\n\t\tidApiUrl,\n\t);\n\n\tif (!dependenciesResult.isSuccessful) {\n\t\tconst { failure, data } = dependenciesResult;\n\n\t\tlog(\n\t\t\t'tx',\n\t\t\t`Not attempting to show Braze messages. Dependency ${\n\t\t\t\tfailure.field\n\t\t\t} failed with ${String(failure.data)}.`,\n\t\t);\n\n\t\tawait maybeWipeUserData(\n\t\t\tdata.apiKey as string | undefined,\n\t\t\tdata.brazeUuid as string | null | undefined,\n\t\t\tdata.consent as boolean | undefined,\n\t\t\tdata.brazeSwitch as boolean | undefined,\n\t\t);\n\n\t\treturn {\n\t\t\tbrazeMessages: new NullBrazeMessages(),\n\t\t\tbrazeCards: new NullBrazeCards(),\n\t\t};\n\t}\n\n\ttry {\n\t\tconst sdkLoadTiming = initPerf('braze-sdk-load');\n\t\tsdkLoadTiming.start();\n\n\t\tconst appboy = await getInitialisedAppboy(\n\t\t\tdependenciesResult.data.apiKey as string,\n\t\t);\n\n\t\tconst sdkLoadTimeTaken = sdkLoadTiming.end();\n\t\trecord({\n\t\t\tcomponent: 'braze-sdk-load-timing',\n\t\t\tvalue: sdkLoadTimeTaken,\n\t\t});\n\n\t\tconst errorHandler = (error: Error, desc: string) => {\n\t\t\twindow.guardian.modules.sentry.reportError(error, desc);\n\t\t};\n\n\t\tsetHasCurrentBrazeUser();\n\t\tappboy.changeUser(dependenciesResult.data.brazeUuid as string);\n\t\tappboy.openSession();\n\n\t\tconst brazeCards = window.guardian.config.switches.brazeContentCards\n\t\t\t? new BrazeCards(appboy, errorHandler)\n\t\t\t: new NullBrazeCards();\n\t\tconst brazeMessages = new BrazeMessages(\n\t\t\tappboy,\n\t\t\tLocalMessageCache,\n\t\t\terrorHandler,\n\t\t);\n\t\treturn { brazeMessages, brazeCards };\n\t} catch {\n\t\treturn {\n\t\t\tbrazeMessages: new NullBrazeMessages(),\n\t\t\tbrazeCards: new NullBrazeCards(),\n\t\t};\n\t}\n};\n","import type {\n\tBrazeCardsInterface,\n\tBrazeMessagesInterface,\n} from '@guardian/braze-components/logic';\nimport {\n\tNullBrazeCards,\n\tNullBrazeMessages,\n} from '@guardian/braze-components/logic';\nimport useSWRImmutable from 'swr/immutable';\nimport { buildBrazeMessaging } from './braze/buildBrazeMessaging';\n\n/**\n * Returns brazeMessaging as BrazeMessagesInterface and BrazeCardsInterface\n *\n * BrazeMessages is used to show single-impression messages (like ad impressions).\n * In contrast, BrazeCards can provide persistent user notifications.\n *\n * We're using useSWRImmutable to ensure this call is only made once\n * [doc]: https://swr.vercel.app/docs/revalidation#disable-automatic-revalidations\n */\nexport const useBraze = (\n\tidApiUrl: string,\n): {\n\tbrazeMessages: BrazeMessagesInterface | undefined;\n\tbrazeCards: BrazeCardsInterface | undefined;\n} => {\n\tconst { data, error } = useSWRImmutable('braze-message', () =>\n\t\tbuildBrazeMessaging(idApiUrl),\n\t);\n\n\tif (error) {\n\t\treturn {\n\t\t\tbrazeMessages: new NullBrazeMessages(),\n\t\t\tbrazeCards: new NullBrazeCards(),\n\t\t};\n\t}\n\n\treturn {\n\t\tbrazeMessages: data?.brazeMessages,\n\t\tbrazeCards: data?.brazeCards,\n\t};\n};\n","import{storage as e}from\"@guardian/libs\";function r(e,r){if(!(e instanceof r))throw new TypeError(\"Cannot call a class as a function\")}function t(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}function o(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function a(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null==t)return;var n,o,a=[],i=!0,s=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(a.push(n.value),!r||a.length!==r);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==t.return||t.return()}finally{if(s)throw o}}return a}(e,r)||i(e,r)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function i(e,r){if(e){if(\"string\"==typeof e)return s(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===t&&e.constructor&&(t=e.constructor.name),\"Map\"===t||\"Set\"===t?Array.from(e):\"Arguments\"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?s(e,r):void 0}}function s(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var l,u,c,d=[\"https://media.guim.co.uk/\",\"https://i.guim.co.uk/\"],h=function(e){return d.some((function(r){return e.startsWith(r)}))},f=[\"%%CURRENCY_SYMBOL%%\",\"%%COUNTRY_NAME%%\"],g=/%%.*?%%/g,p=function(e){var r,t,n=e.buttonText,o=e.buttonUrl,a=e.ophanComponentId,i=e.highlightedText,s=m(e),l=(i||\"\")+\" \"+s.join(\" \"),u=!!(t=null===(r=l.match(g))||void 0===r?void 0:r.filter((function(e){return!f.includes(\"\".concat(e))})))&&t.length>0;return Boolean(n&&o&&a&&s.length>0&&!u)},m=function(e){var r,t=[],n=function(e,r){var t=\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(!t){if(Array.isArray(e)||(t=i(e))||r&&e&&\"number\"==typeof e.length){t&&(e=t);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var a,s=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==t.return||t.return()}finally{if(l)throw a}}}}(Object.keys(e).filter((function(e){return/^paragraph\\d$/.test(e)})).sort());try{for(n.s();!(r=n.n()).done;){var o=e[r.value];o&&t.push(o)}}catch(e){n.e(e)}finally{n.f()}return t},v=(o(l={},\"AppBanner\",(function(e){var r=e.header,t=e.body,n=e.cta,o=e.imageUrl;return!!(r&&t&&n&&o)&&(!!h(o)||(console.log(\"Image URL \".concat(o,\" is not allowed\")),!1))})),o(l,\"BannerWithLink\",(function(e){var r=e.header,t=e.body,n=e.buttonText,o=e.buttonUrl,a=e.imageUrl,i=e.ophanComponentId;return a&&!h(a)?(console.log(\"Image URL \".concat(a,\" is not allowed\")),!1):Boolean(r&&t&&n&&o&&a&&i)})),o(l,\"BannerNewsletter\",(function(e){var r=e.header,t=e.body,n=e.imageUrl,o=e.ophanComponentId,a=e.newsletterId,i=e.frequency;return n&&!h(n)?(console.log(\"Image URL \".concat(n,\" is not allowed\")),!1):Boolean(r&&t&&n&&o&&a&&i)})),o(l,\"Epic\",p),o(l,\"EpicWithSpecialHeader\",(function(e){var r=p(e);if(r){var t=e.authoredEpicImageUrl,n=e.authoredEpicImageAltText,o=e.authoredEpicBylineName;return Boolean(t&&n&&o)}return r})),o(l,\"NewsletterEpic\",(function(e){var r=e.header,t=e.frequency,n=e.paragraph1,o=e.imageUrl,a=e.newsletterId,i=e.ophanComponentId;return!!(r&&t&&n&&o&&a&&i)&&(!!h(o)||(console.log(\"Image URL \".concat(o,\" is not allowed\")),!1))})),o(l,\"USNewsletterEpic\",(function(e){var r=e.header,t=e.frequency,n=e.paragraph1,o=e.ophanComponentId;return Boolean(r&&t&&n&&o)})),o(l,\"AUNewsletterEpic\",(function(e){var r=e.header,t=e.frequency,n=e.paragraph1,o=e.ophanComponentId;return Boolean(r&&t&&n&&o)})),o(l,\"UKNewsletterEpic\",(function(e){var r=e.header,t=e.frequency,n=e.paragraph1,o=e.ophanComponentId;return Boolean(r&&t&&n&&o)})),o(l,\"DownToEarthNewsletterEpic\",(function(e){var r=e.header,t=e.frequency,n=e.paragraph1,o=e.ophanComponentId;return Boolean(r&&t&&n&&o)})),o(l,\"EpicNewsletter_AU_AfternoonUpdate\",(function(e){var r=e.header,t=e.frequency,n=e.paragraph1,o=e.ophanComponentId;return Boolean(r&&t&&n&&o)})),o(l,\"EpicNewsletter_TheGuide\",(function(e){var r=e.header,t=e.frequency,n=e.paragraph1,o=e.ophanComponentId;return Boolean(r&&t&&n&&o)})),l),y=function(){function e(t,n,o,a,i,s){r(this,e),this.id=void 0,this.appboy=void 0,this.message=void 0,this.slotName=void 0,this.cache=void 0,this.errorHandler=void 0,this.id=t,this.message=n,this.appboy=o,this.slotName=a,this.cache=i,this.errorHandler=s}return n(e,[{key:\"logImpression\",value:function(){try{this.appboy.logInAppMessageImpression(this.message)}catch(e){e instanceof Error&&this.errorHandler(e,\"BrazeMessage.logImpression\")}this.cache.remove(this.slotName,this.id,this.errorHandler)}},{key:\"logButtonClick\",value:function(e){var r=new this.appboy.InAppMessageButton(\"Button: ID \".concat(e),void 0,void 0,void 0,void 0,void 0,e);try{this.appboy.logInAppMessageButtonClick(r,this.message)}catch(e){e instanceof Error&&this.errorHandler(e,\"BrazeMessage.logButtonClick\")}}},{key:\"extras\",get:function(){return this.message.extras}}]),e}(),b=function(){function e(t,n,o){r(this,e),this.appboy=void 0,this.freshMessageBySlot=void 0,this.cache=void 0,this.errorHandler=void 0,this.appboy=t,this.cache=n,this.freshMessageBySlot={Banner:this.getFreshMessagesForSlot(\"Banner\"),EndOfArticle:this.getFreshMessagesForSlot(\"EndOfArticle\")},this.errorHandler=o}return n(e,[{key:\"getFreshMessagesForSlot\",value:function(e){var r=this;return new Promise((function(t){r.appboy.subscribeToInAppMessage((function(n){var o=n,a=o.extras;a&&a.slotName&&a.slotName===e&&(r.cache.push(e,{message:o,id:\"\".concat(Math.random().toString(16).slice(2),\"-\").concat((new Date).getTime())},r.errorHandler),t(o))}))}))}},{key:\"getMessageForBanner\",value:function(e){return this.getMessageForSlot(\"Banner\",e)}},{key:\"getMessageForEndOfArticle\",value:function(e){return this.getMessageForSlot(\"EndOfArticle\",e)}},{key:\"getMessageForSlot\",value:function(e,r){var t=this,n=this.getHighestPriorityMessageFromCache(e,r);return n?Promise.resolve(n):this.freshMessageBySlot[e].then((function(){var n=t.getHighestPriorityMessageFromCache(e,r);if(n)return Promise.resolve(n);throw new Error(\"No valid messages for \".concat(e,\" slot\"))}))}},{key:\"getHighestPriorityMessageFromCache\",value:function(e,r){var t,n=this.cache.all(e,this.appboy,this.errorHandler).filter((function(e){return!!(r=e.message.extras)&&!!v[r.componentName]&&v[r.componentName](r);var r})),o={messagesWithFilters:(t=n).filter((function(e){return Boolean(e.message.extras.section)})),messagesWithoutFilters:t.filter((function(e){return!Boolean(e.message.extras.section)}))},i=o.messagesWithoutFilters,s=a(o.messagesWithFilters.concat(i).filter((function(e){var t;if(!e.message.extras.section||\"string\"!=typeof e.message.extras.section)return!0;var n=null==r||null===(t=r.section)||void 0===t?void 0:t.toLowerCase();return!!n&&e.message.extras.section.split(\"|\").map((function(e){return e.toLowerCase()})).includes(n)})),1)[0];if(s)return new y(s.id,s.message,this.appboy,e,this.cache,this.errorHandler)}}]),e}(),C=function(){function e(){r(this,e)}return n(e,[{key:\"getMessageForBanner\",value:function(){return Promise.reject(new Error(\"No banner message\"))}},{key:\"getMessageForEndOfArticle\",value:function(){return Promise.reject(new Error(\"No end of article message\"))}}]),e}();!function(e){e.Banner=\"Banner\",e.EndOfArticle=\"EndOfArticle\"}(u||(u={})),function(e){e.ProfileBadge=\"ProfileBadge\"}(c||(c={}));var B=function(){function e(t,n,o,a,i){r(this,e),this.id=void 0,this.slotName=void 0,this.card=void 0,this.appboy=void 0,this.errorHandler=void 0,this.id=t,this.slotName=n,this.card=o,this.appboy=a,this.errorHandler=i}return n(e,[{key:\"logImpression\",value:function(){try{this.appboy.logCardImpressions([this.card],!0)||this.errorHandler(new Error(\"Failed to log card impression event\"),\"BrazeCard.logImpressions\")}catch(e){e instanceof Error&&this.errorHandler(e,\"BrazeCard.logImpressions\")}}},{key:\"logCardClick\",value:function(){try{this.appboy.logCardClick(this.card,!0)||this.errorHandler(new Error(\"Failed to log card click event\"),\"BrazeCard.logCardClick\")}catch(e){e instanceof Error&&this.errorHandler(e,\"BrazeCard.logCardClick\")}}},{key:\"logCardDismissal\",value:function(){try{this.appboy.logCardDismissal(this.card)||this.errorHandler(new Error(\"Failed to log card dismiss event\"),\"BrazeCard.logCardDismiss\")}catch(e){e instanceof Error&&this.errorHandler(e,\"BrazeCard.logCardDismiss\")}}},{key:\"extras\",get:function(){var e=this.card.extras;return void 0===e?{}:e}},{key:\"expiry\",get:function(){var e=this.card.expiresAt;return null===e?void 0:e}}]),e}(),w=function(){function e(t,n){r(this,e),this.appboy=void 0,this.errorHandler=void 0,this.appboy=t,this.errorHandler=n}return n(e,[{key:\"getCardsForProfileBadge\",value:function(){return this.getCardsForSlot(c.ProfileBadge)}},{key:\"getCardsForSlot\",value:function(e){var r=this;return this.appboy.getCachedContentCards().cards.flatMap((function(t){var n=t.extras;return n&&n.slotName&&n.slotName===e?void 0===t.id?(r.errorHandler(new Error(\"appboy card had no ID\"),\"BrazeCards.getCardsForSlot\"),[]):[new B(t.id,e,t,r.appboy,r.errorHandler)]:[]}))}},{key:\"lastUpdated\",get:function(){return this.appboy.getCachedContentCards().lastUpdated}}]),e}(),I=function(){function e(){r(this,e)}return n(e,[{key:\"getCardsForProfileBadge\",value:function(){return[]}}]),e}(),E=864e5,k=function(e){return\"\".concat(\"gu.brazeMessageCache\",\".\").concat(e)},F=function(r,t){var n=k(r);e.local.set(n,t)},M=function(e,r){return new r.HtmlMessage(e.message,e.extras,e.campaignId,e.cardId,e.triggerId,e.dismissType,e.duration,e.animateIn,e.animateOut,e.frameColor,e.htmlId,e.css,e.messageFields)},x=function(r,t){var n=function(r){var t=k(r),n=e.local.get(t);return Array.isArray(n)?n:[]}(r),o=n.filter((function(e){return r=e,Boolean((null==r?void 0:r.expires)&&Number.isFinite(null==r?void 0:r.expires)&&(null==r||null===(t=r.message)||void 0===t?void 0:t.id)&&(null==r||null===(n=r.message)||void 0===n||null===(o=n.message)||void 0===o?void 0:o.triggerId)&&(null==r||null===(a=r.message)||void 0===a||null===(i=a.message)||void 0===i?void 0:i.extras));var r,t,n,o,a,i})).filter((function(e){return e.expires>Date.now()}));if(n.length!==o.length){var a=n.length-o.length;t(Error(\"Removed \".concat(a,\" expired message\").concat(1===a?\"\":\"s\",\" from queue\")),\"LocalMessageCache\"),F(r,o)}return o},A=function(){function t(){r(this,t)}return n(t,null,[{key:\"peek\",value:function(e,r,t){var n=x(e,t)[0];if(n)return{id:n.message.id,message:M(n.message.message,r)}}},{key:\"all\",value:function(e,r,t){return x(e,t).map((function(e){return{id:e.message.id,message:M(e.message.message,r)}}))}},{key:\"remove\",value:function(e,r,t){var n=x(e,t),o=n.findIndex((function(e){return e.message.id===r}));if(o>=0&&n.splice(o,1))return F(e,n),!0;return!1}},{key:\"push\",value:function(e,r,t){var n=x(e,t);if(n.length<2){var o={message:r,expires:Date.now()+864e5};return n.push(o),F(e,n),!0}return t(new Error(\"Failed to add message to queue - queue full\"),\"LocalMessageCache\"),!1}},{key:\"clear\",value:function(){for(var r in u){var t=k(r);e.local.remove(t)}}}]),t}();export{B as BrazeCard,w as BrazeCards,y as BrazeMessage,b as BrazeMessages,A as LocalMessageCache,I as NullBrazeCards,C as NullBrazeMessages,M as hydrateMessage,E as millisecondsBeforeExpiry,F as setQueue};\n","/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_visuallyhidden--page)\n *\n * CSS rules that hide something from sight while still being available to screen readers.\n *\n * @see https://webaim.org/techniques/css/invisiblecontent/\n * @see https://medium.com/@jessebeach/beware-smushed-off-screen-accessible-text-5952a4c2cbfe\n * @see https://www.scottohara.me/blog/2017/04/14/inclusively-hidden.html\n */\nconst visuallyHidden = `\n\tposition: absolute;\n\toverflow: hidden; /* gets rid of horizontal scrollbar that appears in some circumstances */\n\twhite-space: nowrap; /* The white-space property forces the content to render on one line. */\n\twidth: 1px;  /* ensures content is announced by VoiceOver. */\n\theight: 1px; /* ensures content is announced by VoiceOver. */\n\tmargin: -1px; /* hide or clip content that does not fit into a 1-pixel visible area. */\n\tpadding: 0; /* hide or clip content that does not fit into a 1-pixel visible area. */\n\tborder: 0;\n\tclip: rect(1px, 1px, 1px, 1px); /* clip removes any visible trace of the element */\n\t-webkit-clip-path: inset(50%); /* clip removes any visible trace of the element */\n\tclip-path: inset(50%); /* clip removes any visible trace of the element */\n`;\n\nexport { visuallyHidden };\n//# sourceMappingURL=visually-hidden.js.map\n"],"names":["module","exports","desvg","createAuthenticationEventParams","componentId","pageViewId","params","componentType","viewId","encodeURIComponent","constructQuery","query","Object","keys","map","param","value","queryValue","Array","isArray","v","join","hasTargetAndMessage","card","Boolean","extras","message","target","ophanLabel","addNotificationsToDropdownLinks","links","notifications","notificationsByTarget","reduce","groupings","notification","concat","groupNotificationsByTarget","link","newNotifications","id","length","myAccountStyles","css","from","brand","myAccountLinkStyles","textSans","neutral","getZIndex","SignIn","idUrl","a","href","data-link-name","ProfileIcon","dropDownOverrides","SignedInWithNotifications","mmaUrl","discussionApiUrl","data","error","useApi","joinUrl","credentials","userProfile","userId","identityLinks","url","title","dataLinkName","buildIdentityLinks","identityLinksWithNotifications","div","Dropdown","label","cssOverrides","SignedIn","idApiUrl","props","brazeCards","useBraze","brazeNotifications","setBrazeNotifications","useState","useEffect","cardsToNotifications","getCardsForProfileBadge","filter","logImpression","MyAccount","isSignedIn","editionDropdownStyles","HeaderTopBarEditionDropdown","editionId","isInEuropeTest","ukEdition","toUpperCase","isActive","activeLink","find","linksToDisplay","printSubscriptionStyles","linkStyles","fontWeight","brandAlt","HeaderTopBarPrintSubscriptions","setPageViewId","referrerUrl","setReferrerUrl","window","guardian","config","ophan","location","origin","pathname","addTrackingCodesToUrl","base","NewspaperIcon","searchLinkStyles","linkTablet","Search","SearchIcon","HeaderTopBarSearchCapi","isSearchVisible","setIsSearchVisible","q","setQ","qRef","useRef","undefined","formRef","searchContainerRef","handleClickOutside","event","current","contains","document","addEventListener","removeEventListener","hideSearch","key","focus","ref","type","onClick","preventDefault","XIcon","form","onSubmit","input","name","autoComplete","button","ArrowRightIcon","response","results","p","ul","result","li","webUrl","headline","webTitle","SearchJobs","topBarStyles","space","HeaderTopBar","headerTopBarSearchCapiSwitch","getCookie","shouldMemoize","center","Hide","when","breakpoint","whenToHide","children","el","until","span","campaignCode","abTest","search","acquisitionData","source","referrerPageviewId","REFPVID","INTCMP","JSON","stringify","includes","checkForErrors","ok","Error","statusText","status","callApi","fetch","then","json","cache","getIdApiUserData","ajaxUrl","idapiUserMeResponse","getIdapiUserIdentifiers","idapiUserIdentifiersResponse","options","init","useSWR","res","fetcher","loading","KEY","getBrazeUuid","async","brazeUuid","catch","modules","sentry","reportError","buildFailureResponse","isSuccessful","failure","field","SDK_OPTIONS","enableLogging","noCookies","baseUrl","sessionTimeoutInSeconds","minimumIntervalBetweenTriggerActionsInSeconds","devicePropertyAllowlist","getInitialisedAppboy","apiKey","importedAppboy","setLogger","log","initialize","initialiseAppboy","buildBrazeMessaging","storage","brazeMessages","NullBrazeMessages","NullBrazeCards","dependenciesResult","dependencies","Promise","resolve","page","brazeApiKey","switches","brazeSwitch","reject","onConsentChange","state","getConsentFor","e","isPaidContent","buildDependencies","checkBrazeDependencies","String","consent","hasCurrentBrazeUserValue","localStorage","getItem","wipeData","LocalMessageCache","removeItem","maybeWipeUserData","sdkLoadTiming","initPerf","start","appboy","sdkLoadTimeTaken","end","record","component","errorHandler","desc","setItem","changeUser","openSession","brazeContentCards","BrazeCards","BrazeMessages","useSWRImmutable","r","TypeError","t","n","enumerable","configurable","writable","defineProperty","prototype","o","Symbol","iterator","i","s","call","next","done","push","return","toString","slice","constructor","test","l","u","c","d","h","some","startsWith","f","g","buttonText","buttonUrl","ophanComponentId","highlightedText","m","match","sort","header","body","cta","imageUrl","console","newsletterId","frequency","authoredEpicImageUrl","authoredEpicImageAltText","authoredEpicBylineName","paragraph1","y","this","slotName","logInAppMessageImpression","remove","InAppMessageButton","logInAppMessageButtonClick","get","b","freshMessageBySlot","Banner","getFreshMessagesForSlot","EndOfArticle","subscribeToInAppMessage","Math","random","Date","getTime","getMessageForSlot","getHighestPriorityMessageFromCache","all","componentName","messagesWithFilters","section","messagesWithoutFilters","toLowerCase","split","C","ProfileBadge","B","logCardImpressions","logCardClick","logCardDismissal","expiresAt","w","getCardsForSlot","getCachedContentCards","cards","flatMap","lastUpdated","I","k","F","M","HtmlMessage","campaignId","cardId","triggerId","dismissType","duration","animateIn","animateOut","frameColor","htmlId","messageFields","x","expires","Number","isFinite","now","A","findIndex","splice","visuallyHidden"],"sourceRoot":""}