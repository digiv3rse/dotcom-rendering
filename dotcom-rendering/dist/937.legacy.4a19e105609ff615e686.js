(self.webpackChunk_guardian_dotcom_rendering=self.webpackChunk_guardian_dotcom_rendering||[]).push([[937],{5036:e=>{e.exports=function(e,t,r){r=r||{};var n=t.content,o=t.attributes;return function(t){return e("svg",Object.assign({dangerouslySetInnerHTML:{__html:n}},o,t),t&&t.children)}}},5951:(e,t,r)=>{var n=r(5036),o=r(3904);e.exports=n.bind(null,o.createElement.bind(o))},1504:(e,t,r)=>{"use strict";r.d(t,{BX:()=>B,J9:()=>I,Vp:()=>x,dL:()=>N,uU:()=>k});var n=r(232);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(s)throw o}}return a}}(e,t)||c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var d,p,f,h,m=["https://media.guim.co.uk/","https://i.guim.co.uk/"],g=function(e){return m.some((function(t){return e.startsWith(t)}))},v=["%%CURRENCY_SYMBOL%%","%%COUNTRY_NAME%%"],b=/%%.*?%%/g,y=function(e){var t,r,n=e.buttonText,o=e.buttonUrl,a=e.ophanComponentId,i=e.highlightedText,s=A(e),l=!!(r=null===(t=((i||"")+" "+s.join(" ")).match(b))||void 0===t?void 0:t.filter((function(e){return!v.includes("".concat(e))})))&&r.length>0;return Boolean(n&&o&&a&&s.length>0&&!l)},A=function(e){var t,r=[],n=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=c(e))){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw a}}}}(Object.keys(e).filter((function(e){return/^paragraph\d$/.test(e)})).sort());try{for(n.s();!(t=n.n()).done;){var o=e[t.value];o&&r.push(o)}}catch(e){n.e(e)}finally{n.f()}return r},w=(s(d={},"AppBanner",(function(e){var t=e.header,r=e.body,n=e.cta,o=e.imageUrl;return!(!(t&&r&&n&&o)||!g(o)&&(console.log("Image URL ".concat(o," is not allowed")),1))})),s(d,"BannerWithLink",(function(e){var t=e.header,r=e.body,n=e.buttonText,o=e.buttonUrl,a=e.imageUrl,i=e.ophanComponentId;return a&&!g(a)?(console.log("Image URL ".concat(a," is not allowed")),!1):Boolean(t&&r&&n&&o&&a&&i)})),s(d,"BannerNewsletter",(function(e){var t=e.header,r=e.body,n=e.imageUrl,o=e.ophanComponentId,a=e.newsletterId,i=e.frequency;return n&&!g(n)?(console.log("Image URL ".concat(n," is not allowed")),!1):Boolean(t&&r&&n&&o&&a&&i)})),s(d,"Epic",y),s(d,"EpicWithSpecialHeader",(function(e){var t=y(e);if(t){var r=e.authoredEpicImageUrl,n=e.authoredEpicImageAltText,o=e.authoredEpicBylineName;return Boolean(r&&n&&o)}return t})),s(d,"NewsletterEpic",(function(e){var t=e.header,r=e.frequency,n=e.paragraph1,o=e.imageUrl,a=e.newsletterId,i=e.ophanComponentId;return!(!(t&&r&&n&&o&&a&&i)||!g(o)&&(console.log("Image URL ".concat(o," is not allowed")),1))})),s(d,"USNewsletterEpic",(function(e){var t=e.header,r=e.frequency,n=e.paragraph1,o=e.ophanComponentId;return Boolean(t&&r&&n&&o)})),s(d,"AUNewsletterEpic",(function(e){var t=e.header,r=e.frequency,n=e.paragraph1,o=e.ophanComponentId;return Boolean(t&&r&&n&&o)})),s(d,"UKNewsletterEpic",(function(e){var t=e.header,r=e.frequency,n=e.paragraph1,o=e.ophanComponentId;return Boolean(t&&r&&n&&o)})),s(d,"DownToEarthNewsletterEpic",(function(e){var t=e.header,r=e.frequency,n=e.paragraph1,o=e.ophanComponentId;return Boolean(t&&r&&n&&o)})),s(d,"EpicNewsletter_AU_AfternoonUpdate",(function(e){var t=e.header,r=e.frequency,n=e.paragraph1,o=e.ophanComponentId;return Boolean(t&&r&&n&&o)})),s(d,"EpicNewsletter_TheGuide",(function(e){var t=e.header,r=e.frequency,n=e.paragraph1,o=e.ophanComponentId;return Boolean(t&&r&&n&&o)})),d),C=function(){function e(t,r,n,a,i,s){o(this,e),this.id=void 0,this.appboy=void 0,this.message=void 0,this.slotName=void 0,this.cache=void 0,this.errorHandler=void 0,this.id=t,this.message=r,this.appboy=n,this.slotName=a,this.cache=i,this.errorHandler=s}return i(e,[{key:"logImpression",value:function(){try{this.appboy.logInAppMessageImpression(this.message)}catch(e){e instanceof Error&&this.errorHandler(e,"BrazeMessage.logImpression")}this.cache.remove(this.slotName,this.id,this.errorHandler)}},{key:"logButtonClick",value:function(e){var t=new this.appboy.InAppMessageButton("Button: ID ".concat(e),void 0,void 0,void 0,void 0,void 0,e);try{this.appboy.logInAppMessageButtonClick(t,this.message)}catch(e){e instanceof Error&&this.errorHandler(e,"BrazeMessage.logButtonClick")}}},{key:"extras",get:function(){return this.message.extras}}]),e}(),k=function(){function e(t,r,n){o(this,e),this.appboy=void 0,this.freshMessageBySlot=void 0,this.cache=void 0,this.errorHandler=void 0,this.appboy=t,this.cache=r,this.freshMessageBySlot={Banner:this.getFreshMessagesForSlot("Banner"),EndOfArticle:this.getFreshMessagesForSlot("EndOfArticle")},this.errorHandler=n}return i(e,[{key:"getFreshMessagesForSlot",value:function(e){var t=this;return new Promise((function(r){t.appboy.subscribeToInAppMessage((function(n){var o=n,a=o.extras;a&&a.slotName&&a.slotName===e&&(t.cache.push(e,{message:o,id:"".concat(Math.random().toString(16).slice(2),"-").concat((new Date).getTime())},t.errorHandler),r(o))}))}))}},{key:"getMessageForBanner",value:function(e){return this.getMessageForSlot("Banner",e)}},{key:"getMessageForEndOfArticle",value:function(e){return this.getMessageForSlot("EndOfArticle",e)}},{key:"getMessageForSlot",value:function(e,t){var r=this,n=this.getHighestPriorityMessageFromCache(e,t);return n?Promise.resolve(n):this.freshMessageBySlot[e].then((function(){var n=r.getHighestPriorityMessageFromCache(e,t);if(n)return Promise.resolve(n);throw new Error("No valid messages for ".concat(e," slot"))}))}},{key:"getHighestPriorityMessageFromCache",value:function(e,t){var r,n=this.cache.all(e,this.appboy,this.errorHandler).filter((function(e){return!!(t=e.message.extras)&&!!w[t.componentName]&&w[t.componentName](t);var t})),o={messagesWithFilters:(r=n).filter((function(e){return Boolean(e.message.extras.section)})),messagesWithoutFilters:r.filter((function(e){return!Boolean(e.message.extras.section)}))},a=o.messagesWithoutFilters,i=l(o.messagesWithFilters.concat(a).filter((function(e){var r;if(!e.message.extras.section||"string"!=typeof e.message.extras.section)return!0;var n=null==t||null===(r=t.section)||void 0===r?void 0:r.toLowerCase();return!!n&&e.message.extras.section.split("|").map((function(e){return e.toLowerCase()})).includes(n)})),1)[0];if(i)return new C(i.id,i.message,this.appboy,e,this.cache,this.errorHandler)}}]),e}(),x=function(){function e(){o(this,e)}return i(e,[{key:"getMessageForBanner",value:function(){return Promise.reject(new Error("No banner message"))}},{key:"getMessageForEndOfArticle",value:function(){return Promise.reject(new Error("No end of article message"))}}]),e}();(h=p||(p={})).Banner="Banner",h.EndOfArticle="EndOfArticle",function(e){e.ProfileBadge="ProfileBadge"}(f||(f={}));var M=function(){function e(t,r,n,a,i){o(this,e),this.id=void 0,this.slotName=void 0,this.card=void 0,this.appboy=void 0,this.errorHandler=void 0,this.id=t,this.slotName=r,this.card=n,this.appboy=a,this.errorHandler=i}return i(e,[{key:"logImpression",value:function(){try{this.appboy.logCardImpressions([this.card],!0)||this.errorHandler(new Error("Failed to log card impression event"),"BrazeCard.logImpressions")}catch(e){e instanceof Error&&this.errorHandler(e,"BrazeCard.logImpressions")}}},{key:"logCardClick",value:function(){try{this.appboy.logCardClick(this.card,!0)||this.errorHandler(new Error("Failed to log card click event"),"BrazeCard.logCardClick")}catch(e){e instanceof Error&&this.errorHandler(e,"BrazeCard.logCardClick")}}},{key:"logCardDismissal",value:function(){try{this.appboy.logCardDismissal(this.card)||this.errorHandler(new Error("Failed to log card dismiss event"),"BrazeCard.logCardDismiss")}catch(e){e instanceof Error&&this.errorHandler(e,"BrazeCard.logCardDismiss")}}},{key:"extras",get:function(){var e=this.card.extras;return void 0===e?{}:e}},{key:"expiry",get:function(){var e=this.card.expiresAt;return null===e?void 0:e}}]),e}(),B=function(){function e(t,r){o(this,e),this.appboy=void 0,this.errorHandler=void 0,this.appboy=t,this.errorHandler=r}return i(e,[{key:"getCardsForProfileBadge",value:function(){return this.getCardsForSlot(f.ProfileBadge)}},{key:"getCardsForSlot",value:function(e){var t=this;return this.appboy.getCachedContentCards().cards.flatMap((function(r){var n=r.extras;return n&&n.slotName&&n.slotName===e?void 0===r.id?(t.errorHandler(new Error("appboy card had no ID"),"BrazeCards.getCardsForSlot"),[]):[new M(r.id,e,r,t.appboy,t.errorHandler)]:[]}))}},{key:"lastUpdated",get:function(){return this.appboy.getCachedContentCards().lastUpdated}}]),e}(),I=function(){function e(){o(this,e)}return i(e,[{key:"getCardsForProfileBadge",value:function(){return[]}}]),e}(),E=function(e){return"".concat("gu.brazeMessageCache",".").concat(e)},F=function(e,t){var r=E(e);n.t.local.set(r,t)},O=function(e,t){return new t.HtmlMessage(e.message,e.extras,e.campaignId,e.cardId,e.triggerId,e.dismissType,e.duration,e.animateIn,e.animateOut,e.frameColor,e.htmlId,e.css,e.messageFields)},H=function(e,t){var r=function(e){var t=E(e),r=n.t.local.get(t);return Array.isArray(r)?r:[]}(e),o=r.filter((function(e){return t=e,Boolean((null==t?void 0:t.expires)&&Number.isFinite(null==t?void 0:t.expires)&&(null==t||null===(r=t.message)||void 0===r?void 0:r.id)&&(null==t||null===(n=t.message)||void 0===n||null===(o=n.message)||void 0===o?void 0:o.triggerId)&&(null==t||null===(a=t.message)||void 0===a||null===(i=a.message)||void 0===i?void 0:i.extras));var t,r,n,o,a,i})).filter((function(e){return e.expires>Date.now()}));if(r.length!==o.length){var a=r.length-o.length;t(Error("Removed ".concat(a," expired message").concat(1===a?"":"s"," from queue")),"LocalMessageCache"),F(e,o)}return o},N=function(){function e(){o(this,e)}return i(e,null,[{key:"peek",value:function(e,t,r){var n=H(e,r)[0];if(n)return{id:n.message.id,message:O(n.message.message,t)}}},{key:"all",value:function(e,t,r){return H(e,r).map((function(e){return{id:e.message.id,message:O(e.message.message,t)}}))}},{key:"remove",value:function(e,t,r){var n=H(e,r),o=n.findIndex((function(e){return e.message.id===t}));return!!(o>=0&&n.splice(o,1))&&(F(e,n),!0)}},{key:"push",value:function(e,t,r){var n=H(e,r);if(n.length<2){var o={message:t,expires:Date.now()+864e5};return n.push(o),F(e,n),!0}return r(new Error("Failed to add message to queue - queue full"),"LocalMessageCache"),!1}},{key:"clear",value:function(){for(var e in p){var t=E(e);n.t.local.remove(t)}}}]),e}()},3742:(e,t,r)=>{"use strict";r.d(t,{p:()=>o});var n=/\b\/{2,}/g,o=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.join("/").replace(n,"/")}},9861:(e,t,r)=>{"use strict";r.d(t,{j:()=>n});var n="\n\tposition: absolute;\n\toverflow: hidden; /* gets rid of horizontal scrollbar that appears in some circumstances */\n\twhite-space: nowrap; /* The white-space property forces the content to render on one line. */\n\twidth: 1px;  /* ensures content is announced by VoiceOver. */\n\theight: 1px; /* ensures content is announced by VoiceOver. */\n\tmargin: -1px; /* hide or clip content that does not fit into a 1-pixel visible area. */\n\tpadding: 0; /* hide or clip content that does not fit into a 1-pixel visible area. */\n\tborder: 0;\n\tclip: rect(1px, 1px, 1px, 1px); /* clip removes any visible trace of the element */\n\t-webkit-clip-path: inset(50%); /* clip removes any visible trace of the element */\n\tclip-path: inset(50%); /* clip removes any visible trace of the element */\n"},6027:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var n={mobile:320,mobileMedium:375,mobileLandscape:480,phablet:660,tablet:740,desktop:980,leftCol:1140,wide:1300}},9525:(e,t,r)=>{"use strict";r.d(t,{A5:()=>a,Fp:()=>d,H5:()=>f,TG:()=>p,UQ:()=>o,VK:()=>u,Vp:()=>l,lh:()=>h,n$:()=>i,qD:()=>m,r:()=>c,vU:()=>s});var n=r(2522),o=n.DG.brand,a=n.DG.brandAlt,i=n.DG.neutral,s=n.DG.error,l=n.DG.success,c=n.DG.news,u=n.DG.opinion,d=n.DG.sport,p=n.DG.culture,f=n.DG.lifestyle,h=n.DG.labs,m=n.DG.specialReport;n.DG.focus},5246:(e,t,r)=>{"use strict";r.d(t,{C4:()=>l,Dp:()=>s,vX:()=>c});var n=r(6027),o=function(e){return"@media (min-width: ".concat("".concat(e,"px"),")")},a=function(e){return"@media (max-width: ".concat("".concat(e-1,"px"),")")},i=function(e,t){return"@media (min-width: ".concat("".concat(e,"px"),") and (max-width: ","".concat(t-1,"px"),")")},s={mobile:o(n.A.mobile),mobileMedium:o(n.A.mobileMedium),mobileLandscape:o(n.A.mobileLandscape),phablet:o(n.A.phablet),tablet:o(n.A.tablet),desktop:o(n.A.desktop),leftCol:o(n.A.leftCol),wide:o(n.A.wide)},l={mobile:a(n.A.mobile),mobileMedium:a(n.A.mobileMedium),mobileLandscape:a(n.A.mobileLandscape),phablet:a(n.A.phablet),tablet:a(n.A.tablet),desktop:a(n.A.desktop),leftCol:a(n.A.leftCol),wide:a(n.A.wide)},c={mobile:{and:{mobileMedium:i(n.A.mobile,n.A.mobileMedium),mobileLandscape:i(n.A.mobile,n.A.mobileLandscape),phablet:i(n.A.mobile,n.A.phablet),tablet:i(n.A.mobile,n.A.tablet),desktop:i(n.A.mobile,n.A.desktop),leftCol:i(n.A.mobile,n.A.leftCol),wide:i(n.A.mobileMedium,n.A.wide)}},mobileMedium:{and:{mobileLandscape:i(n.A.mobileMedium,n.A.mobileLandscape),phablet:i(n.A.mobileMedium,n.A.phablet),tablet:i(n.A.mobileMedium,n.A.tablet),desktop:i(n.A.mobileMedium,n.A.desktop),leftCol:i(n.A.mobileMedium,n.A.leftCol),wide:i(n.A.mobileMedium,n.A.wide)}},mobileLandscape:{and:{phablet:i(n.A.mobileLandscape,n.A.phablet),tablet:i(n.A.mobileLandscape,n.A.tablet),desktop:i(n.A.mobileLandscape,n.A.desktop),leftCol:i(n.A.mobileLandscape,n.A.leftCol),wide:i(n.A.mobileLandscape,n.A.wide)}},phablet:{and:{tablet:i(n.A.phablet,n.A.tablet),desktop:i(n.A.phablet,n.A.desktop),leftCol:i(n.A.phablet,n.A.leftCol),wide:i(n.A.phablet,n.A.wide)}},tablet:{and:{desktop:i(n.A.tablet,n.A.desktop),leftCol:i(n.A.tablet,n.A.leftCol),wide:i(n.A.tablet,n.A.wide)}},desktop:{and:{leftCol:i(n.A.desktop,n.A.leftCol),wide:i(n.A.desktop,n.A.wide)}},leftCol:{and:{wide:i(n.A.leftCol,n.A.wide)}}}},2933:(e,t,r)=>{"use strict";r.d(t,{D:()=>o,K:()=>a});var n=r(2335),o={1:4,2:8,3:12,4:16,5:20,6:24,9:36,12:48,24:96},a={1:"".concat((0,n.Q)(o[1]),"rem"),2:"".concat((0,n.Q)(o[2]),"rem"),3:"".concat((0,n.Q)(o[3]),"rem"),4:"".concat((0,n.Q)(o[4]),"rem"),5:"".concat((0,n.Q)(o[5]),"rem"),6:"".concat((0,n.Q)(o[6]),"rem"),9:"".concat((0,n.Q)(o[9]),"rem"),12:"".concat((0,n.Q)(o[12]),"rem"),24:"".concat((0,n.Q)(o[24]),"rem")}},3198:(e,t,r)=>{var n=NaN,o="[object Symbol]",a=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt,u="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,d="object"==typeof self&&self&&self.Object===Object&&self,p=u||d||Function("return this")(),f=Object.prototype.toString,h=Math.max,m=Math.min,g=function(){return p.Date.now()};function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&f.call(e)==o}(e))return n;if(v(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=v(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var r=s.test(e);return r||l.test(e)?c(e.slice(2),r?2:8):i.test(e)?n:+e}e.exports=function(e,t,r){var n,o,a,i,s,l,c=0,u=!1,d=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var r=n,a=o;return n=o=void 0,c=t,i=e.apply(a,r)}function y(e){var r=e-l;return void 0===l||r>=t||r<0||d&&e-c>=a}function A(){var e=g();if(y(e))return w(e);s=setTimeout(A,function(e){var r=t-(e-l);return d?m(r,a-(e-c)):r}(e))}function w(e){return s=void 0,p&&n?f(e):(n=o=void 0,i)}function C(){var e=g(),r=y(e);if(n=arguments,o=this,l=e,r){if(void 0===s)return function(e){return c=e,s=setTimeout(A,t),u?f(e):i}(l);if(d)return s=setTimeout(A,t),f(l)}return void 0===s&&(s=setTimeout(A,t)),i}return t=b(t)||0,v(r)&&(u=!!r.leading,a=(d="maxWait"in r)?h(b(r.maxWait)||0,t):a,p="trailing"in r?!!r.trailing:p),C.cancel=function(){void 0!==s&&clearTimeout(s),c=0,n=l=o=s=void 0},C.flush=function(){return void 0===s?i:w(g())},C}},8808:(e,t,r)=>{"use strict";function n(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}r.d(t,{Z:()=>n})}}]);
//# sourceMappingURL=937.legacy.4a19e105609ff615e686.js.map