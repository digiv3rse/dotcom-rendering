{"version":3,"file":"index.apps.030bb06b7181b9625885.js","mappings":";UACIA,EADAC,oBCAJ,IAAIC,EAAM,CACT,8BAA+B,CAC9B,KACA,KAED,kCAAmC,CAClC,IACA,KAED,gCAAiC,CAChC,KACA,KAED,wBAAyB,CACxB,KACA,KAED,8BAA+B,CAC9B,KACA,KAED,qCAAsC,CACrC,KACA,KAED,0CAA2C,CAC1C,KACA,KAED,wBAAyB,CACxB,KACA,KAED,gCAAiC,CAChC,KACA,KAED,4BAA6B,CAC5B,IACA,KAED,mCAAoC,CACnC,KACA,KAED,8BAA+B,CAC9B,KACA,KAED,sCAAuC,CACtC,KACA,KAED,mCAAoC,CACnC,KACA,KAED,iCAAkC,CACjC,IACA,KAED,kCAAmC,CAClC,KACA,KAED,gCAAiC,CAChC,KACA,KAED,qCAAsC,CACrC,IACA,KAED,2BAA4B,CAC3B,KACA,KAED,oCAAqC,CACpC,KACA,KAED,2BAA4B,CAC3B,KACA,KAED,6BAA8B,CAC7B,KACA,KAED,4BAA6B,CAC5B,KACA,KAED,gCAAiC,CAChC,IACA,KAED,4BAA6B,CAC5B,IACA,KAED,uCAAwC,CACvC,KACA,KAED,yCAA0C,CACzC,KACA,KAED,iDAAkD,CACjD,KACA,KAED,wCAAyC,CACxC,KACA,KAED,iCAAkC,CACjC,KACA,KAED,wCAAyC,CACxC,KACA,KAED,0BAA2B,CAC1B,KACA,KAED,4BAA6B,CAC5B,KACA,KAED,wBAAyB,CACxB,IACA,KAED,sCAAuC,CACtC,KACA,KAED,uBAAwB,CACvB,KACA,KAED,gCAAiC,CAChC,KACA,KAED,oCAAqC,CACpC,KACA,KAED,sCAAuC,CACtC,IACA,KAED,4BAA6B,CAC5B,KACA,KAED,0CAA2C,CAC1C,KACA,KAED,kCAAmC,CAClC,KACA,KAED,gCAAiC,CAChC,KACA,KAED,gCAAiC,CAChC,KACA,KAED,kCAAmC,CAClC,IACA,KAED,gCAAiC,CAChC,KACA,KAED,iCAAkC,CACjC,KACA,KAED,kCAAmC,CAClC,KACA,KAED,4BAA6B,CAC5B,KACA,KAED,0BAA2B,CAC1B,KACA,KAED,0BAA2B,CAC1B,KA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","sources":["webpack://@guardian/dotcom-rendering/webpack/runtime/create fake namespace object","webpack://@guardian/dotcom-rendering/./src/web/components/ lazy ^\\.\\/.*\\.importable$ include: \\.importable\\.tsx$ chunkName: [request] namespace object","webpack://@guardian/dotcom-rendering/../node_modules/@braze/web-sdk-core/appboy.core.min.js","webpack://@guardian/dotcom-rendering/../node_modules/@emotion/sheet/dist/emotion-sheet.browser.esm.js","webpack://@guardian/dotcom-rendering/../node_modules/stylis/src/Utility.js","webpack://@guardian/dotcom-rendering/../node_modules/stylis/src/Tokenizer.js","webpack://@guardian/dotcom-rendering/../node_modules/stylis/src/Enum.js","webpack://@guardian/dotcom-rendering/../node_modules/stylis/src/Serializer.js","webpack://@guardian/dotcom-rendering/../node_modules/stylis/src/Parser.js","webpack://@guardian/dotcom-rendering/../node_modules/@emotion/cache/dist/emotion-cache.browser.esm.js","webpack://@guardian/dotcom-rendering/../node_modules/stylis/src/Middleware.js","webpack://@guardian/dotcom-rendering/../node_modules/@babel/runtime/helpers/esm/extends.js","webpack://@guardian/dotcom-rendering/../node_modules/@emotion/weak-memoize/dist/emotion-weak-memoize.esm.js","webpack://@guardian/dotcom-rendering/../node_modules/@emotion/react/_isolated-hnrs/dist/emotion-react-_isolated-hnrs.browser.esm.js","webpack://@guardian/dotcom-rendering/../node_modules/@emotion/react/dist/emotion-element-6a883da9.browser.esm.js","webpack://@guardian/dotcom-rendering/../node_modules/@emotion/react/dist/emotion-react.browser.esm.js","webpack://@guardian/dotcom-rendering/../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js","webpack://@guardian/dotcom-rendering/../node_modules/@emotion/hash/dist/emotion-hash.esm.js","webpack://@guardian/dotcom-rendering/../node_modules/@emotion/unitless/dist/emotion-unitless.esm.js","webpack://@guardian/dotcom-rendering/../node_modules/@emotion/serialize/dist/emotion-serialize.browser.esm.js","webpack://@guardian/dotcom-rendering/../node_modules/@emotion/memoize/dist/emotion-memoize.esm.js","webpack://@guardian/dotcom-rendering/../node_modules/@emotion/use-insertion-effect-with-fallbacks/dist/emotion-use-insertion-effect-with-fallbacks.browser.esm.js","webpack://@guardian/dotcom-rendering/../node_modules/@emotion/utils/dist/emotion-utils.browser.esm.js","webpack://@guardian/dotcom-rendering/../node_modules/@kossnocorp/desvg/index.js","webpack://@guardian/dotcom-rendering/../node_modules/@kossnocorp/desvg/react.js","webpack://@guardian/dotcom-rendering/../node_modules/@sentry/utils/esm/env.js","webpack://@guardian/dotcom-rendering/../node_modules/@sentry/utils/esm/node.js","webpack://@guardian/dotcom-rendering/../node_modules/@sentry/utils/esm/time.js","webpack://@guardian/dotcom-rendering/../node_modules/@sentry/utils/esm/worldwide.js","webpack://@guardian/dotcom-rendering/./src/static/icons/arrow-in-circle.svg","webpack://@guardian/dotcom-rendering/./src/static/icons/arrow-right.svg","webpack://@guardian/dotcom-rendering/./src/static/icons/camera.svg","webpack://@guardian/dotcom-rendering/./src/static/icons/clock.svg","webpack://@guardian/dotcom-rendering/./src/static/icons/comment.svg","webpack://@guardian/dotcom-rendering/./src/static/icons/minus.svg","webpack://@guardian/dotcom-rendering/./src/static/icons/newspaper.svg","webpack://@guardian/dotcom-rendering/./src/static/icons/plus.svg","webpack://@guardian/dotcom-rendering/./src/static/icons/profile.svg","webpack://@guardian/dotcom-rendering/./src/static/icons/search.svg","webpack://@guardian/dotcom-rendering/./src/static/icons/share.svg","webpack://@guardian/dotcom-rendering/./src/static/icons/video-icon.svg","webpack://@guardian/dotcom-rendering/./src/static/icons/x.svg","webpack://@guardian/dotcom-rendering/./src/static/logos/the-guardian-labs.svg","webpack://@guardian/dotcom-rendering/./src/web/components/BigNumber/0.svg","webpack://@guardian/dotcom-rendering/./src/web/components/BigNumber/1.svg","webpack://@guardian/dotcom-rendering/./src/web/components/BigNumber/10.svg","webpack://@guardian/dotcom-rendering/./src/web/components/BigNumber/2.svg","webpack://@guardian/dotcom-rendering/./src/web/components/BigNumber/3.svg","webpack://@guardian/dotcom-rendering/./src/web/components/BigNumber/4.svg","webpack://@guardian/dotcom-rendering/./src/web/components/BigNumber/5.svg","webpack://@guardian/dotcom-rendering/./src/web/components/BigNumber/6.svg","webpack://@guardian/dotcom-rendering/./src/web/components/BigNumber/7.svg","webpack://@guardian/dotcom-rendering/./src/web/components/BigNumber/8.svg","webpack://@guardian/dotcom-rendering/./src/web/components/BigNumber/9.svg","webpack://@guardian/dotcom-rendering/../node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js","webpack://@guardian/dotcom-rendering/../node_modules/is-mobile/index.js","webpack://@guardian/dotcom-rendering/../node_modules/lodash.debounce/index.js","webpack://@guardian/dotcom-rendering/../node_modules/ophan-tracker-js/build/ophan.ng.js","webpack://@guardian/dotcom-rendering/../node_modules/preact/hooks/dist/hooks.module.js","webpack://@guardian/dotcom-rendering/../node_modules/preact/compat/dist/compat.module.js","webpack://@guardian/dotcom-rendering/../node_modules/preact/dist/preact.module.js","webpack://@guardian/dotcom-rendering/../node_modules/prop-types/factoryWithThrowingShims.js","webpack://@guardian/dotcom-rendering/../node_modules/prop-types/index.js","webpack://@guardian/dotcom-rendering/../node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack://@guardian/dotcom-rendering/../node_modules/react-is/cjs/react-is.production.min.js","webpack://@guardian/dotcom-rendering/../node_modules/react-is/index.js","webpack://@guardian/dotcom-rendering/./scripts/webpack/bundles.js","webpack://@guardian/dotcom-rendering/./src/lib/articleCount.ts","webpack://@guardian/dotcom-rendering/./src/lib/byline.ts","webpack://@guardian/dotcom-rendering/./src/lib/escapeData.tsx","webpack://@guardian/dotcom-rendering/./src/lib/identity-component-event.ts","webpack://@guardian/dotcom-rendering/./src/lib/querystring.ts","webpack://@guardian/dotcom-rendering/./src/web/browser/atomIframe.ts","webpack://@guardian/dotcom-rendering/./src/web/browser/discussion.ts","webpack://@guardian/dotcom-rendering/./src/web/browser/embedIframe.ts","webpack://@guardian/dotcom-rendering/./src/web/browser/ga/ga.ts","webpack://@guardian/dotcom-rendering/./src/web/browser/initPerf.ts","webpack://@guardian/dotcom-rendering/./src/web/browser/islands/doHydration.tsx","webpack://@guardian/dotcom-rendering/./src/web/browser/islands/emotion.ts","webpack://@guardian/dotcom-rendering/./src/web/browser/islands/getProps.ts","webpack://@guardian/dotcom-rendering/./src/web/browser/islands/whenVisible.ts","webpack://@guardian/dotcom-rendering/./src/web/browser/islands/initHydration.ts","webpack://@guardian/dotcom-rendering/./src/web/browser/islands/getName.ts","webpack://@guardian/dotcom-rendering/./src/web/browser/islands/whenIdle.ts","webpack://@guardian/dotcom-rendering/./src/web/browser/islands/onInteraction.ts","webpack://@guardian/dotcom-rendering/./src/web/browser/newsletterEmbedIframe.ts","webpack://@guardian/dotcom-rendering/./src/web/browser/ophan/ophan.ts","webpack://@guardian/dotcom-rendering/./src/web/browser/relativeTime/index.ts","webpack://@guardian/dotcom-rendering/./src/web/browser/relativeTime/updateTimeElements.ts","webpack://@guardian/dotcom-rendering/../node_modules/@sentry/utils/esm/logger.js","webpack://@guardian/dotcom-rendering/../node_modules/@sentry/utils/esm/is.js","webpack://@guardian/dotcom-rendering/../node_modules/@sentry/utils/esm/browser.js","webpack://@guardian/dotcom-rendering/../node_modules/@sentry/utils/esm/string.js","webpack://@guardian/dotcom-rendering/../node_modules/@sentry/utils/esm/object.js","webpack://@guardian/dotcom-rendering/../node_modules/@sentry/utils/esm/misc.js","webpack://@guardian/dotcom-rendering/../node_modules/@sentry/core/esm/integrations/inboundfilters.js","webpack://@guardian/dotcom-rendering/../node_modules/@sentry/core/esm/integrations/functiontostring.js","webpack://@guardian/dotcom-rendering/../node_modules/@sentry/utils/esm/syncpromise.js","webpack://@guardian/dotcom-rendering/../node_modules/@sentry/core/esm/session.js","webpack://@guardian/dotcom-rendering/../node_modules/@sentry/core/esm/scope.js","webpack://@guardian/dotcom-rendering/../node_modules/@sentry/core/esm/hub.js","webpack://@guardian/dotcom-rendering/../node_modules/@sentry/core/esm/integration.js","webpack://@guardian/dotcom-rendering/../node_modules/@sentry/utils/esm/stacktrace.js","webpack://@guardian/dotcom-rendering/../node_modules/@sentry/utils/esm/supports.js","webpack://@guardian/dotcom-rendering/../node_modules/@sentry/utils/esm/instrument.js","webpack://@guardian/dotcom-rendering/../node_modules/@sentry/utils/esm/error.js","webpack://@guardian/dotcom-rendering/../node_modules/@sentry/utils/esm/dsn.js","webpack://@guardian/dotcom-rendering/../node_modules/@sentry/utils/esm/normalize.js","webpack://@guardian/dotcom-rendering/../node_modules/@sentry/utils/esm/memo.js","webpack://@guardian/dotcom-rendering/../node_modules/@sentry/utils/esm/envelope.js","webpack://@guardian/dotcom-rendering/../node_modules/@sentry/core/esm/api.js","webpack://@guardian/dotcom-rendering/../node_modules/@sentry/core/esm/baseclient.js","webpack://@guardian/dotcom-rendering/../node_modules/@sentry/core/esm/envelope.js","webpack://@guardian/dotcom-rendering/../node_modules/@sentry/core/esm/utils/prepareEvent.js","webpack://@guardian/dotcom-rendering/../node_modules/@sentry/core/esm/version.js","webpack://@guardian/dotcom-rendering/../node_modules/@sentry/browser/esm/eventbuilder.js","webpack://@guardian/dotcom-rendering/../node_modules/@sentry/core/esm/exports.js","webpack://@guardian/dotcom-rendering/../node_modules/@sentry/browser/esm/helpers.js","webpack://@guardian/dotcom-rendering/../node_modules/@sentry/utils/esm/severity.js","webpack://@guardian/dotcom-rendering/../node_modules/@sentry/utils/esm/url.js","webpack://@guardian/dotcom-rendering/../node_modules/@sentry/browser/esm/integrations/breadcrumbs.js","webpack://@guardian/dotcom-rendering/../node_modules/@sentry/browser/esm/client.js","webpack://@guardian/dotcom-rendering/../node_modules/@sentry/utils/esm/clientreport.js","webpack://@guardian/dotcom-rendering/../node_modules/@sentry/browser/esm/integrations/globalhandlers.js","webpack://@guardian/dotcom-rendering/../node_modules/@sentry/browser/esm/integrations/trycatch.js","webpack://@guardian/dotcom-rendering/../node_modules/@sentry/browser/esm/integrations/linkederrors.js","webpack://@guardian/dotcom-rendering/../node_modules/@sentry/browser/esm/integrations/httpcontext.js","webpack://@guardian/dotcom-rendering/../node_modules/@sentry/browser/esm/integrations/dedupe.js","webpack://@guardian/dotcom-rendering/../node_modules/@sentry/browser/esm/stack-parsers.js","webpack://@guardian/dotcom-rendering/../node_modules/@sentry/utils/esm/ratelimit.js","webpack://@guardian/dotcom-rendering/../node_modules/@sentry/core/esm/transports/base.js","webpack://@guardian/dotcom-rendering/../node_modules/@sentry/utils/esm/promisebuffer.js","webpack://@guardian/dotcom-rendering/../node_modules/@sentry/browser/esm/transports/utils.js","webpack://@guardian/dotcom-rendering/../node_modules/@sentry/browser/esm/transports/fetch.js","webpack://@guardian/dotcom-rendering/../node_modules/@sentry/browser/esm/transports/xhr.js","webpack://@guardian/dotcom-rendering/../node_modules/@sentry/browser/esm/sdk.js","webpack://@guardian/dotcom-rendering/../node_modules/@sentry/integrations/esm/captureconsole.js","webpack://@guardian/dotcom-rendering/./src/web/browser/sentryLoader/sentry.ts","webpack://@guardian/dotcom-rendering/../node_modules/@sentry/core/esm/sdk.js","webpack://@guardian/dotcom-rendering/./src/web/browser/updateIframeHeight.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/AgeWarning.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/AlreadyVisited.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/AnimatePulsingDots.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/AudioAtomWrapper.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Avatar.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Branding.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/BrazeMessaging.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Byline.tsx","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/src/select/Option.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components-development-kitchen/esm/file-input/fileHelpers.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components-development-kitchen/esm/file-input/theme.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components-development-kitchen/esm/file-input/styles.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components-development-kitchen/esm/file-input/FileInput.js","webpack://@guardian/dotcom-rendering/./src/web/components/Callout/FormField.tsx","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components-development-kitchen/esm/expanding-wrapper/theme.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components-development-kitchen/esm/expanding-wrapper/styles.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components-development-kitchen/esm/expanding-wrapper/ExpandingWrapper.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components-development-kitchen/esm/tabs/theme.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components-development-kitchen/esm/tabs/styles.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components-development-kitchen/esm/tabs/tabs.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/vendor/icons/SvgShare.js","webpack://@guardian/dotcom-rendering/./src/web/components/Callout/CalloutComponents.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Callout/Form.tsx","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/vendor/icons/SvgWhatsAppBrand.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/vendor/icons/SvgSignalBrand.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/vendor/icons/SvgTelegramBrand.js","webpack://@guardian/dotcom-rendering/./src/web/components/Callout/MessageUs.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Callout/Callout.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Callout/Deadline.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/CalloutBlockComponent.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/CalloutEmbed/FormFields/FieldLabel.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/CalloutEmbed/FormFields/FileUpload.tsx","webpack://@guardian/dotcom-rendering/./src/web/lib/stringifyFileBase64.ts","webpack://@guardian/dotcom-rendering/./src/web/components/CalloutEmbed/FormFields/CheckboxSelect.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/CalloutEmbed/FormFields/RadioSelect.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/CalloutEmbed/FormFields/Select.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/CalloutEmbed/FormFields/MultiSelect.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/CalloutEmbed/FormFields/TextArea.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/CalloutEmbed/FormFields/TextInput.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/CalloutEmbed/Form.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/CalloutEmbedBlockComponent.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Caption.tsx","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/vendor/icons/SvgExternal.js","webpack://@guardian/dotcom-rendering/./src/web/components/CardHeadline.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/CardPicture.tsx","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/vendor/icons/SvgCamera.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/vendor/icons/SvgVideo.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/vendor/icons/SvgAudio.js","webpack://@guardian/dotcom-rendering/./src/web/components/MediaMeta.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Snap.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/SupportingContent.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Card/components/AvatarContainer.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Card/components/CardAge.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Card/components/CardBranding.tsx","webpack://@guardian/dotcom-rendering/./src/web/lib/decideLogo.ts","webpack://@guardian/dotcom-rendering/./src/web/components/Card/components/CardFooter.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Card/components/CardLayout.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Card/components/CardLink.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Card/components/CardWrapper.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Card/components/ContentWrapper.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Card/components/HeadlineWrapper.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Card/components/PlayIcon.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Card/components/ImageWrapper.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Card/components/TrailTextWrapper.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Card/Card.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Card/components/LI.tsx","webpack://@guardian/dotcom-rendering/./src/web/lib/verticalDividerWithBottomOffset.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/formatAttrString.ts","webpack://@guardian/dotcom-rendering/./src/web/components/Carousel.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/ChartAtomWrapper.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/ClickToView.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/CommentCount.importable.tsx","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/vendor/icons/SvgArrowUpStraight.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/vendor/icons/SvgIndent.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/discussion-rendering/build/App.esm.js","webpack://@guardian/dotcom-rendering/./src/web/lib/getCommentContext.ts","webpack://@guardian/dotcom-rendering/./src/web/components/Discussion.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/DiscussionWhenSignedIn.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/DiscussionContainer.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/DiscussionMeta.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/DocumentBlockComponent.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Dropdown.tsx","webpack://@guardian/dotcom-rendering/./src/web/lib/linkNotificationCount.ts","webpack://@guardian/dotcom-rendering/./src/web/components/EmbedBlockComponent.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/EnhancePinnedPost.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/CardCommentCount.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/FetchCommentCounts.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/FetchOnwardsData.importable.tsx","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components-development-kitchen/esm/toggle-switch/styles.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components-development-kitchen/esm/toggle-switch/ToggleSwitch.js","webpack://@guardian/dotcom-rendering/./src/web/components/FilterKeyEventsToggle.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Flex.tsx","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-foundations/esm/accessibility/focus-style-manager.js","webpack://@guardian/dotcom-rendering/./src/web/components/FocusStyles.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/CricketScoreboard.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/GetCricketScoreboard.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/DesignTag.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/BylineLink.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/HeadlineByline.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/ArticleHeadline.tsx","webpack://@guardian/dotcom-rendering/./src/lib/age-warning.ts","webpack://@guardian/dotcom-rendering/./src/web/components/numbers/Eight.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/numbers/Five.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/numbers/Four.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/numbers/Nine.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/numbers/One.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/numbers/Seven.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/numbers/Six.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/numbers/Ten.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/numbers/Three.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/numbers/Two.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/numbers/Zero.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Score.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/MatchNav.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/GetMatchNav.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/lib/isLight.ts","webpack://@guardian/dotcom-rendering/./src/web/components/Distribution.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Doughnut.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/GoalAttempts.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/GridItem.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Lineup.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/MatchStats.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/GetMatchStats.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/MatchTabs.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/GetMatchTabs.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/GuideAtomWrapper.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/lib/notification.ts","webpack://@guardian/dotcom-rendering/./src/web/components/HeaderTopBarMyAccount.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/HeaderTopBarEditionDropdown.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/HeaderTopBarPrintSubscriptions.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/HeaderTopBarSearch.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/HeaderTopBarSearchCapi.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/HeaderTopBarSearchJobs.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/HeaderTopBar.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Hide.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/InstagramBlockComponent.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Figure.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/InteractiveBlockComponent.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/InteractiveContentsBlockComponent.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/InteractiveSupportButton.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/KeyEventCard.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/KeyEventsCarousel.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/PulsingDot.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Kicker.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/KnowledgeQuizAtomWrapper.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/LabsHeader.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/LeftColumn.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/LinkHeadline.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/LiveBlogEpic.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/lib/useSDC.ts","webpack://@guardian/dotcom-rendering/./src/web/components/Toast.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Liveness.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/MaintainAspectRatio.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/MapEmbedBlockComponent.importable.tsx","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/core-web-vitals/esm/roundWithDecimals.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/core-web-vitals/esm/index.js","webpack://@guardian/dotcom-rendering/./src/web/components/Metrics.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/BigNumber/BigNumber.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/MostViewedFooterItem.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/MostViewedFooterGrid.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/MostViewedFooterSecondTierItem.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/MostViewedFooter.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/MostViewedFooterData.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/MostViewedRightItem.tsx","webpack://@guardian/dotcom-rendering/./src/web/lib/useHover.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/MostViewedRight.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/MostViewedRightWrapper.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/lib/hiddenStyles.tsx","webpack://@guardian/dotcom-rendering/./src/web/lib/edition.ts","webpack://@guardian/dotcom-rendering/./src/web/components/ContainerTitle.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/ElementContainer.tsx","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/src/link/ButtonLink.js","webpack://@guardian/dotcom-rendering/./src/web/components/ShowHideButton.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/SvgCrossword.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Treats.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Section.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/OnwardsUpper.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/PersonalityQuizAtomWrapper.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Picture.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Placeholder.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/ProfileAtomWrapper.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/QandaAtomWrapper.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/QuoteIcon.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/ReaderRevenueDev.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/ReaderRevenueLinks.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/RecipeMultiplier.importable.tsx","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/libs/esm/isUndefined/isUndefined.js","webpack://@guardian/dotcom-rendering/./src/web/components/RichLink.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/RichLinkComponent.importable.tsx","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/vendor/icons/SvgReload.js","webpack://@guardian/dotcom-rendering/../node_modules/react-google-recaptcha/lib/esm/recaptcha.js","webpack://@guardian/dotcom-rendering/../node_modules/react-async-script/lib/esm/async-script-loader.js","webpack://@guardian/dotcom-rendering/../node_modules/react-google-recaptcha/lib/esm/recaptcha-wrapper.js","webpack://@guardian/dotcom-rendering/../node_modules/react-google-recaptcha/lib/esm/index.js","webpack://@guardian/dotcom-rendering/./src/web/components/SecureSignupIframe.importable.tsx","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/vendor/icons/SvgMessageRound.js","webpack://@guardian/dotcom-rendering/./src/web/components/SendAMessage.importable.tsx","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/ab-core/esm/core.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/ab-core/esm/time.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/ab-core/esm/ophan.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/ab-core/esm/ab.js","webpack://@guardian/dotcom-rendering/./src/web/experiments/ab-tests.ts","webpack://@guardian/dotcom-rendering/./src/web/experiments/tests/newsletter-merch-unit-test.ts","webpack://@guardian/dotcom-rendering/./src/web/experiments/tests/consentless-ads.ts","webpack://@guardian/dotcom-rendering/./src/web/experiments/tests/billboards-in-merch.ts","webpack://@guardian/dotcom-rendering/./src/web/experiments/tests/elements-manager.ts","webpack://@guardian/dotcom-rendering/./src/web/experiments/cypress-switches.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/getAbUrlHash.ts","webpack://@guardian/dotcom-rendering/./src/web/components/SetABTests.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/experiments/lib/ab-participations.ts","webpack://@guardian/dotcom-rendering/./src/web/components/ShareCount.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/ShowHideContainers.importable.tsx","webpack://@guardian/dotcom-rendering/./src/model/enhanceCards.ts","webpack://@guardian/dotcom-rendering/./src/web/components/Card/components/UL.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/FrontCard.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/ShowMore.importable.tsx","webpack://@guardian/dotcom-rendering/./src/model/enhanceSnaps.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/dynamicSlices.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/SignInGate/componentEventTracking.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/SignInGate/dismissGate.ts","webpack://@guardian/dotcom-rendering/./src/web/components/SignInGate/gateDesigns/SignInGateCopyTestJan2023.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/SignInGate/gateDesigns/SignInGateMain.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/SignInGate/gateDesigns/SignInGateMainCheckoutComplete.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/SignInGate/gateDesigns/shared.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/SignInGate/displayRule.ts","webpack://@guardian/dotcom-rendering/./src/web/components/SignInGate/gates/main-control.ts","webpack://@guardian/dotcom-rendering/./src/web/components/Lazy.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/SignInGate/gates/main-variant.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/SignInGate/gates/sign-in-gate-copy-test-jan2023.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/SignInGate/signInGate.ts","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/libs/esm/isBoolean/isBoolean.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/libs/esm/switches/getSwitches.js","webpack://@guardian/dotcom-rendering/./src/web/components/SignInGate/types.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/parser/jsonParser.ts","webpack://@guardian/dotcom-rendering/./src/web/components/SignInGateSelector.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/lib/parser/parseCheckoutOutCookieData.ts","webpack://@guardian/dotcom-rendering/./src/web/components/SignedInAs.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/SlotBodyEnd/BrazeEpic.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/SlotBodyEnd/ReaderRevenueEpic.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/SlotBodyEnd.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Snow.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/SpotifyBlockComponent.importable.tsx","webpack://@guardian/dotcom-rendering/./src/static/icons/Star.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/StarRating/StarRating.tsx","webpack://@guardian/dotcom-rendering/./src/web/lib/useSignInGateWillShow.ts","webpack://@guardian/dotcom-rendering/./src/web/components/StickyBottomBanner/BrazeBanner.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/StickyBottomBanner/ReaderRevenueBanner.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/StickyBottomBanner.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/SubNav.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/SupportTheG.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/TableOfContents.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/TimelineAtomWrapper.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/TopRightAdSlot.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/TweetBlockComponent.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/UnsafeEmbedBlockComponent.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/VideoFacebookBlockComponent.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/VineBlockComponent.importable.tsx","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/vendor/icons/SvgAlertRound.js","webpack://@guardian/dotcom-rendering/./src/web/components/YoutubeBlockComponent.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/experiments/tests/ab-test-test.ts","webpack://@guardian/dotcom-rendering/./src/web/experiments/tests/integrate-ima.ts","webpack://@guardian/dotcom-rendering/./src/web/experiments/tests/sign-in-gate-copy-test-variants.ts","webpack://@guardian/dotcom-rendering/./src/web/experiments/tests/sign-in-gate-main-control.ts","webpack://@guardian/dotcom-rendering/./src/web/experiments/tests/sign-in-gate-main-variant.ts","webpack://@guardian/dotcom-rendering/./src/web/layouts/lib/interactiveLegacyStyling.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/acquisitions.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/alreadyVisited.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/braze/forceBrazeMessage.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/braze/taylorReport.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/center.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/contributions.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/dailyArticleCount.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/decideContainerOverrides.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/decideDesign.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/decideDisplay.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/decideTheme.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/decideFormat.ts","webpack://@guardian/dotcom-rendering/./src/lib/pillars.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/decidePalette.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/decideTrail.ts","webpack://@guardian/dotcom-rendering/./src/lib/formatters.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/formatCount.ts","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/libs/esm/cookies/setSessionCookie.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/libs/esm/locale/getLocale.js","webpack://@guardian/dotcom-rendering/./src/web/lib/getCountryCode.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/getDataLinkName.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/getIdapiUserData.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/getSourceImageUrl_temp_fix.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/getZIndex.tsx","webpack://@guardian/dotcom-rendering/./src/web/lib/labs-constants.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/messagePicker.ts","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/libs/esm/cookies/setCookie.js","webpack://@guardian/dotcom-rendering/./src/web/lib/readerRevenueDevUtils.ts","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/libs/esm/cookies/removeCookie.js","webpack://@guardian/dotcom-rendering/./src/web/lib/revealStyles.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/setAutomat.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/transparentColour.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/useAB.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/useAdBlockInUse.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/useApi.tsx","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/braze-components/dist/logic/index.esm.js","webpack://@guardian/dotcom-rendering/./src/web/lib/hasCurrentBrazeUser.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/getBrazeUuid.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/braze/checkBrazeDependencies.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/braze/hasRequiredConsents.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/braze/initialiseAppboy.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/braze/buildBrazeMessaging.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/useBraze.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/useDiscussion.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/useIsInView.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/useOnce.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/useSignInGateSelector.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/verticalDivider.ts","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/atoms-rendering/esm/lib/pillarPalette.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/atoms-rendering/esm/AudioAtom.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/atoms-rendering/esm/ChartAtom.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/vendor/icons/SvgFacebookMessenger.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/vendor/icons/SvgInfoRound.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/src/deprecated-exports.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/atoms-rendering/esm/expandableAtom/Body.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/atoms-rendering/esm/expandableAtom/Summary.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/atoms-rendering/esm/expandableAtom/Container.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/atoms-rendering/esm/expandableAtom/Footer.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/atoms-rendering/esm/lib/ophan.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/atoms-rendering/esm/GuideAtom.js","webpack://@guardian/dotcom-rendering/../node_modules/preact-render-to-string/dist/index.module.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/atoms-rendering/esm/InteractiveAtom.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/atoms-rendering/esm/InteractiveLayoutAtom.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/atoms-rendering/esm/Answers.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/vendor/icons/SvgFacebook.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/vendor/icons/SvgTwitter.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/vendor/icons/SvgEnvelope.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/vendor/icons/SvgWhatsApp.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/vendor/icons/SvgLinkedIn.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/vendor/icons/SvgPinterest.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/atoms-rendering/esm/SharingIcons.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/atoms-rendering/esm/KnowledgeQuiz.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/atoms-rendering/esm/PersonalityQuiz.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/atoms-rendering/esm/ProfileAtom.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/atoms-rendering/esm/QandaAtom.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/atoms-rendering/esm/TimelineAtom.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/atoms-rendering/esm/common/MaintainAspectRatio.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/atoms-rendering/esm/lib/formatTime.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/atoms-rendering/esm/Picture.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/atoms-rendering/esm/YoutubeAtomOverlay.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/atoms-rendering/esm/YoutubeAtomPlaceholder.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/atoms-rendering/esm/loadYouTubeIframeApi.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/atoms-rendering/esm/YouTubePlayer.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/atoms-rendering/esm/YoutubeAtomPlayer.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/atoms-rendering/esm/YoutubeAtomSticky.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/atoms-rendering/esm/lib/useIsInView.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/atoms-rendering/esm/YoutubeAtom.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/braze-components/dist/banner/index.esm.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/braze-components/dist/end-of-article/index.esm.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/commercial-core/dist/esm/third-party-tags/inizio.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/commercial-core/dist/esm/google-analytics.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/commercial-core/dist/esm/event-timer.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/commercial-core/dist/esm/send-commercial-metrics.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/commercial-core/dist/esm/ad-sizes.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/commercial-core/dist/esm/detect-ad-blocker.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/commercial-core/dist/esm/permutive.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/commercial-core/dist/esm/lib/construct-query.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/commercial-core/dist/esm/lib/get-locale.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/commercial-core/dist/esm/targeting/content.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/commercial-core/dist/esm/targeting/personalised.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/commercial-core/dist/esm/targeting/session.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/commercial-core/dist/esm/targeting/pick-targeting-values.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/commercial-core/dist/esm/targeting/shared.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/commercial-core/dist/esm/targeting/build-page-targeting.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/commercial-core/dist/esm/targeting/viewport.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/commercial-core/dist/esm/targeting/youtube.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/commercial-core/dist/esm/messenger.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/commercial-core/dist/esm/messenger/post-message.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/commercial-core/dist/esm/targeting/youtube-ima.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/consent-management-platform/dist/index.esm.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/libs/esm/cookies/ERR_INVALID_COOKIE.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/libs/esm/cookies/getCookie.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/libs/esm/cookies/getCookieValues.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/libs/esm/cookies/getDomainAttribute.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/libs/esm/cookies/getShortDomain.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/libs/esm/cookies/isValidCookie.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/libs/esm/cookies/memoizedCookies.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/libs/esm/datetime/timeAgo.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/libs/esm/format/ArticleDesign.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/libs/esm/format/ArticleDisplay.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/libs/esm/format/ArticlePillar.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/libs/esm/format/ArticleSpecial.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/libs/esm/isObject/isObject.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/libs/esm/isString/isString.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/libs/esm/joinUrl/joinUrl.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/libs/esm/loadScript/loadScript.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/libs/esm/logger/log.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/libs/esm/logger/storage-key.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/libs/esm/logger/teamStyles.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/libs/esm/storage/storage.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/shimport/dist/index.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-foundations/esm/accessibility/description-id.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-foundations/esm/accessibility/focus-halo.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-foundations/esm/accessibility/generate-source-id.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-foundations/esm/accessibility/visually-hidden.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-foundations/esm/animation/transitions.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-foundations/esm/breakpoints/breakpoints.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-foundations/esm/colour/palette.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-foundations/esm/index.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-foundations/esm/mq/mq.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-foundations/esm/size/size.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-foundations/esm/space/space.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-foundations/esm/typography/data.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-foundations/esm/typography/font-styles.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-foundations/esm/typography/api.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-foundations/esm/typography/index.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-foundations/esm/utils/px-to-rem.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-foundations/esm/utils/resets.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-foundations/esm/utils/supports-queries.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components-development-kitchen/esm/editorial-button/styles.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components-development-kitchen/esm/editorial-button/EditorialButton.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components-development-kitchen/esm/lines/StraightLines.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components-development-kitchen/esm/summary/styles.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components-development-kitchen/esm/summary/ErrorSummary.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/src/button/Button.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/src/button/LinkButton.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/src/button/shared.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/src/button/styles.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/src/button/theme-reader-revenue.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/src/button/theme.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/src/checkbox/LabelText.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/src/checkbox/SupportingText.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/src/checkbox/Checkbox.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/src/checkbox/CheckboxGroup.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/src/checkbox/theme.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/src/checkbox/styles.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/src/hide/Hide.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/src/icons/SvgSpinner.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/src/label/Label.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/src/label/Legend.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/src/label/SupportingText.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/src/label/Text.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/src/label/styles.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/src/label/theme.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/src/link/Link.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/src/link/shared.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/src/link/theme.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/src/link/styles.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/src/radio/Radio.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/src/inline/styles.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/src/inline/Inline.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/src/stack/styles.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/src/stack/Stack.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/src/radio/RadioGroup.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/src/radio/theme.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/src/radio/styles.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/src/select/theme.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/src/select/styles.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/src/select/Select.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/src/text-area/styles.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/src/text-area/TextArea.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/src/text-input/theme.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/src/text-input/styles.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/src/text-input/TextInput.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/src/user-feedback/InlineError.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/src/user-feedback/InlineSuccess.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/src/user-feedback/styles.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/src/user-feedback/theme.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/vendor/icons/SvgAlertTriangle.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/vendor/icons/SvgArrowRightStraight.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/vendor/icons/SvgCheckmark.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/vendor/icons/SvgChevronDownSingle.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/vendor/icons/SvgChevronLeftSingle.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/vendor/icons/SvgChevronRightSingle.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/vendor/icons/SvgChevronUpSingle.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/vendor/icons/SvgClock.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/vendor/icons/SvgCross.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/vendor/icons/SvgMediaControlsPlay.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/vendor/icons/SvgMinus.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/vendor/icons/SvgPlus.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/vendor/icons/SvgTickRound.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/support-dotcom-components/dist/index.esm.js","webpack://@guardian/dotcom-rendering/../node_modules/preact/compat/client.mjs","webpack://@guardian/dotcom-rendering/../node_modules/preact/jsx-runtime/dist/jsxRuntime.module.js","webpack://@guardian/dotcom-rendering/../node_modules/swr/dist/index.mjs","webpack://@guardian/dotcom-rendering/../node_modules/swr/immutable/dist/index.mjs","webpack://@guardian/dotcom-rendering/../node_modules/web-vitals/dist/web-vitals.js","webpack://@guardian/dotcom-rendering/webpack/bootstrap","webpack://@guardian/dotcom-rendering/webpack/runtime/compat get default export","webpack://@guardian/dotcom-rendering/webpack/runtime/define property getters","webpack://@guardian/dotcom-rendering/webpack/runtime/ensure chunk","webpack://@guardian/dotcom-rendering/webpack/runtime/global","webpack://@guardian/dotcom-rendering/webpack/runtime/harmony module decorator","webpack://@guardian/dotcom-rendering/webpack/runtime/hasOwnProperty shorthand","webpack://@guardian/dotcom-rendering/webpack/runtime/make namespace object","webpack://@guardian/dotcom-rendering/webpack/runtime/publicPath","webpack://@guardian/dotcom-rendering/./src/web/browser/webpackPublicPath.ts","webpack://@guardian/dotcom-rendering/./src/web/browser/decidePublicPath.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/getPrivacyFramework.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/injectPrivacySettingsLink.ts","webpack://@guardian/dotcom-rendering/./src/web/browser/bootCmp.ts","webpack://@guardian/dotcom-rendering/../node_modules/dynamic-import-polyfill/dist/dynamic-import-polyfill.mjs","webpack://@guardian/dotcom-rendering/./src/web/browser/dynamicImport.ts","webpack://@guardian/dotcom-rendering/./src/web/browser/sentryLoader/loadSentry.ts","webpack://@guardian/dotcom-rendering/./src/web/browser/startup.ts","webpack://@guardian/dotcom-rendering/./src/web/browser/index.ts","webpack://@guardian/dotcom-rendering/./src/web/browser/ophan/index.ts","webpack://@guardian/dotcom-rendering/./src/web/browser/ga/index.ts","webpack://@guardian/dotcom-rendering/./src/web/browser/sentryLoader/index.ts","webpack://@guardian/dotcom-rendering/./src/web/browser/islands/index.ts"],"sourcesContent":["var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","var map = {\n\t\"./AlreadyVisited.importable\": [\n\t\t5871,\n\t\t826\n\t],\n\t\"./AnimatePulsingDots.importable\": [\n\t\t181,\n\t\t826\n\t],\n\t\"./AudioAtomWrapper.importable\": [\n\t\t3135,\n\t\t826\n\t],\n\t\"./Branding.importable\": [\n\t\t8074,\n\t\t826\n\t],\n\t\"./BrazeMessaging.importable\": [\n\t\t1885,\n\t\t826\n\t],\n\t\"./CalloutBlockComponent.importable\": [\n\t\t7094,\n\t\t826\n\t],\n\t\"./CalloutEmbedBlockComponent.importable\": [\n\t\t1449,\n\t\t826\n\t],\n\t\"./Carousel.importable\": [\n\t\t5459,\n\t\t826\n\t],\n\t\"./ChartAtomWrapper.importable\": [\n\t\t5394,\n\t\t826\n\t],\n\t\"./CommentCount.importable\": [\n\t\t299,\n\t\t826\n\t],\n\t\"./DiscussionContainer.importable\": [\n\t\t1955,\n\t\t826\n\t],\n\t\"./DiscussionMeta.importable\": [\n\t\t6759,\n\t\t826\n\t],\n\t\"./DocumentBlockComponent.importable\": [\n\t\t9363,\n\t\t826\n\t],\n\t\"./EmbedBlockComponent.importable\": [\n\t\t5021,\n\t\t826\n\t],\n\t\"./EnhancePinnedPost.importable\": [\n\t\t572,\n\t\t826\n\t],\n\t\"./FetchCommentCounts.importable\": [\n\t\t2082,\n\t\t826\n\t],\n\t\"./FetchOnwardsData.importable\": [\n\t\t1965,\n\t\t826\n\t],\n\t\"./FilterKeyEventsToggle.importable\": [\n\t\t367,\n\t\t826\n\t],\n\t\"./FocusStyles.importable\": [\n\t\t2942,\n\t\t826\n\t],\n\t\"./GetCricketScoreboard.importable\": [\n\t\t7073,\n\t\t826\n\t],\n\t\"./GetMatchNav.importable\": [\n\t\t3324,\n\t\t826\n\t],\n\t\"./GetMatchStats.importable\": [\n\t\t1514,\n\t\t826\n\t],\n\t\"./GetMatchTabs.importable\": [\n\t\t5954,\n\t\t826\n\t],\n\t\"./GuideAtomWrapper.importable\": [\n\t\t163,\n\t\t826\n\t],\n\t\"./HeaderTopBar.importable\": [\n\t\t748,\n\t\t826\n\t],\n\t\"./InstagramBlockComponent.importable\": [\n\t\t8776,\n\t\t826\n\t],\n\t\"./InteractiveBlockComponent.importable\": [\n\t\t5570,\n\t\t826\n\t],\n\t\"./InteractiveContentsBlockComponent.importable\": [\n\t\t3153,\n\t\t826\n\t],\n\t\"./InteractiveSupportButton.importable\": [\n\t\t7523,\n\t\t826\n\t],\n\t\"./KeyEventsCarousel.importable\": [\n\t\t8681,\n\t\t826\n\t],\n\t\"./KnowledgeQuizAtomWrapper.importable\": [\n\t\t1742,\n\t\t826\n\t],\n\t\"./LabsHeader.importable\": [\n\t\t9451,\n\t\t826\n\t],\n\t\"./LiveBlogEpic.importable\": [\n\t\t8311,\n\t\t826\n\t],\n\t\"./Liveness.importable\": [\n\t\t615,\n\t\t826\n\t],\n\t\"./MapEmbedBlockComponent.importable\": [\n\t\t7567,\n\t\t826\n\t],\n\t\"./Metrics.importable\": [\n\t\t6666,\n\t\t826\n\t],\n\t\"./MostViewedFooter.importable\": [\n\t\t3504,\n\t\t826\n\t],\n\t\"./MostViewedFooterData.importable\": [\n\t\t9794,\n\t\t826\n\t],\n\t\"./MostViewedRightWrapper.importable\": [\n\t\t835,\n\t\t826\n\t],\n\t\"./OnwardsUpper.importable\": [\n\t\t1202,\n\t\t826\n\t],\n\t\"./PersonalityQuizAtomWrapper.importable\": [\n\t\t9872,\n\t\t826\n\t],\n\t\"./ProfileAtomWrapper.importable\": [\n\t\t2369,\n\t\t826\n\t],\n\t\"./QandaAtomWrapper.importable\": [\n\t\t2411,\n\t\t826\n\t],\n\t\"./ReaderRevenueDev.importable\": [\n\t\t1297,\n\t\t826\n\t],\n\t\"./ReaderRevenueLinks.importable\": [\n\t\t528,\n\t\t826\n\t],\n\t\"./RecipeMultiplier.importable\": [\n\t\t4225,\n\t\t826\n\t],\n\t\"./RichLinkComponent.importable\": [\n\t\t1792,\n\t\t826\n\t],\n\t\"./SecureSignupIframe.importable\": [\n\t\t5242,\n\t\t826\n\t],\n\t\"./SendAMessage.importable\": [\n\t\t1936,\n\t\t826\n\t],\n\t\"./SetABTests.importable\": [\n\t\t7978,\n\t\t826\n\t],\n\t\"./ShareCount.importable\": [\n\t\t4703,\n\t\t826\n\t],\n\t\"./ShowHideContainers.importable\": [\n\t\t943,\n\t\t826\n\t],\n\t\"./ShowMore.importable\": [\n\t\t7986,\n\t\t826\n\t],\n\t\"./SignInGateSelector.importable\": [\n\t\t9022,\n\t\t826\n\t],\n\t\"./SlotBodyEnd.importable\": [\n\t\t8606,\n\t\t826\n\t],\n\t\"./Snow.importable\": [\n\t\t5247,\n\t\t826\n\t],\n\t\"./SpotifyBlockComponent.importable\": [\n\t\t5131,\n\t\t826\n\t],\n\t\"./StickyBottomBanner.importable\": [\n\t\t7209,\n\t\t826\n\t],\n\t\"./SubNav.importable\": [\n\t\t2671,\n\t\t826\n\t],\n\t\"./SupportTheG.importable\": [\n\t\t7271,\n\t\t826\n\t],\n\t\"./TableOfContents.importable\": [\n\t\t530,\n\t\t826\n\t],\n\t\"./TimelineAtomWrapper.importable\": [\n\t\t4975,\n\t\t826\n\t],\n\t\"./TopRightAdSlot.importable\": [\n\t\t2784,\n\t\t826\n\t],\n\t\"./TweetBlockComponent.importable\": [\n\t\t9945,\n\t\t826\n\t],\n\t\"./UnsafeEmbedBlockComponent.importable\": [\n\t\t8046,\n\t\t826\n\t],\n\t\"./VideoFacebookBlockComponent.importable\": [\n\t\t7949,\n\t\t826\n\t],\n\t\"./VineBlockComponent.importable\": [\n\t\t939,\n\t\t826\n\t],\n\t\"./YoutubeBlockComponent.importable\": [\n\t\t1877,\n\t\t826\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(() => {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(() => {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.id = 1951;\nmodule.exports = webpackAsyncContext;","/*\n* Braze Web SDK v3.5.1\n* (c) Braze, Inc. 2022 - http://braze.com\n* License available at https://github.com/Appboy/appboy-web-sdk/blob/master/LICENSE\n* Compiled on 2022-03-24\n*/\n(function(){(function(b,a){if(\"function\"===typeof define&&define.amd)define([],a);else if(\"object\"===typeof module&&module.exports){var e = a();module.exports=e;module.exports.default=e}else if(b.appboy){var d=a(),c;for(c in d)b.appboy[c]=d[c]}else b.appboy=a()})(\"undefined\"!==typeof self?self:this,function(){var appboyInterface={};var n;function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function ba(a){var b=\"undefined\"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:aa(a)}}var ca=\"function\"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},da=\"function\"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};\nfunction fa(a){a=[\"object\"==typeof globalThis&&globalThis,a,\"object\"==typeof window&&window,\"object\"==typeof self&&self,\"object\"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error(\"Cannot find global object\");}var ha=fa(this);function ia(a,b){if(b)a:{var c=ha;a=a.split(\".\");for(var d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))break a;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&da(c,a,{configurable:!0,writable:!0,value:b})}}var ja;\nif(\"function\"==typeof Object.setPrototypeOf)ja=Object.setPrototypeOf;else{var ka;a:{var la={eg:!0},ma={};try{ma.__proto__=la;ka=ma.eg;break a}catch(a){}ka=!1}ja=ka?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+\" is not extensible\");return a}:null}var na=ja;\nfunction oa(a,b){a.prototype=ca(b.prototype);a.prototype.constructor=a;if(na)na(a,b);else for(var c in b)if(\"prototype\"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.Kh=b.prototype}\nia(\"String.prototype.repeat\",function(a){return a?a:function(b){if(null==this)throw new TypeError(\"The 'this' value for String.prototype.repeat must not be null or undefined\");var c=this+\"\";if(0>b||1342177279<b)throw new RangeError(\"Invalid count value\");b|=0;for(var d=\"\";b;)if(b&1&&(d+=c),b>>>=1)c+=c;return d}});\nia(\"Promise\",function(a){function b(f){this.Ob=0;this.Dd=void 0;this.mb=[];var h=this.ed();try{f(h.resolve,h.reject)}catch(k){h.reject(k)}}function c(){this.Fa=null}function d(f){return f instanceof b?f:new b(function(h){h(f)})}if(a)return a;c.prototype.Ae=function(f){if(null==this.Fa){this.Fa=[];var h=this;this.Be(function(){h.vg()})}this.Fa.push(f)};var e=ha.setTimeout;c.prototype.Be=function(f){e(f,0)};c.prototype.vg=function(){for(;this.Fa&&this.Fa.length;){var f=this.Fa;this.Fa=[];for(var h=\n0;h<f.length;++h){var k=f[h];f[h]=null;try{k()}catch(m){this.ig(m)}}}this.Fa=null};c.prototype.ig=function(f){this.Be(function(){throw f;})};b.prototype.ed=function(){function f(m){return function(t){k||(k=!0,m.call(h,t))}}var h=this,k=!1;return{resolve:f(this.Jg),reject:f(this.Bd)}};b.prototype.Jg=function(f){if(f===this)this.Bd(new TypeError(\"A Promise cannot resolve to itself\"));else if(f instanceof b)this.Zg(f);else{a:switch(typeof f){case \"object\":var h=null!=f;break a;case \"function\":h=!0;break a;\ndefault:h=!1}h?this.Ig(f):this.He(f)}};b.prototype.Ig=function(f){var h=void 0;try{h=f.then}catch(k){this.Bd(k);return}\"function\"==typeof h?this.$g(h,f):this.He(f)};b.prototype.Bd=function(f){this.Ne(2,f)};b.prototype.He=function(f){this.Ne(1,f)};b.prototype.Ne=function(f,h){if(0!=this.Ob)throw Error(\"Cannot settle(\"+f+\", \"+h+\"): Promise already settled in state\"+this.Ob);this.Ob=f;this.Dd=h;this.wg()};b.prototype.wg=function(){if(null!=this.mb){for(var f=0;f<this.mb.length;++f)g.Ae(this.mb[f]);this.mb=\nnull}};var g=new c;b.prototype.Zg=function(f){var h=this.ed();f.sc(h.resolve,h.reject)};b.prototype.$g=function(f,h){var k=this.ed();try{f.call(h,k.resolve,k.reject)}catch(m){k.reject(m)}};b.prototype.then=function(f,h){function k(z,A){return\"function\"==typeof z?function(B){try{m(z(B))}catch(C){t(C)}}:A}var m,t,x=new b(function(z,A){m=z;t=A});this.sc(k(f,m),k(h,t));return x};b.prototype.catch=function(f){return this.then(void 0,f)};b.prototype.sc=function(f,h){function k(){switch(m.Ob){case 1:f(m.Dd);\nbreak;case 2:h(m.Dd);break;default:throw Error(\"Unexpected state: \"+m.Ob);}}var m=this;null==this.mb?g.Ae(k):this.mb.push(k)};b.resolve=d;b.reject=function(f){return new b(function(h,k){k(f)})};b.race=function(f){return new b(function(h,k){for(var m=ba(f),t=m.next();!t.done;t=m.next())d(t.value).sc(h,k)})};b.all=function(f){var h=ba(f),k=h.next();return k.done?d([]):new b(function(m,t){function x(B){return function(C){z[B]=C;A--;0==A&&m(z)}}var z=[],A=0;do z.push(void 0),A++,d(k.value).sc(x(z.length-\n1),t),k=h.next();while(!k.done)})};return b});var pa={ih:function(a){var b=\"=\".repeat((4-a.length%4)%4);a=(a+b).replace(/\\-/g,\"+\").replace(/_/g,\"/\");a=atob(a);b=new Uint8Array(a.length);for(var c=0;c<a.length;++c)b[c]=a.charCodeAt(c);return b}};var qa={Gb:function(){function a(b){var c=(Math.random().toString(16)+\"000000000\").substr(2,8);return b?\"-\"+c.substr(0,4)+\"-\"+c.substr(4,4):c}return a()+a(!0)+a(!0)+a()}};function ra(a){var b=q;this.te=\"undefined\"===typeof window?self:window;this.C=a;this.F=b}function sa(a){if(\"indexedDB\"in a.te)return a.te.indexedDB}\nfunction ta(a){try{if(null==sa(a))return!1;sa(a).open(\"Braze IndexedDB Support Test\");if(\"undefined\"!==typeof window){var b=window.Bh||window.hb||window.Gh;if(b&&b.Lg&&b.Lg.id)return a.F.info(\"Not using IndexedDB for storage because we are running inside an extension\"),!1}return!0}catch(c){return a.F.info(\"Not using IndexedDB for storage due to following error: \"+c),!1}}\nfunction ua(a,b,c){var d=sa(a).open(a.C.O,a.C.VERSION);if(null==d)return\"function\"===typeof c&&c(),!1;d.onupgradeneeded=function(e){a.F.info(\"Upgrading indexedDB \"+a.C.O+\" to v\"+a.C.VERSION+\"...\");e=e.target.result;for(var g in a.C.G)a.C.G.hasOwnProperty(g)&&!e.objectStoreNames.contains(a.C.G[g])&&e.createObjectStore(a.C.G[g])};d.onsuccess=function(e){var g=e.target.result;g.onversionchange=function(){g.close();\"function\"===typeof c&&c();a.F.error(\"Needed to close the database unexpectedly because of an upgrade in another tab\")};\nb(g)};d.onerror=function(e){a.F.info(\"Could not open indexedDB \"+a.C.O+\" v\"+a.C.VERSION+\": \"+e.target.errorCode);\"function\"===typeof c&&c();return!0};return!0}\nra.prototype.setItem=function(a,b,c,d,e){if(!ta(this))return\"function\"===typeof e&&e(),!1;var g=this;return ua(this,function(f){f.objectStoreNames.contains(a)?(f=f.transaction([a],\"readwrite\").objectStore(a).put(c,b),f.onerror=function(){g.F.error(\"Could not store object \"+b+\" in \"+a+\" on indexedDB \"+g.C.O);\"function\"===typeof e&&e()},f.onsuccess=function(){\"function\"===typeof d&&d()}):(g.F.error(\"Could not store object \"+b+\" in \"+a+\" on indexedDB \"+g.C.O+\" - \"+a+\" is not a valid objectStore\"),\"function\"===\ntypeof e&&e())},e)};ra.prototype.getItem=function(a,b,c){if(!ta(this))return!1;var d=this;return ua(this,function(e){e.objectStoreNames.contains(a)?(e=e.transaction([a],\"readonly\").objectStore(a).get(b),e.onerror=function(){d.F.error(\"Could not retrieve object \"+b+\" in \"+a+\" on indexedDB \"+d.C.O)},e.onsuccess=function(g){g=g.target.result;null!=g&&c(g)}):d.F.error(\"Could not retrieve object \"+b+\" in \"+a+\" on indexedDB \"+d.C.O+\" - \"+a+\" is not a valid objectStore\")})};\nfunction va(a,b,c,d){ta(a)?ua(a,function(e){e.objectStoreNames.contains(b)?(e=e.transaction([b],\"readonly\").objectStore(b).openCursor(null,\"prev\"),e.onerror=function(){a.F.error(\"Could not open cursor for \"+b+\" on indexedDB \"+a.C.O);\"function\"===typeof d&&d()},e.onsuccess=function(g){g=g.target.result;null!=g&&null!=g.value&&null!=g.key?c(g.key,g.value):\"function\"===typeof d&&d()}):(a.F.error(\"Could not retrieve last record from \"+b+\" on indexedDB \"+a.C.O+\" - \"+b+\" is not a valid objectStore\"),\"function\"===\ntypeof d&&d())},d):\"function\"===typeof d&&d()}function wa(a,b,c){ta(a)&&ua(a,function(d){d.objectStoreNames.contains(b)?d.transaction([b],\"readwrite\").objectStore(b)[\"delete\"](c).onerror=function(){a.F.error(\"Could not delete record \"+c+\" from \"+b+\" on indexedDB \"+a.C.O)}:a.F.error(\"Could not delete record \"+c+\" from \"+b+\" on indexedDB \"+a.C.O+\" - \"+b+\" is not a valid objectStore\")})}\nfunction xa(a,b,c){ta(a)&&ua(a,function(d){if(d.objectStoreNames.contains(b)){var e=d.transaction([b],\"readwrite\").objectStore(b);d=e.openCursor();var g=[];d.onerror=function(){0<g.length?(a.F.info(\"Cursor closed midway through for \"+b+\" on indexedDB \"+a.C.O),c(g)):a.F.error(\"Could not open cursor for \"+b+\" on indexedDB \"+a.C.O)};d.onsuccess=function(f){var h=f.target.result;null!=h?(null!=h.value&&null!=h.key&&(e[\"delete\"](h.key).onsuccess=function(){g.push(h.value)}),h.continue()):0<g.length&&c(g)}}else a.F.error(\"Could not retrieve objects from \"+\nb+\" on indexedDB \"+a.C.O+\" - \"+b+\" is not a valid objectStore\")})}\nra.prototype.clearData=function(){if(!ta(this))return!1;var a=[],b;for(b in this.C.G)this.C.G.hasOwnProperty(b)&&this.C.G[b]!==this.C.G.rb&&a.push(this.C.G[b]);var c=this;return ua(this,function(d){d=d.transaction(a,\"readwrite\");for(var e=0;e<a.length;e++)d.objectStore(a[e]).clear().onerror=function(){c.F.error(\"Could not clear \"+this.source.name+\" on indexedDB \"+c.C.O)};d.onerror=function(){c.F.error(\"Could not clear object stores on indexedDB \"+c.C.O)}})};var u={md:function(a){if(void 0!==a||void 0===u.Ca)u.Ca=!!a;u.qe||(u.qe=!0)},Db:function(){u.qe=!1;u.Ca=void 0;u.F=void 0},Fd:function(a){\"function\"!==typeof a?u.info(\"Ignoring setLogger call since logger is not a function\"):(u.md(),u.F=a)},Jd:function(){u.md();u.Ca?(console.log(\"Disabling Appboy logging\"),u.Ca=!1):(console.log(\"Enabled Appboy logging\"),u.Ca=!0)},info:function(a){u.Ca&&(a=\"Appboy: \"+a,null!=u.F?u.F(a):console.log(a))},warn:function(a){u.Ca&&(a=\"Appboy SDK Warning: \"+a+\" (v3.5.1)\",\nnull!=u.F?u.F(a):console.warn(a))},error:function(a){u.Ca&&(a=\"Appboy SDK Error: \"+a+\" (v3.5.1)\",null!=u.F?u.F(a):console.error(a))}};var w={CustomEvent:\"ce\",yf:\"p\",If:\"pc\",wh:\"ca\",zf:\"i\",Hc:\"ie\",af:\"cci\",cf:\"ccic\",Ze:\"ccc\",$e:\"ccd\",ce:\"ss\",Nf:\"se\",xf:\"si\",Qd:\"sc\",Pd:\"sbc\",wf:\"sfe\",df:\"iec\",Ff:\"lr\",Ue:\"uae\",Ye:\"ci\",Xe:\"cc\",Df:\"lcaa\",Ef:\"lcar\",ff:\"inc\",ef:\"add\",gf:\"rem\",hf:\"set\",Of:\"sgu\"},ya={uf:\"feed_displayed\",bf:\"content_cards_displayed\"},za={aa:{O:\"AppboyServiceWorkerAsyncStorage\",VERSION:6,G:{jf:\"data\",Wd:\"pushClicks\",Pc:\"pushSubscribed\",nh:\"fallbackDevice\",Ve:\"cardUpdates\",rb:\"optOut\",Td:\"pendingData\",Yd:\"sdkAuthenticationSignature\"},\neb:1}},q=u,y={Re:\"allowCrawlerActivity\",zc:\"baseUrl\",Hf:\"noCookies\",Nd:\"devicePropertyAllowlist\",Dc:\"devicePropertyWhitelist\",qf:\"disablePushTokenMaintenance\",sf:\"enableLogging\",tf:\"enableSdkAuthentication\",Gf:\"manageServiceWorkerExternally\",vf:\"minimumIntervalBetweenTriggerActionsInSeconds\",Mf:\"sessionTimeoutInSeconds\",Te:\"appVersion\",Lf:\"serviceWorkerLocation\",Jf:\"safariWebsitePushId\",Lc:\"localization\",We:\"contentSecurityNonce\",rf:\"enableHtmlInAppMessages\",Se:\"allowUserSuppliedJavascript\",qh:\"inAppMessageZIndex\",\nsh:\"openInAppMessagesInNewTab\",uh:\"openNewsFeedCardsInNewTab\",xh:\"requireExplicitInAppMessageDismissal\",mh:\"doNotLoadFontAwesome\",Zd:\"sdkFlavor\",Ic:\"language\",rh:\"openCardsInNewTab\"};function Aa(a,b,c,d){a=Ba(a);return-1===a.indexOf(b)?(q.error(c+\" Valid values from \"+d+' are \"'+a.join('\"/\"')+'\".'),!1):!0}function Ca(a){return Array.isArray?Array.isArray(a):\"[object Array]\"===Object.prototype.toString.call(a)}function Da(a){return\"[object Date]\"===Object.prototype.toString.call(a)}function Ea(a){return\"[object Object]\"===Object.prototype.toString.call(a)}function Fa(a){var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push(c);return b}\nfunction Ba(a){var b=[],c;for(c in a)a.hasOwnProperty(c)&&void 0!==a[c]&&b.push(a[c]);return b}\nfunction Ga(a,b){if(a===b)return 0!==a||1/a===1/b;if(null==a||null==b)return a===b;var c=a.toString();if(c!==b.toString())return!1;switch(c){case \"[object RegExp]\":case \"[object String]\":return\"\"+a===\"\"+b;case \"[object Number]\":return+a!==+a?+b!==+b:0===+a?1/+a===1/b:+a===+b;case \"[object Date]\":case \"[object Boolean]\":return+a===+b}c=\"[object Array]\"===c;if(!c){if(\"object\"!==typeof a||\"object\"!==typeof b)return!1;var d=a.constructor,e=b.constructor;if(d!==e&&!(\"function\"===typeof d&&d instanceof\nd&&\"function\"===typeof e&&e instanceof e)&&\"constructor\"in a&&\"constructor\"in b)return!1}d=[];e=[];for(var g=d.length;g--;)if(d[g]===a)return e[g]===b;d.push(a);e.push(b);if(c){g=a.length;if(g!==b.length)return!1;for(;g--;)if(!Ga(a[g],b[g]))return!1}else{c=Fa(a);g=c.length;if(Fa(b).length!==g)return!1;for(;g--;){var f=c[g];if(!b.hasOwnProperty(f)||!Ga(a[f],b[f]))return!1}}d.pop();e.pop();return!0};function Ha(a,b){a/=1E3;b&&(a=Math.floor(a));return a}function Ia(a){var b=parseInt(a);return null==a||isNaN(b)?null:new Date(1E3*b)}function Ja(a){return null!=a&&Da(a)?a.toISOString().replace(/\\.[0-9]{3}Z$/,\"\"):a}function Ka(a){return null==a||\"\"===a?null:new Date(a)};function D(a,b,c,d,e){this.$a=a;this.type=b;this.time=null==c||\"\"===c?(new Date).valueOf():c;this.sessionId=d;this.data=e}D.prototype.qc=function(){var a={name:this.type,time:Ha(this.time),data:this.data||{},session_id:this.sessionId};null!=this.$a&&(a.user_id=this.$a);return a};D.prototype.A=function(){return{u:this.$a,t:this.type,ts:this.time,s:this.sessionId,d:this.data}};function La(a){return null!=a&&Ea(a)&&null!=a.t&&\"\"!==a.t}function Ma(a){return new D(a.u,a.t,a.ts,a.s,a.d)};function Na(a,b,c){null==a&&(a=qa.Gb());c=parseInt(c);if(isNaN(c)||0===c)c=(new Date).valueOf();this.ga=a;this.Cb=c;this.Kb=(new Date).valueOf();this.fd=b}Na.prototype.A=function(){return{g:this.ga,e:this.fd,c:this.Cb,l:this.Kb}};function Oa(a){for(var b=a.length,c=a.length-1;0<=c;c--){var d=a.charCodeAt(c);127<d&&2047>=d?b++:2047<d&&65535>=d&&(b+=2);56320<=d&&57343>=d&&c--}return b};function Qa(a,b,c,d){(d=\"string\"===typeof a||null===a&&d)||q.error(\"Cannot \"+b+\" because \"+c+' \"'+a+'\" is invalid.');return d}function Ra(a,b,c){var d=null!=a&&\"string\"===typeof a&&(\"\"===a||a.match(Sa));d||q.error(\"Cannot \"+b+\" because \"+c+' \"'+a+'\" is invalid.');return d}\nfunction Ta(a,b,c,d,e){null==a&&(a={});if(\"object\"!==typeof a||Ca(a))return q.error(b+\" requires that \"+c+\" be an object. Ignoring \"+e+\".\"),[!1,null];b=JSON.stringify(a);if(Oa(b)>Ua)return q.error(\"Could not \"+d+\" because \"+c+\" was greater than the max size of \"+Va+\".\"),[!1,null];try{var g=JSON.parse(b)}catch(m){return q.error(\"Could not \"+d+\" because \"+c+\" did not contain valid JSON.\"),[!1,null]}for(var f in a){if(!Ra(f,d,\"the \"+e+\" property name\"))return[!1,null];c=a[f];if(null==c)delete a[f],delete g[f];\nelse{Da(c)&&(g[f]=Ja(c));var h=d,k=\"the \"+e+' property \"'+f+'\"';(b=Ea(c)||Ca(c)?Wa(c,g[f]):Xa(c))||q.error(\"Cannot \"+h+\" because \"+k+' \"'+c+'\" is invalid.');if(!b)return[!1,null]}}return[!0,g]}function Wa(a,b){if(Ca(a)&&Ca(b))for(var c=0;c<a.length&&c<b.length;c++){if(Da(a[c])&&(b[c]=Ja(a[c])),!Wa(a[c],b[c]))return!1}else if(Ea(a)){c=ba(Fa(a));for(var d=c.next();!d.done;d=c.next())if(d=d.value,Da(a[d])&&(b[d]=Ja(a[d])),!Wa(a[d],b[d]))return!1}else return Xa(a);return!0}\nfunction Xa(a){var b=typeof a;return null==a||\"number\"===b||\"boolean\"===b||Da(a)||\"string\"===b}var Sa=/^[^\\x00-\\x1F\\x22]+$/,Ya=new RegExp(/^.+@.+\\..+$/),Ua=51200,Va=\"50KB\";var E={};function F(a,b){this.f=a;this.H=b}n=F.prototype;n.o=function(a){null==a&&q.error(\"getUserId must be supplied with a callback. e.g., appboy.getUser().getUserId(function(userId) {console.log('the user id is ' + userId)})\");\"function\"===typeof a&&a(this.f.o())};\nn.fg=function(a,b){if(!Qa(a,\"add alias\",\"the alias\",!1)||0>=a.length)return q.error(\"addAlias requires a non-empty alias\"),!1;if(!Qa(b,\"add alias\",\"the label\",!1)||0>=b.length)return q.error(\"addAlias requires a non-empty label\"),!1;var c=this.H,d=new Za,e=$a(c.D),g=w.Ue;d.j.push(new D(c.f.o(),g,(new Date).valueOf(),e,{a:a,l:b}));d.h=ab(c.b,d.j);return d.h};n.Tg=function(a){return Qa(a,\"set first name\",\"the firstName\",!0)?bb(this.f,\"first_name\",a):!1};\nn.Xg=function(a){return Qa(a,\"set last name\",\"the lastName\",!0)?bb(this.f,\"last_name\",a):!1};n.Rg=function(a){return null===a||\"string\"===typeof a&&null!=a.toLowerCase().match(Ya)?bb(this.f,\"email\",a):(q.error('Cannot set email address - \"'+a+'\" did not pass RFC-5322 validation.'),!1)};n.Ug=function(a){\"string\"===typeof a&&(a=a.toLowerCase());return null===a||Aa(cb,a,'Gender \"'+a+'\" is not a valid gender.',\"User.Genders\")?bb(this.f,\"gender\",a):!1};\nn.Qg=function(a,b,c){if(null===a&&null===b&&null===c)return bb(this.f,\"dob\",null);a=parseInt(a);b=parseInt(b);c=parseInt(c);return isNaN(a)||isNaN(b)||isNaN(c)||12<b||1>b||31<c||1>c?(q.error(\"Cannot set date of birth - parameters should comprise a valid date e.g. setDateOfBirth(1776, 7, 4);\"),!1):bb(this.f,\"dob\",\"\"+a+\"-\"+b+\"-\"+c)};n.Og=function(a){return Qa(a,\"set country\",\"the country\",!0)?bb(this.f,\"country\",a):!1};\nn.Vg=function(a){return Qa(a,\"set home city\",\"the homeCity\",!0)?bb(this.f,\"home_city\",a):!1};n.Wg=function(a){return Qa(a,\"set language\",\"the language\",!0)?bb(this.f,\"language\",a):!1};n.Sg=function(a){return Aa(db,a,'Email notification setting \"'+a+'\" is not a valid subscription type.',\"User.NotificationSubscriptionTypes\")?bb(this.f,\"email_subscribe\",a):!1};\nn.Gd=function(a){return Aa(db,a,'Push notification setting \"'+a+'\" is not a valid subscription type.',\"User.NotificationSubscriptionTypes\")?bb(this.f,\"push_subscribe\",a):!1};n.Yg=function(a){return Qa(a,\"set phone number\",\"the phoneNumber\",!0)?null===a||a.match(eb)?bb(this.f,\"phone\",a):(q.error('Cannot set phone number - \"'+a+'\" did not pass validation.'),!1):!1};n.Ng=function(a){return bb(this.f,\"image_url\",a)};\nn.wc=function(a,b,c,d,e){if(null==a||null==b)return q.error(\"Cannot set last-known location - latitude and longitude are required.\"),!1;a=parseFloat(a);b=parseFloat(b);null!=c&&(c=parseFloat(c));null!=d&&(d=parseFloat(d));null!=e&&(e=parseFloat(e));return isNaN(a)||isNaN(b)||null!=c&&isNaN(c)||null!=d&&isNaN(d)||null!=e&&isNaN(e)?(q.error(\"Cannot set last-known location - all supplied parameters must be numeric.\"),!1):90<a||-90>a||180<b||-180>b?(q.error(\"Cannot set last-known location - latitude and longitude are bounded by \\u00b190 and \\u00b1180 respectively.\"),\n!1):null!=c&&0>c||null!=e&&0>e?(q.error(\"Cannot set last-known location - accuracy and altitudeAccuracy may not be negative.\"),!1):this.H.wc(this.f.o(),a,b,d,c,e).h};\nn.Ed=function(a,b){if(!Ra(a,\"set custom user attribute\",\"the given key\"))return!1;var c=typeof b,d=Da(b),e=Ca(b);if(\"number\"!==c&&\"boolean\"!==c&&!d&&!e&&null!==b&&!Ra(b,'set custom user attribute \"'+a+'\"',\"the given value\"))return!1;d&&(b=Ja(b));if(e){for(c=0;c<b.length;c++)if(!Ra(b[c],'set custom user attribute \"'+a+'\"',\"the element in the given array\"))return!1;return fb(this.H,w.hf,a,b).h}return this.f.Ed(a,b)};\nn.gg=function(a,b){return!Ra(a,\"add to custom user attribute array\",\"the given key\")||null!=b&&!Ra(b,\"add to custom user attribute array\",\"the given value\")?!1:fb(this.H,w.ef,a,b).h};n.Gg=function(a,b){return!Ra(a,\"remove from custom user attribute array\",\"the given key\")||null!=b&&!Ra(b,\"remove from custom user attribute array\",\"the given value\")?!1:fb(this.H,w.gf,a,b).h};\nn.zg=function(a,b){if(!Ra(a,\"increment custom user attribute\",\"the given key\"))return!1;null==b&&(b=1);var c=parseInt(b);return isNaN(c)||c!==parseFloat(b)?(q.error('Cannot increment custom user attribute because the given incrementValue \"'+b+'\" is not an integer.'),!1):fb(this.H,w.ff,a,c).h};n.Ad=function(a,b,c,d,e){this.f.Ad(a,b,c,d,e);gb(this.H)};n.Mb=function(a){this.f.Mb(a)};\nn.Pg=function(a,b,c){if(!Ra(a,\"set custom location attribute\",\"the given key\"))return!1;if(null!==b||null!==c)if(b=parseFloat(b),c=parseFloat(c),isNaN(b)||90<b||-90>b||isNaN(c)||180<c||-180>c)return q.error(\"Received invalid values for latitude and/or longitude. Latitude and longitude are bounded by \\u00b190 and \\u00b1180 respectively, or must both be null for removal.\"),!1;var d=this.H,e=c;c=new Za;if(hb(d.J,a))q.info('Custom Attribute \"'+a+'\" is blocklisted, ignoring.'),c.h=!1;else{var g=$a(d.D);\nif(null===b&&null===e){var f=w.Ef;a={key:a}}else f=w.Df,a={key:a,latitude:b,longitude:e};c.j.push(new D(d.f.o(),f,(new Date).valueOf(),g,a));c.h=ab(d.b,c.j)}return c.h};n.hg=function(a){return!Qa(a,\"add user to subscription group\",\"subscription group ID\",!1)||0>=a.length?(q.error(\"addToSubscriptionGroup requires a non-empty subscription group ID\"),!1):ib(this.H,a,jb).h};\nn.Hg=function(a){return!Qa(a,\"remove user from subscription group\",\"subscription group ID\",!1)||0>=a.length?(q.error(\"removeFromSubscriptionGroup requires a non-empty subscription group ID\"),!1):ib(this.H,a,kb).h};var eb=/^[0-9 .\\\\(\\\\)\\\\+\\\\-]+$/,cb={MALE:\"m\",FEMALE:\"f\",OTHER:\"o\",UNKNOWN:\"u\",NOT_APPLICABLE:\"n\",PREFER_NOT_TO_SAY:\"p\"},db={OPTED_IN:\"opted_in\",SUBSCRIBED:\"subscribed\",UNSUBSCRIBED:\"unsubscribed\"},jb=\"subscribed\",kb=\"unsubscribed\";E.User=F;E.User.Genders=cb;\nE.User.NotificationSubscriptionTypes=db;E.User.prototype.getUserId=F.prototype.o;E.User.prototype.setFirstName=F.prototype.Tg;E.User.prototype.setLastName=F.prototype.Xg;E.User.prototype.setEmail=F.prototype.Rg;E.User.prototype.setGender=F.prototype.Ug;E.User.prototype.setDateOfBirth=F.prototype.Qg;E.User.prototype.setCountry=F.prototype.Og;E.User.prototype.setHomeCity=F.prototype.Vg;E.User.prototype.setLanguage=F.prototype.Wg;E.User.prototype.setEmailNotificationSubscriptionType=F.prototype.Sg;\nE.User.prototype.setPushNotificationSubscriptionType=F.prototype.Gd;E.User.prototype.setPhoneNumber=F.prototype.Yg;E.User.prototype.setAvatarImageUrl=F.prototype.Ng;E.User.prototype.setLastKnownLocation=F.prototype.wc;E.User.prototype.setCustomUserAttribute=F.prototype.Ed;E.User.prototype.addToCustomAttributeArray=F.prototype.gg;E.User.prototype.removeFromCustomAttributeArray=F.prototype.Gg;E.User.prototype.incrementCustomUserAttribute=F.prototype.zg;E.User.prototype.addAlias=F.prototype.fg;\nE.User.prototype.setCustomLocationAttribute=F.prototype.Pg;E.User.prototype.addToSubscriptionGroup=F.prototype.hg;E.User.prototype.removeFromSubscriptionGroup=F.prototype.Hg;function lb(){}lb.prototype.hd=function(){};lb.prototype.kd=function(){};lb.prototype.kb=function(){};function mb(a,b){if(a&&b)if(a=a.toLowerCase(),Ca(b.M))for(var c=0;c<b.M.length;c++){if(-1!==a.indexOf(b.M[c].toLowerCase()))return b.R}else if(-1!==a.indexOf(b.M.toLowerCase()))return b.R};var nb={Ld:\"Chrome\",Ec:\"Edge\",Fc:\"Internet Explorer\",Sd:\"Opera\",Qc:\"Safari\",oh:\"Firefox\"};function pb(){if(this.userAgentData=navigator.userAgentData){var a=this.userAgentData.brands;if(a&&a.length){a=ba(a);for(var b=a.next();!b.done;b=a.next()){b=b.value;var c=void 0,d=[];for(c in nb)nb[c]!==nb.Fc&&d.push(nb[c]);if((c=b.brand.match(new RegExp(\"(\"+d.join(\"|\")+\")\",\"i\")))&&0<c.length){var e=c[0];var g=b.version;break}}}this.hb=e||\"Unknown Browser\";this.version=g||\"Unknown Version\"}}oa(pb,lb);pb.prototype.hd=function(){return this.hb};pb.prototype.kd=function(){return this.version};\npb.prototype.kb=function(a){var b=this;return this.ia?Promise.resolve(this.ia):(this.userAgentData.getHighEntropyValues?this.userAgentData.getHighEntropyValues([\"platform\"]):Promise.reject()).then(function(c){c=c.platform;for(var d=0;d<a.length;d++){var e=mb(c,a[d]);if(e)return b.ia=e,b.ia}return c}).catch(function(){return navigator.platform})};function qb(){this.De=rb()}oa(qb,lb);qb.prototype.hd=function(){return this.De[0]||\"Unknown Browser\"};qb.prototype.kd=function(){return this.De[1]||\"Unknown Version\"};qb.prototype.kb=function(a){for(var b=0;b<a.length;b++){var c=mb(a[b].U,a[b]);if(c)return\"Mac\"===c&&1<navigator.maxTouchPoints&&(c=\"iOS\"),Promise.resolve(c)}return Promise.resolve(navigator.platform)};\nfunction rb(){var a=navigator.userAgent||\"\",b=a.match(/(samsungbrowser|tizen|roku|konqueror|icab|crios|opera|ucbrowser|chrome|safari|firefox|camino|msie|trident(?=\\/))\\/?\\s*(\\.?\\d+(\\.\\d+)*)/i)||[];if(/trident/i.test(b[1])){var c=/\\brv[ :]+(\\.?\\d+(\\.\\d+)*)/g.exec(a)||[];return[nb.Fc,c[1]||\"\"]}if(-1!==a.indexOf(\"(Web0S; Linux/SmartTV)\"))return[\"LG Smart TV\",null];if(-1!==a.indexOf(\"CrKey\"))return[\"Chromecast\",null];if(-1!==a.indexOf(\"BRAVIA\")||-1!==a.indexOf(\"SonyCEBrowser\")||-1!==a.indexOf(\"SonyDTV\"))return[\"Sony Smart TV\",\nnull];if(-1!==a.indexOf(\"PhilipsTV\"))return[\"Philips Smart TV\",null];if(a.match(/\\b(Roku)\\b/))return[\"Roku\",null];if(a.match(/\\bAFTM\\b/))return[\"Amazon Fire Stick\",null];if(b[1]===nb.Ld&&(c=a.match(/\\b(OPR|Edge|EdgA|Edg|UCBrowser)\\/(\\.?\\d+(\\.\\d+)*)/),null!=c))return c=c.slice(1),c[0]=c[0].replace(\"OPR\",nb.Sd),c[0]=c[0].replace(\"EdgA\",nb.Ec),\"Edg\"===c[0]&&(c[0]=nb.Ec),[c[0],c[1]];if(b[1]===nb.Qc&&(c=a.match(/\\b(EdgiOS)\\/(\\.?\\d+(\\.\\d+)*)/),null!=c))return c=c.slice(1),c[0]=c[0].replace(\"EdgiOS\",nb.Ec),\n[c[0],c[1]];b=b[2]?[b[1],b[2]]:[null,null];b[0]===nb.Qc&&null!=(c=a.match(/version\\/(\\.?\\d+(\\.\\d+)*)/i))&&b.splice(1,1,c[1]);null!=(c=a.match(/\\b(UCBrowser)\\/(\\.?\\d+(\\.\\d+)*)/))&&b.splice(1,1,c[2]);if(b[0]===nb.Sd&&null!=(c=a.match(/mini\\/(\\.?\\d+(\\.\\d+)*)/i)))return[\"Opera Mini\",c[1]||\"\"];b[0]&&(a=b[0].toLowerCase(),\"msie\"===a&&(b[0]=nb.Fc),\"crios\"===a&&(b[0]=nb.Ld),\"tizen\"===a&&(b[0]=\"Samsung Smart TV\",b[1]=null),\"samsungbrowser\"===a&&(b[0]=\"Samsung Browser\"));return b};function sb(){var a=this;this.xd=new (navigator.userAgentData?pb:qb);this.userAgent=navigator.userAgent;this.hb=this.xd.hd();this.version=this.xd.kd();this.kb().then(function(b){return a.ia=b});this.language=(navigator.Nh||navigator.language||navigator.browserLanguage||navigator.Lh||\"\").toLowerCase();this.Ag=tb(this.userAgent)}sb.prototype.kb=function(){var a=this;return this.ia?Promise.resolve(this.ia):this.xd.kb(ub).then(function(b){return a.ia=b})};\nfunction tb(a){a=a.toLowerCase();for(var b=\"googlebot bingbot slurp duckduckbot baiduspider yandex facebookexternalhit sogou ia_archiver https://github.com/prerender/prerender aolbuild bingpreview msnbot adsbot mediapartners-google teoma\".split(\" \"),c=0;c<b.length;c++)if(-1!==a.indexOf(b[c]))return!0;return!1}\nvar ub=[{U:navigator.platform,M:\"Win\",R:\"Windows\"},{U:navigator.platform,M:\"Mac\",R:\"Mac\"},{U:navigator.platform,M:\"BlackBerry\",R:\"BlackBerry\"},{U:navigator.platform,M:\"FreeBSD\",R:\"FreeBSD\"},{U:navigator.platform,M:\"OpenBSD\",R:\"OpenBSD\"},{U:navigator.platform,M:\"Nintendo\",R:\"Nintendo\"},{U:navigator.platform,M:\"SunOS\",R:\"SunOS\"},{U:navigator.platform,M:\"PlayStation\",R:\"PlayStation\"},{U:navigator.platform,M:\"X11\",R:\"X11\"},{U:navigator.userAgent,M:[\"iPhone\",\"iPad\",\"iPod\"],R:\"iOS\"},{U:navigator.platform,\nM:\"Pike v\",R:\"iOS\"},{U:navigator.userAgent,M:[\"Web0S\"],R:\"WebOS\"},{U:navigator.platform,M:[\"Linux armv7l\",\"Android\"],R:\"Android\"},{U:navigator.userAgent,M:[\"Android\"],R:\"Android\"},{U:navigator.platform,M:\"Linux\",R:\"Linux\"}],vb=new sb;function wb(a,b){this.kc=a;this.P=b}function xb(a,b,c){var d=c;null!=c&&c instanceof Na&&(d=c.A());a.kc.store(b,d)}function yb(a,b){var c=zb(a,b);null!=c&&(c.Kb=(new Date).valueOf(),xb(a,b,c))}function zb(a,b){a=a.kc.Z(b);null==a||null==a.g?a=null:(b=new Na(a.g,a.e,a.c),b.Kb=a.l,a=b);return a}function ab(a,b){if(null==b||0===b.length)return!1;Ca(b)||(b=[b]);var c=a.P.Z(M.Qb);null!=c&&Ca(c)||(c=[]);for(var d=0;d<b.length;d++)c.push(b[d].A());return a.P.store(M.Qb,c)}\nfunction Ab(a){var b=a.P.Z(M.Qb);a.P.remove(M.Qb);null==b&&(b=[]);a=[];var c=!1,d=null;if(Ca(b))for(var e=0;e<b.length;e++)La(b[e])?a.push(Ma(b[e])):d=e;else c=!0;if(c||null!=d)e=\"Stored events could not be deserialized as Events\",c&&(e+=\", was \"+Object.prototype.toString.call(b)+\" not an array\"),null!=d&&(e+=\", value at index \"+d+\" does not look like an event\"),e+=\", serialized values were of type \"+typeof b+\": \"+JSON.stringify(b),a.push(new D(null,w.Hc,(new Date).valueOf(),null,{e:e}));return a}\nfunction N(a,b,c){Aa(M,b,\"StorageManager cannot store object.\",\"StorageManager.KEYS.OBJECTS\")&&a.P.store(b,c)}function P(a,b){return Aa(M,b,\"StorageManager cannot retrieve object.\",\"StorageManager.KEYS.OBJECTS\")?a.P.Z(b):!1}function Q(a,b){Aa(M,b,\"StorageManager cannot remove object.\",\"StorageManager.KEYS.OBJECTS\")&&a.P.remove(b)}wb.prototype.clearData=function(){for(var a=Fa(Bb),b=Fa(M),c=0;c<a.length;c++)this.kc.remove(Bb[a[c]]);for(a=0;a<b.length;a++)this.P.remove(M[b[a]])};\nfunction Cb(a,b){var c=a.P.Z(M.Ja);null==c&&(c={});var d=b.user_id||M.yc,e;for(e in b)\"user_id\"===e||null!=c[d]&&null!=c[d][e]||Db(a,b.user_id,e,b[e])}function Db(a,b,c,d){var e=a.P.Z(M.Ja);null==e&&(e={});var g=b||M.yc,f=e[g];null==f&&(f={},null!=b&&(f.user_id=b));if(\"custom\"===c){null==f[c]&&(f[c]={});for(var h in d)f[c][h]=d[h]}else f[c]=d;e[g]=f;return a.P.store(M.Ja,e)}function Eb(a){var b=a.P.Z(M.Ja);a.P.remove(M.Ja);a=[];for(var c in b)null!=b[c]&&a.push(b[c]);return a}\nvar Bb={dc:\"ab.storage.userId\",Cc:\"ab.storage.deviceId\",La:\"ab.storage.sessionId\"},M={Rc:\"ab.test\",Qb:\"ab.storage.events\",Ja:\"ab.storage.attributes\",yc:\"ab.storage.attributes.anonymous_user\",Xb:\"ab.storage.device\",$d:\"ab.storage.sdk_metadata\",be:\"ab.storage.session_id_for_cached_metadata\",cc:\"ab.storage.pushToken\",Mc:\"ab.storage.newsFeed\",Kc:\"ab.storage.lastNewsFeedRefresh\",pb:\"ab.storage.cardImpressions\",ae:\"ab.storage.serverConfig\",Sc:\"ab.storage.triggers\",Tc:\"ab.storage.triggers.ts\",Bf:\"ab.storage.lastTriggeredTime\",\nAf:\"ab.storage.lastTriggeredTimesById\",Cf:\"ab.storage.lastTriggerEventDataById\",$b:\"ab.storage.messagingSessionStart\",qb:\"ab.storage.cc\",Vb:\"ab.storage.ccLastFullSync\",Ub:\"ab.storage.ccLastCardUpdated\",ab:\"ab.storage.ccClicks\",bb:\"ab.storage.ccImpressions\",sa:\"ab.storage.ccDismissals\",Zb:\"ab.storage.lastDisplayedTriggerTimesById\",Jc:\"ab.storage.lastDisplayedTriggerTime\",tb:\"ab.storage.triggerFireInstancesById\",cb:\"ab.storage.signature\"};function Fb(a){this.$=a;this.Ge=vb.hb===nb.Qc?3:10}\nFb.prototype.Pa=function(a){return a+\".\"+this.$};Fb.prototype.store=function(a,b){b={v:b};try{return localStorage.setItem(this.Pa(a),JSON.stringify(b)),!0}catch(c){return q.info(\"Storage failure: \"+c.message),!1}};Fb.prototype.Z=function(a){try{var b=JSON.parse(localStorage.getItem(this.Pa(a)));return null==b?null:b.v}catch(c){return q.info(\"Storage retrieval failure: \"+c.message),null}};\nFb.prototype.remove=function(a){try{localStorage.removeItem(this.Pa(a))}catch(b){return q.info(\"Storage removal failure: \"+b.message),!1}};function Gb(a,b){this.$=a;a=0;for(var c=document.location.hostname,d=c.split(\".\");a<d.length-1&&-1===document.cookie.indexOf(\"ab._gd=ab._gd\");)a++,c=\".\"+d.slice(-1-a).join(\".\"),document.cookie=\"ab._gd=ab._gd;domain=\"+c+\";\";document.cookie=\"ab._gd=;expires=\"+(new Date(0)).toGMTString()+\";domain=\"+c+\";\";this.ue=c;this.ne=525949;this.ye=!!b}\nGb.prototype.Pa=function(a){return null!=this.$?a+\".\"+this.$:a};function Hb(a){var b=new Date;b.setTime(b.getTime()+6E4*a.ne);return b.getFullYear()}\nGb.prototype.store=function(a,b){for(var c=Ba(Bb),d=document.cookie.split(\";\"),e=0;e<d.length;e++){for(var g=d[e];\" \"===g.charAt(0);)g=g.substring(1);for(var f=!1,h=0;h<c.length;h++)if(0===g.indexOf(c[h])){f=!0;break}f&&(g=g.split(\"=\")[0],-1===g.indexOf(\".\"+this.$)&&Ib(this,g))}c=new Date;c.setTime(c.getTime()+6E4*this.ne);c=\"expires=\"+c.toUTCString();d=\"domain=\"+this.ue;b=this.ye?b:encodeURIComponent(JSON.stringify(b));a=this.Pa(a)+\"=\"+b+\";\"+c+\";\"+d+\";path=/\";if(4093<=a.length)return q.info(\"Storage failure: string is \"+\na.length+\" chars which is too large to store as a cookie.\"),!1;document.cookie=a;return!0};\nGb.prototype.Z=function(a){for(var b=[],c=this.Pa(a)+\"=\",d=document.cookie.split(\";\"),e=0;e<d.length;e++){for(var g=d[e];\" \"===g.charAt(0);)g=g.substring(1);if(0===g.indexOf(c))try{var f=void 0;f=this.ye?g.substring(c.length,g.length):JSON.parse(decodeURIComponent(g.substring(c.length,g.length)));b.push(f)}catch(h){return q.info(\"Storage retrieval failure: \"+h.message),this.remove(a),null}}return 0<b.length?b[b.length-1]:null};Gb.prototype.remove=function(a){Ib(this,this.Pa(a))};\nfunction Ib(a,b){b=b+\"=;expires=\"+(new Date(0)).toGMTString();document.cookie=b;document.cookie=b+\";path=/\";document.cookie=b+\";path=\"+document.location.pathname;a=b+\";domain=\"+a.ue;document.cookie=a;document.cookie=a+\";path=/\";document.cookie=a+\";path=\"+document.location.pathname}function Jb(){this.Zc={};this.se=5242880;this.Ge=3}\nJb.prototype.store=function(a,b){var c={value:b};var d=[];b=[b];for(var e=0;b.length;){var g=b.pop();if(\"boolean\"===typeof g)e+=4;else if(\"string\"===typeof g)e+=2*g.length;else if(\"number\"===typeof g)e+=8;else if(\"object\"===typeof g&&-1===d.indexOf(g)){d.push(g);for(var f in g)b.push(g[f])}}d=e;if(d>this.se)return q.info(\"Storage failure: object is \\u2248\"+d+\" bytes which is greater than the max of \"+this.se),!1;this.Zc[a]=c;return!0};Jb.prototype.Z=function(a){a=this.Zc[a];return null==a?null:a.value};\nJb.prototype.remove=function(a){this.Zc[a]=null};function Kb(a,b,c){this.la=[];b&&this.la.push(new Gb(a));c&&this.la.push(new Fb(a));this.la.push(new Jb)}Kb.prototype.store=function(a,b){for(var c=!0,d=0;d<this.la.length;d++)c=this.la[d].store(a,b)&&c;return c};Kb.prototype.Z=function(a){for(var b=0;b<this.la.length;b++){var c=this.la[b].Z(a);if(null!=c)return c}return null};Kb.prototype.remove=function(a){for(var b=0;b<this.la.length;b++)this.la[b].remove(a)};function Lb(){this.zb={}}function Mb(a,b){if(\"function\"!==typeof b)return null;var c=qa.Gb();a.zb[c]=b;return c}Lb.prototype.N=function(a){delete this.zb[a]};Lb.prototype.K=function(){this.zb={}};function Nb(a,b){var c=[],d;for(d in a.zb)c.push(a.zb[d](b))};var Ob={Eh:function(){return 600>=screen.width},Ch:function(){if(\"orientation\"in window)return 90===Math.abs(window.orientation)||270===window.orientation?Ob.bc.Rd:Ob.bc.Ud;if(\"screen\"in window){var a=window.screen.orientation||screen.Fh||screen.Hh;null!=a&&\"object\"===typeof a&&(a=a.type);if(\"landscape-primary\"===a||\"landscape-secondary\"===a)return Ob.bc.Rd}return Ob.bc.Ud},Eg:function(a,b,c){c||null!=b&&b.metaKey?window.open(a):window.location=a},bc:{Ud:0,Rd:1}};E.WindowUtils=Ob;\nE.WindowUtils.openUri=Ob.Eg;function Pb(a,b,c,d,e,g,f,h,k,m,t,x,z,A,B,C){this.id=a;this.viewed=b||!1;this.title=c||\"\";this.imageUrl=d;this.description=e||\"\";this.created=g||null;this.updated=f||null;this.categories=h||[];this.expiresAt=k||null;this.url=m;this.linkText=t;x=parseFloat(x);this.aspectRatio=isNaN(x)?null:x;this.extras=z;this.pinned=A||!1;this.dismissible=B||!1;this.dismissed=!1;this.clicked=C||!1;this.test=!1;this.Vc=this.X=null}function Qb(a){null==a.X&&(a.X=new Lb);return a.X}\nfunction Rb(a){null==a.Vc&&(a.Vc=new Lb);return a.Vc}n=Pb.prototype;n.Pb=function(a){return Mb(Qb(this),a)};n.Hd=function(a){return Mb(Rb(this),a)};n.N=function(a){Qb(this).N(a);Rb(this).N(a)};n.K=function(){Qb(this).K();Rb(this).K()};n.zd=function(){this.viewed=!0};n.Ya=function(){this.clicked=this.viewed=!0;Nb(Qb(this))};n.yd=function(){return this.dismissible&&!this.dismissed?(this.dismissed=!0,Nb(Rb(this)),!0):!1};\nfunction Sb(a,b){if(null==b||b[S.ua]!==a.id)return!0;if(b[S.Xd])return!1;if(null!=b[S.ca]&&null!=a.updated&&b[S.ca]<Ha(a.updated.valueOf()))return!0;b[S.xa]&&!a.viewed&&(a.viewed=!0);b[S.ra]&&!a.clicked&&(a.clicked=b[S.ra]);null!=b[S.Ma]&&(a.title=b[S.Ma]);null!=b[S.va]&&(a.imageUrl=b[S.va]);null!=b[S.Ka]&&(a.description=b[S.Ka]);if(null!=b[S.ca]){var c=Ia(b[S.ca]);null!=c&&(a.updated=c)}null!=b[S.ba]&&(a.expiresAt=b[S.ba]===Tb?null:Ia(b[S.ba]));null!=b[S.URL]&&(a.url=b[S.URL]);null!=b[S.wa]&&(a.linkText=\nb[S.wa]);null!=b[S.qa]&&(c=parseFloat(b[S.qa]),a.aspectRatio=isNaN(c)?null:c);null!=b[S.ha]&&(a.extras=b[S.ha]);null!=b[S.ka]&&(a.pinned=b[S.ka]);null!=b[S.ta]&&(a.dismissible=b[S.ta]);null!=b[S.V]&&(a.test=b[S.V]);return!0}\nfunction Ub(a){if(a[S.Xd])return null;var b=a[S.ua],c=a[S.TYPE],d=a[S.xa],e=a[S.Ma],g=a[S.va],f=a[S.Ka],h=Ia(a[S.ca]);var k=a[S.ba]===Tb?null:Ia(a[S.ba]);var m=a[S.URL],t=a[S.wa],x=a[S.qa],z=a[S.ha],A=a[S.ka],B=a[S.ta],C=a[S.ra];a=a[S.V]||!1;if(c===Vb.fe||c===Vb.ac)b=new Wb(b,d,e,g,f,null,h,null,k,m,t,x,z,A,B,C);else if(c===Vb.Sb)b=new Xb(b,d,e,g,f,null,h,null,k,m,t,x,z,A,B,C);else if(c===Vb.Rb)b=new Yb(b,d,g,null,h,null,k,m,t,x,z,A,B,C);else if(c===Vb.Ac)b=new Zb(b,d,h,k,z,A);else return q.error(\"Ignoring card with unknown type \"+\nc),null;b.test=a;return b}function $b(a){var b=a[V.ua],c=a[V.TYPE],d=a[V.xa],e=a[V.Ma],g=a[V.va],f=a[V.Ka],h=Ka(a[V.Wb]),k=Ka(a[V.ca]),m=a[V.Tb],t=Ka(a[V.ba]),x=a[V.URL],z=a[V.wa],A=a[V.qa],B=a[V.ha],C=a[V.ka],J=a[V.ta],I=a[V.ra];a=a[V.V]||!1;if(c===Vb.ac)b=new Wb(b,d,e,g,f,h,k,m,t,x,z,A,B,C,J,I);else if(c===Vb.Sb)b=new Xb(b,d,e,g,f,h,k,m,t,x,z,A,B,C,J,I);else if(c===Vb.Rb)b=new Yb(b,d,g,h,k,m,t,x,z,A,B,C,J,I);else if(c===Vb.Ac)b=new Zb(b,d,k,t,B,C);else return;b.test=a;return b}\nn.tg=function(){if(this.dismissible&&!this.dismissed){this.Wf&&this.Wf(this);var a=this.yh;a&&(a.style.height=a.offsetHeight+\"px\",a.className+=\" ab-hide\",setTimeout(function(){a&&a.parentNode&&(a.style.height=\"0\",a.style.margin=\"0\",setTimeout(function(){a&&a.parentNode&&a.parentNode.removeChild(a)},ac))},bc))}};\nvar Tb=-1,Vb={Sb:\"captioned_image\",fe:\"text_announcement\",ac:\"short_news\",Rb:\"banner_image\",Ac:\"control\"},S={ua:\"id\",xa:\"v\",ta:\"db\",Xd:\"r\",ca:\"ca\",ka:\"p\",ba:\"ea\",ha:\"e\",TYPE:\"tp\",va:\"i\",Ma:\"tt\",Ka:\"ds\",URL:\"u\",wa:\"dm\",qa:\"ar\",ra:\"cl\",V:\"t\"},V={ua:\"id\",xa:\"v\",ta:\"db\",Wb:\"cr\",ca:\"ca\",ka:\"p\",Tb:\"t\",ba:\"ea\",ha:\"e\",TYPE:\"tp\",va:\"i\",Ma:\"tt\",Ka:\"ds\",URL:\"u\",wa:\"dm\",qa:\"ar\",ra:\"cl\",V:\"s\"},ac=400;E.Card=Pb;E.Card.fromContentCardsJson=Ub;E.Card.prototype.dismissCard=Pb.prototype.tg;\nE.Card.prototype.subscribeToClickedEvent=Pb.prototype.Pb;E.Card.prototype.subscribeToDismissedEvent=Pb.prototype.Hd;E.Card.prototype.removeSubscription=Pb.prototype.N;E.Card.prototype.removeAllSubscriptions=Pb.prototype.K;function Yb(a,b,c,d,e,g,f,h,k,m,t,x,z,A){Pb.call(this,a,b,null,c,null,d,e,g,f,h,k,m,t,x,z,A)}oa(Yb,Pb);Yb.prototype.A=function(){var a={};a[V.TYPE]=Vb.Rb;a[V.ua]=this.id;a[V.xa]=this.viewed;a[V.va]=this.imageUrl;a[V.ca]=this.updated;a[V.Wb]=this.created;a[V.Tb]=this.categories;a[V.ba]=this.expiresAt;a[V.URL]=this.url;a[V.wa]=this.linkText;a[V.qa]=this.aspectRatio;a[V.ha]=this.extras;a[V.ka]=this.pinned;a[V.ta]=this.dismissible;a[V.ra]=this.clicked;a[V.V]=this.test;return a};E.Banner=Yb;function Xb(a,b,c,d,e,g,f,h,k,m,t,x,z,A,B,C){Pb.call(this,a,b,c,d,e,g,f,h,k,m,t,x,z,A,B,C)}oa(Xb,Pb);\nXb.prototype.A=function(){var a={};a[V.TYPE]=Vb.Sb;a[V.ua]=this.id;a[V.xa]=this.viewed;a[V.Ma]=this.title;a[V.va]=this.imageUrl;a[V.Ka]=this.description;a[V.ca]=this.updated;a[V.Wb]=this.created;a[V.Tb]=this.categories;a[V.ba]=this.expiresAt;a[V.URL]=this.url;a[V.wa]=this.linkText;a[V.qa]=this.aspectRatio;a[V.ha]=this.extras;a[V.ka]=this.pinned;a[V.ta]=this.dismissible;a[V.ra]=this.clicked;a[V.V]=this.test;return a};E.CaptionedImage=Xb;function Wb(a,b,c,d,e,g,f,h,k,m,t,x,z,A,B,C){Pb.call(this,a,b,c,d,e,g,f,h,k,m,t,x,z,A,B,C)}oa(Wb,Pb);\nWb.prototype.A=function(){var a={};a[V.TYPE]=Vb.ac;a[V.ua]=this.id;a[V.xa]=this.viewed;a[V.Ma]=this.title;a[V.va]=this.imageUrl;a[V.Ka]=this.description;a[V.ca]=this.updated;a[V.Wb]=this.created;a[V.Tb]=this.categories;a[V.ba]=this.expiresAt;a[V.URL]=this.url;a[V.wa]=this.linkText;a[V.qa]=this.aspectRatio;a[V.ha]=this.extras;a[V.ka]=this.pinned;a[V.ta]=this.dismissible;a[V.ra]=this.clicked;a[V.V]=this.test;return a};E.ClassicCard=Wb;function Zb(a,b,c,d,e,g){Pb.call(this,a,b,null,null,null,null,c,null,d,null,null,null,e,g,null)}oa(Zb,Pb);Zb.prototype.A=function(){var a={};a[V.TYPE]=Vb.Ac;a[V.ua]=this.id;a[V.xa]=this.viewed;a[V.ca]=this.updated;a[V.ba]=this.expiresAt;a[V.ha]=this.extras;a[V.ka]=this.pinned;a[V.V]=this.test;return a};E.ControlCard=Zb;function cc(a,b,c,d,e,g,f,h,k,m,t,x,z,A,B,C,J,I,K,T,G,ea,X,R,Z,O,l,p,r,v,H){this.message=a;this.messageAlignment=b||dc;this.duration=x||5E3;this.slideFrom=c||ec;this.extras=d||{};this.campaignId=e;this.cardId=g;this.triggerId=f;this.clickAction=h||fc;this.uri=k;this.openTarget=m||gc;this.dismissType=t||hc;this.icon=z;this.imageUrl=A;this.imageStyle=B||ic;this.iconColor=C||jc.Uc;this.iconBackgroundColor=J||jc.Kd;this.backgroundColor=I||jc.Uc;this.textColor=K||jc.Md;this.closeButtonColor=T||jc.kf;this.animateIn=\nG;null==this.animateIn&&(this.animateIn=!0);this.animateOut=ea;null==this.animateOut&&(this.animateOut=!0);this.header=X;this.headerAlignment=R||dc;this.headerTextColor=Z||jc.Md;this.frameColor=O||jc.Kf;this.buttons=l||[];this.cropType=p||kc;this.orientation=r;this.htmlId=v;this.css=H;this.oe=this.Oa=this.pe=!1;this.X=new Lb;this.fc=new Lb}n=cc.prototype;n.Je=function(){return!0};\nfunction lc(a){if(null!=a.htmlId&&4<a.htmlId.length&&null!=a.htmlId&&4<a.htmlId.length&&null!=a.css&&0<a.css.length)return a.htmlId+\"-css\"}n.Pb=function(a){return Mb(this.X,a)};n.Hd=function(a){return Mb(this.fc,a)};n.N=function(a){this.X.N(a);this.fc.N(a)};n.K=function(){this.X.K();this.fc.K()};n.zd=function(){return this.pe?!1:this.pe=!0};n.Ya=function(){return this.Oa?!1:(this.Oa=!0,Nb(this.X),!0)};n.yd=function(){return this.oe?!1:(this.oe=!0,Nb(this.fc),!0)};\nfunction mc(a){if(a.is_control)return new nc(a.trigger_id);var b=a.type;null!=b&&(b=b.toUpperCase());var c=a.message,d=a.text_align_message,e=a.slide_from,g=a.extras,f=a.campaign_id,h=a.card_id,k=a.trigger_id,m=a.click_action,t=a.uri,x=a.open_target,z=a.message_close,A=a.duration,B=a.icon,C=a.image_url,J=a.image_style,I=a.icon_color,K=a.icon_bg_color,T=a.bg_color,G=a.text_color,ea=a.close_btn_color,X=a.header,R=a.text_align_header,Z=a.header_text_color,O=a.frame_color,l=[],p=a.btns;null==p&&(p=[]);\nfor(var r=0;r<p.length;r++){var v=p[r];l.push(new oc(v.text,v.bg_color,v.text_color,v.border_color,v.click_action,v.uri,v.id))}p=a.crop_type;r=a.orientation;v=a.animate_in;var H=a.animate_out,L=a.html_id,U=a.css;if(null==L||\"\"===L||null==U||\"\"===U)U=L=void 0;if(b===pc||b===qc)c=new rc(c,d,g,f,h,k,m,t,x,z,A,B,C,J,I,K,T,G,ea,v,H,X,R,Z,O,l,p,L,U);else if(b===sc)c=new tc(c,d,g,f,h,k,m,t,x,z,A,B,C,J,I,K,T,G,ea,v,H,X,R,Z,O,l,p,r,L,U);else if(b===uc)c=new vc(c,d,e,g,f,h,k,m,t,x,z,A,B,C,I,K,T,G,ea,v,H,L,\nU);else if(b===wc||b===xc)c=new yc(c,g,f,h,k,z,A,v,H,O,L,U,a.message_fields),c.Mh=a.trusted||!1;else{q.error(\"Ignoring message with unknown type \"+b);return}c.Mg=b;return c}function zc(a,b){if(b&&b.parentNode){var c=b.closest(\".ab-iam-root\");null==c&&(c=b);a.Je()&&null!=c.parentNode&&((b=c.parentNode.classList)&&b.contains(Ac)&&b.remove(Ac),document.body.removeEventListener(\"touchmove\",Bc));c.className=c.className.replace(Cc,Dc)}return a.animateOut}\nfunction Ec(a,b){if(null!=b){a.Xf=null;var c=-1===b.className.indexOf(\"ab-in-app-message\")?b.getElementsByClassName(\"ab-in-app-message\")[0]:b;var d=!1;c&&(d=zc(a,c));var e=document.body;if(null!=e)var g=e.scrollTop;c=function(){if(b&&b.parentNode){var f=b.closest(\".ab-iam-root\");null==f&&(f=b);f.parentNode&&f.parentNode.removeChild(f)}null!=lc(a)&&(f=document.getElementById(lc(a)))&&f.parentNode&&f.parentNode.removeChild(f);null!=e&&\"Safari\"===vb.hb&&(e.scrollTop=g);a.yd()};d?setTimeout(c,Fc):c();\na.Zf&&a.Zf.focus()}}n.rg=function(){Ec(this,this.Xf)};function Bc(a){a.targetTouches&&1<a.targetTouches.length||a.target.classList&&a.target.classList.contains(\"ab-message-text\")&&a.target.scrollHeight>a.target.clientHeight||document.querySelector(\".\"+Ac)&&a.preventDefault()}\nvar jc={Md:4281545523,Uc:4294967295,Kd:4278219733,lf:4293914607,mf:4283782485,Kf:3224580915,kf:4288387995},Gc={ph:\"hd\",lh:\"ias\",vh:\"of\",nf:\"do\",ub:\"umt\",sb:\"tf\",Od:\"te\"},ec=\"BOTTOM\",Hc={TOP:\"TOP\",BOTTOM:ec},fc=\"NONE\",Ic={NEWS_FEED:\"NEWS_FEED\",URI:\"URI\",NONE:fc},hc=\"AUTO_DISMISS\",Jc={AUTO_DISMISS:hc,MANUAL:\"SWIPE\"},gc=\"NONE\",Kc={NONE:gc,BLANK:\"BLANK\"},ic=\"TOP\",Lc={TOP:ic,GRAPHIC:\"GRAPHIC\"},dc=\"CENTER\",Mc={START:\"START\",CENTER:dc,END:\"END\"},kc=\"FIT_CENTER\",Nc={CENTER_CROP:\"CENTER_CROP\",FIT_CENTER:kc},\nuc=\"SLIDEUP\",pc=\"MODAL\",qc=\"MODAL_STYLED\",sc=\"FULL\",wc=\"WEB_HTML\",xc=\"HTML\",Fc=500,Cc=\"ab-show\",Dc=\"ab-hide\",Ac=\"ab-pause-scrolling\";E.InAppMessage=cc;E.InAppMessage.SlideFrom=Hc;E.InAppMessage.ClickAction=Ic;E.InAppMessage.DismissType=Jc;E.InAppMessage.OpenTarget=Kc;E.InAppMessage.ImageStyle=Lc;E.InAppMessage.TextAlignment=Mc;E.InAppMessage.Orientation={PORTRAIT:\"PORTRAIT\",LANDSCAPE:\"LANDSCAPE\"};E.InAppMessage.CropType=Nc;E.InAppMessage.fromJson=mc;\nE.InAppMessage.prototype.subscribeToClickedEvent=cc.prototype.Pb;E.InAppMessage.prototype.subscribeToDismissedEvent=cc.prototype.Hd;E.InAppMessage.prototype.removeSubscription=cc.prototype.N;E.InAppMessage.prototype.removeAllSubscriptions=cc.prototype.K;E.InAppMessage.prototype.closeMessage=cc.prototype.rg;function oc(a,b,c,d,e,g,f){this.text=a||\"\";this.backgroundColor=b||jc.Kd;this.textColor=c||jc.Uc;this.borderColor=d||this.backgroundColor;this.clickAction=e||fc;this.uri=g;null==f&&(f=Oc);this.id=f;this.Oa=!1;this.X=new Lb}oc.prototype.Pb=function(a){return Mb(this.X,a)};oc.prototype.N=function(a){this.X.N(a)};oc.prototype.K=function(){this.X.K()};oc.prototype.Ya=function(){return this.Oa?!1:(this.Oa=!0,Nb(this.X),!0)};var Oc=-1;E.InAppMessageButton=oc;\nE.InAppMessageButton.prototype.subscribeToClickedEvent=oc.prototype.Pb;E.InAppMessageButton.prototype.removeSubscription=oc.prototype.N;E.InAppMessageButton.prototype.removeAllSubscriptions=oc.prototype.K;function nc(a){this.triggerId=a}E.ControlMessage=nc;function tc(a,b,c,d,e,g,f,h,k,m,t,x,z,A,B,C,J,I,K,T,G,ea,X,R,Z,O,l,p,r,v){cc.call(this,a,b,null,c,d,e,g,f,h,k,m||\"SWIPE\",t,x,z,A,B,C,J,I,K,T,G,ea,X,R,Z,O,l||\"CENTER_CROP\",p||\"PORTRAIT\",r,v)}oa(tc,cc);E.FullScreenMessage=tc;function yc(a,b,c,d,e,g,f,h,k,m,t,x,z){null!=a&&0<a.length&&0<a.indexOf('\"ab-in-app-message ab-html-message ab-email-capture\"')&&0<a.indexOf('\"ab-in-app-message ab-show ab-modal ab-effect-modal\"')&&(k=h=!0);cc.call(this,a,null,null,b,c,d,e,null,null,null,g||\"SWIPE\",f,null,null,null,null,null,null,null,null,h,k,null,null,null,m,void 0,void 0,void 0,t,x);this.messageFields=z}oa(yc,cc);yc.prototype.Ya=function(a){if(this.Mg===wc){if(this.Oa)return!1;this.Oa=!0}Nb(this.X,a);return!0};E.HtmlMessage=yc;function rc(a,b,c,d,e,g,f,h,k,m,t,x,z,A,B,C,J,I,K,T,G,ea,X,R,Z,O,l,p,r){l=l||kc;cc.call(this,a,b,null,c,d,e,g,f,h,k,m||\"SWIPE\",t,x,z,A,B,C,J,I,K,T,G,ea,X,R,Z,O,l,void 0,p,r)}oa(rc,cc);E.ModalMessage=rc;function vc(a,b,c,d,e,g,f,h,k,m,t,x,z,A,B,C,J,I,K,T,G,ea,X){I=I||jc.mf;J=J||jc.lf;cc.call(this,a,b||\"START\",c,d,e,g,f,h,k,m,t,x,z,A,null,B,C,J,I,K,T,G,void 0,void 0,void 0,void 0,void 0,void 0,void 0,ea,X)}oa(vc,cc);vc.prototype.Je=function(){return!1};E.SlideUpMessage=vc;function Pc(a,b){Qc={en:{NO_CARDS_MESSAGE:\"We have no updates for you at this time.<br/>Please check again later.\",FEED_TIMEOUT_MESSAGE:\"Sorry, this refresh timed out.<br/>Please try again later.\"},ar:{NO_CARDS_MESSAGE:\"\\u0644\\u064a\\u0633 \\u0644\\u062f\\u064a\\u0646\\u0627 \\u0623\\u064a \\u062a\\u062d\\u062f\\u064a\\u062b. \\u064a\\u0631\\u062c\\u0649 \\u0627\\u0644\\u062a\\u062d\\u0642\\u0642 \\u0645\\u0631\\u0629 \\u0623\\u062e\\u0631\\u0649 \\u0644\\u0627\\u062d\\u0642\\u0627\\u064b\",FEED_TIMEOUT_MESSAGE:\"\\u064a\\u0631\\u062c\\u0649 \\u062a\\u0643\\u0631\\u0627\\u0631 \\u0627\\u0644\\u0645\\u062d\\u0627\\u0648\\u0644\\u0629 \\u0644\\u0627\\u062d\\u0642\\u0627\"},\ncs:{NO_CARDS_MESSAGE:\"V tuto chv\\u00edli pro v\\u00e1s nem\\u00e1me \\u017e\\u00e1dn\\u00e9 aktualizace.<br/>Zkontrolujte pros\\u00edm znovu pozd\\u011bji.\",FEED_TIMEOUT_MESSAGE:\"Pros\\u00edm zkuste to znovu pozd\\u011bji.\"},da:{NO_CARDS_MESSAGE:\"Vi har ingen updates.<br/>Pr\\u00f8v venligst senere.\",FEED_TIMEOUT_MESSAGE:\"Pr\\u00f8v venligst senere.\"},de:{NO_CARDS_MESSAGE:\"Derzeit sind keine Updates verf\\u00fcgbar.<br/>Bitte sp\\u00e4ter noch einmal versuchen.\",FEED_TIMEOUT_MESSAGE:\"Bitte sp\\u00e4ter noch einmal versuchen.\"},\nes:{NO_CARDS_MESSAGE:\"No tenemos actualizaciones.<br/>Por favor compru\\u00e9belo m\\u00e1s tarde.\",FEED_TIMEOUT_MESSAGE:\"Por favor int\\u00e9ntelo m\\u00e1s tarde.\"},\"es-mx\":{NO_CARDS_MESSAGE:\"No tenemos ninguna actualizaci\\u00f3n.<br/>Vuelva a verificar m\\u00e1s tarde.\",FEED_TIMEOUT_MESSAGE:\"Por favor, vuelva a intentarlo m\\u00e1s tarde.\"},et:{NO_CARDS_MESSAGE:\"Uuendusi pole praegu saadaval.<br/>Proovige hiljem uuesti.\",FEED_TIMEOUT_MESSAGE:\"Palun proovige hiljem uuesti.\"},fi:{NO_CARDS_MESSAGE:\"P\\u00e4ivityksi\\u00e4 ei ole saatavilla.<br/>Tarkista my\\u00f6hemmin uudelleen.\",\nFEED_TIMEOUT_MESSAGE:\"Yrit\\u00e4 my\\u00f6hemmin uudelleen.\"},fr:{NO_CARDS_MESSAGE:\"Aucune mise \\u00e0 jour disponible.<br/>Veuillez v\\u00e9rifier ult\\u00e9rieurement.\",FEED_TIMEOUT_MESSAGE:\"Veuillez r\\u00e9essayer ult\\u00e9rieurement.\"},he:{NO_CARDS_MESSAGE:\".\\u05d0\\u05d9\\u05df \\u05dc\\u05e0\\u05d5 \\u05e2\\u05d3\\u05db\\u05d5\\u05e0\\u05d9\\u05dd. \\u05d1\\u05d1\\u05e7\\u05e9\\u05d4 \\u05d1\\u05d3\\u05d5\\u05e7 \\u05e9\\u05d5\\u05d1 \\u05d1\\u05e7\\u05e8\\u05d5\\u05d1\",FEED_TIMEOUT_MESSAGE:\".\\u05d1\\u05d1\\u05e7\\u05e9\\u05d4 \\u05e0\\u05e1\\u05d4 \\u05e9\\u05d5\\u05d1 \\u05d1\\u05e7\\u05e8\\u05d5\\u05d1\"},\nhi:{NO_CARDS_MESSAGE:\"\\u0939\\u092e\\u093e\\u0930\\u0947 \\u092a\\u093e\\u0938 \\u0915\\u094b\\u0908 \\u0905\\u092a\\u0921\\u0947\\u091f \\u0928\\u0939\\u0940\\u0902 \\u0939\\u0948\\u0902\\u0964 \\u0915\\u0943\\u092a\\u092f\\u093e \\u092c\\u093e\\u0926 \\u092e\\u0947\\u0902 \\u092b\\u093f\\u0930 \\u0938\\u0947 \\u091c\\u093e\\u0901\\u091a \\u0915\\u0930\\u0947\\u0902.\\u0964\",FEED_TIMEOUT_MESSAGE:\"\\u0915\\u0943\\u092a\\u092f\\u093e \\u092c\\u093e\\u0926 \\u092e\\u0947\\u0902 \\u0926\\u094b\\u092c\\u093e\\u0930\\u093e \\u092a\\u094d\\u0930\\u092f\\u093e\\u0938 \\u0915\\u0930\\u0947\\u0902\\u0964.\"},\nid:{NO_CARDS_MESSAGE:\"Kami tidak memiliki pembaruan. Coba lagi nanti.\",FEED_TIMEOUT_MESSAGE:\"Coba lagi nanti.\"},it:{NO_CARDS_MESSAGE:\"Non ci sono aggiornamenti.<br/>Ricontrollare pi\\u00f9 tardi.\",FEED_TIMEOUT_MESSAGE:\"Riprovare pi\\u00f9 tardi.\"},ja:{NO_CARDS_MESSAGE:\"\\u30a2\\u30c3\\u30d7\\u30c7\\u30fc\\u30c8\\u306f\\u3042\\u308a\\u307e\\u305b\\u3093\\u3002<br/>\\u5f8c\\u3067\\u3082\\u3046\\u4e00\\u5ea6\\u78ba\\u8a8d\\u3057\\u3066\\u304f\\u3060\\u3055\\u3044\\u3002\",FEED_TIMEOUT_MESSAGE:\"\\u5f8c\\u3067\\u3082\\u3046\\u4e00\\u5ea6\\u8a66\\u3057\\u3066\\u304f\\u3060\\u3055\\u3044\\u3002\"},\nko:{NO_CARDS_MESSAGE:\"\\uc5c5\\ub370\\uc774\\ud2b8\\uac00 \\uc5c6\\uc2b5\\ub2c8\\ub2e4. \\ub2e4\\uc74c\\uc5d0 \\ub2e4\\uc2dc \\ud655\\uc778\\ud574 \\uc8fc\\uc2ed\\uc2dc\\uc624.\",FEED_TIMEOUT_MESSAGE:\"\\ub098\\uc911\\uc5d0 \\ub2e4\\uc2dc \\uc2dc\\ub3c4\\ud574 \\uc8fc\\uc2ed\\uc2dc\\uc624.\"},ms:{NO_CARDS_MESSAGE:\"Tiada kemas kini. Sila periksa kemudian.\",FEED_TIMEOUT_MESSAGE:\"Sila cuba kemudian.\"},nl:{NO_CARDS_MESSAGE:\"Er zijn geen updates.<br/>Probeer het later opnieuw.\",FEED_TIMEOUT_MESSAGE:\"Probeer het later opnieuw.\"},no:{NO_CARDS_MESSAGE:\"Vi har ingen oppdateringer.<br/>Vennligst sjekk igjen senere.\",\nFEED_TIMEOUT_MESSAGE:\"Vennligst pr\\u00f8v igjen senere.\"},pl:{NO_CARDS_MESSAGE:\"Brak aktualizacji.<br/>Prosz\\u0119 sprawdzi\\u0107 ponownie p\\u00f3\\u017aniej.\",FEED_TIMEOUT_MESSAGE:\"Prosz\\u0119 spr\\u00f3bowa\\u0107 ponownie p\\u00f3\\u017aniej.\"},pt:{NO_CARDS_MESSAGE:\"N\\u00e3o temos atualiza\\u00e7\\u00f5es.<br/>Por favor, verifique mais tarde.\",FEED_TIMEOUT_MESSAGE:\"Por favor, tente mais tarde.\"},\"pt-br\":{NO_CARDS_MESSAGE:\"N\\u00e3o temos nenhuma atualiza\\u00e7\\u00e3o.<br/>Verifique novamente mais tarde.\",\nFEED_TIMEOUT_MESSAGE:\"Tente novamente mais tarde.\"},ru:{NO_CARDS_MESSAGE:\"\\u041e\\u0431\\u043d\\u043e\\u0432\\u043b\\u0435\\u043d\\u0438\\u044f \\u043d\\u0435\\u0434\\u043e\\u0441\\u0442\\u0443\\u043f\\u043d\\u044b.<br/>\\u041f\\u043e\\u0436\\u0430\\u043b\\u0443\\u0439\\u0441\\u0442\\u0430, \\u043f\\u0440\\u043e\\u0432\\u0435\\u0440\\u044c\\u0442\\u0435 \\u0441\\u043d\\u043e\\u0432\\u0430 \\u043f\\u043e\\u0437\\u0436\\u0435.\",FEED_TIMEOUT_MESSAGE:\"\\u041f\\u043e\\u0436\\u0430\\u043b\\u0443\\u0439\\u0441\\u0442\\u0430, \\u043f\\u043e\\u0432\\u0442\\u043e\\u0440\\u0438\\u0442\\u0435 \\u043f\\u043e\\u043f\\u044b\\u0442\\u043a\\u0443 \\u043f\\u043e\\u0437\\u0436\\u0435.\"},\nsv:{NO_CARDS_MESSAGE:\"Det finns inga uppdateringar.<br/>F\\u00f6rs\\u00f6k igen senare.\",FEED_TIMEOUT_MESSAGE:\"F\\u00f6rs\\u00f6k igen senare.\"},th:{NO_CARDS_MESSAGE:\"\\u0e40\\u0e23\\u0e32\\u0e44\\u0e21\\u0e48\\u0e21\\u0e35\\u0e01\\u0e32\\u0e23\\u0e2d\\u0e31\\u0e1e\\u0e40\\u0e14\\u0e15 \\u0e01\\u0e23\\u0e38\\u0e13\\u0e32\\u0e15\\u0e23\\u0e27\\u0e08\\u0e2a\\u0e2d\\u0e1a\\u0e20\\u0e32\\u0e22\\u0e2b\\u0e25\\u0e31\\u0e07.\",FEED_TIMEOUT_MESSAGE:\"\\u0e01\\u0e23\\u0e38\\u0e13\\u0e32\\u0e25\\u0e2d\\u0e07\\u0e43\\u0e2b\\u0e21\\u0e48\\u0e20\\u0e32\\u0e22\\u0e2b\\u0e25\\u0e31\\u0e07.\"},\nuk:{NO_CARDS_MESSAGE:\"\\u041e\\u043d\\u043e\\u0432\\u043b\\u0435\\u043d\\u043d\\u044f \\u043d\\u0435\\u0434\\u043e\\u0441\\u0442\\u0443\\u043f\\u043d\\u0456.<br/>\\u043b\\u0430\\u0441\\u043a\\u0430, \\u043f\\u0435\\u0440\\u0435\\u0432\\u0456\\u0440\\u0442\\u0435 \\u0437\\u043d\\u043e\\u0432\\u0443 \\u043f\\u0456\\u0437\\u043d\\u0456\\u0448\\u0435.\",FEED_TIMEOUT_MESSAGE:\"\\u0411\\u0443\\u0434\\u044c \\u043b\\u0430\\u0441\\u043a\\u0430, \\u0441\\u043f\\u0440\\u043e\\u0431\\u0443\\u0439\\u0442\\u0435 \\u0449\\u0435 \\u0440\\u0430\\u0437 \\u043f\\u0456\\u0437\\u043d\\u0456\\u0448\\u0435.\"},\nvi:{NO_CARDS_MESSAGE:\"Ch\\u00fang t\\u00f4i kh\\u00f4ng c\\u00f3 c\\u1eadp nh\\u1eadt n\\u00e0o.<br/>Vui l\\u00f2ng ki\\u1ec3m tra l\\u1ea1i sau.\",FEED_TIMEOUT_MESSAGE:\"Vui l\\u00f2ng th\\u1eed l\\u1ea1i sau.\"},\"zh-hk\":{NO_CARDS_MESSAGE:\"\\u66ab\\u6642\\u6c92\\u6709\\u66f4\\u65b0.<br/>\\u8acb\\u7a0d\\u5019\\u518d\\u8a66.\",FEED_TIMEOUT_MESSAGE:\"\\u8acb\\u7a0d\\u5019\\u518d\\u8a66.\"},\"zh-hans\":{NO_CARDS_MESSAGE:\"\\u6682\\u65f6\\u6ca1\\u6709\\u66f4\\u65b0.<br/>\\u8bf7\\u7a0d\\u540e\\u518d\\u8bd5.\",FEED_TIMEOUT_MESSAGE:\"\\u8bf7\\u7a0d\\u5019\\u518d\\u8bd5.\"},\n\"zh-hant\":{NO_CARDS_MESSAGE:\"\\u66ab\\u6642\\u6c92\\u6709\\u66f4\\u65b0.<br/>\\u8acb\\u7a0d\\u5019\\u518d\\u8a66.\",FEED_TIMEOUT_MESSAGE:\"\\u8acb\\u7a0d\\u5019\\u518d\\u8a66.\"},\"zh-tw\":{NO_CARDS_MESSAGE:\"\\u66ab\\u6642\\u6c92\\u6709\\u66f4\\u65b0.<br/>\\u8acb\\u7a0d\\u5019\\u518d\\u8a66.\",FEED_TIMEOUT_MESSAGE:\"\\u8acb\\u7a0d\\u5019\\u518d\\u8a66.\"},zh:{NO_CARDS_MESSAGE:\"\\u6682\\u65f6\\u6ca1\\u6709\\u66f4\\u65b0.<br/>\\u8bf7\\u7a0d\\u540e\\u518d\\u8bd5.\",FEED_TIMEOUT_MESSAGE:\"\\u8bf7\\u7a0d\\u5019\\u518d\\u8bd5.\"}};null!=a&&(a=a.toLowerCase());\nif(null!=a&&null==Qc[a]){var c=a.indexOf(\"-\");0<c&&(a=a.substring(0,c))}null==Qc[a]&&(a=\"Braze does not yet have a localization for language \"+a+\", defaulting to English. Please contact us if you are willing and able to help us translate our SDK into this language.\",b?q.error(a):q.info(a))}var Qc;function Rc(a,b){this.cards=a;this.lastUpdated=b}Rc.prototype.Ie=function(){for(var a=0,b=0;b<this.cards.length;b++)this.cards[b].viewed||this.cards[b]instanceof Zb||a++;return a};Rc.prototype.Va=function(a,b){a.Va(b)};Rc.prototype.Ua=function(a,b){a.Ua(b)};var bc=500;E.Feed=Rc;E.Feed.prototype.getUnreadCardCount=Rc.prototype.Ie;function Sc(a,b){Rc.call(this,a,b)}oa(Sc,Rc);Sc.prototype.yg=function(){return Rc.prototype.Ie.call(this)};Sc.prototype.Va=function(a,b){a.Va(b,!0)};Sc.prototype.Ua=function(a,b){a.Ua(b,!0)};E.ContentCards=Sc;E.ContentCards.prototype.getUnviewedCardCount=Sc.prototype.yg;function Za(){this.h=!1;this.j=[]};function Tc(a){this.Ta=a}Tc.prototype.ea=function(a){return null==this.Ta||this.Ta===a[0]};Tc.prototype.A=function(){return this.Ta};function Uc(a,b,c,d){this.Le=a;this.vc=b;this.ib=c;this.I=d;this.vc===Vc&&this.ib!==Wc&&this.ib!==Xc&&this.ib!==Yc&&this.ib!==Zc&&(this.I=Ia(this.I))}\nUc.prototype.ea=function(a){var b=null;null!=a&&(b=a[this.Le]);switch(this.ib){case $c:return null!=b&&b.valueOf()===this.I.valueOf();case ad:return null==b||b.valueOf()!==this.I.valueOf();case bd:return typeof b===typeof this.I&&b>this.I;case Wc:return this.vc===Vc?null!=b&&Da(b)&&((new Date).valueOf()-b.valueOf())/1E3<=this.I:typeof b===typeof this.I&&b>=this.I;case cd:return typeof b===typeof this.I&&b<this.I;case Xc:return this.vc===Vc?null!=b&&Da(b)&&((new Date).valueOf()-b.valueOf())/1E3>=this.I:\ntypeof b===typeof this.I&&b<=this.I;case dd:return null!=b&&\"string\"===typeof b&&typeof b===typeof this.I&&null!=b.match(this.I);case ed:return null!=b;case fd:return null==b;case Yc:return null!=b&&Da(b)&&(b.valueOf()-(new Date).valueOf())/1E3<this.I;case Zc:return null!=b&&Da(b)&&(b.valueOf()-(new Date).valueOf())/1E3>this.I;case gd:return null==b||typeof b!==typeof this.I||\"string\"!==typeof b||null==b.match(this.I)}return!1};\nUc.prototype.A=function(){var a=this.I;Da(this.I)&&(a=Ha(a.valueOf()));return{k:this.Le,t:this.vc,c:this.ib,v:a}};var $c=1,ad=2,bd=3,Wc=4,cd=5,Xc=6,dd=10,ed=11,fd=12,Yc=15,Zc=16,gd=17,Vc=\"date\";function hd(a){this.filters=a}hd.prototype.ea=function(a){for(var b=!0,c=0;c<this.filters.length;c++){for(var d=this.filters[c],e=!1,g=0;g<d.length;g++)if(d[g].ea(a)){e=!0;break}if(!e){b=!1;break}}return b};function id(a){if(null==a||!Ca(a))return null;for(var b=[],c=0;c<a.length;c++){for(var d=[],e=a[c],g=0;g<e.length;g++){var f=e[g];d.push(new Uc(f.property_key,f.property_type,f.comparator,f.property_value))}b.push(d)}return new hd(b)}\nhd.prototype.A=function(){for(var a=[],b=0;b<this.filters.length;b++){for(var c=this.filters[b],d=[],e=0;e<c.length;e++)d.push(c[e].A());a.push(d)}return a};function jd(a){for(var b=[],c=0;c<a.length;c++){for(var d=[],e=a[c],g=0;g<e.length;g++){var f=e[g];d.push(new Uc(f.k,f.t,f.c,f.v))}b.push(d)}return new hd(b)};function kd(a,b){this.Ta=a;this.Xa=b}kd.prototype.ea=function(a){if(null==this.Ta||null==this.Xa)return!1;var b=a[1];return a[0]===this.Ta&&this.Xa.ea(b)};kd.prototype.A=function(){return{e:this.Ta,pf:this.Xa.A()}};function ld(a,b){this.Qa=a;this.Ab=b}ld.prototype.ea=function(a){if(null==this.Qa)return!1;var b=md(a[0],this.Qa);if(!b)return!1;var c=null==this.Ab||0===this.Ab.length;if(null!=this.Ab)for(var d=0;d<this.Ab.length;d++)if(this.Ab[d]===a[1]){c=!0;break}return b&&c};ld.prototype.A=function(){return this.Qa};function nd(a){this.Wa=a}nd.prototype.ea=function(a){return null==this.Wa||a[0]===this.Wa};nd.prototype.A=function(){return this.Wa};function od(a,b){this.Wa=a;this.Xa=b}od.prototype.ea=function(a){if(null==this.Wa||null==this.Xa)return!1;var b=a[1];return a[0]===this.Wa&&this.Xa.ea(b)};od.prototype.A=function(){return{id:this.Wa,pf:this.Xa.A()}};function pd(a){this.Qa=a}pd.prototype.ea=function(a){return null==this.Qa?!0:md(a[0],this.Qa)};pd.prototype.A=function(){return this.Qa};var qd={OPEN:\"open\",Oc:\"purchase\",Vd:\"push_click\",Bc:\"custom_event\",Yb:\"iam_click\",V:\"test\"};function rd(a,b){this.type=a;this.data=b}function sd(a,b,c){return td[a.type]===b&&(null==a.data||a.data.ea(c))}function md(a,b){var c=null;try{c=window.atob(a)}catch(d){return q.info(\"Failed to unencode analytics id \"+a+\": \"+d.message),!1}return b===c.split(\"_\")[0]}\nfunction ud(a){var b=a.type;switch(b){case vd:var c=null;break;case wd:a=a.data;c=new nd(a?a.product_id:null);break;case xd:a=a.data;c=new od(a?a.product_id:null,a?id(a.property_filters):null);break;case yd:a=a.data;c=new pd(a?a.campaign_id:null);break;case zd:a=a.data;c=new Tc(a?a.event_name:null);break;case Ad:a=a.data;c=new kd(a?a.event_name:null,a?id(a.property_filters):null);break;case Bd:a=a.data;c=new ld(a?a.id:null,a?a.buttons:null);break;case Cd:c=null}return new rd(b,c)}\nrd.prototype.A=function(){return{t:this.type,d:this.data?this.data.A():null}};function Dd(a){switch(a.t){case vd:var b=null;break;case wd:b=new nd(a.d);break;case xd:b=a.d||{};b=new od(b.id,jd(b.pf||[]));break;case yd:b=new pd(a.d);break;case zd:b=new Tc(a.d);break;case Ad:b=a.d||{};b=new kd(b.e,jd(b.pf||[]));break;case Bd:b=new ld(a.d);break;case Cd:b=null}return new rd(a.t,b)}\nvar vd=\"open\",wd=\"purchase\",xd=\"purchase_property\",yd=\"push_click\",zd=\"custom_event\",Ad=\"custom_event_property\",Bd=\"iam_click\",Cd=\"test\",td={};td[vd]=qd.OPEN;td[wd]=qd.Oc;td[xd]=qd.Oc;td[yd]=qd.Vd;td[zd]=qd.Bc;td[Ad]=qd.Bc;td[Bd]=qd.Yb;td[Cd]=qd.V;function Ed(a,b,c,d,e,g,f,h,k,m,t,x){this.id=a;this.jb=b||[];void 0===c&&(c=null);this.startTime=c;void 0===d&&(d=null);this.endTime=d;this.priority=e||0;this.type=g;this.Sa=h||0;null==m&&(m=1E3*(this.Sa+30));this.Ha=m;this.data=f;null==k&&(k=Fd);this.Lb=k;this.Ke=t;this.Aa=x||null}\nfunction Gd(a,b){var c=(new Date).valueOf()-b;(b=null==b||isNaN(c)||null==a.Ha||c<a.Ha)||q.info(\"Trigger action \"+a.type+\" is no longer eligible for display - fired \"+c+\"ms ago and has a timeout of \"+a.Ha+\"ms\");return!b}Ed.prototype.A=function(){for(var a=[],b=0;b<this.jb.length;b++)a.push(this.jb[b].A());return{i:this.id,c:a,s:this.startTime,e:this.endTime,p:this.priority,t:this.type,da:this.data,d:this.Sa,r:this.Lb,tm:this.Ha,ss:this.Ke,ld:this.Aa}};\nfunction Hd(a){for(var b=[],c=0;c<a.c.length;c++)b.push(Dd(a.c[c]));return new Ed(a.i,b,Ka(a.s),Ka(a.e),a.p,a.t,a.da,a.d,a.r,a.tm,a.ss,a.ld)}var Fd=-1,Id={Gc:\"inapp\",ee:\"templated_iam\"};function Jd(a,b){a=Math.ceil(a);b=Math.floor(b);return Math.floor(Math.random()*(b-a+1))+a};function Kd(a){var b,c=!1;try{if(window.XMLHttpRequest&&(b=new XMLHttpRequest)&&\"undefined\"!==typeof b.withCredentials||(\"undefined\"!==typeof XDomainRequest?(b=new XDomainRequest,c=b.async=!0):q.error(\"This browser does not have any supported ajax options!\")),null!=b){var d=function(){\"function\"===typeof a.error&&a.error(b.status);\"function\"===typeof a.pc&&a.pc(!1)};b.onload=function(){if(c)var h=!0;else{if(4!==b.readyState)return;h=200<=b.status&&300>b.status||304===b.status}if(h){if(\"function\"===\ntypeof a.h){try{var k=JSON.parse(b.responseText)}catch(m){a.h({error:\"\"===b.responseText?\"empty_response\":\"invalid_json_response\",response:b.responseText})}k&&a.h(k)}\"function\"===typeof a.pc&&a.pc(!0)}else d()};b.onerror=function(){d()};b.ontimeout=function(){d()};var e=JSON.stringify(a.data);if(c)b.onprogress=function(){},b.open(\"post\",a.url);else{b.open(\"POST\",a.url,!0);b.setRequestHeader(\"Content-type\",\"application/json\");b.setRequestHeader(\"X-Requested-With\",\"XMLHttpRequest\");for(var g=a.headers||\n[],f=0;f<g.length;f++)b.setRequestHeader(g[f][0],g[f][1])}b.send(e)}}catch(h){q.error(\"Network request error: \"+h.message)}};function Ld(a,b,c,d,e,g,f,h,k,m,t,x){var z=this;this.$=a;this.ag=b;this.we=c;this.Uf=d;this.vb=e;this.fb=0;this.ic=m.P.Ge;this.re=null;this.D=g;this.ec=f;this.f=h;this.J=k;this.b=m;this.W=x;this.Sf=t;this.Xc=new Lb;this.yb=[\"npm\"];this.Pf=50;this.Na=0;Md(this.W,function(){z.Na=0});this.Rf=1E3;this.Qf=6E4}\nfunction Nd(a,b){var c=Pd(a.ec),d=c.qc(),e=P(a.b,M.Xb);Ga(e,d)||(b.device=d);b.api_key=a.$;b.time=Ha((new Date).valueOf(),!0);b.sdk_version=a.ag;a.we&&(b.sdk_flavor=a.we);b.app_version=a.Uf;b.device_id=c.id;c=P(a.b,M.$d)||[];d=P(a.b,M.be)||\"\";0<a.yb.length&&(!Ga(c,a.yb)||d!==a.D.Fb())&&(b.sdk_metadata=a.yb);return b}\nfunction Qd(a,b,c,d){var e=c.auth_error,g=c.error;if(!e&&!g)return!0;if(e){a.Na+=1;c={errorCode:e.error_code};d=ba(d);for(g=d.next();!g.done;g=d.next())g=g.value,Ca(g)&&\"X-Braze-Auth-Signature\"===g[0]&&(c.signature=g[1]);b.respond_with&&b.respond_with.user_id?c.userId=b.respond_with.user_id:b.user_id&&(c.userId=b.user_id);(d=e.reason)?(c.reason=d,e=\"due to \"+d):e=\"with error code \"+e.error_code+\".\";a.W.xb||(e+=' Please use the \"enableSdkAuthentication\" initialization option to enable authentication.');\nq.error(\"SDK Authentication failed \"+e);Rd(a,b);Nb(a.W.ie,c);return!1}if(g){e=g;switch(e){case \"empty_response\":return ab(a.b,[new D(a.f.o(),w.Hc,(new Date).valueOf(),a.D.Fb,{e:\"Received successful response with empty body.\"})]),q.info(\"Received successful response with empty body.\"),!1;case \"invalid_json_response\":return ab(a.b,[new D(a.f.o(),w.Hc,(new Date).valueOf(),a.D.Fb,{e:\"Received successful response with invalid JSON: \"+c.response})]),q.info(\"Received successful response with invalid JSON\"),\n!1;case \"invalid_api_key\":e='The API key \"'+b.api_key+'\" is invalid for the baseUrl '+a.vb;break;case \"blacklisted\":e=\"Sorry, we are not currently accepting your requests. If you think this is in error, please contact us.\";break;case \"no_device_identifier\":e=\"No device identifier. Please contact support@braze.com\"}q.error(\"Backend error: \"+e)}return!1}\nfunction Sd(a,b,c,d,e,g,f,h){null==d&&(d=!0);d&&Td(a);var k=Ab(a.b),m=Eb(a.b),t=Ud(a.D);if(0<k.length)for(var x=a.f.o(),z=ba(k),A=z.next();!A.done;A=z.next()){A=A.value;var B=null==A.$a&&null==x||A.$a===x;A.type===w.ce&&B&&(t=!0)}if(!h&&!t&&a.Na>=a.Pf)q.info(\"Declining to flush data due to 50 consecutive authentication failures\");else if(h=c||t,!d||0!==k.length||0!==m.length||b||h){var C=!1,J=function(G,ea){var X=!1;Kd({url:\"\"+a.vb+\"/data/\",data:G,headers:ea,h:function(R){null!=G.respond_with&&G.respond_with.triggers&&\n(a.fb=Math.max(a.fb-1,0));if(Qd(a,G,R,ea)){a.Na=0;var Z=a.J;if(null!=R&&null!=R.config){var O=R.config;if(O.time>Vd(Z).Jb){O=new Wd(O.time,O.events_blacklist,O.attributes_blacklist,O.purchases_blacklist,O.messaging_session_timeout,O.vapid_public_key,O.content_cards);var l=!1;null!=O.pa&&Vd(Z).pa!==O.pa&&(l=!0);var p=!1;null!=O.Bb.enabled&&(Vd(Z).Bb.enabled||!1)!==O.Bb.enabled&&(p=!0);Z.lc=O;N(Z.b,M.ae,O.A());l&&Nb(Z.bd);p&&Nb(Z.je)}}if(null==G.respond_with||G.respond_with.user_id==a.f.o())null!=G.device&&\nN(a.b,M.Xb,G.device),null!=G.sdk_metadata&&(N(a.b,M.$d,G.sdk_metadata),N(a.b,M.be,a.D.Fb())),a.Sf(R),\"function\"===typeof e&&e()}else R.auth_error&&(X=!0)},error:function(){null!=G.respond_with&&G.respond_with.triggers&&(a.fb=Math.max(a.fb-1,0));Rd(a,G);\"function\"===typeof g&&g()},pc:function(R){\"function\"===typeof f&&f(R);if(d&&!C){if(R&&!X)Xd(a);else{R=a.re;if(null==R||R<1E3*a.ic)R=1E3*a.ic;Xd(a,Math.min(3E5,Jd(1E3*a.ic,3*R)))}C=!0}}})},I=function(G){return null!=G?G:\"\"},K={};c=I(a.f.o());if(b||\nh)K[c]=Yd(a,b,h),h&&a.fb++;b=function(G,ea){var X=I(ea.user_id);K[X]||(K[X]=Yd(a,!1,!1,X));K[X][G]||(K[X][G]=[]);K[X][G].push(ea)};k=ba(k);for(h=k.next();!h.done;h=k.next())b(\"events\",h.value.qc());m=ba(m);for(k=m.next();!k.done;k=m.next())b(\"attributes\",k.value);m=!1;k={};for(var T in K)a.W.xb&&T!==c?Rd(a,K[T]):(k.ob=Nd(a,K[T]),k.xc=Zd(a,k.ob),$d(k.ob,function(G){return function(){return J(G.ob,G.xc)}}(k)),m=!0),k={ob:k.ob,xc:k.xc};d&&!m?Xd(a):t&&(q.info(\"Invoking new session subscriptions\"),Nb(a.Xc))}else Xd(a),\n\"function\"===typeof f&&f(!0)}function $d(a,b){var c=a.device;c&&c.os_version instanceof Promise?c.os_version.then(function(d){a.device.os_version=d;b()}):b()}function Rd(a,b){if(b.events){for(var c=[],d=ba(b.events),e=d.next();!e.done;e=d.next())e=e.value,e=new D(e.user_id,e.name,e.time,e.session_id,e.data),e.time*=1E3,c.push(e);ab(a.b,c)}if(b.attributes)for(b=ba(b.attributes),c=b.next();!c.done;c=b.next())Cb(a.b,c.value)}function ae(a,b){var c=\"HTTP error \";null!=a&&(c+=a+\" \");q.error(c+b)}\nfunction be(a,b,c,d,e){var g=Yd(a,!1,!1);g=Nd(a,g);g.template={trigger_id:b.Ia,trigger_event_type:c};null!=d&&(g.template.data=d.qc());var f=Zd(a,g);$d(g,function(){Kd({url:\"\"+a.vb+\"/template/\",data:g,headers:f,h:function(h){Qd(a,g,h,f)?(a.Na=0,null==h||null==h.templated_message?a.T(b.Ia,Gc.sb):(h=h.templated_message,h.type!==Id.Gc?a.T(b.Ia,Gc.ub):(h=mc(h.data),null==h?a.T(b.Ia,Gc.ub):\"function\"===typeof b.Qe?b.Qe(h):a.T(b.Ia,Gc.sb)))):(a.T(b.Ia,Gc.sb),\"function\"===typeof b.Pe&&b.Pe())},error:function(h){var k=\n\"getting user personalization for message \"+b.Ia;if((new Date).valueOf()-b.tc>b.Ha)a.T(b.Ia,Gc.sb);else{var m=Math.min(b.Ha,a.Qf),t=a.Rf;null==e&&(e=t);var x=Math.min(m,Jd(t,3*e));k+=\". Retrying in \"+x+\"ms\";setTimeout(function(){be(a,b,c,d,x)},x)}ae(h,k)}})})}n=Ld.prototype;\nn.Za=function(a,b,c,d,e){var g=this,f=Nd(this,{});f.last_full_sync_at=a;f.last_card_updated_at=b;a=this.f.o();null!=a&&(f.user_id=a);var h=[[\"X-Braze-Api-Key\",this.$],[\"X-Braze-DataRequest\",\"true\"],[\"X-Braze-ContentCardsRequest\",\"true\"]];this.W.xb&&(a=P(this.W.b,M.cb),null!=a&&h.push([\"X-Braze-Auth-Signature\",a]));$d(f,function(){Kd({url:\"\"+g.vb+\"/content_cards/sync\",data:f,headers:h,h:function(k){Qd(g,f,k,h)?(g.Na=0,c(k),\"function\"===typeof d&&d()):\"function\"===typeof e&&e()},error:function(k){ae(k,\n\"retrieving content cards\");\"function\"===typeof e&&e()}})})};function Yd(a,b,c,d){var e={};b&&(e.feed=!0);c&&(e.triggers=!0);(b=null!=d?d:a.f.o())&&(e.user_id=b);e.config={config_time:Vd(a.J).Jb};return{respond_with:e}}\nfunction Zd(a,b){var c=[[\"X-Braze-Api-Key\",a.$]],d=!1;null!=b.respond_with&&b.respond_with.triggers&&(c.push([\"X-Braze-TriggersRequest\",\"true\"]),d=!0);null!=b.respond_with&&b.respond_with.feed&&(c.push([\"X-Braze-FeedRequest\",\"true\"]),d=!0);d&&c.push([\"X-Braze-DataRequest\",\"true\"]);a.W.xb&&(a=P(a.W.b,M.cb),null!=a&&c.push([\"X-Braze-Auth-Signature\",a]));return c}\nfunction ce(a){if(null==a.campaignId&&null==a.cardId&&null==a.triggerId)return q.info(\"The in-app message has no analytics id. Not logging event to Braze servers.\"),null;var b={};null!=a.cardId&&(b.card_ids=[a.cardId]);null!=a.campaignId&&(b.campaign_ids=[a.campaignId]);null!=a.triggerId&&(b.trigger_ids=[a.triggerId]);return b}function de(a){for(var b=null,c=0;c<a.length;c++)null!=a[c].id&&\"\"!==a[c].id&&(b=b||{},b.ids=b.ids||[],b.ids.push(a[c].id));return b}\nfunction Xd(a,b){a.le||(null==b&&(b=1E3*a.ic),Td(a),a.jc=setTimeout(function(){if(document.hidden){var c=function(){document.hidden||(document.removeEventListener(\"visibilitychange\",c,!1),Sd(a))};document.addEventListener(\"visibilitychange\",c,!1)}else Sd(a)},b),a.re=b)}function Td(a){null!=a.jc&&(clearTimeout(a.jc),a.jc=null)}n.nd=function(){this.le=!1;Xd(this)};n.Db=function(){this.Xc.K();this.W.Yc.K();Td(this);this.le=!0;Sd(this,null,null,!1);this.jc=null};function ee(a,b){Mb(a.Xc,b)}\nn.uc=function(a){var b=this,c=this.D.Fb(),d=$a(this.D);if(c=c!==d)yb(this.b,Bb.Cc),yb(this.b,Bb.dc);Sd(this,null,!1,null,null,null);gb(this);if(c&&null!=a&&(a.Ib()||a.Ga())){var e=function(){a.Vf?q.info(\"Push token maintenance is disabled, not refreshing token for backend.\"):a.subscribe()};c=za.aa;va(new ra(c),c.G.Pc,function(g,f){f&&e()},function(){var g=P(b.b,M.cc);(null==g||g)&&e()})}};\nn.Ra=function(a,b,c,d){var e=this.f.o();if(e!==a){var g=this.D,f=zb(g.b,Bb.La);null!=f&&(g.b.kc.remove(Bb.La),f=fe(g,(new Date).valueOf(),f),null==f||ab(g.b,[f]));null!=e&&Sd(this,null,!1,null,null,null);g=this.f;f=null==g.o();xb(g.b,Bb.dc,new Na(a));if(f){g=g.b;f=g.P.Z(M.Ja);if(null!=f){var h=M.yc,k=f[h];null!=k&&(f[h]=void 0,g.P.store(M.Ja,f),k.user_id=a,Cb(g,k))}h=zb(g,Bb.La);f=null;null!=h&&(f=h.ga);h=Ab(g);if(null!=h)for(k=0;k<h.length;k++){var m=h[k];null==m.$a&&m.sessionId==f&&(m.$a=a);null==\nm||ab(g,[m])}}d?this.W.Nb(d):(d=this.W,Q(d.b,M.cb),g=za.aa,wa(new ra(g),g.G.Yd,d.ge));for(d=0;d<b.length;d++)b[d].Ra(null==e);null!=e&&Q(this.b,M.pb);Q(this.b,M.Xb);this.uc(c);q.info('Changed user to \"'+a+'\".')}else b=\"Doing nothing.\",d&&P(this.W.b,M.cb)!==d&&(this.W.Nb(d),b=\"Updated SDK authentication signature\"),q.info(\"Current user is already \"+a+\". \"+b)};n.lb=function(){return new F(this.f,this)};n.nb=function(a){Td(this);$a(this.D);Sd(this,null,null,null,null,null,a,!0)};\nn.Cd=function(){$a(this.D);Sd(this,!0)};function ge(a,b,c){$a(a.D);q.info(\"Requesting explicit trigger refresh.\");Sd(a,null,!0,null,b,c)}n.qd=function(a,b){var c=new Za,d=$a(this.D);if(-1!==Vd(this.J).Fe.indexOf(a))return q.info('Custom Event \"'+a+'\" is blocklisted, ignoring.'),c;c.j.push(new D(this.f.o(),w.CustomEvent,(new Date).valueOf(),d,{n:a,p:b}));c.h=ab(this.b,c.j);return c};\nfunction fb(a,b,c,d){var e=new Za,g=$a(a.D);if(hb(a.J,c))return q.info('Custom Attribute \"'+c+'\" is blocklisted, ignoring.'),e;e.j.push(new D(a.f.o(),b,(new Date).valueOf(),g,{key:c,value:d}));e.h=ab(a.b,e.j);return e}n.vd=function(a,b,c,d,e){var g=new Za,f=$a(this.D);if(-1!==Vd(this.J).Me.indexOf(a))return q.info('Purchase \"'+a+'\" is blocklisted, ignoring.'),g;g.j.push(new D(this.f.o(),w.yf,(new Date).valueOf(),f,{pid:a,c:c,p:b,q:d,pr:e}));g.h=ab(this.b,g.j);return g};\nn.wc=function(a,b,c,d,e,g){var f=new Za,h=$a(this.D);b={latitude:b,longitude:c};null!=d&&(b.altitude=d);null!=e&&(b.ll_accuracy=e);null!=g&&(b.alt_accuracy=g);f.j.push(new D(a,w.Ff,(new Date).valueOf(),h,b));f.h=ab(this.b,f.j);return f};\nn.ud=function(a){var b=new Za,c=$a(this.D);if(a instanceof nc)b.j.push(new D(this.f.o(),w.df,(new Date).valueOf(),c,{trigger_ids:[a.triggerId]}));else{if(!a.zd())return q.info(\"This in-app message has already received an impression. Ignoring analytics event.\"),b;a=ce(a);if(null==a)return b;b.j.push(new D(this.f.o(),w.xf,(new Date).valueOf(),c,a))}b.h=ab(this.b,b.j);return b};\nn.sd=function(a){var b=new Za,c=$a(this.D);if(!a.Ya())return q.info(\"This in-app message has already received a click. Ignoring analytics event.\"),b;a=ce(a);if(null==a)return b;b.j.push(new D(this.f.o(),w.Qd,(new Date).valueOf(),c,a));b.h=ab(this.b,b.j);return b};\nn.rd=function(a,b){var c=new Za,d=$a(this.D);if(!a.Ya())return q.info(\"This in-app message button has already received a click. Ignoring analytics event.\"),c;b=ce(b);if(null==b)return c;if(a.id===Oc)return q.info(\"This in-app message button does not have a tracking id. Not logging event to Braze servers.\"),c;null!=a.id&&(b.bid=a.id);c.j.push(new D(this.f.o(),w.Pd,(new Date).valueOf(),d,b));c.h=ab(this.b,c.j);return c};\nn.td=function(a,b,c){var d=new Za,e=$a(this.D);if(!a.Ya(c))return q.info(\"This in-app message has already received a click. Ignoring analytics event.\"),d;a=ce(a);if(null==a)return d;c=w.Qd;null!=b&&(a.bid=b,c=w.Pd);d.j.push(new D(this.f.o(),c,(new Date).valueOf(),e,a));d.h=ab(this.b,d.j);return d};n.T=function(a,b){var c=new Za,d=$a(this.D);a={trigger_ids:[a],error_code:b};c.j.push(new D(this.f.o(),w.wf,(new Date).valueOf(),d,a));c.h=ab(this.b,c.j);return c};\nn.Va=function(a,b){var c=new Za,d=$a(this.D),e=[],g=[];var f=b?P(this.b,M.bb)||{}:P(this.b,M.pb)||{};for(var h=0;h<a.length;h++)a[h].zd(),a[h]instanceof Zb?g.push(a[h]):e.push(a[h]),f[a[h].id]=!0;a=de(e);g=de(g);if(null==a&&null==g)return c;b?N(this.b,M.bb,f):N(this.b,M.pb,f);null!=a&&c.j.push(new D(this.f.o(),b?w.af:w.Ye,(new Date).valueOf(),d,a));null!=g&&b&&c.j.push(new D(this.f.o(),w.cf,(new Date).valueOf(),d,g));c.h=ab(this.b,c.j);return c};\nn.Ua=function(a,b){var c=new Za,d=$a(this.D);a.Ya();if(null==a.url||\"\"===a.url)return q.info(\"Card \"+a.id+\" has no url. Not logging click to Braze servers.\"),c;if(b){var e=P(this.b,M.ab)||{};e[a.id]=!0;N(this.b,M.ab,e)}a=de([a]);if(null==a)return c;c.j.push(new D(this.f.o(),b?w.Ze:w.Xe,(new Date).valueOf(),d,a));c.h=ab(this.b,c.j);return c};\nn.pd=function(a){var b=new Za,c=$a(this.D);if(!a.yd())return q.info(\"Card \"+a.id+\" refused this dismissal. Ignoring analytics event.\"),b;var d=P(this.b,M.sa)||{};d[a.id]=!0;N(this.b,M.sa,d);a=de([a]);if(null==a)return b;b.j.push(new D(this.f.o(),w.$e,(new Date).valueOf(),c,a));b.h=ab(this.b,b.j);return b};function he(a,b){var c=new Za,d=$a(a.D);c.j.push(new D(a.f.o(),w.zf,(new Date).valueOf(),d,{n:b}));c.h=ab(a.b,c.j);return c}\nfunction ie(a,b,c){var d=$a(a.D);return new D(a.f.o(),w.If,b,d,{cid:c})}function gb(a){var b=za.aa;(new ra(b)).setItem(b.G.jf,1,{baseUrl:a.vb,data:{api_key:a.$,device_id:Pd(a.ec).id},userId:a.f.o(),sdkAuthEnabled:a.W.xb})}function ib(a,b,c){var d=new Za,e=$a(a.D);b={group_id:b,status:c};d.j.push(new D(a.f.o(),w.Of,(new Date).valueOf(),e,b));d.h=ab(a.b,d.j);return d}n.dd=function(a){a=ba(a);for(var b=a.next();!b.done;b=a.next())b=b.value,-1===this.yb.indexOf(b)&&this.yb.push(b)};var je={BROWSER:\"browser\",BROWSER_VERSION:\"browserVersion\",OS:\"os\",RESOLUTION:\"resolution\",LANGUAGE:\"language\",TIME_ZONE:\"timeZone\",USER_AGENT:\"userAgent\"};E.DeviceProperties=je;function ke(a){this.id=a}ke.prototype.qc=function(){var a={};null!=this.browser&&(a.browser=this.browser);null!=this.browserVersion&&(a.browser_version=this.browserVersion);null!=this.os&&(a.os_version=this.os);null!=this.resolution&&(a.resolution=this.resolution);null!=this.language&&(a.locale=this.language);null!=this.timeZone&&(a.time_zone=this.timeZone);null!=this.userAgent&&(a.user_agent=this.userAgent);return a};function le(a,b){this.b=a;null==b&&(b=Ba(je));this.me=b}\nfunction Pd(a){var b=zb(a.b,Bb.Cc);null==b&&(b=new Na(qa.Gb()),xb(a.b,Bb.Cc,b));b=new ke(b.ga);for(var c=0;c<a.me.length;c++){var d=a.me[c];switch(d){case \"browser\":b[d]=vb.hb;break;case \"browserVersion\":b[d]=vb.version;break;case \"os\":var e=vb.ia?vb.ia||null:(e=P(a.b,M.Xb))&&e.os_version?e.os_version:vb.kb();b[d]=e;break;case \"resolution\":b[d]=screen.width+\"x\"+screen.height;break;case \"language\":b[d]=vb.language;break;case \"timeZone\":a:{e=new Date;if(\"undefined\"!==typeof Intl&&\"function\"===typeof Intl.DateTimeFormat)try{if(\"function\"===\ntypeof Intl.DateTimeFormat().resolvedOptions){var g=Intl.DateTimeFormat().resolvedOptions().timeZone;if(null!=g&&\"\"!==g){var f=g;break a}}}catch(m){q.info(\"Intl.DateTimeFormat threw an error, probably https://bugs.chromium.org/p/chromium/issues/detail?id=811403, falling back to GTM offset: \"+m.message)}f=e.getTimezoneOffset();e=parseInt(f/60);var h=parseInt(f%60),k=\"GMT\";0!==f&&(k=k+(0>f?\"+\":\"-\")+((\"00\"+Math.abs(e)).slice(-2)+\":\"+(\"00\"+Math.abs(h)).slice(-2)));f=k}b[d]=f;break;case \"userAgent\":b[d]=\nvb.userAgent}}return b};function me(a){this.Da=a;this.nc=null;this.ze=\"geolocation\"in navigator}me.prototype.dg=function(a){var b=this;if(document.hidden){ne(this);var c=function(){document.hidden||(document.removeEventListener(\"visibilitychange\",c,!1),b.watchPosition())};document.addEventListener(\"visibilitychange\",c,!1)}this.Da.wc(a.coords.latitude,a.coords.longitude,a.coords.accuracy,a.coords.altitude,a.coords.altitudeAccuracy)};\nme.prototype.cg=function(a){a.code===a.PERMISSION_DENIED?q.info(a.message):q.error(\"Could not detect user location: \"+a.code+\" - \"+a.message)};me.prototype.watchPosition=function(){this.ze?(ne(this),this.nc=navigator.geolocation.watchPosition(this.dg.bind(this),this.cg.bind(this)),q.info(\"Requested Geolocation\")):q.info(this.Nc)};function ne(a){a.ze?null!=a.nc&&(navigator.geolocation.clearWatch(a.nc),a.nc=null,q.info(\"Stopped watching Geolocation\")):q.info(a.Nc)};function oe(a,b,c,d,e){this.endpoint=a||null;this.Ee=b||null;this.publicKey=c||null;this.jh=d||null;this.pa=e||null}oe.prototype.A=function(){return{e:this.endpoint,c:this.Ee,p:this.publicKey,u:this.jh,v:this.pa}};function pe(a,b,c,d,e,g,f,h,k,m){this.Da=a;this.$=b;this.ec=c;this.$f=d;this.xe=e||\"/service-worker.js\";this.ve=g;this.J=f;this.Wc=h||!1;this.Vf=k||!1;this.b=m;this.mc=\"serviceWorker\"in navigator&&\"undefined\"!==typeof ServiceWorkerRegistration&&\"showNotification\"in ServiceWorkerRegistration.prototype&&\"PushManager\"in window;this.$c=\"safari\"in window&&\"pushNotification\"in window.safari}n=pe.prototype;n.oa=function(){return this.mc||this.$c};\nn.Ga=function(){var a=this.oa()&&\"Notification\"in window&&null!=window.Notification&&null!=window.Notification.permission&&\"denied\"===window.Notification.permission,b=this.oa()&&(!(\"Notification\"in window)||null==window.Notification);return a||b};n.Ib=function(){return this.oa()&&\"Notification\"in window&&null!=window.Notification&&null!=window.Notification.permission&&\"granted\"===window.Notification.permission};\nn.od=function(a,b,c){var d=this;c=this.ve||c;this.oa()?this.mc?qe(this).then(function(e){d.Ga()?b():null==e?b():e.pushManager.getSubscription().then(function(g){g?a():b()}).catch(function(){b()})}).catch(function(){b()}):null==c||\"\"===c?q.error(\"You must supply the safariWebsitePushId argument in order to use isPushGranted on Safari\"):\"granted\"===window.safari.pushNotification.permission(c).permission?a():b():b()};\nfunction re(a,b,c,d,e,g){b.unsubscribe().then(function(f){f?se(a,c,d,e,g):(q.error(\"Failed to unsubscribe device from push.\"),\"function\"===typeof g&&g(!1))}).catch(function(f){q.error(\"Push unsubscription error: \"+f);\"function\"===typeof g&&g(!1)})}\nfunction te(a,b,c,d){var e=function(h){if(\"string\"===typeof h)return h;if(0!==h.endpoint.indexOf(\"https://android.googleapis.com/gcm/send\"))return h.endpoint;var k=h.endpoint;h.subscriptionId&&-1===h.endpoint.indexOf(h.subscriptionId)&&(k=h.endpoint+\"/\"+h.subscriptionId);return k}(b),g=null,f=null;if(null!=b.getKey)try{g=btoa(String.fromCharCode.apply(null,new Uint8Array(b.getKey(\"p256dh\")))),f=btoa(String.fromCharCode.apply(null,new Uint8Array(b.getKey(\"auth\"))))}catch(h){if(\"invalid arguments\"!==\nh.message)throw h;}b=function(h){var k;return h.options&&(k=h.options.applicationServerKey)&&k.byteLength&&0<k.byteLength?btoa(String.fromCharCode.apply(null,new Uint8Array(k))).replace(/\\+/g,\"-\").replace(/\\//g,\"_\"):null}(b);a.Da.Ad(e,d,g,f,b);e&&\"function\"===typeof c&&c(e,g,f)}function ue(a,b,c){a.Da.Mb(!1);q.info(b);\"function\"===typeof c&&c(!1)}\nfunction ve(a,b,c,d,e){if(\"default\"===c.permission)try{window.safari.pushNotification.requestPermission(a.$f,b,{api_key:a.$,device_id:Pd(a.ec).id},function(g){\"granted\"===g.permission&&a.Da.Gd(\"opted_in\");ve(a,b,g,d,e)})}catch(g){ue(a,\"Could not request permission for push: \"+g,e)}else\"denied\"===c.permission?ue(a,\"The user has blocked notifications from this site, or Safari push is not configured in the Braze dashboard.\",e):\"granted\"===c.permission&&(q.info(\"Device successfully subscribed to push.\"),\nte(a,c.deviceToken,d,new Date))}function we(a,b,c){function d(f){switch(f){case \"granted\":\"function\"===typeof a&&a();break;case \"default\":\"function\"===typeof b&&b();break;case \"denied\":\"function\"===typeof c&&c();break;default:q.error(\"Received unexpected permission result \"+f)}}var e=!1,g=window.Notification.requestPermission(function(f){e&&d(f)});g?g.then(function(f){d(f)}):e=!0}\nfunction se(a,b,c,d,e){var g={userVisibleOnly:!0};null!=c&&(g.applicationServerKey=c);b.pushManager.subscribe(g).then(function(f){q.info(\"Device successfully subscribed to push.\");te(a,f,d,new Date)}).catch(function(f){a.Ga()?(q.info(\"Permission for push notifications was denied.\"),\"function\"===typeof e&&e(!1)):q.error(\"Push subscription failed: \"+f)})}\nfunction qe(a){return a.Wc?navigator.serviceWorker.getRegistration():navigator.serviceWorker.register(a.xe).then(function(){return navigator.serviceWorker.ready.then(function(b){b&&\"function\"===typeof b.update&&b.update().catch(function(c){q.info(\"ServiceWorker update failed: \"+c)});return b})})}\nn.subscribe=function(a,b,c){var d=this;a=this.ve||a;if(this.oa())if(this.mc){if(!this.Wc&&null!=window.location){var e=this.xe;-1===e.indexOf(window.location.host)&&(e=window.location.host+e);-1===e.indexOf(window.location.protocol)&&(e=window.location.protocol+\"//\"+e);if(0!==window.location.href.indexOf(e.substr(0,e.lastIndexOf(\"/\")+1))){q.error(\"Cannot subscribe to push from a path higher than the service worker location (tried to subscribe from \"+window.location.pathname+\" but service worker is at \"+\ne+\")\");return}}if(this.Ga())ue(this,\"Notifications from this site are blocked. This may be a temporary embargo or a permanent denial.\",c);else if(this.J&&!Vd(this.J).pa&&0===Vd(this.J).Jb)q.info(\"Waiting for VAPID key from server config before subscribing to push.\"),xe(this.J,function(){d.subscribe(a,b,c)});else{var g=this.Ib();we(function(){g||d.Da.Gd(\"opted_in\");qe(d).then(function(f){null==f?(q.error(\"No service worker registration. Set the `manageServiceWorkerExternally` initialization option to false or ensure that your service worker is registered before calling registerAppboyPushMessages.\"),\n\"function\"===typeof c&&c()):f.pushManager.getSubscription().then(function(h){var k=null;d.J&&null!=Vd(d.J).pa&&(k=pa.ih(Vd(d.J).pa));if(h){var m=null,t=null,x=P(d.b,M.cc);if(x&&!Ca(x)){try{var z=(new oe(x.e,Ka(x.c),x.p,x.u,x.v)).Ee}catch(A){z=null}null==z||isNaN(z.getTime())||0===z.getTime()||(m=z,t=new Date(m),t.setMonth(m.getMonth()+6))}null!=k&&h.options&&h.options.applicationServerKey&&h.options.applicationServerKey.byteLength&&0<h.options.applicationServerKey.byteLength&&!Ga(k,new Uint8Array(h.options.applicationServerKey))?\n(12<h.options.applicationServerKey.byteLength?q.info(\"Device was already subscribed to push using a different VAPID provider, creating new subscription.\"):q.info(\"Attempting to upgrade a gcm_sender_id-based push registration to VAPID - depending on the browser this may or may not result in the same gcm_sender_id-based subscription.\"),re(d,h,f,k,b,c)):h.expirationTime&&new Date(h.expirationTime)<=(new Date).valueOf()?(q.info(\"Push subscription is expired, creating new subscription.\"),re(d,h,f,k,b,\nc)):x&&Ca(x)?re(d,h,f,k,b,c):null==t?(q.info(\"No push subscription creation date found, creating new subscription.\"),re(d,h,f,k,b,c)):t<=(new Date).valueOf()?(q.info(\"Push subscription older than 6 months, creating new subscription.\"),re(d,h,f,k,b,c)):(q.info(\"Device already subscribed to push, sending existing subscription to backend.\"),te(d,h,b,m))}else se(d,f,k,b,c)}).catch(function(h){q.error(\"Error checking current push subscriptions: \"+h)})}).catch(function(f){q.error(\"ServiceWorker registration failed: \"+\nf)})},function(){var f=\"Permission for push notifications was ignored.\";d.Ga()&&(f+=\" The browser has automatically blocked further permission requests for a period (probably 1 week).\");q.info(f);\"function\"===typeof c&&c(!0)},function(){q.info(\"Permission for push notifications was denied.\");\"function\"===typeof c&&c(!1)})}}else this.$c&&(null==a||\"\"===a?q.error(\"You must supply the safariWebsitePushId argument in order to use registerAppboyPushMessages on Safari\"):(e=window.safari.pushNotification.permission(a),\nve(this,a,e,b,c)));else q.info(this.Nc)};\nn.unsubscribe=function(a,b){var c=this;this.oa()?this.mc?navigator.serviceWorker.getRegistration().then(function(d){d&&d.pushManager.getSubscription().then(function(e){e&&(c.Da.Mb(!0),e.unsubscribe().then(function(g){g?(q.info(\"Device successfully unsubscribed from push.\"),\"function\"===typeof a&&a()):(q.error(\"Failed to unsubscribe device from push.\"),\"function\"===typeof b&&b());c.Wc||(d.unregister(),q.info(\"Service worker successfully unregistered.\"))}).catch(function(g){q.error(\"Push unsubscription error: \"+g);\n\"function\"===typeof b&&b()}))}).catch(function(e){q.error(\"Error unsubscribing from push: \"+e);\"function\"===typeof b&&b()})}):this.$c&&(this.Da.Mb(!0),q.info(\"Device unsubscribed from push.\"),\"function\"===typeof a&&a()):q.info(this.Nc)};function Wd(a,b,c,d,e,g,f){this.Jb=a||0;this.Fe=b||[];this.Ce=c||[];this.Me=d||[];this.wd=e;if(null==e||\"\"===e)this.wd=null;this.pa=g||null;this.Bb=f||{}}Wd.prototype.A=function(){return{s:\"3.5.1\",l:this.Jb,e:this.Fe,a:this.Ce,p:this.Me,m:this.wd,v:this.pa,c:this.Bb}};function ye(a){this.b=a;this.bd=new Lb;this.je=new Lb;this.lc=null}function Vd(a){if(null==a.lc){var b=P(a.b,M.ae);if(null!=b){var c=b.l;\"3.5.1\"!==b.s&&(c=0);b=new Wd(c,b.e,b.a,b.p,b.m,b.v,b.c)}else b=new Wd;a.lc=b}return a.lc}function xe(a,b){b=Mb(a.bd,b);a.ke&&a.bd.N(a.ke);a.ke=b}function ze(a,b){Mb(a.je,b)}function hb(a,b){return-1!==Vd(a).Ce.indexOf(b)};function Ae(a,b,c,d){this.b=a;this.f=b;this.J=c;this.wb=1E3;d=parseFloat(d);isNaN(d)&&(d=1800);d<this.wb/1E3&&(q.info(\"Specified session timeout of \"+d+\"s is too small, using the minimum session timeout of \"+this.wb/1E3+\"s instead.\"),d=this.wb/1E3);this.bg=d}function fe(a,b,c){return new D(a.f.o(),w.Nf,b,c.ga,{d:Ha(b-c.Cb)})}Ae.prototype.Fb=function(){var a=zb(this.b,Bb.La);return null==a?null:a.ga};\nfunction Ud(a){var b=(new Date).valueOf(),c=Vd(a.J).wd,d=P(a.b,M.$b);if(null!=d&&null==c)return!1;(c=null==d||b-d>1E3*c)&&N(a.b,M.$b,b);return c}\nfunction $a(a){var b=(new Date).valueOf(),c=b+1E3*a.bg,d=zb(a.b,Bb.La);if(null==d||(b-d.Cb<a.wb?0:d.fd<b)){var e=\"Generating session start event with time \"+b;if(null!=d){var g=d.Kb;g-d.Cb<a.wb&&(g=d.Cb+a.Ah);d=fe(a,g,d);null==d||ab(a.b,[d]);e+=\" (old session ended \"+g+\")\"}e+=\". Will expire \"+c.valueOf();q.info(e);c=new Na(qa.Gb(),c);e=new D(a.f.o(),w.ce,b,c.ga);null==e||ab(a.b,[e]);xb(a.b,Bb.La,c);null==P(a.b,M.$b)&&N(a.b,M.$b,b);return c.ga}d.Kb=b;d.fd=c;xb(a.b,Bb.La,d);return d.ga};function Be(a,b){var c=!1;try{if(localStorage&&localStorage.getItem)try{localStorage.setItem(M.Rc,!0),localStorage.getItem(M.Rc)&&(localStorage.removeItem(M.Rc),c=!0)}catch(e){if((\"QuotaExceededError\"===e.name||\"NS_ERROR_DOM_QUOTA_REACHED\"===e.name)&&0<localStorage.length)c=!0;else throw e;}}catch(e){q.info(\"Local Storage not supported!\")}var d=navigator.cookieEnabled||\"cookie\"in document&&(0<document.cookie.length||-1<(document.cookie=\"test\").indexOf.call(document.cookie,\"test\"));b=new Kb(a,d&&!b,\nc);return new wb(b,c?new Fb(a):new Jb)};function Ce(a,b){this.J=a;this.b=b}Ce.prototype.o=function(){var a=zb(this.b,Bb.dc);if(null==a)return null;var b=a.ga,c=Oa(b);if(997<c){for(;997<c;)b=b.slice(0,b.length-1),c=Oa(b);a.ga=b;xb(this.b,Bb.dc,a)}return b};Ce.prototype.Ed=function(a,b){if(hb(this.J,a))return q.info('Custom Attribute \"'+a+'\" is blocklisted, ignoring.'),!1;var c={};c[a]=b;return bb(this,\"custom\",c)};function bb(a,b,c){return Db(a.b,a.o(),b,c)}\nCe.prototype.Ad=function(a,b,c,d,e){bb(this,\"push_token\",a);bb(this,\"custom_push_public_key\",c);bb(this,\"custom_push_user_auth\",d);bb(this,\"custom_push_vapid_public_key\",e);var g=za.aa,f=new ra(g);N(this.b,M.cc,(new oe(a,b,c,d,e)).A());f.setItem(g.G.Pc,g.eb,!0)};\nCe.prototype.Mb=function(a){bb(this,\"push_token\",null);bb(this,\"custom_push_public_key\",null);bb(this,\"custom_push_user_auth\",null);bb(this,\"custom_push_vapid_public_key\",null);if(a){a=za.aa;var b=new ra(a);N(this.b,M.cc,!1);b.setItem(a.G.Pc,a.eb,!1)}};function De(a,b,c){this.b=a;this.xb=b||!1;this.ie=c;this.Yc=new Lb;this.ge=1}De.prototype.Nb=function(a){var b=P(this.b,M.cb);N(this.b,M.cb,a);var c=za.aa;(new ra(c)).setItem(c.G.Yd,this.ge,a);b!==a&&Nb(this.Yc)};De.prototype.Id=function(a){return Mb(this.ie,a)};function Md(a,b){Mb(a.Yc,b)};function Ee(){}Ee.prototype.Hb=function(){};Ee.prototype.Ra=function(){};Ee.prototype.clearData=function(){};function Fe(a,b,c,d,e){this.fa=a;this.H=b;this.b=c;this.J=d;this.Tf=e;this.ya=this.Ba=0;this.Ea()}oa(Fe,Ee);n=Fe.prototype;n.Ea=function(){for(var a=P(this.b,M.qb)||[],b=[],c=0;c<a.length;c++){var d=$b(a[c]);null!=d&&b.push(d)}this.B=Ge(this,He(this,b,!1));this.Ba=P(this.b,M.Vb)||this.Ba;this.ya=P(this.b,M.Ub)||this.ya};\nn.Hb=function(a){if(Ie(this)&&null!=a&&a.cards){var b=a.full_sync;b||this.Ea();var c=a.cards,d=a.last_full_sync_at;a=a.last_card_updated_at;if(b){var e=[];for(var g=ba(this.B),f=g.next();!f.done;f=g.next())f=f.value,f.test&&e.push(f)}else e=this.B.slice();for(g=0;g<c.length;g++){f=c[g];for(var h=null,k=0;k<this.B.length;k++)if(f.id===this.B[k].id){h=this.B[k];break}if(b)f=Ub(f),null!=h&&h.viewed&&(f.viewed=!0),null!=f&&e.push(f);else if(null==h)f=Ub(f),null!=f&&e.push(f);else if(!Sb(h,f))for(h=0;h<\ne.length;h++)if(f.id===e[h].id){e.splice(h,1);break}}this.B=Ge(this,He(this,e,b));this.oc();this.Ba=d||0;N(this.b,M.Vb,this.Ba);this.ya=a||0;N(this.b,M.Ub,this.ya);Nb(this.fa,this.Eb(!0))}};\nfunction Je(a,b){if(Ie(a)){a.Ea();var c=a.B.slice();a.H.lb().o(function(d){for(var e=0;e<b.length;e++)if(d===b[e].userId||null==d&&null==b[e].userId){for(var g=b[e].card,f=null,h=0;h<a.B.length;h++)if(g.id===a.B[h].id){f=a.B[h];break}if(null==f)g=Ub(g),null!=g&&c.push(g);else if(!Sb(f,g))for(f=0;f<c.length;f++)if(g.id===c[f].id){c.splice(f,1);break}}a.B=Ge(a,He(a,c,!1));a.oc();Nb(a.fa,a.Eb(!0))})}}\nfunction He(a,b,c){for(var d=P(a.b,M.ab)||{},e=P(a.b,M.bb)||{},g=P(a.b,M.sa)||{},f={},h={},k={},m=0;m<b.length;m++)d[b[m].id]&&(b[m].clicked=!0,f[b[m].id]=!0),e[b[m].id]&&(b[m].viewed=!0,h[b[m].id]=!0),g[b[m].id]&&(b[m].dismissed=!0,k[b[m].id]=!0);c&&(N(a.b,M.ab,f),N(a.b,M.bb,h),N(a.b,M.sa,k));return b}\nfunction Ge(a,b){for(var c=[],d=new Date,e=P(a.b,M.sa)||{},g=!1,f=0;f<b.length;f++){var h=b[f].url,k;if(k=!a.Tf&&h)a:{if(k=h)if(k=k.toString().toLowerCase(),0===k.lastIndexOf(\"javascript:\",0)||0===k.lastIndexOf(\"data:\",0)){k=!0;break a}k=!1}k?q.error('Card with url \"'+h+'\" will not be displayed because Javascript URLs are disabled. Use the \"allowUserSuppliedJavascript\" option for appboy.initialize to enable this card.'):(null==b[f].expiresAt||b[f].expiresAt>=d)&&!b[f].dismissed?c.push(b[f]):g=e[b[f].id]=\n!0}g&&N(a.b,M.sa,e);return c}n.oc=function(){for(var a=[],b=0;b<this.B.length;b++)a.push(this.B[b].A());N(this.b,M.qb,a)};n.Za=function(a,b){if(Ie(this))return this.H.Za(this.Ba,this.ya,this.Hb.bind(this),a,b)};n.Eb=function(a){a||this.Ea();a=Ge(this,this.B);a.sort(function(c,d){return c.pinned&&!d.pinned?-1:d.pinned&&!c.pinned?1:c.updated>d.updated?-1:d.updated>c.updated?1:0});var b=Math.max(this.ya||0,this.Ba||0);0===b&&(b=void 0);return new Sc(a,Ia(b))};\nn.Ra=function(a){a||(this.B=[],Nb(this.fa,new Sc(this.B.slice(),null)),Q(this.b,M.qb),Q(this.b,M.ab),Q(this.b,M.bb),Q(this.b,M.sa));this.ya=this.Ba=0;Q(this.b,M.Vb);Q(this.b,M.Ub)};n.clearData=function(a){this.ya=this.Ba=0;this.B=[];Nb(this.fa,new Sc(this.B.slice(),null));a&&(Q(this.b,M.qb),Q(this.b,M.ab),Q(this.b,M.bb),Q(this.b,M.sa),Q(this.b,M.Vb),Q(this.b,M.Ub))};function Ie(a){return Vd(a.J).Bb.enabled?!0:(0!==Vd(a.J).Jb&&(Nb(a.fa,new Sc([],(new Date).valueOf())),Q(a.b,M.qb)),!1)};function Ke(a,b){this.fa=a;this.b=b;this.Ea()}oa(Ke,Ee);n=Ke.prototype;n.Ea=function(){for(var a=P(this.b,M.Mc)||[],b=[],c=0;c<a.length;c++){var d=$b(a[c]);null!=d&&b.push(d)}this.B=b;this.gb=Ka(P(this.b,M.Kc))};n.oc=function(){for(var a=[],b=0;b<this.B.length;b++)a.push(this.B[b].A());N(this.b,M.Mc,a)};\nn.Hb=function(a){if(null!=a&&a.feed){this.Ea();a=a.feed;for(var b=[],c,d=P(this.b,M.pb)||{},e={},g=0;g<a.length;g++){c=a[g];var f=c.id,h=c.type,k=c.viewed,m=c.title,t=c.image,x=c.description,z=Ia(c.created),A=Ia(c.updated),B=c.categories,C=Ia(c.expires_at),J=c.url,I=c.domain,K=c.aspect_ratio;c=c.extras;f=h===Vb.fe||h===Vb.ac?new Wb(f,k,m,t,x,z,A,B,C,J,I,K,c,!1,!1):h===Vb.Sb?new Xb(f,k,m,t,x,z,A,B,C,J,I,K,c,!1,!1):h===Vb.Rb?new Yb(f,k,t,z,A,B,C,J,I,K,c,!1,!1):null;null!=f&&(d[f.id]&&(f.viewed=!0,e[f.id]=\n!0),b.push(f))}N(this.b,M.pb,e);this.B=b;this.oc();this.gb=new Date;N(this.b,M.Kc,this.gb);Nb(this.fa,new Rc(this.B.slice(),this.gb))}};n.jd=function(){this.Ea();for(var a=[],b=new Date,c=0;c<this.B.length;c++)(null==this.B[c].expiresAt||this.B[c].expiresAt>=b)&&a.push(this.B[c]);return new Rc(a,this.gb)};n.clearData=function(a){null==a&&(a=!1);this.B=[];this.gb=null;a&&(Q(this.b,M.Mc),Q(this.b,M.Kc));Nb(this.fa,new Rc(this.B.slice(),this.gb))};function Le(a,b,c,d,e){this.Ia=a;this.Qe=b;this.Pe=c;this.tc=d;this.Ha=e}function Me(a,b,c,d,e){return null==a||null==a.trigger_id?null:new Le(a.trigger_id,b,c,d,e)};function Ne(a,b,c,d){this.Yf=a;this.fa=b;this.b=c;this.H=d;this.hc=[];this.ma=[];this.za=null;this.L={};this.Y={};Oe(this);Pe(this)}oa(Ne,Ee);function Qe(a){a.za=P(a.b,M.Jc)||a.za;a.L=P(a.b,M.tb)||a.L;a.Y=P(a.b,M.Zb)||a.Y;for(var b=0;b<a.S.length;b++){var c=a.S[b];null!=a.Y[c.id]&&(c.Aa=a.Y[c.id])}}function Oe(a){a.ad=P(a.b,M.Tc)||0;for(var b=P(a.b,M.Sc)||[],c=[],d=0;d<b.length;d++)c.push(Hd(b[d]));a.S=c;Qe(a)}\nfunction Pe(a){function b(J,I,K,T,G){return function(){Re(a,J,I,K,T,G)}}for(var c={},d=0;d<a.S.length;d++)c[a.S[d].id]=a.S[d];d=!1;for(var e=0;e<a.S.length;e++){var g=a.S[e];if(null!=a.L[g.id]){for(var f=a.L[g.id],h=[],k=0;k<f.length;k++){var m=f[k],t=Math.max(m.tc+1E3*g.Sa-(new Date).valueOf(),0);if(0<t){h.push(m);var x=void 0,z=void 0;null!=m.Oe&&(x=m.Oe);null!=m.cd&&La(m.cd)&&(z=Ma(m.cd));var A=[];if(Ca(m.gd))for(var B=0;B<m.gd.length;B++){var C=c[m.gd[B]];null!=C&&A.push(C)}a.ma.push(setTimeout(b(g,\nm.tc,x,z,A),t))}}a.L[g.id].length>h.length&&(a.L[g.id]=h,d=!0,0===a.L[g.id].length&&delete a.L[g.id])}}d&&N(a.b,M.tb,a.L)}\nNe.prototype.Hb=function(a){var b=!1;if(null!=a&&a.triggers){Qe(this);var c={},d={};this.S=[];for(var e=0;e<a.triggers.length;e++){for(var g=a.triggers[e],f=g.id,h=[],k=0;k<g.trigger_condition.length;k++)h.push(ud(g.trigger_condition[k]));k=Ia(g.start_time);var m=Ia(g.end_time),t=g.priority,x=g.type,z=g.delay,A=g.re_eligibility,B=g.timeout,C=g.data;g=g.min_seconds_since_last_trigger;f=Aa(Id,x,\"Could not construct Trigger from server data\",\"Trigger.Types\")?new Ed(f,h,k,m,t,x,C,z,A,B,g):null;null!=\nthis.Y[f.id]&&(f.Aa=this.Y[f.id],c[f.id]=this.Y[f.id]);null!=this.L[f.id]&&(d[f.id]=this.L[f.id]);for(h=0;h<f.jb.length;h++)if(sd(f.jb[h],qd.V,null)){b=!0;break}null!=f&&this.S.push(f)}Ga(this.Y,c)||(this.Y=c,N(this.b,M.Zb,this.Y));Ga(this.L,d)||(this.L=d,N(this.b,M.tb,this.L));a=[];for(c=0;c<this.S.length;c++)a.push(this.S[c].A());this.ad=(new Date).valueOf();N(this.b,M.Sc,a);N(this.b,M.Tc,this.ad);b&&(q.info(\"Trigger with test condition found, firing test.\"),this.na(qd.V));this.na(qd.OPEN);b=this.hc;\nthis.hc=[];for(a=0;a<b.length;a++)this.na.apply(this,b[a])}};\nfunction Re(a,b,c,d,e,g){function f(){Qe(a);var m=g.pop();if(null!=m)if(Se(a,m,c,d,e,g),Gd(m,c)){var t=\"Server aborted in-app message display, but the timeout on fallback trigger \"+m.id+\"has already elapsed.\";0<g.length&&(t+=\" Continuing to fall back.\");q.info(t);a.H.T(m.id,Gc.Od);f()}else q.info(\"Server aborted in-app message display. Falling back to lower priority \"+m.type+\" trigger action \"+m.id),t=1E3*m.Sa-((new Date).valueOf()-c),0<t?a.ma.push(setTimeout(function(){Re(a,m,c,d,e,g)},t)):Re(a,\nm,c,d,e,g)}function h(m){Qe(a);var t=(new Date).valueOf();Gd(b,c)?b.type===Id.ee?a.H.T(b.id,Gc.sb):a.H.T(b.id,Gc.Od):!1===navigator.onLine&&b.type===Id.Gc&&m.imageUrl?(q.info(\"Not showing \"+b.type+\" trigger action \"+b.id+\" due to offline state.\"),a.H.T(b.id,Gc.nf)):(null==b.Aa||b.Lb!==Fd&&t-b.Aa>=1E3*b.Lb)&&Te(a,b,t,d)?(Nb(a.fa,[m]),Qe(a),b.Aa=t,a.za=t,N(a.b,M.Jc,t),a.Y[b.id]=t,N(a.b,M.Zb,a.Y)):q.info(\"Not displaying trigger \"+b.id+\" because display time fell outside of the acceptable time window.\")}\nswitch(b.type){case Id.Gc:var k=mc(b.data);if(null==k){q.error(\"Could not parse trigger data for trigger \"+b.id+\", ignoring.\");a.H.T(b.id,Gc.ub);break}h(k);break;case Id.ee:k=Me(b.data,h,f,c,b.Ha);if(null==k){q.error(\"Could not parse trigger data for trigger \"+b.id+\", ignoring.\");a.H.T(b.id,Gc.ub);break}be(a.H,k,d,e);break;default:q.error(\"Trigger \"+b.id+\" was of unexpected type \"+b.type+\", ignoring.\"),a.H.T(b.id,Gc.ub)}}\nNe.prototype.na=function(a,b,c){var d=this;if(Aa(qd,a,\"Cannot fire trigger action.\",\"TriggerEvents\"))if(0<this.H.fb)q.info(\"Trigger sync is currently in progress, awaiting sync completion before firing trigger event.\"),this.hc.push(arguments);else{(P(this.b,M.Tc)||0)>this.ad?Oe(this):Qe(this);for(var e=(new Date).valueOf(),g=e-this.za,f=!0,h=!0,k=[],m=0;m<this.S.length;m++){var t=this.S[m],x=e+1E3*t.Sa;if((null==t.Aa||t.Lb!==Fd&&x-t.Aa>=1E3*t.Lb)&&(null==t.startTime||t.startTime<=e)&&(null==t.endTime||\nt.endTime>=e)){for(var z=!1,A=0;A<t.jb.length;A++)if(sd(t.jb[A],a,b)){z=!0;break}z&&(f=!1,Te(this,t,x,a)&&(h=!1,k.push(t)))}}if(f)q.info(\"Trigger event \"+a+\" did not match any trigger conditions.\");else if(h)q.info(\"Ignoring \"+a+\" trigger event because a trigger was displayed \"+g/1E3+\"s ago.\");else{k.sort(function(C,J){return C.priority-J.priority});var B=k.pop();null!=B&&(q.info(\"Firing \"+B.type+\" trigger action \"+B.id+\" from trigger event \"+a+\".\"),Se(this,B,e,a,c,k),0===B.Sa?Re(this,B,e,a,c,k):\nthis.ma.push(setTimeout(function(){Re(d,B,e,a,c,k)},1E3*B.Sa)))}}};Ne.prototype.Ra=function(a){this.S=[];Q(this.b,M.Sc);if(!a){this.hc=[];this.za=null;this.Y={};this.L={};for(a=0;a<this.ma.length;a++)clearTimeout(this.ma[a]);this.ma=[];Q(this.b,M.Jc);Q(this.b,M.Zb);Q(this.b,M.tb);Q(this.b,M.Bf);Q(this.b,M.Af);Q(this.b,M.Cf)}};Ne.prototype.clearData=function(){this.S=[];this.za=null;this.Y={};this.L={};for(var a=0;a<this.ma.length;a++)clearTimeout(this.ma[a]);this.ma=[]};\nfunction Te(a,b,c,d){if(null==a.za)return!0;if(d===qd.V)return q.info(\"Ignoring minimum interval between trigger because it is a test type.\"),!0;b=b.Ke;null==b&&(b=a.Yf);return c-a.za>=1E3*b}function Se(a,b,c,d,e,g){Qe(a);a.L[b.id]=a.L[b.id]||[];var f={};f.tc=c;f.Oe=d;var h;null!=e&&(h=e.A());f.cd=h;c=[];for(d=0;d<g.length;d++)c.push(g[d].id);f.gd=c;a.L[b.id].push(f);N(a.b,M.tb,a.L)};var Ue={GOOGLE_TAG_MANAGER:\"gg\",MPARTICLE:\"mp\",SEGMENT:\"sg\",TEALIUM:\"tl\",MANUAL:\"manu\",NPM:\"npm\",CDN:\"wcd\",SHOPIFY:\"shp\"};E.BrazeSdkMetadata=Ue;\"undefined\"===typeof console&&(window.console={log:function(){}});var Ve=window.Element.prototype;\"function\"!==typeof Ve.matches&&(Ve.matches=Ve.msMatchesSelector||Ve.mozMatchesSelector||Ve.webkitMatchesSelector||function(a){a=(this.document||this.ownerDocument).querySelectorAll(a);for(var b=0;a[b]&&a[b]!==this;)++b;return!!a[b]});\nElement.prototype.closest||(Element.prototype.closest=function(a){var b=this;if(!document.documentElement.contains(b))return null;do{if(b.matches(a))return b;b=b.parentElement||b.parentNode}while(null!==b&&1===b.nodeType);return null});\nif(\"function\"!==typeof window.CustomEvent){var We=function(a,b){b=b||{bubbles:!1,cancelable:!1,detail:null};var c=document.createEvent(\"CustomEvent\");c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail);return c};We.prototype=window.Event.prototype;window.CustomEvent=We};var Xe;\"object\"===typeof module&&module.exports?Xe=module.exports:(window.appboy||(window.appboy={}),Xe=window.appboy);var Ye=Xe;var W=new function(a){function b(l,p,r){l=\"The '\"+l+\"' \"+p+\" is deprecated.\";r&&(l+=\" Please use '\"+r+\"' instead.\");q.warn(l)}function c(){q.Db();Z&&(Nb(X),X.K(),B.clearData(!1),B=null,I.clearData(!1),I=null,A.K(),A=null,K.K(),K=null,C.K(),C=null,x.K(),x=null,m.Db(),T=m=null,ne(G),t=g=h=G=null,R=[],k=null);O=Z=!1}function d(){if(O)return!1;if(!Z)throw Error(\"Appboy must be initialized before calling methods.\");return!0}var e={jg:function(l,p,r){return new De(l,p,r)},lg:function(l,p){return new le(l,\np)},pg:function(l,p,r,v,H,L,U,ob,Pa,af){null==H&&(H={});var Od=new Ce(Pa,U),bf=new Ae(U,Od,Pa,H[y.Mf]);return new Ld(l,r,v,H[y.Te],p,bf,ob,Od,Pa,U,L,af)},rc:function(){return new Lb},mg:function(l,p){return new Ke(l,p)},kg:function(l,p,r,v){return new Fe(l,p,r,v)},qg:function(l,p,r,v){return new Ne(l,p,r,v)},og:function(l,p,r,v,H,L,U){null==H&&(H={});return new pe(l,p,r,v+\"/safari/\"+p,H[y.Lf],H[y.Jf],L,H[y.Gf],H[y.qf],U)},ng:function(l){return new me(l)}};null==a&&(a=e);var g,f,h,k,m,t,x,z,A,B,C,\nJ,I,K,T,G,ea=new Lb,X=new Lb,R=[],Z=!1,O=!1;return{Jh:function(l){return Mb(ea,l)},Ih:function(l){return Mb(X,l)},nd:function(l,p){if(Z)return q.info(\"Braze has already been initialized with an API key.\"),!0;q.md(null!=p&&p[y.sf]);if(null==l||\"\"===l||\"string\"!==typeof l)return q.error(\"Braze requires a valid API key to be initialized.\"),!1;g=l;h=p||{};if(vb.Ag&&!h[y.Re])return q.info(\"Ignoring activity from crawler bot \"+navigator.userAgent),O=!0,!1;f=p=Be(l,h[y.Hf]||!1);var r=new Gb(null,!0);if(r.Z(\"ab.optOut\"))return q.info(\"Ignoring all activity due to previous opt out\"),\nr.store(\"ab.optOut\",\"This-cookie-will-expire-in-\"+Hb(r)),O=!0,!1;r=ba(Fa(h));for(var v=r.next();!v.done;v=r.next())v=v.value,-1===Ba(y).indexOf(v)&&q.warn(\"Ignoring unknown initialization option '\"+v+\"'.\");r=[\"mparticle\",\"wordpress\",\"tealium\"];null!=h[y.Zd]&&(v=h[y.Zd],-1!==r.indexOf(v)?k=v:q.error(\"Invalid sdk flavor passed: \"+v));var H=[];A=a.rc();R.push(A);B=a.mg(A,p);H.push(B);K=a.rc();R.push(K);r=h[y.zc];if(null==r||\"\"===r||\"string\"!==typeof r)return q.error(\"Braze requires a valid SDK Endpoint to be initialized. Please set the 'baseUrl' initialization option to the value of your SDK Endpoint.\"),\n!1;r=r.replace(/(\\.[a-z]+)[^\\.]*$/i,\"$1/api/v3\");0!==r.indexOf(\"http\")&&(r=\"https://\"+r);v=h[y.Nd]||h[y.Dc];h[y.Dc]&&b(y.Dc,\"initialization option\",y.Nd);if(null!=v)if(Ca(v)){for(var L=[],U=0;U<v.length;U++)Aa(je,v[U],\"devicePropertyAllowlist contained an invalid value.\",\"DeviceProperties\")&&L.push(v[U]);v=L}else q.error(\"devicePropertyAllowlist must be an array. Defaulting to all properties.\"),v=null;z=a.lg(p,v);v=new ye(p);x=a.rc();t=a.jg(p,h[y.tf],x);R.push(x);m=a.pg(g,r,\"3.5.1\",k,h,\nfunction(ob){if(Z)for(var Pa=0;Pa<H.length;Pa++)H[Pa].Hb(ob)},p,z,v,t);L=h[y.vf];null==L&&(L=30);I=a.qg(L,K,p,m);H.push(I);L=!0===h[y.Se]||!0===h[y.rf];null!=h.enableHtmlInAppMessages&&b(\"enableHtmlInAppMessages\",\"initialization option\",\"allowUserSuppliedJavascript\");C=a.rc();R.push(C);J=a.kg(C,m,p,v,L);H.push(J);ze(v,function(){J.Za()});ee(m,function(){J.Za()});m.nd();T=a.og(m.lb(),g,z,r,h,v,p);G=a.ng(m.lb());p=\"Initialized \";h&&h[y.zc]&&(p+='for the Braze backend at \"'+h[y.zc]+'\" ');q.info(p+('with API key \"'+\nl+'\".'));l=vb.language;p=!1;h&&(h[y.Ic]&&(b(y.Ic,\"initialization option\",y.Lc),l=h[y.Ic],p=!0),h[y.Lc]&&(l=h[y.Lc],p=!0));Pc(l,p);Nb(ea,h);return Z=!0},Db:function(){q.info(\"Destroying appboy instance\");f=null;c()},xg:function(l){d()&&(null==l&&q.error(\"getDeviceId must be supplied with a callback. e.g., appboy.getDeviceId(function(deviceId) {console.log('the device id is ' + deviceId)})\"),\"function\"===typeof l&&l(Pd(z).id))},Jd:function(){q.Jd()},Fd:function(l){q.Fd(l)},uc:function(){if(d()){m.uc(T);\nvar l=za.aa,p=new ra(l);va(p,l.G.Wd,function(r,v){function H(){I.na(qd.Vd,[U],ob)}var L=v.lastClick,U=v.trackingString;q.info(\"Firing push click trigger from \"+U+\" push click at \"+L);var ob=ie(m,L,U);ge(m,H,H);wa(p,l.G.Wd,r)});xa(p,l.G.Ve,function(r){Je(J,r)});xa(p,l.G.Td,function(r){var v=m;r=ba(r);for(var H=r.next();!H.done;H=r.next())if(H=H.value,H.api_key!==v.$){var L=za.aa;(new ra(L)).setItem(L.G.Td,qa.Gb(),H)}else Rd(v,H)})}},Ra:function(l,p){if(d())if(null==l||0===l.length||l!==l)q.error(\"changeUser requires a non-empty userId.\");\nelse if(997<Oa(l))q.error('Rejected user id \"'+l+'\" because it is longer than 997 bytes.');else{if(null!=p&&!Qa(p,\"set signature for new user\",\"signature\",!1))return!1;m.Ra(l.toString(),[B,J,I],T,p)}},lb:function(){if(d())return m.lb()},Dh:function(){if(d())return h[y.We]},nb:function(l){d()&&m.nb(l)},Cd:function(){d()&&m.Cd()},dh:function(l){if(d())return Mb(A,l)},jd:function(){if(d())return B.jd()},Za:function(l,p){if(d())return J.Za(l,p)},bh:function(l){if(d())return Mb(C,l)},Eb:function(){if(d())return J.Eb(!1)},\nfh:function(l){if(d())return b(\"subscribeToNewInAppMessages\",\"method\",\"subscribeToInAppMessage\"),Mb(K,l)},eh:function(l){if(d())return\"function\"!==typeof l?null:Mb(K,function(p){l(p[0]);return p.slice(1)})},ud:function(l){if(d())return l instanceof cc||l instanceof nc?m.ud(l).h:(q.error(\"inAppMessage must be an InAppMessage object\"),!1)},sd:function(l){if(d()){if(!(l instanceof cc))return q.error(\"inAppMessage must be an InAppMessage object\"),!1;var p=m.sd(l);if(p.h)for(var r=0;r<p.j.length;r++)I.na(qd.Yb,\n[l.triggerId],p.j[r]);return p.h}},rd:function(l,p){if(d()){if(!(l instanceof oc))return q.error(\"button must be an InAppMessageButton object\"),!1;if(!(p instanceof cc))return q.error(\"inAppMessage must be an InAppMessage object\"),!1;var r=m.rd(l,p);if(r.h)for(var v=0;v<r.j.length;v++)I.na(qd.Yb,[p.triggerId,l.id],r.j[v]);return r.h}},td:function(l,p,r){if(d()){if(!(l instanceof yc))return q.error(\"inAppMessage argument to logInAppMessageHtmlClick must be an HtmlMessage object.\"),!1;r=m.td(l,p,r);\nif(r.h)for(var v=0;v<r.j.length;v++)I.na(qd.Yb,[l.triggerId,p],r.j[v]);return r.h}},T:function(l,p){if(d())return l instanceof cc||l instanceof nc?Aa(Gc,p,p+\" is not a valid in-app message display failure\",\"InAppMessage.DisplayFailures\")?m.T(l.triggerId,p).h:!1:(q.error(\"inAppMessage must be an InAppMessage object\"),!1)},Va:function(l,p){if(d()){if(!Ca(l))return q.error(\"cards must be an array\"),!1;for(var r=0;r<l.length;r++)if(!(l[r]instanceof Pb))return q.error(\"Each card in cards must be a Card object\"),\n!1;return m.Va(l,p).h}},Ua:function(l,p){if(d())return l instanceof Pb?m.Ua(l,p).h:(q.error(\"card must be a Card object\"),!1)},pd:function(l){if(d())return l instanceof Pb?m.pd(l).h:(q.error(\"card must be a Card object\"),!1)},Dg:function(){if(d())return he(m,ya.uf).h},Cg:function(){if(d())return he(m,ya.bf).h},N:function(l){if(d()){for(var p=ba(R),r=p.next();!r.done;r=p.next())r.value.N(l);ea.N(l);X.N(l)}},K:function(){if(d())for(var l=ba(R),p=l.next();!p.done;p=l.next())p.value.K()},qd:function(l,\np){if(d()){if(null==l||0>=l.length)return q.error('logCustomEvent requires a non-empty eventName, got \"'+l+'\". Ignoring event.'),!1;if(!Ra(l,\"log custom event\",\"the event name\"))return!1;var r=ba(Ta(p,\"logCustomEvent\",\"eventProperties\",'log custom event \"'+l+'\"',\"event\")),v=r.next().value;r=r.next().value;if(!v)return!1;v=m.qd(l,r);if(v.h)for(q.info('Logged custom event \"'+l+'\".'),r=0;r<v.j.length;r++)I.na(qd.Bc,[l,p],v.j[r]);return v.h}},vd:function(l,p,r,v,H){if(d()){null==r&&(r=\"USD\");null==v&&\n(v=1);if(null==l||0>=l.length)return q.error('logPurchase requires a non-empty productId, got \"'+l+'\", ignoring.'),!1;if(!Ra(l,\"log purchase\",\"the purchase name\"))return!1;var L=parseFloat(p);if(isNaN(L))return q.error(\"logPurchase requires a numeric price, got \"+p+\", ignoring.\"),!1;L=L.toFixed(2);p=parseInt(v);if(isNaN(p))return q.error(\"logPurchase requires an integer quantity, got \"+v+\", ignoring.\"),!1;if(1>p||100<p)return q.error(\"logPurchase requires a quantity >1 and <100, got \"+p+\", ignoring.\"),\n!1;r=r.toUpperCase();if(-1===\"AED AFN ALL AMD ANG AOA ARS AUD AWG AZN BAM BBD BDT BGN BHD BIF BMD BND BOB BRL BSD BTC BTN BWP BYR BZD CAD CDF CHF CLF CLP CNY COP CRC CUC CUP CVE CZK DJF DKK DOP DZD EEK EGP ERN ETB EUR FJD FKP GBP GEL GGP GHS GIP GMD GNF GTQ GYD HKD HNL HRK HTG HUF IDR ILS IMP INR IQD IRR ISK JEP JMD JOD JPY KES KGS KHR KMF KPW KRW KWD KYD KZT LAK LBP LKR LRD LSL LTL LVL LYD MAD MDL MGA MKD MMK MNT MOP MRO MTL MUR MVR MWK MXN MYR MZN NAD NGN NIO NOK NPR NZD OMR PAB PEN PGK PHP PKR PLN PYG QAR RON RSD RUB RWF SAR SBD SCR SDG SEK SGD SHP SLL SOS SRD STD SVC SYP SZL THB TJS TMT TND TOP TRY TTD TWD TZS UAH UGX USD UYU UZS VEF VND VUV WST XAF XAG XAU XCD XDR XOF XPD XPF XPT YER ZAR ZMK ZMW ZWL\".split(\" \").indexOf(r))return q.error(\"logPurchase requires a valid currencyCode, got \"+\nr+\", ignoring.\"),!1;var U=ba(Ta(H,\"logPurchase\",\"purchaseProperties\",'log purchase \"'+l+'\"',\"purchase\"));v=U.next().value;U=U.next().value;if(!v)return!1;v=m.vd(l,L,r,p,U);if(v.h)for(q.info(\"Logged \"+p+\" purchase\"+(1<p?\"s\":\"\")+' of \"'+l+'\" for '+r+\" \"+L+\".\"),r=0;r<v.j.length;r++)I.na(qd.Oc,[l,H],v.j[r]);return v.h}},oa:function(){if(d())return T.oa()},Ga:function(){if(d())return T.Ga()},od:function(l,p,r){d()&&(b(\"isPushGranted\",\"method\",\"isPushPermissionGranted\"),T.od(l,p,r))},Ib:function(){if(d())return T.Ib()},\nFg:function(l,p,r){if(d())return T.subscribe(r,function(v,H,L){m.nb();\"function\"===typeof l&&l(v,H,L)},p)},hh:function(l,p){if(d())return T.unsubscribe(l,p)},Nb:function(l){if(d()){if(\"\"===l||!Qa(l,\"set signature\",\"signature\",!1))return!1;t.Nb(l);return!0}},Id:function(l){if(d())return t.Id(l)},gh:function(){d()&&(b(\"trackLocation\",\"method\"),G.watchPosition())},dd:function(l){if(d()){if(!Ca(l))return q.error(\"Cannot set SDK metadata because metadata is not an array.\"),!1;for(var p=ba(l),r=p.next();!r.done;r=\np.next())if(!Aa(Ue,r.value,\"sdkMetadata contained an invalid value.\",\"BrazeSdkMetadata\"))return!1;m.dd(l);return!0}},ah:function(){b(\"stopWebTracking\",\"method\",\"disableSDK\");null!=m&&m.nb();var l=new Gb(null,!0);l.store(\"ab.optOut\",\"This-cookie-will-expire-in-\"+Hb(l));l=za.aa;(new ra(l)).setItem(l.G.rb,l.eb,!0);c();O=!0},sg:function(){null!=m&&m.nb();var l=new Gb(null,!0);l.store(\"ab.optOut\",\"This-cookie-will-expire-in-\"+Hb(l));l=za.aa;(new ra(l)).setItem(l.G.rb,l.eb,!0);c();O=!0},Kg:function(){b(\"resumeWebTracking\",\n\"method\",\"enableSDK\");(new Gb(null,!0)).remove(\"ab.optOut\");var l=za.aa;wa(new ra(l),l.G.rb,l.eb);c()},ug:function(){(new Gb(null,!0)).remove(\"ab.optOut\");var l=za.aa;wa(new ra(l),l.G.rb,l.eb);c()},Bg:function(){return!!(new Gb(null,!0)).Z(\"ab.optOut\")},kh:function(){if(null==f)throw Error(\"Appboy must be initialized before calling methods.\");f.clearData();for(var l=Fa(za),p=0;p<l.length;p++)(new ra(za[l[p]])).clearData();Z&&(B.clearData(!0),I.clearData(!0))}}},Y={},Ze;for(Ze in E)Y[Ze]=E[Ze];\nY.initialize=W.nd;Y.destroy=W.Db;Y.getDeviceId=W.xg;Y.toggleAppboyLogging=W.Jd;Y.setLogger=W.Fd;Y.openSession=W.uc;Y.changeUser=W.Ra;Y.getUser=W.lb;Y.requestImmediateDataFlush=W.nb;Y.requestFeedRefresh=W.Cd;Y.getCachedFeed=W.jd;Y.subscribeToFeedUpdates=W.dh;Y.requestContentCardsRefresh=W.Za;Y.getCachedContentCards=W.Eb;Y.subscribeToContentCardsUpdates=W.bh;Y.logCardImpressions=W.Va;Y.logCardClick=W.Ua;Y.logCardDismissal=W.pd;Y.logFeedDisplayed=W.Dg;Y.logContentCardsDisplayed=W.Cg;\nY.logInAppMessageImpression=W.ud;Y.logInAppMessageClick=W.sd;Y.logInAppMessageButtonClick=W.rd;Y.logInAppMessageHtmlClick=W.td;Y.subscribeToNewInAppMessages=W.fh;Y.subscribeToInAppMessage=W.eh;Y.removeSubscription=W.N;Y.removeAllSubscriptions=W.K;Y.logCustomEvent=W.qd;Y.logPurchase=W.vd;Y.isPushSupported=W.oa;Y.isPushBlocked=W.Ga;Y.isPushGranted=W.od;Y.isPushPermissionGranted=W.Ib;Y.registerAppboyPushMessages=W.Fg;Y.unregisterAppboyPushMessages=W.hh;Y.setSdkAuthenticationSignature=W.Nb;\nY.subscribeToSdkAuthenticationFailures=W.Id;Y.trackLocation=W.gh;Y.addSdkMetadata=W.dd;Y.stopWebTracking=W.ah;Y.disableSDK=W.sg;Y.resumeWebTracking=W.Kg;Y.enableSDK=W.ug;Y.wipeData=W.kh;Y.isDisabled=W.Bg;for(var $e in Y)\"object\"===typeof appboyInterface?appboyInterface[$e]=Y[$e]:Ye[$e]=Y[$e];return appboyInterface});}).call(window);\n","/*\n\nBased off glamor's StyleSheet, thanks Sunil ❤️\n\nhigh performance StyleSheet for css-in-js systems\n\n- uses multiple style tags behind the scenes for millions of rules\n- uses `insertRule` for appending in production for *much* faster performance\n\n// usage\n\nimport { StyleSheet } from '@emotion/sheet'\n\nlet styleSheet = new StyleSheet({ key: '', container: document.head })\n\nstyleSheet.insert('#box { border: 1px solid red; }')\n- appends a css rule into the stylesheet\n\nstyleSheet.flush()\n- empties the stylesheet of all its contents\n\n*/\n// $FlowFixMe\nfunction sheetForTag(tag) {\n  if (tag.sheet) {\n    // $FlowFixMe\n    return tag.sheet;\n  } // this weirdness brought to you by firefox\n\n  /* istanbul ignore next */\n\n\n  for (var i = 0; i < document.styleSheets.length; i++) {\n    if (document.styleSheets[i].ownerNode === tag) {\n      // $FlowFixMe\n      return document.styleSheets[i];\n    }\n  }\n}\n\nfunction createStyleElement(options) {\n  var tag = document.createElement('style');\n  tag.setAttribute('data-emotion', options.key);\n\n  if (options.nonce !== undefined) {\n    tag.setAttribute('nonce', options.nonce);\n  }\n\n  tag.appendChild(document.createTextNode(''));\n  tag.setAttribute('data-s', '');\n  return tag;\n}\n\nvar StyleSheet = /*#__PURE__*/function () {\n  // Using Node instead of HTMLElement since container may be a ShadowRoot\n  function StyleSheet(options) {\n    var _this = this;\n\n    this._insertTag = function (tag) {\n      var before;\n\n      if (_this.tags.length === 0) {\n        if (_this.insertionPoint) {\n          before = _this.insertionPoint.nextSibling;\n        } else if (_this.prepend) {\n          before = _this.container.firstChild;\n        } else {\n          before = _this.before;\n        }\n      } else {\n        before = _this.tags[_this.tags.length - 1].nextSibling;\n      }\n\n      _this.container.insertBefore(tag, before);\n\n      _this.tags.push(tag);\n    };\n\n    this.isSpeedy = options.speedy === undefined ? process.env.NODE_ENV === 'production' : options.speedy;\n    this.tags = [];\n    this.ctr = 0;\n    this.nonce = options.nonce; // key is the value of the data-emotion attribute, it's used to identify different sheets\n\n    this.key = options.key;\n    this.container = options.container;\n    this.prepend = options.prepend;\n    this.insertionPoint = options.insertionPoint;\n    this.before = null;\n  }\n\n  var _proto = StyleSheet.prototype;\n\n  _proto.hydrate = function hydrate(nodes) {\n    nodes.forEach(this._insertTag);\n  };\n\n  _proto.insert = function insert(rule) {\n    // the max length is how many rules we have per style tag, it's 65000 in speedy mode\n    // it's 1 in dev because we insert source maps that map a single rule to a location\n    // and you can only have one source map per style tag\n    if (this.ctr % (this.isSpeedy ? 65000 : 1) === 0) {\n      this._insertTag(createStyleElement(this));\n    }\n\n    var tag = this.tags[this.tags.length - 1];\n\n    if (process.env.NODE_ENV !== 'production') {\n      var isImportRule = rule.charCodeAt(0) === 64 && rule.charCodeAt(1) === 105;\n\n      if (isImportRule && this._alreadyInsertedOrderInsensitiveRule) {\n        // this would only cause problem in speedy mode\n        // but we don't want enabling speedy to affect the observable behavior\n        // so we report this error at all times\n        console.error(\"You're attempting to insert the following rule:\\n\" + rule + '\\n\\n`@import` rules must be before all other types of rules in a stylesheet but other rules have already been inserted. Please ensure that `@import` rules are before all other rules.');\n      }\n      this._alreadyInsertedOrderInsensitiveRule = this._alreadyInsertedOrderInsensitiveRule || !isImportRule;\n    }\n\n    if (this.isSpeedy) {\n      var sheet = sheetForTag(tag);\n\n      try {\n        // this is the ultrafast version, works across browsers\n        // the big drawback is that the css won't be editable in devtools\n        sheet.insertRule(rule, sheet.cssRules.length);\n      } catch (e) {\n        if (process.env.NODE_ENV !== 'production' && !/:(-moz-placeholder|-moz-focus-inner|-moz-focusring|-ms-input-placeholder|-moz-read-write|-moz-read-only|-ms-clear|-ms-expand|-ms-reveal){/.test(rule)) {\n          console.error(\"There was a problem inserting the following rule: \\\"\" + rule + \"\\\"\", e);\n        }\n      }\n    } else {\n      tag.appendChild(document.createTextNode(rule));\n    }\n\n    this.ctr++;\n  };\n\n  _proto.flush = function flush() {\n    // $FlowFixMe\n    this.tags.forEach(function (tag) {\n      return tag.parentNode && tag.parentNode.removeChild(tag);\n    });\n    this.tags = [];\n    this.ctr = 0;\n\n    if (process.env.NODE_ENV !== 'production') {\n      this._alreadyInsertedOrderInsensitiveRule = false;\n    }\n  };\n\n  return StyleSheet;\n}();\n\nexport { StyleSheet };\n","/**\n * @param {number}\n * @return {number}\n */\nexport var abs = Math.abs\n\n/**\n * @param {number}\n * @return {string}\n */\nexport var from = String.fromCharCode\n\n/**\n * @param {object}\n * @return {object}\n */\nexport var assign = Object.assign\n\n/**\n * @param {string} value\n * @param {number} length\n * @return {number}\n */\nexport function hash (value, length) {\n\treturn charat(value, 0) ^ 45 ? (((((((length << 2) ^ charat(value, 0)) << 2) ^ charat(value, 1)) << 2) ^ charat(value, 2)) << 2) ^ charat(value, 3) : 0\n}\n\n/**\n * @param {string} value\n * @return {string}\n */\nexport function trim (value) {\n\treturn value.trim()\n}\n\n/**\n * @param {string} value\n * @param {RegExp} pattern\n * @return {string?}\n */\nexport function match (value, pattern) {\n\treturn (value = pattern.exec(value)) ? value[0] : value\n}\n\n/**\n * @param {string} value\n * @param {(string|RegExp)} pattern\n * @param {string} replacement\n * @return {string}\n */\nexport function replace (value, pattern, replacement) {\n\treturn value.replace(pattern, replacement)\n}\n\n/**\n * @param {string} value\n * @param {string} search\n * @return {number}\n */\nexport function indexof (value, search) {\n\treturn value.indexOf(search)\n}\n\n/**\n * @param {string} value\n * @param {number} index\n * @return {number}\n */\nexport function charat (value, index) {\n\treturn value.charCodeAt(index) | 0\n}\n\n/**\n * @param {string} value\n * @param {number} begin\n * @param {number} end\n * @return {string}\n */\nexport function substr (value, begin, end) {\n\treturn value.slice(begin, end)\n}\n\n/**\n * @param {string} value\n * @return {number}\n */\nexport function strlen (value) {\n\treturn value.length\n}\n\n/**\n * @param {any[]} value\n * @return {number}\n */\nexport function sizeof (value) {\n\treturn value.length\n}\n\n/**\n * @param {any} value\n * @param {any[]} array\n * @return {any}\n */\nexport function append (value, array) {\n\treturn array.push(value), value\n}\n\n/**\n * @param {string[]} array\n * @param {function} callback\n * @return {string}\n */\nexport function combine (array, callback) {\n\treturn array.map(callback).join('')\n}\n","import {from, trim, charat, strlen, substr, append, assign} from './Utility.js'\n\nexport var line = 1\nexport var column = 1\nexport var length = 0\nexport var position = 0\nexport var character = 0\nexport var characters = ''\n\n/**\n * @param {string} value\n * @param {object | null} root\n * @param {object | null} parent\n * @param {string} type\n * @param {string[] | string} props\n * @param {object[] | string} children\n * @param {number} length\n */\nexport function node (value, root, parent, type, props, children, length) {\n\treturn {value: value, root: root, parent: parent, type: type, props: props, children: children, line: line, column: column, length: length, return: ''}\n}\n\n/**\n * @param {object} root\n * @param {object} props\n * @return {object}\n */\nexport function copy (root, props) {\n\treturn assign(node('', null, null, '', null, null, 0), root, {length: -root.length}, props)\n}\n\n/**\n * @return {number}\n */\nexport function char () {\n\treturn character\n}\n\n/**\n * @return {number}\n */\nexport function prev () {\n\tcharacter = position > 0 ? charat(characters, --position) : 0\n\n\tif (column--, character === 10)\n\t\tcolumn = 1, line--\n\n\treturn character\n}\n\n/**\n * @return {number}\n */\nexport function next () {\n\tcharacter = position < length ? charat(characters, position++) : 0\n\n\tif (column++, character === 10)\n\t\tcolumn = 1, line++\n\n\treturn character\n}\n\n/**\n * @return {number}\n */\nexport function peek () {\n\treturn charat(characters, position)\n}\n\n/**\n * @return {number}\n */\nexport function caret () {\n\treturn position\n}\n\n/**\n * @param {number} begin\n * @param {number} end\n * @return {string}\n */\nexport function slice (begin, end) {\n\treturn substr(characters, begin, end)\n}\n\n/**\n * @param {number} type\n * @return {number}\n */\nexport function token (type) {\n\tswitch (type) {\n\t\t// \\0 \\t \\n \\r \\s whitespace token\n\t\tcase 0: case 9: case 10: case 13: case 32:\n\t\t\treturn 5\n\t\t// ! + , / > @ ~ isolate token\n\t\tcase 33: case 43: case 44: case 47: case 62: case 64: case 126:\n\t\t// ; { } breakpoint token\n\t\tcase 59: case 123: case 125:\n\t\t\treturn 4\n\t\t// : accompanied token\n\t\tcase 58:\n\t\t\treturn 3\n\t\t// \" ' ( [ opening delimit token\n\t\tcase 34: case 39: case 40: case 91:\n\t\t\treturn 2\n\t\t// ) ] closing delimit token\n\t\tcase 41: case 93:\n\t\t\treturn 1\n\t}\n\n\treturn 0\n}\n\n/**\n * @param {string} value\n * @return {any[]}\n */\nexport function alloc (value) {\n\treturn line = column = 1, length = strlen(characters = value), position = 0, []\n}\n\n/**\n * @param {any} value\n * @return {any}\n */\nexport function dealloc (value) {\n\treturn characters = '', value\n}\n\n/**\n * @param {number} type\n * @return {string}\n */\nexport function delimit (type) {\n\treturn trim(slice(position - 1, delimiter(type === 91 ? type + 2 : type === 40 ? type + 1 : type)))\n}\n\n/**\n * @param {string} value\n * @return {string[]}\n */\nexport function tokenize (value) {\n\treturn dealloc(tokenizer(alloc(value)))\n}\n\n/**\n * @param {number} type\n * @return {string}\n */\nexport function whitespace (type) {\n\twhile (character = peek())\n\t\tif (character < 33)\n\t\t\tnext()\n\t\telse\n\t\t\tbreak\n\n\treturn token(type) > 2 || token(character) > 3 ? '' : ' '\n}\n\n/**\n * @param {string[]} children\n * @return {string[]}\n */\nexport function tokenizer (children) {\n\twhile (next())\n\t\tswitch (token(character)) {\n\t\t\tcase 0: append(identifier(position - 1), children)\n\t\t\t\tbreak\n\t\t\tcase 2: append(delimit(character), children)\n\t\t\t\tbreak\n\t\t\tdefault: append(from(character), children)\n\t\t}\n\n\treturn children\n}\n\n/**\n * @param {number} index\n * @param {number} count\n * @return {string}\n */\nexport function escaping (index, count) {\n\twhile (--count && next())\n\t\t// not 0-9 A-F a-f\n\t\tif (character < 48 || character > 102 || (character > 57 && character < 65) || (character > 70 && character < 97))\n\t\t\tbreak\n\n\treturn slice(index, caret() + (count < 6 && peek() == 32 && next() == 32))\n}\n\n/**\n * @param {number} type\n * @return {number}\n */\nexport function delimiter (type) {\n\twhile (next())\n\t\tswitch (character) {\n\t\t\t// ] ) \" '\n\t\t\tcase type:\n\t\t\t\treturn position\n\t\t\t// \" '\n\t\t\tcase 34: case 39:\n\t\t\t\tif (type !== 34 && type !== 39)\n\t\t\t\t\tdelimiter(character)\n\t\t\t\tbreak\n\t\t\t// (\n\t\t\tcase 40:\n\t\t\t\tif (type === 41)\n\t\t\t\t\tdelimiter(type)\n\t\t\t\tbreak\n\t\t\t// \\\n\t\t\tcase 92:\n\t\t\t\tnext()\n\t\t\t\tbreak\n\t\t}\n\n\treturn position\n}\n\n/**\n * @param {number} type\n * @param {number} index\n * @return {number}\n */\nexport function commenter (type, index) {\n\twhile (next())\n\t\t// //\n\t\tif (type + character === 47 + 10)\n\t\t\tbreak\n\t\t// /*\n\t\telse if (type + character === 42 + 42 && peek() === 47)\n\t\t\tbreak\n\n\treturn '/*' + slice(index, position - 1) + '*' + from(type === 47 ? type : next())\n}\n\n/**\n * @param {number} index\n * @return {string}\n */\nexport function identifier (index) {\n\twhile (!token(peek()))\n\t\tnext()\n\n\treturn slice(index, position)\n}\n","export var MS = '-ms-'\nexport var MOZ = '-moz-'\nexport var WEBKIT = '-webkit-'\n\nexport var COMMENT = 'comm'\nexport var RULESET = 'rule'\nexport var DECLARATION = 'decl'\n\nexport var PAGE = '@page'\nexport var MEDIA = '@media'\nexport var IMPORT = '@import'\nexport var CHARSET = '@charset'\nexport var VIEWPORT = '@viewport'\nexport var SUPPORTS = '@supports'\nexport var DOCUMENT = '@document'\nexport var NAMESPACE = '@namespace'\nexport var KEYFRAMES = '@keyframes'\nexport var FONT_FACE = '@font-face'\nexport var COUNTER_STYLE = '@counter-style'\nexport var FONT_FEATURE_VALUES = '@font-feature-values'\n","import {IMPORT, COMMENT, RULESET, DECLARATION, KEYFRAMES} from './Enum.js'\nimport {strlen, sizeof} from './Utility.js'\n\n/**\n * @param {object[]} children\n * @param {function} callback\n * @return {string}\n */\nexport function serialize (children, callback) {\n\tvar output = ''\n\tvar length = sizeof(children)\n\n\tfor (var i = 0; i < length; i++)\n\t\toutput += callback(children[i], i, children, callback) || ''\n\n\treturn output\n}\n\n/**\n * @param {object} element\n * @param {number} index\n * @param {object[]} children\n * @param {function} callback\n * @return {string}\n */\nexport function stringify (element, index, children, callback) {\n\tswitch (element.type) {\n\t\tcase IMPORT: case DECLARATION: return element.return = element.return || element.value\n\t\tcase COMMENT: return ''\n\t\tcase KEYFRAMES: return element.return = element.value + '{' + serialize(element.children, callback) + '}'\n\t\tcase RULESET: element.value = element.props.join(',')\n\t}\n\n\treturn strlen(children = serialize(element.children, callback)) ? element.return = element.value + '{' + children + '}' : ''\n}\n","import {COMMENT, RULESET, DECLARATION} from './Enum.js'\nimport {abs, charat, trim, from, sizeof, strlen, substr, append, replace, indexof} from './Utility.js'\nimport {node, char, prev, next, peek, caret, alloc, dealloc, delimit, whitespace, escaping, identifier, commenter} from './Tokenizer.js'\n\n/**\n * @param {string} value\n * @return {object[]}\n */\nexport function compile (value) {\n\treturn dealloc(parse('', null, null, null, [''], value = alloc(value), 0, [0], value))\n}\n\n/**\n * @param {string} value\n * @param {object} root\n * @param {object?} parent\n * @param {string[]} rule\n * @param {string[]} rules\n * @param {string[]} rulesets\n * @param {number[]} pseudo\n * @param {number[]} points\n * @param {string[]} declarations\n * @return {object}\n */\nexport function parse (value, root, parent, rule, rules, rulesets, pseudo, points, declarations) {\n\tvar index = 0\n\tvar offset = 0\n\tvar length = pseudo\n\tvar atrule = 0\n\tvar property = 0\n\tvar previous = 0\n\tvar variable = 1\n\tvar scanning = 1\n\tvar ampersand = 1\n\tvar character = 0\n\tvar type = ''\n\tvar props = rules\n\tvar children = rulesets\n\tvar reference = rule\n\tvar characters = type\n\n\twhile (scanning)\n\t\tswitch (previous = character, character = next()) {\n\t\t\t// (\n\t\t\tcase 40:\n\t\t\t\tif (previous != 108 && charat(characters, length - 1) == 58) {\n\t\t\t\t\tif (indexof(characters += replace(delimit(character), '&', '&\\f'), '&\\f') != -1)\n\t\t\t\t\t\tampersand = -1\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t// \" ' [\n\t\t\tcase 34: case 39: case 91:\n\t\t\t\tcharacters += delimit(character)\n\t\t\t\tbreak\n\t\t\t// \\t \\n \\r \\s\n\t\t\tcase 9: case 10: case 13: case 32:\n\t\t\t\tcharacters += whitespace(previous)\n\t\t\t\tbreak\n\t\t\t// \\\n\t\t\tcase 92:\n\t\t\t\tcharacters += escaping(caret() - 1, 7)\n\t\t\t\tcontinue\n\t\t\t// /\n\t\t\tcase 47:\n\t\t\t\tswitch (peek()) {\n\t\t\t\t\tcase 42: case 47:\n\t\t\t\t\t\tappend(comment(commenter(next(), caret()), root, parent), declarations)\n\t\t\t\t\t\tbreak\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tcharacters += '/'\n\t\t\t\t}\n\t\t\t\tbreak\n\t\t\t// {\n\t\t\tcase 123 * variable:\n\t\t\t\tpoints[index++] = strlen(characters) * ampersand\n\t\t\t// } ; \\0\n\t\t\tcase 125 * variable: case 59: case 0:\n\t\t\t\tswitch (character) {\n\t\t\t\t\t// \\0 }\n\t\t\t\t\tcase 0: case 125: scanning = 0\n\t\t\t\t\t// ;\n\t\t\t\t\tcase 59 + offset:\n\t\t\t\t\t\tif (property > 0 && (strlen(characters) - length))\n\t\t\t\t\t\t\tappend(property > 32 ? declaration(characters + ';', rule, parent, length - 1) : declaration(replace(characters, ' ', '') + ';', rule, parent, length - 2), declarations)\n\t\t\t\t\t\tbreak\n\t\t\t\t\t// @ ;\n\t\t\t\t\tcase 59: characters += ';'\n\t\t\t\t\t// { rule/at-rule\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tappend(reference = ruleset(characters, root, parent, index, offset, rules, points, type, props = [], children = [], length), rulesets)\n\n\t\t\t\t\t\tif (character === 123)\n\t\t\t\t\t\t\tif (offset === 0)\n\t\t\t\t\t\t\t\tparse(characters, root, reference, reference, props, rulesets, length, points, children)\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\tswitch (atrule === 99 && charat(characters, 3) === 110 ? 100 : atrule) {\n\t\t\t\t\t\t\t\t\t// d m s\n\t\t\t\t\t\t\t\t\tcase 100: case 109: case 115:\n\t\t\t\t\t\t\t\t\t\tparse(value, reference, reference, rule && append(ruleset(value, reference, reference, 0, 0, rules, points, type, rules, props = [], length), children), rules, children, length, points, rule ? props : children)\n\t\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\t\tparse(characters, reference, reference, reference, [''], children, 0, points, children)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tindex = offset = property = 0, variable = ampersand = 1, type = characters = '', length = pseudo\n\t\t\t\tbreak\n\t\t\t// :\n\t\t\tcase 58:\n\t\t\t\tlength = 1 + strlen(characters), property = previous\n\t\t\tdefault:\n\t\t\t\tif (variable < 1)\n\t\t\t\t\tif (character == 123)\n\t\t\t\t\t\t--variable\n\t\t\t\t\telse if (character == 125 && variable++ == 0 && prev() == 125)\n\t\t\t\t\t\tcontinue\n\n\t\t\t\tswitch (characters += from(character), character * variable) {\n\t\t\t\t\t// &\n\t\t\t\t\tcase 38:\n\t\t\t\t\t\tampersand = offset > 0 ? 1 : (characters += '\\f', -1)\n\t\t\t\t\t\tbreak\n\t\t\t\t\t// ,\n\t\t\t\t\tcase 44:\n\t\t\t\t\t\tpoints[index++] = (strlen(characters) - 1) * ampersand, ampersand = 1\n\t\t\t\t\t\tbreak\n\t\t\t\t\t// @\n\t\t\t\t\tcase 64:\n\t\t\t\t\t\t// -\n\t\t\t\t\t\tif (peek() === 45)\n\t\t\t\t\t\t\tcharacters += delimit(next())\n\n\t\t\t\t\t\tatrule = peek(), offset = length = strlen(type = characters += identifier(caret())), character++\n\t\t\t\t\t\tbreak\n\t\t\t\t\t// -\n\t\t\t\t\tcase 45:\n\t\t\t\t\t\tif (previous === 45 && strlen(characters) == 2)\n\t\t\t\t\t\t\tvariable = 0\n\t\t\t\t}\n\t\t}\n\n\treturn rulesets\n}\n\n/**\n * @param {string} value\n * @param {object} root\n * @param {object?} parent\n * @param {number} index\n * @param {number} offset\n * @param {string[]} rules\n * @param {number[]} points\n * @param {string} type\n * @param {string[]} props\n * @param {string[]} children\n * @param {number} length\n * @return {object}\n */\nexport function ruleset (value, root, parent, index, offset, rules, points, type, props, children, length) {\n\tvar post = offset - 1\n\tvar rule = offset === 0 ? rules : ['']\n\tvar size = sizeof(rule)\n\n\tfor (var i = 0, j = 0, k = 0; i < index; ++i)\n\t\tfor (var x = 0, y = substr(value, post + 1, post = abs(j = points[i])), z = value; x < size; ++x)\n\t\t\tif (z = trim(j > 0 ? rule[x] + ' ' + y : replace(y, /&\\f/g, rule[x])))\n\t\t\t\tprops[k++] = z\n\n\treturn node(value, root, parent, offset === 0 ? RULESET : type, props, children, length)\n}\n\n/**\n * @param {number} value\n * @param {object} root\n * @param {object?} parent\n * @return {object}\n */\nexport function comment (value, root, parent) {\n\treturn node(value, root, parent, COMMENT, from(char()), substr(value, 2, -2), 0)\n}\n\n/**\n * @param {string} value\n * @param {object} root\n * @param {object?} parent\n * @param {number} length\n * @return {object}\n */\nexport function declaration (value, root, parent, length) {\n\treturn node(value, root, parent, DECLARATION, substr(value, 0, length), substr(value, length + 1, -1), length)\n}\n","import { StyleSheet } from '@emotion/sheet';\nimport { dealloc, alloc, next, token, from, peek, delimit, slice, position, RULESET, combine, match, serialize, copy, replace, WEBKIT, MOZ, MS, KEYFRAMES, DECLARATION, hash, charat, strlen, indexof, stringify, COMMENT, rulesheet, middleware, compile } from 'stylis';\nimport '@emotion/weak-memoize';\nimport '@emotion/memoize';\n\nvar identifierWithPointTracking = function identifierWithPointTracking(begin, points, index) {\n  var previous = 0;\n  var character = 0;\n\n  while (true) {\n    previous = character;\n    character = peek(); // &\\f\n\n    if (previous === 38 && character === 12) {\n      points[index] = 1;\n    }\n\n    if (token(character)) {\n      break;\n    }\n\n    next();\n  }\n\n  return slice(begin, position);\n};\n\nvar toRules = function toRules(parsed, points) {\n  // pretend we've started with a comma\n  var index = -1;\n  var character = 44;\n\n  do {\n    switch (token(character)) {\n      case 0:\n        // &\\f\n        if (character === 38 && peek() === 12) {\n          // this is not 100% correct, we don't account for literal sequences here - like for example quoted strings\n          // stylis inserts \\f after & to know when & where it should replace this sequence with the context selector\n          // and when it should just concatenate the outer and inner selectors\n          // it's very unlikely for this sequence to actually appear in a different context, so we just leverage this fact here\n          points[index] = 1;\n        }\n\n        parsed[index] += identifierWithPointTracking(position - 1, points, index);\n        break;\n\n      case 2:\n        parsed[index] += delimit(character);\n        break;\n\n      case 4:\n        // comma\n        if (character === 44) {\n          // colon\n          parsed[++index] = peek() === 58 ? '&\\f' : '';\n          points[index] = parsed[index].length;\n          break;\n        }\n\n      // fallthrough\n\n      default:\n        parsed[index] += from(character);\n    }\n  } while (character = next());\n\n  return parsed;\n};\n\nvar getRules = function getRules(value, points) {\n  return dealloc(toRules(alloc(value), points));\n}; // WeakSet would be more appropriate, but only WeakMap is supported in IE11\n\n\nvar fixedElements = /* #__PURE__ */new WeakMap();\nvar compat = function compat(element) {\n  if (element.type !== 'rule' || !element.parent || // positive .length indicates that this rule contains pseudo\n  // negative .length indicates that this rule has been already prefixed\n  element.length < 1) {\n    return;\n  }\n\n  var value = element.value,\n      parent = element.parent;\n  var isImplicitRule = element.column === parent.column && element.line === parent.line;\n\n  while (parent.type !== 'rule') {\n    parent = parent.parent;\n    if (!parent) return;\n  } // short-circuit for the simplest case\n\n\n  if (element.props.length === 1 && value.charCodeAt(0) !== 58\n  /* colon */\n  && !fixedElements.get(parent)) {\n    return;\n  } // if this is an implicitly inserted rule (the one eagerly inserted at the each new nested level)\n  // then the props has already been manipulated beforehand as they that array is shared between it and its \"rule parent\"\n\n\n  if (isImplicitRule) {\n    return;\n  }\n\n  fixedElements.set(element, true);\n  var points = [];\n  var rules = getRules(value, points);\n  var parentRules = parent.props;\n\n  for (var i = 0, k = 0; i < rules.length; i++) {\n    for (var j = 0; j < parentRules.length; j++, k++) {\n      element.props[k] = points[i] ? rules[i].replace(/&\\f/g, parentRules[j]) : parentRules[j] + \" \" + rules[i];\n    }\n  }\n};\nvar removeLabel = function removeLabel(element) {\n  if (element.type === 'decl') {\n    var value = element.value;\n\n    if ( // charcode for l\n    value.charCodeAt(0) === 108 && // charcode for b\n    value.charCodeAt(2) === 98) {\n      // this ignores label\n      element[\"return\"] = '';\n      element.value = '';\n    }\n  }\n};\nvar ignoreFlag = 'emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason';\n\nvar isIgnoringComment = function isIgnoringComment(element) {\n  return element.type === 'comm' && element.children.indexOf(ignoreFlag) > -1;\n};\n\nvar createUnsafeSelectorsAlarm = function createUnsafeSelectorsAlarm(cache) {\n  return function (element, index, children) {\n    if (element.type !== 'rule' || cache.compat) return;\n    var unsafePseudoClasses = element.value.match(/(:first|:nth|:nth-last)-child/g);\n\n    if (unsafePseudoClasses) {\n      var isNested = element.parent === children[0]; // in nested rules comments become children of the \"auto-inserted\" rule\n      //\n      // considering this input:\n      // .a {\n      //   .b /* comm */ {}\n      //   color: hotpink;\n      // }\n      // we get output corresponding to this:\n      // .a {\n      //   & {\n      //     /* comm */\n      //     color: hotpink;\n      //   }\n      //   .b {}\n      // }\n\n      var commentContainer = isNested ? children[0].children : // global rule at the root level\n      children;\n\n      for (var i = commentContainer.length - 1; i >= 0; i--) {\n        var node = commentContainer[i];\n\n        if (node.line < element.line) {\n          break;\n        } // it is quite weird but comments are *usually* put at `column: element.column - 1`\n        // so we seek *from the end* for the node that is earlier than the rule's `element` and check that\n        // this will also match inputs like this:\n        // .a {\n        //   /* comm */\n        //   .b {}\n        // }\n        //\n        // but that is fine\n        //\n        // it would be the easiest to change the placement of the comment to be the first child of the rule:\n        // .a {\n        //   .b { /* comm */ }\n        // }\n        // with such inputs we wouldn't have to search for the comment at all\n        // TODO: consider changing this comment placement in the next major version\n\n\n        if (node.column < element.column) {\n          if (isIgnoringComment(node)) {\n            return;\n          }\n\n          break;\n        }\n      }\n\n      unsafePseudoClasses.forEach(function (unsafePseudoClass) {\n        console.error(\"The pseudo class \\\"\" + unsafePseudoClass + \"\\\" is potentially unsafe when doing server-side rendering. Try changing it to \\\"\" + unsafePseudoClass.split('-child')[0] + \"-of-type\\\".\");\n      });\n    }\n  };\n};\n\nvar isImportRule = function isImportRule(element) {\n  return element.type.charCodeAt(1) === 105 && element.type.charCodeAt(0) === 64;\n};\n\nvar isPrependedWithRegularRules = function isPrependedWithRegularRules(index, children) {\n  for (var i = index - 1; i >= 0; i--) {\n    if (!isImportRule(children[i])) {\n      return true;\n    }\n  }\n\n  return false;\n}; // use this to remove incorrect elements from further processing\n// so they don't get handed to the `sheet` (or anything else)\n// as that could potentially lead to additional logs which in turn could be overhelming to the user\n\n\nvar nullifyElement = function nullifyElement(element) {\n  element.type = '';\n  element.value = '';\n  element[\"return\"] = '';\n  element.children = '';\n  element.props = '';\n};\n\nvar incorrectImportAlarm = function incorrectImportAlarm(element, index, children) {\n  if (!isImportRule(element)) {\n    return;\n  }\n\n  if (element.parent) {\n    console.error(\"`@import` rules can't be nested inside other rules. Please move it to the top level and put it before regular rules. Keep in mind that they can only be used within global styles.\");\n    nullifyElement(element);\n  } else if (isPrependedWithRegularRules(index, children)) {\n    console.error(\"`@import` rules can't be after other rules. Please put your `@import` rules before your other rules.\");\n    nullifyElement(element);\n  }\n};\n\n/* eslint-disable no-fallthrough */\n\nfunction prefix(value, length) {\n  switch (hash(value, length)) {\n    // color-adjust\n    case 5103:\n      return WEBKIT + 'print-' + value + value;\n    // animation, animation-(delay|direction|duration|fill-mode|iteration-count|name|play-state|timing-function)\n\n    case 5737:\n    case 4201:\n    case 3177:\n    case 3433:\n    case 1641:\n    case 4457:\n    case 2921: // text-decoration, filter, clip-path, backface-visibility, column, box-decoration-break\n\n    case 5572:\n    case 6356:\n    case 5844:\n    case 3191:\n    case 6645:\n    case 3005: // mask, mask-image, mask-(mode|clip|size), mask-(repeat|origin), mask-position, mask-composite,\n\n    case 6391:\n    case 5879:\n    case 5623:\n    case 6135:\n    case 4599:\n    case 4855: // background-clip, columns, column-(count|fill|gap|rule|rule-color|rule-style|rule-width|span|width)\n\n    case 4215:\n    case 6389:\n    case 5109:\n    case 5365:\n    case 5621:\n    case 3829:\n      return WEBKIT + value + value;\n    // appearance, user-select, transform, hyphens, text-size-adjust\n\n    case 5349:\n    case 4246:\n    case 4810:\n    case 6968:\n    case 2756:\n      return WEBKIT + value + MOZ + value + MS + value + value;\n    // flex, flex-direction\n\n    case 6828:\n    case 4268:\n      return WEBKIT + value + MS + value + value;\n    // order\n\n    case 6165:\n      return WEBKIT + value + MS + 'flex-' + value + value;\n    // align-items\n\n    case 5187:\n      return WEBKIT + value + replace(value, /(\\w+).+(:[^]+)/, WEBKIT + 'box-$1$2' + MS + 'flex-$1$2') + value;\n    // align-self\n\n    case 5443:\n      return WEBKIT + value + MS + 'flex-item-' + replace(value, /flex-|-self/, '') + value;\n    // align-content\n\n    case 4675:\n      return WEBKIT + value + MS + 'flex-line-pack' + replace(value, /align-content|flex-|-self/, '') + value;\n    // flex-shrink\n\n    case 5548:\n      return WEBKIT + value + MS + replace(value, 'shrink', 'negative') + value;\n    // flex-basis\n\n    case 5292:\n      return WEBKIT + value + MS + replace(value, 'basis', 'preferred-size') + value;\n    // flex-grow\n\n    case 6060:\n      return WEBKIT + 'box-' + replace(value, '-grow', '') + WEBKIT + value + MS + replace(value, 'grow', 'positive') + value;\n    // transition\n\n    case 4554:\n      return WEBKIT + replace(value, /([^-])(transform)/g, '$1' + WEBKIT + '$2') + value;\n    // cursor\n\n    case 6187:\n      return replace(replace(replace(value, /(zoom-|grab)/, WEBKIT + '$1'), /(image-set)/, WEBKIT + '$1'), value, '') + value;\n    // background, background-image\n\n    case 5495:\n    case 3959:\n      return replace(value, /(image-set\\([^]*)/, WEBKIT + '$1' + '$`$1');\n    // justify-content\n\n    case 4968:\n      return replace(replace(value, /(.+:)(flex-)?(.*)/, WEBKIT + 'box-pack:$3' + MS + 'flex-pack:$3'), /s.+-b[^;]+/, 'justify') + WEBKIT + value + value;\n    // (margin|padding)-inline-(start|end)\n\n    case 4095:\n    case 3583:\n    case 4068:\n    case 2532:\n      return replace(value, /(.+)-inline(.+)/, WEBKIT + '$1$2') + value;\n    // (min|max)?(width|height|inline-size|block-size)\n\n    case 8116:\n    case 7059:\n    case 5753:\n    case 5535:\n    case 5445:\n    case 5701:\n    case 4933:\n    case 4677:\n    case 5533:\n    case 5789:\n    case 5021:\n    case 4765:\n      // stretch, max-content, min-content, fill-available\n      if (strlen(value) - 1 - length > 6) switch (charat(value, length + 1)) {\n        // (m)ax-content, (m)in-content\n        case 109:\n          // -\n          if (charat(value, length + 4) !== 45) break;\n        // (f)ill-available, (f)it-content\n\n        case 102:\n          return replace(value, /(.+:)(.+)-([^]+)/, '$1' + WEBKIT + '$2-$3' + '$1' + MOZ + (charat(value, length + 3) == 108 ? '$3' : '$2-$3')) + value;\n        // (s)tretch\n\n        case 115:\n          return ~indexof(value, 'stretch') ? prefix(replace(value, 'stretch', 'fill-available'), length) + value : value;\n      }\n      break;\n    // position: sticky\n\n    case 4949:\n      // (s)ticky?\n      if (charat(value, length + 1) !== 115) break;\n    // display: (flex|inline-flex)\n\n    case 6444:\n      switch (charat(value, strlen(value) - 3 - (~indexof(value, '!important') && 10))) {\n        // stic(k)y\n        case 107:\n          return replace(value, ':', ':' + WEBKIT) + value;\n        // (inline-)?fl(e)x\n\n        case 101:\n          return replace(value, /(.+:)([^;!]+)(;|!.+)?/, '$1' + WEBKIT + (charat(value, 14) === 45 ? 'inline-' : '') + 'box$3' + '$1' + WEBKIT + '$2$3' + '$1' + MS + '$2box$3') + value;\n      }\n\n      break;\n    // writing-mode\n\n    case 5936:\n      switch (charat(value, length + 11)) {\n        // vertical-l(r)\n        case 114:\n          return WEBKIT + value + MS + replace(value, /[svh]\\w+-[tblr]{2}/, 'tb') + value;\n        // vertical-r(l)\n\n        case 108:\n          return WEBKIT + value + MS + replace(value, /[svh]\\w+-[tblr]{2}/, 'tb-rl') + value;\n        // horizontal(-)tb\n\n        case 45:\n          return WEBKIT + value + MS + replace(value, /[svh]\\w+-[tblr]{2}/, 'lr') + value;\n      }\n\n      return WEBKIT + value + MS + value + value;\n  }\n\n  return value;\n}\n\nvar prefixer = function prefixer(element, index, children, callback) {\n  if (element.length > -1) if (!element[\"return\"]) switch (element.type) {\n    case DECLARATION:\n      element[\"return\"] = prefix(element.value, element.length);\n      break;\n\n    case KEYFRAMES:\n      return serialize([copy(element, {\n        value: replace(element.value, '@', '@' + WEBKIT)\n      })], callback);\n\n    case RULESET:\n      if (element.length) return combine(element.props, function (value) {\n        switch (match(value, /(::plac\\w+|:read-\\w+)/)) {\n          // :read-(only|write)\n          case ':read-only':\n          case ':read-write':\n            return serialize([copy(element, {\n              props: [replace(value, /:(read-\\w+)/, ':' + MOZ + '$1')]\n            })], callback);\n          // :placeholder\n\n          case '::placeholder':\n            return serialize([copy(element, {\n              props: [replace(value, /:(plac\\w+)/, ':' + WEBKIT + 'input-$1')]\n            }), copy(element, {\n              props: [replace(value, /:(plac\\w+)/, ':' + MOZ + '$1')]\n            }), copy(element, {\n              props: [replace(value, /:(plac\\w+)/, MS + 'input-$1')]\n            })], callback);\n        }\n\n        return '';\n      });\n  }\n};\n\nvar defaultStylisPlugins = [prefixer];\n\nvar createCache = function createCache(options) {\n  var key = options.key;\n\n  if (process.env.NODE_ENV !== 'production' && !key) {\n    throw new Error(\"You have to configure `key` for your cache. Please make sure it's unique (and not equal to 'css') as it's used for linking styles to your cache.\\n\" + \"If multiple caches share the same key they might \\\"fight\\\" for each other's style elements.\");\n  }\n\n  if ( key === 'css') {\n    var ssrStyles = document.querySelectorAll(\"style[data-emotion]:not([data-s])\"); // get SSRed styles out of the way of React's hydration\n    // document.head is a safe place to move them to(though note document.head is not necessarily the last place they will be)\n    // note this very very intentionally targets all style elements regardless of the key to ensure\n    // that creating a cache works inside of render of a React component\n\n    Array.prototype.forEach.call(ssrStyles, function (node) {\n      // we want to only move elements which have a space in the data-emotion attribute value\n      // because that indicates that it is an Emotion 11 server-side rendered style elements\n      // while we will already ignore Emotion 11 client-side inserted styles because of the :not([data-s]) part in the selector\n      // Emotion 10 client-side inserted styles did not have data-s (but importantly did not have a space in their data-emotion attributes)\n      // so checking for the space ensures that loading Emotion 11 after Emotion 10 has inserted some styles\n      // will not result in the Emotion 10 styles being destroyed\n      var dataEmotionAttribute = node.getAttribute('data-emotion');\n\n      if (dataEmotionAttribute.indexOf(' ') === -1) {\n        return;\n      }\n      document.head.appendChild(node);\n      node.setAttribute('data-s', '');\n    });\n  }\n\n  var stylisPlugins = options.stylisPlugins || defaultStylisPlugins;\n\n  if (process.env.NODE_ENV !== 'production') {\n    // $FlowFixMe\n    if (/[^a-z-]/.test(key)) {\n      throw new Error(\"Emotion key must only contain lower case alphabetical characters and - but \\\"\" + key + \"\\\" was passed\");\n    }\n  }\n\n  var inserted = {};\n  var container;\n  var nodesToHydrate = [];\n\n  {\n    container = options.container || document.head;\n    Array.prototype.forEach.call( // this means we will ignore elements which don't have a space in them which\n    // means that the style elements we're looking at are only Emotion 11 server-rendered style elements\n    document.querySelectorAll(\"style[data-emotion^=\\\"\" + key + \" \\\"]\"), function (node) {\n      var attrib = node.getAttribute(\"data-emotion\").split(' '); // $FlowFixMe\n\n      for (var i = 1; i < attrib.length; i++) {\n        inserted[attrib[i]] = true;\n      }\n\n      nodesToHydrate.push(node);\n    });\n  }\n\n  var _insert;\n\n  var omnipresentPlugins = [compat, removeLabel];\n\n  if (process.env.NODE_ENV !== 'production') {\n    omnipresentPlugins.push(createUnsafeSelectorsAlarm({\n      get compat() {\n        return cache.compat;\n      }\n\n    }), incorrectImportAlarm);\n  }\n\n  {\n    var currentSheet;\n    var finalizingPlugins = [stringify, process.env.NODE_ENV !== 'production' ? function (element) {\n      if (!element.root) {\n        if (element[\"return\"]) {\n          currentSheet.insert(element[\"return\"]);\n        } else if (element.value && element.type !== COMMENT) {\n          // insert empty rule in non-production environments\n          // so @emotion/jest can grab `key` from the (JS)DOM for caches without any rules inserted yet\n          currentSheet.insert(element.value + \"{}\");\n        }\n      }\n    } : rulesheet(function (rule) {\n      currentSheet.insert(rule);\n    })];\n    var serializer = middleware(omnipresentPlugins.concat(stylisPlugins, finalizingPlugins));\n\n    var stylis = function stylis(styles) {\n      return serialize(compile(styles), serializer);\n    };\n\n    _insert = function insert(selector, serialized, sheet, shouldCache) {\n      currentSheet = sheet;\n\n      if (process.env.NODE_ENV !== 'production' && serialized.map !== undefined) {\n        currentSheet = {\n          insert: function insert(rule) {\n            sheet.insert(rule + serialized.map);\n          }\n        };\n      }\n\n      stylis(selector ? selector + \"{\" + serialized.styles + \"}\" : serialized.styles);\n\n      if (shouldCache) {\n        cache.inserted[serialized.name] = true;\n      }\n    };\n  }\n\n  var cache = {\n    key: key,\n    sheet: new StyleSheet({\n      key: key,\n      container: container,\n      nonce: options.nonce,\n      speedy: options.speedy,\n      prepend: options.prepend,\n      insertionPoint: options.insertionPoint\n    }),\n    nonce: options.nonce,\n    inserted: inserted,\n    registered: {},\n    insert: _insert\n  };\n  cache.sheet.hydrate(nodesToHydrate);\n  return cache;\n};\n\nexport default createCache;\n","import {MS, MOZ, WEBKIT, RULESET, KEYFRAMES, DECLARATION} from './Enum.js'\nimport {match, charat, substr, strlen, sizeof, replace, combine} from './Utility.js'\nimport {copy, tokenize} from './Tokenizer.js'\nimport {serialize} from './Serializer.js'\nimport {prefix} from './Prefixer.js'\n\n/**\n * @param {function[]} collection\n * @return {function}\n */\nexport function middleware (collection) {\n\tvar length = sizeof(collection)\n\n\treturn function (element, index, children, callback) {\n\t\tvar output = ''\n\n\t\tfor (var i = 0; i < length; i++)\n\t\t\toutput += collection[i](element, index, children, callback) || ''\n\n\t\treturn output\n\t}\n}\n\n/**\n * @param {function} callback\n * @return {function}\n */\nexport function rulesheet (callback) {\n\treturn function (element) {\n\t\tif (!element.root)\n\t\t\tif (element = element.return)\n\t\t\t\tcallback(element)\n\t}\n}\n\n/**\n * @param {object} element\n * @param {number} index\n * @param {object[]} children\n * @param {function} callback\n */\nexport function prefixer (element, index, children, callback) {\n\tif (element.length > -1)\n\t\tif (!element.return)\n\t\t\tswitch (element.type) {\n\t\t\t\tcase DECLARATION: element.return = prefix(element.value, element.length, children)\n\t\t\t\t\treturn\n\t\t\t\tcase KEYFRAMES:\n\t\t\t\t\treturn serialize([copy(element, {value: replace(element.value, '@', '@' + WEBKIT)})], callback)\n\t\t\t\tcase RULESET:\n\t\t\t\t\tif (element.length)\n\t\t\t\t\t\treturn combine(element.props, function (value) {\n\t\t\t\t\t\t\tswitch (match(value, /(::plac\\w+|:read-\\w+)/)) {\n\t\t\t\t\t\t\t\t// :read-(only|write)\n\t\t\t\t\t\t\t\tcase ':read-only': case ':read-write':\n\t\t\t\t\t\t\t\t\treturn serialize([copy(element, {props: [replace(value, /:(read-\\w+)/, ':' + MOZ + '$1')]})], callback)\n\t\t\t\t\t\t\t\t// :placeholder\n\t\t\t\t\t\t\t\tcase '::placeholder':\n\t\t\t\t\t\t\t\t\treturn serialize([\n\t\t\t\t\t\t\t\t\t\tcopy(element, {props: [replace(value, /:(plac\\w+)/, ':' + WEBKIT + 'input-$1')]}),\n\t\t\t\t\t\t\t\t\t\tcopy(element, {props: [replace(value, /:(plac\\w+)/, ':' + MOZ + '$1')]}),\n\t\t\t\t\t\t\t\t\t\tcopy(element, {props: [replace(value, /:(plac\\w+)/, MS + 'input-$1')]})\n\t\t\t\t\t\t\t\t\t], callback)\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn ''\n\t\t\t\t\t\t})\n\t\t\t}\n}\n\n/**\n * @param {object} element\n * @param {number} index\n * @param {object[]} children\n */\nexport function namespace (element) {\n\tswitch (element.type) {\n\t\tcase RULESET:\n\t\t\telement.props = element.props.map(function (value) {\n\t\t\t\treturn combine(tokenize(value), function (value, index, children) {\n\t\t\t\t\tswitch (charat(value, 0)) {\n\t\t\t\t\t\t// \\f\n\t\t\t\t\t\tcase 12:\n\t\t\t\t\t\t\treturn substr(value, 1, strlen(value))\n\t\t\t\t\t\t// \\0 ( + > ~\n\t\t\t\t\t\tcase 0: case 40: case 43: case 62: case 126:\n\t\t\t\t\t\t\treturn value\n\t\t\t\t\t\t// :\n\t\t\t\t\t\tcase 58:\n\t\t\t\t\t\t\tif (children[++index] === 'global')\n\t\t\t\t\t\t\t\tchildren[index] = '', children[++index] = '\\f' + substr(children[index], index = 1, -1)\n\t\t\t\t\t\t// \\s\n\t\t\t\t\t\tcase 32:\n\t\t\t\t\t\t\treturn index === 1 ? '' : value\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tswitch (index) {\n\t\t\t\t\t\t\t\tcase 0: element = value\n\t\t\t\t\t\t\t\t\treturn sizeof(children) > 1 ? '' : value\n\t\t\t\t\t\t\t\tcase index = sizeof(children) - 1: case 2:\n\t\t\t\t\t\t\t\t\treturn index === 2 ? value + element + element : value + element\n\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\treturn value\n\t\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\t}\n}\n","export default function _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}","var weakMemoize = function weakMemoize(func) {\n  // $FlowFixMe flow doesn't include all non-primitive types as allowed for weakmaps\n  var cache = new WeakMap();\n  return function (arg) {\n    if (cache.has(arg)) {\n      // $FlowFixMe\n      return cache.get(arg);\n    }\n\n    var ret = func(arg);\n    cache.set(arg, ret);\n    return ret;\n  };\n};\n\nexport default weakMemoize;\n","import hoistNonReactStatics$1 from 'hoist-non-react-statics';\n\n// this file isolates this package that is not tree-shakeable\n// and if this module doesn't actually contain any logic of its own\n// then Rollup just use 'hoist-non-react-statics' directly in other chunks\n\nvar hoistNonReactStatics = (function (targetComponent, sourceComponent) {\n  return hoistNonReactStatics$1(targetComponent, sourceComponent);\n});\n\nexport default hoistNonReactStatics;\n","import { createContext, useContext, forwardRef, createElement, Fragment } from 'react';\nimport createCache from '@emotion/cache';\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport weakMemoize from '@emotion/weak-memoize';\nimport hoistNonReactStatics from '../_isolated-hnrs/dist/emotion-react-_isolated-hnrs.browser.esm.js';\nimport { getRegisteredStyles, registerStyles, insertStyles } from '@emotion/utils';\nimport { serializeStyles } from '@emotion/serialize';\nimport { useInsertionEffectAlwaysWithSyncFallback } from '@emotion/use-insertion-effect-with-fallbacks';\n\nvar hasOwnProperty = {}.hasOwnProperty;\n\nvar EmotionCacheContext = /* #__PURE__ */createContext( // we're doing this to avoid preconstruct's dead code elimination in this one case\n// because this module is primarily intended for the browser and node\n// but it's also required in react native and similar environments sometimes\n// and we could have a special build just for that\n// but this is much easier and the native packages\n// might use a different theme context in the future anyway\ntypeof HTMLElement !== 'undefined' ? /* #__PURE__ */createCache({\n  key: 'css'\n}) : null);\n\nif (process.env.NODE_ENV !== 'production') {\n  EmotionCacheContext.displayName = 'EmotionCacheContext';\n}\n\nvar CacheProvider = EmotionCacheContext.Provider;\nvar __unsafe_useEmotionCache = function useEmotionCache() {\n  return useContext(EmotionCacheContext);\n};\n\nvar withEmotionCache = function withEmotionCache(func) {\n  // $FlowFixMe\n  return /*#__PURE__*/forwardRef(function (props, ref) {\n    // the cache will never be null in the browser\n    var cache = useContext(EmotionCacheContext);\n    return func(props, cache, ref);\n  });\n};\n\nvar ThemeContext = /* #__PURE__ */createContext({});\n\nif (process.env.NODE_ENV !== 'production') {\n  ThemeContext.displayName = 'EmotionThemeContext';\n}\n\nvar useTheme = function useTheme() {\n  return useContext(ThemeContext);\n};\n\nvar getTheme = function getTheme(outerTheme, theme) {\n  if (typeof theme === 'function') {\n    var mergedTheme = theme(outerTheme);\n\n    if (process.env.NODE_ENV !== 'production' && (mergedTheme == null || typeof mergedTheme !== 'object' || Array.isArray(mergedTheme))) {\n      throw new Error('[ThemeProvider] Please return an object from your theme function, i.e. theme={() => ({})}!');\n    }\n\n    return mergedTheme;\n  }\n\n  if (process.env.NODE_ENV !== 'production' && (theme == null || typeof theme !== 'object' || Array.isArray(theme))) {\n    throw new Error('[ThemeProvider] Please make your theme prop a plain object');\n  }\n\n  return _extends({}, outerTheme, theme);\n};\n\nvar createCacheWithTheme = /* #__PURE__ */weakMemoize(function (outerTheme) {\n  return weakMemoize(function (theme) {\n    return getTheme(outerTheme, theme);\n  });\n});\nvar ThemeProvider = function ThemeProvider(props) {\n  var theme = useContext(ThemeContext);\n\n  if (props.theme !== theme) {\n    theme = createCacheWithTheme(theme)(props.theme);\n  }\n\n  return /*#__PURE__*/createElement(ThemeContext.Provider, {\n    value: theme\n  }, props.children);\n};\nfunction withTheme(Component) {\n  var componentName = Component.displayName || Component.name || 'Component';\n\n  var render = function render(props, ref) {\n    var theme = useContext(ThemeContext);\n    return /*#__PURE__*/createElement(Component, _extends({\n      theme: theme,\n      ref: ref\n    }, props));\n  }; // $FlowFixMe\n\n\n  var WithTheme = /*#__PURE__*/forwardRef(render);\n  WithTheme.displayName = \"WithTheme(\" + componentName + \")\";\n  return hoistNonReactStatics(WithTheme, Component);\n}\n\nvar getLastPart = function getLastPart(functionName) {\n  // The match may be something like 'Object.createEmotionProps' or\n  // 'Loader.prototype.render'\n  var parts = functionName.split('.');\n  return parts[parts.length - 1];\n};\n\nvar getFunctionNameFromStackTraceLine = function getFunctionNameFromStackTraceLine(line) {\n  // V8\n  var match = /^\\s+at\\s+([A-Za-z0-9$.]+)\\s/.exec(line);\n  if (match) return getLastPart(match[1]); // Safari / Firefox\n\n  match = /^([A-Za-z0-9$.]+)@/.exec(line);\n  if (match) return getLastPart(match[1]);\n  return undefined;\n};\n\nvar internalReactFunctionNames = /* #__PURE__ */new Set(['renderWithHooks', 'processChild', 'finishClassComponent', 'renderToString']); // These identifiers come from error stacks, so they have to be valid JS\n// identifiers, thus we only need to replace what is a valid character for JS,\n// but not for CSS.\n\nvar sanitizeIdentifier = function sanitizeIdentifier(identifier) {\n  return identifier.replace(/\\$/g, '-');\n};\n\nvar getLabelFromStackTrace = function getLabelFromStackTrace(stackTrace) {\n  if (!stackTrace) return undefined;\n  var lines = stackTrace.split('\\n');\n\n  for (var i = 0; i < lines.length; i++) {\n    var functionName = getFunctionNameFromStackTraceLine(lines[i]); // The first line of V8 stack traces is just \"Error\"\n\n    if (!functionName) continue; // If we reach one of these, we have gone too far and should quit\n\n    if (internalReactFunctionNames.has(functionName)) break; // The component name is the first function in the stack that starts with an\n    // uppercase letter\n\n    if (/^[A-Z]/.test(functionName)) return sanitizeIdentifier(functionName);\n  }\n\n  return undefined;\n};\n\nvar typePropName = '__EMOTION_TYPE_PLEASE_DO_NOT_USE__';\nvar labelPropName = '__EMOTION_LABEL_PLEASE_DO_NOT_USE__';\nvar createEmotionProps = function createEmotionProps(type, props) {\n  if (process.env.NODE_ENV !== 'production' && typeof props.css === 'string' && // check if there is a css declaration\n  props.css.indexOf(':') !== -1) {\n    throw new Error(\"Strings are not allowed as css prop values, please wrap it in a css template literal from '@emotion/react' like this: css`\" + props.css + \"`\");\n  }\n\n  var newProps = {};\n\n  for (var key in props) {\n    if (hasOwnProperty.call(props, key)) {\n      newProps[key] = props[key];\n    }\n  }\n\n  newProps[typePropName] = type; // For performance, only call getLabelFromStackTrace in development and when\n  // the label hasn't already been computed\n\n  if (process.env.NODE_ENV !== 'production' && !!props.css && (typeof props.css !== 'object' || typeof props.css.name !== 'string' || props.css.name.indexOf('-') === -1)) {\n    var label = getLabelFromStackTrace(new Error().stack);\n    if (label) newProps[labelPropName] = label;\n  }\n\n  return newProps;\n};\n\nvar Insertion = function Insertion(_ref) {\n  var cache = _ref.cache,\n      serialized = _ref.serialized,\n      isStringTag = _ref.isStringTag;\n  registerStyles(cache, serialized, isStringTag);\n  var rules = useInsertionEffectAlwaysWithSyncFallback(function () {\n    return insertStyles(cache, serialized, isStringTag);\n  });\n\n  return null;\n};\n\nvar Emotion = /* #__PURE__ */withEmotionCache(function (props, cache, ref) {\n  var cssProp = props.css; // so that using `css` from `emotion` and passing the result to the css prop works\n  // not passing the registered cache to serializeStyles because it would\n  // make certain babel optimisations not possible\n\n  if (typeof cssProp === 'string' && cache.registered[cssProp] !== undefined) {\n    cssProp = cache.registered[cssProp];\n  }\n\n  var WrappedComponent = props[typePropName];\n  var registeredStyles = [cssProp];\n  var className = '';\n\n  if (typeof props.className === 'string') {\n    className = getRegisteredStyles(cache.registered, registeredStyles, props.className);\n  } else if (props.className != null) {\n    className = props.className + \" \";\n  }\n\n  var serialized = serializeStyles(registeredStyles, undefined, useContext(ThemeContext));\n\n  if (process.env.NODE_ENV !== 'production' && serialized.name.indexOf('-') === -1) {\n    var labelFromStack = props[labelPropName];\n\n    if (labelFromStack) {\n      serialized = serializeStyles([serialized, 'label:' + labelFromStack + ';']);\n    }\n  }\n\n  className += cache.key + \"-\" + serialized.name;\n  var newProps = {};\n\n  for (var key in props) {\n    if (hasOwnProperty.call(props, key) && key !== 'css' && key !== typePropName && (process.env.NODE_ENV === 'production' || key !== labelPropName)) {\n      newProps[key] = props[key];\n    }\n  }\n\n  newProps.ref = ref;\n  newProps.className = className;\n  return /*#__PURE__*/createElement(Fragment, null, /*#__PURE__*/createElement(Insertion, {\n    cache: cache,\n    serialized: serialized,\n    isStringTag: typeof WrappedComponent === 'string'\n  }), /*#__PURE__*/createElement(WrappedComponent, newProps));\n});\n\nif (process.env.NODE_ENV !== 'production') {\n  Emotion.displayName = 'EmotionCssPropInternal';\n}\n\nexport { CacheProvider as C, Emotion as E, ThemeContext as T, __unsafe_useEmotionCache as _, ThemeProvider as a, withTheme as b, createEmotionProps as c, hasOwnProperty as h, useTheme as u, withEmotionCache as w };\n","import { createElement, useContext, useRef, Fragment } from 'react';\nimport '@emotion/cache';\nimport { h as hasOwnProperty, E as Emotion, c as createEmotionProps, w as withEmotionCache, T as ThemeContext } from './emotion-element-6a883da9.browser.esm.js';\nexport { C as CacheProvider, T as ThemeContext, a as ThemeProvider, _ as __unsafe_useEmotionCache, u as useTheme, w as withEmotionCache, b as withTheme } from './emotion-element-6a883da9.browser.esm.js';\nimport '@babel/runtime/helpers/extends';\nimport '@emotion/weak-memoize';\nimport 'hoist-non-react-statics';\nimport '../_isolated-hnrs/dist/emotion-react-_isolated-hnrs.browser.esm.js';\nimport { insertStyles, registerStyles, getRegisteredStyles } from '@emotion/utils';\nimport { serializeStyles } from '@emotion/serialize';\nimport { useInsertionEffectWithLayoutFallback, useInsertionEffectAlwaysWithSyncFallback } from '@emotion/use-insertion-effect-with-fallbacks';\n\nvar pkg = {\n\tname: \"@emotion/react\",\n\tversion: \"11.10.5\",\n\tmain: \"dist/emotion-react.cjs.js\",\n\tmodule: \"dist/emotion-react.esm.js\",\n\tbrowser: {\n\t\t\"./dist/emotion-react.esm.js\": \"./dist/emotion-react.browser.esm.js\"\n\t},\n\texports: {\n\t\t\".\": {\n\t\t\tmodule: {\n\t\t\t\tworker: \"./dist/emotion-react.worker.esm.js\",\n\t\t\t\tbrowser: \"./dist/emotion-react.browser.esm.js\",\n\t\t\t\t\"default\": \"./dist/emotion-react.esm.js\"\n\t\t\t},\n\t\t\t\"default\": \"./dist/emotion-react.cjs.js\"\n\t\t},\n\t\t\"./jsx-runtime\": {\n\t\t\tmodule: {\n\t\t\t\tworker: \"./jsx-runtime/dist/emotion-react-jsx-runtime.worker.esm.js\",\n\t\t\t\tbrowser: \"./jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js\",\n\t\t\t\t\"default\": \"./jsx-runtime/dist/emotion-react-jsx-runtime.esm.js\"\n\t\t\t},\n\t\t\t\"default\": \"./jsx-runtime/dist/emotion-react-jsx-runtime.cjs.js\"\n\t\t},\n\t\t\"./_isolated-hnrs\": {\n\t\t\tmodule: {\n\t\t\t\tworker: \"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.worker.esm.js\",\n\t\t\t\tbrowser: \"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.browser.esm.js\",\n\t\t\t\t\"default\": \"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.esm.js\"\n\t\t\t},\n\t\t\t\"default\": \"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.cjs.js\"\n\t\t},\n\t\t\"./jsx-dev-runtime\": {\n\t\t\tmodule: {\n\t\t\t\tworker: \"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.worker.esm.js\",\n\t\t\t\tbrowser: \"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.browser.esm.js\",\n\t\t\t\t\"default\": \"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.esm.js\"\n\t\t\t},\n\t\t\t\"default\": \"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.cjs.js\"\n\t\t},\n\t\t\"./package.json\": \"./package.json\",\n\t\t\"./types/css-prop\": \"./types/css-prop.d.ts\",\n\t\t\"./macro\": \"./macro.js\"\n\t},\n\ttypes: \"types/index.d.ts\",\n\tfiles: [\n\t\t\"src\",\n\t\t\"dist\",\n\t\t\"jsx-runtime\",\n\t\t\"jsx-dev-runtime\",\n\t\t\"_isolated-hnrs\",\n\t\t\"types/*.d.ts\",\n\t\t\"macro.js\",\n\t\t\"macro.d.ts\",\n\t\t\"macro.js.flow\"\n\t],\n\tsideEffects: false,\n\tauthor: \"Emotion Contributors\",\n\tlicense: \"MIT\",\n\tscripts: {\n\t\t\"test:typescript\": \"dtslint types\"\n\t},\n\tdependencies: {\n\t\t\"@babel/runtime\": \"^7.18.3\",\n\t\t\"@emotion/babel-plugin\": \"^11.10.5\",\n\t\t\"@emotion/cache\": \"^11.10.5\",\n\t\t\"@emotion/serialize\": \"^1.1.1\",\n\t\t\"@emotion/use-insertion-effect-with-fallbacks\": \"^1.0.0\",\n\t\t\"@emotion/utils\": \"^1.2.0\",\n\t\t\"@emotion/weak-memoize\": \"^0.3.0\",\n\t\t\"hoist-non-react-statics\": \"^3.3.1\"\n\t},\n\tpeerDependencies: {\n\t\t\"@babel/core\": \"^7.0.0\",\n\t\treact: \">=16.8.0\"\n\t},\n\tpeerDependenciesMeta: {\n\t\t\"@babel/core\": {\n\t\t\toptional: true\n\t\t},\n\t\t\"@types/react\": {\n\t\t\toptional: true\n\t\t}\n\t},\n\tdevDependencies: {\n\t\t\"@babel/core\": \"^7.18.5\",\n\t\t\"@definitelytyped/dtslint\": \"0.0.112\",\n\t\t\"@emotion/css\": \"11.10.5\",\n\t\t\"@emotion/css-prettifier\": \"1.1.1\",\n\t\t\"@emotion/server\": \"11.10.0\",\n\t\t\"@emotion/styled\": \"11.10.5\",\n\t\t\"html-tag-names\": \"^1.1.2\",\n\t\treact: \"16.14.0\",\n\t\t\"svg-tag-names\": \"^1.1.1\",\n\t\ttypescript: \"^4.5.5\"\n\t},\n\trepository: \"https://github.com/emotion-js/emotion/tree/main/packages/react\",\n\tpublishConfig: {\n\t\taccess: \"public\"\n\t},\n\t\"umd:main\": \"dist/emotion-react.umd.min.js\",\n\tpreconstruct: {\n\t\tentrypoints: [\n\t\t\t\"./index.js\",\n\t\t\t\"./jsx-runtime.js\",\n\t\t\t\"./jsx-dev-runtime.js\",\n\t\t\t\"./_isolated-hnrs.js\"\n\t\t],\n\t\tumdName: \"emotionReact\",\n\t\texports: {\n\t\t\tenvConditions: [\n\t\t\t\t\"browser\",\n\t\t\t\t\"worker\"\n\t\t\t],\n\t\t\textra: {\n\t\t\t\t\"./types/css-prop\": \"./types/css-prop.d.ts\",\n\t\t\t\t\"./macro\": \"./macro.js\"\n\t\t\t}\n\t\t}\n\t}\n};\n\nvar jsx = function jsx(type, props) {\n  var args = arguments;\n\n  if (props == null || !hasOwnProperty.call(props, 'css')) {\n    // $FlowFixMe\n    return createElement.apply(undefined, args);\n  }\n\n  var argsLength = args.length;\n  var createElementArgArray = new Array(argsLength);\n  createElementArgArray[0] = Emotion;\n  createElementArgArray[1] = createEmotionProps(type, props);\n\n  for (var i = 2; i < argsLength; i++) {\n    createElementArgArray[i] = args[i];\n  } // $FlowFixMe\n\n\n  return createElement.apply(null, createElementArgArray);\n};\n\nvar warnedAboutCssPropForGlobal = false; // maintain place over rerenders.\n// initial render from browser, insertBefore context.sheet.tags[0] or if a style hasn't been inserted there yet, appendChild\n// initial client-side render from SSR, use place of hydrating tag\n\nvar Global = /* #__PURE__ */withEmotionCache(function (props, cache) {\n  if (process.env.NODE_ENV !== 'production' && !warnedAboutCssPropForGlobal && ( // check for className as well since the user is\n  // probably using the custom createElement which\n  // means it will be turned into a className prop\n  // $FlowFixMe I don't really want to add it to the type since it shouldn't be used\n  props.className || props.css)) {\n    console.error(\"It looks like you're using the css prop on Global, did you mean to use the styles prop instead?\");\n    warnedAboutCssPropForGlobal = true;\n  }\n\n  var styles = props.styles;\n  var serialized = serializeStyles([styles], undefined, useContext(ThemeContext));\n  // but it is based on a constant that will never change at runtime\n  // it's effectively like having two implementations and switching them out\n  // so it's not actually breaking anything\n\n\n  var sheetRef = useRef();\n  useInsertionEffectWithLayoutFallback(function () {\n    var key = cache.key + \"-global\"; // use case of https://github.com/emotion-js/emotion/issues/2675\n\n    var sheet = new cache.sheet.constructor({\n      key: key,\n      nonce: cache.sheet.nonce,\n      container: cache.sheet.container,\n      speedy: cache.sheet.isSpeedy\n    });\n    var rehydrating = false; // $FlowFixMe\n\n    var node = document.querySelector(\"style[data-emotion=\\\"\" + key + \" \" + serialized.name + \"\\\"]\");\n\n    if (cache.sheet.tags.length) {\n      sheet.before = cache.sheet.tags[0];\n    }\n\n    if (node !== null) {\n      rehydrating = true; // clear the hash so this node won't be recognizable as rehydratable by other <Global/>s\n\n      node.setAttribute('data-emotion', key);\n      sheet.hydrate([node]);\n    }\n\n    sheetRef.current = [sheet, rehydrating];\n    return function () {\n      sheet.flush();\n    };\n  }, [cache]);\n  useInsertionEffectWithLayoutFallback(function () {\n    var sheetRefCurrent = sheetRef.current;\n    var sheet = sheetRefCurrent[0],\n        rehydrating = sheetRefCurrent[1];\n\n    if (rehydrating) {\n      sheetRefCurrent[1] = false;\n      return;\n    }\n\n    if (serialized.next !== undefined) {\n      // insert keyframes\n      insertStyles(cache, serialized.next, true);\n    }\n\n    if (sheet.tags.length) {\n      // if this doesn't exist then it will be null so the style element will be appended\n      var element = sheet.tags[sheet.tags.length - 1].nextElementSibling;\n      sheet.before = element;\n      sheet.flush();\n    }\n\n    cache.insert(\"\", serialized, sheet, false);\n  }, [cache, serialized.name]);\n  return null;\n});\n\nif (process.env.NODE_ENV !== 'production') {\n  Global.displayName = 'EmotionGlobal';\n}\n\nfunction css() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return serializeStyles(args);\n}\n\nvar keyframes = function keyframes() {\n  var insertable = css.apply(void 0, arguments);\n  var name = \"animation-\" + insertable.name; // $FlowFixMe\n\n  return {\n    name: name,\n    styles: \"@keyframes \" + name + \"{\" + insertable.styles + \"}\",\n    anim: 1,\n    toString: function toString() {\n      return \"_EMO_\" + this.name + \"_\" + this.styles + \"_EMO_\";\n    }\n  };\n};\n\nvar classnames = function classnames(args) {\n  var len = args.length;\n  var i = 0;\n  var cls = '';\n\n  for (; i < len; i++) {\n    var arg = args[i];\n    if (arg == null) continue;\n    var toAdd = void 0;\n\n    switch (typeof arg) {\n      case 'boolean':\n        break;\n\n      case 'object':\n        {\n          if (Array.isArray(arg)) {\n            toAdd = classnames(arg);\n          } else {\n            if (process.env.NODE_ENV !== 'production' && arg.styles !== undefined && arg.name !== undefined) {\n              console.error('You have passed styles created with `css` from `@emotion/react` package to the `cx`.\\n' + '`cx` is meant to compose class names (strings) so you should convert those styles to a class name by passing them to the `css` received from <ClassNames/> component.');\n            }\n\n            toAdd = '';\n\n            for (var k in arg) {\n              if (arg[k] && k) {\n                toAdd && (toAdd += ' ');\n                toAdd += k;\n              }\n            }\n          }\n\n          break;\n        }\n\n      default:\n        {\n          toAdd = arg;\n        }\n    }\n\n    if (toAdd) {\n      cls && (cls += ' ');\n      cls += toAdd;\n    }\n  }\n\n  return cls;\n};\n\nfunction merge(registered, css, className) {\n  var registeredStyles = [];\n  var rawClassName = getRegisteredStyles(registered, registeredStyles, className);\n\n  if (registeredStyles.length < 2) {\n    return className;\n  }\n\n  return rawClassName + css(registeredStyles);\n}\n\nvar Insertion = function Insertion(_ref) {\n  var cache = _ref.cache,\n      serializedArr = _ref.serializedArr;\n  var rules = useInsertionEffectAlwaysWithSyncFallback(function () {\n\n    for (var i = 0; i < serializedArr.length; i++) {\n      var res = insertStyles(cache, serializedArr[i], false);\n    }\n  });\n\n  return null;\n};\n\nvar ClassNames = /* #__PURE__ */withEmotionCache(function (props, cache) {\n  var hasRendered = false;\n  var serializedArr = [];\n\n  var css = function css() {\n    if (hasRendered && process.env.NODE_ENV !== 'production') {\n      throw new Error('css can only be used during render');\n    }\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var serialized = serializeStyles(args, cache.registered);\n    serializedArr.push(serialized); // registration has to happen here as the result of this might get consumed by `cx`\n\n    registerStyles(cache, serialized, false);\n    return cache.key + \"-\" + serialized.name;\n  };\n\n  var cx = function cx() {\n    if (hasRendered && process.env.NODE_ENV !== 'production') {\n      throw new Error('cx can only be used during render');\n    }\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return merge(cache.registered, css, classnames(args));\n  };\n\n  var content = {\n    css: css,\n    cx: cx,\n    theme: useContext(ThemeContext)\n  };\n  var ele = props.children(content);\n  hasRendered = true;\n  return /*#__PURE__*/createElement(Fragment, null, /*#__PURE__*/createElement(Insertion, {\n    cache: cache,\n    serializedArr: serializedArr\n  }), ele);\n});\n\nif (process.env.NODE_ENV !== 'production') {\n  ClassNames.displayName = 'EmotionClassNames';\n}\n\nif (process.env.NODE_ENV !== 'production') {\n  var isBrowser = \"object\" !== 'undefined'; // #1727, #2905 for some reason Jest and Vitest evaluate modules twice if some consuming module gets mocked\n\n  var isTestEnv = typeof jest !== 'undefined' || typeof vi !== 'undefined';\n\n  if (isBrowser && !isTestEnv) {\n    // globalThis has wide browser support - https://caniuse.com/?search=globalThis, Node.js 12 and later\n    var globalContext = // $FlowIgnore\n    typeof globalThis !== 'undefined' ? globalThis // eslint-disable-line no-undef\n    : isBrowser ? window : global;\n    var globalKey = \"__EMOTION_REACT_\" + pkg.version.split('.')[0] + \"__\";\n\n    if (globalContext[globalKey]) {\n      console.warn('You are loading @emotion/react when it is already loaded. Running ' + 'multiple instances may cause problems. This can happen if multiple ' + 'versions are used, or if multiple builds of the same version are ' + 'used.');\n    }\n\n    globalContext[globalKey] = true;\n  }\n}\n\nexport { ClassNames, Global, jsx as createElement, css, jsx, keyframes };\n","import 'react';\nimport '@emotion/cache';\nimport { h as hasOwnProperty, E as Emotion, c as createEmotionProps } from '../../dist/emotion-element-6a883da9.browser.esm.js';\nimport '@babel/runtime/helpers/extends';\nimport '@emotion/weak-memoize';\nimport 'hoist-non-react-statics';\nimport '../../_isolated-hnrs/dist/emotion-react-_isolated-hnrs.browser.esm.js';\nimport '@emotion/utils';\nimport '@emotion/serialize';\nimport '@emotion/use-insertion-effect-with-fallbacks';\nimport { Fragment as Fragment$1, jsx as jsx$1, jsxs as jsxs$1 } from 'react/jsx-runtime';\n\nvar Fragment = Fragment$1;\nfunction jsx(type, props, key) {\n  if (!hasOwnProperty.call(props, 'css')) {\n    return jsx$1(type, props, key);\n  }\n\n  return jsx$1(Emotion, createEmotionProps(type, props), key);\n}\nfunction jsxs(type, props, key) {\n  if (!hasOwnProperty.call(props, 'css')) {\n    return jsxs$1(type, props, key);\n  }\n\n  return jsxs$1(Emotion, createEmotionProps(type, props), key);\n}\n\nexport { Fragment, jsx, jsxs };\n","/* eslint-disable */\n// Inspired by https://github.com/garycourt/murmurhash-js\n// Ported from https://github.com/aappleby/smhasher/blob/61a0530f28277f2e850bfc39600ce61d02b518de/src/MurmurHash2.cpp#L37-L86\nfunction murmur2(str) {\n  // 'm' and 'r' are mixing constants generated offline.\n  // They're not really 'magic', they just happen to work well.\n  // const m = 0x5bd1e995;\n  // const r = 24;\n  // Initialize the hash\n  var h = 0; // Mix 4 bytes at a time into the hash\n\n  var k,\n      i = 0,\n      len = str.length;\n\n  for (; len >= 4; ++i, len -= 4) {\n    k = str.charCodeAt(i) & 0xff | (str.charCodeAt(++i) & 0xff) << 8 | (str.charCodeAt(++i) & 0xff) << 16 | (str.charCodeAt(++i) & 0xff) << 24;\n    k =\n    /* Math.imul(k, m): */\n    (k & 0xffff) * 0x5bd1e995 + ((k >>> 16) * 0xe995 << 16);\n    k ^=\n    /* k >>> r: */\n    k >>> 24;\n    h =\n    /* Math.imul(k, m): */\n    (k & 0xffff) * 0x5bd1e995 + ((k >>> 16) * 0xe995 << 16) ^\n    /* Math.imul(h, m): */\n    (h & 0xffff) * 0x5bd1e995 + ((h >>> 16) * 0xe995 << 16);\n  } // Handle the last few bytes of the input array\n\n\n  switch (len) {\n    case 3:\n      h ^= (str.charCodeAt(i + 2) & 0xff) << 16;\n\n    case 2:\n      h ^= (str.charCodeAt(i + 1) & 0xff) << 8;\n\n    case 1:\n      h ^= str.charCodeAt(i) & 0xff;\n      h =\n      /* Math.imul(h, m): */\n      (h & 0xffff) * 0x5bd1e995 + ((h >>> 16) * 0xe995 << 16);\n  } // Do a few final mixes of the hash to ensure the last few\n  // bytes are well-incorporated.\n\n\n  h ^= h >>> 13;\n  h =\n  /* Math.imul(h, m): */\n  (h & 0xffff) * 0x5bd1e995 + ((h >>> 16) * 0xe995 << 16);\n  return ((h ^ h >>> 15) >>> 0).toString(36);\n}\n\nexport default murmur2;\n","var unitlessKeys = {\n  animationIterationCount: 1,\n  borderImageOutset: 1,\n  borderImageSlice: 1,\n  borderImageWidth: 1,\n  boxFlex: 1,\n  boxFlexGroup: 1,\n  boxOrdinalGroup: 1,\n  columnCount: 1,\n  columns: 1,\n  flex: 1,\n  flexGrow: 1,\n  flexPositive: 1,\n  flexShrink: 1,\n  flexNegative: 1,\n  flexOrder: 1,\n  gridRow: 1,\n  gridRowEnd: 1,\n  gridRowSpan: 1,\n  gridRowStart: 1,\n  gridColumn: 1,\n  gridColumnEnd: 1,\n  gridColumnSpan: 1,\n  gridColumnStart: 1,\n  msGridRow: 1,\n  msGridRowSpan: 1,\n  msGridColumn: 1,\n  msGridColumnSpan: 1,\n  fontWeight: 1,\n  lineHeight: 1,\n  opacity: 1,\n  order: 1,\n  orphans: 1,\n  tabSize: 1,\n  widows: 1,\n  zIndex: 1,\n  zoom: 1,\n  WebkitLineClamp: 1,\n  // SVG-related properties\n  fillOpacity: 1,\n  floodOpacity: 1,\n  stopOpacity: 1,\n  strokeDasharray: 1,\n  strokeDashoffset: 1,\n  strokeMiterlimit: 1,\n  strokeOpacity: 1,\n  strokeWidth: 1\n};\n\nexport default unitlessKeys;\n","import hashString from '@emotion/hash';\nimport unitless from '@emotion/unitless';\nimport memoize from '@emotion/memoize';\n\nvar ILLEGAL_ESCAPE_SEQUENCE_ERROR = \"You have illegal escape sequence in your template literal, most likely inside content's property value.\\nBecause you write your CSS inside a JavaScript string you actually have to do double escaping, so for example \\\"content: '\\\\00d7';\\\" should become \\\"content: '\\\\\\\\00d7';\\\".\\nYou can read more about this here:\\nhttps://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#ES2018_revision_of_illegal_escape_sequences\";\nvar UNDEFINED_AS_OBJECT_KEY_ERROR = \"You have passed in falsy value as style object's key (can happen when in example you pass unexported component as computed key).\";\nvar hyphenateRegex = /[A-Z]|^ms/g;\nvar animationRegex = /_EMO_([^_]+?)_([^]*?)_EMO_/g;\n\nvar isCustomProperty = function isCustomProperty(property) {\n  return property.charCodeAt(1) === 45;\n};\n\nvar isProcessableValue = function isProcessableValue(value) {\n  return value != null && typeof value !== 'boolean';\n};\n\nvar processStyleName = /* #__PURE__ */memoize(function (styleName) {\n  return isCustomProperty(styleName) ? styleName : styleName.replace(hyphenateRegex, '-$&').toLowerCase();\n});\n\nvar processStyleValue = function processStyleValue(key, value) {\n  switch (key) {\n    case 'animation':\n    case 'animationName':\n      {\n        if (typeof value === 'string') {\n          return value.replace(animationRegex, function (match, p1, p2) {\n            cursor = {\n              name: p1,\n              styles: p2,\n              next: cursor\n            };\n            return p1;\n          });\n        }\n      }\n  }\n\n  if (unitless[key] !== 1 && !isCustomProperty(key) && typeof value === 'number' && value !== 0) {\n    return value + 'px';\n  }\n\n  return value;\n};\n\nif (process.env.NODE_ENV !== 'production') {\n  var contentValuePattern = /(var|attr|counters?|url|element|(((repeating-)?(linear|radial))|conic)-gradient)\\(|(no-)?(open|close)-quote/;\n  var contentValues = ['normal', 'none', 'initial', 'inherit', 'unset'];\n  var oldProcessStyleValue = processStyleValue;\n  var msPattern = /^-ms-/;\n  var hyphenPattern = /-(.)/g;\n  var hyphenatedCache = {};\n\n  processStyleValue = function processStyleValue(key, value) {\n    if (key === 'content') {\n      if (typeof value !== 'string' || contentValues.indexOf(value) === -1 && !contentValuePattern.test(value) && (value.charAt(0) !== value.charAt(value.length - 1) || value.charAt(0) !== '\"' && value.charAt(0) !== \"'\")) {\n        throw new Error(\"You seem to be using a value for 'content' without quotes, try replacing it with `content: '\\\"\" + value + \"\\\"'`\");\n      }\n    }\n\n    var processed = oldProcessStyleValue(key, value);\n\n    if (processed !== '' && !isCustomProperty(key) && key.indexOf('-') !== -1 && hyphenatedCache[key] === undefined) {\n      hyphenatedCache[key] = true;\n      console.error(\"Using kebab-case for css properties in objects is not supported. Did you mean \" + key.replace(msPattern, 'ms-').replace(hyphenPattern, function (str, _char) {\n        return _char.toUpperCase();\n      }) + \"?\");\n    }\n\n    return processed;\n  };\n}\n\nvar noComponentSelectorMessage = 'Component selectors can only be used in conjunction with ' + '@emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware ' + 'compiler transform.';\n\nfunction handleInterpolation(mergedProps, registered, interpolation) {\n  if (interpolation == null) {\n    return '';\n  }\n\n  if (interpolation.__emotion_styles !== undefined) {\n    if (process.env.NODE_ENV !== 'production' && interpolation.toString() === 'NO_COMPONENT_SELECTOR') {\n      throw new Error(noComponentSelectorMessage);\n    }\n\n    return interpolation;\n  }\n\n  switch (typeof interpolation) {\n    case 'boolean':\n      {\n        return '';\n      }\n\n    case 'object':\n      {\n        if (interpolation.anim === 1) {\n          cursor = {\n            name: interpolation.name,\n            styles: interpolation.styles,\n            next: cursor\n          };\n          return interpolation.name;\n        }\n\n        if (interpolation.styles !== undefined) {\n          var next = interpolation.next;\n\n          if (next !== undefined) {\n            // not the most efficient thing ever but this is a pretty rare case\n            // and there will be very few iterations of this generally\n            while (next !== undefined) {\n              cursor = {\n                name: next.name,\n                styles: next.styles,\n                next: cursor\n              };\n              next = next.next;\n            }\n          }\n\n          var styles = interpolation.styles + \";\";\n\n          if (process.env.NODE_ENV !== 'production' && interpolation.map !== undefined) {\n            styles += interpolation.map;\n          }\n\n          return styles;\n        }\n\n        return createStringFromObject(mergedProps, registered, interpolation);\n      }\n\n    case 'function':\n      {\n        if (mergedProps !== undefined) {\n          var previousCursor = cursor;\n          var result = interpolation(mergedProps);\n          cursor = previousCursor;\n          return handleInterpolation(mergedProps, registered, result);\n        } else if (process.env.NODE_ENV !== 'production') {\n          console.error('Functions that are interpolated in css calls will be stringified.\\n' + 'If you want to have a css call based on props, create a function that returns a css call like this\\n' + 'let dynamicStyle = (props) => css`color: ${props.color}`\\n' + 'It can be called directly with props or interpolated in a styled call like this\\n' + \"let SomeComponent = styled('div')`${dynamicStyle}`\");\n        }\n\n        break;\n      }\n\n    case 'string':\n      if (process.env.NODE_ENV !== 'production') {\n        var matched = [];\n        var replaced = interpolation.replace(animationRegex, function (match, p1, p2) {\n          var fakeVarName = \"animation\" + matched.length;\n          matched.push(\"const \" + fakeVarName + \" = keyframes`\" + p2.replace(/^@keyframes animation-\\w+/, '') + \"`\");\n          return \"${\" + fakeVarName + \"}\";\n        });\n\n        if (matched.length) {\n          console.error('`keyframes` output got interpolated into plain string, please wrap it with `css`.\\n\\n' + 'Instead of doing this:\\n\\n' + [].concat(matched, [\"`\" + replaced + \"`\"]).join('\\n') + '\\n\\nYou should wrap it with `css` like this:\\n\\n' + (\"css`\" + replaced + \"`\"));\n        }\n      }\n\n      break;\n  } // finalize string values (regular strings and functions interpolated into css calls)\n\n\n  if (registered == null) {\n    return interpolation;\n  }\n\n  var cached = registered[interpolation];\n  return cached !== undefined ? cached : interpolation;\n}\n\nfunction createStringFromObject(mergedProps, registered, obj) {\n  var string = '';\n\n  if (Array.isArray(obj)) {\n    for (var i = 0; i < obj.length; i++) {\n      string += handleInterpolation(mergedProps, registered, obj[i]) + \";\";\n    }\n  } else {\n    for (var _key in obj) {\n      var value = obj[_key];\n\n      if (typeof value !== 'object') {\n        if (registered != null && registered[value] !== undefined) {\n          string += _key + \"{\" + registered[value] + \"}\";\n        } else if (isProcessableValue(value)) {\n          string += processStyleName(_key) + \":\" + processStyleValue(_key, value) + \";\";\n        }\n      } else {\n        if (_key === 'NO_COMPONENT_SELECTOR' && process.env.NODE_ENV !== 'production') {\n          throw new Error(noComponentSelectorMessage);\n        }\n\n        if (Array.isArray(value) && typeof value[0] === 'string' && (registered == null || registered[value[0]] === undefined)) {\n          for (var _i = 0; _i < value.length; _i++) {\n            if (isProcessableValue(value[_i])) {\n              string += processStyleName(_key) + \":\" + processStyleValue(_key, value[_i]) + \";\";\n            }\n          }\n        } else {\n          var interpolated = handleInterpolation(mergedProps, registered, value);\n\n          switch (_key) {\n            case 'animation':\n            case 'animationName':\n              {\n                string += processStyleName(_key) + \":\" + interpolated + \";\";\n                break;\n              }\n\n            default:\n              {\n                if (process.env.NODE_ENV !== 'production' && _key === 'undefined') {\n                  console.error(UNDEFINED_AS_OBJECT_KEY_ERROR);\n                }\n\n                string += _key + \"{\" + interpolated + \"}\";\n              }\n          }\n        }\n      }\n    }\n  }\n\n  return string;\n}\n\nvar labelPattern = /label:\\s*([^\\s;\\n{]+)\\s*(;|$)/g;\nvar sourceMapPattern;\n\nif (process.env.NODE_ENV !== 'production') {\n  sourceMapPattern = /\\/\\*#\\ssourceMappingURL=data:application\\/json;\\S+\\s+\\*\\//g;\n} // this is the cursor for keyframes\n// keyframes are stored on the SerializedStyles object as a linked list\n\n\nvar cursor;\nvar serializeStyles = function serializeStyles(args, registered, mergedProps) {\n  if (args.length === 1 && typeof args[0] === 'object' && args[0] !== null && args[0].styles !== undefined) {\n    return args[0];\n  }\n\n  var stringMode = true;\n  var styles = '';\n  cursor = undefined;\n  var strings = args[0];\n\n  if (strings == null || strings.raw === undefined) {\n    stringMode = false;\n    styles += handleInterpolation(mergedProps, registered, strings);\n  } else {\n    if (process.env.NODE_ENV !== 'production' && strings[0] === undefined) {\n      console.error(ILLEGAL_ESCAPE_SEQUENCE_ERROR);\n    }\n\n    styles += strings[0];\n  } // we start at 1 since we've already handled the first arg\n\n\n  for (var i = 1; i < args.length; i++) {\n    styles += handleInterpolation(mergedProps, registered, args[i]);\n\n    if (stringMode) {\n      if (process.env.NODE_ENV !== 'production' && strings[i] === undefined) {\n        console.error(ILLEGAL_ESCAPE_SEQUENCE_ERROR);\n      }\n\n      styles += strings[i];\n    }\n  }\n\n  var sourceMap;\n\n  if (process.env.NODE_ENV !== 'production') {\n    styles = styles.replace(sourceMapPattern, function (match) {\n      sourceMap = match;\n      return '';\n    });\n  } // using a global regex with .exec is stateful so lastIndex has to be reset each time\n\n\n  labelPattern.lastIndex = 0;\n  var identifierName = '';\n  var match; // https://esbench.com/bench/5b809c2cf2949800a0f61fb5\n\n  while ((match = labelPattern.exec(styles)) !== null) {\n    identifierName += '-' + // $FlowFixMe we know it's not null\n    match[1];\n  }\n\n  var name = hashString(styles) + identifierName;\n\n  if (process.env.NODE_ENV !== 'production') {\n    // $FlowFixMe SerializedStyles type doesn't have toString property (and we don't want to add it)\n    return {\n      name: name,\n      styles: styles,\n      map: sourceMap,\n      next: cursor,\n      toString: function toString() {\n        return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\";\n      }\n    };\n  }\n\n  return {\n    name: name,\n    styles: styles,\n    next: cursor\n  };\n};\n\nexport { serializeStyles };\n","function memoize(fn) {\n  var cache = Object.create(null);\n  return function (arg) {\n    if (cache[arg] === undefined) cache[arg] = fn(arg);\n    return cache[arg];\n  };\n}\n\nexport default memoize;\n","import * as React from 'react';\nimport { useLayoutEffect } from 'react';\n\nvar syncFallback = function syncFallback(create) {\n  return create();\n};\n\nvar useInsertionEffect = React['useInsertion' + 'Effect'] ? React['useInsertion' + 'Effect'] : false;\nvar useInsertionEffectAlwaysWithSyncFallback =  useInsertionEffect || syncFallback;\nvar useInsertionEffectWithLayoutFallback = useInsertionEffect || useLayoutEffect;\n\nexport { useInsertionEffectAlwaysWithSyncFallback, useInsertionEffectWithLayoutFallback };\n","var isBrowser = \"object\" !== 'undefined';\nfunction getRegisteredStyles(registered, registeredStyles, classNames) {\n  var rawClassName = '';\n  classNames.split(' ').forEach(function (className) {\n    if (registered[className] !== undefined) {\n      registeredStyles.push(registered[className] + \";\");\n    } else {\n      rawClassName += className + \" \";\n    }\n  });\n  return rawClassName;\n}\nvar registerStyles = function registerStyles(cache, serialized, isStringTag) {\n  var className = cache.key + \"-\" + serialized.name;\n\n  if ( // we only need to add the styles to the registered cache if the\n  // class name could be used further down\n  // the tree but if it's a string tag, we know it won't\n  // so we don't have to add it to registered cache.\n  // this improves memory usage since we can avoid storing the whole style string\n  (isStringTag === false || // we need to always store it if we're in compat mode and\n  // in node since emotion-server relies on whether a style is in\n  // the registered cache to know whether a style is global or not\n  // also, note that this check will be dead code eliminated in the browser\n  isBrowser === false ) && cache.registered[className] === undefined) {\n    cache.registered[className] = serialized.styles;\n  }\n};\nvar insertStyles = function insertStyles(cache, serialized, isStringTag) {\n  registerStyles(cache, serialized, isStringTag);\n  var className = cache.key + \"-\" + serialized.name;\n\n  if (cache.inserted[serialized.name] === undefined) {\n    var current = serialized;\n\n    do {\n      var maybeStyles = cache.insert(serialized === current ? \".\" + className : '', current, cache.sheet, true);\n\n      current = current.next;\n    } while (current !== undefined);\n  }\n};\n\nexport { getRegisteredStyles, insertStyles, registerStyles };\n","module.exports = desvg\n\nfunction desvg (h, svg, props) {\n  props = props || {}\n\n  var content = svg.content\n  var attributes = svg.attributes\n\n  return function (props) {\n    return h(\n      'svg',\n      Object.assign(\n        { dangerouslySetInnerHTML: { __html: content } },\n        attributes,\n        props\n      ),\n      props && props.children\n    )\n  }\n}\n","var desvg = require('.')\nvar React = require('react')\n\nmodule.exports = desvg.bind(null, React.createElement.bind(React))\n","/*\n * This module exists for optimizations in the build process through rollup and terser.  We define some global\n * constants, which can be overridden during build. By guarding certain pieces of code with functions that return these\n * constants, we can control whether or not they appear in the final bundle. (Any code guarded by a false condition will\n * never run, and will hence be dropped during treeshaking.) The two primary uses for this are stripping out calls to\n * `logger` and preventing node-related code from appearing in browser bundles.\n *\n * Attention:\n * This file should not be used to define constants/flags that are intended to be used for tree-shaking conducted by\n * users. These flags should live in their respective packages, as we identified user tooling (specifically webpack)\n * having issues tree-shaking these constants across package boundaries.\n * An example for this is the __SENTRY_DEBUG__ constant. It is declared in each package individually because we want\n * users to be able to shake away expressions that it guards.\n */\n\n/**\n * Figures out if we're building a browser bundle.\n *\n * @returns true if this is a browser bundle build.\n */\nfunction isBrowserBundle() {\n  return typeof __SENTRY_BROWSER_BUNDLE__ !== 'undefined' && !!__SENTRY_BROWSER_BUNDLE__;\n}\n\n/**\n * Get source of SDK.\n */\nfunction getSDKSource() {\n  // @ts-ignore \"npm\" is injected by rollup during build process\n  return \"npm\";\n}\n\nexport { getSDKSource, isBrowserBundle };\n//# sourceMappingURL=env.js.map\n","import { isBrowserBundle } from './env.js';\n\n/**\n * NOTE: In order to avoid circular dependencies, if you add a function to this module and it needs to print something,\n * you must either a) use `console.log` rather than the logger, or b) put your function elsewhere.\n */\n\n/**\n * Checks whether we're in the Node.js or Browser environment\n *\n * @returns Answer to given question\n */\nfunction isNodeEnv() {\n  // explicitly check for browser bundles as those can be optimized statically\n  // by terser/rollup.\n  return (\n    !isBrowserBundle() &&\n    Object.prototype.toString.call(typeof process !== 'undefined' ? process : 0) === '[object process]'\n  );\n}\n\n/**\n * Requires a module which is protected against bundler minification.\n *\n * @param request The module path to resolve\n */\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types, @typescript-eslint/no-explicit-any\nfunction dynamicRequire(mod, request) {\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n  return mod.require(request);\n}\n\n/**\n * Helper for dynamically loading module that should work with linked dependencies.\n * The problem is that we _should_ be using `require(require.resolve(moduleName, { paths: [cwd()] }))`\n * However it's _not possible_ to do that with Webpack, as it has to know all the dependencies during\n * build time. `require.resolve` is also not available in any other way, so we cannot create,\n * a fake helper like we do with `dynamicRequire`.\n *\n * We always prefer to use local package, thus the value is not returned early from each `try/catch` block.\n * That is to mimic the behavior of `require.resolve` exactly.\n *\n * @param moduleName module name to require\n * @returns possibly required module\n */\nfunction loadModule(moduleName) {\n  let mod;\n\n  try {\n    mod = dynamicRequire(module, moduleName);\n  } catch (e) {\n    // no-empty\n  }\n\n  try {\n    const { cwd } = dynamicRequire(module, 'process');\n    mod = dynamicRequire(module, `${cwd()}/node_modules/${moduleName}`) ;\n  } catch (e) {\n    // no-empty\n  }\n\n  return mod;\n}\n\nexport { dynamicRequire, isNodeEnv, loadModule };\n//# sourceMappingURL=node.js.map\n","import { isNodeEnv, dynamicRequire } from './node.js';\nimport { getGlobalObject } from './worldwide.js';\n\n// eslint-disable-next-line deprecation/deprecation\nconst WINDOW = getGlobalObject();\n\n/**\n * An object that can return the current timestamp in seconds since the UNIX epoch.\n */\n\n/**\n * A TimestampSource implementation for environments that do not support the Performance Web API natively.\n *\n * Note that this TimestampSource does not use a monotonic clock. A call to `nowSeconds` may return a timestamp earlier\n * than a previously returned value. We do not try to emulate a monotonic behavior in order to facilitate debugging. It\n * is more obvious to explain \"why does my span have negative duration\" than \"why my spans have zero duration\".\n */\nconst dateTimestampSource = {\n  nowSeconds: () => Date.now() / 1000,\n};\n\n/**\n * A partial definition of the [Performance Web API]{@link https://developer.mozilla.org/en-US/docs/Web/API/Performance}\n * for accessing a high-resolution monotonic clock.\n */\n\n/**\n * Returns a wrapper around the native Performance API browser implementation, or undefined for browsers that do not\n * support the API.\n *\n * Wrapping the native API works around differences in behavior from different browsers.\n */\nfunction getBrowserPerformance() {\n  const { performance } = WINDOW;\n  if (!performance || !performance.now) {\n    return undefined;\n  }\n\n  // Replace performance.timeOrigin with our own timeOrigin based on Date.now().\n  //\n  // This is a partial workaround for browsers reporting performance.timeOrigin such that performance.timeOrigin +\n  // performance.now() gives a date arbitrarily in the past.\n  //\n  // Additionally, computing timeOrigin in this way fills the gap for browsers where performance.timeOrigin is\n  // undefined.\n  //\n  // The assumption that performance.timeOrigin + performance.now() ~= Date.now() is flawed, but we depend on it to\n  // interact with data coming out of performance entries.\n  //\n  // Note that despite recommendations against it in the spec, browsers implement the Performance API with a clock that\n  // might stop when the computer is asleep (and perhaps under other circumstances). Such behavior causes\n  // performance.timeOrigin + performance.now() to have an arbitrary skew over Date.now(). In laptop computers, we have\n  // observed skews that can be as long as days, weeks or months.\n  //\n  // See https://github.com/getsentry/sentry-javascript/issues/2590.\n  //\n  // BUG: despite our best intentions, this workaround has its limitations. It mostly addresses timings of pageload\n  // transactions, but ignores the skew built up over time that can aversely affect timestamps of navigation\n  // transactions of long-lived web pages.\n  const timeOrigin = Date.now() - performance.now();\n\n  return {\n    now: () => performance.now(),\n    timeOrigin,\n  };\n}\n\n/**\n * Returns the native Performance API implementation from Node.js. Returns undefined in old Node.js versions that don't\n * implement the API.\n */\nfunction getNodePerformance() {\n  try {\n    const perfHooks = dynamicRequire(module, 'perf_hooks') ;\n    return perfHooks.performance;\n  } catch (_) {\n    return undefined;\n  }\n}\n\n/**\n * The Performance API implementation for the current platform, if available.\n */\nconst platformPerformance = isNodeEnv() ? getNodePerformance() : getBrowserPerformance();\n\nconst timestampSource =\n  platformPerformance === undefined\n    ? dateTimestampSource\n    : {\n        nowSeconds: () => (platformPerformance.timeOrigin + platformPerformance.now()) / 1000,\n      };\n\n/**\n * Returns a timestamp in seconds since the UNIX epoch using the Date API.\n */\nconst dateTimestampInSeconds = dateTimestampSource.nowSeconds.bind(dateTimestampSource);\n\n/**\n * Returns a timestamp in seconds since the UNIX epoch using either the Performance or Date APIs, depending on the\n * availability of the Performance API.\n *\n * See `usingPerformanceAPI` to test whether the Performance API is used.\n *\n * BUG: Note that because of how browsers implement the Performance API, the clock might stop when the computer is\n * asleep. This creates a skew between `dateTimestampInSeconds` and `timestampInSeconds`. The\n * skew can grow to arbitrary amounts like days, weeks or months.\n * See https://github.com/getsentry/sentry-javascript/issues/2590.\n */\nconst timestampInSeconds = timestampSource.nowSeconds.bind(timestampSource);\n\n// Re-exported with an old name for backwards-compatibility.\nconst timestampWithMs = timestampInSeconds;\n\n/**\n * A boolean that is true when timestampInSeconds uses the Performance API to produce monotonic timestamps.\n */\nconst usingPerformanceAPI = platformPerformance !== undefined;\n\n/**\n * Internal helper to store what is the source of browserPerformanceTimeOrigin below. For debugging only.\n */\nlet _browserPerformanceTimeOriginMode;\n\n/**\n * The number of milliseconds since the UNIX epoch. This value is only usable in a browser, and only when the\n * performance API is available.\n */\nconst browserPerformanceTimeOrigin = (() => {\n  // Unfortunately browsers may report an inaccurate time origin data, through either performance.timeOrigin or\n  // performance.timing.navigationStart, which results in poor results in performance data. We only treat time origin\n  // data as reliable if they are within a reasonable threshold of the current time.\n\n  const { performance } = WINDOW;\n  if (!performance || !performance.now) {\n    _browserPerformanceTimeOriginMode = 'none';\n    return undefined;\n  }\n\n  const threshold = 3600 * 1000;\n  const performanceNow = performance.now();\n  const dateNow = Date.now();\n\n  // if timeOrigin isn't available set delta to threshold so it isn't used\n  const timeOriginDelta = performance.timeOrigin\n    ? Math.abs(performance.timeOrigin + performanceNow - dateNow)\n    : threshold;\n  const timeOriginIsReliable = timeOriginDelta < threshold;\n\n  // While performance.timing.navigationStart is deprecated in favor of performance.timeOrigin, performance.timeOrigin\n  // is not as widely supported. Namely, performance.timeOrigin is undefined in Safari as of writing.\n  // Also as of writing, performance.timing is not available in Web Workers in mainstream browsers, so it is not always\n  // a valid fallback. In the absence of an initial time provided by the browser, fallback to the current time from the\n  // Date API.\n  // eslint-disable-next-line deprecation/deprecation\n  const navigationStart = performance.timing && performance.timing.navigationStart;\n  const hasNavigationStart = typeof navigationStart === 'number';\n  // if navigationStart isn't available set delta to threshold so it isn't used\n  const navigationStartDelta = hasNavigationStart ? Math.abs(navigationStart + performanceNow - dateNow) : threshold;\n  const navigationStartIsReliable = navigationStartDelta < threshold;\n\n  if (timeOriginIsReliable || navigationStartIsReliable) {\n    // Use the more reliable time origin\n    if (timeOriginDelta <= navigationStartDelta) {\n      _browserPerformanceTimeOriginMode = 'timeOrigin';\n      return performance.timeOrigin;\n    } else {\n      _browserPerformanceTimeOriginMode = 'navigationStart';\n      return navigationStart;\n    }\n  }\n\n  // Either both timeOrigin and navigationStart are skewed or neither is available, fallback to Date.\n  _browserPerformanceTimeOriginMode = 'dateNow';\n  return dateNow;\n})();\n\nexport { _browserPerformanceTimeOriginMode, browserPerformanceTimeOrigin, dateTimestampInSeconds, timestampInSeconds, timestampWithMs, usingPerformanceAPI };\n//# sourceMappingURL=time.js.map\n","/** Internal global with common properties and Sentry extensions  */\n\n// The code below for 'isGlobalObj' and 'GLOBAL_OBJ' was copied from core-js before modification\n// https://github.com/zloirock/core-js/blob/1b944df55282cdc99c90db5f49eb0b6eda2cc0a3/packages/core-js/internals/global.js\n// core-js has the following licence:\n//\n// Copyright (c) 2014-2022 Denis Pushkarev\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n/** Returns 'obj' if it's the global object, otherwise returns undefined */\nfunction isGlobalObj(obj) {\n  return obj && obj.Math == Math ? obj : undefined;\n}\n\n/** Get's the global object for the current JavaScript runtime */\nconst GLOBAL_OBJ =\n  (typeof globalThis == 'object' && isGlobalObj(globalThis)) ||\n  // eslint-disable-next-line no-restricted-globals\n  (typeof window == 'object' && isGlobalObj(window)) ||\n  (typeof self == 'object' && isGlobalObj(self)) ||\n  (typeof global == 'object' && isGlobalObj(global)) ||\n  (function () {\n    return this;\n  })() ||\n  {};\n\n/**\n * @deprecated Use GLOBAL_OBJ instead or WINDOW from @sentry/browser. This will be removed in v8\n */\nfunction getGlobalObject() {\n  return GLOBAL_OBJ ;\n}\n\n/**\n * Returns a global singleton contained in the global `__SENTRY__` object.\n *\n * If the singleton doesn't already exist in `__SENTRY__`, it will be created using the given factory\n * function and added to the `__SENTRY__` object.\n *\n * @param name name of the global singleton on __SENTRY__\n * @param creator creator Factory function to create the singleton if it doesn't already exist on `__SENTRY__`\n * @param obj (Optional) The global object on which to look for `__SENTRY__`, if not `GLOBAL_OBJ`'s return value\n * @returns the singleton\n */\nfunction getGlobalSingleton(name, creator, obj) {\n  const gbl = (obj || GLOBAL_OBJ) ;\n  const __SENTRY__ = (gbl.__SENTRY__ = gbl.__SENTRY__ || {});\n  const singleton = __SENTRY__[name] || (__SENTRY__[name] = creator());\n  return singleton;\n}\n\nexport { GLOBAL_OBJ, getGlobalObject, getGlobalSingleton };\n//# sourceMappingURL=worldwide.js.map\n","\nmodule.exports = {\"attributes\":{\"width\":\"24\",\"height\":\"24\",\"viewBox\":\"0 0 24 24\"},\"content\":\"<g fill-rule=\\\"evenodd\\\"><path class=\\\"rich-link__arrow-icon\\\" d=\\\"m12 0c-6.627 0-12 5.373-12 12 0 6.627 5.373 12 12 12 6.627 0 12-5.373 12-12 0-6.627-5.373-12-12-12m.21 19l-.637-.668 4.888-6.326h-11.465v-1.01h11.465l-4.888-6.333.637-.668 6.79 7.158v.685l-6.79 7.157\\\"/></g>\"}\nvar desvg = require('@kossnocorp/desvg/react')\nmodule.exports = desvg(module.exports)\n","\nmodule.exports = {\"attributes\":{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"30\",\"height\":\"30\",\"viewBox\":\"0 0 30 30\"},\"content\":\"<path d=\\\"M22.8 14.6l-7.6-7.6-.7.7 5.5 6.6h-14v1.5h14l-5.5 6.6.7.7 7.6-7.6v-.9\\\"/>\"}\nvar desvg = require('@kossnocorp/desvg/react')\nmodule.exports = desvg(module.exports)\n","\nmodule.exports = {\"attributes\":{\"width\":\"18\",\"height\":\"13\",\"viewBox\":\"0 0 18 13\"},\"content\":\"<path d=\\\"M18 3.5v8l-1.5 1.5h-15l-1.5-1.5v-8l1.5-1.5h3.5l2-2h4l2 2h3.5l1.5 1.5zm-9 7.5c1.9 0 3.5-1.6 3.5-3.5s-1.6-3.5-3.5-3.5-3.5 1.6-3.5 3.5 1.6 3.5 3.5 3.5z\\\"/>\"}\nvar desvg = require('@kossnocorp/desvg/react')\nmodule.exports = desvg(module.exports)\n","\nmodule.exports = {\"attributes\":{\"width\":\"11\",\"height\":\"11\",\"viewBox\":\"0 0 11 11\"},\"content\":\"<path d=\\\"M5.4 0C2.4 0 0 2.4 0 5.4s2.4 5.4 5.4 5.4 5.4-2.4 5.4-5.4S8.4 0 5.4 0zm3 6.8H4.7V1.7h.7L6 5.4l2.4.6v.8z\\\"></path>\"}\nvar desvg = require('@kossnocorp/desvg/react')\nmodule.exports = desvg(module.exports)\n","\nmodule.exports = {\"attributes\":{\"width\":\"16\",\"height\":\"16\",\"viewBox\":\"0 0 16 16\"},\"content\":\"<path d=\\\"M13 0l1 1v7l-1 1H7l-2 3H4V9H2L1 8V1l1-1h11z\\\"></path>\"}\nvar desvg = require('@kossnocorp/desvg/react')\nmodule.exports = desvg(module.exports)\n","\nmodule.exports = {\"attributes\":{\"viewBox\":\"0 0 32 32\"},\"content\":\"<rect x=\\\"5\\\" y=\\\"15\\\" width=\\\"22\\\" height=\\\"3\\\"></rect>\"}\nvar desvg = require('@kossnocorp/desvg/react')\nmodule.exports = desvg(module.exports)\n","\nmodule.exports = {\"attributes\":{\"width\":\"18\",\"height\":\"18\",\"viewBox\":\"-4 -4 32 32\",\"xmlns\":\"http://www.w3.org/2000/svg\"},\"content\":\"<path d=\\\"M12,-4 a15,15 0,0,0 0,32 15,15 0,0,0 0,-32     M20 21L19 21H5L4 21V3L5 2H16L20 6V21Z     M18 8H6V9.5H18V8Z     M18 11H6V12.5H18V11Z     M13 14H6V15.5H13V14Z\\\" />\"}\nvar desvg = require('@kossnocorp/desvg/react')\nmodule.exports = desvg(module.exports)\n","\nmodule.exports = {\"attributes\":{\"width\":\"18\",\"height\":\"18\",\"viewBox\":\"0 0 18 18\"},\"content\":\"<path d=\\\"M8.2 0h1.6l.4 7.8 7.8.4v1.6l-7.8.4-.4 7.8H8.2l-.4-7.8L0 9.8V8.2l7.8-.4.4-7.8z\\\"/>\"}\nvar desvg = require('@kossnocorp/desvg/react')\nmodule.exports = desvg(module.exports)\n","\nmodule.exports = {\"attributes\":{\"width\":\"14\",\"height\":\"14\",\"viewBox\":\"0 0 14 14\"},\"content\":\"<path d=\\\"M7 0C3.1 0 0 3.1 0 7c0 2 .9 3.9 2.4 5.2C3.6 13.4 5.3 14 7 14c1.7 0 3.4-.6 4.7-1.8C13.2 10.9 14 9 14 7c0-3.9-3.1-7-7-7zm0 1.8c1.3 0 2.1.8 2.1 2.1S8 6.3 7 6.3c-.8 0-2-1.1-2-2.4 0-1.4.7-2.1 2-2.1zm0 11.6c-1.7 0-3.3-.7-4.5-1.8l.8-3.2.5-.5c1-.4 2.1-.5 3.1-.5 1.1 0 2.1.2 3.1.5l.5.5.9 3.2c-1.1 1.2-2.7 1.8-4.4 1.8z\\\"/>\"}\nvar desvg = require('@kossnocorp/desvg/react')\nmodule.exports = desvg(module.exports)\n","\nmodule.exports = {\"attributes\":{\"width\":\"18\",\"height\":\"18\",\"viewBox\":\"0 0 18 18\"},\"content\":\"<path d=\\\"M6.5 1.6c2.7 0 4.9 2.2 4.9 4.9s-2.2 4.9-4.9 4.9-4.9-2.2-4.9-4.9 2.2-4.9 4.9-4.9m0-1.6c-3.6 0-6.5 2.9-6.5 6.5s2.9 6.5 6.5 6.5 6.5-2.9 6.5-6.5-2.9-6.5-6.5-6.5zm6.6 11.5l4.9 4.9-1.6 1.6-4.9-4.9v-.8l.8-.8h.8z\\\"/>\"}\nvar desvg = require('@kossnocorp/desvg/react')\nmodule.exports = desvg(module.exports)\n","\nmodule.exports = {\"attributes\":{\"width\":\"12\",\"height\":\"12\",\"viewBox\":\"0 0 12 12\",\"xmlns\":\"http://www.w3.org/2000/svg\"},\"content\":\"<path d=\\\"M10.073 8.4c-.475     0-.906.19-1.225.497l-5.308-2.676.015-.221-.015-.221     5.308-2.676c.319.308.75.497 1.225.497.982 0 1.778-.806     1.778-1.8s-.796-1.8-1.778-1.8-1.778.806-1.778 1.8l.016.233-5.299     2.675c-.32-.313-.755-.507-1.236-.507-.982 0-1.778.806-1.778 1.8s.796 1.8     1.778 1.8c.48 0 .915-.194 1.236-.507l5.299 2.675-.016.233c0 .994.796 1.8     1.778 1.8s1.778-.806 1.778-1.8-.796-1.8-1.778-1.8zm0-7.68c.588 0     1.067.484 1.067 1.08 0 .596-.479 1.08-1.067     1.08s-1.067-.484-1.067-1.08c0-.596.479-1.08 1.067-1.08zm0 10.56c-.588     0-1.067-.484-1.067-1.08 0-.596.479-1.08 1.067-1.08s1.067.484 1.067     1.08c0 .596-.479 1.08-1.067 1.08z\\\"></path>\"}\nvar desvg = require('@kossnocorp/desvg/react')\nmodule.exports = desvg(module.exports)\n","\nmodule.exports = {\"attributes\":{\"width\":\"36\",\"height\":\"23\",\"viewBox\":\"0 0 36 23\"},\"content\":\"<path d=\\\"M3.2 0l-3.2 3.3v16.4l3.3 3.3h18.7v-23h-18.8m30.4 1l-8.6 8v5l8.6 8h2.4v-21h-2.4\\\"/>\"}\nvar desvg = require('@kossnocorp/desvg/react')\nmodule.exports = desvg(module.exports)\n","\nmodule.exports = {\"attributes\":{\"width\":\"18\",\"height\":\"18\",\"viewBox\":\"0 0 18 18\"},\"content\":\"<path d=\\\"M7.5 9L1 2l1-1 7 6.5L16 1l1 1-6.5 7 6.5 7-1 1-7-6.5L2 17l-1-1 6.5-7z\\\"></path>\"}\nvar desvg = require('@kossnocorp/desvg/react')\nmodule.exports = desvg(module.exports)\n","\nmodule.exports = {\"attributes\":{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"88.9\",\"height\":\"47\"},\"content\":\"<path d=\\\"M20.2 15.6l1.5-.8V2.6h-1.2l-2.9 3.8h-.3l.2-4.2H30l.2 4.2h-.3l-2.8-3.8h-1.2v12.2l1.6.8v.4h-7.2v-.4zm11.2-.6V1.5L30.2 1V.8l4.4-.8h.4v6.4l.1-.1a6 6 0 0 1 3.7-1.4c1.9 0 2.7 1.1 2.7 3.1v7l1 .6v.4h-5.7v-.4l1-.6V8c0-1.1-.5-1.5-1.4-1.5-.6 0-1.1.2-1.5.5v8l1 .6v.4h-5.7v-.4l1.2-.6zm14.3-4.1c.1 2.2 1.1 4 3.5 4 1.1 0 2-.5 2.7-.9v.4c-.6.8-2.1 1.9-4.2 1.9-3.7 0-5.5-2-5.5-5.6 0-3.5 2.1-5.6 5.4-5.6 3.1 0 4.7 1.6 4.7 5.7v.1h-6.6zm0-.5l3.2-.2c0-2.8-.5-4.6-1.4-4.6-1 0-1.8 2.1-1.8 4.8zM0 21.4c0-5.9 3.9-8 8.2-8 1.8 0 3.6.3 4.5.7l.1 4.1h-.4l-2.5-4C9.5 14 9 14 8.3 14c-2.3 0-3.5 2.7-3.4 7 0 5.2 1 7.6 3.1 7.6l1.3-.2v-5.6L7.8 22v-.5h6.7v.5l-1.4.8v5.5c-1.1.4-3.1.9-5.1.9-4.9 0-8-2.3-8-7.8z\\\"/><path d=\\\"M13.9 18.6v-.3l4.5-.8h.5v8.9c0 1.1.5 1.4 1.4 1.4.6 0 1.1-.2 1.5-.7v-8l-1.2-.5v-.4l4.5-.8h.5v10.2l1.2.5v.3l-4.5.6h-.5v-1.3h-.1c-.8.8-2 1.4-3.4 1.4-2.2 0-3.2-1.3-3.2-3.2v-6.8l-1.2-.5zm28.5-1.1h.4v3.3h.1c.5-2.4 1.6-3.3 2.9-3.3l.6.1V21l-.9-.1c-1 0-1.8.2-2.5.5v6.5l1 .6v.4h-6v-.4l1.1-.6V19l-1.2-.4v-.3l4.5-.8zm11.3.2v-3.5l-1.2-.4v-.3l4.6-.8.4.1v15l1.3.5v.4l-4.5.6h-.4v-1.2h-.1a4 4 0 0 1-3 1.3c-2.5 0-4.3-1.9-4.3-5.7 0-4.1 2.1-6.1 5.3-6.1.9-.2 1.6 0 1.9.1zm0 9.6v-9c-.3-.2-.5-.4-1.3-.4-1.2 0-2 1.9-2 5.2 0 3 .5 4.6 2.2 4.6.5 0 .9-.1 1.1-.4zm10-9.8h.4v10.4l1 .6v.4h-5.9v-.4l1.1-.6v-8.8l-1.3-.5v-.3l4.7-.8zm.4-2.9c0 1.1-.9 1.9-2 1.9s-2-.8-2-1.9c0-1.1.9-1.9 2-1.9s2 .8 2 1.9zm13.2 13.3V19l-1.2-.4v-.4l4.5-.8h.5v1.3h.1c1-.9 2.4-1.4 3.9-1.4 2 0 2.8.9 2.8 3v7.6l1.1.6v.4h-6v-.4l1.1-.6v-7.4c0-1.1-.5-1.6-1.4-1.6a3 3 0 0 0-1.6.5v8.5l1 .6v.4h-5.9v-.4l1.1-.6zm-6.4-5.6v-1.5c0-2.2-.5-3-1.9-3h-.5L66 21.1h-.3V18c1.1-.3 2.4-.7 4.1-.7 3 0 4.8.8 4.8 3.4v7.2l1.1.3v.3c-.4.3-1.3.5-2.2.5-1.5 0-2.2-.5-2.5-1.3h-.1c-.6.9-1.5 1.3-2.9 1.3-1.8 0-3-1.1-3-3.1 0-1.9 1.2-2.9 3.5-3.3l2.4-.3zm0 5v-4.5l-.8.1c-1.2.1-1.6.9-1.6 2.5 0 1.8.6 2.3 1.4 2.3.6 0 .8-.1 1-.4zm-38.1-5v-1.5c0-2.2-.5-3-1.9-3h-.5L28 21.3h-.3v-3.1c1.1-.3 2.4-.7 4.1-.7 3 0 4.8.8 4.8 3.4v7.2l1.1.3v.3c-.4.3-1.3.5-2.2.5-1.5 0-2.2-.5-2.5-1.3h-.1c-.6.9-1.5 1.3-2.9 1.3-1.8 0-3-1.1-3-3.1 0-1.9 1.2-2.9 3.5-3.3l2.3-.5zm0 5v-4.5l-.8.1c-1.2.1-1.6.9-1.6 2.5 0 1.8.6 2.3 1.4 2.3.5 0 .8-.1 1-.4zm-12.7 19l1.4-.3V32.4l-1.4-.3v-.4h7.2v.4l-1.5.3v13.9h2.4l3.4-5.3h.4l-.3 5.7H20.1v-.4zM38.6 40v-1.5c0-2.3-.5-3-1.8-3h-.4l-2.8 3.8h-.4l.1-3.5c1.1-.3 2.4-.7 4.2-.7 3.1 0 4.8.8 4.8 3.4v7.4l1.1.3v.3c-.4.3-1.3.5-2.3.5-1.5 0-2.2-.5-2.6-1.3h-.1c-.6.9-1.6 1.4-3 1.4-1.8 0-3.1-1.1-3.1-3.1 0-1.9 1.2-2.9 3.6-3.4l2.7-.6zm0 5.1v-4.6l-.8.1c-1.2.1-1.6.9-1.6 2.6 0 1.8.6 2.3 1.4 2.3.6 0 .8-.1 1-.4zm16.6-4.4c0 4.4-2.5 6.3-6.2 6.3-1.9 0-3.8-.4-4.8-1V31.8l-1.3-.5V31l4.5-.7.5.1v6.1h.1c.6-.7 1.7-1.4 3.3-1.4 2.1 0 3.9 1.5 3.9 5.6zm-4 .4c0-3.4-.7-4.4-2-4.4l-1.2.2v9.3c.3.3.7.4 1.2.4 1.2 0 2-1.4 2-5.5zm13.3 2.1c0 2.3-1.6 3.7-4.7 3.7-1.4 0-2.8-.2-3.9-.6l-.1-3.3h.4l3 3.5.6.1c1.3 0 1.8-.7 1.8-1.7 0-.9-.5-1.3-1.8-1.9l-.7-.3c-2.1-1-3.3-2-3.3-3.9 0-2.3 1.6-3.7 4.4-3.7 1.1 0 2.4.1 3.3.4l.1 3.1h-.4l-2.3-3-.7-.1c-1.1 0-1.6.6-1.6 1.6s.5 1.3 1.9 2l.6.3c2.3.9 3.4 1.7 3.4 3.8z\\\"/>\"}\nvar desvg = require('@kossnocorp/desvg/react')\nmodule.exports = desvg(module.exports)\n","\nmodule.exports = {\"attributes\":{\"width\":\"34\",\"height\":\"40\"},\"content\":\"<path d=\\\"M17 40C7.8 40 0 33.2 0 20.2 0 6.6 8.1 0 17.3 0 26.4 0 34 6.5 34 19.9S26.3 40 17 40zm.1-1c4 0 5.2-6.1 5.2-18.7C22.3 7 21 1.1 17.1 1.1c-4 0-5.4 6-5.4 18.7 0 13 1.4 19.1 5.4 19.2z\\\" />\"}\nvar desvg = require('@kossnocorp/desvg/react')\nmodule.exports = desvg(module.exports)\n","\nmodule.exports = {\"attributes\":{\"width\":\"21\",\"height\":\"40\"},\"content\":\"<path d=\\\"M0 40h21v-1l-5.4-1.6V0h-4.3L.1 5.4v1.3l5.5-1.4v32.1L0 39.1z\\\"/>\"}\nvar desvg = require('@kossnocorp/desvg/react')\nmodule.exports = desvg(module.exports)\n","\nmodule.exports = {\"attributes\":{\"width\":\"54\",\"height\":\"40\"},\"content\":\"<path d=\\\"M0 40h21v-1l-5.4-1.6V0h-4.3L.1 5.4v1.3l5.5-1.4v32.1L0 39.1zm37 0c-9.2 0-17-6.8-17-19.8C20 6.6 28.1 0 37.3 0 46.4 0 54 6.5 54 19.9 54 33.3 46.3 40 37 40zm.1-1c4 0 5.2-6.1 5.2-18.7C42.3 7 41 1.1 37.1 1.1c-4 0-5.4 6-5.4 18.7 0 13 1.4 19.1 5.4 19.1z\\\"/>\"}\nvar desvg = require('@kossnocorp/desvg/react')\nmodule.exports = desvg(module.exports)\n","\nmodule.exports = {\"attributes\":{\"width\":\"28\",\"height\":\"40\"},\"content\":\"<path d=\\\"M9.4 1.5c5.5 0 7.4 3.3 7.4 9s-2.4 11-8.5 16.3l-8.3 7V40h27.3l.7-7H2.8v-.2l8.5-4.3c10.5-5.2 16.4-9.7 16.4-17.3C27.7 3.8 22.5 0 13.4 0 8.6 0 4 .7.9 2v9h1l3-9c1.7-.4 3.2-.5 4.6-.5z\\\"/>\"}\nvar desvg = require('@kossnocorp/desvg/react')\nmodule.exports = desvg(module.exports)\n","\nmodule.exports = {\"attributes\":{\"width\":\"28\",\"height\":\"40\"},\"content\":\"<path d=\\\"M9 1.4c4.9 0 7.7 2.4 7.7 8.3 0 5.7-2.6 9-7.8 9H6.1v1.1H9c5.3 0 8.3 3 8.3 8.3 0 5.5-2.9 9.3-9.8 9.3-2.9 0-5.1-.3-7.4-1.5v1C2.7 38.7 7 40 12.5 40 22.2 40 28 35.8 28 28.9c0-6.5-5.1-9.6-15-9.7V19c9.5-.7 13.6-4.4 13.6-9.3 0-6.4-4.4-9.7-13.8-9.7-4 0-8.5.8-11.4 1.7v8.5h1.1l2.4-8.4A21 21 0 0 1 9 1.4z\\\"/>\"}\nvar desvg = require('@kossnocorp/desvg/react')\nmodule.exports = desvg(module.exports)\n","\nmodule.exports = {\"attributes\":{\"width\":\"31\",\"height\":\"40\"},\"content\":\"<path d=\\\"M12.5 40v-1l4.3-1.3v-9.2H0v-1L18.7 0h8.1v27.4H31v1.1h-4.2v9.2l3.7 1.4v.9h-18zm-11-12.6h15.3v-22h-.3l-15 21.8v.2z\\\"/>\"}\nvar desvg = require('@kossnocorp/desvg/react')\nmodule.exports = desvg(module.exports)\n","\nmodule.exports = {\"attributes\":{\"width\":\"27\",\"height\":\"40\"},\"content\":\"<path d=\\\"M11.9 40C21.5 40 27 34.8 27 27c0-8.2-5.3-12-13-12-3.9 0-8.1 1-10.7 4l.6-11.5h20.7l.7-7.5h-22L2 20.8a12 12 0 0 1 5.7-1.3c5.5 0 8.7 2.8 8.7 8.5 0 5.8-3.3 9.1-9.6 9.1A16 16 0 0 1 0 35.5v1.3C2.6 38.6 6.8 40 11.9 40z\\\"/>\"}\nvar desvg = require('@kossnocorp/desvg/react')\nmodule.exports = desvg(module.exports)\n","\nmodule.exports = {\"attributes\":{\"width\":\"31\",\"height\":\"40\"},\"content\":\"<path d=\\\"M31 27c0 7.3-5 13-15 13C5 40 0 32.3 0 21 0 6.4 7.9 0 18.6 0a17 17 0 0 1 9.7 2.6v1.1a12 12 0 0 0-6-1.3c-7.8 0-11 5.3-11.6 16.2a14 14 0 0 1 9.6-4c7 0 10.7 5.3 10.7 12.3zm-20-4c0 11.5 1.7 16.3 5.5 16.3 3.2 0 4.5-3.2 4.5-10.7 0-6.8-1.7-9.5-5.3-9.5-1.5 0-3.4.4-4.7 1v3z\\\"/>\"}\nvar desvg = require('@kossnocorp/desvg/react')\nmodule.exports = desvg(module.exports)\n","\nmodule.exports = {\"attributes\":{\"width\":\"28\",\"height\":\"40\"},\"content\":\"<path d=\\\"M3.4 40h11L28 6V0H.6L0 12.3h1.1L3 7.5h23v.3z\\\"/>\"}\nvar desvg = require('@kossnocorp/desvg/react')\nmodule.exports = desvg(module.exports)\n","\nmodule.exports = {\"attributes\":{\"width\":\"29\",\"height\":\"40\"},\"content\":\"<path d=\\\"M29 29.5C29 35.9 23.7 40 14.1 40 4.5 40 0 36.3 0 30.5c0-5 4.2-8.3 9.1-9.3-5-3-8-6.4-8-11C1.2 3.8 6.2 0 14.8 0c9.2 0 13 3.5 13 8.2 0 5-4.2 7.6-9.2 8.6l1.6.9c5.5 3 8.9 5.8 8.9 11.8zM15 14.7l2.2 1.3c1.6-1.9 2.6-4.3 2.6-7.7 0-4.8-2-7.2-5.3-7.2-3.7 0-5.7 2.3-5.7 6 0 3.8 2.6 5.7 6.1 7.6zM8.1 30.4c0 5.2 2.1 8.5 6.4 8.5 4 0 6.4-2.6 6.4-6.9 0-3.7-2.7-5.5-6.2-7.5l-4-2.4a12.8 12.8 0 0 0-2.6 8.3z\\\"/>\"}\nvar desvg = require('@kossnocorp/desvg/react')\nmodule.exports = desvg(module.exports)\n","\nmodule.exports = {\"attributes\":{\"width\":\"31\",\"height\":\"40\"},\"content\":\"<path d=\\\"M31 19c0 14.7-7.9 21-18.6 21C8 40 4 38.8 2.2 37.4v-1.1c1.8 1 4 1.3 6.5 1.3 7.8 0 11-5.3 11.6-16.2a14 14 0 0 1-9.6 4C3.7 25.5 0 20.2 0 13.2 0 5.7 5 0 15 0c11 0 16 7.7 16 19zm-20.6-7.3c0 7 1.7 9.5 5.3 9.5 1.5 0 3.4-.3 4.7-1v-2.8C20.4 5.8 18.7 1 15 1c-3.2 0-4.5 3.1-4.5 10.6z\\\"/>\"}\nvar desvg = require('@kossnocorp/desvg/react')\nmodule.exports = desvg(module.exports)\n","'use strict';\n\nvar reactIs = require('react-is');\n\n/**\n * Copyright 2015, Yahoo! Inc.\n * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n */\nvar REACT_STATICS = {\n  childContextTypes: true,\n  contextType: true,\n  contextTypes: true,\n  defaultProps: true,\n  displayName: true,\n  getDefaultProps: true,\n  getDerivedStateFromError: true,\n  getDerivedStateFromProps: true,\n  mixins: true,\n  propTypes: true,\n  type: true\n};\nvar KNOWN_STATICS = {\n  name: true,\n  length: true,\n  prototype: true,\n  caller: true,\n  callee: true,\n  arguments: true,\n  arity: true\n};\nvar FORWARD_REF_STATICS = {\n  '$$typeof': true,\n  render: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true\n};\nvar MEMO_STATICS = {\n  '$$typeof': true,\n  compare: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true,\n  type: true\n};\nvar TYPE_STATICS = {};\nTYPE_STATICS[reactIs.ForwardRef] = FORWARD_REF_STATICS;\nTYPE_STATICS[reactIs.Memo] = MEMO_STATICS;\n\nfunction getStatics(component) {\n  // React v16.11 and below\n  if (reactIs.isMemo(component)) {\n    return MEMO_STATICS;\n  } // React v16.12 and above\n\n\n  return TYPE_STATICS[component['$$typeof']] || REACT_STATICS;\n}\n\nvar defineProperty = Object.defineProperty;\nvar getOwnPropertyNames = Object.getOwnPropertyNames;\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar getPrototypeOf = Object.getPrototypeOf;\nvar objectPrototype = Object.prototype;\nfunction hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {\n  if (typeof sourceComponent !== 'string') {\n    // don't hoist over string (html) components\n    if (objectPrototype) {\n      var inheritedComponent = getPrototypeOf(sourceComponent);\n\n      if (inheritedComponent && inheritedComponent !== objectPrototype) {\n        hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);\n      }\n    }\n\n    var keys = getOwnPropertyNames(sourceComponent);\n\n    if (getOwnPropertySymbols) {\n      keys = keys.concat(getOwnPropertySymbols(sourceComponent));\n    }\n\n    var targetStatics = getStatics(targetComponent);\n    var sourceStatics = getStatics(sourceComponent);\n\n    for (var i = 0; i < keys.length; ++i) {\n      var key = keys[i];\n\n      if (!KNOWN_STATICS[key] && !(blacklist && blacklist[key]) && !(sourceStatics && sourceStatics[key]) && !(targetStatics && targetStatics[key])) {\n        var descriptor = getOwnPropertyDescriptor(sourceComponent, key);\n\n        try {\n          // Avoid failures from read-only properties\n          defineProperty(targetComponent, key, descriptor);\n        } catch (e) {}\n      }\n    }\n  }\n\n  return targetComponent;\n}\n\nmodule.exports = hoistNonReactStatics;\n","'use strict'\n\nmodule.exports = isMobile\nmodule.exports.isMobile = isMobile\nmodule.exports.default = isMobile\n\nconst mobileRE = /(android|bb\\d+|meego).+mobile|armv7l|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series[46]0|samsungbrowser|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i\nconst notMobileRE = /CrOS/\n\nconst tabletRE = /android|ipad|playbook|silk/i\n\nfunction isMobile (opts) {\n  if (!opts) opts = {}\n  let ua = opts.ua\n  if (!ua && typeof navigator !== 'undefined') ua = navigator.userAgent\n  if (ua && ua.headers && typeof ua.headers['user-agent'] === 'string') {\n    ua = ua.headers['user-agent']\n  }\n  if (typeof ua !== 'string') return false\n\n  let result =\n    (mobileRE.test(ua) && !notMobileRE.test(ua)) ||\n    (!!opts.tablet && tabletRE.test(ua))\n\n  if (\n    !result &&\n    opts.tablet &&\n    opts.featureDetect &&\n    navigator &&\n    navigator.maxTouchPoints > 1 &&\n    ua.indexOf('Macintosh') !== -1 &&\n    ua.indexOf('Safari') !== -1\n  ) {\n    result = true\n  }\n\n  return result\n}\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n","(function(){var t={}.hasOwnProperty;define(\"ophan/transmit\",[],function(){var n,e,o,i,r,a,u,l,d,c,s,f;return o=function(){return(new Date).getTime().toString(36)+\"xxxxxxxxxxxx\".replace(/x/g,function(){return Math.floor(36*Math.random()).toString(36)})},d=null!=(c=\"undefined\"!=typeof guardian&&null!==guardian&&null!=(s=guardian.config)&&null!=(f=s.ophan)?f.pageViewId:void 0)?c:o(),e=function(){return d=o()},a=function(t){return r(\"//ophan.theguardian.com/img/1?\"+n(t))},l=function(t){return\"string\"==typeof t||\"number\"==typeof t?encodeURIComponent(t):encodeURIComponent(JSON.stringify(t))},u=function(n,e){var o,a,u;return JSON&&(u=function(){var e;e=[];for(o in n)t.call(n,o)&&(a=n[o],i(a)&&e.push(\"\"+encodeURIComponent(o)+\"=\"+l(a)));return e}(),u.length)?r(\"//ophan.theguardian.com/img/2?viewId=\"+d+\"&\"+u.join(\"&\"),e):void 0},i=function(t){return Array.isArray(t)?t.length:null!=t},n=function(n){var e,o,i;return n.viewId=d,i=function(){var i;i=[];for(e in n)t.call(n,e)&&(o=n[e],null!=o&&i.push(\"\"+encodeURIComponent(e)+\"=\"+encodeURIComponent(o)));return i}(),i.join(\"&\")},r=function(t,n){var e,o;return o=new Image,e=setInterval(function(){return o.complete?(\"function\"==typeof n&&n(),clearInterval(e)):void 0},10),o.src=t},{sendInitial:a,sendMore:u,viewId:d,bumpViewId:e}})}).call(this),function(){define(\"ophan/visibility\",[],function(){return{state:function(){return document.visibilityState||document.webkitVisibilityState||document.mozVisibilityState||document.msVisibilityState},changeEvent:document.visibilityState?\"visibilitychange\":document.webkitVisibilityState?\"webkitvisibilitychange\":document.mozVisibilityState?\"mozvisibilitychange\":document.msVisibilityState?\"msvisibilitychange\":void 0}})}.call(this),function(){define(\"ophan/vendor/adBlockDetectionLib\",[],function(){var t=function(){function t(t){return\"function\"==typeof t}function n(t,n){var e,o,i=n,r=document;if(o=r.createElement(t),i)for(e in i)i.hasOwnProperty(e)&&o.setAttribute(e,i[e]);return o}function e(t,n,e){m?t.attachEvent(\"on\"+n,e):t.addEventListener(n,e,!1)}function o(t,n){(v.debug||n)&&window.console&&window.console.log&&(n?console.error(\"[ABD] \"+t):console.log(\"[ABD] \"+t))}function i(t){o(\"start beginTest\"),1!=k&&(h=!0,r(t),E.quick=\"testing\",S.test=setTimeout(function(){a(t,1)},5))}function r(t){var e,i,r=document,a=r.body,u=\"width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;\";if(null==t||\"string\"==typeof t)return void o(\"invalid bait being cast\");for(null!=t.style&&(u+=t.style),w=n(\"div\",{\"class\":t.cssClass,style:u}),o(\"adding bait node to DOM\"),a.appendChild(w),e=0;e<b.nullProps.length;e++)i=w[b.nullProps[e]];for(e=0;e<b.zeroProps.length;e++)i=w[b.zeroProps[e]]}function a(t,n){var e,i=document.body,d=!1;if(null==w&&(o(\"recast bait\"),r(t||y)),\"string\"==typeof t)return o(\"invalid bait used\",!0),void(u()&&setTimeout(function(){h=!1},5));for(S.test>0&&(clearTimeout(S.test),S.test=0),null!==i.getAttribute(\"abp\")&&(o(\"found adblock body attribute\"),d=!0),e=0;e<b.nullProps.length;e++){if(null==w[b.nullProps[e]]){n>4&&(d=!0),o(\"found adblock null attr: \"+b.nullProps[e]);break}if(1==d)break}for(e=0;e<b.zeroProps.length&&1!=d;e++)0==w[b.zeroProps[e]]&&(n>4&&(d=!0),o(\"found adblock zero attr: \"+b.zeroProps[e]));if(void 0!==window.getComputedStyle){var c=window.getComputedStyle(w,null);(\"none\"==c.getPropertyValue(\"display\")||\"hidden\"==c.getPropertyValue(\"visibility\"))&&(n>4&&(d=!0),o(\"found adblock computedStyle indicator\"))}p=!0,d||n++>=v.maxLoop?(k=d,o(\"exiting test loop - value: \"+k),l(),u()&&setTimeout(function(){h=!1},5)):S.test=setTimeout(function(){a(t,n)},v.loopDelay)}function u(){if(null===w)return!0;try{t(w.remove)&&w.remove(),document.body.removeChild(w)}catch(n){}return w=null,!0}function l(){var n,e;if(null!==k)for(n=0;n<g.length;n++){e=g[n];try{null!=e&&(t(e.complete)&&e.complete(k),k&&t(e.found)?e.found():k===!1&&t(e.notfound)&&e.notfound())}catch(i){o(\"Failure in notify listeners \"+i.Message,!0)}}}function d(){var t,n=!1;document.readyState&&\"complete\"==document.readyState&&(n=!0),t=function(){i(y,!1)},n?t():e(window,\"load\",t)}var c=\"offset\",s=\"client\",f=function(){},p=!1,h=!1,m=void 0===window.addEventListener,v={loopDelay:50,maxLoop:5,debug:!1,found:f,notfound:f,complete:f},g=[],w=null,y={cssClass:\"ad-slot pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links\"},b={nullProps:[c+\"Parent\"],zeroProps:[]};b.zeroProps=[c+\"Height\",c+\"Left\",c+\"Top\",c+\"Width\",c+\"Height\",s+\"Height\",s+\"Width\"];var E={quick:null,remote:null},k=null,S={test:0,download:0};return function(t){var n,e;if(t){e={complete:f,found:f,notfound:f};for(n in t)t.hasOwnProperty(n)&&(\"complete\"==n||\"found\"==n||\"notFound\"==n?e[n.toLowerCase()]=t[n]:v[n]=t[n]);g.push(e),d()}}};return{init:t()}})}.call(this),function(){define(\"ophan/adblock-detection\",[\"ophan/vendor/adBlockDetectionLib\"],function(t){return{run:function(){return new Promise(function(n,e){var o;if(!t.init)return e(new Error(\"Failed to initialise adblock detection\"));try{return t.init({complete:function(t){return n(t)}})}catch(i){return o=i,e(o)}})}}})}.call(this),function(){var t={}.hasOwnProperty;define(\"ophan/core\",[\"ophan/transmit\",\"ophan/visibility\",\"ophan/adblock-detection\"],function(n,e,o){var i,r,a,u,l,d,c,s,f,p,h,m,v,g;return r=16,c=window.document,d=null!=window.localStorage&&\"undefined\"!=typeof JSON&&null!==JSON,h=null,i=50,s=function(t,n){return h=t,\"prerender\"!==e.state()?m(n):e.changeEvent?c.addEventListener(e.changeEvent,function(){return\"visible\"===e.state()?m(n):void 0},!1):void 0},m=function(t,i,a){var d;return null==i&&(i=location.href),null==a&&(a=window.document.referrer),d={v:r,platform:h,url:i,ref:a,visibilityState:e.state(),isModernBrowser:\"undefined\"!=typeof guardian&&null!==guardian?guardian.isModernBrowser:void 0,httpStatus:t,tz:(new Date).getTimezoneOffset()},u(d),l(d),n.sendInitial(d),o.run().then(function(t){return n.sendMore({adUnitWasHidden:t})})},p=[],f=function(t){var e,o,i,r;if(\"complete\"===document.readyState){i={},e=t();for(o in e)r=e[o],i[o]=r;return n.sendMore(i)}return p.push(t)},\"function\"==typeof window.addEventListener&&window.addEventListener(\"load\",function(){var t,e,o,i,r,u,l;for(i={},u=0,l=p.length;l>u;u++){t=p[u],e=t();for(o in e)r=e[o],i[o]=r}return\"next-gen\"===h&&a(i),n.sendMore(i)},!1),l=function(n){var e,o,i;if(d){if(o=JSON.parse(window.localStorage.getItem(\"ophan_follow\")),null!=o)for(e in o)t.call(o,e)&&(i=o[e],n[e]=i);return window.localStorage.removeItem(\"ophan_follow\")}},g=function(t){return t.map(function(t){return t.length>i?t.substring(0,i).concat(\"…\"):t})},a=function(t){var n,e,o,i,r,a,u,l;if(n=function(){var t,n,o,i;for(o=document.querySelectorAll(\"[data-component]\"),i=[],t=0,n=o.length;n>t;t++)e=o[t],i.push(e.getAttribute(\"data-component\"));return i}(),n.length>0){for(r=g(n),i={},u=0,l=r.length;l>u;u++)e=r[u],i[e]=1;return t.renderedComponents=function(){var t;t=[];for(o in i)a=i[o],t.push(o);return t}()}},v=function(n){var e,o,i;if(d){e=JSON.parse(window.localStorage.getItem(\"ophan_follow\"))||{};for(o in n)t.call(n,o)&&(i=n[o],e[o]=i);return window.localStorage.setItem(\"ophan_follow\",JSON.stringify(e))}},u=function(t){var n,e,o;return n=\"undefined\"!=typeof guardian&&null!==guardian&&null!=(e=guardian.config)&&null!=(o=e.page)?o.contentType:void 0,null!=n&&\"\"!==n?t.contentType=n.toLowerCase():void 0},{init:s,storeDataToSendOnNextEvent:v,onLoadCapture:f,servingPlatform:function(){return h},viewId:n.viewId,sendInitialEvent:m}})}.call(this),function(){define(\"ophan/components\",[],function(){var t,n,e;return n=[],e=null,t=function(){function t(t,n,o,i){this.name=t,this.element=n,this.visibilityThreshold=o,this.reportingInterval=i,this.visible=!1,this.totalAttentionMs=0,this.unrecordedAttentionStarted=null,this.reportedTotalAttentionMs=0,this.usingEmitter=!1,this.visCheck=this.checkVisibility.bind(this),null!=e?(this.usingEmitter=!0,e.on(\"window:throttledScroll\",this.visCheck)):window.addEventListener(\"scroll\",this.visCheck),window.addEventListener(\"resize\",this.visCheck)}return t.prototype.isVisible=function(t){var n,e,o,i,r;return null==t&&(t=1),this.element.offsetParent?(n=this.element.getBoundingClientRect(),o=n.right-n.left,e=n.bottom-n.top,i=window.innerHeight||document.documentElement.clientHeight,r=window.innerWidth||document.documentElement.clientWidth,n.left>=-(o*(1-t))&&n.top>=-(e*(1-t))&&n.right<=r+o*(1-t)&&n.bottom<=i+e*(1-t)):!1},t.prototype.visibilityHasChanged=function(){var t;return t=this.visible,this.visible=this.isVisible(this.visibilityThreshold),t!==this.visible},t.prototype.rebindToEventEmitter=function(){return this.usingEmitter||null==e?void 0:(window.removeEventListener(\"scroll\",this.visCheck),this.usingEmitter=!0,e.on(\"window:throttledScroll\",this.visCheck))},t.prototype.checkVisibility=function(){return this.rebindToEventEmitter(),this.visibilityHasChanged()?this.visible?this.makeActive():this.makeInactive():void 0},t.prototype.makeActive=function(){return null!=this.unrecordedAttentionStarted?this.unrecordedAttentionStarted:this.unrecordedAttentionStarted=performance.now()},t.prototype.makeInactive=function(){return this.incrementTotalAttentionTimeByUnrecordedAmount(),this.unrecordedAttentionStarted=null},t.prototype.hadAttentionSinceLastGet=function(){return this.incrementTotalAttentionTimeByUnrecordedAmount(),this.totalAttentionMs!==this.reportedTotalAttentionMs},t.prototype.getAttentionTime=function(){return this.incrementTotalAttentionTimeByUnrecordedAmount(),this.reportedTotalAttentionMs=this.totalAttentionMs,this.totalAttentionMs},t.prototype.incrementTotalAttentionTimeByUnrecordedAmount=function(){var t,n;return null!=this.unrecordedAttentionStarted?(t=performance.now(),n=Math.min(t-this.unrecordedAttentionStarted,this.reportingInterval),this.totalAttentionMs+=n,this.unrecordedAttentionStarted=t):void 0},t}(),{setEventEmitter:function(t){return e=t},startMonitoring:function(){var t,e,o,i;for(i=[],e=0,o=n.length;o>e;e++)t=n[e],t.isVisible()&&i.push(t.makeActive());return i},stopMonitoring:function(){var t,e,o,i;for(i=[],e=0,o=n.length;o>e;e++)t=n[e],i.push(t.makeInactive());return i},getAttentionTimes:function(){var t,e,o,i;for(e={},o=0,i=n.length;i>o;o++)t=n[o],t.hadAttentionSinceLastGet()&&(e[t.name]=Math.round(t.getAttentionTime()));return e},registerComponent:function(e,o,i,r){return n.push(new t(e,o,i,r))}}})}.call(this),function(){define(\"ophan/attention\",[\"ophan/transmit\",\"ophan/components\"],function(t,n){var e,o,i,r,a,u,l,d,c,s,f,p,h,m,v,g;return e=5e3,o=[\"focus\",\"click\",\"scroll\",\"mousemove\",\"touchstart\",\"touchend\",\"touchcancel\",\"touchleave\",\"touchmove\",\"keyup\",\"keydown\"],i=1e4,m=0,v=null,f=null,a=null,g=!1,r=function(){return null!=a&&window.clearTimeout(a),a=null},c=function(){return null==v&&(v=performance.now()),n.startMonitoring(),r(),a=window.setTimeout(function(){return g?void 0:s()},e)},u=function(){var t,n;return null!=v?(t=performance.now(),n=Math.min(t-v,i),m+=n,v=t):void 0},s=function(){return r(),n.stopMonitoring(),u(),v=null},p=function(){var e,o;return u(),m!==f?(o={attentionMs:Math.round(m)},e=n.getAttentionTimes(),Object.keys(e).length&&(o.componentAttentionMs=e),t.sendMore(o),f=m):void 0},d=function(t,e,o){return null==o&&(o=.5),n.registerComponent(t,e,o,i)},l=function(t){var n,e,r;for(e=0,r=o.length;r>e;e++)n=o[e],window.addEventListener(n,c);return document.addEventListener(t.changeEvent,function(){return\"visible\"===t.state()?c():s()},!1),document.addEventListener(\"videoPlaying\",function(){return g=!0,c()}),document.addEventListener(\"videoEnded\",function(){return g=!1,s()}),document.addEventListener(\"videoPause\",function(){return g=!1,s()}),window.setTimeout(p,100),window.setInterval(p,i)},h=function(t){return n.setEventEmitter(t)},{init:l,initComponent:d,setEventEmitter:h}})}.call(this),function(){define(\"ophan/privatebrowsing\",[\"ophan/transmit\"],function(t){var n;return n=function(t){var n,e,o,i;return n=function(){return t(!1)},e=function(){return t(!0)},i=function(){var t;try{return localStorage.length?n():(localStorage.x=1,localStorage.removeItem(\"x\"),n())}catch(o){return t=o,e()}},o=function(){var t,o;try{return t=indexedDB.open(\"test\"),t.onsuccess=n,t.onerror=e}catch(i){return o=i,e()}},window.webkitRequestFileSystem?window.webkitRequestFileSystem(window.TEMPORARY,1,n,e):\"MozAppearance\"in document.documentElement.style?o():/constructor/i.test(window.HTMLElement)?i():window.indexedDB||!window.PointerEvent&&!window.MSPointerEvent?n():e()},{init:function(){return n(function(n){var e;return e={inPrivateBrowsingMode:n},t.sendMore(e)})},privateBrowsingMode:n}})}.call(this),function(){define(\"ophan/heatmap\",[],function(){var t,n;return t=!1,n=function(){var n;return n=function(){var n;return\"undefined\"==typeof localStorage||null===localStorage||t||(t=!0,n=window.location.search.replace(/^(?:.*[&\\?]heatmap(?:\\=([^&]*))?)?.*$/,\"$1\"),(\"true\"===n||\"false\"===n)&&(localStorage.ophan_heatmap=n),\"true\"!==localStorage.ophan_heatmap&&\"show\"!==n)?void 0:document.body.appendChild(document.createElement(\"script\")).src=\"//dashboard.ophan.co.uk/assets/js/heatmap-bookmarklet.js\"},\"complete\"===document.readyState?n():\"function\"==typeof window.addEventListener?window.addEventListener(\"load\",function(){return n()},!1):void 0},{init:n}})}.call(this),function(){define(\"ophan/click-path-capture\",[\"ophan/core\",\"ophan/transmit\"],function(t,n){var e,o,i;return i=function(t){var n,e;return n=null!=t&&null!=(e=t.nodeName)?e.toLowerCase():void 0,\"a\"===n?t:null==n||\"body\"===n?null:i(t.parentNode)},e=function(t){var n,o;return n=null!=t&&null!=(o=t.nodeName)?o.toLowerCase():void 0,null==n||\"body\"===n?null:(\"function\"==typeof t.getAttribute?t.getAttribute(\"data-component\"):void 0)||e(t.parentNode)},o=function(t,n){var e,o,i;return null==n&&(n=[]),e=function(t){var n;return(null!=t&&null!=(n=t.nodeName)?n.toLowerCase():void 0)===document.body.nodeName.toLowerCase()},o=function(t){return t===document},(i=function(t,n){var r;return null==t||e(t)||o(t)?n:(r=t.getAttribute(\"data-link-name\"),null!=r&&n.push(r),i(t.parentNode,n))})(t,n.slice())},\"function\"==typeof document.addEventListener&&document.addEventListener(\"click\",function(r){var a,u;return a=i(r.target),u={from:[location.protocol,\"//\",location.host,location.pathname].join(\"\"),to:a?a.href:void 0,referringComponent:e(r.target),referringDataLinkNames:o(r.target),refPlatform:t.servingPlatform(),refViewId:t.viewId},null!=u.referringDataLinkNames&&n.sendMore({clickComponent:u.referringComponent,clickLinkNames:u.referringDataLinkNames}),null!=a?t.storeDataToSendOnNextEvent(u):void 0},!1),{getDataLinkNames:o}})}.call(this),function(){define(\"ophan/perf\",[\"ophan/core\"],function(t){var n,e;return n=window.performance||window.msPerformance||window.webkitPerformance||window.mozPerformance,e=function(){var t;return t=null!=n?n.timing:void 0,null!=t?{performance:{dns:t.domainLookupEnd-t.domainLookupStart,connection:t.connectEnd-t.connectStart,firstByte:t.responseStart-t.connectEnd,lastByte:t.responseEnd-t.responseStart,domContentLoadedEvent:t.domContentLoadedEventStart-t.responseEnd,loadEvent:t.loadEventStart-t.domContentLoadedEventStart,navType:n.navigation.type,redirectCount:n.navigation.redirectCount}}:{}},t.onLoadCapture(e),n})}.call(this),function(){define(\"ophan/iframe-tracking\",[\"ophan/click-path-capture\"],function(t){var n,e,o,i,r,a;return a=[\".theguardian.com\",\".dev-theguardian.com\",\".thegulocal.com\"],e=function(t){var n,e,u;u=r(t.origin),u&&a.some(function(t){return u.endsWith(t)})&&(\"ophan-iframe-click-event\"===t.data.type?(n=t.data.value,e=document.getElementById(t.data.iframeId),o(e,n)):\"ophan-iframe-component-event\"===t.data.type&&(n=t.data.value,i(n)))},r=function(t){var n,e;try{return e=new URL(t),e.host}catch(o){if(n=o,n instanceof TypeError)return null;throw n}},o=function(n,e){n&&(e.clickLinkNames=t.getDataLinkNames(n,e.clickLinkNames)||e.clickLinkNames),window.guardian.ophan.record(e)},n=function(t){return t&&\"object\"==typeof t&&t.componentEvent&&\"object\"==typeof t.componentEvent?!0:!1},i=function(t){n(t)&&window.guardian.ophan.record(t)},window.addEventListener(\"message\",e,!1)})}.call(this),function(){define(\"ophan/ng\",[\"ophan/core\",\"ophan/transmit\",\"ophan/attention\",\"ophan/visibility\",\"ophan/privatebrowsing\",\"ophan/heatmap\",\"ophan/click-path-capture\",\"ophan/perf\",\"ophan/iframe-tracking\"],function(t,n,e,o,i,r){var a;return null!=(null!=(a=window.guardian)?a.ophan:void 0)?window.guardian.ophan:(t.init(\"next-gen\"),i.init(),r.init(),null!=window.addEventListener&&e.init(o),null==window.guardian&&(window.guardian={}),window.guardian.ophan={setEventEmitter:e.setEventEmitter,trackComponentAttention:e.initComponent,record:n.sendMore,viewId:n.viewId,pageViewId:n.viewId})})}.call(this);\n//# sourceMappingURL=ophan.ng.js.map","import{options as n}from\"preact\";var t,r,u,i,o=0,f=[],c=[],e=n.__b,a=n.__r,v=n.diffed,l=n.__c,m=n.unmount;function d(t,u){n.__h&&n.__h(r,t,o||u),o=0;var i=r.__H||(r.__H={__:[],__h:[]});return t>=i.__.length&&i.__.push({__V:c}),i.__[t]}function h(n){return o=1,s(B,n)}function s(n,u,i){var o=d(t++,2);if(o.t=n,!o.__c&&(o.__=[i?i(u):B(void 0,u),function(n){var t=o.__N?o.__N[0]:o.__[0],r=o.t(t,n);t!==r&&(o.__N=[r,o.__[1]],o.__c.setState({}))}],o.__c=r,!r.u)){var f=function(n,t,r){if(!o.__c.__H)return!0;var u=o.__c.__H.__.filter(function(n){return n.__c});if(u.every(function(n){return!n.__N}))return!c||c.call(this,n,t,r);var i=!1;return u.forEach(function(n){if(n.__N){var t=n.__[0];n.__=n.__N,n.__N=void 0,t!==n.__[0]&&(i=!0)}}),!(!i&&o.__c.props===n)&&(!c||c.call(this,n,t,r))};r.u=!0;var c=r.shouldComponentUpdate,e=r.componentWillUpdate;r.componentWillUpdate=function(n,t,r){if(this.__e){var u=c;c=void 0,f(n,t,r),c=u}e&&e.call(this,n,t,r)},r.shouldComponentUpdate=f}return o.__N||o.__}function p(u,i){var o=d(t++,3);!n.__s&&z(o.__H,i)&&(o.__=u,o.i=i,r.__H.__h.push(o))}function y(u,i){var o=d(t++,4);!n.__s&&z(o.__H,i)&&(o.__=u,o.i=i,r.__h.push(o))}function _(n){return o=5,F(function(){return{current:n}},[])}function A(n,t,r){o=6,y(function(){return\"function\"==typeof n?(n(t()),function(){return n(null)}):n?(n.current=t(),function(){return n.current=null}):void 0},null==r?r:r.concat(n))}function F(n,r){var u=d(t++,7);return z(u.__H,r)?(u.__V=n(),u.i=r,u.__h=n,u.__V):u.__}function T(n,t){return o=8,F(function(){return n},t)}function q(n){var u=r.context[n.__c],i=d(t++,9);return i.c=n,u?(null==i.__&&(i.__=!0,u.sub(r)),u.props.value):n.__}function x(t,r){n.useDebugValue&&n.useDebugValue(r?r(t):t)}function P(n){var u=d(t++,10),i=h();return u.__=n,r.componentDidCatch||(r.componentDidCatch=function(n,t){u.__&&u.__(n,t),i[1](n)}),[i[0],function(){i[1](void 0)}]}function V(){var n=d(t++,11);if(!n.__){for(var u=r.__v;null!==u&&!u.__m&&null!==u.__;)u=u.__;var i=u.__m||(u.__m=[0,0]);n.__=\"P\"+i[0]+\"-\"+i[1]++}return n.__}function b(){for(var t;t=f.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(k),t.__H.__h.forEach(w),t.__H.__h=[]}catch(r){t.__H.__h=[],n.__e(r,t.__v)}}n.__b=function(n){r=null,e&&e(n)},n.__r=function(n){a&&a(n),t=0;var i=(r=n.__c).__H;i&&(u===r?(i.__h=[],r.__h=[],i.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=c,n.__N=n.i=void 0})):(i.__h.forEach(k),i.__h.forEach(w),i.__h=[])),u=r},n.diffed=function(t){v&&v(t);var o=t.__c;o&&o.__H&&(o.__H.__h.length&&(1!==f.push(o)&&i===n.requestAnimationFrame||((i=n.requestAnimationFrame)||j)(b)),o.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==c&&(n.__=n.__V),n.i=void 0,n.__V=c})),u=r=null},n.__c=function(t,r){r.some(function(t){try{t.__h.forEach(k),t.__h=t.__h.filter(function(n){return!n.__||w(n)})}catch(u){r.some(function(n){n.__h&&(n.__h=[])}),r=[],n.__e(u,t.__v)}}),l&&l(t,r)},n.unmount=function(t){m&&m(t);var r,u=t.__c;u&&u.__H&&(u.__H.__.forEach(function(n){try{k(n)}catch(n){r=n}}),u.__H=void 0,r&&n.__e(r,u.__v))};var g=\"function\"==typeof requestAnimationFrame;function j(n){var t,r=function(){clearTimeout(u),g&&cancelAnimationFrame(t),setTimeout(n)},u=setTimeout(r,100);g&&(t=requestAnimationFrame(r))}function k(n){var t=r,u=n.__c;\"function\"==typeof u&&(n.__c=void 0,u()),r=t}function w(n){var t=r;n.__c=n.__(),r=t}function z(n,t){return!n||n.length!==t.length||t.some(function(t,r){return t!==n[r]})}function B(n,t){return\"function\"==typeof t?t(n):t}export{T as useCallback,q as useContext,x as useDebugValue,p as useEffect,P as useErrorBoundary,V as useId,A as useImperativeHandle,y as useLayoutEffect,F as useMemo,s as useReducer,_ as useRef,h as useState};\n//# sourceMappingURL=hooks.module.js.map\n","import{Component as n,createElement as t,options as e,toChildArray as r,Fragment as u,render as o,hydrate as i,createContext as l,createRef as c,cloneElement as f}from\"preact\";export{Component,Fragment,createContext,createElement,createRef}from\"preact\";import{useState as a,useId as s,useReducer as h,useEffect as v,useLayoutEffect as d,useRef as p,useImperativeHandle as m,useMemo as y,useCallback as _,useContext as b,useDebugValue as S}from\"preact/hooks\";export*from\"preact/hooks\";function g(n,t){for(var e in t)n[e]=t[e];return n}function C(n,t){for(var e in n)if(\"__source\"!==e&&!(e in t))return!0;for(var r in t)if(\"__source\"!==r&&n[r]!==t[r])return!0;return!1}function E(n,t){return n===t&&(0!==n||1/n==1/t)||n!=n&&t!=t}function w(n){this.props=n}function x(n,e){function r(n){var t=this.props.ref,r=t==n.ref;return!r&&t&&(t.call?t(null):t.current=null),e?!e(this.props,n)||!r:C(this.props,n)}function u(e){return this.shouldComponentUpdate=r,t(n,e)}return u.displayName=\"Memo(\"+(n.displayName||n.name)+\")\",u.prototype.isReactComponent=!0,u.__f=!0,u}(w.prototype=new n).isPureReactComponent=!0,w.prototype.shouldComponentUpdate=function(n,t){return C(this.props,n)||C(this.state,t)};var R=e.__b;e.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),R&&R(n)};var N=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.forward_ref\")||3911;function k(n){function t(t){var e=g({},t);return delete e.ref,n(e,t.ref||null)}return t.$$typeof=N,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName=\"ForwardRef(\"+(n.displayName||n.name)+\")\",t}var A=function(n,t){return null==n?null:r(r(n).map(t))},O={map:A,forEach:A,count:function(n){return n?r(n).length:0},only:function(n){var t=r(n);if(1!==t.length)throw\"Children.only\";return t[0]},toArray:r},T=e.__e;e.__e=function(n,t,e,r){if(n.then)for(var u,o=t;o=o.__;)if((u=o.__c)&&u.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),u.__c(n,t);T(n,t,e,r)};var I=e.unmount;function L(n,t,e){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(n){\"function\"==typeof n.__c&&n.__c()}),n.__c.__H=null),null!=(n=g({},n)).__c&&(n.__c.__P===e&&(n.__c.__P=t),n.__c=null),n.__k=n.__k&&n.__k.map(function(n){return L(n,t,e)})),n}function U(n,t,e){return n&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(n){return U(n,t,e)}),n.__c&&n.__c.__P===t&&(n.__e&&e.insertBefore(n.__e,n.__d),n.__c.__e=!0,n.__c.__P=e)),n}function D(){this.__u=0,this.t=null,this.__b=null}function F(n){var t=n.__.__c;return t&&t.__a&&t.__a(n)}function M(n){var e,r,u;function o(o){if(e||(e=n()).then(function(n){r=n.default||n},function(n){u=n}),u)throw u;if(!r)throw e;return t(r,o)}return o.displayName=\"Lazy\",o.__f=!0,o}function V(){this.u=null,this.o=null}e.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&!0===n.__h&&(n.type=null),I&&I(n)},(D.prototype=new n).__c=function(n,t){var e=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(e);var u=F(r.__v),o=!1,i=function(){o||(o=!0,e.__R=null,u?u(l):l())};e.__R=i;var l=function(){if(!--r.__u){if(r.state.__a){var n=r.state.__a;r.__v.__k[0]=U(n,n.__c.__P,n.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.t.pop();)t.forceUpdate()}},c=!0===t.__h;r.__u++||c||r.setState({__a:r.__b=r.__v.__k[0]}),n.then(i,i)},D.prototype.componentWillUnmount=function(){this.t=[]},D.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var r=document.createElement(\"div\"),o=this.__v.__k[0].__c;this.__v.__k[0]=L(this.__b,r,o.__O=o.__P)}this.__b=null}var i=e.__a&&t(u,null,n.fallback);return i&&(i.__h=null),[t(u,null,e.__a?null:n.children),i]};var W=function(n,t,e){if(++e[1]===e[0]&&n.o.delete(t),n.props.revealOrder&&(\"t\"!==n.props.revealOrder[0]||!n.o.size))for(e=n.u;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.u=e=e[2]}};function P(n){return this.getChildContext=function(){return n.context},n.children}function j(n){var e=this,r=n.i;e.componentWillUnmount=function(){o(null,e.l),e.l=null,e.i=null},e.i&&e.i!==r&&e.componentWillUnmount(),n.__v?(e.l||(e.i=r,e.l={nodeType:1,parentNode:r,childNodes:[],appendChild:function(n){this.childNodes.push(n),e.i.appendChild(n)},insertBefore:function(n,t){this.childNodes.push(n),e.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.i.removeChild(n)}}),o(t(P,{context:e.context},n.__v),e.l)):e.l&&e.componentWillUnmount()}function z(n,e){var r=t(j,{__v:n,i:e});return r.containerInfo=e,r}(V.prototype=new n).__a=function(n){var t=this,e=F(t.__v),r=t.o.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),W(t,n,r)):u()};e?e(o):o()}},V.prototype.render=function(n){this.u=null,this.o=new Map;var t=r(n.children);n.revealOrder&&\"b\"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.o.set(t[e],this.u=[1,0,this.u]);return n.children},V.prototype.componentDidUpdate=V.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(t,e){W(n,e,t)})};var B=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,H=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Z=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Y=/[A-Z0-9]/g,$=\"undefined\"!=typeof document,q=function(n){return(\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(n)};function G(n,t,e){return null==t.__k&&(t.textContent=\"\"),o(n,t),\"function\"==typeof e&&e(),n?n.__c:null}function J(n,t,e){return i(n,t),\"function\"==typeof e&&e(),n?n.__c:null}n.prototype.isReactComponent={},[\"componentWillMount\",\"componentWillReceiveProps\",\"componentWillUpdate\"].forEach(function(t){Object.defineProperty(n.prototype,t,{configurable:!0,get:function(){return this[\"UNSAFE_\"+t]},set:function(n){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:n})}})});var K=e.event;function Q(){}function X(){return this.cancelBubble}function nn(){return this.defaultPrevented}e.event=function(n){return K&&(n=K(n)),n.persist=Q,n.isPropagationStopped=X,n.isDefaultPrevented=nn,n.nativeEvent=n};var tn,en={enumerable:!1,configurable:!0,get:function(){return this.class}},rn=e.vnode;e.vnode=function(n){\"string\"==typeof n.type&&function(n){var t=n.props,e=n.type,u={};for(var o in t){var i=t[o];if(!(\"value\"===o&&\"defaultValue\"in t&&null==i||$&&\"children\"===o&&\"noscript\"===e||\"class\"===o||\"className\"===o)){var l=o.toLowerCase();\"defaultValue\"===o&&\"value\"in t&&null==t.value?o=\"value\":\"download\"===o&&!0===i?i=\"\":\"ondoubleclick\"===l?o=\"ondblclick\":\"onchange\"!==l||\"input\"!==e&&\"textarea\"!==e||q(t.type)?\"onfocus\"===l?o=\"onfocusin\":\"onblur\"===l?o=\"onfocusout\":Z.test(o)?o=l:-1===e.indexOf(\"-\")&&H.test(o)?o=o.replace(Y,\"-$&\").toLowerCase():null===i&&(i=void 0):l=o=\"oninput\",\"oninput\"===l&&u[o=l]&&(o=\"oninputCapture\"),u[o]=i}}\"select\"==e&&u.multiple&&Array.isArray(u.value)&&(u.value=r(t.children).forEach(function(n){n.props.selected=-1!=u.value.indexOf(n.props.value)})),\"select\"==e&&null!=u.defaultValue&&(u.value=r(t.children).forEach(function(n){n.props.selected=u.multiple?-1!=u.defaultValue.indexOf(n.props.value):u.defaultValue==n.props.value})),t.class&&!t.className?(u.class=t.class,Object.defineProperty(u,\"className\",en)):(t.className&&!t.class||t.class&&t.className)&&(u.class=u.className=t.className),n.props=u}(n),n.$$typeof=B,rn&&rn(n)};var un=e.__r;e.__r=function(n){un&&un(n),tn=n.__c};var on=e.diffed;e.diffed=function(n){on&&on(n);var t=n.props,e=n.__e;null!=e&&\"textarea\"===n.type&&\"value\"in t&&t.value!==e.value&&(e.value=null==t.value?\"\":t.value),tn=null};var ln={ReactCurrentDispatcher:{current:{readContext:function(n){return tn.__n[n.__c].props.value}}}},cn=\"17.0.2\";function fn(n){return t.bind(null,n)}function an(n){return!!n&&n.$$typeof===B}function sn(n){return an(n)?f.apply(null,arguments):n}function hn(n){return!!n.__k&&(o(null,n),!0)}function vn(n){return n&&(n.base||1===n.nodeType&&n)||null}var dn=function(n,t){return n(t)},pn=function(n,t){return n(t)},mn=u;function yn(n){n()}function _n(n){return n}function bn(){return[!1,yn]}var Sn=d;function gn(n,t){var e=t(),r=a({h:{__:e,v:t}}),u=r[0].h,o=r[1];return d(function(){u.__=e,u.v=t,E(u.__,t())||o({h:u})},[n,e,t]),v(function(){return E(u.__,u.v())||o({h:u}),n(function(){E(u.__,u.v())||o({h:u})})},[n]),e}var Cn={useState:a,useId:s,useReducer:h,useEffect:v,useLayoutEffect:d,useInsertionEffect:Sn,useTransition:bn,useDeferredValue:_n,useSyncExternalStore:gn,startTransition:yn,useRef:p,useImperativeHandle:m,useMemo:y,useCallback:_,useContext:b,useDebugValue:S,version:\"17.0.2\",Children:O,render:G,hydrate:J,unmountComponentAtNode:hn,createPortal:z,createElement:t,createContext:l,createFactory:fn,cloneElement:sn,createRef:c,Fragment:u,isValidElement:an,findDOMNode:vn,Component:n,PureComponent:w,memo:x,forwardRef:k,flushSync:pn,unstable_batchedUpdates:dn,StrictMode:mn,Suspense:D,SuspenseList:V,lazy:M,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:ln};export{O as Children,w as PureComponent,mn as StrictMode,D as Suspense,V as SuspenseList,ln as __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sn as cloneElement,fn as createFactory,z as createPortal,Cn as default,vn as findDOMNode,pn as flushSync,k as forwardRef,J as hydrate,an as isValidElement,M as lazy,x as memo,G as render,yn as startTransition,hn as unmountComponentAtNode,dn as unstable_batchedUpdates,_n as useDeferredValue,Sn as useInsertionEffect,gn as useSyncExternalStore,bn as useTransition,cn as version};\n//# sourceMappingURL=compat.module.js.map\n","var n,l,u,i,t,r,o,f,e,c={},s=[],a=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function h(n,l){for(var u in l)n[u]=l[u];return n}function v(n){var l=n.parentNode;l&&l.removeChild(n)}function y(l,u,i){var t,r,o,f={};for(o in u)\"key\"==o?t=u[o]:\"ref\"==o?r=u[o]:f[o]=u[o];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),\"function\"==typeof l&&null!=l.defaultProps)for(o in l.defaultProps)void 0===f[o]&&(f[o]=l.defaultProps[o]);return p(l,f,t,r,null)}function p(n,i,t,r,o){var f={type:n,props:i,key:t,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++u:o};return null==o&&null!=l.vnode&&l.vnode(f),f}function d(){return{current:null}}function _(n){return n.children}function k(n,l){this.props=n,this.context=l}function b(n,l){if(null==l)return n.__?b(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?b(n):null}function g(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return g(n)}}function m(n){(!n.__d&&(n.__d=!0)&&t.push(n)&&!w.__r++||r!==l.debounceRendering)&&((r=l.debounceRendering)||o)(w)}function w(){var n,l,u,i,r,o,e,c;for(t.sort(f);n=t.shift();)n.__d&&(l=t.length,i=void 0,r=void 0,e=(o=(u=n).__v).__e,(c=u.__P)&&(i=[],(r=h({},o)).__v=o.__v+1,L(c,o,r,u.__n,void 0!==c.ownerSVGElement,null!=o.__h?[e]:null,i,null==e?b(o):e,o.__h),M(i,o),o.__e!=e&&g(o)),t.length>l&&t.sort(f));w.__r=0}function x(n,l,u,i,t,r,o,f,e,a){var h,v,y,d,k,g,m,w=i&&i.__k||s,x=w.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(d=u.__k[h]=null==(d=l[h])||\"boolean\"==typeof d||\"function\"==typeof d?null:\"string\"==typeof d||\"number\"==typeof d||\"bigint\"==typeof d?p(null,d,null,null,d):Array.isArray(d)?p(_,{children:d},null,null,null):d.__b>0?p(d.type,d.props,d.key,d.ref?d.ref:null,d.__v):d)){if(d.__=u,d.__b=u.__b+1,null===(y=w[h])||y&&d.key==y.key&&d.type===y.type)w[h]=void 0;else for(v=0;v<x;v++){if((y=w[v])&&d.key==y.key&&d.type===y.type){w[v]=void 0;break}y=null}L(n,d,y=y||c,t,r,o,f,e,a),k=d.__e,(v=d.ref)&&y.ref!=v&&(m||(m=[]),y.ref&&m.push(y.ref,null,d),m.push(v,d.__c||k,d)),null!=k?(null==g&&(g=k),\"function\"==typeof d.type&&d.__k===y.__k?d.__d=e=A(d,e,n):e=C(n,d,y,w,k,e),\"function\"==typeof u.type&&(u.__d=e)):e&&y.__e==e&&e.parentNode!=n&&(e=b(y))}for(u.__e=g,h=x;h--;)null!=w[h]&&(\"function\"==typeof u.type&&null!=w[h].__e&&w[h].__e==u.__d&&(u.__d=$(i).nextSibling),S(w[h],w[h]));if(m)for(h=0;h<m.length;h++)O(m[h],m[++h],m[++h])}function A(n,l,u){for(var i,t=n.__k,r=0;t&&r<t.length;r++)(i=t[r])&&(i.__=n,l=\"function\"==typeof i.type?A(i,l,u):C(u,i,i,t,i.__e,l));return l}function P(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(Array.isArray(n)?n.some(function(n){P(n,l)}):l.push(n)),l}function C(n,l,u,i,t,r){var o,f,e;if(void 0!==l.__d)o=l.__d,l.__d=void 0;else if(null==u||t!=r||null==t.parentNode)n:if(null==r||r.parentNode!==n)n.appendChild(t),o=null;else{for(f=r,e=0;(f=f.nextSibling)&&e<i.length;e+=1)if(f==t)break n;n.insertBefore(t,r),o=r}return void 0!==o?o:t.nextSibling}function $(n){var l,u,i;if(null==n.type||\"string\"==typeof n.type)return n.__e;if(n.__k)for(l=n.__k.length-1;l>=0;l--)if((u=n.__k[l])&&(i=$(u)))return i;return null}function H(n,l,u,i,t){var r;for(r in u)\"children\"===r||\"key\"===r||r in l||T(n,r,null,u[r],i);for(r in l)t&&\"function\"!=typeof l[r]||\"children\"===r||\"key\"===r||\"value\"===r||\"checked\"===r||u[r]===l[r]||T(n,r,l[r],u[r],i)}function I(n,l,u){\"-\"===l[0]?n.setProperty(l,null==u?\"\":u):n[l]=null==u?\"\":\"number\"!=typeof u||a.test(l)?u:u+\"px\"}function T(n,l,u,i,t){var r;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof i&&(n.style.cssText=i=\"\"),i)for(l in i)u&&l in u||I(n.style,l,\"\");if(u)for(l in u)i&&u[l]===i[l]||I(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])r=l!==(l=l.replace(/Capture$/,\"\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+r]=u,u?i||n.addEventListener(l,r?z:j,r):n.removeEventListener(l,r?z:j,r);else if(\"dangerouslySetInnerHTML\"!==l){if(t)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"width\"!==l&&\"height\"!==l&&\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null==u||!1===u&&\"-\"!==l[4]?n.removeAttribute(l):n.setAttribute(l,u))}}function j(n){return this.l[n.type+!1](l.event?l.event(n):n)}function z(n){return this.l[n.type+!0](l.event?l.event(n):n)}function L(n,u,i,t,r,o,f,e,c){var s,a,v,y,p,d,b,g,m,w,A,P,C,$,H,I=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(c=i.__h,e=u.__e=i.__e,u.__h=null,o=[e]),(s=l.__b)&&s(u);try{n:if(\"function\"==typeof I){if(g=u.props,m=(s=I.contextType)&&t[s.__c],w=s?m?m.props.value:s.__:t,i.__c?b=(a=u.__c=i.__c).__=a.__E:(\"prototype\"in I&&I.prototype.render?u.__c=a=new I(g,w):(u.__c=a=new k(g,w),a.constructor=I,a.render=q),m&&m.sub(a),a.props=g,a.state||(a.state={}),a.context=w,a.__n=t,v=a.__d=!0,a.__h=[],a._sb=[]),null==a.__s&&(a.__s=a.state),null!=I.getDerivedStateFromProps&&(a.__s==a.state&&(a.__s=h({},a.__s)),h(a.__s,I.getDerivedStateFromProps(g,a.__s))),y=a.props,p=a.state,a.__v=u,v)null==I.getDerivedStateFromProps&&null!=a.componentWillMount&&a.componentWillMount(),null!=a.componentDidMount&&a.__h.push(a.componentDidMount);else{if(null==I.getDerivedStateFromProps&&g!==y&&null!=a.componentWillReceiveProps&&a.componentWillReceiveProps(g,w),!a.__e&&null!=a.shouldComponentUpdate&&!1===a.shouldComponentUpdate(g,a.__s,w)||u.__v===i.__v){for(u.__v!==i.__v&&(a.props=g,a.state=a.__s,a.__d=!1),a.__e=!1,u.__e=i.__e,u.__k=i.__k,u.__k.forEach(function(n){n&&(n.__=u)}),A=0;A<a._sb.length;A++)a.__h.push(a._sb[A]);a._sb=[],a.__h.length&&f.push(a);break n}null!=a.componentWillUpdate&&a.componentWillUpdate(g,a.__s,w),null!=a.componentDidUpdate&&a.__h.push(function(){a.componentDidUpdate(y,p,d)})}if(a.context=w,a.props=g,a.__P=n,P=l.__r,C=0,\"prototype\"in I&&I.prototype.render){for(a.state=a.__s,a.__d=!1,P&&P(u),s=a.render(a.props,a.state,a.context),$=0;$<a._sb.length;$++)a.__h.push(a._sb[$]);a._sb=[]}else do{a.__d=!1,P&&P(u),s=a.render(a.props,a.state,a.context),a.state=a.__s}while(a.__d&&++C<25);a.state=a.__s,null!=a.getChildContext&&(t=h(h({},t),a.getChildContext())),v||null==a.getSnapshotBeforeUpdate||(d=a.getSnapshotBeforeUpdate(y,p)),H=null!=s&&s.type===_&&null==s.key?s.props.children:s,x(n,Array.isArray(H)?H:[H],u,i,t,r,o,f,e,c),a.base=u.__e,u.__h=null,a.__h.length&&f.push(a),b&&(a.__E=a.__=null),a.__e=!1}else null==o&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=N(i.__e,u,i,t,r,o,f,c);(s=l.diffed)&&s(u)}catch(n){u.__v=null,(c||null!=o)&&(u.__e=e,u.__h=!!c,o[o.indexOf(e)]=null),l.__e(n,u,i)}}function M(n,u){l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function N(l,u,i,t,r,o,f,e){var s,a,h,y=i.props,p=u.props,d=u.type,_=0;if(\"svg\"===d&&(r=!0),null!=o)for(;_<o.length;_++)if((s=o[_])&&\"setAttribute\"in s==!!d&&(d?s.localName===d:3===s.nodeType)){l=s,o[_]=null;break}if(null==l){if(null===d)return document.createTextNode(p);l=r?document.createElementNS(\"http://www.w3.org/2000/svg\",d):document.createElement(d,p.is&&p),o=null,e=!1}if(null===d)y===p||e&&l.data===p||(l.data=p);else{if(o=o&&n.call(l.childNodes),a=(y=i.props||c).dangerouslySetInnerHTML,h=p.dangerouslySetInnerHTML,!e){if(null!=o)for(y={},_=0;_<l.attributes.length;_++)y[l.attributes[_].name]=l.attributes[_].value;(h||a)&&(h&&(a&&h.__html==a.__html||h.__html===l.innerHTML)||(l.innerHTML=h&&h.__html||\"\"))}if(H(l,p,y,r,e),h)u.__k=[];else if(_=u.props.children,x(l,Array.isArray(_)?_:[_],u,i,t,r&&\"foreignObject\"!==d,o,f,o?o[0]:i.__k&&b(i,0),e),null!=o)for(_=o.length;_--;)null!=o[_]&&v(o[_]);e||(\"value\"in p&&void 0!==(_=p.value)&&(_!==l.value||\"progress\"===d&&!_||\"option\"===d&&_!==y.value)&&T(l,\"value\",_,y.value,!1),\"checked\"in p&&void 0!==(_=p.checked)&&_!==l.checked&&T(l,\"checked\",_,y.checked,!1))}return l}function O(n,u,i){try{\"function\"==typeof n?n(u):n.current=u}catch(n){l.__e(n,i)}}function S(n,u,i){var t,r;if(l.unmount&&l.unmount(n),(t=n.ref)&&(t.current&&t.current!==n.__e||O(t,null,u)),null!=(t=n.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(n){l.__e(n,u)}t.base=t.__P=null,n.__c=void 0}if(t=n.__k)for(r=0;r<t.length;r++)t[r]&&S(t[r],u,i||\"function\"!=typeof n.type);i||null==n.__e||v(n.__e),n.__=n.__e=n.__d=void 0}function q(n,l,u){return this.constructor(n,u)}function B(u,i,t){var r,o,f;l.__&&l.__(u,i),o=(r=\"function\"==typeof t)?null:t&&t.__k||i.__k,f=[],L(i,u=(!r&&t||i).__k=y(_,null,[u]),o||c,c,void 0!==i.ownerSVGElement,!r&&t?[t]:o?null:i.firstChild?n.call(i.childNodes):null,f,!r&&t?t:o?o.__e:i.firstChild,r),M(f,u)}function D(n,l){B(n,l,D)}function E(l,u,i){var t,r,o,f=h({},l.props);for(o in u)\"key\"==o?t=u[o]:\"ref\"==o?r=u[o]:f[o]=u[o];return arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),p(l.type,f,t||l.key,r||l.ref,null)}function F(n,l){var u={__c:l=\"__cC\"+e++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(function(n){n.__e=!0,m(n)})},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=s.slice,l={__e:function(n,l,u,i){for(var t,r,o;l=l.__;)if((t=l.__c)&&!t.__)try{if((r=t.constructor)&&null!=r.getDerivedStateFromError&&(t.setState(r.getDerivedStateFromError(n)),o=t.__d),null!=t.componentDidCatch&&(t.componentDidCatch(n,i||{}),o=t.__d),o)return t.__E=t}catch(l){n=l}throw n}},u=0,i=function(n){return null!=n&&void 0===n.constructor},k.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=h({},this.state),\"function\"==typeof n&&(n=n(h({},u),this.props)),n&&h(u,n),null!=n&&this.__v&&(l&&this._sb.push(l),m(this))},k.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),m(this))},k.prototype.render=_,t=[],o=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,f=function(n,l){return n.__v.__b-l.__v.__b},w.__r=0,e=0;export{k as Component,_ as Fragment,E as cloneElement,F as createContext,y as createElement,d as createRef,y as h,D as hydrate,i as isValidElement,l as options,B as render,P as toChildArray};\n//# sourceMappingURL=preact.module.js.map\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bigint: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","/** @license React v16.13.1\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';var b=\"function\"===typeof Symbol&&Symbol.for,c=b?Symbol.for(\"react.element\"):60103,d=b?Symbol.for(\"react.portal\"):60106,e=b?Symbol.for(\"react.fragment\"):60107,f=b?Symbol.for(\"react.strict_mode\"):60108,g=b?Symbol.for(\"react.profiler\"):60114,h=b?Symbol.for(\"react.provider\"):60109,k=b?Symbol.for(\"react.context\"):60110,l=b?Symbol.for(\"react.async_mode\"):60111,m=b?Symbol.for(\"react.concurrent_mode\"):60111,n=b?Symbol.for(\"react.forward_ref\"):60112,p=b?Symbol.for(\"react.suspense\"):60113,q=b?\nSymbol.for(\"react.suspense_list\"):60120,r=b?Symbol.for(\"react.memo\"):60115,t=b?Symbol.for(\"react.lazy\"):60116,v=b?Symbol.for(\"react.block\"):60121,w=b?Symbol.for(\"react.fundamental\"):60117,x=b?Symbol.for(\"react.responder\"):60118,y=b?Symbol.for(\"react.scope\"):60119;\nfunction z(a){if(\"object\"===typeof a&&null!==a){var u=a.$$typeof;switch(u){case c:switch(a=a.type,a){case l:case m:case e:case g:case f:case p:return a;default:switch(a=a&&a.$$typeof,a){case k:case n:case t:case r:case h:return a;default:return u}}case d:return u}}}function A(a){return z(a)===m}exports.AsyncMode=l;exports.ConcurrentMode=m;exports.ContextConsumer=k;exports.ContextProvider=h;exports.Element=c;exports.ForwardRef=n;exports.Fragment=e;exports.Lazy=t;exports.Memo=r;exports.Portal=d;\nexports.Profiler=g;exports.StrictMode=f;exports.Suspense=p;exports.isAsyncMode=function(a){return A(a)||z(a)===l};exports.isConcurrentMode=A;exports.isContextConsumer=function(a){return z(a)===k};exports.isContextProvider=function(a){return z(a)===h};exports.isElement=function(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===c};exports.isForwardRef=function(a){return z(a)===n};exports.isFragment=function(a){return z(a)===e};exports.isLazy=function(a){return z(a)===t};\nexports.isMemo=function(a){return z(a)===r};exports.isPortal=function(a){return z(a)===d};exports.isProfiler=function(a){return z(a)===g};exports.isStrictMode=function(a){return z(a)===f};exports.isSuspense=function(a){return z(a)===p};\nexports.isValidElementType=function(a){return\"string\"===typeof a||\"function\"===typeof a||a===e||a===m||a===g||a===f||a===p||a===q||\"object\"===typeof a&&null!==a&&(a.$$typeof===t||a.$$typeof===r||a.$$typeof===h||a.$$typeof===k||a.$$typeof===n||a.$$typeof===w||a.$$typeof===x||a.$$typeof===y||a.$$typeof===v)};exports.typeOf=z;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","/**\n * Controls whether we should build the variant bundle.\n *\n * Set this to `true` if you want to serve a server-side experiment against\n * the `dcrJavascriptBundle` A/B test.\n *\n * Ensure Sentry sampling in sentry/index.ts is adjusted for the sample\n * size of the test\n *\n * @type {boolean} prevent TS from narrowing this to its current value\n */\nconst BUILD_VARIANT = false;\n\n/**\n * Server-side test names for `dcr-javascript-bundle`.\n *\n * The name is transformed from kebab-case to camelCase,\n * so we have the `dcrJavascriptBundle` prefix.\n *\n * @see https://github.com/guardian/frontend/blob/a602273a/common/app/experiments/Experiments.scala#L20-L27\n *\n * @type {(variant: 'Variant' | 'Control') => import(\"../../src/types/config\").ServerSideTestNames}\n */\nconst dcrJavascriptBundle = (variant) => `dcrJavascriptBundle${variant}`;\n\nmodule.exports = {\n\tBUILD_VARIANT,\n\tdcrJavascriptBundle,\n};\n","import { storage } from '@guardian/libs';\nimport {\n\tgetWeeklyArticleHistory,\n\tincrementWeeklyArticleCount,\n} from '@guardian/support-dotcom-components';\nimport type { WeeklyArticleHistory } from '@guardian/support-dotcom-components/dist/dotcom/src/types';\nimport { useEffect, useState } from 'react';\nimport { hasOptedOutOfArticleCount } from '../web/lib/contributions';\nimport type { DailyArticleHistory } from '../web/lib/dailyArticleCount';\nimport {\n\tgetDailyArticleCount,\n\tincrementDailyArticleCount,\n} from '../web/lib/dailyArticleCount';\n\nexport interface ArticleCounts {\n\tweeklyArticleHistory: WeeklyArticleHistory;\n\tdailyArticleHistory: DailyArticleHistory;\n}\n\n// We should monitor this function call to ensure it only happens within an\n// article pages when other pages are supported by DCR.\nexport const getArticleCounts = async (\n\tpageId: string,\n\tkeywordIds: string,\n): Promise<ArticleCounts | undefined> => {\n\tif (await hasOptedOutOfArticleCount()) return undefined;\n\n\t// hasOptedOut needs to be done before we check if articleCount is set in the window\n\t// This is because a potential race condition where one invocation of getArticleCounts\n\t// is waiting for hasOptedOut another invocation might receive it and increment the article count.\n\tif (!window.guardian.weeklyArticleCount) {\n\t\tincrementWeeklyArticleCount(\n\t\t\tstorage.local,\n\t\t\tpageId,\n\t\t\tkeywordIds.split(','),\n\t\t);\n\n\t\twindow.guardian.weeklyArticleCount = getWeeklyArticleHistory(\n\t\t\tstorage.local,\n\t\t);\n\t}\n\tif (!window.guardian.dailyArticleCount) {\n\t\tincrementDailyArticleCount();\n\t\twindow.guardian.dailyArticleCount = getDailyArticleCount();\n\t}\n\n\treturn {\n\t\tweeklyArticleHistory: window.guardian.weeklyArticleCount ?? [],\n\t\tdailyArticleHistory: window.guardian.dailyArticleCount ?? [],\n\t};\n};\n\nexport const useArticleCounts = (\n\tpageId: string,\n\tkeywordIds: string,\n): ArticleCounts | undefined | 'Pending' => {\n\tconst [articleCounts, setArticleCounts] = useState<\n\t\tArticleCounts | undefined | 'Pending'\n\t>('Pending');\n\n\tuseEffect(() => {\n\t\tgetArticleCounts(pageId, keywordIds)\n\t\t\t.then(setArticleCounts)\n\t\t\t.catch(() => setArticleCounts(undefined));\n\t}, [pageId, keywordIds]);\n\n\treturn articleCounts;\n};\n","import type { TagType } from '../types/tag';\n\ninterface ContributorTag extends TagType {\n\ttype: 'Contributor';\n}\n\nexport const isContributor = (tag: TagType): tag is ContributorTag =>\n\ttag.type === 'Contributor';\n\n/**\n * Get the sole contributor on an article.\n *\n * This can be used to display more information about them,\n * such as their picture, bio or social media handle.\n *\n * An article has a sole contributor only if all of the following are true:\n * - there is a byline which is not an empty string\n * - the byline does not include the word “and”\n * - there is a `Contributor` tag whose title is included in the byline\n *\n * @returns A sole contributor if there is one, `undefined` otherwise.\n */\nexport const getSoleContributor = (\n\ttags: TagType[],\n\tbyline: string | undefined,\n): ContributorTag | undefined => {\n\tif (!byline) return undefined;\n\tif (byline.includes(' and ')) return undefined;\n\n\tconst [firstContributor, otherContributor] = tags\n\t\t.filter(isContributor)\n\t\t.filter(({ title }) => byline.includes(title));\n\n\t// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition -- we don’t have unchecked indexed access\n\tif (otherContributor) return undefined;\n\n\treturn firstContributor;\n};\n\nexport const getContributorTagsForToken = (\n\ttags: TagType[],\n\ttoken: string,\n): ContributorTag[] => {\n\treturn tags.filter(isContributor).filter((t) => t.title === token);\n};\n\ntype BylineComponent = { token: string; tag: TagType } | string;\n\nexport const getBylineComponentsFromTokens = (\n\ttokens: string[],\n\ttags: TagType[],\n): BylineComponent[] => {\n\tconst [bylineComponents] = tokens.reduce<[BylineComponent[], TagType[]]>(\n\t\t([bylines, remainingTags], token) => {\n\t\t\tconst [firstContributorTag] = getContributorTagsForToken(\n\t\t\t\tremainingTags,\n\t\t\t\ttoken,\n\t\t\t);\n\t\t\tif (!firstContributorTag) {\n\t\t\t\treturn [bylines.concat(token), remainingTags];\n\t\t\t}\n\n\t\t\t// We've used this tag, so remove it from the list of possible tags.\n\t\t\t// This ensures we don't use the same contributor tag when two identical\n\t\t\t// names with different contributor tags are used.\n\t\t\tconst newRemainingTags = remainingTags.filter(\n\t\t\t\t(tag) => !(tag.id === firstContributorTag.id),\n\t\t\t);\n\n\t\t\treturn [\n\t\t\t\tbylines.concat({ tag: firstContributorTag, token }),\n\t\t\t\tnewRemainingTags,\n\t\t\t];\n\t\t},\n\t\t[[], tags],\n\t);\n\n\treturn bylineComponents;\n};\n","/**\n * Create an escapedData string that can be safely placed inside script tags on the page\n *\n * The level of sanitisation here is limited to escaping script tags to prevent\n * errors when embedded html string contain their own script tags.\n *\n * See: https://www.w3.org/TR/html52/semantics-scripting.html#restrictions-for-contents-of-script-elements\n *\n *  > The easiest and safest way to avoid the rather strange restrictions described in this section is to\n *  > always escape \"&lt;!--\" as \"&lt;\\!--\", \"&lt;script\" as \"&lt;\\script\", and \"&lt;/script\" as \"&lt;\\/script\"\n *\n * TODO: This could be extended\n */\n\n// See: https://stackoverflow.com/a/1144788\nfunction escapeRegExp(str: string): string {\n\treturn str.replace(/([.*+?^=!:${}()|[\\]/\\\\])/g, '\\\\$1');\n}\n\nfunction replaceAll(str: string, find: string, replace: string): string {\n\treturn str.replace(new RegExp(escapeRegExp(find), 'g'), replace);\n}\n\nexport const escapeData = (data: string): string => {\n\tlet escaped = data;\n\tescaped = replaceAll(escaped, '<!--', '<\\\\!--');\n\tescaped = replaceAll(escaped, '<script', '<\\\\script');\n\tescaped = replaceAll(escaped, '</script', '<\\\\/script');\n\treturn escaped;\n};\n\nexport const unescapeData = (data: string): string => {\n\tlet unescaped = data;\n\tunescaped = replaceAll(unescaped, '<\\\\!--', '<!--');\n\tunescaped = replaceAll(unescaped, '<\\\\script', '<script');\n\tunescaped = replaceAll(unescaped, '<\\\\/script', '</script');\n\treturn unescaped;\n};\n","import { constructQuery } from './querystring';\n\ntype AuthenticationComponentId =\n\t| 'amp_sidebar_signin'\n\t| 'guardian_signin_header'\n\t| 'signin_to_comment'\n\t| 'register_to_comment';\n\ntype AuthenticationEventParams = {\n\tcomponentType: string;\n\tcomponentId: AuthenticationComponentId;\n\tviewId?: string;\n};\n\nexport const createAuthenticationEventParams = (\n\tcomponentId: AuthenticationComponentId,\n\tpageViewId?: string,\n): string => {\n\tconst params: AuthenticationEventParams = {\n\t\tcomponentType: 'identityauthentication',\n\t\tcomponentId,\n\t};\n\n\tif (pageViewId) {\n\t\tparams.viewId = pageViewId;\n\t}\n\n\treturn `componentEventParams=${encodeURIComponent(constructQuery(params))}`;\n};\n","const constructQuery = (query: { [key: string]: any }): string =>\n\tObject.keys(query)\n\t\t.map((param: string) => {\n\t\t\tconst value = query[param];\n\t\t\tconst queryValue = Array.isArray(value)\n\t\t\t\t? value.map((v) => encodeURIComponent(v)).join(',')\n\t\t\t\t: encodeURIComponent(value);\n\t\t\treturn `${param}=${queryValue}`;\n\t\t})\n\t\t.join('&');\n\nexport { constructQuery };\n","import { updateIframeHeight } from './updateIframeHeight';\n\nexport const atomIframe = (): Promise<void> =>\n\tupdateIframeHeight('.atom__iframe');\n","import { doHydration } from './islands/doHydration';\nimport { getEmotionCache } from './islands/emotion';\nimport { getProps } from './islands/getProps';\n\nfunction forceHydration() {\n\ttry {\n\t\tconst name = 'DiscussionContainer';\n\n\t\t// Select the Discussion island element\n\t\tconst guElement = document.querySelector<HTMLElement>(\n\t\t\t`gu-island[name=${name}]`,\n\t\t);\n\t\tif (!guElement) return;\n\n\t\t// Read the props from where they have been serialised in the dom using an Island\n\t\tconst props = getProps(guElement);\n\n\t\t// Now that we have the props as an object, tell Discussion we want it to expand itself\n\t\tprops.expanded = true;\n\n\t\t// Force hydration\n\t\tvoid doHydration(name, props, guElement, getEmotionCache());\n\t} catch (err) {\n\t\t// Do nothing\n\t}\n}\n\nexport const discussion = (): Promise<void> => {\n\t/**\n\t * If we have either a #comment-123456 permalink or the #comments link in the url\n\t * then we want to hydrate and expand the discussion without waiting for the\n\t * reader to scroll down to it\n\t *\n\t */\n\tconst hashLink = window.location.hash;\n\tif (hashLink.includes('comment')) forceHydration();\n\n\treturn Promise.resolve();\n};\n","import { updateIframeHeight } from './updateIframeHeight';\n\nexport const embedIframe = (): Promise<void> =>\n\tupdateIframeHeight('.js-embed__iframe');\n","/* eslint-disable @typescript-eslint/strict-boolean-expressions, @typescript-eslint/no-unnecessary-condition --\n\tWe check the existence of window.ga frequently, which is required for browser safety despite the type definitions. */\nimport { getCookie } from '@guardian/libs';\nimport { getCLS, getFID, getLCP } from 'web-vitals';\n\ninterface TrackerConfig {\n\tname: string;\n\tid: string;\n\tsampleRate: number;\n\tsiteSpeedSampleRate: number;\n}\n\nconst tracker: TrackerConfig = {\n\tname: 'allEditorialPropertyTracker',\n\tid: 'UA-78705427-1',\n\tsampleRate: 100,\n\tsiteSpeedSampleRate: 1, // TODO Should be set to 0.1 when rolling out to wider audience\n};\nconst set = `${tracker.name}.set`;\nconst send = `${tracker.name}.send`;\n\nconst getQueryParam = (\n\tkey: string,\n\tqueryString: string,\n): string | undefined => {\n\tconst params = queryString.substring(1).split('&');\n\tconst pairs = params.map((x) => x.split('='));\n\n\treturn pairs\n\t\t.filter((xs) => xs.length === 2 && xs[0] === key)\n\t\t.map((xs) => xs[1])[0];\n};\n\nexport const init = (): void => {\n\tconst coldQueue = (...args: any[]) => {\n\t\t(window.ga.q = window.ga.q || []).push(args);\n\t};\n\n\twindow.ga = window.ga || (coldQueue as UniversalAnalytics.ga);\n\n\twindow.GoogleAnalyticsObject = 'ga';\n\twindow.ga.l = +new Date();\n\n\twindow.ga('create', tracker.id, 'auto', tracker.name, {\n\t\tsampleRate: tracker.sampleRate,\n\t\tsiteSpeedSampleRate: tracker.siteSpeedSampleRate,\n\t});\n};\n\ntype CoreVitalsArgsType = {\n\tname: string;\n\tdelta: number;\n\tid: string;\n};\n\n// https://www.npmjs.com/package/web-vitals#using-analyticsjs\nconst sendCoreVital = ({ name, delta, id }: CoreVitalsArgsType): void => {\n\tconst { ga } = window;\n\n\tif (!ga) {\n\t\treturn;\n\t}\n\n\tga(send, 'event', {\n\t\teventCategory: 'Web Vitals',\n\t\teventAction: name,\n\t\t// Google Analytics metrics must be integers, so the value is rounded.\n\t\t// For CLS the value is first multiplied by 1000 for greater precision\n\t\t// (note: increase the multiplier for greater precision if needed).\n\t\teventValue: Math.round(name === 'CLS' ? delta * 1000 : delta),\n\t\t// The `id` value will be unique to the current page load. When sending\n\t\t// multiple values from the same page (e.g. for CLS), Google Analytics can\n\t\t// compute a total by grouping on this ID (note: requires `eventLabel` to\n\t\t// be a dimension in your report).\n\t\teventLabel: id,\n\t\t// Use a non-interaction event to avoid affecting bounce rate.\n\t\tnonInteraction: true,\n\t});\n};\n\nexport const sendPageView = (): void => {\n\tconst { GAData } = window.guardian;\n\tconst userCookie = getCookie({ name: 'GU_U', shouldMemoize: true });\n\tconst { ga } = window;\n\n\tif (!ga) {\n\t\treturn;\n\t}\n\n\tga(set, 'forceSSL', true);\n\tga(set, 'title', GAData.webTitle);\n\tga(set, 'anonymizeIp', true);\n\t/** *************************************************************************************\n\t * Custom dimensions common to all platforms across the whole Guardian estate          *\n\t ************************************************************************************** */\n\tga(set, 'dimension3', 'theguardian.com'); /* Platform */\n\t/** *************************************************************************************\n\t * Custom dimensions for 'editorial' platforms (this site, the mobile apps, etc.)      *\n\t * Some of these will be undefined for non-content pages, but that's fine.             *\n\t ************************************************************************************** */\n\tga(set, 'dimension4', GAData.section);\n\tga(set, 'dimension5', GAData.contentType);\n\tga(set, 'dimension6', GAData.commissioningDesks);\n\tga(set, 'dimension7', GAData.contentId);\n\tga(set, 'dimension8', GAData.authorIds);\n\tga(set, 'dimension9', GAData.keywordIds);\n\tga(set, 'dimension10', GAData.toneIds);\n\tga(set, 'dimension11', GAData.seriesId);\n\tga(set, 'dimension16', (userCookie && 'true') || 'false');\n\tga(set, 'dimension21', getQueryParam('INTCMP', window.location.search)); // internal campaign code\n\tga(set, 'dimension22', getQueryParam('CMP_BUNIT', window.location.search)); // campaign business unit\n\tga(set, 'dimension23', getQueryParam('CMP_TU', window.location.search)); // campaign team\n\tga(set, 'dimension26', GAData.isHosted);\n\tga(set, 'dimension27', navigator.userAgent); // I bet you a pint\n\tga(set, 'dimension29', window.location.href); // That both of these are already tracked.\n\tga(set, 'dimension30', GAData.edition);\n\n\t// TODO: sponsor logos\n\t// ga(set, 'dimension31', GAData.sponsorLogos);\n\n\t// TODO: commercial branding\n\t// ga(set, 'dimension42', 'GAData.brandingType');\n\n\tga(set, 'dimension43', 'dotcom-rendering');\n\tga(set, 'dimension50', GAData.pillar);\n\n\tif (window.location.hash === '#fbLogin') {\n\t\tga(set, 'referrer', null);\n\t\twindow.location.hash = '';\n\t}\n\n\ttry {\n\t\tconst NG_STORAGE_KEY = 'gu.analytics.referrerVars';\n\t\tconst referrerVarsData = window.sessionStorage.getItem(NG_STORAGE_KEY);\n\t\tconst referrerVars: { [key: string]: any } = JSON.parse(\n\t\t\treferrerVarsData ?? '{}',\n\t\t);\n\t\tif (referrerVars.value) {\n\t\t\tconst value = referrerVars.value as {\n\t\t\t\ttime: number;\n\t\t\t\ttag: string;\n\t\t\t\tpath: string;\n\t\t\t};\n\t\t\tconst d = new Date().getTime();\n\t\t\tif (d - value.time < 60 * 1000) {\n\t\t\t\t// One minute\n\t\t\t\tga(send, 'event', 'Click', 'Internal', value.tag, {\n\t\t\t\t\tnonInteraction: true, // to avoid affecting bounce rate\n\t\t\t\t\tdimension12: value.path,\n\t\t\t\t});\n\t\t\t}\n\t\t\twindow.sessionStorage.removeItem(NG_STORAGE_KEY);\n\t\t}\n\t} catch (e) {\n\t\t// do nothing\n\t}\n\n\tga(send, 'pageview');\n\n\t// //////////////////////\n\t// Core Vitals Reporting\n\t// Supported only in Chromium but npm module tested in all our supported browsers\n\t// https://www.npmjs.com/package/web-vitals#browser-support\n\n\t// Only send for roughly 5% of users\n\t// We want all or nothing on the corevitals so that they can be easily compared for a single pageview\n\t// so we do this here rather than in the sendCoreVital function\n\tconst randomPerc = Math.random() * 100;\n\tconst coreVitalsSampleRate = 5;\n\n\tif (coreVitalsSampleRate >= randomPerc) {\n\t\t// CLS and LCP are captured when the page lifecycle changes to 'hidden'.\n\t\t// https://developers.google.com/web/updates/2018/07/page-lifecycle-api#advice-hidden\n\t\tgetCLS(sendCoreVital); // https://github.com/GoogleChrome/web-vitals#getcls (This is actually DCLS, as doesn't track CLS in iframes, see https://github.com/WICG/layout-instability#cumulative-scores)\n\t\tgetLCP(sendCoreVital); // https://github.com/GoogleChrome/web-vitals#getlcp\n\n\t\t// FID is captured when a user interacts with the page\n\t\tgetFID(sendCoreVital); // https://github.com/GoogleChrome/web-vitals#getfid\n\t}\n};\n\nexport const trackNonClickInteraction = (actionName: string): void => {\n\tconst { ga } = window;\n\tif (!ga) {\n\t\treturn;\n\t}\n\n\tga(send, 'event', 'Interaction', actionName, {\n\t\t/**\n\t\t * set nonInteraction to avoid affecting bounce rate\n\t\t * https://support.google.com/analytics/answer/1033068#NonInteractionEvents\n\t\t */\n\t\tnonInteraction: true,\n\t});\n};\n\nexport const trackSponsorLogoLinkClick = (sponsorName: string): void => {\n\tconst { ga } = window;\n\tif (!ga) {\n\t\treturn;\n\t}\n\n\tga(send, 'event', 'click', 'sponsor logo', sponsorName, {\n\t\tnonInteraction: true,\n\t});\n};\n\nexport const trackVideoInteraction = ({\n\ttrackingEvent,\n\telementId,\n}: {\n\ttrackingEvent: string;\n\telementId: string;\n}): void => {\n\tconst { ga } = window;\n\n\tif (!ga) {\n\t\treturn;\n\t}\n\n\tga(send, 'event', {\n\t\teventCategory: 'media',\n\t\teventAction: 'video content',\n\t\teventLabel: `${trackingEvent}:${elementId}`,\n\t\tdimension19: elementId,\n\t});\n};\n","const prefix = 'dotcom.performance';\n\n/**\n * Helper to measure the duration of any task.\n *\n * Values are rounded up to the nearest millisecond,\n * in order to not under-report any duration.\n */\nexport const initPerf = (\n\tname: string,\n): { start: () => number; end: () => number; clear: () => void } => {\n\tconst perf = window.performance;\n\tconst startKey = `${prefix}.${name}-start`;\n\tconst endKey = `${prefix}.${name}-end`;\n\n\tif (!('getEntriesByName' in perf)) {\n\t\t// Handle browsers with partial implementations\n\t\treturn { start: () => -1, end: () => -1, clear: () => {} };\n\t}\n\n\t/** @returns time elapsed since [time origin](https://developer.mozilla.org/en-US/docs/Web/API/DOMHighResTimeStamp#the_time_origin) in milliseconds */\n\tconst start = () => {\n\t\tconst { startTime = -1 } =\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition -- Issue in Firefox https://caniuse.com/mdn-api_performance_measure_returns_undefined\n\t\t\tperf.mark(startKey) ??\n\t\t\tperf.getEntriesByName(startKey, 'mark')[0] ??\n\t\t\t{};\n\n\t\treturn Math.ceil(startTime);\n\t};\n\n\t/** @returns length of task in milliseconds */\n\tconst end = (): number => {\n\t\tperf.mark(endKey);\n\t\tconst { duration = -1 } =\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition -- Issue in Firefox https://caniuse.com/mdn-api_performance_measure_returns_undefined\n\t\t\tperf.measure(name, startKey, endKey) ??\n\t\t\tperf.getEntriesByName(name, 'measure')[0] ??\n\t\t\t{};\n\n\t\treturn Math.ceil(duration);\n\t};\n\n\tconst clear = () => {\n\t\tperf.clearMarks(startKey);\n\t\tperf.clearMarks(endKey);\n\t\tperf.clearMeasures(name);\n\t};\n\n\treturn {\n\t\tstart,\n\t\tend,\n\t\tclear,\n\t};\n};\n","/* eslint-disable @typescript-eslint/no-unsafe-member-access -- necessary for calling our async loaded modules */\nimport type { EmotionCache } from '@emotion/react';\nimport { CacheProvider } from '@emotion/react';\nimport { log } from '@guardian/libs';\nimport { createElement } from 'react';\nimport { createRoot, hydrateRoot } from 'react-dom/client';\nimport { initPerf } from '../initPerf';\n\n/**\n * This function dynamically imports and then hydrates a specific component in\n * a specific part of the page\n *\n * If the content being hydrated is not present in the dom then React renders\n * it. This is how portals (non server side rendered content) work\n *\n * @param name The name of the component we want to hydrate\n * @param data The deserialised props we want to use for hydration\n * @param element The location on the DOM where the component to hydrate exists\n * @param emotionCache An instance of an emotion cache to use for the island\n */\nexport const doHydration = async (\n\tname: string,\n\tdata: { [key: string]: unknown } | null,\n\telement: HTMLElement,\n\temotionCache: EmotionCache,\n): Promise<void> => {\n\t// If this function has already been run for an element then don't try to\n\t// run it a second time\n\tconst alreadyHydrated = element.dataset.guReady;\n\tif (alreadyHydrated) return;\n\n\tconst { start: importStart, end: importEnd } = initPerf(`import-${name}`);\n\timportStart();\n\tawait import(\n\t\t/* webpackInclude: /\\.importable\\.tsx$/ */\n\t\t/* webpackChunkName: \"[request]\" */\n\t\t`../../components/${name}.importable`\n\t)\n\t\t.then((module) => {\n\t\t\t/** The duration of importing the module for this island */\n\t\t\tconst importDuration = importEnd();\n\t\t\tconst clientOnly =\n\t\t\t\telement.hasAttribute('clientonly') &&\n\t\t\t\telement.getAttribute('clientonly') !== 'false';\n\n\t\t\tconst { start: islandStart, end: islandEnd } = initPerf(\n\t\t\t\t`island-${name}`,\n\t\t\t);\n\t\t\tislandStart();\n\n\t\t\tif (clientOnly) {\n\t\t\t\telement.querySelector('[data-name=\"placeholder\"]')?.remove();\n\t\t\t\tconst root = createRoot(element);\n\t\t\t\troot.render(\n\t\t\t\t\t<CacheProvider value={emotionCache}>\n\t\t\t\t\t\t{createElement(module[name], data)}\n\t\t\t\t\t</CacheProvider>,\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\thydrateRoot(\n\t\t\t\t\telement,\n\t\t\t\t\t<CacheProvider value={emotionCache}>\n\t\t\t\t\t\t{createElement(module[name], data)}\n\t\t\t\t\t</CacheProvider>,\n\t\t\t\t);\n\t\t\t}\n\n\t\t\telement.setAttribute('data-gu-ready', 'true');\n\t\t\t/** The duration of rendering or hydrating this island */\n\t\t\tconst islandDuration = islandEnd();\n\n\t\t\treturn { clientOnly, importDuration, islandDuration };\n\t\t})\n\t\t.then(({ clientOnly, importDuration, islandDuration }) => {\n\t\t\tif (!('getEntriesByType' in window.performance)) return;\n\n\t\t\tconst action = clientOnly ? 'Rendered' : 'Hydrated';\n\n\t\t\tlog(\n\t\t\t\t'dotcom',\n\t\t\t\t`🏝 ${action} <${name} /> in ${islandDuration}ms (imported in ${importDuration}ms)`,\n\t\t\t);\n\t\t})\n\t\t.catch((error) => {\n\t\t\tif (name && error.message.includes(name)) {\n\t\t\t\tconsole.error(\n\t\t\t\t\t`🚨 Error importing ${name}. Components must live in the root of /components and follow the [MyComponent].importable.tsx naming convention 🚨`,\n\t\t\t\t);\n\t\t\t}\n\t\t\tthrow error;\n\t\t});\n};\n","import type { EmotionCache } from '@emotion/cache';\nimport createCache from '@emotion/cache';\n\n/**\n * Emotion Cache\n *\n * Emotion uses a cache to avoid having to re-calculate the same CSS multiple times,\n * We want to re-use this cache between islands to avoid duplicate work or\n * conflicts between caches.\n *\n * We need to keep this cache available for any islands added to the page after the\n * initial page load (e.g with liveblogs), so we store it on window.guardian\n */\nexport const getEmotionCache = (): EmotionCache => {\n\tif (window.guardian.emotionCache === undefined) {\n\t\tconst key = 'dcr';\n\t\tconst emotionCache = createCache({ key });\n\t\twindow.guardian.emotionCache = emotionCache;\n\t\treturn emotionCache;\n\t} else {\n\t\treturn window.guardian.emotionCache;\n\t}\n};\n","/**\n * getProps takes the given html element and returns its props attibute\n *\n * We expect the element to always be a `gu-*` custom element\n *\n * @param marker : The html element that we want to read the props attribute from;\n * @returns\n */\nexport const getProps = (marker: HTMLElement): { [key: string]: unknown } => {\n\tconst serialised = marker.getAttribute('props');\n\tlet props: { [key: string]: unknown };\n\ttry {\n\t\tprops = serialised && JSON.parse(serialised);\n\t} catch (error: unknown) {\n\t\tconsole.error(\n\t\t\t`🚨 Error parsing props. Is this data serialisable? ${String(\n\t\t\t\tserialised,\n\t\t\t)} 🚨`,\n\t\t);\n\t\tthrow error;\n\t}\n\treturn props;\n};\n","/**\n * Use this function to delay execution of something until an element\n * is within 100px of the viewport.\n *\n * @param element : The html element that we want to observe;\n * @param callback : This is fired when the element is visible in the viewport\n */\nexport const whenVisible = (\n\telement: HTMLElement,\n\tcallback: () => void,\n): void => {\n\tif ('IntersectionObserver' in window) {\n\t\tconst io = new IntersectionObserver(\n\t\t\t([entry]) => {\n\t\t\t\tif (!entry?.isIntersecting) return;\n\t\t\t\t// Disconnect this IntersectionObserver once seen\n\t\t\t\tio.disconnect();\n\t\t\t\tcallback();\n\t\t\t},\n\t\t\t{ rootMargin: '100px' },\n\t\t);\n\n\t\tio.observe(element);\n\t} else {\n\t\t// IntersectionObserver is not supported so failover to calling back at the end of the call stack\n\t\tsetTimeout(() => callback(), 0);\n\t}\n};\n","import { doHydration } from './doHydration';\nimport { getEmotionCache } from './emotion';\nimport { getName } from './getName';\nimport { getProps } from './getProps';\nimport { onInteraction } from './onInteraction';\nimport { whenIdle } from './whenIdle';\nimport { whenVisible } from './whenVisible';\n\nexport const initHydration = (elements: NodeListOf<Element>): void => {\n\t// Get the emotion cache which is shared between islands\n\tconst emotionCache = getEmotionCache();\n\n\t/**\n\t * Partial Hydration / React Islands\n\t *\n\t * The code here looks for parts of the dom that have been marked using the `gu-island`\n\t * marker, hydrating/rendering each one using the following properties:\n\t *\n\t * deferUntil - Used to optionally defer execution\n\t * name - The name of the component. Used to dynamically import the code\n\t * props - The data for the component that has been serialised in the dom\n\t * element - The `gu-island` custom element which is wrapping the content\n\t */\n\telements.forEach((element) => {\n\t\tif (element instanceof HTMLElement) {\n\t\t\tconst name = getName(element);\n\t\t\tconst props = getProps(element);\n\n\t\t\tif (!name) return;\n\n\t\t\tconst deferUntil = element.getAttribute('deferuntil');\n\t\t\tswitch (deferUntil) {\n\t\t\t\tcase 'idle': {\n\t\t\t\t\twhenIdle(() => {\n\t\t\t\t\t\tvoid doHydration(name, props, element, emotionCache);\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 'visible': {\n\t\t\t\t\twhenVisible(element, () => {\n\t\t\t\t\t\tvoid doHydration(name, props, element, emotionCache);\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 'interaction': {\n\t\t\t\t\tonInteraction(element, (targetElement) => {\n\t\t\t\t\t\tvoid doHydration(\n\t\t\t\t\t\t\tname,\n\t\t\t\t\t\t\tprops,\n\t\t\t\t\t\t\telement,\n\t\t\t\t\t\t\temotionCache,\n\t\t\t\t\t\t).then(() => {\n\t\t\t\t\t\t\ttargetElement.dispatchEvent(\n\t\t\t\t\t\t\t\tnew MouseEvent('click'),\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 'hash': {\n\t\t\t\t\tif (window.location.hash.includes(name)) {\n\t\t\t\t\t\tvoid doHydration(name, props, element, emotionCache);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tdefault: {\n\t\t\t\t\tvoid doHydration(name, props, element, emotionCache);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n};\n","/**\n * getName takes the given html element and returns its name attribute\n *\n * We expect the element to always be a `gu-*` custom element\n *\n * @param marker : The html element that we want to read the name attribute from;\n * @returns\n */\nexport const getName = (marker: HTMLElement): string | null => {\n\tconst name = marker.getAttribute('name');\n\tif (!name) {\n\t\tconsole.error(\n\t\t\t`🚨 Error - no name attribute supplied. We need name to know what component to import 🚨`,\n\t\t);\n\t}\n\treturn name;\n};\n","/**\n * whenIdle exectures the given callback when the browser is 'idle'\n *\n * @param callback Fired when requestIdleCallback runs. If requestIdleCallback is not available after 300ms\n */\nexport const whenIdle = (callback: () => void): void => {\n\tif ('requestIdleCallback' in window) {\n\t\twindow.requestIdleCallback(callback, { timeout: 500 });\n\t} else {\n\t\tsetTimeout(callback, 300);\n\t}\n};\n","/**\n * Use this function to delay execution of something until an element is interacted\n * with\n *\n * @param element : The html element that we want to wait for an interaction on;\n * @param callback : This is fired when the element is clicked on\n */\nexport const onInteraction = (\n\telement: HTMLElement,\n\tcallback: (e: HTMLElement) => void,\n): void => {\n\telement.addEventListener(\n\t\t'click',\n\t\t(e) => {\n\t\t\tif (e.target instanceof HTMLElement) {\n\t\t\t\tcallback(e.target);\n\t\t\t}\n\t\t},\n\t\t{ once: true },\n\t);\n};\n","import { isObject } from '@guardian/libs';\n\n// No trailing slash!\nconst allowedOrigins = ['https://www.theguardian.com'];\nexport const newsletterEmbedIframe = (): Promise<void> => {\n\tconst allIframes: HTMLIFrameElement[] = [].slice.call(\n\t\tdocument.querySelectorAll('.email-sub__iframe'),\n\t);\n\n\t// Tell the iframes to resize once this script is loaded\n\t// Otherwise, earlier resize events might be missed\n\t// So we don't have to load this script as a priority on each load\n\tallIframes.forEach((iframe) => {\n\t\tiframe.contentWindow?.postMessage(\n\t\t\t'resize',\n\t\t\t'https://www.theguardian.com',\n\t\t);\n\t});\n\n\twindow.addEventListener('message', (event) => {\n\t\tif (!allowedOrigins.includes(event.origin)) return;\n\n\t\tconst iframes: HTMLIFrameElement[] = allIframes.filter((i) => {\n\t\t\ttry {\n\t\t\t\tif (i.contentWindow !== null && event.source !== null) {\n\t\t\t\t\treturn i.contentWindow === event.source;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn false;\n\t\t});\n\t\tif (iframes.length !== 0) {\n\t\t\ttry {\n\t\t\t\tconst message: unknown = JSON.parse(event.data);\n\t\t\t\tif (!isObject(message) || typeof message.type !== 'string')\n\t\t\t\t\treturn;\n\n\t\t\t\tswitch (message.type) {\n\t\t\t\t\tcase 'set-height':\n\t\t\t\t\t\tiframes.forEach((iframe) => {\n\t\t\t\t\t\t\tif (typeof message.value === 'number') {\n\t\t\t\t\t\t\t\tiframe.height = `${message.value}`;\n\t\t\t\t\t\t\t} else if (typeof message.value === 'string') {\n\t\t\t\t\t\t\t\tconst value = parseInt(message.value, 10);\n\t\t\t\t\t\t\t\tif (Number.isInteger(value)) {\n\t\t\t\t\t\t\t\t\tiframe.height = `${value}`;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t}\n\t\t\t\t// eslint-disable-next-line no-empty\n\t\t\t} catch (e) {}\n\t\t}\n\t});\n\n\treturn Promise.resolve();\n};\n","import type {\n\tOphanABEvent,\n\tOphanABPayload,\n\tOphanABTestMeta,\n\tOphanAction,\n\tOphanComponentEvent,\n} from '@guardian/libs';\nimport { log } from '@guardian/libs';\nimport type { ServerSideTests } from '../../../types/config';\n\nexport type OphanRecordFunction = (\n\tevent: { [key: string]: any },\n\tcallback?: () => void,\n) => void;\n\nexport const getOphanRecordFunction = (): OphanRecordFunction => {\n\tconst record = window.guardian.ophan?.record;\n\n\tif (record) return record;\n\n\tconsole.warn('window.guardian.ophan.record is not available');\n\treturn () => {};\n};\n\nexport const record: OphanRecordFunction = (event) => {\n\tif (window.guardian.ophan?.record) {\n\t\twindow.guardian.ophan.record(event, () =>\n\t\t\tlog('dotcom', '🧿 Ophan event recorded:', event),\n\t\t);\n\t} else {\n\t\tthrow new Error(\"window.guardian.ophan.record doesn't exist\");\n\t}\n};\n\nexport const submitComponentEvent = (\n\tcomponentEvent: OphanComponentEvent,\n\tophanRecord: OphanRecordFunction = record, // TODO - migrate uses and make this mandatory\n): void => {\n\tophanRecord({ componentEvent });\n};\n\ninterface SdcTestMeta extends OphanABTestMeta {\n\tlabels?: string[];\n}\n\nexport const sendOphanComponentEvent = (\n\taction: OphanAction,\n\ttestMeta: SdcTestMeta,\n\tophanRecord: OphanRecordFunction = record, // TODO - migrate uses and make this mandatory\n): void => {\n\tconst {\n\t\tabTestName,\n\t\tabTestVariant,\n\t\tcomponentType,\n\t\tproducts = [],\n\t\tcampaignCode,\n\t\tlabels,\n\t} = testMeta;\n\n\tconst componentEvent: OphanComponentEvent = {\n\t\tcomponent: {\n\t\t\tcomponentType,\n\t\t\tproducts,\n\t\t\tcampaignCode,\n\t\t\tid: testMeta.campaignId ?? testMeta.campaignCode,\n\t\t\tlabels,\n\t\t},\n\t\tabTest: {\n\t\t\tname: abTestName,\n\t\t\tvariant: abTestVariant,\n\t\t},\n\t\taction,\n\t};\n\n\tsubmitComponentEvent(componentEvent, ophanRecord);\n};\n\nexport const abTestPayload = (tests: ServerSideTests): OphanABPayload => {\n\tconst records: { [key: string]: OphanABEvent } = {};\n\tObject.entries(tests).forEach(([testName, variantName]) => {\n\t\trecords[`ab${testName}`] = {\n\t\t\tvariantName,\n\t\t\tcomplete: false,\n\t\t};\n\t});\n\n\treturn { abTestRegister: records };\n};\n\nexport const recordPerformance = (): void => {\n\tconst { performance: performanceAPI } = window;\n\tconst supportsPerformanceProperties =\n\t\t// eslint-disable-next-line @typescript-eslint/strict-boolean-expressions, @typescript-eslint/no-unnecessary-condition -- Safety on browsers\n\t\tperformanceAPI &&\n\t\t'navigation' in performanceAPI &&\n\t\t'timing' in performanceAPI;\n\n\tif (!supportsPerformanceProperties) {\n\t\treturn;\n\t}\n\n\tconst { timing } = performanceAPI;\n\n\tconst performance = {\n\t\tdns: timing.domainLookupEnd - timing.domainLookupStart,\n\t\tconnection: timing.connectEnd - timing.connectStart,\n\t\tfirstByte: timing.responseStart - timing.connectEnd,\n\t\tlastByte: timing.responseEnd - timing.responseStart,\n\t\tdomContentLoadedEvent:\n\t\t\ttiming.domContentLoadedEventStart - timing.responseEnd,\n\t\tloadEvent: timing.loadEventStart - timing.domContentLoadedEventStart,\n\t\tnavType: performanceAPI.navigation.type,\n\t\tredirectCount: performanceAPI.navigation.redirectCount,\n\t};\n\n\trecord({\n\t\tperformance,\n\t});\n};\n","import { updateTimeElements } from './updateTimeElements';\n\nexport const relativeTime = (): Promise<void> => {\n\tupdateTimeElements();\n\twindow.setInterval(() => {\n\t\tupdateTimeElements();\n\t}, 15000);\n\n\treturn Promise.resolve();\n};\n","import { timeAgo } from '@guardian/libs';\n\nexport const updateTimeElement = (element: Element): void => {\n\tif (element instanceof HTMLElement) {\n\t\t// Get required values\n\t\tconst { relativeformat: relativeFormat } = element.dataset;\n\t\tconst absoluteTime = element.getAttribute('datetime');\n\t\tif (!absoluteTime || !relativeFormat) return;\n\n\t\tlet newTime: false | string = false;\n\t\tswitch (relativeFormat) {\n\t\t\tcase 'short':\n\t\t\tcase 'med':\n\t\t\t\tnewTime = timeAgo(new Date(absoluteTime).getTime(), {\n\t\t\t\t\tverbose: false,\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tcase 'long':\n\t\t\t\tnewTime = timeAgo(new Date(absoluteTime).getTime(), {\n\t\t\t\t\tverbose: true,\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t}\n\t\tconst oldTime = element.innerText;\n\t\tif (newTime !== false && newTime !== oldTime)\n\t\t\telement.innerHTML = newTime;\n\t}\n};\n\nexport const updateTimeElements = (): void => {\n\tdocument\n\t\t.querySelectorAll('time[data-relativeformat]')\n\t\t.forEach(updateTimeElement);\n};\n","import { getGlobalSingleton, GLOBAL_OBJ } from './worldwide.js';\n\n/** Prefix for logging strings */\nconst PREFIX = 'Sentry Logger ';\n\nconst CONSOLE_LEVELS = ['debug', 'info', 'warn', 'error', 'log', 'assert', 'trace'] ;\n\n/**\n * Temporarily disable sentry console instrumentations.\n *\n * @param callback The function to run against the original `console` messages\n * @returns The results of the callback\n */\nfunction consoleSandbox(callback) {\n  if (!('console' in GLOBAL_OBJ)) {\n    return callback();\n  }\n\n  const originalConsole = GLOBAL_OBJ.console ;\n  const wrappedLevels = {};\n\n  // Restore all wrapped console methods\n  CONSOLE_LEVELS.forEach(level => {\n    // TODO(v7): Remove this check as it's only needed for Node 6\n    const originalWrappedFunc =\n      originalConsole[level] && (originalConsole[level] ).__sentry_original__;\n    if (level in originalConsole && originalWrappedFunc) {\n      wrappedLevels[level] = originalConsole[level] ;\n      originalConsole[level] = originalWrappedFunc ;\n    }\n  });\n\n  try {\n    return callback();\n  } finally {\n    // Revert restoration to wrapped state\n    Object.keys(wrappedLevels).forEach(level => {\n      originalConsole[level] = wrappedLevels[level ];\n    });\n  }\n}\n\nfunction makeLogger() {\n  let enabled = false;\n  const logger = {\n    enable: () => {\n      enabled = true;\n    },\n    disable: () => {\n      enabled = false;\n    },\n  };\n\n  if ((typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__)) {\n    CONSOLE_LEVELS.forEach(name => {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      logger[name] = (...args) => {\n        if (enabled) {\n          consoleSandbox(() => {\n            GLOBAL_OBJ.console[name](`${PREFIX}[${name}]:`, ...args);\n          });\n        }\n      };\n    });\n  } else {\n    CONSOLE_LEVELS.forEach(name => {\n      logger[name] = () => undefined;\n    });\n  }\n\n  return logger ;\n}\n\n// Ensure we only have a single logger instance, even if multiple versions of @sentry/utils are being used\nlet logger;\nif ((typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__)) {\n  logger = getGlobalSingleton('logger', makeLogger);\n} else {\n  logger = makeLogger();\n}\n\nexport { CONSOLE_LEVELS, consoleSandbox, logger };\n//# sourceMappingURL=logger.js.map\n","// eslint-disable-next-line @typescript-eslint/unbound-method\nconst objectToString = Object.prototype.toString;\n\n/**\n * Checks whether given value's type is one of a few Error or Error-like\n * {@link isError}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nfunction isError(wat) {\n  switch (objectToString.call(wat)) {\n    case '[object Error]':\n    case '[object Exception]':\n    case '[object DOMException]':\n      return true;\n    default:\n      return isInstanceOf(wat, Error);\n  }\n}\n/**\n * Checks whether given value is an instance of the given built-in class.\n *\n * @param wat The value to be checked\n * @param className\n * @returns A boolean representing the result.\n */\nfunction isBuiltin(wat, className) {\n  return objectToString.call(wat) === `[object ${className}]`;\n}\n\n/**\n * Checks whether given value's type is ErrorEvent\n * {@link isErrorEvent}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nfunction isErrorEvent(wat) {\n  return isBuiltin(wat, 'ErrorEvent');\n}\n\n/**\n * Checks whether given value's type is DOMError\n * {@link isDOMError}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nfunction isDOMError(wat) {\n  return isBuiltin(wat, 'DOMError');\n}\n\n/**\n * Checks whether given value's type is DOMException\n * {@link isDOMException}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nfunction isDOMException(wat) {\n  return isBuiltin(wat, 'DOMException');\n}\n\n/**\n * Checks whether given value's type is a string\n * {@link isString}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nfunction isString(wat) {\n  return isBuiltin(wat, 'String');\n}\n\n/**\n * Checks whether given value is a primitive (undefined, null, number, boolean, string, bigint, symbol)\n * {@link isPrimitive}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nfunction isPrimitive(wat) {\n  return wat === null || (typeof wat !== 'object' && typeof wat !== 'function');\n}\n\n/**\n * Checks whether given value's type is an object literal\n * {@link isPlainObject}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nfunction isPlainObject(wat) {\n  return isBuiltin(wat, 'Object');\n}\n\n/**\n * Checks whether given value's type is an Event instance\n * {@link isEvent}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nfunction isEvent(wat) {\n  return typeof Event !== 'undefined' && isInstanceOf(wat, Event);\n}\n\n/**\n * Checks whether given value's type is an Element instance\n * {@link isElement}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nfunction isElement(wat) {\n  return typeof Element !== 'undefined' && isInstanceOf(wat, Element);\n}\n\n/**\n * Checks whether given value's type is an regexp\n * {@link isRegExp}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nfunction isRegExp(wat) {\n  return isBuiltin(wat, 'RegExp');\n}\n\n/**\n * Checks whether given value has a then function.\n * @param wat A value to be checked.\n */\nfunction isThenable(wat) {\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n  return Boolean(wat && wat.then && typeof wat.then === 'function');\n}\n\n/**\n * Checks whether given value's type is a SyntheticEvent\n * {@link isSyntheticEvent}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nfunction isSyntheticEvent(wat) {\n  return isPlainObject(wat) && 'nativeEvent' in wat && 'preventDefault' in wat && 'stopPropagation' in wat;\n}\n\n/**\n * Checks whether given value is NaN\n * {@link isNaN}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nfunction isNaN(wat) {\n  return typeof wat === 'number' && wat !== wat;\n}\n\n/**\n * Checks whether given value's type is an instance of provided constructor.\n * {@link isInstanceOf}.\n *\n * @param wat A value to be checked.\n * @param base A constructor to be used in a check.\n * @returns A boolean representing the result.\n */\nfunction isInstanceOf(wat, base) {\n  try {\n    return wat instanceof base;\n  } catch (_e) {\n    return false;\n  }\n}\n\nexport { isDOMError, isDOMException, isElement, isError, isErrorEvent, isEvent, isInstanceOf, isNaN, isPlainObject, isPrimitive, isRegExp, isString, isSyntheticEvent, isThenable };\n//# sourceMappingURL=is.js.map\n","import { isString } from './is.js';\nimport { getGlobalObject } from './worldwide.js';\n\n// eslint-disable-next-line deprecation/deprecation\nconst WINDOW = getGlobalObject();\n\nconst DEFAULT_MAX_STRING_LENGTH = 80;\n\n/**\n * Given a child DOM element, returns a query-selector statement describing that\n * and its ancestors\n * e.g. [HTMLElement] => body > div > input#foo.btn[name=baz]\n * @returns generated DOM path\n */\nfunction htmlTreeAsString(\n  elem,\n  options = {},\n) {\n\n  // try/catch both:\n  // - accessing event.target (see getsentry/raven-js#838, #768)\n  // - `htmlTreeAsString` because it's complex, and just accessing the DOM incorrectly\n  // - can throw an exception in some circumstances.\n  try {\n    let currentElem = elem ;\n    const MAX_TRAVERSE_HEIGHT = 5;\n    const out = [];\n    let height = 0;\n    let len = 0;\n    const separator = ' > ';\n    const sepLength = separator.length;\n    let nextStr;\n    const keyAttrs = Array.isArray(options) ? options : options.keyAttrs;\n    const maxStringLength = (!Array.isArray(options) && options.maxStringLength) || DEFAULT_MAX_STRING_LENGTH;\n\n    while (currentElem && height++ < MAX_TRAVERSE_HEIGHT) {\n      nextStr = _htmlElementAsString(currentElem, keyAttrs);\n      // bail out if\n      // - nextStr is the 'html' element\n      // - the length of the string that would be created exceeds maxStringLength\n      //   (ignore this limit if we are on the first iteration)\n      if (nextStr === 'html' || (height > 1 && len + out.length * sepLength + nextStr.length >= maxStringLength)) {\n        break;\n      }\n\n      out.push(nextStr);\n\n      len += nextStr.length;\n      currentElem = currentElem.parentNode;\n    }\n\n    return out.reverse().join(separator);\n  } catch (_oO) {\n    return '<unknown>';\n  }\n}\n\n/**\n * Returns a simple, query-selector representation of a DOM element\n * e.g. [HTMLElement] => input#foo.btn[name=baz]\n * @returns generated DOM path\n */\nfunction _htmlElementAsString(el, keyAttrs) {\n  const elem = el\n\n;\n\n  const out = [];\n  let className;\n  let classes;\n  let key;\n  let attr;\n  let i;\n\n  if (!elem || !elem.tagName) {\n    return '';\n  }\n\n  out.push(elem.tagName.toLowerCase());\n\n  // Pairs of attribute keys defined in `serializeAttribute` and their values on element.\n  const keyAttrPairs =\n    keyAttrs && keyAttrs.length\n      ? keyAttrs.filter(keyAttr => elem.getAttribute(keyAttr)).map(keyAttr => [keyAttr, elem.getAttribute(keyAttr)])\n      : null;\n\n  if (keyAttrPairs && keyAttrPairs.length) {\n    keyAttrPairs.forEach(keyAttrPair => {\n      out.push(`[${keyAttrPair[0]}=\"${keyAttrPair[1]}\"]`);\n    });\n  } else {\n    if (elem.id) {\n      out.push(`#${elem.id}`);\n    }\n\n    // eslint-disable-next-line prefer-const\n    className = elem.className;\n    if (className && isString(className)) {\n      classes = className.split(/\\s+/);\n      for (i = 0; i < classes.length; i++) {\n        out.push(`.${classes[i]}`);\n      }\n    }\n  }\n  const allowedAttrs = ['aria-label', 'type', 'name', 'title', 'alt'];\n  for (i = 0; i < allowedAttrs.length; i++) {\n    key = allowedAttrs[i];\n    attr = elem.getAttribute(key);\n    if (attr) {\n      out.push(`[${key}=\"${attr}\"]`);\n    }\n  }\n  return out.join('');\n}\n\n/**\n * A safe form of location.href\n */\nfunction getLocationHref() {\n  try {\n    return WINDOW.document.location.href;\n  } catch (oO) {\n    return '';\n  }\n}\n\n/**\n * Gets a DOM element by using document.querySelector.\n *\n * This wrapper will first check for the existance of the function before\n * actually calling it so that we don't have to take care of this check,\n * every time we want to access the DOM.\n *\n * Reason: DOM/querySelector is not available in all environments.\n *\n * We have to cast to any because utils can be consumed by a variety of environments,\n * and we don't want to break TS users. If you know what element will be selected by\n * `document.querySelector`, specify it as part of the generic call. For example,\n * `const element = getDomElement<Element>('selector');`\n *\n * @param selector the selector string passed on to document.querySelector\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction getDomElement(selector) {\n  if (WINDOW.document && WINDOW.document.querySelector) {\n    return WINDOW.document.querySelector(selector) ;\n  }\n  return null;\n}\n\nexport { getDomElement, getLocationHref, htmlTreeAsString };\n//# sourceMappingURL=browser.js.map\n","import { isString, isRegExp } from './is.js';\n\n/**\n * Truncates given string to the maximum characters count\n *\n * @param str An object that contains serializable values\n * @param max Maximum number of characters in truncated string (0 = unlimited)\n * @returns string Encoded\n */\nfunction truncate(str, max = 0) {\n  if (typeof str !== 'string' || max === 0) {\n    return str;\n  }\n  return str.length <= max ? str : `${str.slice(0, max)}...`;\n}\n\n/**\n * This is basically just `trim_line` from\n * https://github.com/getsentry/sentry/blob/master/src/sentry/lang/javascript/processor.py#L67\n *\n * @param str An object that contains serializable values\n * @param max Maximum number of characters in truncated string\n * @returns string Encoded\n */\nfunction snipLine(line, colno) {\n  let newLine = line;\n  const lineLength = newLine.length;\n  if (lineLength <= 150) {\n    return newLine;\n  }\n  if (colno > lineLength) {\n    // eslint-disable-next-line no-param-reassign\n    colno = lineLength;\n  }\n\n  let start = Math.max(colno - 60, 0);\n  if (start < 5) {\n    start = 0;\n  }\n\n  let end = Math.min(start + 140, lineLength);\n  if (end > lineLength - 5) {\n    end = lineLength;\n  }\n  if (end === lineLength) {\n    start = Math.max(end - 140, 0);\n  }\n\n  newLine = newLine.slice(start, end);\n  if (start > 0) {\n    newLine = `'{snip} ${newLine}`;\n  }\n  if (end < lineLength) {\n    newLine += ' {snip}';\n  }\n\n  return newLine;\n}\n\n/**\n * Join values in array\n * @param input array of values to be joined together\n * @param delimiter string to be placed in-between values\n * @returns Joined values\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction safeJoin(input, delimiter) {\n  if (!Array.isArray(input)) {\n    return '';\n  }\n\n  const output = [];\n  // eslint-disable-next-line @typescript-eslint/prefer-for-of\n  for (let i = 0; i < input.length; i++) {\n    const value = input[i];\n    try {\n      output.push(String(value));\n    } catch (e) {\n      output.push('[value cannot be serialized]');\n    }\n  }\n\n  return output.join(delimiter);\n}\n\n/**\n * Checks if the given value matches a regex or string\n *\n * @param value The string to test\n * @param pattern Either a regex or a string against which `value` will be matched\n * @param requireExactStringMatch If true, `value` must match `pattern` exactly. If false, `value` will match\n * `pattern` if it contains `pattern`. Only applies to string-type patterns.\n */\nfunction isMatchingPattern(\n  value,\n  pattern,\n  requireExactStringMatch = false,\n) {\n  if (!isString(value)) {\n    return false;\n  }\n\n  if (isRegExp(pattern)) {\n    return pattern.test(value);\n  }\n  if (isString(pattern)) {\n    return requireExactStringMatch ? value === pattern : value.includes(pattern);\n  }\n\n  return false;\n}\n\n/**\n * Test the given string against an array of strings and regexes. By default, string matching is done on a\n * substring-inclusion basis rather than a strict equality basis\n *\n * @param testString The string to test\n * @param patterns The patterns against which to test the string\n * @param requireExactStringMatch If true, `testString` must match one of the given string patterns exactly in order to\n * count. If false, `testString` will match a string pattern if it contains that pattern.\n * @returns\n */\nfunction stringMatchesSomePattern(\n  testString,\n  patterns = [],\n  requireExactStringMatch = false,\n) {\n  return patterns.some(pattern => isMatchingPattern(testString, pattern, requireExactStringMatch));\n}\n\n/**\n * Given a string, escape characters which have meaning in the regex grammar, such that the result is safe to feed to\n * `new RegExp()`.\n *\n * Based on https://github.com/sindresorhus/escape-string-regexp. Vendored to a) reduce the size by skipping the runtime\n * type-checking, and b) ensure it gets down-compiled for old versions of Node (the published package only supports Node\n * 12+).\n *\n * @param regexString The string to escape\n * @returns An version of the string with all special regex characters escaped\n */\nfunction escapeStringForRegex(regexString) {\n  // escape the hyphen separately so we can also replace it with a unicode literal hyphen, to avoid the problems\n  // discussed in https://github.com/sindresorhus/escape-string-regexp/issues/20.\n  return regexString.replace(/[|\\\\{}()[\\]^$+*?.]/g, '\\\\$&').replace(/-/g, '\\\\x2d');\n}\n\nexport { escapeStringForRegex, isMatchingPattern, safeJoin, snipLine, stringMatchesSomePattern, truncate };\n//# sourceMappingURL=string.js.map\n","import { htmlTreeAsString } from './browser.js';\nimport { isError, isEvent, isInstanceOf, isElement, isPlainObject, isPrimitive } from './is.js';\nimport { truncate } from './string.js';\n\n/**\n * Replace a method in an object with a wrapped version of itself.\n *\n * @param source An object that contains a method to be wrapped.\n * @param name The name of the method to be wrapped.\n * @param replacementFactory A higher-order function that takes the original version of the given method and returns a\n * wrapped version. Note: The function returned by `replacementFactory` needs to be a non-arrow function, in order to\n * preserve the correct value of `this`, and the original method must be called using `origMethod.call(this, <other\n * args>)` or `origMethod.apply(this, [<other args>])` (rather than being called directly), again to preserve `this`.\n * @returns void\n */\nfunction fill(source, name, replacementFactory) {\n  if (!(name in source)) {\n    return;\n  }\n\n  const original = source[name] ;\n  const wrapped = replacementFactory(original) ;\n\n  // Make sure it's a function first, as we need to attach an empty prototype for `defineProperties` to work\n  // otherwise it'll throw \"TypeError: Object.defineProperties called on non-object\"\n  if (typeof wrapped === 'function') {\n    try {\n      markFunctionWrapped(wrapped, original);\n    } catch (_Oo) {\n      // This can throw if multiple fill happens on a global object like XMLHttpRequest\n      // Fixes https://github.com/getsentry/sentry-javascript/issues/2043\n    }\n  }\n\n  source[name] = wrapped;\n}\n\n/**\n * Defines a non-enumerable property on the given object.\n *\n * @param obj The object on which to set the property\n * @param name The name of the property to be set\n * @param value The value to which to set the property\n */\nfunction addNonEnumerableProperty(obj, name, value) {\n  Object.defineProperty(obj, name, {\n    // enumerable: false, // the default, so we can save on bundle size by not explicitly setting it\n    value: value,\n    writable: true,\n    configurable: true,\n  });\n}\n\n/**\n * Remembers the original function on the wrapped function and\n * patches up the prototype.\n *\n * @param wrapped the wrapper function\n * @param original the original function that gets wrapped\n */\nfunction markFunctionWrapped(wrapped, original) {\n  const proto = original.prototype || {};\n  wrapped.prototype = original.prototype = proto;\n  addNonEnumerableProperty(wrapped, '__sentry_original__', original);\n}\n\n/**\n * This extracts the original function if available.  See\n * `markFunctionWrapped` for more information.\n *\n * @param func the function to unwrap\n * @returns the unwrapped version of the function if available.\n */\nfunction getOriginalFunction(func) {\n  return func.__sentry_original__;\n}\n\n/**\n * Encodes given object into url-friendly format\n *\n * @param object An object that contains serializable values\n * @returns string Encoded\n */\nfunction urlEncode(object) {\n  return Object.keys(object)\n    .map(key => `${encodeURIComponent(key)}=${encodeURIComponent(object[key])}`)\n    .join('&');\n}\n\n/**\n * Transforms any `Error` or `Event` into a plain object with all of their enumerable properties, and some of their\n * non-enumerable properties attached.\n *\n * @param value Initial source that we have to transform in order for it to be usable by the serializer\n * @returns An Event or Error turned into an object - or the value argurment itself, when value is neither an Event nor\n *  an Error.\n */\nfunction convertToPlainObject(value)\n\n {\n  if (isError(value)) {\n    return {\n      message: value.message,\n      name: value.name,\n      stack: value.stack,\n      ...getOwnProperties(value),\n    };\n  } else if (isEvent(value)) {\n    const newObj\n\n = {\n      type: value.type,\n      target: serializeEventTarget(value.target),\n      currentTarget: serializeEventTarget(value.currentTarget),\n      ...getOwnProperties(value),\n    };\n\n    if (typeof CustomEvent !== 'undefined' && isInstanceOf(value, CustomEvent)) {\n      newObj.detail = value.detail;\n    }\n\n    return newObj;\n  } else {\n    return value;\n  }\n}\n\n/** Creates a string representation of the target of an `Event` object */\nfunction serializeEventTarget(target) {\n  try {\n    return isElement(target) ? htmlTreeAsString(target) : Object.prototype.toString.call(target);\n  } catch (_oO) {\n    return '<unknown>';\n  }\n}\n\n/** Filters out all but an object's own properties */\nfunction getOwnProperties(obj) {\n  if (typeof obj === 'object' && obj !== null) {\n    const extractedProps = {};\n    for (const property in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, property)) {\n        extractedProps[property] = (obj )[property];\n      }\n    }\n    return extractedProps;\n  } else {\n    return {};\n  }\n}\n\n/**\n * Given any captured exception, extract its keys and create a sorted\n * and truncated list that will be used inside the event message.\n * eg. `Non-error exception captured with keys: foo, bar, baz`\n */\nfunction extractExceptionKeysForMessage(exception, maxLength = 40) {\n  const keys = Object.keys(convertToPlainObject(exception));\n  keys.sort();\n\n  if (!keys.length) {\n    return '[object has no keys]';\n  }\n\n  if (keys[0].length >= maxLength) {\n    return truncate(keys[0], maxLength);\n  }\n\n  for (let includedKeys = keys.length; includedKeys > 0; includedKeys--) {\n    const serialized = keys.slice(0, includedKeys).join(', ');\n    if (serialized.length > maxLength) {\n      continue;\n    }\n    if (includedKeys === keys.length) {\n      return serialized;\n    }\n    return truncate(serialized, maxLength);\n  }\n\n  return '';\n}\n\n/**\n * Given any object, return a new object having removed all fields whose value was `undefined`.\n * Works recursively on objects and arrays.\n *\n * Attention: This function keeps circular references in the returned object.\n */\nfunction dropUndefinedKeys(inputValue) {\n  // This map keeps track of what already visited nodes map to.\n  // Our Set - based memoBuilder doesn't work here because we want to the output object to have the same circular\n  // references as the input object.\n  const memoizationMap = new Map();\n\n  // This function just proxies `_dropUndefinedKeys` to keep the `memoBuilder` out of this function's API\n  return _dropUndefinedKeys(inputValue, memoizationMap);\n}\n\nfunction _dropUndefinedKeys(inputValue, memoizationMap) {\n  if (isPlainObject(inputValue)) {\n    // If this node has already been visited due to a circular reference, return the object it was mapped to in the new object\n    const memoVal = memoizationMap.get(inputValue);\n    if (memoVal !== undefined) {\n      return memoVal ;\n    }\n\n    const returnValue = {};\n    // Store the mapping of this value in case we visit it again, in case of circular data\n    memoizationMap.set(inputValue, returnValue);\n\n    for (const key of Object.keys(inputValue)) {\n      if (typeof inputValue[key] !== 'undefined') {\n        returnValue[key] = _dropUndefinedKeys(inputValue[key], memoizationMap);\n      }\n    }\n\n    return returnValue ;\n  }\n\n  if (Array.isArray(inputValue)) {\n    // If this node has already been visited due to a circular reference, return the array it was mapped to in the new object\n    const memoVal = memoizationMap.get(inputValue);\n    if (memoVal !== undefined) {\n      return memoVal ;\n    }\n\n    const returnValue = [];\n    // Store the mapping of this value in case we visit it again, in case of circular data\n    memoizationMap.set(inputValue, returnValue);\n\n    inputValue.forEach((item) => {\n      returnValue.push(_dropUndefinedKeys(item, memoizationMap));\n    });\n\n    return returnValue ;\n  }\n\n  return inputValue;\n}\n\n/**\n * Ensure that something is an object.\n *\n * Turns `undefined` and `null` into `String`s and all other primitives into instances of their respective wrapper\n * classes (String, Boolean, Number, etc.). Acts as the identity function on non-primitives.\n *\n * @param wat The subject of the objectification\n * @returns A version of `wat` which can safely be used with `Object` class methods\n */\nfunction objectify(wat) {\n  let objectified;\n  switch (true) {\n    case wat === undefined || wat === null:\n      objectified = new String(wat);\n      break;\n\n    // Though symbols and bigints do have wrapper classes (`Symbol` and `BigInt`, respectively), for whatever reason\n    // those classes don't have constructors which can be used with the `new` keyword. We therefore need to cast each as\n    // an object in order to wrap it.\n    case typeof wat === 'symbol' || typeof wat === 'bigint':\n      objectified = Object(wat);\n      break;\n\n    // this will catch the remaining primitives: `String`, `Number`, and `Boolean`\n    case isPrimitive(wat):\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n      objectified = new (wat ).constructor(wat);\n      break;\n\n    // by process of elimination, at this point we know that `wat` must already be an object\n    default:\n      objectified = wat;\n      break;\n  }\n  return objectified;\n}\n\nexport { addNonEnumerableProperty, convertToPlainObject, dropUndefinedKeys, extractExceptionKeysForMessage, fill, getOriginalFunction, markFunctionWrapped, objectify, urlEncode };\n//# sourceMappingURL=object.js.map\n","import { addNonEnumerableProperty } from './object.js';\nimport { snipLine } from './string.js';\nimport { GLOBAL_OBJ } from './worldwide.js';\n\n/**\n * UUID4 generator\n *\n * @returns string Generated UUID4.\n */\nfunction uuid4() {\n  const gbl = GLOBAL_OBJ ;\n  const crypto = gbl.crypto || gbl.msCrypto;\n\n  if (crypto && crypto.randomUUID) {\n    return crypto.randomUUID().replace(/-/g, '');\n  }\n\n  const getRandomByte =\n    crypto && crypto.getRandomValues ? () => crypto.getRandomValues(new Uint8Array(1))[0] : () => Math.random() * 16;\n\n  // http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/2117523#2117523\n  // Concatenating the following numbers as strings results in '10000000100040008000100000000000'\n  return (([1e7] ) + 1e3 + 4e3 + 8e3 + 1e11).replace(/[018]/g, c =>\n    // eslint-disable-next-line no-bitwise\n    ((c ) ^ ((getRandomByte() & 15) >> ((c ) / 4))).toString(16),\n  );\n}\n\nfunction getFirstException(event) {\n  return event.exception && event.exception.values ? event.exception.values[0] : undefined;\n}\n\n/**\n * Extracts either message or type+value from an event that can be used for user-facing logs\n * @returns event's description\n */\nfunction getEventDescription(event) {\n  const { message, event_id: eventId } = event;\n  if (message) {\n    return message;\n  }\n\n  const firstException = getFirstException(event);\n  if (firstException) {\n    if (firstException.type && firstException.value) {\n      return `${firstException.type}: ${firstException.value}`;\n    }\n    return firstException.type || firstException.value || eventId || '<unknown>';\n  }\n  return eventId || '<unknown>';\n}\n\n/**\n * Adds exception values, type and value to an synthetic Exception.\n * @param event The event to modify.\n * @param value Value of the exception.\n * @param type Type of the exception.\n * @hidden\n */\nfunction addExceptionTypeValue(event, value, type) {\n  const exception = (event.exception = event.exception || {});\n  const values = (exception.values = exception.values || []);\n  const firstException = (values[0] = values[0] || {});\n  if (!firstException.value) {\n    firstException.value = value || '';\n  }\n  if (!firstException.type) {\n    firstException.type = type || 'Error';\n  }\n}\n\n/**\n * Adds exception mechanism data to a given event. Uses defaults if the second parameter is not passed.\n *\n * @param event The event to modify.\n * @param newMechanism Mechanism data to add to the event.\n * @hidden\n */\nfunction addExceptionMechanism(event, newMechanism) {\n  const firstException = getFirstException(event);\n  if (!firstException) {\n    return;\n  }\n\n  const defaultMechanism = { type: 'generic', handled: true };\n  const currentMechanism = firstException.mechanism;\n  firstException.mechanism = { ...defaultMechanism, ...currentMechanism, ...newMechanism };\n\n  if (newMechanism && 'data' in newMechanism) {\n    const mergedData = { ...(currentMechanism && currentMechanism.data), ...newMechanism.data };\n    firstException.mechanism.data = mergedData;\n  }\n}\n\n// https://semver.org/#is-there-a-suggested-regular-expression-regex-to-check-a-semver-string\nconst SEMVER_REGEXP =\n  /^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$/;\n\n/**\n * Represents Semantic Versioning object\n */\n\n/**\n * Parses input into a SemVer interface\n * @param input string representation of a semver version\n */\nfunction parseSemver(input) {\n  const match = input.match(SEMVER_REGEXP) || [];\n  const major = parseInt(match[1], 10);\n  const minor = parseInt(match[2], 10);\n  const patch = parseInt(match[3], 10);\n  return {\n    buildmetadata: match[5],\n    major: isNaN(major) ? undefined : major,\n    minor: isNaN(minor) ? undefined : minor,\n    patch: isNaN(patch) ? undefined : patch,\n    prerelease: match[4],\n  };\n}\n\n/**\n * This function adds context (pre/post/line) lines to the provided frame\n *\n * @param lines string[] containing all lines\n * @param frame StackFrame that will be mutated\n * @param linesOfContext number of context lines we want to add pre/post\n */\nfunction addContextToFrame(lines, frame, linesOfContext = 5) {\n  // When there is no line number in the frame, attaching context is nonsensical and will even break grouping\n  if (frame.lineno === undefined) {\n    return;\n  }\n\n  const maxLines = lines.length;\n  const sourceLine = Math.max(Math.min(maxLines, frame.lineno - 1), 0);\n\n  frame.pre_context = lines\n    .slice(Math.max(0, sourceLine - linesOfContext), sourceLine)\n    .map((line) => snipLine(line, 0));\n\n  frame.context_line = snipLine(lines[Math.min(maxLines - 1, sourceLine)], frame.colno || 0);\n\n  frame.post_context = lines\n    .slice(Math.min(sourceLine + 1, maxLines), sourceLine + 1 + linesOfContext)\n    .map((line) => snipLine(line, 0));\n}\n\n/**\n * Checks whether or not we've already captured the given exception (note: not an identical exception - the very object\n * in question), and marks it captured if not.\n *\n * This is useful because it's possible for an error to get captured by more than one mechanism. After we intercept and\n * record an error, we rethrow it (assuming we've intercepted it before it's reached the top-level global handlers), so\n * that we don't interfere with whatever effects the error might have had were the SDK not there. At that point, because\n * the error has been rethrown, it's possible for it to bubble up to some other code we've instrumented. If it's not\n * caught after that, it will bubble all the way up to the global handlers (which of course we also instrument). This\n * function helps us ensure that even if we encounter the same error more than once, we only record it the first time we\n * see it.\n *\n * Note: It will ignore primitives (always return `false` and not mark them as seen), as properties can't be set on\n * them. {@link: Object.objectify} can be used on exceptions to convert any that are primitives into their equivalent\n * object wrapper forms so that this check will always work. However, because we need to flag the exact object which\n * will get rethrown, and because that rethrowing happens outside of the event processing pipeline, the objectification\n * must be done before the exception captured.\n *\n * @param A thrown exception to check or flag as having been seen\n * @returns `true` if the exception has already been captured, `false` if not (with the side effect of marking it seen)\n */\nfunction checkOrSetAlreadyCaught(exception) {\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n  if (exception && (exception ).__sentry_captured__) {\n    return true;\n  }\n\n  try {\n    // set it this way rather than by assignment so that it's not ennumerable and therefore isn't recorded by the\n    // `ExtraErrorData` integration\n    addNonEnumerableProperty(exception , '__sentry_captured__', true);\n  } catch (err) {\n    // `exception` is a primitive, so we can't mark it seen\n  }\n\n  return false;\n}\n\n/**\n * Checks whether the given input is already an array, and if it isn't, wraps it in one.\n *\n * @param maybeArray Input to turn into an array, if necessary\n * @returns The input, if already an array, or an array with the input as the only element, if not\n */\nfunction arrayify(maybeArray) {\n  return Array.isArray(maybeArray) ? maybeArray : [maybeArray];\n}\n\nexport { addContextToFrame, addExceptionMechanism, addExceptionTypeValue, arrayify, checkOrSetAlreadyCaught, getEventDescription, parseSemver, uuid4 };\n//# sourceMappingURL=misc.js.map\n","import { logger, getEventDescription, stringMatchesSomePattern } from '@sentry/utils';\n\n// \"Script error.\" is hard coded into browsers for errors that it can't read.\n// this is the result of a script being pulled in from an external domain and CORS.\nconst DEFAULT_IGNORE_ERRORS = [/^Script error\\.?$/, /^Javascript error: Script error\\.? on line 0$/];\n\n/** Options for the InboundFilters integration */\n\n/** Inbound filters configurable by the user */\nclass InboundFilters  {\n  /**\n   * @inheritDoc\n   */\n   static __initStatic() {this.id = 'InboundFilters';}\n\n  /**\n   * @inheritDoc\n   */\n   __init() {this.name = InboundFilters.id;}\n\n   constructor(  _options = {}) {this._options = _options;InboundFilters.prototype.__init.call(this);}\n\n  /**\n   * @inheritDoc\n   */\n   setupOnce(addGlobalEventProcessor, getCurrentHub) {\n    const eventProcess = (event) => {\n      const hub = getCurrentHub();\n      if (hub) {\n        const self = hub.getIntegration(InboundFilters);\n        if (self) {\n          const client = hub.getClient();\n          const clientOptions = client ? client.getOptions() : {};\n          const options = _mergeOptions(self._options, clientOptions);\n          return _shouldDropEvent(event, options) ? null : event;\n        }\n      }\n      return event;\n    };\n\n    eventProcess.id = this.name;\n    addGlobalEventProcessor(eventProcess);\n  }\n} InboundFilters.__initStatic();\n\n/** JSDoc */\nfunction _mergeOptions(\n  internalOptions = {},\n  clientOptions = {},\n) {\n  return {\n    allowUrls: [...(internalOptions.allowUrls || []), ...(clientOptions.allowUrls || [])],\n    denyUrls: [...(internalOptions.denyUrls || []), ...(clientOptions.denyUrls || [])],\n    ignoreErrors: [\n      ...(internalOptions.ignoreErrors || []),\n      ...(clientOptions.ignoreErrors || []),\n      ...DEFAULT_IGNORE_ERRORS,\n    ],\n    ignoreInternal: internalOptions.ignoreInternal !== undefined ? internalOptions.ignoreInternal : true,\n  };\n}\n\n/** JSDoc */\nfunction _shouldDropEvent(event, options) {\n  if (options.ignoreInternal && _isSentryError(event)) {\n    (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) &&\n      logger.warn(`Event dropped due to being internal Sentry Error.\\nEvent: ${getEventDescription(event)}`);\n    return true;\n  }\n  if (_isIgnoredError(event, options.ignoreErrors)) {\n    (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) &&\n      logger.warn(\n        `Event dropped due to being matched by \\`ignoreErrors\\` option.\\nEvent: ${getEventDescription(event)}`,\n      );\n    return true;\n  }\n  if (_isDeniedUrl(event, options.denyUrls)) {\n    (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) &&\n      logger.warn(\n        `Event dropped due to being matched by \\`denyUrls\\` option.\\nEvent: ${getEventDescription(\n          event,\n        )}.\\nUrl: ${_getEventFilterUrl(event)}`,\n      );\n    return true;\n  }\n  if (!_isAllowedUrl(event, options.allowUrls)) {\n    (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) &&\n      logger.warn(\n        `Event dropped due to not being matched by \\`allowUrls\\` option.\\nEvent: ${getEventDescription(\n          event,\n        )}.\\nUrl: ${_getEventFilterUrl(event)}`,\n      );\n    return true;\n  }\n  return false;\n}\n\nfunction _isIgnoredError(event, ignoreErrors) {\n  if (!ignoreErrors || !ignoreErrors.length) {\n    return false;\n  }\n\n  return _getPossibleEventMessages(event).some(message => stringMatchesSomePattern(message, ignoreErrors));\n}\n\nfunction _isDeniedUrl(event, denyUrls) {\n  // TODO: Use Glob instead?\n  if (!denyUrls || !denyUrls.length) {\n    return false;\n  }\n  const url = _getEventFilterUrl(event);\n  return !url ? false : stringMatchesSomePattern(url, denyUrls);\n}\n\nfunction _isAllowedUrl(event, allowUrls) {\n  // TODO: Use Glob instead?\n  if (!allowUrls || !allowUrls.length) {\n    return true;\n  }\n  const url = _getEventFilterUrl(event);\n  return !url ? true : stringMatchesSomePattern(url, allowUrls);\n}\n\nfunction _getPossibleEventMessages(event) {\n  if (event.message) {\n    return [event.message];\n  }\n  if (event.exception) {\n    try {\n      const { type = '', value = '' } = (event.exception.values && event.exception.values[0]) || {};\n      return [`${value}`, `${type}: ${value}`];\n    } catch (oO) {\n      (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.error(`Cannot extract message for event ${getEventDescription(event)}`);\n      return [];\n    }\n  }\n  return [];\n}\n\nfunction _isSentryError(event) {\n  try {\n    // @ts-ignore can't be a sentry error if undefined\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n    return event.exception.values[0].type === 'SentryError';\n  } catch (e) {\n    // ignore\n  }\n  return false;\n}\n\nfunction _getLastValidUrl(frames = []) {\n  for (let i = frames.length - 1; i >= 0; i--) {\n    const frame = frames[i];\n\n    if (frame && frame.filename !== '<anonymous>' && frame.filename !== '[native code]') {\n      return frame.filename || null;\n    }\n  }\n\n  return null;\n}\n\nfunction _getEventFilterUrl(event) {\n  try {\n    let frames;\n    try {\n      // @ts-ignore we only care about frames if the whole thing here is defined\n      frames = event.exception.values[0].stacktrace.frames;\n    } catch (e) {\n      // ignore\n    }\n    return frames ? _getLastValidUrl(frames) : null;\n  } catch (oO) {\n    (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.error(`Cannot extract url for event ${getEventDescription(event)}`);\n    return null;\n  }\n}\n\nexport { InboundFilters, _mergeOptions, _shouldDropEvent };\n//# sourceMappingURL=inboundfilters.js.map\n","import { getOriginalFunction } from '@sentry/utils';\n\nlet originalFunctionToString;\n\n/** Patch toString calls to return proper name for wrapped functions */\nclass FunctionToString  {constructor() { FunctionToString.prototype.__init.call(this); }\n  /**\n   * @inheritDoc\n   */\n   static __initStatic() {this.id = 'FunctionToString';}\n\n  /**\n   * @inheritDoc\n   */\n   __init() {this.name = FunctionToString.id;}\n\n  /**\n   * @inheritDoc\n   */\n   setupOnce() {\n    // eslint-disable-next-line @typescript-eslint/unbound-method\n    originalFunctionToString = Function.prototype.toString;\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Function.prototype.toString = function ( ...args) {\n      const context = getOriginalFunction(this) || this;\n      return originalFunctionToString.apply(context, args);\n    };\n  }\n} FunctionToString.__initStatic();\n\nexport { FunctionToString };\n//# sourceMappingURL=functiontostring.js.map\n","import { isThenable } from './is.js';\n\n/* eslint-disable @typescript-eslint/explicit-function-return-type */\n\n/** SyncPromise internal states */\nvar States; (function (States) {\n  /** Pending */\n  const PENDING = 0; States[States[\"PENDING\"] = PENDING] = \"PENDING\";\n  /** Resolved / OK */\n  const RESOLVED = 1; States[States[\"RESOLVED\"] = RESOLVED] = \"RESOLVED\";\n  /** Rejected / Error */\n  const REJECTED = 2; States[States[\"REJECTED\"] = REJECTED] = \"REJECTED\";\n})(States || (States = {}));\n\n// Overloads so we can call resolvedSyncPromise without arguments and generic argument\n\n/**\n * Creates a resolved sync promise.\n *\n * @param value the value to resolve the promise with\n * @returns the resolved sync promise\n */\nfunction resolvedSyncPromise(value) {\n  return new SyncPromise(resolve => {\n    resolve(value);\n  });\n}\n\n/**\n * Creates a rejected sync promise.\n *\n * @param value the value to reject the promise with\n * @returns the rejected sync promise\n */\nfunction rejectedSyncPromise(reason) {\n  return new SyncPromise((_, reject) => {\n    reject(reason);\n  });\n}\n\n/**\n * Thenable class that behaves like a Promise and follows it's interface\n * but is not async internally\n */\nclass SyncPromise {\n   __init() {this._state = States.PENDING;}\n   __init2() {this._handlers = [];}\n\n   constructor(\n    executor,\n  ) {SyncPromise.prototype.__init.call(this);SyncPromise.prototype.__init2.call(this);SyncPromise.prototype.__init3.call(this);SyncPromise.prototype.__init4.call(this);SyncPromise.prototype.__init5.call(this);SyncPromise.prototype.__init6.call(this);\n    try {\n      executor(this._resolve, this._reject);\n    } catch (e) {\n      this._reject(e);\n    }\n  }\n\n  /** JSDoc */\n   then(\n    onfulfilled,\n    onrejected,\n  ) {\n    return new SyncPromise((resolve, reject) => {\n      this._handlers.push([\n        false,\n        result => {\n          if (!onfulfilled) {\n            // TODO: ¯\\_(ツ)_/¯\n            // TODO: FIXME\n            resolve(result );\n          } else {\n            try {\n              resolve(onfulfilled(result));\n            } catch (e) {\n              reject(e);\n            }\n          }\n        },\n        reason => {\n          if (!onrejected) {\n            reject(reason);\n          } else {\n            try {\n              resolve(onrejected(reason));\n            } catch (e) {\n              reject(e);\n            }\n          }\n        },\n      ]);\n      this._executeHandlers();\n    });\n  }\n\n  /** JSDoc */\n   catch(\n    onrejected,\n  ) {\n    return this.then(val => val, onrejected);\n  }\n\n  /** JSDoc */\n   finally(onfinally) {\n    return new SyncPromise((resolve, reject) => {\n      let val;\n      let isRejected;\n\n      return this.then(\n        value => {\n          isRejected = false;\n          val = value;\n          if (onfinally) {\n            onfinally();\n          }\n        },\n        reason => {\n          isRejected = true;\n          val = reason;\n          if (onfinally) {\n            onfinally();\n          }\n        },\n      ).then(() => {\n        if (isRejected) {\n          reject(val);\n          return;\n        }\n\n        resolve(val );\n      });\n    });\n  }\n\n  /** JSDoc */\n    __init3() {this._resolve = (value) => {\n    this._setResult(States.RESOLVED, value);\n  };}\n\n  /** JSDoc */\n    __init4() {this._reject = (reason) => {\n    this._setResult(States.REJECTED, reason);\n  };}\n\n  /** JSDoc */\n    __init5() {this._setResult = (state, value) => {\n    if (this._state !== States.PENDING) {\n      return;\n    }\n\n    if (isThenable(value)) {\n      void (value ).then(this._resolve, this._reject);\n      return;\n    }\n\n    this._state = state;\n    this._value = value;\n\n    this._executeHandlers();\n  };}\n\n  /** JSDoc */\n    __init6() {this._executeHandlers = () => {\n    if (this._state === States.PENDING) {\n      return;\n    }\n\n    const cachedHandlers = this._handlers.slice();\n    this._handlers = [];\n\n    cachedHandlers.forEach(handler => {\n      if (handler[0]) {\n        return;\n      }\n\n      if (this._state === States.RESOLVED) {\n        // eslint-disable-next-line @typescript-eslint/no-floating-promises\n        handler[1](this._value );\n      }\n\n      if (this._state === States.REJECTED) {\n        handler[2](this._value);\n      }\n\n      handler[0] = true;\n    });\n  };}\n}\n\nexport { SyncPromise, rejectedSyncPromise, resolvedSyncPromise };\n//# sourceMappingURL=syncpromise.js.map\n","import { timestampInSeconds, uuid4, dropUndefinedKeys } from '@sentry/utils';\n\n/**\n * Creates a new `Session` object by setting certain default parameters. If optional @param context\n * is passed, the passed properties are applied to the session object.\n *\n * @param context (optional) additional properties to be applied to the returned session object\n *\n * @returns a new `Session` object\n */\nfunction makeSession(context) {\n  // Both timestamp and started are in seconds since the UNIX epoch.\n  const startingTime = timestampInSeconds();\n\n  const session = {\n    sid: uuid4(),\n    init: true,\n    timestamp: startingTime,\n    started: startingTime,\n    duration: 0,\n    status: 'ok',\n    errors: 0,\n    ignoreDuration: false,\n    toJSON: () => sessionToJSON(session),\n  };\n\n  if (context) {\n    updateSession(session, context);\n  }\n\n  return session;\n}\n\n/**\n * Updates a session object with the properties passed in the context.\n *\n * Note that this function mutates the passed object and returns void.\n * (Had to do this instead of returning a new and updated session because closing and sending a session\n * makes an update to the session after it was passed to the sending logic.\n * @see BaseClient.captureSession )\n *\n * @param session the `Session` to update\n * @param context the `SessionContext` holding the properties that should be updated in @param session\n */\n// eslint-disable-next-line complexity\nfunction updateSession(session, context = {}) {\n  if (context.user) {\n    if (!session.ipAddress && context.user.ip_address) {\n      session.ipAddress = context.user.ip_address;\n    }\n\n    if (!session.did && !context.did) {\n      session.did = context.user.id || context.user.email || context.user.username;\n    }\n  }\n\n  session.timestamp = context.timestamp || timestampInSeconds();\n\n  if (context.ignoreDuration) {\n    session.ignoreDuration = context.ignoreDuration;\n  }\n  if (context.sid) {\n    // Good enough uuid validation. — Kamil\n    session.sid = context.sid.length === 32 ? context.sid : uuid4();\n  }\n  if (context.init !== undefined) {\n    session.init = context.init;\n  }\n  if (!session.did && context.did) {\n    session.did = `${context.did}`;\n  }\n  if (typeof context.started === 'number') {\n    session.started = context.started;\n  }\n  if (session.ignoreDuration) {\n    session.duration = undefined;\n  } else if (typeof context.duration === 'number') {\n    session.duration = context.duration;\n  } else {\n    const duration = session.timestamp - session.started;\n    session.duration = duration >= 0 ? duration : 0;\n  }\n  if (context.release) {\n    session.release = context.release;\n  }\n  if (context.environment) {\n    session.environment = context.environment;\n  }\n  if (!session.ipAddress && context.ipAddress) {\n    session.ipAddress = context.ipAddress;\n  }\n  if (!session.userAgent && context.userAgent) {\n    session.userAgent = context.userAgent;\n  }\n  if (typeof context.errors === 'number') {\n    session.errors = context.errors;\n  }\n  if (context.status) {\n    session.status = context.status;\n  }\n}\n\n/**\n * Closes a session by setting its status and updating the session object with it.\n * Internally calls `updateSession` to update the passed session object.\n *\n * Note that this function mutates the passed session (@see updateSession for explanation).\n *\n * @param session the `Session` object to be closed\n * @param status the `SessionStatus` with which the session was closed. If you don't pass a status,\n *               this function will keep the previously set status, unless it was `'ok'` in which case\n *               it is changed to `'exited'`.\n */\nfunction closeSession(session, status) {\n  let context = {};\n  if (status) {\n    context = { status };\n  } else if (session.status === 'ok') {\n    context = { status: 'exited' };\n  }\n\n  updateSession(session, context);\n}\n\n/**\n * Serializes a passed session object to a JSON object with a slightly different structure.\n * This is necessary because the Sentry backend requires a slightly different schema of a session\n * than the one the JS SDKs use internally.\n *\n * @param session the session to be converted\n *\n * @returns a JSON object of the passed session\n */\nfunction sessionToJSON(session) {\n  return dropUndefinedKeys({\n    sid: `${session.sid}`,\n    init: session.init,\n    // Make sure that sec is converted to ms for date constructor\n    started: new Date(session.started * 1000).toISOString(),\n    timestamp: new Date(session.timestamp * 1000).toISOString(),\n    status: session.status,\n    errors: session.errors,\n    did: typeof session.did === 'number' || typeof session.did === 'string' ? `${session.did}` : undefined,\n    duration: session.duration,\n    attrs: {\n      release: session.release,\n      environment: session.environment,\n      ip_address: session.ipAddress,\n      user_agent: session.userAgent,\n    },\n  });\n}\n\nexport { closeSession, makeSession, updateSession };\n//# sourceMappingURL=session.js.map\n","import { isPlainObject, dateTimestampInSeconds, SyncPromise, logger, isThenable, arrayify, getGlobalSingleton } from '@sentry/utils';\nimport { updateSession } from './session.js';\n\n/**\n * Default value for maximum number of breadcrumbs added to an event.\n */\nconst DEFAULT_MAX_BREADCRUMBS = 100;\n\n/**\n * Holds additional event information. {@link Scope.applyToEvent} will be\n * called by the client before an event will be sent.\n */\nclass Scope  {\n  /** Flag if notifying is happening. */\n\n  /** Callback for client to receive scope changes. */\n\n  /** Callback list that will be called after {@link applyToEvent}. */\n\n  /** Array of breadcrumbs. */\n\n  /** User */\n\n  /** Tags */\n\n  /** Extra */\n\n  /** Contexts */\n\n  /** Attachments */\n\n  /**\n   * A place to stash data which is needed at some point in the SDK's event processing pipeline but which shouldn't get\n   * sent to Sentry\n   */\n\n  /** Fingerprint */\n\n  /** Severity */\n  // eslint-disable-next-line deprecation/deprecation\n\n  /** Transaction Name */\n\n  /** Span */\n\n  /** Session */\n\n  /** Request Mode Session Status */\n\n  // NOTE: Any field which gets added here should get added not only to the constructor but also to the `clone` method.\n\n   constructor() {\n    this._notifyingListeners = false;\n    this._scopeListeners = [];\n    this._eventProcessors = [];\n    this._breadcrumbs = [];\n    this._attachments = [];\n    this._user = {};\n    this._tags = {};\n    this._extra = {};\n    this._contexts = {};\n    this._sdkProcessingMetadata = {};\n  }\n\n  /**\n   * Inherit values from the parent scope.\n   * @param scope to clone.\n   */\n   static clone(scope) {\n    const newScope = new Scope();\n    if (scope) {\n      newScope._breadcrumbs = [...scope._breadcrumbs];\n      newScope._tags = { ...scope._tags };\n      newScope._extra = { ...scope._extra };\n      newScope._contexts = { ...scope._contexts };\n      newScope._user = scope._user;\n      newScope._level = scope._level;\n      newScope._span = scope._span;\n      newScope._session = scope._session;\n      newScope._transactionName = scope._transactionName;\n      newScope._fingerprint = scope._fingerprint;\n      newScope._eventProcessors = [...scope._eventProcessors];\n      newScope._requestSession = scope._requestSession;\n      newScope._attachments = [...scope._attachments];\n      newScope._sdkProcessingMetadata = { ...scope._sdkProcessingMetadata };\n    }\n    return newScope;\n  }\n\n  /**\n   * Add internal on change listener. Used for sub SDKs that need to store the scope.\n   * @hidden\n   */\n   addScopeListener(callback) {\n    this._scopeListeners.push(callback);\n  }\n\n  /**\n   * @inheritDoc\n   */\n   addEventProcessor(callback) {\n    this._eventProcessors.push(callback);\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setUser(user) {\n    this._user = user || {};\n    if (this._session) {\n      updateSession(this._session, { user });\n    }\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   getUser() {\n    return this._user;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   getRequestSession() {\n    return this._requestSession;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setRequestSession(requestSession) {\n    this._requestSession = requestSession;\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setTags(tags) {\n    this._tags = {\n      ...this._tags,\n      ...tags,\n    };\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setTag(key, value) {\n    this._tags = { ...this._tags, [key]: value };\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setExtras(extras) {\n    this._extra = {\n      ...this._extra,\n      ...extras,\n    };\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setExtra(key, extra) {\n    this._extra = { ...this._extra, [key]: extra };\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setFingerprint(fingerprint) {\n    this._fingerprint = fingerprint;\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setLevel(\n    // eslint-disable-next-line deprecation/deprecation\n    level,\n  ) {\n    this._level = level;\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setTransactionName(name) {\n    this._transactionName = name;\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setContext(key, context) {\n    if (context === null) {\n      // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n      delete this._contexts[key];\n    } else {\n      this._contexts[key] = context;\n    }\n\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setSpan(span) {\n    this._span = span;\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   getSpan() {\n    return this._span;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   getTransaction() {\n    // Often, this span (if it exists at all) will be a transaction, but it's not guaranteed to be. Regardless, it will\n    // have a pointer to the currently-active transaction.\n    const span = this.getSpan();\n    return span && span.transaction;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setSession(session) {\n    if (!session) {\n      delete this._session;\n    } else {\n      this._session = session;\n    }\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   getSession() {\n    return this._session;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   update(captureContext) {\n    if (!captureContext) {\n      return this;\n    }\n\n    if (typeof captureContext === 'function') {\n      const updatedScope = (captureContext )(this);\n      return updatedScope instanceof Scope ? updatedScope : this;\n    }\n\n    if (captureContext instanceof Scope) {\n      this._tags = { ...this._tags, ...captureContext._tags };\n      this._extra = { ...this._extra, ...captureContext._extra };\n      this._contexts = { ...this._contexts, ...captureContext._contexts };\n      if (captureContext._user && Object.keys(captureContext._user).length) {\n        this._user = captureContext._user;\n      }\n      if (captureContext._level) {\n        this._level = captureContext._level;\n      }\n      if (captureContext._fingerprint) {\n        this._fingerprint = captureContext._fingerprint;\n      }\n      if (captureContext._requestSession) {\n        this._requestSession = captureContext._requestSession;\n      }\n    } else if (isPlainObject(captureContext)) {\n      // eslint-disable-next-line no-param-reassign\n      captureContext = captureContext ;\n      this._tags = { ...this._tags, ...captureContext.tags };\n      this._extra = { ...this._extra, ...captureContext.extra };\n      this._contexts = { ...this._contexts, ...captureContext.contexts };\n      if (captureContext.user) {\n        this._user = captureContext.user;\n      }\n      if (captureContext.level) {\n        this._level = captureContext.level;\n      }\n      if (captureContext.fingerprint) {\n        this._fingerprint = captureContext.fingerprint;\n      }\n      if (captureContext.requestSession) {\n        this._requestSession = captureContext.requestSession;\n      }\n    }\n\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   clear() {\n    this._breadcrumbs = [];\n    this._tags = {};\n    this._extra = {};\n    this._user = {};\n    this._contexts = {};\n    this._level = undefined;\n    this._transactionName = undefined;\n    this._fingerprint = undefined;\n    this._requestSession = undefined;\n    this._span = undefined;\n    this._session = undefined;\n    this._notifyScopeListeners();\n    this._attachments = [];\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   addBreadcrumb(breadcrumb, maxBreadcrumbs) {\n    const maxCrumbs = typeof maxBreadcrumbs === 'number' ? maxBreadcrumbs : DEFAULT_MAX_BREADCRUMBS;\n\n    // No data has been changed, so don't notify scope listeners\n    if (maxCrumbs <= 0) {\n      return this;\n    }\n\n    const mergedBreadcrumb = {\n      timestamp: dateTimestampInSeconds(),\n      ...breadcrumb,\n    };\n    this._breadcrumbs = [...this._breadcrumbs, mergedBreadcrumb].slice(-maxCrumbs);\n    this._notifyScopeListeners();\n\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   getLastBreadcrumb() {\n    return this._breadcrumbs[this._breadcrumbs.length - 1];\n  }\n\n  /**\n   * @inheritDoc\n   */\n   clearBreadcrumbs() {\n    this._breadcrumbs = [];\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   addAttachment(attachment) {\n    this._attachments.push(attachment);\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   getAttachments() {\n    return this._attachments;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   clearAttachments() {\n    this._attachments = [];\n    return this;\n  }\n\n  /**\n   * Applies data from the scope to the event and runs all event processors on it.\n   *\n   * @param event Event\n   * @param hint Object containing additional information about the original exception, for use by the event processors.\n   * @hidden\n   */\n   applyToEvent(event, hint = {}) {\n    if (this._extra && Object.keys(this._extra).length) {\n      event.extra = { ...this._extra, ...event.extra };\n    }\n    if (this._tags && Object.keys(this._tags).length) {\n      event.tags = { ...this._tags, ...event.tags };\n    }\n    if (this._user && Object.keys(this._user).length) {\n      event.user = { ...this._user, ...event.user };\n    }\n    if (this._contexts && Object.keys(this._contexts).length) {\n      event.contexts = { ...this._contexts, ...event.contexts };\n    }\n    if (this._level) {\n      event.level = this._level;\n    }\n    if (this._transactionName) {\n      event.transaction = this._transactionName;\n    }\n\n    // We want to set the trace context for normal events only if there isn't already\n    // a trace context on the event. There is a product feature in place where we link\n    // errors with transaction and it relies on that.\n    if (this._span) {\n      event.contexts = { trace: this._span.getTraceContext(), ...event.contexts };\n      const transactionName = this._span.transaction && this._span.transaction.name;\n      if (transactionName) {\n        event.tags = { transaction: transactionName, ...event.tags };\n      }\n    }\n\n    this._applyFingerprint(event);\n\n    event.breadcrumbs = [...(event.breadcrumbs || []), ...this._breadcrumbs];\n    event.breadcrumbs = event.breadcrumbs.length > 0 ? event.breadcrumbs : undefined;\n\n    event.sdkProcessingMetadata = { ...event.sdkProcessingMetadata, ...this._sdkProcessingMetadata };\n\n    return this._notifyEventProcessors([...getGlobalEventProcessors(), ...this._eventProcessors], event, hint);\n  }\n\n  /**\n   * Add data which will be accessible during event processing but won't get sent to Sentry\n   */\n   setSDKProcessingMetadata(newData) {\n    this._sdkProcessingMetadata = { ...this._sdkProcessingMetadata, ...newData };\n\n    return this;\n  }\n\n  /**\n   * This will be called after {@link applyToEvent} is finished.\n   */\n   _notifyEventProcessors(\n    processors,\n    event,\n    hint,\n    index = 0,\n  ) {\n    return new SyncPromise((resolve, reject) => {\n      const processor = processors[index];\n      if (event === null || typeof processor !== 'function') {\n        resolve(event);\n      } else {\n        const result = processor({ ...event }, hint) ;\n\n        (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) &&\n          processor.id &&\n          result === null &&\n          logger.log(`Event processor \"${processor.id}\" dropped event`);\n\n        if (isThenable(result)) {\n          void result\n            .then(final => this._notifyEventProcessors(processors, final, hint, index + 1).then(resolve))\n            .then(null, reject);\n        } else {\n          void this._notifyEventProcessors(processors, result, hint, index + 1)\n            .then(resolve)\n            .then(null, reject);\n        }\n      }\n    });\n  }\n\n  /**\n   * This will be called on every set call.\n   */\n   _notifyScopeListeners() {\n    // We need this check for this._notifyingListeners to be able to work on scope during updates\n    // If this check is not here we'll produce endless recursion when something is done with the scope\n    // during the callback.\n    if (!this._notifyingListeners) {\n      this._notifyingListeners = true;\n      this._scopeListeners.forEach(callback => {\n        callback(this);\n      });\n      this._notifyingListeners = false;\n    }\n  }\n\n  /**\n   * Applies fingerprint from the scope to the event if there's one,\n   * uses message if there's one instead or get rid of empty fingerprint\n   */\n   _applyFingerprint(event) {\n    // Make sure it's an array first and we actually have something in place\n    event.fingerprint = event.fingerprint ? arrayify(event.fingerprint) : [];\n\n    // If we have something on the scope, then merge it with event\n    if (this._fingerprint) {\n      event.fingerprint = event.fingerprint.concat(this._fingerprint);\n    }\n\n    // If we have no data at all, remove empty array default\n    if (event.fingerprint && !event.fingerprint.length) {\n      delete event.fingerprint;\n    }\n  }\n}\n\n/**\n * Returns the global event processors.\n */\nfunction getGlobalEventProcessors() {\n  return getGlobalSingleton('globalEventProcessors', () => []);\n}\n\n/**\n * Add a EventProcessor to be kept globally.\n * @param callback EventProcessor to add\n */\nfunction addGlobalEventProcessor(callback) {\n  getGlobalEventProcessors().push(callback);\n}\n\nexport { Scope, addGlobalEventProcessor };\n//# sourceMappingURL=scope.js.map\n","import { uuid4, dateTimestampInSeconds, consoleSandbox, logger, GLOBAL_OBJ, isNodeEnv, getGlobalSingleton } from '@sentry/utils';\nimport { Scope } from './scope.js';\nimport { closeSession, makeSession, updateSession } from './session.js';\n\n/**\n * API compatibility version of this hub.\n *\n * WARNING: This number should only be increased when the global interface\n * changes and new methods are introduced.\n *\n * @hidden\n */\nconst API_VERSION = 4;\n\n/**\n * Default maximum number of breadcrumbs added to an event. Can be overwritten\n * with {@link Options.maxBreadcrumbs}.\n */\nconst DEFAULT_BREADCRUMBS = 100;\n\n/**\n * A layer in the process stack.\n * @hidden\n */\n\n/**\n * @inheritDoc\n */\nclass Hub  {\n  /** Is a {@link Layer}[] containing the client and scope */\n    __init() {this._stack = [{}];}\n\n  /** Contains the last event id of a captured event.  */\n\n  /**\n   * Creates a new instance of the hub, will push one {@link Layer} into the\n   * internal stack on creation.\n   *\n   * @param client bound to the hub.\n   * @param scope bound to the hub.\n   * @param version number, higher number means higher priority.\n   */\n   constructor(client, scope = new Scope(),   _version = API_VERSION) {this._version = _version;Hub.prototype.__init.call(this);\n    this.getStackTop().scope = scope;\n    if (client) {\n      this.bindClient(client);\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n   isOlderThan(version) {\n    return this._version < version;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   bindClient(client) {\n    const top = this.getStackTop();\n    top.client = client;\n    if (client && client.setupIntegrations) {\n      client.setupIntegrations();\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n   pushScope() {\n    // We want to clone the content of prev scope\n    const scope = Scope.clone(this.getScope());\n    this.getStack().push({\n      client: this.getClient(),\n      scope,\n    });\n    return scope;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   popScope() {\n    if (this.getStack().length <= 1) return false;\n    return !!this.getStack().pop();\n  }\n\n  /**\n   * @inheritDoc\n   */\n   withScope(callback) {\n    const scope = this.pushScope();\n    try {\n      callback(scope);\n    } finally {\n      this.popScope();\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n   getClient() {\n    return this.getStackTop().client ;\n  }\n\n  /** Returns the scope of the top stack. */\n   getScope() {\n    return this.getStackTop().scope;\n  }\n\n  /** Returns the scope stack for domains or the process. */\n   getStack() {\n    return this._stack;\n  }\n\n  /** Returns the topmost scope layer in the order domain > local > process. */\n   getStackTop() {\n    return this._stack[this._stack.length - 1];\n  }\n\n  /**\n   * @inheritDoc\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\n   captureException(exception, hint) {\n    const eventId = (this._lastEventId = hint && hint.event_id ? hint.event_id : uuid4());\n    const syntheticException = new Error('Sentry syntheticException');\n    this._withClient((client, scope) => {\n      client.captureException(\n        exception,\n        {\n          originalException: exception,\n          syntheticException,\n          ...hint,\n          event_id: eventId,\n        },\n        scope,\n      );\n    });\n    return eventId;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   captureMessage(\n    message,\n    // eslint-disable-next-line deprecation/deprecation\n    level,\n    hint,\n  ) {\n    const eventId = (this._lastEventId = hint && hint.event_id ? hint.event_id : uuid4());\n    const syntheticException = new Error(message);\n    this._withClient((client, scope) => {\n      client.captureMessage(\n        message,\n        level,\n        {\n          originalException: message,\n          syntheticException,\n          ...hint,\n          event_id: eventId,\n        },\n        scope,\n      );\n    });\n    return eventId;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   captureEvent(event, hint) {\n    const eventId = hint && hint.event_id ? hint.event_id : uuid4();\n    if (!event.type) {\n      this._lastEventId = eventId;\n    }\n\n    this._withClient((client, scope) => {\n      client.captureEvent(event, { ...hint, event_id: eventId }, scope);\n    });\n    return eventId;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   lastEventId() {\n    return this._lastEventId;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   addBreadcrumb(breadcrumb, hint) {\n    const { scope, client } = this.getStackTop();\n\n    if (!scope || !client) return;\n\n    const { beforeBreadcrumb = null, maxBreadcrumbs = DEFAULT_BREADCRUMBS } =\n      (client.getOptions && client.getOptions()) || {};\n\n    if (maxBreadcrumbs <= 0) return;\n\n    const timestamp = dateTimestampInSeconds();\n    const mergedBreadcrumb = { timestamp, ...breadcrumb };\n    const finalBreadcrumb = beforeBreadcrumb\n      ? (consoleSandbox(() => beforeBreadcrumb(mergedBreadcrumb, hint)) )\n      : mergedBreadcrumb;\n\n    if (finalBreadcrumb === null) return;\n\n    scope.addBreadcrumb(finalBreadcrumb, maxBreadcrumbs);\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setUser(user) {\n    const scope = this.getScope();\n    if (scope) scope.setUser(user);\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setTags(tags) {\n    const scope = this.getScope();\n    if (scope) scope.setTags(tags);\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setExtras(extras) {\n    const scope = this.getScope();\n    if (scope) scope.setExtras(extras);\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setTag(key, value) {\n    const scope = this.getScope();\n    if (scope) scope.setTag(key, value);\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setExtra(key, extra) {\n    const scope = this.getScope();\n    if (scope) scope.setExtra(key, extra);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n   setContext(name, context) {\n    const scope = this.getScope();\n    if (scope) scope.setContext(name, context);\n  }\n\n  /**\n   * @inheritDoc\n   */\n   configureScope(callback) {\n    const { scope, client } = this.getStackTop();\n    if (scope && client) {\n      callback(scope);\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n   run(callback) {\n    const oldHub = makeMain(this);\n    try {\n      callback(this);\n    } finally {\n      makeMain(oldHub);\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n   getIntegration(integration) {\n    const client = this.getClient();\n    if (!client) return null;\n    try {\n      return client.getIntegration(integration);\n    } catch (_oO) {\n      (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.warn(`Cannot retrieve integration ${integration.id} from the current Hub`);\n      return null;\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n   startTransaction(context, customSamplingContext) {\n    return this._callExtensionMethod('startTransaction', context, customSamplingContext);\n  }\n\n  /**\n   * @inheritDoc\n   */\n   traceHeaders() {\n    return this._callExtensionMethod('traceHeaders');\n  }\n\n  /**\n   * @inheritDoc\n   */\n   captureSession(endSession = false) {\n    // both send the update and pull the session from the scope\n    if (endSession) {\n      return this.endSession();\n    }\n\n    // only send the update\n    this._sendSessionUpdate();\n  }\n\n  /**\n   * @inheritDoc\n   */\n   endSession() {\n    const layer = this.getStackTop();\n    const scope = layer && layer.scope;\n    const session = scope && scope.getSession();\n    if (session) {\n      closeSession(session);\n    }\n    this._sendSessionUpdate();\n\n    // the session is over; take it off of the scope\n    if (scope) {\n      scope.setSession();\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n   startSession(context) {\n    const { scope, client } = this.getStackTop();\n    const { release, environment } = (client && client.getOptions()) || {};\n\n    // Will fetch userAgent if called from browser sdk\n    const { userAgent } = GLOBAL_OBJ.navigator || {};\n\n    const session = makeSession({\n      release,\n      environment,\n      ...(scope && { user: scope.getUser() }),\n      ...(userAgent && { userAgent }),\n      ...context,\n    });\n\n    if (scope) {\n      // End existing session if there's one\n      const currentSession = scope.getSession && scope.getSession();\n      if (currentSession && currentSession.status === 'ok') {\n        updateSession(currentSession, { status: 'exited' });\n      }\n      this.endSession();\n\n      // Afterwards we set the new session on the scope\n      scope.setSession(session);\n    }\n\n    return session;\n  }\n\n  /**\n   * Returns if default PII should be sent to Sentry and propagated in ourgoing requests\n   * when Tracing is used.\n   */\n   shouldSendDefaultPii() {\n    const client = this.getClient();\n    const options = client && client.getOptions();\n    return Boolean(options && options.sendDefaultPii);\n  }\n\n  /**\n   * Sends the current Session on the scope\n   */\n   _sendSessionUpdate() {\n    const { scope, client } = this.getStackTop();\n    if (!scope) return;\n\n    const session = scope.getSession();\n    if (session) {\n      if (client && client.captureSession) {\n        client.captureSession(session);\n      }\n    }\n  }\n\n  /**\n   * Internal helper function to call a method on the top client if it exists.\n   *\n   * @param method The method to call on the client.\n   * @param args Arguments to pass to the client function.\n   */\n   _withClient(callback) {\n    const { scope, client } = this.getStackTop();\n    if (client) {\n      callback(client, scope);\n    }\n  }\n\n  /**\n   * Calls global extension method and binding current instance to the function call\n   */\n  // @ts-ignore Function lacks ending return statement and return type does not include 'undefined'. ts(2366)\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n   _callExtensionMethod(method, ...args) {\n    const carrier = getMainCarrier();\n    const sentry = carrier.__SENTRY__;\n    if (sentry && sentry.extensions && typeof sentry.extensions[method] === 'function') {\n      return sentry.extensions[method].apply(this, args);\n    }\n    (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.warn(`Extension method ${method} couldn't be found, doing nothing.`);\n  }\n}\n\n/**\n * Returns the global shim registry.\n *\n * FIXME: This function is problematic, because despite always returning a valid Carrier,\n * it has an optional `__SENTRY__` property, which then in turn requires us to always perform an unnecessary check\n * at the call-site. We always access the carrier through this function, so we can guarantee that `__SENTRY__` is there.\n **/\nfunction getMainCarrier() {\n  GLOBAL_OBJ.__SENTRY__ = GLOBAL_OBJ.__SENTRY__ || {\n    extensions: {},\n    hub: undefined,\n  };\n  return GLOBAL_OBJ;\n}\n\n/**\n * Replaces the current main hub with the passed one on the global object\n *\n * @returns The old replaced hub\n */\nfunction makeMain(hub) {\n  const registry = getMainCarrier();\n  const oldHub = getHubFromCarrier(registry);\n  setHubOnCarrier(registry, hub);\n  return oldHub;\n}\n\n/**\n * Returns the default hub instance.\n *\n * If a hub is already registered in the global carrier but this module\n * contains a more recent version, it replaces the registered version.\n * Otherwise, the currently registered hub will be returned.\n */\nfunction getCurrentHub() {\n  // Get main carrier (global for every environment)\n  const registry = getMainCarrier();\n\n  // If there's no hub, or its an old API, assign a new one\n  if (!hasHubOnCarrier(registry) || getHubFromCarrier(registry).isOlderThan(API_VERSION)) {\n    setHubOnCarrier(registry, new Hub());\n  }\n\n  // Prefer domains over global if they are there (applicable only to Node environment)\n  if (isNodeEnv()) {\n    return getHubFromActiveDomain(registry);\n  }\n  // Return hub that lives on a global object\n  return getHubFromCarrier(registry);\n}\n\n/**\n * Try to read the hub from an active domain, and fallback to the registry if one doesn't exist\n * @returns discovered hub\n */\nfunction getHubFromActiveDomain(registry) {\n  try {\n    const sentry = getMainCarrier().__SENTRY__;\n    const activeDomain = sentry && sentry.extensions && sentry.extensions.domain && sentry.extensions.domain.active;\n\n    // If there's no active domain, just return global hub\n    if (!activeDomain) {\n      return getHubFromCarrier(registry);\n    }\n\n    // If there's no hub on current domain, or it's an old API, assign a new one\n    if (!hasHubOnCarrier(activeDomain) || getHubFromCarrier(activeDomain).isOlderThan(API_VERSION)) {\n      const registryHubTopStack = getHubFromCarrier(registry).getStackTop();\n      setHubOnCarrier(activeDomain, new Hub(registryHubTopStack.client, Scope.clone(registryHubTopStack.scope)));\n    }\n\n    // Return hub that lives on a domain\n    return getHubFromCarrier(activeDomain);\n  } catch (_Oo) {\n    // Return hub that lives on a global object\n    return getHubFromCarrier(registry);\n  }\n}\n\n/**\n * This will tell whether a carrier has a hub on it or not\n * @param carrier object\n */\nfunction hasHubOnCarrier(carrier) {\n  return !!(carrier && carrier.__SENTRY__ && carrier.__SENTRY__.hub);\n}\n\n/**\n * This will create a new {@link Hub} and add to the passed object on\n * __SENTRY__.hub.\n * @param carrier object\n * @hidden\n */\nfunction getHubFromCarrier(carrier) {\n  return getGlobalSingleton('hub', () => new Hub(), carrier);\n}\n\n/**\n * This will set passed {@link Hub} on the passed object's __SENTRY__.hub attribute\n * @param carrier object\n * @param hub Hub\n * @returns A boolean indicating success or failure\n */\nfunction setHubOnCarrier(carrier, hub) {\n  if (!carrier) return false;\n  const __SENTRY__ = (carrier.__SENTRY__ = carrier.__SENTRY__ || {});\n  __SENTRY__.hub = hub;\n  return true;\n}\n\nexport { API_VERSION, Hub, getCurrentHub, getHubFromCarrier, getMainCarrier, makeMain, setHubOnCarrier };\n//# sourceMappingURL=hub.js.map\n","import { arrayify, logger } from '@sentry/utils';\nimport { getCurrentHub } from './hub.js';\nimport { addGlobalEventProcessor } from './scope.js';\n\nconst installedIntegrations = [];\n\n/** Map of integrations assigned to a client */\n\n/**\n * Remove duplicates from the given array, preferring the last instance of any duplicate. Not guaranteed to\n * preseve the order of integrations in the array.\n *\n * @private\n */\nfunction filterDuplicates(integrations) {\n  const integrationsByName = {};\n\n  integrations.forEach(currentInstance => {\n    const { name } = currentInstance;\n\n    const existingInstance = integrationsByName[name];\n\n    // We want integrations later in the array to overwrite earlier ones of the same type, except that we never want a\n    // default instance to overwrite an existing user instance\n    if (existingInstance && !existingInstance.isDefaultInstance && currentInstance.isDefaultInstance) {\n      return;\n    }\n\n    integrationsByName[name] = currentInstance;\n  });\n\n  return Object.values(integrationsByName);\n}\n\n/** Gets integrations to install */\nfunction getIntegrationsToSetup(options) {\n  const defaultIntegrations = options.defaultIntegrations || [];\n  const userIntegrations = options.integrations;\n\n  // We flag default instances, so that later we can tell them apart from any user-created instances of the same class\n  defaultIntegrations.forEach(integration => {\n    integration.isDefaultInstance = true;\n  });\n\n  let integrations;\n\n  if (Array.isArray(userIntegrations)) {\n    integrations = [...defaultIntegrations, ...userIntegrations];\n  } else if (typeof userIntegrations === 'function') {\n    integrations = arrayify(userIntegrations(defaultIntegrations));\n  } else {\n    integrations = defaultIntegrations;\n  }\n\n  const finalIntegrations = filterDuplicates(integrations);\n\n  // The `Debug` integration prints copies of the `event` and `hint` which will be passed to `beforeSend` or\n  // `beforeSendTransaction`. It therefore has to run after all other integrations, so that the changes of all event\n  // processors will be reflected in the printed values. For lack of a more elegant way to guarantee that, we therefore\n  // locate it and, assuming it exists, pop it out of its current spot and shove it onto the end of the array.\n  const debugIndex = finalIntegrations.findIndex(integration => integration.name === 'Debug');\n  if (debugIndex !== -1) {\n    const [debugInstance] = finalIntegrations.splice(debugIndex, 1);\n    finalIntegrations.push(debugInstance);\n  }\n\n  return finalIntegrations;\n}\n\n/**\n * Given a list of integration instances this installs them all. When `withDefaults` is set to `true` then all default\n * integrations are added unless they were already provided before.\n * @param integrations array of integration instances\n * @param withDefault should enable default integrations\n */\nfunction setupIntegrations(integrations) {\n  const integrationIndex = {};\n\n  integrations.forEach(integration => {\n    setupIntegration(integration, integrationIndex);\n  });\n\n  return integrationIndex;\n}\n\n/** Setup a single integration.  */\nfunction setupIntegration(integration, integrationIndex) {\n  integrationIndex[integration.name] = integration;\n\n  if (installedIntegrations.indexOf(integration.name) === -1) {\n    integration.setupOnce(addGlobalEventProcessor, getCurrentHub);\n    installedIntegrations.push(integration.name);\n    (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.log(`Integration installed: ${integration.name}`);\n  }\n}\n\nexport { getIntegrationsToSetup, installedIntegrations, setupIntegration, setupIntegrations };\n//# sourceMappingURL=integration.js.map\n","import { GLOBAL_OBJ } from './worldwide.js';\n\nconst STACKTRACE_LIMIT = 50;\n\nconst debugIdParserCache = new Map();\n\n/**\n * Creates a stack parser with the supplied line parsers\n *\n * StackFrames are returned in the correct order for Sentry Exception\n * frames and with Sentry SDK internal frames removed from the top and bottom\n *\n */\nfunction createStackParser(...parsers) {\n  const sortedParsers = parsers.sort((a, b) => a[0] - b[0]).map(p => p[1]);\n\n  return (stack, skipFirst = 0) => {\n    const frames = [];\n\n    for (const parser of sortedParsers) {\n      let debugIdCache = debugIdParserCache.get(parser);\n      if (!debugIdCache) {\n        debugIdCache = new Map();\n        debugIdParserCache.set(parser, debugIdCache);\n      }\n\n      const debugIdMap = GLOBAL_OBJ._sentryDebugIds;\n\n      if (debugIdMap) {\n        Object.keys(debugIdMap).forEach(debugIdStackTrace => {\n          debugIdStackTrace.split('\\n').forEach(line => {\n            const frame = parser(line);\n            if (frame && frame.filename) {\n              // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n              debugIdCache.set(frame.filename, debugIdMap[debugIdStackTrace]);\n            }\n          });\n        });\n      }\n    }\n\n    for (const line of stack.split('\\n').slice(skipFirst)) {\n      // Ignore lines over 1kb as they are unlikely to be stack frames.\n      // Many of the regular expressions use backtracking which results in run time that increases exponentially with\n      // input size. Huge strings can result in hangs/Denial of Service:\n      // https://github.com/getsentry/sentry-javascript/issues/2286\n      if (line.length > 1024) {\n        continue;\n      }\n\n      // https://github.com/getsentry/sentry-javascript/issues/5459\n      // Remove webpack (error: *) wrappers\n      const cleanedLine = line.replace(/\\(error: (.*)\\)/, '$1');\n\n      for (const parser of sortedParsers) {\n        const frame = parser(cleanedLine);\n\n        if (frame) {\n          const debugIdCache = debugIdParserCache.get(parser);\n          if (debugIdCache && frame.filename) {\n            const cachedDebugId = debugIdCache.get(frame.filename);\n            if (cachedDebugId) {\n              frame.debug_id = cachedDebugId;\n            }\n          }\n\n          frames.push(frame);\n          break;\n        }\n      }\n    }\n\n    return stripSentryFramesAndReverse(frames);\n  };\n}\n\n/**\n * Gets a stack parser implementation from Options.stackParser\n * @see Options\n *\n * If options contains an array of line parsers, it is converted into a parser\n */\nfunction stackParserFromStackParserOptions(stackParser) {\n  if (Array.isArray(stackParser)) {\n    return createStackParser(...stackParser);\n  }\n  return stackParser;\n}\n\n/**\n * @hidden\n */\nfunction stripSentryFramesAndReverse(stack) {\n  if (!stack.length) {\n    return [];\n  }\n\n  let localStack = stack;\n\n  const firstFrameFunction = localStack[0].function || '';\n  const lastFrameFunction = localStack[localStack.length - 1].function || '';\n\n  // If stack starts with one of our API calls, remove it (starts, meaning it's the top of the stack - aka last call)\n  if (firstFrameFunction.indexOf('captureMessage') !== -1 || firstFrameFunction.indexOf('captureException') !== -1) {\n    localStack = localStack.slice(1);\n  }\n\n  // If stack ends with one of our internal API calls, remove it (ends, meaning it's the bottom of the stack - aka top-most call)\n  if (lastFrameFunction.indexOf('sentryWrapped') !== -1) {\n    localStack = localStack.slice(0, -1);\n  }\n\n  // The frame where the crash happened, should be the last entry in the array\n  return localStack\n    .slice(0, STACKTRACE_LIMIT)\n    .map(frame => ({\n      ...frame,\n      filename: frame.filename || localStack[0].filename,\n      function: frame.function || '?',\n    }))\n    .reverse();\n}\n\nconst defaultFunctionName = '<anonymous>';\n\n/**\n * Safely extract function name from itself\n */\nfunction getFunctionName(fn) {\n  try {\n    if (!fn || typeof fn !== 'function') {\n      return defaultFunctionName;\n    }\n    return fn.name || defaultFunctionName;\n  } catch (e) {\n    // Just accessing custom props in some Selenium environments\n    // can cause a \"Permission denied\" exception (see raven-js#495).\n    return defaultFunctionName;\n  }\n}\n\n// eslint-disable-next-line complexity\nfunction node(getModule) {\n  const FILENAME_MATCH = /^\\s*[-]{4,}$/;\n  const FULL_MATCH = /at (?:async )?(?:(.+?)\\s+\\()?(?:(.+):(\\d+):(\\d+)?|([^)]+))\\)?/;\n\n  // eslint-disable-next-line complexity\n  return (line) => {\n    if (line.match(FILENAME_MATCH)) {\n      return {\n        filename: line,\n      };\n    }\n\n    const lineMatch = line.match(FULL_MATCH);\n    if (!lineMatch) {\n      return undefined;\n    }\n\n    let object;\n    let method;\n    let functionName;\n    let typeName;\n    let methodName;\n\n    if (lineMatch[1]) {\n      functionName = lineMatch[1];\n\n      let methodStart = functionName.lastIndexOf('.');\n      if (functionName[methodStart - 1] === '.') {\n        methodStart--;\n      }\n\n      if (methodStart > 0) {\n        object = functionName.slice(0, methodStart);\n        method = functionName.slice(methodStart + 1);\n        const objectEnd = object.indexOf('.Module');\n        if (objectEnd > 0) {\n          functionName = functionName.slice(objectEnd + 1);\n          object = object.slice(0, objectEnd);\n        }\n      }\n      typeName = undefined;\n    }\n\n    if (method) {\n      typeName = object;\n      methodName = method;\n    }\n\n    if (method === '<anonymous>') {\n      methodName = undefined;\n      functionName = undefined;\n    }\n\n    if (functionName === undefined) {\n      methodName = methodName || '<anonymous>';\n      functionName = typeName ? `${typeName}.${methodName}` : methodName;\n    }\n\n    const filename = lineMatch[2] && lineMatch[2].startsWith('file://') ? lineMatch[2].slice(7) : lineMatch[2];\n    const isNative = lineMatch[5] === 'native';\n    const isInternal =\n      isNative || (filename && !filename.startsWith('/') && !filename.startsWith('.') && filename.indexOf(':\\\\') !== 1);\n\n    // in_app is all that's not an internal Node function or a module within node_modules\n    // note that isNative appears to return true even for node core libraries\n    // see https://github.com/getsentry/raven-node/issues/176\n    const in_app = !isInternal && filename !== undefined && !filename.includes('node_modules/');\n\n    return {\n      filename,\n      module: getModule ? getModule(filename) : undefined,\n      function: functionName,\n      lineno: parseInt(lineMatch[3], 10) || undefined,\n      colno: parseInt(lineMatch[4], 10) || undefined,\n      in_app,\n    };\n  };\n}\n\n/**\n * Node.js stack line parser\n *\n * This is in @sentry/utils so it can be used from the Electron SDK in the browser for when `nodeIntegration == true`.\n * This allows it to be used without referencing or importing any node specific code which causes bundlers to complain\n */\nfunction nodeStackLineParser(getModule) {\n  return [90, node(getModule)];\n}\n\nexport { createStackParser, getFunctionName, nodeStackLineParser, stackParserFromStackParserOptions, stripSentryFramesAndReverse };\n//# sourceMappingURL=stacktrace.js.map\n","import { logger } from './logger.js';\nimport { getGlobalObject } from './worldwide.js';\n\n// eslint-disable-next-line deprecation/deprecation\nconst WINDOW = getGlobalObject();\n\n/**\n * Tells whether current environment supports ErrorEvent objects\n * {@link supportsErrorEvent}.\n *\n * @returns Answer to the given question.\n */\nfunction supportsErrorEvent() {\n  try {\n    new ErrorEvent('');\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\n/**\n * Tells whether current environment supports DOMError objects\n * {@link supportsDOMError}.\n *\n * @returns Answer to the given question.\n */\nfunction supportsDOMError() {\n  try {\n    // Chrome: VM89:1 Uncaught TypeError: Failed to construct 'DOMError':\n    // 1 argument required, but only 0 present.\n    // @ts-ignore It really needs 1 argument, not 0.\n    new DOMError('');\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\n/**\n * Tells whether current environment supports DOMException objects\n * {@link supportsDOMException}.\n *\n * @returns Answer to the given question.\n */\nfunction supportsDOMException() {\n  try {\n    new DOMException('');\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\n/**\n * Tells whether current environment supports Fetch API\n * {@link supportsFetch}.\n *\n * @returns Answer to the given question.\n */\nfunction supportsFetch() {\n  if (!('fetch' in WINDOW)) {\n    return false;\n  }\n\n  try {\n    new Headers();\n    new Request('http://www.example.com');\n    new Response();\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n/**\n * isNativeFetch checks if the given function is a native implementation of fetch()\n */\n// eslint-disable-next-line @typescript-eslint/ban-types\nfunction isNativeFetch(func) {\n  return func && /^function fetch\\(\\)\\s+\\{\\s+\\[native code\\]\\s+\\}$/.test(func.toString());\n}\n\n/**\n * Tells whether current environment supports Fetch API natively\n * {@link supportsNativeFetch}.\n *\n * @returns true if `window.fetch` is natively implemented, false otherwise\n */\nfunction supportsNativeFetch() {\n  if (!supportsFetch()) {\n    return false;\n  }\n\n  // Fast path to avoid DOM I/O\n  // eslint-disable-next-line @typescript-eslint/unbound-method\n  if (isNativeFetch(WINDOW.fetch)) {\n    return true;\n  }\n\n  // window.fetch is implemented, but is polyfilled or already wrapped (e.g: by a chrome extension)\n  // so create a \"pure\" iframe to see if that has native fetch\n  let result = false;\n  const doc = WINDOW.document;\n  // eslint-disable-next-line deprecation/deprecation\n  if (doc && typeof (doc.createElement ) === 'function') {\n    try {\n      const sandbox = doc.createElement('iframe');\n      sandbox.hidden = true;\n      doc.head.appendChild(sandbox);\n      if (sandbox.contentWindow && sandbox.contentWindow.fetch) {\n        // eslint-disable-next-line @typescript-eslint/unbound-method\n        result = isNativeFetch(sandbox.contentWindow.fetch);\n      }\n      doc.head.removeChild(sandbox);\n    } catch (err) {\n      (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) &&\n        logger.warn('Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ', err);\n    }\n  }\n\n  return result;\n}\n\n/**\n * Tells whether current environment supports ReportingObserver API\n * {@link supportsReportingObserver}.\n *\n * @returns Answer to the given question.\n */\nfunction supportsReportingObserver() {\n  return 'ReportingObserver' in WINDOW;\n}\n\n/**\n * Tells whether current environment supports Referrer Policy API\n * {@link supportsReferrerPolicy}.\n *\n * @returns Answer to the given question.\n */\nfunction supportsReferrerPolicy() {\n  // Despite all stars in the sky saying that Edge supports old draft syntax, aka 'never', 'always', 'origin' and 'default'\n  // (see https://caniuse.com/#feat=referrer-policy),\n  // it doesn't. And it throws an exception instead of ignoring this parameter...\n  // REF: https://github.com/getsentry/raven-js/issues/1233\n\n  if (!supportsFetch()) {\n    return false;\n  }\n\n  try {\n    new Request('_', {\n      referrerPolicy: 'origin' ,\n    });\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\n/**\n * Tells whether current environment supports History API\n * {@link supportsHistory}.\n *\n * @returns Answer to the given question.\n */\nfunction supportsHistory() {\n  // NOTE: in Chrome App environment, touching history.pushState, *even inside\n  //       a try/catch block*, will cause Chrome to output an error to console.error\n  // borrowed from: https://github.com/angular/angular.js/pull/13945/files\n  /* eslint-disable @typescript-eslint/no-unsafe-member-access */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const chrome = (WINDOW ).chrome;\n  const isChromePackagedApp = chrome && chrome.app && chrome.app.runtime;\n  /* eslint-enable @typescript-eslint/no-unsafe-member-access */\n  const hasHistoryApi = 'history' in WINDOW && !!WINDOW.history.pushState && !!WINDOW.history.replaceState;\n\n  return !isChromePackagedApp && hasHistoryApi;\n}\n\nexport { isNativeFetch, supportsDOMError, supportsDOMException, supportsErrorEvent, supportsFetch, supportsHistory, supportsNativeFetch, supportsReferrerPolicy, supportsReportingObserver };\n//# sourceMappingURL=supports.js.map\n","import { isInstanceOf, isString } from './is.js';\nimport { logger, CONSOLE_LEVELS } from './logger.js';\nimport { fill } from './object.js';\nimport { getFunctionName } from './stacktrace.js';\nimport { supportsNativeFetch, supportsHistory } from './supports.js';\nimport { getGlobalObject } from './worldwide.js';\n\n// eslint-disable-next-line deprecation/deprecation\nconst WINDOW = getGlobalObject();\n\n/**\n * Instrument native APIs to call handlers that can be used to create breadcrumbs, APM spans etc.\n *  - Console API\n *  - Fetch API\n *  - XHR API\n *  - History API\n *  - DOM API (click/typing)\n *  - Error API\n *  - UnhandledRejection API\n */\n\nconst handlers = {};\nconst instrumented = {};\n\n/** Instruments given API */\nfunction instrument(type) {\n  if (instrumented[type]) {\n    return;\n  }\n\n  instrumented[type] = true;\n\n  switch (type) {\n    case 'console':\n      instrumentConsole();\n      break;\n    case 'dom':\n      instrumentDOM();\n      break;\n    case 'xhr':\n      instrumentXHR();\n      break;\n    case 'fetch':\n      instrumentFetch();\n      break;\n    case 'history':\n      instrumentHistory();\n      break;\n    case 'error':\n      instrumentError();\n      break;\n    case 'unhandledrejection':\n      instrumentUnhandledRejection();\n      break;\n    default:\n      (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.warn('unknown instrumentation type:', type);\n      return;\n  }\n}\n\n/**\n * Add handler that will be called when given type of instrumentation triggers.\n * Use at your own risk, this might break without changelog notice, only used internally.\n * @hidden\n */\nfunction addInstrumentationHandler(type, callback) {\n  handlers[type] = handlers[type] || [];\n  (handlers[type] ).push(callback);\n  instrument(type);\n}\n\n/** JSDoc */\nfunction triggerHandlers(type, data) {\n  if (!type || !handlers[type]) {\n    return;\n  }\n\n  for (const handler of handlers[type] || []) {\n    try {\n      handler(data);\n    } catch (e) {\n      (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) &&\n        logger.error(\n          `Error while triggering instrumentation handler.\\nType: ${type}\\nName: ${getFunctionName(handler)}\\nError:`,\n          e,\n        );\n    }\n  }\n}\n\n/** JSDoc */\nfunction instrumentConsole() {\n  if (!('console' in WINDOW)) {\n    return;\n  }\n\n  CONSOLE_LEVELS.forEach(function (level) {\n    if (!(level in WINDOW.console)) {\n      return;\n    }\n\n    fill(WINDOW.console, level, function (originalConsoleMethod) {\n      return function (...args) {\n        triggerHandlers('console', { args, level });\n\n        // this fails for some browsers. :(\n        if (originalConsoleMethod) {\n          originalConsoleMethod.apply(WINDOW.console, args);\n        }\n      };\n    });\n  });\n}\n\n/** JSDoc */\nfunction instrumentFetch() {\n  if (!supportsNativeFetch()) {\n    return;\n  }\n\n  fill(WINDOW, 'fetch', function (originalFetch) {\n    return function (...args) {\n      const handlerData = {\n        args,\n        fetchData: {\n          method: getFetchMethod(args),\n          url: getFetchUrl(args),\n        },\n        startTimestamp: Date.now(),\n      };\n\n      triggerHandlers('fetch', {\n        ...handlerData,\n      });\n\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n      return originalFetch.apply(WINDOW, args).then(\n        (response) => {\n          triggerHandlers('fetch', {\n            ...handlerData,\n            endTimestamp: Date.now(),\n            response,\n          });\n          return response;\n        },\n        (error) => {\n          triggerHandlers('fetch', {\n            ...handlerData,\n            endTimestamp: Date.now(),\n            error,\n          });\n          // NOTE: If you are a Sentry user, and you are seeing this stack frame,\n          //       it means the sentry.javascript SDK caught an error invoking your application code.\n          //       This is expected behavior and NOT indicative of a bug with sentry.javascript.\n          throw error;\n        },\n      );\n    };\n  });\n}\n\n/* eslint-disable @typescript-eslint/no-unsafe-member-access */\n/** Extract `method` from fetch call arguments */\nfunction getFetchMethod(fetchArgs = []) {\n  if ('Request' in WINDOW && isInstanceOf(fetchArgs[0], Request) && fetchArgs[0].method) {\n    return String(fetchArgs[0].method).toUpperCase();\n  }\n  if (fetchArgs[1] && fetchArgs[1].method) {\n    return String(fetchArgs[1].method).toUpperCase();\n  }\n  return 'GET';\n}\n\n/** Extract `url` from fetch call arguments */\nfunction getFetchUrl(fetchArgs = []) {\n  if (typeof fetchArgs[0] === 'string') {\n    return fetchArgs[0];\n  }\n  if ('Request' in WINDOW && isInstanceOf(fetchArgs[0], Request)) {\n    return fetchArgs[0].url;\n  }\n  return String(fetchArgs[0]);\n}\n/* eslint-enable @typescript-eslint/no-unsafe-member-access */\n\n/** JSDoc */\nfunction instrumentXHR() {\n  if (!('XMLHttpRequest' in WINDOW)) {\n    return;\n  }\n\n  const xhrproto = XMLHttpRequest.prototype;\n\n  fill(xhrproto, 'open', function (originalOpen) {\n    return function ( ...args) {\n      // eslint-disable-next-line @typescript-eslint/no-this-alias\n      const xhr = this;\n      const url = args[1];\n      const xhrInfo = (xhr.__sentry_xhr__ = {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n        method: isString(args[0]) ? args[0].toUpperCase() : args[0],\n        url: args[1],\n      });\n\n      // if Sentry key appears in URL, don't capture it as a request\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n      if (isString(url) && xhrInfo.method === 'POST' && url.match(/sentry_key/)) {\n        xhr.__sentry_own_request__ = true;\n      }\n\n      const onreadystatechangeHandler = function () {\n        if (xhr.readyState === 4) {\n          try {\n            // touching statusCode in some platforms throws\n            // an exception\n            xhrInfo.status_code = xhr.status;\n          } catch (e) {\n            /* do nothing */\n          }\n\n          triggerHandlers('xhr', {\n            args,\n            endTimestamp: Date.now(),\n            startTimestamp: Date.now(),\n            xhr,\n          });\n        }\n      };\n\n      if ('onreadystatechange' in xhr && typeof xhr.onreadystatechange === 'function') {\n        fill(xhr, 'onreadystatechange', function (original) {\n          return function (...readyStateArgs) {\n            onreadystatechangeHandler();\n            return original.apply(xhr, readyStateArgs);\n          };\n        });\n      } else {\n        xhr.addEventListener('readystatechange', onreadystatechangeHandler);\n      }\n\n      return originalOpen.apply(xhr, args);\n    };\n  });\n\n  fill(xhrproto, 'send', function (originalSend) {\n    return function ( ...args) {\n      if (this.__sentry_xhr__ && args[0] !== undefined) {\n        this.__sentry_xhr__.body = args[0];\n      }\n\n      triggerHandlers('xhr', {\n        args,\n        startTimestamp: Date.now(),\n        xhr: this,\n      });\n\n      return originalSend.apply(this, args);\n    };\n  });\n}\n\nlet lastHref;\n\n/** JSDoc */\nfunction instrumentHistory() {\n  if (!supportsHistory()) {\n    return;\n  }\n\n  const oldOnPopState = WINDOW.onpopstate;\n  WINDOW.onpopstate = function ( ...args) {\n    const to = WINDOW.location.href;\n    // keep track of the current URL state, as we always receive only the updated state\n    const from = lastHref;\n    lastHref = to;\n    triggerHandlers('history', {\n      from,\n      to,\n    });\n    if (oldOnPopState) {\n      // Apparently this can throw in Firefox when incorrectly implemented plugin is installed.\n      // https://github.com/getsentry/sentry-javascript/issues/3344\n      // https://github.com/bugsnag/bugsnag-js/issues/469\n      try {\n        return oldOnPopState.apply(this, args);\n      } catch (_oO) {\n        // no-empty\n      }\n    }\n  };\n\n  /** @hidden */\n  function historyReplacementFunction(originalHistoryFunction) {\n    return function ( ...args) {\n      const url = args.length > 2 ? args[2] : undefined;\n      if (url) {\n        // coerce to string (this is what pushState does)\n        const from = lastHref;\n        const to = String(url);\n        // keep track of the current URL state, as we always receive only the updated state\n        lastHref = to;\n        triggerHandlers('history', {\n          from,\n          to,\n        });\n      }\n      return originalHistoryFunction.apply(this, args);\n    };\n  }\n\n  fill(WINDOW.history, 'pushState', historyReplacementFunction);\n  fill(WINDOW.history, 'replaceState', historyReplacementFunction);\n}\n\nconst debounceDuration = 1000;\nlet debounceTimerID;\nlet lastCapturedEvent;\n\n/**\n * Decide whether the current event should finish the debounce of previously captured one.\n * @param previous previously captured event\n * @param current event to be captured\n */\nfunction shouldShortcircuitPreviousDebounce(previous, current) {\n  // If there was no previous event, it should always be swapped for the new one.\n  if (!previous) {\n    return true;\n  }\n\n  // If both events have different type, then user definitely performed two separate actions. e.g. click + keypress.\n  if (previous.type !== current.type) {\n    return true;\n  }\n\n  try {\n    // If both events have the same type, it's still possible that actions were performed on different targets.\n    // e.g. 2 clicks on different buttons.\n    if (previous.target !== current.target) {\n      return true;\n    }\n  } catch (e) {\n    // just accessing `target` property can throw an exception in some rare circumstances\n    // see: https://github.com/getsentry/sentry-javascript/issues/838\n  }\n\n  // If both events have the same type _and_ same `target` (an element which triggered an event, _not necessarily_\n  // to which an event listener was attached), we treat them as the same action, as we want to capture\n  // only one breadcrumb. e.g. multiple clicks on the same button, or typing inside a user input box.\n  return false;\n}\n\n/**\n * Decide whether an event should be captured.\n * @param event event to be captured\n */\nfunction shouldSkipDOMEvent(event) {\n  // We are only interested in filtering `keypress` events for now.\n  if (event.type !== 'keypress') {\n    return false;\n  }\n\n  try {\n    const target = event.target ;\n\n    if (!target || !target.tagName) {\n      return true;\n    }\n\n    // Only consider keypress events on actual input elements. This will disregard keypresses targeting body\n    // e.g.tabbing through elements, hotkeys, etc.\n    if (target.tagName === 'INPUT' || target.tagName === 'TEXTAREA' || target.isContentEditable) {\n      return false;\n    }\n  } catch (e) {\n    // just accessing `target` property can throw an exception in some rare circumstances\n    // see: https://github.com/getsentry/sentry-javascript/issues/838\n  }\n\n  return true;\n}\n\n/**\n * Wraps addEventListener to capture UI breadcrumbs\n * @param handler function that will be triggered\n * @param globalListener indicates whether event was captured by the global event listener\n * @returns wrapped breadcrumb events handler\n * @hidden\n */\nfunction makeDOMEventHandler(handler, globalListener = false) {\n  return (event) => {\n    // It's possible this handler might trigger multiple times for the same\n    // event (e.g. event propagation through node ancestors).\n    // Ignore if we've already captured that event.\n    if (!event || lastCapturedEvent === event) {\n      return;\n    }\n\n    // We always want to skip _some_ events.\n    if (shouldSkipDOMEvent(event)) {\n      return;\n    }\n\n    const name = event.type === 'keypress' ? 'input' : event.type;\n\n    // If there is no debounce timer, it means that we can safely capture the new event and store it for future comparisons.\n    if (debounceTimerID === undefined) {\n      handler({\n        event: event,\n        name,\n        global: globalListener,\n      });\n      lastCapturedEvent = event;\n    }\n    // If there is a debounce awaiting, see if the new event is different enough to treat it as a unique one.\n    // If that's the case, emit the previous event and store locally the newly-captured DOM event.\n    else if (shouldShortcircuitPreviousDebounce(lastCapturedEvent, event)) {\n      handler({\n        event: event,\n        name,\n        global: globalListener,\n      });\n      lastCapturedEvent = event;\n    }\n\n    // Start a new debounce timer that will prevent us from capturing multiple events that should be grouped together.\n    clearTimeout(debounceTimerID);\n    debounceTimerID = WINDOW.setTimeout(() => {\n      debounceTimerID = undefined;\n    }, debounceDuration);\n  };\n}\n\n/** JSDoc */\nfunction instrumentDOM() {\n  if (!('document' in WINDOW)) {\n    return;\n  }\n\n  // Make it so that any click or keypress that is unhandled / bubbled up all the way to the document triggers our dom\n  // handlers. (Normally we have only one, which captures a breadcrumb for each click or keypress.) Do this before\n  // we instrument `addEventListener` so that we don't end up attaching this handler twice.\n  const triggerDOMHandler = triggerHandlers.bind(null, 'dom');\n  const globalDOMEventHandler = makeDOMEventHandler(triggerDOMHandler, true);\n  WINDOW.document.addEventListener('click', globalDOMEventHandler, false);\n  WINDOW.document.addEventListener('keypress', globalDOMEventHandler, false);\n\n  // After hooking into click and keypress events bubbled up to `document`, we also hook into user-handled\n  // clicks & keypresses, by adding an event listener of our own to any element to which they add a listener. That\n  // way, whenever one of their handlers is triggered, ours will be, too. (This is needed because their handler\n  // could potentially prevent the event from bubbling up to our global listeners. This way, our handler are still\n  // guaranteed to fire at least once.)\n  ['EventTarget', 'Node'].forEach((target) => {\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n    const proto = (WINDOW )[target] && (WINDOW )[target].prototype;\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access, no-prototype-builtins\n    if (!proto || !proto.hasOwnProperty || !proto.hasOwnProperty('addEventListener')) {\n      return;\n    }\n\n    fill(proto, 'addEventListener', function (originalAddEventListener) {\n      return function (\n\n        type,\n        listener,\n        options,\n      ) {\n        if (type === 'click' || type == 'keypress') {\n          try {\n            const el = this ;\n            const handlers = (el.__sentry_instrumentation_handlers__ = el.__sentry_instrumentation_handlers__ || {});\n            const handlerForType = (handlers[type] = handlers[type] || { refCount: 0 });\n\n            if (!handlerForType.handler) {\n              const handler = makeDOMEventHandler(triggerDOMHandler);\n              handlerForType.handler = handler;\n              originalAddEventListener.call(this, type, handler, options);\n            }\n\n            handlerForType.refCount++;\n          } catch (e) {\n            // Accessing dom properties is always fragile.\n            // Also allows us to skip `addEventListenrs` calls with no proper `this` context.\n          }\n        }\n\n        return originalAddEventListener.call(this, type, listener, options);\n      };\n    });\n\n    fill(\n      proto,\n      'removeEventListener',\n      function (originalRemoveEventListener) {\n        return function (\n\n          type,\n          listener,\n          options,\n        ) {\n          if (type === 'click' || type == 'keypress') {\n            try {\n              const el = this ;\n              const handlers = el.__sentry_instrumentation_handlers__ || {};\n              const handlerForType = handlers[type];\n\n              if (handlerForType) {\n                handlerForType.refCount--;\n                // If there are no longer any custom handlers of the current type on this element, we can remove ours, too.\n                if (handlerForType.refCount <= 0) {\n                  originalRemoveEventListener.call(this, type, handlerForType.handler, options);\n                  handlerForType.handler = undefined;\n                  delete handlers[type]; // eslint-disable-line @typescript-eslint/no-dynamic-delete\n                }\n\n                // If there are no longer any custom handlers of any type on this element, cleanup everything.\n                if (Object.keys(handlers).length === 0) {\n                  delete el.__sentry_instrumentation_handlers__;\n                }\n              }\n            } catch (e) {\n              // Accessing dom properties is always fragile.\n              // Also allows us to skip `addEventListenrs` calls with no proper `this` context.\n            }\n          }\n\n          return originalRemoveEventListener.call(this, type, listener, options);\n        };\n      },\n    );\n  });\n}\n\nlet _oldOnErrorHandler = null;\n/** JSDoc */\nfunction instrumentError() {\n  _oldOnErrorHandler = WINDOW.onerror;\n\n  WINDOW.onerror = function (msg, url, line, column, error) {\n    triggerHandlers('error', {\n      column,\n      error,\n      line,\n      msg,\n      url,\n    });\n\n    if (_oldOnErrorHandler) {\n      // eslint-disable-next-line prefer-rest-params\n      return _oldOnErrorHandler.apply(this, arguments);\n    }\n\n    return false;\n  };\n}\n\nlet _oldOnUnhandledRejectionHandler = null;\n/** JSDoc */\nfunction instrumentUnhandledRejection() {\n  _oldOnUnhandledRejectionHandler = WINDOW.onunhandledrejection;\n\n  WINDOW.onunhandledrejection = function (e) {\n    triggerHandlers('unhandledrejection', e);\n\n    if (_oldOnUnhandledRejectionHandler) {\n      // eslint-disable-next-line prefer-rest-params\n      return _oldOnUnhandledRejectionHandler.apply(this, arguments);\n    }\n\n    return true;\n  };\n}\n\nexport { addInstrumentationHandler };\n//# sourceMappingURL=instrument.js.map\n","/** An error emitted by Sentry SDKs and related utilities. */\nclass SentryError extends Error {\n  /** Display name of this error instance. */\n\n   constructor( message, logLevel = 'warn') {\n    super(message);this.message = message;\n    this.name = new.target.prototype.constructor.name;\n    // This sets the prototype to be `Error`, not `SentryError`. It's unclear why we do this, but commenting this line\n    // out causes various (seemingly totally unrelated) playwright tests consistently time out. FYI, this makes\n    // instances of `SentryError` fail `obj instanceof SentryError` checks.\n    Object.setPrototypeOf(this, new.target.prototype);\n    this.logLevel = logLevel;\n  }\n}\n\nexport { SentryError };\n//# sourceMappingURL=error.js.map\n","import { SentryError } from './error.js';\n\n/** Regular expression used to parse a Dsn. */\nconst DSN_REGEX = /^(?:(\\w+):)\\/\\/(?:(\\w+)(?::(\\w+)?)?@)([\\w.-]+)(?::(\\d+))?\\/(.+)/;\n\nfunction isValidProtocol(protocol) {\n  return protocol === 'http' || protocol === 'https';\n}\n\n/**\n * Renders the string representation of this Dsn.\n *\n * By default, this will render the public representation without the password\n * component. To get the deprecated private representation, set `withPassword`\n * to true.\n *\n * @param withPassword When set to true, the password will be included.\n */\nfunction dsnToString(dsn, withPassword = false) {\n  const { host, path, pass, port, projectId, protocol, publicKey } = dsn;\n  return (\n    `${protocol}://${publicKey}${withPassword && pass ? `:${pass}` : ''}` +\n    `@${host}${port ? `:${port}` : ''}/${path ? `${path}/` : path}${projectId}`\n  );\n}\n\n/**\n * Parses a Dsn from a given string.\n *\n * @param str A Dsn as string\n * @returns Dsn as DsnComponents\n */\nfunction dsnFromString(str) {\n  const match = DSN_REGEX.exec(str);\n\n  if (!match) {\n    throw new SentryError(`Invalid Sentry Dsn: ${str}`);\n  }\n\n  const [protocol, publicKey, pass = '', host, port = '', lastPath] = match.slice(1);\n  let path = '';\n  let projectId = lastPath;\n\n  const split = projectId.split('/');\n  if (split.length > 1) {\n    path = split.slice(0, -1).join('/');\n    projectId = split.pop() ;\n  }\n\n  if (projectId) {\n    const projectMatch = projectId.match(/^\\d+/);\n    if (projectMatch) {\n      projectId = projectMatch[0];\n    }\n  }\n\n  return dsnFromComponents({ host, pass, path, projectId, port, protocol: protocol , publicKey });\n}\n\nfunction dsnFromComponents(components) {\n  return {\n    protocol: components.protocol,\n    publicKey: components.publicKey || '',\n    pass: components.pass || '',\n    host: components.host,\n    port: components.port || '',\n    path: components.path || '',\n    projectId: components.projectId,\n  };\n}\n\nfunction validateDsn(dsn) {\n  if (!(typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__)) {\n    return;\n  }\n\n  const { port, projectId, protocol } = dsn;\n\n  const requiredComponents = ['protocol', 'publicKey', 'host', 'projectId'];\n  requiredComponents.forEach(component => {\n    if (!dsn[component]) {\n      throw new SentryError(`Invalid Sentry Dsn: ${component} missing`);\n    }\n  });\n\n  if (!projectId.match(/^\\d+$/)) {\n    throw new SentryError(`Invalid Sentry Dsn: Invalid projectId ${projectId}`);\n  }\n\n  if (!isValidProtocol(protocol)) {\n    throw new SentryError(`Invalid Sentry Dsn: Invalid protocol ${protocol}`);\n  }\n\n  if (port && isNaN(parseInt(port, 10))) {\n    throw new SentryError(`Invalid Sentry Dsn: Invalid port ${port}`);\n  }\n\n  return true;\n}\n\n/** The Sentry Dsn, identifying a Sentry instance and project. */\nfunction makeDsn(from) {\n  const components = typeof from === 'string' ? dsnFromString(from) : dsnFromComponents(from);\n  validateDsn(components);\n  return components;\n}\n\nexport { dsnFromString, dsnToString, makeDsn };\n//# sourceMappingURL=dsn.js.map\n","import { isNaN, isSyntheticEvent } from './is.js';\nimport { memoBuilder } from './memo.js';\nimport { convertToPlainObject } from './object.js';\nimport { getFunctionName } from './stacktrace.js';\n\n/**\n * Recursively normalizes the given object.\n *\n * - Creates a copy to prevent original input mutation\n * - Skips non-enumerable properties\n * - When stringifying, calls `toJSON` if implemented\n * - Removes circular references\n * - Translates non-serializable values (`undefined`/`NaN`/functions) to serializable format\n * - Translates known global objects/classes to a string representations\n * - Takes care of `Error` object serialization\n * - Optionally limits depth of final output\n * - Optionally limits number of properties/elements included in any single object/array\n *\n * @param input The object to be normalized.\n * @param depth The max depth to which to normalize the object. (Anything deeper stringified whole.)\n * @param maxProperties The max number of elements or properties to be included in any single array or\n * object in the normallized output.\n * @returns A normalized version of the object, or `\"**non-serializable**\"` if any errors are thrown during normalization.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction normalize(input, depth = +Infinity, maxProperties = +Infinity) {\n  try {\n    // since we're at the outermost level, we don't provide a key\n    return visit('', input, depth, maxProperties);\n  } catch (err) {\n    return { ERROR: `**non-serializable** (${err})` };\n  }\n}\n\n/** JSDoc */\nfunction normalizeToSize(\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  object,\n  // Default Node.js REPL depth\n  depth = 3,\n  // 100kB, as 200kB is max payload size, so half sounds reasonable\n  maxSize = 100 * 1024,\n) {\n  const normalized = normalize(object, depth);\n\n  if (jsonSize(normalized) > maxSize) {\n    return normalizeToSize(object, depth - 1, maxSize);\n  }\n\n  return normalized ;\n}\n\n/**\n * Visits a node to perform normalization on it\n *\n * @param key The key corresponding to the given node\n * @param value The node to be visited\n * @param depth Optional number indicating the maximum recursion depth\n * @param maxProperties Optional maximum number of properties/elements included in any single object/array\n * @param memo Optional Memo class handling decycling\n */\nfunction visit(\n  key,\n  value,\n  depth = +Infinity,\n  maxProperties = +Infinity,\n  memo = memoBuilder(),\n) {\n  const [memoize, unmemoize] = memo;\n\n  // Get the simple cases out of the way first\n  if (value === null || (['number', 'boolean', 'string'].includes(typeof value) && !isNaN(value))) {\n    return value ;\n  }\n\n  const stringified = stringifyValue(key, value);\n\n  // Anything we could potentially dig into more (objects or arrays) will have come back as `\"[object XXXX]\"`.\n  // Everything else will have already been serialized, so if we don't see that pattern, we're done.\n  if (!stringified.startsWith('[object ')) {\n    return stringified;\n  }\n\n  // From here on, we can assert that `value` is either an object or an array.\n\n  // Do not normalize objects that we know have already been normalized. As a general rule, the\n  // \"__sentry_skip_normalization__\" property should only be used sparingly and only should only be set on objects that\n  // have already been normalized.\n  if ((value )['__sentry_skip_normalization__']) {\n    return value ;\n  }\n\n  // We're also done if we've reached the max depth\n  if (depth === 0) {\n    // At this point we know `serialized` is a string of the form `\"[object XXXX]\"`. Clean it up so it's just `\"[XXXX]\"`.\n    return stringified.replace('object ', '');\n  }\n\n  // If we've already visited this branch, bail out, as it's circular reference. If not, note that we're seeing it now.\n  if (memoize(value)) {\n    return '[Circular ~]';\n  }\n\n  // If the value has a `toJSON` method, we call it to extract more information\n  const valueWithToJSON = value ;\n  if (valueWithToJSON && typeof valueWithToJSON.toJSON === 'function') {\n    try {\n      const jsonValue = valueWithToJSON.toJSON();\n      // We need to normalize the return value of `.toJSON()` in case it has circular references\n      return visit('', jsonValue, depth - 1, maxProperties, memo);\n    } catch (err) {\n      // pass (The built-in `toJSON` failed, but we can still try to do it ourselves)\n    }\n  }\n\n  // At this point we know we either have an object or an array, we haven't seen it before, and we're going to recurse\n  // because we haven't yet reached the max depth. Create an accumulator to hold the results of visiting each\n  // property/entry, and keep track of the number of items we add to it.\n  const normalized = (Array.isArray(value) ? [] : {}) ;\n  let numAdded = 0;\n\n  // Before we begin, convert`Error` and`Event` instances into plain objects, since some of each of their relevant\n  // properties are non-enumerable and otherwise would get missed.\n  const visitable = convertToPlainObject(value );\n\n  for (const visitKey in visitable) {\n    // Avoid iterating over fields in the prototype if they've somehow been exposed to enumeration.\n    if (!Object.prototype.hasOwnProperty.call(visitable, visitKey)) {\n      continue;\n    }\n\n    if (numAdded >= maxProperties) {\n      normalized[visitKey] = '[MaxProperties ~]';\n      break;\n    }\n\n    // Recursively visit all the child nodes\n    const visitValue = visitable[visitKey];\n    normalized[visitKey] = visit(visitKey, visitValue, depth - 1, maxProperties, memo);\n\n    numAdded++;\n  }\n\n  // Once we've visited all the branches, remove the parent from memo storage\n  unmemoize(value);\n\n  // Return accumulated values\n  return normalized;\n}\n\n/**\n * Stringify the given value. Handles various known special values and types.\n *\n * Not meant to be used on simple primitives which already have a string representation, as it will, for example, turn\n * the number 1231 into \"[Object Number]\", nor on `null`, as it will throw.\n *\n * @param value The value to stringify\n * @returns A stringified representation of the given value\n */\nfunction stringifyValue(\n  key,\n  // this type is a tiny bit of a cheat, since this function does handle NaN (which is technically a number), but for\n  // our internal use, it'll do\n  value,\n) {\n  try {\n    if (key === 'domain' && value && typeof value === 'object' && (value )._events) {\n      return '[Domain]';\n    }\n\n    if (key === 'domainEmitter') {\n      return '[DomainEmitter]';\n    }\n\n    // It's safe to use `global`, `window`, and `document` here in this manner, as we are asserting using `typeof` first\n    // which won't throw if they are not present.\n\n    if (typeof global !== 'undefined' && value === global) {\n      return '[Global]';\n    }\n\n    // eslint-disable-next-line no-restricted-globals\n    if (typeof window !== 'undefined' && value === window) {\n      return '[Window]';\n    }\n\n    // eslint-disable-next-line no-restricted-globals\n    if (typeof document !== 'undefined' && value === document) {\n      return '[Document]';\n    }\n\n    // React's SyntheticEvent thingy\n    if (isSyntheticEvent(value)) {\n      return '[SyntheticEvent]';\n    }\n\n    if (typeof value === 'number' && value !== value) {\n      return '[NaN]';\n    }\n\n    // this catches `undefined` (but not `null`, which is a primitive and can be serialized on its own)\n    if (value === void 0) {\n      return '[undefined]';\n    }\n\n    if (typeof value === 'function') {\n      return `[Function: ${getFunctionName(value)}]`;\n    }\n\n    if (typeof value === 'symbol') {\n      return `[${String(value)}]`;\n    }\n\n    // stringified BigInts are indistinguishable from regular numbers, so we need to label them to avoid confusion\n    if (typeof value === 'bigint') {\n      return `[BigInt: ${String(value)}]`;\n    }\n\n    // Now that we've knocked out all the special cases and the primitives, all we have left are objects. Simply casting\n    // them to strings means that instances of classes which haven't defined their `toStringTag` will just come out as\n    // `\"[object Object]\"`. If we instead look at the constructor's name (which is the same as the name of the class),\n    // we can make sure that only plain objects come out that way.\n    return `[object ${getConstructorName(value)}]`;\n  } catch (err) {\n    return `**non-serializable** (${err})`;\n  }\n}\n\nfunction getConstructorName(value) {\n  const prototype = Object.getPrototypeOf(value);\n\n  return prototype ? prototype.constructor.name : 'null prototype';\n}\n\n/** Calculates bytes size of input string */\nfunction utf8Length(value) {\n  // eslint-disable-next-line no-bitwise\n  return ~-encodeURI(value).split(/%..|./).length;\n}\n\n/** Calculates bytes size of input object */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction jsonSize(value) {\n  return utf8Length(JSON.stringify(value));\n}\n\nexport { normalize, normalizeToSize, visit as walk };\n//# sourceMappingURL=normalize.js.map\n","/* eslint-disable @typescript-eslint/no-unsafe-member-access */\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\n/**\n * Helper to decycle json objects\n */\nfunction memoBuilder() {\n  const hasWeakSet = typeof WeakSet === 'function';\n  const inner = hasWeakSet ? new WeakSet() : [];\n  function memoize(obj) {\n    if (hasWeakSet) {\n      if (inner.has(obj)) {\n        return true;\n      }\n      inner.add(obj);\n      return false;\n    }\n    // eslint-disable-next-line @typescript-eslint/prefer-for-of\n    for (let i = 0; i < inner.length; i++) {\n      const value = inner[i];\n      if (value === obj) {\n        return true;\n      }\n    }\n    inner.push(obj);\n    return false;\n  }\n\n  function unmemoize(obj) {\n    if (hasWeakSet) {\n      inner.delete(obj);\n    } else {\n      for (let i = 0; i < inner.length; i++) {\n        if (inner[i] === obj) {\n          inner.splice(i, 1);\n          break;\n        }\n      }\n    }\n  }\n  return [memoize, unmemoize];\n}\n\nexport { memoBuilder };\n//# sourceMappingURL=memo.js.map\n","import { dsnToString } from './dsn.js';\nimport { normalize } from './normalize.js';\nimport { dropUndefinedKeys } from './object.js';\n\n/**\n * Creates an envelope.\n * Make sure to always explicitly provide the generic to this function\n * so that the envelope types resolve correctly.\n */\nfunction createEnvelope(headers, items = []) {\n  return [headers, items] ;\n}\n\n/**\n * Add an item to an envelope.\n * Make sure to always explicitly provide the generic to this function\n * so that the envelope types resolve correctly.\n */\nfunction addItemToEnvelope(envelope, newItem) {\n  const [headers, items] = envelope;\n  return [headers, [...items, newItem]] ;\n}\n\n/**\n * Convenience function to loop through the items and item types of an envelope.\n * (This function was mostly created because working with envelope types is painful at the moment)\n */\nfunction forEachEnvelopeItem(\n  envelope,\n  callback,\n) {\n  const envelopeItems = envelope[1];\n  envelopeItems.forEach((envelopeItem) => {\n    const envelopeItemType = envelopeItem[0].type;\n    callback(envelopeItem, envelopeItemType);\n  });\n}\n\n/**\n * Encode a string to UTF8.\n */\nfunction encodeUTF8(input, textEncoder) {\n  const utf8 = textEncoder || new TextEncoder();\n  return utf8.encode(input);\n}\n\n/**\n * Serializes an envelope.\n */\nfunction serializeEnvelope(envelope, textEncoder) {\n  const [envHeaders, items] = envelope;\n\n  // Initially we construct our envelope as a string and only convert to binary chunks if we encounter binary data\n  let parts = JSON.stringify(envHeaders);\n\n  function append(next) {\n    if (typeof parts === 'string') {\n      parts = typeof next === 'string' ? parts + next : [encodeUTF8(parts, textEncoder), next];\n    } else {\n      parts.push(typeof next === 'string' ? encodeUTF8(next, textEncoder) : next);\n    }\n  }\n\n  for (const item of items) {\n    const [itemHeaders, payload] = item;\n\n    append(`\\n${JSON.stringify(itemHeaders)}\\n`);\n\n    if (typeof payload === 'string' || payload instanceof Uint8Array) {\n      append(payload);\n    } else {\n      let stringifiedPayload;\n      try {\n        stringifiedPayload = JSON.stringify(payload);\n      } catch (e) {\n        // In case, despite all our efforts to keep `payload` circular-dependency-free, `JSON.strinify()` still\n        // fails, we try again after normalizing it again with infinite normalization depth. This of course has a\n        // performance impact but in this case a performance hit is better than throwing.\n        stringifiedPayload = JSON.stringify(normalize(payload));\n      }\n      append(stringifiedPayload);\n    }\n  }\n\n  return typeof parts === 'string' ? parts : concatBuffers(parts);\n}\n\nfunction concatBuffers(buffers) {\n  const totalLength = buffers.reduce((acc, buf) => acc + buf.length, 0);\n\n  const merged = new Uint8Array(totalLength);\n  let offset = 0;\n  for (const buffer of buffers) {\n    merged.set(buffer, offset);\n    offset += buffer.length;\n  }\n\n  return merged;\n}\n\n/**\n * Parses an envelope\n */\nfunction parseEnvelope(\n  env,\n  textEncoder,\n  textDecoder,\n) {\n  let buffer = typeof env === 'string' ? textEncoder.encode(env) : env;\n\n  function readBinary(length) {\n    const bin = buffer.subarray(0, length);\n    // Replace the buffer with the remaining data excluding trailing newline\n    buffer = buffer.subarray(length + 1);\n    return bin;\n  }\n\n  function readJson() {\n    let i = buffer.indexOf(0xa);\n    // If we couldn't find a newline, we must have found the end of the buffer\n    if (i < 0) {\n      i = buffer.length;\n    }\n\n    return JSON.parse(textDecoder.decode(readBinary(i))) ;\n  }\n\n  const envelopeHeader = readJson();\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const items = [];\n\n  while (buffer.length) {\n    const itemHeader = readJson();\n    const binaryLength = typeof itemHeader.length === 'number' ? itemHeader.length : undefined;\n\n    items.push([itemHeader, binaryLength ? readBinary(binaryLength) : readJson()]);\n  }\n\n  return [envelopeHeader, items];\n}\n\n/**\n * Creates attachment envelope items\n */\nfunction createAttachmentEnvelopeItem(\n  attachment,\n  textEncoder,\n) {\n  const buffer = typeof attachment.data === 'string' ? encodeUTF8(attachment.data, textEncoder) : attachment.data;\n\n  return [\n    dropUndefinedKeys({\n      type: 'attachment',\n      length: buffer.length,\n      filename: attachment.filename,\n      content_type: attachment.contentType,\n      attachment_type: attachment.attachmentType,\n    }),\n    buffer,\n  ];\n}\n\nconst ITEM_TYPE_TO_DATA_CATEGORY_MAP = {\n  session: 'session',\n  sessions: 'session',\n  attachment: 'attachment',\n  transaction: 'transaction',\n  event: 'error',\n  client_report: 'internal',\n  user_report: 'default',\n  profile: 'profile',\n  replay_event: 'replay',\n  replay_recording: 'replay',\n};\n\n/**\n * Maps the type of an envelope item to a data category.\n */\nfunction envelopeItemTypeToDataCategory(type) {\n  return ITEM_TYPE_TO_DATA_CATEGORY_MAP[type];\n}\n\n/** Extracts the minimal SDK info from from the metadata or an events */\nfunction getSdkMetadataForEnvelopeHeader(metadataOrEvent) {\n  if (!metadataOrEvent || !metadataOrEvent.sdk) {\n    return;\n  }\n  const { name, version } = metadataOrEvent.sdk;\n  return { name, version };\n}\n\n/**\n * Creates event envelope headers, based on event, sdk info and tunnel\n * Note: This function was extracted from the core package to make it available in Replay\n */\nfunction createEventEnvelopeHeaders(\n  event,\n  sdkInfo,\n  tunnel,\n  dsn,\n) {\n  const dynamicSamplingContext = event.sdkProcessingMetadata && event.sdkProcessingMetadata.dynamicSamplingContext;\n\n  return {\n    event_id: event.event_id ,\n    sent_at: new Date().toISOString(),\n    ...(sdkInfo && { sdk: sdkInfo }),\n    ...(!!tunnel && { dsn: dsnToString(dsn) }),\n    ...(event.type === 'transaction' &&\n      dynamicSamplingContext && {\n        trace: dropUndefinedKeys({ ...dynamicSamplingContext }),\n      }),\n  };\n}\n\nexport { addItemToEnvelope, createAttachmentEnvelopeItem, createEnvelope, createEventEnvelopeHeaders, envelopeItemTypeToDataCategory, forEachEnvelopeItem, getSdkMetadataForEnvelopeHeader, parseEnvelope, serializeEnvelope };\n//# sourceMappingURL=envelope.js.map\n","import { makeDsn, dsnToString, urlEncode } from '@sentry/utils';\n\nconst SENTRY_API_VERSION = '7';\n\n/** Returns the prefix to construct Sentry ingestion API endpoints. */\nfunction getBaseApiEndpoint(dsn) {\n  const protocol = dsn.protocol ? `${dsn.protocol}:` : '';\n  const port = dsn.port ? `:${dsn.port}` : '';\n  return `${protocol}//${dsn.host}${port}${dsn.path ? `/${dsn.path}` : ''}/api/`;\n}\n\n/** Returns the ingest API endpoint for target. */\nfunction _getIngestEndpoint(dsn) {\n  return `${getBaseApiEndpoint(dsn)}${dsn.projectId}/envelope/`;\n}\n\n/** Returns a URL-encoded string with auth config suitable for a query string. */\nfunction _encodedAuth(dsn, sdkInfo) {\n  return urlEncode({\n    // We send only the minimum set of required information. See\n    // https://github.com/getsentry/sentry-javascript/issues/2572.\n    sentry_key: dsn.publicKey,\n    sentry_version: SENTRY_API_VERSION,\n    ...(sdkInfo && { sentry_client: `${sdkInfo.name}/${sdkInfo.version}` }),\n  });\n}\n\n/**\n * Returns the envelope endpoint URL with auth in the query string.\n *\n * Sending auth as part of the query string and not as custom HTTP headers avoids CORS preflight requests.\n */\nfunction getEnvelopeEndpointWithUrlEncodedAuth(\n  dsn,\n  // TODO (v8): Remove `tunnelOrOptions` in favor of `options`, and use the substitute code below\n  // options: ClientOptions = {} as ClientOptions,\n  tunnelOrOptions = {} ,\n) {\n  // TODO (v8): Use this code instead\n  // const { tunnel, _metadata = {} } = options;\n  // return tunnel ? tunnel : `${_getIngestEndpoint(dsn)}?${_encodedAuth(dsn, _metadata.sdk)}`;\n\n  const tunnel = typeof tunnelOrOptions === 'string' ? tunnelOrOptions : tunnelOrOptions.tunnel;\n  const sdkInfo =\n    typeof tunnelOrOptions === 'string' || !tunnelOrOptions._metadata ? undefined : tunnelOrOptions._metadata.sdk;\n\n  return tunnel ? tunnel : `${_getIngestEndpoint(dsn)}?${_encodedAuth(dsn, sdkInfo)}`;\n}\n\n/** Returns the url to the report dialog endpoint. */\nfunction getReportDialogEndpoint(\n  dsnLike,\n  dialogOptions\n\n,\n) {\n  const dsn = makeDsn(dsnLike);\n  const endpoint = `${getBaseApiEndpoint(dsn)}embed/error-page/`;\n\n  let encodedOptions = `dsn=${dsnToString(dsn)}`;\n  for (const key in dialogOptions) {\n    if (key === 'dsn') {\n      continue;\n    }\n\n    if (key === 'user') {\n      const user = dialogOptions.user;\n      if (!user) {\n        continue;\n      }\n      if (user.name) {\n        encodedOptions += `&name=${encodeURIComponent(user.name)}`;\n      }\n      if (user.email) {\n        encodedOptions += `&email=${encodeURIComponent(user.email)}`;\n      }\n    } else {\n      encodedOptions += `&${encodeURIComponent(key)}=${encodeURIComponent(dialogOptions[key] )}`;\n    }\n  }\n\n  return `${endpoint}?${encodedOptions}`;\n}\n\nexport { getEnvelopeEndpointWithUrlEncodedAuth, getReportDialogEndpoint };\n//# sourceMappingURL=api.js.map\n","import { makeDsn, logger, checkOrSetAlreadyCaught, isPrimitive, resolvedSyncPromise, addItemToEnvelope, createAttachmentEnvelopeItem, SyncPromise, rejectedSyncPromise, SentryError, isThenable, isPlainObject } from '@sentry/utils';\nimport { getEnvelopeEndpointWithUrlEncodedAuth } from './api.js';\nimport { createEventEnvelope, createSessionEnvelope } from './envelope.js';\nimport { setupIntegrations, setupIntegration } from './integration.js';\nimport { updateSession } from './session.js';\nimport { prepareEvent } from './utils/prepareEvent.js';\n\nconst ALREADY_SEEN_ERROR = \"Not capturing exception because it's already been captured.\";\n\n/**\n * Base implementation for all JavaScript SDK clients.\n *\n * Call the constructor with the corresponding options\n * specific to the client subclass. To access these options later, use\n * {@link Client.getOptions}.\n *\n * If a Dsn is specified in the options, it will be parsed and stored. Use\n * {@link Client.getDsn} to retrieve the Dsn at any moment. In case the Dsn is\n * invalid, the constructor will throw a {@link SentryException}. Note that\n * without a valid Dsn, the SDK will not send any events to Sentry.\n *\n * Before sending an event, it is passed through\n * {@link BaseClient._prepareEvent} to add SDK information and scope data\n * (breadcrumbs and context). To add more custom information, override this\n * method and extend the resulting prepared event.\n *\n * To issue automatically created events (e.g. via instrumentation), use\n * {@link Client.captureEvent}. It will prepare the event and pass it through\n * the callback lifecycle. To issue auto-breadcrumbs, use\n * {@link Client.addBreadcrumb}.\n *\n * @example\n * class NodeClient extends BaseClient<NodeOptions> {\n *   public constructor(options: NodeOptions) {\n *     super(options);\n *   }\n *\n *   // ...\n * }\n */\nclass BaseClient {\n  /** Options passed to the SDK. */\n\n  /** The client Dsn, if specified in options. Without this Dsn, the SDK will be disabled. */\n\n  /** Array of set up integrations. */\n   __init() {this._integrations = {};}\n\n  /** Indicates whether this client's integrations have been set up. */\n   __init2() {this._integrationsInitialized = false;}\n\n  /** Number of calls being processed */\n   __init3() {this._numProcessing = 0;}\n\n  /** Holds flushable  */\n   __init4() {this._outcomes = {};}\n\n  /**\n   * Initializes this client instance.\n   *\n   * @param options Options for the client.\n   */\n   constructor(options) {BaseClient.prototype.__init.call(this);BaseClient.prototype.__init2.call(this);BaseClient.prototype.__init3.call(this);BaseClient.prototype.__init4.call(this);\n    this._options = options;\n    if (options.dsn) {\n      this._dsn = makeDsn(options.dsn);\n      const url = getEnvelopeEndpointWithUrlEncodedAuth(this._dsn, options);\n      this._transport = options.transport({\n        recordDroppedEvent: this.recordDroppedEvent.bind(this),\n        ...options.transportOptions,\n        url,\n      });\n    } else {\n      (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.warn('No DSN provided, client will not do anything.');\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\n   captureException(exception, hint, scope) {\n    // ensure we haven't captured this very object before\n    if (checkOrSetAlreadyCaught(exception)) {\n      (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.log(ALREADY_SEEN_ERROR);\n      return;\n    }\n\n    let eventId = hint && hint.event_id;\n\n    this._process(\n      this.eventFromException(exception, hint)\n        .then(event => this._captureEvent(event, hint, scope))\n        .then(result => {\n          eventId = result;\n        }),\n    );\n\n    return eventId;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   captureMessage(\n    message,\n    // eslint-disable-next-line deprecation/deprecation\n    level,\n    hint,\n    scope,\n  ) {\n    let eventId = hint && hint.event_id;\n\n    const promisedEvent = isPrimitive(message)\n      ? this.eventFromMessage(String(message), level, hint)\n      : this.eventFromException(message, hint);\n\n    this._process(\n      promisedEvent\n        .then(event => this._captureEvent(event, hint, scope))\n        .then(result => {\n          eventId = result;\n        }),\n    );\n\n    return eventId;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   captureEvent(event, hint, scope) {\n    // ensure we haven't captured this very object before\n    if (hint && hint.originalException && checkOrSetAlreadyCaught(hint.originalException)) {\n      (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.log(ALREADY_SEEN_ERROR);\n      return;\n    }\n\n    let eventId = hint && hint.event_id;\n\n    this._process(\n      this._captureEvent(event, hint, scope).then(result => {\n        eventId = result;\n      }),\n    );\n\n    return eventId;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   captureSession(session) {\n    if (!this._isEnabled()) {\n      (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.warn('SDK not enabled, will not capture session.');\n      return;\n    }\n\n    if (!(typeof session.release === 'string')) {\n      (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.warn('Discarded session because of missing or non-string release');\n    } else {\n      this.sendSession(session);\n      // After sending, we set init false to indicate it's not the first occurrence\n      updateSession(session, { init: false });\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n   getDsn() {\n    return this._dsn;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   getOptions() {\n    return this._options;\n  }\n\n  /**\n   * @see SdkMetadata in @sentry/types\n   *\n   * @return The metadata of the SDK\n   */\n   getSdkMetadata() {\n    return this._options._metadata;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   getTransport() {\n    return this._transport;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   flush(timeout) {\n    const transport = this._transport;\n    if (transport) {\n      return this._isClientDoneProcessing(timeout).then(clientFinished => {\n        return transport.flush(timeout).then(transportFlushed => clientFinished && transportFlushed);\n      });\n    } else {\n      return resolvedSyncPromise(true);\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n   close(timeout) {\n    return this.flush(timeout).then(result => {\n      this.getOptions().enabled = false;\n      return result;\n    });\n  }\n\n  /**\n   * Sets up the integrations\n   */\n   setupIntegrations() {\n    if (this._isEnabled() && !this._integrationsInitialized) {\n      this._integrations = setupIntegrations(this._options.integrations);\n      this._integrationsInitialized = true;\n    }\n  }\n\n  /**\n   * Gets an installed integration by its `id`.\n   *\n   * @returns The installed integration or `undefined` if no integration with that `id` was installed.\n   */\n   getIntegrationById(integrationId) {\n    return this._integrations[integrationId];\n  }\n\n  /**\n   * @inheritDoc\n   */\n   getIntegration(integration) {\n    try {\n      return (this._integrations[integration.id] ) || null;\n    } catch (_oO) {\n      (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.warn(`Cannot retrieve integration ${integration.id} from the current Client`);\n      return null;\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n   addIntegration(integration) {\n    setupIntegration(integration, this._integrations);\n  }\n\n  /**\n   * @inheritDoc\n   */\n   sendEvent(event, hint = {}) {\n    if (this._dsn) {\n      let env = createEventEnvelope(event, this._dsn, this._options._metadata, this._options.tunnel);\n\n      for (const attachment of hint.attachments || []) {\n        env = addItemToEnvelope(\n          env,\n          createAttachmentEnvelopeItem(\n            attachment,\n            this._options.transportOptions && this._options.transportOptions.textEncoder,\n          ),\n        );\n      }\n\n      this._sendEnvelope(env);\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n   sendSession(session) {\n    if (this._dsn) {\n      const env = createSessionEnvelope(session, this._dsn, this._options._metadata, this._options.tunnel);\n      this._sendEnvelope(env);\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n   recordDroppedEvent(reason, category, _event) {\n    // Note: we use `event` in replay, where we overwrite this hook.\n\n    if (this._options.sendClientReports) {\n      // We want to track each category (error, transaction, session, replay_event) separately\n      // but still keep the distinction between different type of outcomes.\n      // We could use nested maps, but it's much easier to read and type this way.\n      // A correct type for map-based implementation if we want to go that route\n      // would be `Partial<Record<SentryRequestType, Partial<Record<Outcome, number>>>>`\n      // With typescript 4.1 we could even use template literal types\n      const key = `${reason}:${category}`;\n      (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.log(`Adding outcome: \"${key}\"`);\n\n      // The following works because undefined + 1 === NaN and NaN is falsy\n      this._outcomes[key] = this._outcomes[key] + 1 || 1;\n    }\n  }\n\n  /** Updates existing session based on the provided event */\n   _updateSessionFromEvent(session, event) {\n    let crashed = false;\n    let errored = false;\n    const exceptions = event.exception && event.exception.values;\n\n    if (exceptions) {\n      errored = true;\n\n      for (const ex of exceptions) {\n        const mechanism = ex.mechanism;\n        if (mechanism && mechanism.handled === false) {\n          crashed = true;\n          break;\n        }\n      }\n    }\n\n    // A session is updated and that session update is sent in only one of the two following scenarios:\n    // 1. Session with non terminal status and 0 errors + an error occurred -> Will set error count to 1 and send update\n    // 2. Session with non terminal status and 1 error + a crash occurred -> Will set status crashed and send update\n    const sessionNonTerminal = session.status === 'ok';\n    const shouldUpdateAndSend = (sessionNonTerminal && session.errors === 0) || (sessionNonTerminal && crashed);\n\n    if (shouldUpdateAndSend) {\n      updateSession(session, {\n        ...(crashed && { status: 'crashed' }),\n        errors: session.errors || Number(errored || crashed),\n      });\n      this.captureSession(session);\n    }\n  }\n\n  /**\n   * Determine if the client is finished processing. Returns a promise because it will wait `timeout` ms before saying\n   * \"no\" (resolving to `false`) in order to give the client a chance to potentially finish first.\n   *\n   * @param timeout The time, in ms, after which to resolve to `false` if the client is still busy. Passing `0` (or not\n   * passing anything) will make the promise wait as long as it takes for processing to finish before resolving to\n   * `true`.\n   * @returns A promise which will resolve to `true` if processing is already done or finishes before the timeout, and\n   * `false` otherwise\n   */\n   _isClientDoneProcessing(timeout) {\n    return new SyncPromise(resolve => {\n      let ticked = 0;\n      const tick = 1;\n\n      const interval = setInterval(() => {\n        if (this._numProcessing == 0) {\n          clearInterval(interval);\n          resolve(true);\n        } else {\n          ticked += tick;\n          if (timeout && ticked >= timeout) {\n            clearInterval(interval);\n            resolve(false);\n          }\n        }\n      }, tick);\n    });\n  }\n\n  /** Determines whether this SDK is enabled and a valid Dsn is present. */\n   _isEnabled() {\n    return this.getOptions().enabled !== false && this._dsn !== undefined;\n  }\n\n  /**\n   * Adds common information to events.\n   *\n   * The information includes release and environment from `options`,\n   * breadcrumbs and context (extra, tags and user) from the scope.\n   *\n   * Information that is already present in the event is never overwritten. For\n   * nested objects, such as the context, keys are merged.\n   *\n   * @param event The original event.\n   * @param hint May contain additional information about the original exception.\n   * @param scope A scope containing event metadata.\n   * @returns A new event with more information.\n   */\n   _prepareEvent(event, hint, scope) {\n    const options = this.getOptions();\n    const integrations = Object.keys(this._integrations);\n    if (!hint.integrations && integrations.length > 0) {\n      hint.integrations = integrations;\n    }\n    return prepareEvent(options, event, hint, scope);\n  }\n\n  /**\n   * Processes the event and logs an error in case of rejection\n   * @param event\n   * @param hint\n   * @param scope\n   */\n   _captureEvent(event, hint = {}, scope) {\n    return this._processEvent(event, hint, scope).then(\n      finalEvent => {\n        return finalEvent.event_id;\n      },\n      reason => {\n        if ((typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__)) {\n          // If something's gone wrong, log the error as a warning. If it's just us having used a `SentryError` for\n          // control flow, log just the message (no stack) as a log-level log.\n          const sentryError = reason ;\n          if (sentryError.logLevel === 'log') {\n            logger.log(sentryError.message);\n          } else {\n            logger.warn(sentryError);\n          }\n        }\n        return undefined;\n      },\n    );\n  }\n\n  /**\n   * Processes an event (either error or message) and sends it to Sentry.\n   *\n   * This also adds breadcrumbs and context information to the event. However,\n   * platform specific meta data (such as the User's IP address) must be added\n   * by the SDK implementor.\n   *\n   *\n   * @param event The event to send to Sentry.\n   * @param hint May contain additional information about the original exception.\n   * @param scope A scope containing event metadata.\n   * @returns A SyncPromise that resolves with the event or rejects in case event was/will not be send.\n   */\n   _processEvent(event, hint, scope) {\n    const options = this.getOptions();\n    const { sampleRate } = options;\n\n    if (!this._isEnabled()) {\n      return rejectedSyncPromise(new SentryError('SDK not enabled, will not capture event.', 'log'));\n    }\n\n    const isTransaction = isTransactionEvent(event);\n    const isError = isErrorEvent(event);\n    const eventType = event.type || 'error';\n    const beforeSendLabel = `before send for type \\`${eventType}\\``;\n\n    // 1.0 === 100% events are sent\n    // 0.0 === 0% events are sent\n    // Sampling for transaction happens somewhere else\n    if (isError && typeof sampleRate === 'number' && Math.random() > sampleRate) {\n      this.recordDroppedEvent('sample_rate', 'error', event);\n      return rejectedSyncPromise(\n        new SentryError(\n          `Discarding event because it's not included in the random sample (sampling rate = ${sampleRate})`,\n          'log',\n        ),\n      );\n    }\n\n    const dataCategory = eventType === 'replay_event' ? 'replay' : eventType;\n\n    return this._prepareEvent(event, hint, scope)\n      .then(prepared => {\n        if (prepared === null) {\n          this.recordDroppedEvent('event_processor', dataCategory, event);\n          throw new SentryError('An event processor returned `null`, will not send event.', 'log');\n        }\n\n        const isInternalException = hint.data && (hint.data ).__sentry__ === true;\n        if (isInternalException) {\n          return prepared;\n        }\n\n        const result = processBeforeSend(options, prepared, hint);\n        return _validateBeforeSendResult(result, beforeSendLabel);\n      })\n      .then(processedEvent => {\n        if (processedEvent === null) {\n          this.recordDroppedEvent('before_send', dataCategory, event);\n          throw new SentryError(`${beforeSendLabel} returned \\`null\\`, will not send event.`, 'log');\n        }\n\n        const session = scope && scope.getSession();\n        if (!isTransaction && session) {\n          this._updateSessionFromEvent(session, processedEvent);\n        }\n\n        // None of the Sentry built event processor will update transaction name,\n        // so if the transaction name has been changed by an event processor, we know\n        // it has to come from custom event processor added by a user\n        const transactionInfo = processedEvent.transaction_info;\n        if (isTransaction && transactionInfo && processedEvent.transaction !== event.transaction) {\n          const source = 'custom';\n          processedEvent.transaction_info = {\n            ...transactionInfo,\n            source,\n            changes: [\n              ...transactionInfo.changes,\n              {\n                source,\n                // use the same timestamp as the processed event.\n                timestamp: processedEvent.timestamp ,\n                propagations: transactionInfo.propagations,\n              },\n            ],\n          };\n        }\n\n        this.sendEvent(processedEvent, hint);\n        return processedEvent;\n      })\n      .then(null, reason => {\n        if (reason instanceof SentryError) {\n          throw reason;\n        }\n\n        this.captureException(reason, {\n          data: {\n            __sentry__: true,\n          },\n          originalException: reason ,\n        });\n        throw new SentryError(\n          `Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\\nReason: ${reason}`,\n        );\n      });\n  }\n\n  /**\n   * Occupies the client with processing and event\n   */\n   _process(promise) {\n    this._numProcessing++;\n    void promise.then(\n      value => {\n        this._numProcessing--;\n        return value;\n      },\n      reason => {\n        this._numProcessing--;\n        return reason;\n      },\n    );\n  }\n\n  /**\n   * @inheritdoc\n   */\n   _sendEnvelope(envelope) {\n    if (this._transport && this._dsn) {\n      this._transport.send(envelope).then(null, reason => {\n        (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.error('Error while sending event:', reason);\n      });\n    } else {\n      (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.error('Transport disabled');\n    }\n  }\n\n  /**\n   * Clears outcomes on this client and returns them.\n   */\n   _clearOutcomes() {\n    const outcomes = this._outcomes;\n    this._outcomes = {};\n    return Object.keys(outcomes).map(key => {\n      const [reason, category] = key.split(':') ;\n      return {\n        reason,\n        category,\n        quantity: outcomes[key],\n      };\n    });\n  }\n\n  /**\n   * @inheritDoc\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\n\n}\n\n/**\n * Verifies that return value of configured `beforeSend` or `beforeSendTransaction` is of expected type, and returns the value if so.\n */\nfunction _validateBeforeSendResult(\n  beforeSendResult,\n  beforeSendLabel,\n) {\n  const invalidValueError = `${beforeSendLabel} must return \\`null\\` or a valid event.`;\n  if (isThenable(beforeSendResult)) {\n    return beforeSendResult.then(\n      event => {\n        if (!isPlainObject(event) && event !== null) {\n          throw new SentryError(invalidValueError);\n        }\n        return event;\n      },\n      e => {\n        throw new SentryError(`${beforeSendLabel} rejected with ${e}`);\n      },\n    );\n  } else if (!isPlainObject(beforeSendResult) && beforeSendResult !== null) {\n    throw new SentryError(invalidValueError);\n  }\n  return beforeSendResult;\n}\n\n/**\n * Process the matching `beforeSendXXX` callback.\n */\nfunction processBeforeSend(\n  options,\n  event,\n  hint,\n) {\n  const { beforeSend, beforeSendTransaction } = options;\n\n  if (isErrorEvent(event) && beforeSend) {\n    return beforeSend(event, hint);\n  }\n\n  if (isTransactionEvent(event) && beforeSendTransaction) {\n    return beforeSendTransaction(event, hint);\n  }\n\n  return event;\n}\n\nfunction isErrorEvent(event) {\n  return event.type === undefined;\n}\n\nfunction isTransactionEvent(event) {\n  return event.type === 'transaction';\n}\n\nexport { BaseClient };\n//# sourceMappingURL=baseclient.js.map\n","import { getSdkMetadataForEnvelopeHeader, dsnToString, createEnvelope, createEventEnvelopeHeaders } from '@sentry/utils';\n\n/**\n * Apply SdkInfo (name, version, packages, integrations) to the corresponding event key.\n * Merge with existing data if any.\n **/\nfunction enhanceEventWithSdkInfo(event, sdkInfo) {\n  if (!sdkInfo) {\n    return event;\n  }\n  event.sdk = event.sdk || {};\n  event.sdk.name = event.sdk.name || sdkInfo.name;\n  event.sdk.version = event.sdk.version || sdkInfo.version;\n  event.sdk.integrations = [...(event.sdk.integrations || []), ...(sdkInfo.integrations || [])];\n  event.sdk.packages = [...(event.sdk.packages || []), ...(sdkInfo.packages || [])];\n  return event;\n}\n\n/** Creates an envelope from a Session */\nfunction createSessionEnvelope(\n  session,\n  dsn,\n  metadata,\n  tunnel,\n) {\n  const sdkInfo = getSdkMetadataForEnvelopeHeader(metadata);\n  const envelopeHeaders = {\n    sent_at: new Date().toISOString(),\n    ...(sdkInfo && { sdk: sdkInfo }),\n    ...(!!tunnel && { dsn: dsnToString(dsn) }),\n  };\n\n  const envelopeItem =\n    'aggregates' in session ? [{ type: 'sessions' }, session] : [{ type: 'session' }, session];\n\n  return createEnvelope(envelopeHeaders, [envelopeItem]);\n}\n\n/**\n * Create an Envelope from an event.\n */\nfunction createEventEnvelope(\n  event,\n  dsn,\n  metadata,\n  tunnel,\n) {\n  const sdkInfo = getSdkMetadataForEnvelopeHeader(metadata);\n\n  /*\n    Note: Due to TS, event.type may be `replay_event`, theoretically.\n    In practice, we never call `createEventEnvelope` with `replay_event` type,\n    and we'd have to adjut a looot of types to make this work properly.\n    We want to avoid casting this around, as that could lead to bugs (e.g. when we add another type)\n    So the safe choice is to really guard against the replay_event type here.\n  */\n  const eventType = event.type && event.type !== 'replay_event' ? event.type : 'event';\n\n  enhanceEventWithSdkInfo(event, metadata && metadata.sdk);\n\n  const envelopeHeaders = createEventEnvelopeHeaders(event, sdkInfo, tunnel, dsn);\n\n  // Prevent this data (which, if it exists, was used in earlier steps in the processing pipeline) from being sent to\n  // sentry. (Note: Our use of this property comes and goes with whatever we might be debugging, whatever hacks we may\n  // have temporarily added, etc. Even if we don't happen to be using it at some point in the future, let's not get rid\n  // of this `delete`, lest we miss putting it back in the next time the property is in use.)\n  delete event.sdkProcessingMetadata;\n\n  const eventItem = [{ type: eventType }, event];\n  return createEnvelope(envelopeHeaders, [eventItem]);\n}\n\nexport { createEventEnvelope, createSessionEnvelope };\n//# sourceMappingURL=envelope.js.map\n","import { uuid4, dateTimestampInSeconds, resolvedSyncPromise, truncate, normalize } from '@sentry/utils';\nimport { Scope } from '../scope.js';\n\n/**\n * Adds common information to events.\n *\n * The information includes release and environment from `options`,\n * breadcrumbs and context (extra, tags and user) from the scope.\n *\n * Information that is already present in the event is never overwritten. For\n * nested objects, such as the context, keys are merged.\n *\n * Note: This also triggers callbacks for `addGlobalEventProcessor`, but not `beforeSend`.\n *\n * @param event The original event.\n * @param hint May contain additional information about the original exception.\n * @param scope A scope containing event metadata.\n * @returns A new event with more information.\n * @hidden\n */\nfunction prepareEvent(\n  options,\n  event,\n  hint,\n  scope,\n) {\n  const { normalizeDepth = 3, normalizeMaxBreadth = 1000 } = options;\n  const prepared = {\n    ...event,\n    event_id: event.event_id || hint.event_id || uuid4(),\n    timestamp: event.timestamp || dateTimestampInSeconds(),\n  };\n  const integrations = hint.integrations || options.integrations.map(i => i.name);\n\n  applyClientOptions(prepared, options);\n  applyIntegrationsMetadata(prepared, integrations);\n\n  // If we have scope given to us, use it as the base for further modifications.\n  // This allows us to prevent unnecessary copying of data if `captureContext` is not provided.\n  let finalScope = scope;\n  if (hint.captureContext) {\n    finalScope = Scope.clone(finalScope).update(hint.captureContext);\n  }\n\n  // We prepare the result here with a resolved Event.\n  let result = resolvedSyncPromise(prepared);\n\n  // This should be the last thing called, since we want that\n  // {@link Hub.addEventProcessor} gets the finished prepared event.\n  //\n  // We need to check for the existence of `finalScope.getAttachments`\n  // because `getAttachments` can be undefined if users are using an older version\n  // of `@sentry/core` that does not have the `getAttachments` method.\n  // See: https://github.com/getsentry/sentry-javascript/issues/5229\n  if (finalScope) {\n    // Collect attachments from the hint and scope\n    if (finalScope.getAttachments) {\n      const attachments = [...(hint.attachments || []), ...finalScope.getAttachments()];\n\n      if (attachments.length) {\n        hint.attachments = attachments;\n      }\n    }\n\n    // In case we have a hub we reassign it.\n    result = finalScope.applyToEvent(prepared, hint);\n  }\n\n  return result.then(evt => {\n    if (typeof normalizeDepth === 'number' && normalizeDepth > 0) {\n      return normalizeEvent(evt, normalizeDepth, normalizeMaxBreadth);\n    }\n    return evt;\n  });\n}\n\n/**\n *  Enhances event using the client configuration.\n *  It takes care of all \"static\" values like environment, release and `dist`,\n *  as well as truncating overly long values.\n * @param event event instance to be enhanced\n */\nfunction applyClientOptions(event, options) {\n  const { environment, release, dist, maxValueLength = 250 } = options;\n\n  if (!('environment' in event)) {\n    event.environment = 'environment' in options ? environment : 'production';\n  }\n\n  if (event.release === undefined && release !== undefined) {\n    event.release = release;\n  }\n\n  if (event.dist === undefined && dist !== undefined) {\n    event.dist = dist;\n  }\n\n  if (event.message) {\n    event.message = truncate(event.message, maxValueLength);\n  }\n\n  const exception = event.exception && event.exception.values && event.exception.values[0];\n  if (exception && exception.value) {\n    exception.value = truncate(exception.value, maxValueLength);\n  }\n\n  const request = event.request;\n  if (request && request.url) {\n    request.url = truncate(request.url, maxValueLength);\n  }\n}\n\n/**\n * This function adds all used integrations to the SDK info in the event.\n * @param event The event that will be filled with all integrations.\n */\nfunction applyIntegrationsMetadata(event, integrationNames) {\n  if (integrationNames.length > 0) {\n    event.sdk = event.sdk || {};\n    event.sdk.integrations = [...(event.sdk.integrations || []), ...integrationNames];\n  }\n}\n\n/**\n * Applies `normalize` function on necessary `Event` attributes to make them safe for serialization.\n * Normalized keys:\n * - `breadcrumbs.data`\n * - `user`\n * - `contexts`\n * - `extra`\n * @param event Event\n * @returns Normalized event\n */\nfunction normalizeEvent(event, depth, maxBreadth) {\n  if (!event) {\n    return null;\n  }\n\n  const normalized = {\n    ...event,\n    ...(event.breadcrumbs && {\n      breadcrumbs: event.breadcrumbs.map(b => ({\n        ...b,\n        ...(b.data && {\n          data: normalize(b.data, depth, maxBreadth),\n        }),\n      })),\n    }),\n    ...(event.user && {\n      user: normalize(event.user, depth, maxBreadth),\n    }),\n    ...(event.contexts && {\n      contexts: normalize(event.contexts, depth, maxBreadth),\n    }),\n    ...(event.extra && {\n      extra: normalize(event.extra, depth, maxBreadth),\n    }),\n  };\n\n  // event.contexts.trace stores information about a Transaction. Similarly,\n  // event.spans[] stores information about child Spans. Given that a\n  // Transaction is conceptually a Span, normalization should apply to both\n  // Transactions and Spans consistently.\n  // For now the decision is to skip normalization of Transactions and Spans,\n  // so this block overwrites the normalized event to add back the original\n  // Transaction information prior to normalization.\n  if (event.contexts && event.contexts.trace && normalized.contexts) {\n    normalized.contexts.trace = event.contexts.trace;\n\n    // event.contexts.trace.data may contain circular/dangerous data so we need to normalize it\n    if (event.contexts.trace.data) {\n      normalized.contexts.trace.data = normalize(event.contexts.trace.data, depth, maxBreadth);\n    }\n  }\n\n  // event.spans[].data may contain circular/dangerous data so we need to normalize it\n  if (event.spans) {\n    normalized.spans = event.spans.map(span => {\n      // We cannot use the spread operator here because `toJSON` on `span` is non-enumerable\n      if (span.data) {\n        span.data = normalize(span.data, depth, maxBreadth);\n      }\n      return span;\n    });\n  }\n\n  return normalized;\n}\n\nexport { prepareEvent };\n//# sourceMappingURL=prepareEvent.js.map\n","const SDK_VERSION = '7.37.2';\n\nexport { SDK_VERSION };\n//# sourceMappingURL=version.js.map\n","import { getCurrentHub } from '@sentry/core';\nimport { addExceptionMechanism, resolvedSyncPromise, isErrorEvent, isDOMError, isDOMException, addExceptionTypeValue, isError, isPlainObject, isEvent, extractExceptionKeysForMessage, normalizeToSize } from '@sentry/utils';\n\n/**\n * This function creates an exception from a JavaScript Error\n */\nfunction exceptionFromError(stackParser, ex) {\n  // Get the frames first since Opera can lose the stack if we touch anything else first\n  const frames = parseStackFrames(stackParser, ex);\n\n  const exception = {\n    type: ex && ex.name,\n    value: extractMessage(ex),\n  };\n\n  if (frames.length) {\n    exception.stacktrace = { frames };\n  }\n\n  if (exception.type === undefined && exception.value === '') {\n    exception.value = 'Unrecoverable error caught';\n  }\n\n  return exception;\n}\n\n/**\n * @hidden\n */\nfunction eventFromPlainObject(\n  stackParser,\n  exception,\n  syntheticException,\n  isUnhandledRejection,\n) {\n  const hub = getCurrentHub();\n  const client = hub.getClient();\n  const normalizeDepth = client && client.getOptions().normalizeDepth;\n\n  const event = {\n    exception: {\n      values: [\n        {\n          type: isEvent(exception) ? exception.constructor.name : isUnhandledRejection ? 'UnhandledRejection' : 'Error',\n          value: `Non-Error ${\n            isUnhandledRejection ? 'promise rejection' : 'exception'\n          } captured with keys: ${extractExceptionKeysForMessage(exception)}`,\n        },\n      ],\n    },\n    extra: {\n      __serialized__: normalizeToSize(exception, normalizeDepth),\n    },\n  };\n\n  if (syntheticException) {\n    const frames = parseStackFrames(stackParser, syntheticException);\n    if (frames.length) {\n      // event.exception.values[0] has been set above\n      (event.exception ).values[0].stacktrace = { frames };\n    }\n  }\n\n  return event;\n}\n\n/**\n * @hidden\n */\nfunction eventFromError(stackParser, ex) {\n  return {\n    exception: {\n      values: [exceptionFromError(stackParser, ex)],\n    },\n  };\n}\n\n/** Parses stack frames from an error */\nfunction parseStackFrames(\n  stackParser,\n  ex,\n) {\n  // Access and store the stacktrace property before doing ANYTHING\n  // else to it because Opera is not very good at providing it\n  // reliably in other circumstances.\n  const stacktrace = ex.stacktrace || ex.stack || '';\n\n  const popSize = getPopSize(ex);\n\n  try {\n    return stackParser(stacktrace, popSize);\n  } catch (e) {\n    // no-empty\n  }\n\n  return [];\n}\n\n// Based on our own mapping pattern - https://github.com/getsentry/sentry/blob/9f08305e09866c8bd6d0c24f5b0aabdd7dd6c59c/src/sentry/lang/javascript/errormapping.py#L83-L108\nconst reactMinifiedRegexp = /Minified React error #\\d+;/i;\n\nfunction getPopSize(ex) {\n  if (ex) {\n    if (typeof ex.framesToPop === 'number') {\n      return ex.framesToPop;\n    }\n\n    if (reactMinifiedRegexp.test(ex.message)) {\n      return 1;\n    }\n  }\n\n  return 0;\n}\n\n/**\n * There are cases where stacktrace.message is an Event object\n * https://github.com/getsentry/sentry-javascript/issues/1949\n * In this specific case we try to extract stacktrace.message.error.message\n */\nfunction extractMessage(ex) {\n  const message = ex && ex.message;\n  if (!message) {\n    return 'No error message';\n  }\n  if (message.error && typeof message.error.message === 'string') {\n    return message.error.message;\n  }\n  return message;\n}\n\n/**\n * Creates an {@link Event} from all inputs to `captureException` and non-primitive inputs to `captureMessage`.\n * @hidden\n */\nfunction eventFromException(\n  stackParser,\n  exception,\n  hint,\n  attachStacktrace,\n) {\n  const syntheticException = (hint && hint.syntheticException) || undefined;\n  const event = eventFromUnknownInput(stackParser, exception, syntheticException, attachStacktrace);\n  addExceptionMechanism(event); // defaults to { type: 'generic', handled: true }\n  event.level = 'error';\n  if (hint && hint.event_id) {\n    event.event_id = hint.event_id;\n  }\n  return resolvedSyncPromise(event);\n}\n\n/**\n * Builds and Event from a Message\n * @hidden\n */\nfunction eventFromMessage(\n  stackParser,\n  message,\n  // eslint-disable-next-line deprecation/deprecation\n  level = 'info',\n  hint,\n  attachStacktrace,\n) {\n  const syntheticException = (hint && hint.syntheticException) || undefined;\n  const event = eventFromString(stackParser, message, syntheticException, attachStacktrace);\n  event.level = level;\n  if (hint && hint.event_id) {\n    event.event_id = hint.event_id;\n  }\n  return resolvedSyncPromise(event);\n}\n\n/**\n * @hidden\n */\nfunction eventFromUnknownInput(\n  stackParser,\n  exception,\n  syntheticException,\n  attachStacktrace,\n  isUnhandledRejection,\n) {\n  let event;\n\n  if (isErrorEvent(exception ) && (exception ).error) {\n    // If it is an ErrorEvent with `error` property, extract it to get actual Error\n    const errorEvent = exception ;\n    return eventFromError(stackParser, errorEvent.error );\n  }\n\n  // If it is a `DOMError` (which is a legacy API, but still supported in some browsers) then we just extract the name\n  // and message, as it doesn't provide anything else. According to the spec, all `DOMExceptions` should also be\n  // `Error`s, but that's not the case in IE11, so in that case we treat it the same as we do a `DOMError`.\n  //\n  // https://developer.mozilla.org/en-US/docs/Web/API/DOMError\n  // https://developer.mozilla.org/en-US/docs/Web/API/DOMException\n  // https://webidl.spec.whatwg.org/#es-DOMException-specialness\n  if (isDOMError(exception ) || isDOMException(exception )) {\n    const domException = exception ;\n\n    if ('stack' in (exception )) {\n      event = eventFromError(stackParser, exception );\n    } else {\n      const name = domException.name || (isDOMError(domException) ? 'DOMError' : 'DOMException');\n      const message = domException.message ? `${name}: ${domException.message}` : name;\n      event = eventFromString(stackParser, message, syntheticException, attachStacktrace);\n      addExceptionTypeValue(event, message);\n    }\n    if ('code' in domException) {\n      event.tags = { ...event.tags, 'DOMException.code': `${domException.code}` };\n    }\n\n    return event;\n  }\n  if (isError(exception)) {\n    // we have a real Error object, do nothing\n    return eventFromError(stackParser, exception);\n  }\n  if (isPlainObject(exception) || isEvent(exception)) {\n    // If it's a plain object or an instance of `Event` (the built-in JS kind, not this SDK's `Event` type), serialize\n    // it manually. This will allow us to group events based on top-level keys which is much better than creating a new\n    // group on any key/value change.\n    const objectException = exception ;\n    event = eventFromPlainObject(stackParser, objectException, syntheticException, isUnhandledRejection);\n    addExceptionMechanism(event, {\n      synthetic: true,\n    });\n    return event;\n  }\n\n  // If none of previous checks were valid, then it means that it's not:\n  // - an instance of DOMError\n  // - an instance of DOMException\n  // - an instance of Event\n  // - an instance of Error\n  // - a valid ErrorEvent (one with an error property)\n  // - a plain Object\n  //\n  // So bail out and capture it as a simple message:\n  event = eventFromString(stackParser, exception , syntheticException, attachStacktrace);\n  addExceptionTypeValue(event, `${exception}`, undefined);\n  addExceptionMechanism(event, {\n    synthetic: true,\n  });\n\n  return event;\n}\n\n/**\n * @hidden\n */\nfunction eventFromString(\n  stackParser,\n  input,\n  syntheticException,\n  attachStacktrace,\n) {\n  const event = {\n    message: input,\n  };\n\n  if (attachStacktrace && syntheticException) {\n    const frames = parseStackFrames(stackParser, syntheticException);\n    if (frames.length) {\n      event.exception = {\n        values: [{ value: input, stacktrace: { frames } }],\n      };\n    }\n  }\n\n  return event;\n}\n\nexport { eventFromError, eventFromException, eventFromMessage, eventFromPlainObject, eventFromString, eventFromUnknownInput, exceptionFromError, parseStackFrames };\n//# sourceMappingURL=eventbuilder.js.map\n","import { getCurrentHub } from './hub.js';\n\n// Note: All functions in this file are typed with a return value of `ReturnType<Hub[HUB_FUNCTION]>`,\n// where HUB_FUNCTION is some method on the Hub class.\n//\n// This is done to make sure the top level SDK methods stay in sync with the hub methods.\n// Although every method here has an explicit return type, some of them (that map to void returns) do not\n// contain `return` keywords. This is done to save on bundle size, as `return` is not minifiable.\n\n/**\n * Captures an exception event and sends it to Sentry.\n *\n * @param exception An exception-like object.\n * @param captureContext Additional scope data to apply to exception event.\n * @returns The generated eventId.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\nfunction captureException(exception, captureContext) {\n  return getCurrentHub().captureException(exception, { captureContext });\n}\n\n/**\n * Captures a message event and sends it to Sentry.\n *\n * @param message The message to send to Sentry.\n * @param Severity Define the level of the message.\n * @returns The generated eventId.\n */\nfunction captureMessage(\n  message,\n  // eslint-disable-next-line deprecation/deprecation\n  captureContext,\n) {\n  // This is necessary to provide explicit scopes upgrade, without changing the original\n  // arity of the `captureMessage(message, level)` method.\n  const level = typeof captureContext === 'string' ? captureContext : undefined;\n  const context = typeof captureContext !== 'string' ? { captureContext } : undefined;\n  return getCurrentHub().captureMessage(message, level, context);\n}\n\n/**\n * Captures a manually created event and sends it to Sentry.\n *\n * @param event The event to send to Sentry.\n * @returns The generated eventId.\n */\nfunction captureEvent(event, hint) {\n  return getCurrentHub().captureEvent(event, hint);\n}\n\n/**\n * Callback to set context information onto the scope.\n * @param callback Callback function that receives Scope.\n */\nfunction configureScope(callback) {\n  getCurrentHub().configureScope(callback);\n}\n\n/**\n * Records a new breadcrumb which will be attached to future events.\n *\n * Breadcrumbs will be added to subsequent events to provide more context on\n * user's actions prior to an error or crash.\n *\n * @param breadcrumb The breadcrumb to record.\n */\nfunction addBreadcrumb(breadcrumb) {\n  getCurrentHub().addBreadcrumb(breadcrumb);\n}\n\n/**\n * Sets context data with the given name.\n * @param name of the context\n * @param context Any kind of data. This data will be normalized.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction setContext(name, context) {\n  getCurrentHub().setContext(name, context);\n}\n\n/**\n * Set an object that will be merged sent as extra data with the event.\n * @param extras Extras object to merge into current context.\n */\nfunction setExtras(extras) {\n  getCurrentHub().setExtras(extras);\n}\n\n/**\n * Set key:value that will be sent as extra data with the event.\n * @param key String of extra\n * @param extra Any kind of data. This data will be normalized.\n */\nfunction setExtra(key, extra) {\n  getCurrentHub().setExtra(key, extra);\n}\n\n/**\n * Set an object that will be merged sent as tags data with the event.\n * @param tags Tags context object to merge into current context.\n */\nfunction setTags(tags) {\n  getCurrentHub().setTags(tags);\n}\n\n/**\n * Set key:value that will be sent as tags data with the event.\n *\n * Can also be used to unset a tag, by passing `undefined`.\n *\n * @param key String key of tag\n * @param value Value of tag\n */\nfunction setTag(key, value) {\n  getCurrentHub().setTag(key, value);\n}\n\n/**\n * Updates user context information for future events.\n *\n * @param user User context object to be set in the current context. Pass `null` to unset the user.\n */\nfunction setUser(user) {\n  getCurrentHub().setUser(user);\n}\n\n/**\n * Creates a new scope with and executes the given operation within.\n * The scope is automatically removed once the operation\n * finishes or throws.\n *\n * This is essentially a convenience function for:\n *\n *     pushScope();\n *     callback();\n *     popScope();\n *\n * @param callback that will be enclosed into push/popScope.\n */\nfunction withScope(callback) {\n  getCurrentHub().withScope(callback);\n}\n\n/**\n * Starts a new `Transaction` and returns it. This is the entry point to manual tracing instrumentation.\n *\n * A tree structure can be built by adding child spans to the transaction, and child spans to other spans. To start a\n * new child span within the transaction or any span, call the respective `.startChild()` method.\n *\n * Every child span must be finished before the transaction is finished, otherwise the unfinished spans are discarded.\n *\n * The transaction must be finished with a call to its `.finish()` method, at which point the transaction with all its\n * finished child spans will be sent to Sentry.\n *\n * NOTE: This function should only be used for *manual* instrumentation. Auto-instrumentation should call\n * `startTransaction` directly on the hub.\n *\n * @param context Properties of the new `Transaction`.\n * @param customSamplingContext Information given to the transaction sampling function (along with context-dependent\n * default values). See {@link Options.tracesSampler}.\n *\n * @returns The transaction which was just started\n */\nfunction startTransaction(\n  context,\n  customSamplingContext,\n) {\n  return getCurrentHub().startTransaction({ ...context }, customSamplingContext);\n}\n\nexport { addBreadcrumb, captureEvent, captureException, captureMessage, configureScope, setContext, setExtra, setExtras, setTag, setTags, setUser, startTransaction, withScope };\n//# sourceMappingURL=exports.js.map\n","import { withScope, captureException } from '@sentry/core';\nimport { GLOBAL_OBJ, getOriginalFunction, markFunctionWrapped, addNonEnumerableProperty, addExceptionTypeValue, addExceptionMechanism } from '@sentry/utils';\n\nconst WINDOW = GLOBAL_OBJ ;\n\nlet ignoreOnError = 0;\n\n/**\n * @hidden\n */\nfunction shouldIgnoreOnError() {\n  return ignoreOnError > 0;\n}\n\n/**\n * @hidden\n */\nfunction ignoreNextOnError() {\n  // onerror should trigger before setTimeout\n  ignoreOnError++;\n  setTimeout(() => {\n    ignoreOnError--;\n  });\n}\n\n/**\n * Instruments the given function and sends an event to Sentry every time the\n * function throws an exception.\n *\n * @param fn A function to wrap. It is generally safe to pass an unbound function, because the returned wrapper always\n * has a correct `this` context.\n * @returns The wrapped function.\n * @hidden\n */\nfunction wrap(\n  fn,\n  options\n\n = {},\n  before,\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n) {\n  // for future readers what this does is wrap a function and then create\n  // a bi-directional wrapping between them.\n  //\n  // example: wrapped = wrap(original);\n  //  original.__sentry_wrapped__ -> wrapped\n  //  wrapped.__sentry_original__ -> original\n\n  if (typeof fn !== 'function') {\n    return fn;\n  }\n\n  try {\n    // if we're dealing with a function that was previously wrapped, return\n    // the original wrapper.\n    const wrapper = fn.__sentry_wrapped__;\n    if (wrapper) {\n      return wrapper;\n    }\n\n    // We don't wanna wrap it twice\n    if (getOriginalFunction(fn)) {\n      return fn;\n    }\n  } catch (e) {\n    // Just accessing custom props in some Selenium environments\n    // can cause a \"Permission denied\" exception (see raven-js#495).\n    // Bail on wrapping and return the function as-is (defers to window.onerror).\n    return fn;\n  }\n\n  /* eslint-disable prefer-rest-params */\n  // It is important that `sentryWrapped` is not an arrow function to preserve the context of `this`\n  const sentryWrapped = function () {\n    const args = Array.prototype.slice.call(arguments);\n\n    try {\n      if (before && typeof before === 'function') {\n        before.apply(this, arguments);\n      }\n\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/no-unsafe-member-access\n      const wrappedArguments = args.map((arg) => wrap(arg, options));\n\n      // Attempt to invoke user-land function\n      // NOTE: If you are a Sentry user, and you are seeing this stack frame, it\n      //       means the sentry.javascript SDK caught an error invoking your application code. This\n      //       is expected behavior and NOT indicative of a bug with sentry.javascript.\n      return fn.apply(this, wrappedArguments);\n    } catch (ex) {\n      ignoreNextOnError();\n\n      withScope((scope) => {\n        scope.addEventProcessor((event) => {\n          if (options.mechanism) {\n            addExceptionTypeValue(event, undefined, undefined);\n            addExceptionMechanism(event, options.mechanism);\n          }\n\n          event.extra = {\n            ...event.extra,\n            arguments: args,\n          };\n\n          return event;\n        });\n\n        captureException(ex);\n      });\n\n      throw ex;\n    }\n  };\n  /* eslint-enable prefer-rest-params */\n\n  // Accessing some objects may throw\n  // ref: https://github.com/getsentry/sentry-javascript/issues/1168\n  try {\n    for (const property in fn) {\n      if (Object.prototype.hasOwnProperty.call(fn, property)) {\n        sentryWrapped[property] = fn[property];\n      }\n    }\n  } catch (_oO) {} // eslint-disable-line no-empty\n\n  // Signal that this function has been wrapped/filled already\n  // for both debugging and to prevent it to being wrapped/filled twice\n  markFunctionWrapped(sentryWrapped, fn);\n\n  addNonEnumerableProperty(fn, '__sentry_wrapped__', sentryWrapped);\n\n  // Restore original function name (not all browsers allow that)\n  try {\n    const descriptor = Object.getOwnPropertyDescriptor(sentryWrapped, 'name') ;\n    if (descriptor.configurable) {\n      Object.defineProperty(sentryWrapped, 'name', {\n        get() {\n          return fn.name;\n        },\n      });\n    }\n    // eslint-disable-next-line no-empty\n  } catch (_oO) {}\n\n  return sentryWrapped;\n}\n\n/**\n * All properties the report dialog supports\n */\n\nexport { WINDOW, ignoreNextOnError, shouldIgnoreOnError, wrap };\n//# sourceMappingURL=helpers.js.map\n","// Note: Ideally the `SeverityLevel` type would be derived from `validSeverityLevels`, but that would mean either\n//\n// a) moving `validSeverityLevels` to `@sentry/types`,\n// b) moving the`SeverityLevel` type here, or\n// c) importing `validSeverityLevels` from here into `@sentry/types`.\n//\n// Option A would make `@sentry/types` a runtime dependency of `@sentry/utils` (not good), and options B and C would\n// create a circular dependency between `@sentry/types` and `@sentry/utils` (also not good). So a TODO accompanying the\n// type, reminding anyone who changes it to change this list also, will have to do.\n\nconst validSeverityLevels = ['fatal', 'error', 'warning', 'log', 'info', 'debug'];\n\n/**\n * Converts a string-based level into a member of the deprecated {@link Severity} enum.\n *\n * @deprecated `severityFromString` is deprecated. Please use `severityLevelFromString` instead.\n *\n * @param level String representation of Severity\n * @returns Severity\n */\nfunction severityFromString(level) {\n  return severityLevelFromString(level) ;\n}\n\n/**\n * Converts a string-based level into a `SeverityLevel`, normalizing it along the way.\n *\n * @param level String representation of desired `SeverityLevel`.\n * @returns The `SeverityLevel` corresponding to the given string, or 'log' if the string isn't a valid level.\n */\nfunction severityLevelFromString(level) {\n  return (level === 'warn' ? 'warning' : validSeverityLevels.includes(level) ? level : 'log') ;\n}\n\nexport { severityFromString, severityLevelFromString, validSeverityLevels };\n//# sourceMappingURL=severity.js.map\n","/**\n * Parses string form of URL into an object\n * // borrowed from https://tools.ietf.org/html/rfc3986#appendix-B\n * // intentionally using regex and not <a/> href parsing trick because React Native and other\n * // environments where DOM might not be available\n * @returns parsed URL object\n */\nfunction parseUrl(url)\n\n {\n  if (!url) {\n    return {};\n  }\n\n  const match = url.match(/^(([^:/?#]+):)?(\\/\\/([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$/);\n\n  if (!match) {\n    return {};\n  }\n\n  // coerce to undefined values to empty string so we don't get 'undefined'\n  const query = match[6] || '';\n  const fragment = match[8] || '';\n  return {\n    host: match[4],\n    path: match[5],\n    protocol: match[2],\n    relative: match[5] + query + fragment, // everything minus origin\n  };\n}\n\n/**\n * Strip the query string and fragment off of a given URL or path (if present)\n *\n * @param urlPath Full URL or path, including possible query string and/or fragment\n * @returns URL or path without query string or fragment\n */\nfunction stripUrlQueryAndFragment(urlPath) {\n  // eslint-disable-next-line no-useless-escape\n  return urlPath.split(/[\\?#]/, 1)[0];\n}\n\n/**\n * Returns number of URL segments of a passed string URL.\n */\nfunction getNumberOfUrlSegments(url) {\n  // split at '/' or at '\\/' to split regex urls correctly\n  return url.split(/\\\\?\\//).filter(s => s.length > 0 && s !== ',').length;\n}\n\nexport { getNumberOfUrlSegments, parseUrl, stripUrlQueryAndFragment };\n//# sourceMappingURL=url.js.map\n","import { getCurrentHub } from '@sentry/core';\nimport { addInstrumentationHandler, getEventDescription, severityLevelFromString, safeJoin, parseUrl, logger, htmlTreeAsString } from '@sentry/utils';\nimport { WINDOW } from '../helpers.js';\n\n/* eslint-disable @typescript-eslint/no-unsafe-member-access */\n\n/** JSDoc */\n\n/** maxStringLength gets capped to prevent 100 breadcrumbs exceeding 1MB event payload size */\nconst MAX_ALLOWED_STRING_LENGTH = 1024;\n\nconst BREADCRUMB_INTEGRATION_ID = 'Breadcrumbs';\n\n/**\n * Default Breadcrumbs instrumentations\n * TODO: Deprecated - with v6, this will be renamed to `Instrument`\n */\nclass Breadcrumbs  {\n  /**\n   * @inheritDoc\n   */\n   static __initStatic() {this.id = BREADCRUMB_INTEGRATION_ID;}\n\n  /**\n   * @inheritDoc\n   */\n   __init() {this.name = Breadcrumbs.id;}\n\n  /**\n   * Options of the breadcrumbs integration.\n   */\n  // This field is public, because we use it in the browser client to check if the `sentry` option is enabled.\n\n  /**\n   * @inheritDoc\n   */\n   constructor(options) {Breadcrumbs.prototype.__init.call(this);\n    this.options = {\n      console: true,\n      dom: true,\n      fetch: true,\n      history: true,\n      sentry: true,\n      xhr: true,\n      ...options,\n    };\n  }\n\n  /**\n   * Instrument browser built-ins w/ breadcrumb capturing\n   *  - Console API\n   *  - DOM API (click/typing)\n   *  - XMLHttpRequest API\n   *  - Fetch API\n   *  - History API\n   */\n   setupOnce() {\n    if (this.options.console) {\n      addInstrumentationHandler('console', _consoleBreadcrumb);\n    }\n    if (this.options.dom) {\n      addInstrumentationHandler('dom', _domBreadcrumb(this.options.dom));\n    }\n    if (this.options.xhr) {\n      addInstrumentationHandler('xhr', _xhrBreadcrumb);\n    }\n    if (this.options.fetch) {\n      addInstrumentationHandler('fetch', _fetchBreadcrumb);\n    }\n    if (this.options.history) {\n      addInstrumentationHandler('history', _historyBreadcrumb);\n    }\n  }\n\n  /**\n   * Adds a breadcrumb for Sentry events or transactions if this option is enabled.\n   */\n   addSentryBreadcrumb(event) {\n    if (this.options.sentry) {\n      getCurrentHub().addBreadcrumb(\n        {\n          category: `sentry.${event.type === 'transaction' ? 'transaction' : 'event'}`,\n          event_id: event.event_id,\n          level: event.level,\n          message: getEventDescription(event),\n        },\n        {\n          event,\n        },\n      );\n    }\n  }\n} Breadcrumbs.__initStatic();\n\n/**\n * A HOC that creaes a function that creates breadcrumbs from DOM API calls.\n * This is a HOC so that we get access to dom options in the closure.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction _domBreadcrumb(dom) {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  function _innerDomBreadcrumb(handlerData) {\n    let target;\n    let keyAttrs = typeof dom === 'object' ? dom.serializeAttribute : undefined;\n\n    let maxStringLength =\n      typeof dom === 'object' && typeof dom.maxStringLength === 'number' ? dom.maxStringLength : undefined;\n    if (maxStringLength && maxStringLength > MAX_ALLOWED_STRING_LENGTH) {\n      (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) &&\n        logger.warn(\n          `\\`dom.maxStringLength\\` cannot exceed ${MAX_ALLOWED_STRING_LENGTH}, but a value of ${maxStringLength} was configured. Sentry will use ${MAX_ALLOWED_STRING_LENGTH} instead.`,\n        );\n      maxStringLength = MAX_ALLOWED_STRING_LENGTH;\n    }\n\n    if (typeof keyAttrs === 'string') {\n      keyAttrs = [keyAttrs];\n    }\n\n    // Accessing event.target can throw (see getsentry/raven-js#838, #768)\n    try {\n      target = handlerData.event.target\n        ? htmlTreeAsString(handlerData.event.target , { keyAttrs, maxStringLength })\n        : htmlTreeAsString(handlerData.event , { keyAttrs, maxStringLength });\n    } catch (e) {\n      target = '<unknown>';\n    }\n\n    if (target.length === 0) {\n      return;\n    }\n\n    getCurrentHub().addBreadcrumb(\n      {\n        category: `ui.${handlerData.name}`,\n        message: target,\n      },\n      {\n        event: handlerData.event,\n        name: handlerData.name,\n        global: handlerData.global,\n      },\n    );\n  }\n\n  return _innerDomBreadcrumb;\n}\n\n/**\n * Creates breadcrumbs from console API calls\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction _consoleBreadcrumb(handlerData) {\n  // This is a hack to fix a Vue3-specific bug that causes an infinite loop of\n  // console warnings. This happens when a Vue template is rendered with\n  // an undeclared variable, which we try to stringify, ultimately causing\n  // Vue to issue another warning which repeats indefinitely.\n  // see: https://github.com/getsentry/sentry-javascript/pull/6010\n  // see: https://github.com/getsentry/sentry-javascript/issues/5916\n  for (let i = 0; i < handlerData.args.length; i++) {\n    if (handlerData.args[i] === 'ref=Ref<') {\n      handlerData.args[i + 1] = 'viewRef';\n      break;\n    }\n  }\n  const breadcrumb = {\n    category: 'console',\n    data: {\n      arguments: handlerData.args,\n      logger: 'console',\n    },\n    level: severityLevelFromString(handlerData.level),\n    message: safeJoin(handlerData.args, ' '),\n  };\n\n  if (handlerData.level === 'assert') {\n    if (handlerData.args[0] === false) {\n      breadcrumb.message = `Assertion failed: ${safeJoin(handlerData.args.slice(1), ' ') || 'console.assert'}`;\n      breadcrumb.data.arguments = handlerData.args.slice(1);\n    } else {\n      // Don't capture a breadcrumb for passed assertions\n      return;\n    }\n  }\n\n  getCurrentHub().addBreadcrumb(breadcrumb, {\n    input: handlerData.args,\n    level: handlerData.level,\n  });\n}\n\n/**\n * Creates breadcrumbs from XHR API calls\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction _xhrBreadcrumb(handlerData) {\n  if (handlerData.endTimestamp) {\n    // We only capture complete, non-sentry requests\n    if (handlerData.xhr.__sentry_own_request__) {\n      return;\n    }\n\n    const { method, url, status_code, body } = handlerData.xhr.__sentry_xhr__ || {};\n\n    getCurrentHub().addBreadcrumb(\n      {\n        category: 'xhr',\n        data: {\n          method,\n          url,\n          status_code,\n        },\n        type: 'http',\n      },\n      {\n        xhr: handlerData.xhr,\n        input: body,\n      },\n    );\n\n    return;\n  }\n}\n\n/**\n * Creates breadcrumbs from fetch API calls\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction _fetchBreadcrumb(handlerData) {\n  // We only capture complete fetch requests\n  if (!handlerData.endTimestamp) {\n    return;\n  }\n\n  if (handlerData.fetchData.url.match(/sentry_key/) && handlerData.fetchData.method === 'POST') {\n    // We will not create breadcrumbs for fetch requests that contain `sentry_key` (internal sentry requests)\n    return;\n  }\n\n  if (handlerData.error) {\n    getCurrentHub().addBreadcrumb(\n      {\n        category: 'fetch',\n        data: handlerData.fetchData,\n        level: 'error',\n        type: 'http',\n      },\n      {\n        data: handlerData.error,\n        input: handlerData.args,\n      },\n    );\n  } else {\n    getCurrentHub().addBreadcrumb(\n      {\n        category: 'fetch',\n        data: {\n          ...handlerData.fetchData,\n          status_code: handlerData.response.status,\n        },\n        type: 'http',\n      },\n      {\n        input: handlerData.args,\n        response: handlerData.response,\n      },\n    );\n  }\n}\n\n/**\n * Creates breadcrumbs from history API calls\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction _historyBreadcrumb(handlerData) {\n  let from = handlerData.from;\n  let to = handlerData.to;\n  const parsedLoc = parseUrl(WINDOW.location.href);\n  let parsedFrom = parseUrl(from);\n  const parsedTo = parseUrl(to);\n\n  // Initial pushState doesn't provide `from` information\n  if (!parsedFrom.path) {\n    parsedFrom = parsedLoc;\n  }\n\n  // Use only the path component of the URL if the URL matches the current\n  // document (almost all the time when using pushState)\n  if (parsedLoc.protocol === parsedTo.protocol && parsedLoc.host === parsedTo.host) {\n    to = parsedTo.relative;\n  }\n  if (parsedLoc.protocol === parsedFrom.protocol && parsedLoc.host === parsedFrom.host) {\n    from = parsedFrom.relative;\n  }\n\n  getCurrentHub().addBreadcrumb({\n    category: 'navigation',\n    data: {\n      from,\n      to,\n    },\n  });\n}\n\nexport { BREADCRUMB_INTEGRATION_ID, Breadcrumbs };\n//# sourceMappingURL=breadcrumbs.js.map\n","import { BaseClient, SDK_VERSION, getEnvelopeEndpointWithUrlEncodedAuth } from '@sentry/core';\nimport { getSDKSource, logger, createClientReportEnvelope, dsnToString, serializeEnvelope } from '@sentry/utils';\nimport { eventFromException, eventFromMessage } from './eventbuilder.js';\nimport { WINDOW } from './helpers.js';\nimport { BREADCRUMB_INTEGRATION_ID } from './integrations/breadcrumbs.js';\n\n/**\n * Configuration options for the Sentry Browser SDK.\n * @see @sentry/types Options for more information.\n */\n\n/**\n * The Sentry Browser SDK Client.\n *\n * @see BrowserOptions for documentation on configuration options.\n * @see SentryClient for usage documentation.\n */\nclass BrowserClient extends BaseClient {\n  /**\n   * Creates a new Browser SDK instance.\n   *\n   * @param options Configuration options for this SDK.\n   */\n   constructor(options) {\n    const sdkSource = WINDOW.SENTRY_SDK_SOURCE || getSDKSource();\n\n    options._metadata = options._metadata || {};\n    options._metadata.sdk = options._metadata.sdk || {\n      name: 'sentry.javascript.browser',\n      packages: [\n        {\n          name: `${sdkSource}:@sentry/browser`,\n          version: SDK_VERSION,\n        },\n      ],\n      version: SDK_VERSION,\n    };\n\n    super(options);\n\n    if (options.sendClientReports && WINDOW.document) {\n      WINDOW.document.addEventListener('visibilitychange', () => {\n        if (WINDOW.document.visibilityState === 'hidden') {\n          this._flushOutcomes();\n        }\n      });\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n   eventFromException(exception, hint) {\n    return eventFromException(this._options.stackParser, exception, hint, this._options.attachStacktrace);\n  }\n\n  /**\n   * @inheritDoc\n   */\n   eventFromMessage(\n    message,\n    // eslint-disable-next-line deprecation/deprecation\n    level = 'info',\n    hint,\n  ) {\n    return eventFromMessage(this._options.stackParser, message, level, hint, this._options.attachStacktrace);\n  }\n\n  /**\n   * @inheritDoc\n   */\n   sendEvent(event, hint) {\n    // We only want to add the sentry event breadcrumb when the user has the breadcrumb integration installed and\n    // activated its `sentry` option.\n    // We also do not want to use the `Breadcrumbs` class here directly, because we do not want it to be included in\n    // bundles, if it is not used by the SDK.\n    // This all sadly is a bit ugly, but we currently don't have a \"pre-send\" hook on the integrations so we do it this\n    // way for now.\n    const breadcrumbIntegration = this.getIntegrationById(BREADCRUMB_INTEGRATION_ID) ;\n    // We check for definedness of `addSentryBreadcrumb` in case users provided their own integration with id\n    // \"Breadcrumbs\" that does not have this function.\n    if (breadcrumbIntegration && breadcrumbIntegration.addSentryBreadcrumb) {\n      breadcrumbIntegration.addSentryBreadcrumb(event);\n    }\n\n    super.sendEvent(event, hint);\n  }\n\n  /**\n   * @inheritDoc\n   */\n   _prepareEvent(event, hint, scope) {\n    event.platform = event.platform || 'javascript';\n    return super._prepareEvent(event, hint, scope);\n  }\n\n  /**\n   * Sends client reports as an envelope.\n   */\n   _flushOutcomes() {\n    const outcomes = this._clearOutcomes();\n\n    if (outcomes.length === 0) {\n      (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.log('No outcomes to send');\n      return;\n    }\n\n    if (!this._dsn) {\n      (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.log('No dsn provided, will not send outcomes');\n      return;\n    }\n\n    (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.log('Sending outcomes:', outcomes);\n\n    const url = getEnvelopeEndpointWithUrlEncodedAuth(this._dsn, this._options);\n    const envelope = createClientReportEnvelope(outcomes, this._options.tunnel && dsnToString(this._dsn));\n\n    try {\n      const isRealNavigator = Object.prototype.toString.call(WINDOW && WINDOW.navigator) === '[object Navigator]';\n      const hasSendBeacon = isRealNavigator && typeof WINDOW.navigator.sendBeacon === 'function';\n      // Make sure beacon is not used if user configures custom transport options\n      if (hasSendBeacon && !this._options.transportOptions) {\n        // Prevent illegal invocations - https://xgwang.me/posts/you-may-not-know-beacon/#it-may-throw-error%2C-be-sure-to-catch\n        const sendBeacon = WINDOW.navigator.sendBeacon.bind(WINDOW.navigator);\n        sendBeacon(url, serializeEnvelope(envelope));\n      } else {\n        // If beacon is not supported or if they are using the tunnel option\n        // use our regular transport to send client reports to Sentry.\n        this._sendEnvelope(envelope);\n      }\n    } catch (e) {\n      (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.error(e);\n    }\n  }\n}\n\nexport { BrowserClient };\n//# sourceMappingURL=client.js.map\n","import { createEnvelope } from './envelope.js';\nimport { dateTimestampInSeconds } from './time.js';\n\n/**\n * Creates client report envelope\n * @param discarded_events An array of discard events\n * @param dsn A DSN that can be set on the header. Optional.\n */\nfunction createClientReportEnvelope(\n  discarded_events,\n  dsn,\n  timestamp,\n) {\n  const clientReportItem = [\n    { type: 'client_report' },\n    {\n      timestamp: timestamp || dateTimestampInSeconds(),\n      discarded_events,\n    },\n  ];\n  return createEnvelope(dsn ? { dsn } : {}, [clientReportItem]);\n}\n\nexport { createClientReportEnvelope };\n//# sourceMappingURL=clientreport.js.map\n","import { getCurrentHub } from '@sentry/core';\nimport { addInstrumentationHandler, isString, isPrimitive, isErrorEvent, getLocationHref, logger, addExceptionMechanism } from '@sentry/utils';\nimport { eventFromUnknownInput } from '../eventbuilder.js';\nimport { shouldIgnoreOnError } from '../helpers.js';\n\n/* eslint-disable @typescript-eslint/no-unsafe-member-access */\n\n/** Global handlers */\nclass GlobalHandlers  {\n  /**\n   * @inheritDoc\n   */\n   static __initStatic() {this.id = 'GlobalHandlers';}\n\n  /**\n   * @inheritDoc\n   */\n   __init() {this.name = GlobalHandlers.id;}\n\n  /** JSDoc */\n\n  /**\n   * Stores references functions to installing handlers. Will set to undefined\n   * after they have been run so that they are not used twice.\n   */\n   __init2() {this._installFunc = {\n    onerror: _installGlobalOnErrorHandler,\n    onunhandledrejection: _installGlobalOnUnhandledRejectionHandler,\n  };}\n\n  /** JSDoc */\n   constructor(options) {GlobalHandlers.prototype.__init.call(this);GlobalHandlers.prototype.__init2.call(this);\n    this._options = {\n      onerror: true,\n      onunhandledrejection: true,\n      ...options,\n    };\n  }\n  /**\n   * @inheritDoc\n   */\n   setupOnce() {\n    Error.stackTraceLimit = 50;\n    const options = this._options;\n\n    // We can disable guard-for-in as we construct the options object above + do checks against\n    // `this._installFunc` for the property.\n    // eslint-disable-next-line guard-for-in\n    for (const key in options) {\n      const installFunc = this._installFunc[key ];\n      if (installFunc && options[key ]) {\n        globalHandlerLog(key);\n        installFunc();\n        this._installFunc[key ] = undefined;\n      }\n    }\n  }\n} GlobalHandlers.__initStatic();\n\n/** JSDoc */\nfunction _installGlobalOnErrorHandler() {\n  addInstrumentationHandler(\n    'error',\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (data) => {\n      const [hub, stackParser, attachStacktrace] = getHubAndOptions();\n      if (!hub.getIntegration(GlobalHandlers)) {\n        return;\n      }\n      const { msg, url, line, column, error } = data;\n      if (shouldIgnoreOnError() || (error && error.__sentry_own_request__)) {\n        return;\n      }\n\n      const event =\n        error === undefined && isString(msg)\n          ? _eventFromIncompleteOnError(msg, url, line, column)\n          : _enhanceEventWithInitialFrame(\n              eventFromUnknownInput(stackParser, error || msg, undefined, attachStacktrace, false),\n              url,\n              line,\n              column,\n            );\n\n      event.level = 'error';\n\n      addMechanismAndCapture(hub, error, event, 'onerror');\n    },\n  );\n}\n\n/** JSDoc */\nfunction _installGlobalOnUnhandledRejectionHandler() {\n  addInstrumentationHandler(\n    'unhandledrejection',\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (e) => {\n      const [hub, stackParser, attachStacktrace] = getHubAndOptions();\n      if (!hub.getIntegration(GlobalHandlers)) {\n        return;\n      }\n      let error = e;\n\n      // dig the object of the rejection out of known event types\n      try {\n        // PromiseRejectionEvents store the object of the rejection under 'reason'\n        // see https://developer.mozilla.org/en-US/docs/Web/API/PromiseRejectionEvent\n        if ('reason' in e) {\n          error = e.reason;\n        }\n        // something, somewhere, (likely a browser extension) effectively casts PromiseRejectionEvents\n        // to CustomEvents, moving the `promise` and `reason` attributes of the PRE into\n        // the CustomEvent's `detail` attribute, since they're not part of CustomEvent's spec\n        // see https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent and\n        // https://github.com/getsentry/sentry-javascript/issues/2380\n        else if ('detail' in e && 'reason' in e.detail) {\n          error = e.detail.reason;\n        }\n      } catch (_oO) {\n        // no-empty\n      }\n\n      if (shouldIgnoreOnError() || (error && error.__sentry_own_request__)) {\n        return true;\n      }\n\n      const event = isPrimitive(error)\n        ? _eventFromRejectionWithPrimitive(error)\n        : eventFromUnknownInput(stackParser, error, undefined, attachStacktrace, true);\n\n      event.level = 'error';\n\n      addMechanismAndCapture(hub, error, event, 'onunhandledrejection');\n      return;\n    },\n  );\n}\n\n/**\n * Create an event from a promise rejection where the `reason` is a primitive.\n *\n * @param reason: The `reason` property of the promise rejection\n * @returns An Event object with an appropriate `exception` value\n */\nfunction _eventFromRejectionWithPrimitive(reason) {\n  return {\n    exception: {\n      values: [\n        {\n          type: 'UnhandledRejection',\n          // String() is needed because the Primitive type includes symbols (which can't be automatically stringified)\n          value: `Non-Error promise rejection captured with value: ${String(reason)}`,\n        },\n      ],\n    },\n  };\n}\n\n/**\n * This function creates a stack from an old, error-less onerror handler.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction _eventFromIncompleteOnError(msg, url, line, column) {\n  const ERROR_TYPES_RE =\n    /^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;\n\n  // If 'message' is ErrorEvent, get real message from inside\n  let message = isErrorEvent(msg) ? msg.message : msg;\n  let name = 'Error';\n\n  const groups = message.match(ERROR_TYPES_RE);\n  if (groups) {\n    name = groups[1];\n    message = groups[2];\n  }\n\n  const event = {\n    exception: {\n      values: [\n        {\n          type: name,\n          value: message,\n        },\n      ],\n    },\n  };\n\n  return _enhanceEventWithInitialFrame(event, url, line, column);\n}\n\n/** JSDoc */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction _enhanceEventWithInitialFrame(event, url, line, column) {\n  // event.exception\n  const e = (event.exception = event.exception || {});\n  // event.exception.values\n  const ev = (e.values = e.values || []);\n  // event.exception.values[0]\n  const ev0 = (ev[0] = ev[0] || {});\n  // event.exception.values[0].stacktrace\n  const ev0s = (ev0.stacktrace = ev0.stacktrace || {});\n  // event.exception.values[0].stacktrace.frames\n  const ev0sf = (ev0s.frames = ev0s.frames || []);\n\n  const colno = isNaN(parseInt(column, 10)) ? undefined : column;\n  const lineno = isNaN(parseInt(line, 10)) ? undefined : line;\n  const filename = isString(url) && url.length > 0 ? url : getLocationHref();\n\n  // event.exception.values[0].stacktrace.frames\n  if (ev0sf.length === 0) {\n    ev0sf.push({\n      colno,\n      filename,\n      function: '?',\n      in_app: true,\n      lineno,\n    });\n  }\n\n  return event;\n}\n\nfunction globalHandlerLog(type) {\n  (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.log(`Global Handler attached: ${type}`);\n}\n\nfunction addMechanismAndCapture(hub, error, event, type) {\n  addExceptionMechanism(event, {\n    handled: false,\n    type,\n  });\n  hub.captureEvent(event, {\n    originalException: error,\n  });\n}\n\nfunction getHubAndOptions() {\n  const hub = getCurrentHub();\n  const client = hub.getClient();\n  const options = (client && client.getOptions()) || {\n    stackParser: () => [],\n    attachStacktrace: false,\n  };\n  return [hub, options.stackParser, options.attachStacktrace];\n}\n\nexport { GlobalHandlers };\n//# sourceMappingURL=globalhandlers.js.map\n","import { fill, getFunctionName, getOriginalFunction } from '@sentry/utils';\nimport { WINDOW, wrap } from '../helpers.js';\n\nconst DEFAULT_EVENT_TARGET = [\n  'EventTarget',\n  'Window',\n  'Node',\n  'ApplicationCache',\n  'AudioTrackList',\n  'ChannelMergerNode',\n  'CryptoOperation',\n  'EventSource',\n  'FileReader',\n  'HTMLUnknownElement',\n  'IDBDatabase',\n  'IDBRequest',\n  'IDBTransaction',\n  'KeyOperation',\n  'MediaController',\n  'MessagePort',\n  'ModalWindow',\n  'Notification',\n  'SVGElementInstance',\n  'Screen',\n  'TextTrack',\n  'TextTrackCue',\n  'TextTrackList',\n  'WebSocket',\n  'WebSocketWorker',\n  'Worker',\n  'XMLHttpRequest',\n  'XMLHttpRequestEventTarget',\n  'XMLHttpRequestUpload',\n];\n\n/** Wrap timer functions and event targets to catch errors and provide better meta data */\nclass TryCatch  {\n  /**\n   * @inheritDoc\n   */\n   static __initStatic() {this.id = 'TryCatch';}\n\n  /**\n   * @inheritDoc\n   */\n   __init() {this.name = TryCatch.id;}\n\n  /** JSDoc */\n\n  /**\n   * @inheritDoc\n   */\n   constructor(options) {TryCatch.prototype.__init.call(this);\n    this._options = {\n      XMLHttpRequest: true,\n      eventTarget: true,\n      requestAnimationFrame: true,\n      setInterval: true,\n      setTimeout: true,\n      ...options,\n    };\n  }\n\n  /**\n   * Wrap timer functions and event targets to catch errors\n   * and provide better metadata.\n   */\n   setupOnce() {\n    if (this._options.setTimeout) {\n      fill(WINDOW, 'setTimeout', _wrapTimeFunction);\n    }\n\n    if (this._options.setInterval) {\n      fill(WINDOW, 'setInterval', _wrapTimeFunction);\n    }\n\n    if (this._options.requestAnimationFrame) {\n      fill(WINDOW, 'requestAnimationFrame', _wrapRAF);\n    }\n\n    if (this._options.XMLHttpRequest && 'XMLHttpRequest' in WINDOW) {\n      fill(XMLHttpRequest.prototype, 'send', _wrapXHR);\n    }\n\n    const eventTargetOption = this._options.eventTarget;\n    if (eventTargetOption) {\n      const eventTarget = Array.isArray(eventTargetOption) ? eventTargetOption : DEFAULT_EVENT_TARGET;\n      eventTarget.forEach(_wrapEventTarget);\n    }\n  }\n} TryCatch.__initStatic();\n\n/** JSDoc */\nfunction _wrapTimeFunction(original) {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  return function ( ...args) {\n    const originalCallback = args[0];\n    args[0] = wrap(originalCallback, {\n      mechanism: {\n        data: { function: getFunctionName(original) },\n        handled: true,\n        type: 'instrument',\n      },\n    });\n    return original.apply(this, args);\n  };\n}\n\n/** JSDoc */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction _wrapRAF(original) {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  return function ( callback) {\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n    return original.apply(this, [\n      wrap(callback, {\n        mechanism: {\n          data: {\n            function: 'requestAnimationFrame',\n            handler: getFunctionName(original),\n          },\n          handled: true,\n          type: 'instrument',\n        },\n      }),\n    ]);\n  };\n}\n\n/** JSDoc */\nfunction _wrapXHR(originalSend) {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  return function ( ...args) {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const xhr = this;\n    const xmlHttpRequestProps = ['onload', 'onerror', 'onprogress', 'onreadystatechange'];\n\n    xmlHttpRequestProps.forEach(prop => {\n      if (prop in xhr && typeof xhr[prop] === 'function') {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        fill(xhr, prop, function (original) {\n          const wrapOptions = {\n            mechanism: {\n              data: {\n                function: prop,\n                handler: getFunctionName(original),\n              },\n              handled: true,\n              type: 'instrument',\n            },\n          };\n\n          // If Instrument integration has been called before TryCatch, get the name of original function\n          const originalFunction = getOriginalFunction(original);\n          if (originalFunction) {\n            wrapOptions.mechanism.data.handler = getFunctionName(originalFunction);\n          }\n\n          // Otherwise wrap directly\n          return wrap(original, wrapOptions);\n        });\n      }\n    });\n\n    return originalSend.apply(this, args);\n  };\n}\n\n/** JSDoc */\nfunction _wrapEventTarget(target) {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const globalObject = WINDOW ;\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n  const proto = globalObject[target] && globalObject[target].prototype;\n\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access, no-prototype-builtins\n  if (!proto || !proto.hasOwnProperty || !proto.hasOwnProperty('addEventListener')) {\n    return;\n  }\n\n  fill(proto, 'addEventListener', function (original)\n\n {\n    return function (\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n      eventName,\n      fn,\n      options,\n    ) {\n      try {\n        if (typeof fn.handleEvent === 'function') {\n          // ESlint disable explanation:\n          //  First, it is generally safe to call `wrap` with an unbound function. Furthermore, using `.bind()` would\n          //  introduce a bug here, because bind returns a new function that doesn't have our\n          //  flags(like __sentry_original__) attached. `wrap` checks for those flags to avoid unnecessary wrapping.\n          //  Without those flags, every call to addEventListener wraps the function again, causing a memory leak.\n          // eslint-disable-next-line @typescript-eslint/unbound-method\n          fn.handleEvent = wrap(fn.handleEvent, {\n            mechanism: {\n              data: {\n                function: 'handleEvent',\n                handler: getFunctionName(fn),\n                target,\n              },\n              handled: true,\n              type: 'instrument',\n            },\n          });\n        }\n      } catch (err) {\n        // can sometimes get 'Permission denied to access property \"handle Event'\n      }\n\n      return original.apply(this, [\n        eventName,\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        wrap(fn , {\n          mechanism: {\n            data: {\n              function: 'addEventListener',\n              handler: getFunctionName(fn),\n              target,\n            },\n            handled: true,\n            type: 'instrument',\n          },\n        }),\n        options,\n      ]);\n    };\n  });\n\n  fill(\n    proto,\n    'removeEventListener',\n    function (\n      originalRemoveEventListener,\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    ) {\n      return function (\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n        eventName,\n        fn,\n        options,\n      ) {\n        /**\n         * There are 2 possible scenarios here:\n         *\n         * 1. Someone passes a callback, which was attached prior to Sentry initialization, or by using unmodified\n         * method, eg. `document.addEventListener.call(el, name, handler). In this case, we treat this function\n         * as a pass-through, and call original `removeEventListener` with it.\n         *\n         * 2. Someone passes a callback, which was attached after Sentry was initialized, which means that it was using\n         * our wrapped version of `addEventListener`, which internally calls `wrap` helper.\n         * This helper \"wraps\" whole callback inside a try/catch statement, and attached appropriate metadata to it,\n         * in order for us to make a distinction between wrapped/non-wrapped functions possible.\n         * If a function was wrapped, it has additional property of `__sentry_wrapped__`, holding the handler.\n         *\n         * When someone adds a handler prior to initialization, and then do it again, but after,\n         * then we have to detach both of them. Otherwise, if we'd detach only wrapped one, it'd be impossible\n         * to get rid of the initial handler and it'd stick there forever.\n         */\n        const wrappedEventHandler = fn ;\n        try {\n          const originalEventHandler = wrappedEventHandler && wrappedEventHandler.__sentry_wrapped__;\n          if (originalEventHandler) {\n            originalRemoveEventListener.call(this, eventName, originalEventHandler, options);\n          }\n        } catch (e) {\n          // ignore, accessing __sentry_wrapped__ will throw in some Selenium environments\n        }\n        return originalRemoveEventListener.call(this, eventName, wrappedEventHandler, options);\n      };\n    },\n  );\n}\n\nexport { TryCatch };\n//# sourceMappingURL=trycatch.js.map\n","import { getCurrentHub, addGlobalEventProcessor } from '@sentry/core';\nimport { isInstanceOf } from '@sentry/utils';\nimport { exceptionFromError } from '../eventbuilder.js';\n\nconst DEFAULT_KEY = 'cause';\nconst DEFAULT_LIMIT = 5;\n\n/** Adds SDK info to an event. */\nclass LinkedErrors  {\n  /**\n   * @inheritDoc\n   */\n   static __initStatic() {this.id = 'LinkedErrors';}\n\n  /**\n   * @inheritDoc\n   */\n    __init() {this.name = LinkedErrors.id;}\n\n  /**\n   * @inheritDoc\n   */\n\n  /**\n   * @inheritDoc\n   */\n\n  /**\n   * @inheritDoc\n   */\n   constructor(options = {}) {LinkedErrors.prototype.__init.call(this);\n    this._key = options.key || DEFAULT_KEY;\n    this._limit = options.limit || DEFAULT_LIMIT;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setupOnce() {\n    const client = getCurrentHub().getClient();\n    if (!client) {\n      return;\n    }\n    addGlobalEventProcessor((event, hint) => {\n      const self = getCurrentHub().getIntegration(LinkedErrors);\n      return self ? _handler(client.getOptions().stackParser, self._key, self._limit, event, hint) : event;\n    });\n  }\n} LinkedErrors.__initStatic();\n\n/**\n * @inheritDoc\n */\nfunction _handler(\n  parser,\n  key,\n  limit,\n  event,\n  hint,\n) {\n  if (!event.exception || !event.exception.values || !hint || !isInstanceOf(hint.originalException, Error)) {\n    return event;\n  }\n  const linkedErrors = _walkErrorTree(parser, limit, hint.originalException , key);\n  event.exception.values = [...linkedErrors, ...event.exception.values];\n  return event;\n}\n\n/**\n * JSDOC\n */\nfunction _walkErrorTree(\n  parser,\n  limit,\n  error,\n  key,\n  stack = [],\n) {\n  if (!isInstanceOf(error[key], Error) || stack.length + 1 >= limit) {\n    return stack;\n  }\n  const exception = exceptionFromError(parser, error[key]);\n  return _walkErrorTree(parser, limit, error[key], key, [exception, ...stack]);\n}\n\nexport { LinkedErrors, _handler, _walkErrorTree };\n//# sourceMappingURL=linkederrors.js.map\n","import { addGlobalEventProcessor, getCurrentHub } from '@sentry/core';\nimport { WINDOW } from '../helpers.js';\n\n/** HttpContext integration collects information about HTTP request headers */\nclass HttpContext  {constructor() { HttpContext.prototype.__init.call(this); }\n  /**\n   * @inheritDoc\n   */\n   static __initStatic() {this.id = 'HttpContext';}\n\n  /**\n   * @inheritDoc\n   */\n   __init() {this.name = HttpContext.id;}\n\n  /**\n   * @inheritDoc\n   */\n   setupOnce() {\n    addGlobalEventProcessor((event) => {\n      if (getCurrentHub().getIntegration(HttpContext)) {\n        // if none of the information we want exists, don't bother\n        if (!WINDOW.navigator && !WINDOW.location && !WINDOW.document) {\n          return event;\n        }\n\n        // grab as much info as exists and add it to the event\n        const url = (event.request && event.request.url) || (WINDOW.location && WINDOW.location.href);\n        const { referrer } = WINDOW.document || {};\n        const { userAgent } = WINDOW.navigator || {};\n\n        const headers = {\n          ...(event.request && event.request.headers),\n          ...(referrer && { Referer: referrer }),\n          ...(userAgent && { 'User-Agent': userAgent }),\n        };\n        const request = { ...event.request, ...(url && { url }), headers };\n\n        return { ...event, request };\n      }\n      return event;\n    });\n  }\n} HttpContext.__initStatic();\n\nexport { HttpContext };\n//# sourceMappingURL=httpcontext.js.map\n","import { logger } from '@sentry/utils';\n\n/** Deduplication filter */\nclass Dedupe  {constructor() { Dedupe.prototype.__init.call(this); }\n  /**\n   * @inheritDoc\n   */\n   static __initStatic() {this.id = 'Dedupe';}\n\n  /**\n   * @inheritDoc\n   */\n   __init() {this.name = Dedupe.id;}\n\n  /**\n   * @inheritDoc\n   */\n\n  /**\n   * @inheritDoc\n   */\n   setupOnce(addGlobalEventProcessor, getCurrentHub) {\n    const eventProcessor = currentEvent => {\n      const self = getCurrentHub().getIntegration(Dedupe);\n      if (self) {\n        // Juuust in case something goes wrong\n        try {\n          if (_shouldDropEvent(currentEvent, self._previousEvent)) {\n            (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.warn('Event dropped due to being a duplicate of previously captured event.');\n            return null;\n          }\n        } catch (_oO) {\n          return (self._previousEvent = currentEvent);\n        }\n\n        return (self._previousEvent = currentEvent);\n      }\n      return currentEvent;\n    };\n\n    eventProcessor.id = this.name;\n    addGlobalEventProcessor(eventProcessor);\n  }\n} Dedupe.__initStatic();\n\n/** JSDoc */\nfunction _shouldDropEvent(currentEvent, previousEvent) {\n  if (!previousEvent) {\n    return false;\n  }\n\n  if (_isSameMessageEvent(currentEvent, previousEvent)) {\n    return true;\n  }\n\n  if (_isSameExceptionEvent(currentEvent, previousEvent)) {\n    return true;\n  }\n\n  return false;\n}\n\n/** JSDoc */\nfunction _isSameMessageEvent(currentEvent, previousEvent) {\n  const currentMessage = currentEvent.message;\n  const previousMessage = previousEvent.message;\n\n  // If neither event has a message property, they were both exceptions, so bail out\n  if (!currentMessage && !previousMessage) {\n    return false;\n  }\n\n  // If only one event has a stacktrace, but not the other one, they are not the same\n  if ((currentMessage && !previousMessage) || (!currentMessage && previousMessage)) {\n    return false;\n  }\n\n  if (currentMessage !== previousMessage) {\n    return false;\n  }\n\n  if (!_isSameFingerprint(currentEvent, previousEvent)) {\n    return false;\n  }\n\n  if (!_isSameStacktrace(currentEvent, previousEvent)) {\n    return false;\n  }\n\n  return true;\n}\n\n/** JSDoc */\nfunction _isSameExceptionEvent(currentEvent, previousEvent) {\n  const previousException = _getExceptionFromEvent(previousEvent);\n  const currentException = _getExceptionFromEvent(currentEvent);\n\n  if (!previousException || !currentException) {\n    return false;\n  }\n\n  if (previousException.type !== currentException.type || previousException.value !== currentException.value) {\n    return false;\n  }\n\n  if (!_isSameFingerprint(currentEvent, previousEvent)) {\n    return false;\n  }\n\n  if (!_isSameStacktrace(currentEvent, previousEvent)) {\n    return false;\n  }\n\n  return true;\n}\n\n/** JSDoc */\nfunction _isSameStacktrace(currentEvent, previousEvent) {\n  let currentFrames = _getFramesFromEvent(currentEvent);\n  let previousFrames = _getFramesFromEvent(previousEvent);\n\n  // If neither event has a stacktrace, they are assumed to be the same\n  if (!currentFrames && !previousFrames) {\n    return true;\n  }\n\n  // If only one event has a stacktrace, but not the other one, they are not the same\n  if ((currentFrames && !previousFrames) || (!currentFrames && previousFrames)) {\n    return false;\n  }\n\n  currentFrames = currentFrames ;\n  previousFrames = previousFrames ;\n\n  // If number of frames differ, they are not the same\n  if (previousFrames.length !== currentFrames.length) {\n    return false;\n  }\n\n  // Otherwise, compare the two\n  for (let i = 0; i < previousFrames.length; i++) {\n    const frameA = previousFrames[i];\n    const frameB = currentFrames[i];\n\n    if (\n      frameA.filename !== frameB.filename ||\n      frameA.lineno !== frameB.lineno ||\n      frameA.colno !== frameB.colno ||\n      frameA.function !== frameB.function\n    ) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/** JSDoc */\nfunction _isSameFingerprint(currentEvent, previousEvent) {\n  let currentFingerprint = currentEvent.fingerprint;\n  let previousFingerprint = previousEvent.fingerprint;\n\n  // If neither event has a fingerprint, they are assumed to be the same\n  if (!currentFingerprint && !previousFingerprint) {\n    return true;\n  }\n\n  // If only one event has a fingerprint, but not the other one, they are not the same\n  if ((currentFingerprint && !previousFingerprint) || (!currentFingerprint && previousFingerprint)) {\n    return false;\n  }\n\n  currentFingerprint = currentFingerprint ;\n  previousFingerprint = previousFingerprint ;\n\n  // Otherwise, compare the two\n  try {\n    return !!(currentFingerprint.join('') === previousFingerprint.join(''));\n  } catch (_oO) {\n    return false;\n  }\n}\n\n/** JSDoc */\nfunction _getExceptionFromEvent(event) {\n  return event.exception && event.exception.values && event.exception.values[0];\n}\n\n/** JSDoc */\nfunction _getFramesFromEvent(event) {\n  const exception = event.exception;\n\n  if (exception) {\n    try {\n      // @ts-ignore Object could be undefined\n      return exception.values[0].stacktrace.frames;\n    } catch (_oO) {\n      return undefined;\n    }\n  }\n  return undefined;\n}\n\nexport { Dedupe };\n//# sourceMappingURL=dedupe.js.map\n","import { createStackParser } from '@sentry/utils';\n\n// global reference to slice\nconst UNKNOWN_FUNCTION = '?';\n\nconst OPERA10_PRIORITY = 10;\nconst OPERA11_PRIORITY = 20;\nconst CHROME_PRIORITY = 30;\nconst WINJS_PRIORITY = 40;\nconst GECKO_PRIORITY = 50;\n\nfunction createFrame(filename, func, lineno, colno) {\n  const frame = {\n    filename,\n    function: func,\n    // All browser frames are considered in_app\n    in_app: true,\n  };\n\n  if (lineno !== undefined) {\n    frame.lineno = lineno;\n  }\n\n  if (colno !== undefined) {\n    frame.colno = colno;\n  }\n\n  return frame;\n}\n\n// Chromium based browsers: Chrome, Brave, new Opera, new Edge\nconst chromeRegex =\n  /^\\s*at (?:(.*\\).*?|.*?) ?\\((?:address at )?)?(?:async )?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\\/)?.*?)(?::(\\d+))?(?::(\\d+))?\\)?\\s*$/i;\nconst chromeEvalRegex = /\\((\\S*)(?::(\\d+))(?::(\\d+))\\)/;\n\nconst chrome = line => {\n  const parts = chromeRegex.exec(line);\n\n  if (parts) {\n    const isEval = parts[2] && parts[2].indexOf('eval') === 0; // start of line\n\n    if (isEval) {\n      const subMatch = chromeEvalRegex.exec(parts[2]);\n\n      if (subMatch) {\n        // throw out eval line/column and use top-most line/column number\n        parts[2] = subMatch[1]; // url\n        parts[3] = subMatch[2]; // line\n        parts[4] = subMatch[3]; // column\n      }\n    }\n\n    // Kamil: One more hack won't hurt us right? Understanding and adding more rules on top of these regexps right now\n    // would be way too time consuming. (TODO: Rewrite whole RegExp to be more readable)\n    const [func, filename] = extractSafariExtensionDetails(parts[1] || UNKNOWN_FUNCTION, parts[2]);\n\n    return createFrame(filename, func, parts[3] ? +parts[3] : undefined, parts[4] ? +parts[4] : undefined);\n  }\n\n  return;\n};\n\nconst chromeStackLineParser = [CHROME_PRIORITY, chrome];\n\n// gecko regex: `(?:bundle|\\d+\\.js)`: `bundle` is for react native, `\\d+\\.js` also but specifically for ram bundles because it\n// generates filenames without a prefix like `file://` the filenames in the stacktrace are just 42.js\n// We need this specific case for now because we want no other regex to match.\nconst geckoREgex =\n  /^\\s*(.*?)(?:\\((.*?)\\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|safari-extension|safari-web-extension|capacitor)?:\\/.*?|\\[native code\\]|[^@]*(?:bundle|\\d+\\.js)|\\/[\\w\\-. /=]+)(?::(\\d+))?(?::(\\d+))?\\s*$/i;\nconst geckoEvalRegex = /(\\S+) line (\\d+)(?: > eval line \\d+)* > eval/i;\n\nconst gecko = line => {\n  const parts = geckoREgex.exec(line);\n\n  if (parts) {\n    const isEval = parts[3] && parts[3].indexOf(' > eval') > -1;\n    if (isEval) {\n      const subMatch = geckoEvalRegex.exec(parts[3]);\n\n      if (subMatch) {\n        // throw out eval line/column and use top-most line number\n        parts[1] = parts[1] || 'eval';\n        parts[3] = subMatch[1];\n        parts[4] = subMatch[2];\n        parts[5] = ''; // no column when eval\n      }\n    }\n\n    let filename = parts[3];\n    let func = parts[1] || UNKNOWN_FUNCTION;\n    [func, filename] = extractSafariExtensionDetails(func, filename);\n\n    return createFrame(filename, func, parts[4] ? +parts[4] : undefined, parts[5] ? +parts[5] : undefined);\n  }\n\n  return;\n};\n\nconst geckoStackLineParser = [GECKO_PRIORITY, gecko];\n\nconst winjsRegex =\n  /^\\s*at (?:((?:\\[object object\\])?.+) )?\\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\\d+)(?::(\\d+))?\\)?\\s*$/i;\n\nconst winjs = line => {\n  const parts = winjsRegex.exec(line);\n\n  return parts\n    ? createFrame(parts[2], parts[1] || UNKNOWN_FUNCTION, +parts[3], parts[4] ? +parts[4] : undefined)\n    : undefined;\n};\n\nconst winjsStackLineParser = [WINJS_PRIORITY, winjs];\n\nconst opera10Regex = / line (\\d+).*script (?:in )?(\\S+)(?:: in function (\\S+))?$/i;\n\nconst opera10 = line => {\n  const parts = opera10Regex.exec(line);\n  return parts ? createFrame(parts[2], parts[3] || UNKNOWN_FUNCTION, +parts[1]) : undefined;\n};\n\nconst opera10StackLineParser = [OPERA10_PRIORITY, opera10];\n\nconst opera11Regex =\n  / line (\\d+), column (\\d+)\\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\\(.*\\))? in (.*):\\s*$/i;\n\nconst opera11 = line => {\n  const parts = opera11Regex.exec(line);\n  return parts ? createFrame(parts[5], parts[3] || parts[4] || UNKNOWN_FUNCTION, +parts[1], +parts[2]) : undefined;\n};\n\nconst opera11StackLineParser = [OPERA11_PRIORITY, opera11];\n\nconst defaultStackLineParsers = [chromeStackLineParser, geckoStackLineParser, winjsStackLineParser];\n\nconst defaultStackParser = createStackParser(...defaultStackLineParsers);\n\n/**\n * Safari web extensions, starting version unknown, can produce \"frames-only\" stacktraces.\n * What it means, is that instead of format like:\n *\n * Error: wat\n *   at function@url:row:col\n *   at function@url:row:col\n *   at function@url:row:col\n *\n * it produces something like:\n *\n *   function@url:row:col\n *   function@url:row:col\n *   function@url:row:col\n *\n * Because of that, it won't be captured by `chrome` RegExp and will fall into `Gecko` branch.\n * This function is extracted so that we can use it in both places without duplicating the logic.\n * Unfortunately \"just\" changing RegExp is too complicated now and making it pass all tests\n * and fix this case seems like an impossible, or at least way too time-consuming task.\n */\nconst extractSafariExtensionDetails = (func, filename) => {\n  const isSafariExtension = func.indexOf('safari-extension') !== -1;\n  const isSafariWebExtension = func.indexOf('safari-web-extension') !== -1;\n\n  return isSafariExtension || isSafariWebExtension\n    ? [\n        func.indexOf('@') !== -1 ? func.split('@')[0] : UNKNOWN_FUNCTION,\n        isSafariExtension ? `safari-extension:${filename}` : `safari-web-extension:${filename}`,\n      ]\n    : [func, filename];\n};\n\nexport { chromeStackLineParser, defaultStackLineParsers, defaultStackParser, geckoStackLineParser, opera10StackLineParser, opera11StackLineParser, winjsStackLineParser };\n//# sourceMappingURL=stack-parsers.js.map\n","// Intentionally keeping the key broad, as we don't know for sure what rate limit headers get returned from backend\n\nconst DEFAULT_RETRY_AFTER = 60 * 1000; // 60 seconds\n\n/**\n * Extracts Retry-After value from the request header or returns default value\n * @param header string representation of 'Retry-After' header\n * @param now current unix timestamp\n *\n */\nfunction parseRetryAfterHeader(header, now = Date.now()) {\n  const headerDelay = parseInt(`${header}`, 10);\n  if (!isNaN(headerDelay)) {\n    return headerDelay * 1000;\n  }\n\n  const headerDate = Date.parse(`${header}`);\n  if (!isNaN(headerDate)) {\n    return headerDate - now;\n  }\n\n  return DEFAULT_RETRY_AFTER;\n}\n\n/**\n * Gets the time that the given category is disabled until for rate limiting.\n * In case no category-specific limit is set but a general rate limit across all categories is active,\n * that time is returned.\n *\n * @return the time in ms that the category is disabled until or 0 if there's no active rate limit.\n */\nfunction disabledUntil(limits, category) {\n  return limits[category] || limits.all || 0;\n}\n\n/**\n * Checks if a category is rate limited\n */\nfunction isRateLimited(limits, category, now = Date.now()) {\n  return disabledUntil(limits, category) > now;\n}\n\n/**\n * Update ratelimits from incoming headers.\n *\n * @return the updated RateLimits object.\n */\nfunction updateRateLimits(\n  limits,\n  { statusCode, headers },\n  now = Date.now(),\n) {\n  const updatedRateLimits = {\n    ...limits,\n  };\n\n  // \"The name is case-insensitive.\"\n  // https://developer.mozilla.org/en-US/docs/Web/API/Headers/get\n  const rateLimitHeader = headers && headers['x-sentry-rate-limits'];\n  const retryAfterHeader = headers && headers['retry-after'];\n\n  if (rateLimitHeader) {\n    /**\n     * rate limit headers are of the form\n     *     <header>,<header>,..\n     * where each <header> is of the form\n     *     <retry_after>: <categories>: <scope>: <reason_code>\n     * where\n     *     <retry_after> is a delay in seconds\n     *     <categories> is the event type(s) (error, transaction, etc) being rate limited and is of the form\n     *         <category>;<category>;...\n     *     <scope> is what's being limited (org, project, or key) - ignored by SDK\n     *     <reason_code> is an arbitrary string like \"org_quota\" - ignored by SDK\n     */\n    for (const limit of rateLimitHeader.trim().split(',')) {\n      const [retryAfter, categories] = limit.split(':', 2);\n      const headerDelay = parseInt(retryAfter, 10);\n      const delay = (!isNaN(headerDelay) ? headerDelay : 60) * 1000; // 60sec default\n      if (!categories) {\n        updatedRateLimits.all = now + delay;\n      } else {\n        for (const category of categories.split(';')) {\n          updatedRateLimits[category] = now + delay;\n        }\n      }\n    }\n  } else if (retryAfterHeader) {\n    updatedRateLimits.all = now + parseRetryAfterHeader(retryAfterHeader, now);\n  } else if (statusCode === 429) {\n    updatedRateLimits.all = now + 60 * 1000;\n  }\n\n  return updatedRateLimits;\n}\n\nexport { DEFAULT_RETRY_AFTER, disabledUntil, isRateLimited, parseRetryAfterHeader, updateRateLimits };\n//# sourceMappingURL=ratelimit.js.map\n","import { makePromiseBuffer, forEachEnvelopeItem, envelopeItemTypeToDataCategory, isRateLimited, resolvedSyncPromise, createEnvelope, SentryError, logger, serializeEnvelope, updateRateLimits } from '@sentry/utils';\n\nconst DEFAULT_TRANSPORT_BUFFER_SIZE = 30;\n\n/**\n * Creates an instance of a Sentry `Transport`\n *\n * @param options\n * @param makeRequest\n */\nfunction createTransport(\n  options,\n  makeRequest,\n  buffer = makePromiseBuffer(\n    options.bufferSize || DEFAULT_TRANSPORT_BUFFER_SIZE,\n  ),\n) {\n  let rateLimits = {};\n\n  const flush = (timeout) => buffer.drain(timeout);\n\n  function send(envelope) {\n    const filteredEnvelopeItems = [];\n\n    // Drop rate limited items from envelope\n    forEachEnvelopeItem(envelope, (item, type) => {\n      const envelopeItemDataCategory = envelopeItemTypeToDataCategory(type);\n      if (isRateLimited(rateLimits, envelopeItemDataCategory)) {\n        const event = getEventForEnvelopeItem(item, type);\n        options.recordDroppedEvent('ratelimit_backoff', envelopeItemDataCategory, event);\n      } else {\n        filteredEnvelopeItems.push(item);\n      }\n    });\n\n    // Skip sending if envelope is empty after filtering out rate limited events\n    if (filteredEnvelopeItems.length === 0) {\n      return resolvedSyncPromise();\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const filteredEnvelope = createEnvelope(envelope[0], filteredEnvelopeItems );\n\n    // Creates client report for each item in an envelope\n    const recordEnvelopeLoss = (reason) => {\n      forEachEnvelopeItem(filteredEnvelope, (item, type) => {\n        const event = getEventForEnvelopeItem(item, type);\n        options.recordDroppedEvent(reason, envelopeItemTypeToDataCategory(type), event);\n      });\n    };\n\n    const requestTask = () =>\n      makeRequest({ body: serializeEnvelope(filteredEnvelope, options.textEncoder) }).then(\n        response => {\n          // We don't want to throw on NOK responses, but we want to at least log them\n          if (response.statusCode !== undefined && (response.statusCode < 200 || response.statusCode >= 300)) {\n            (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.warn(`Sentry responded with status code ${response.statusCode} to sent event.`);\n          }\n\n          rateLimits = updateRateLimits(rateLimits, response);\n          return response;\n        },\n        error => {\n          recordEnvelopeLoss('network_error');\n          throw error;\n        },\n      );\n\n    return buffer.add(requestTask).then(\n      result => result,\n      error => {\n        if (error instanceof SentryError) {\n          (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.error('Skipped sending event because buffer is full.');\n          recordEnvelopeLoss('queue_overflow');\n          return resolvedSyncPromise();\n        } else {\n          throw error;\n        }\n      },\n    );\n  }\n\n  return {\n    send,\n    flush,\n  };\n}\n\nfunction getEventForEnvelopeItem(item, type) {\n  if (type !== 'event' && type !== 'transaction') {\n    return undefined;\n  }\n\n  return Array.isArray(item) ? (item )[1] : undefined;\n}\n\nexport { DEFAULT_TRANSPORT_BUFFER_SIZE, createTransport };\n//# sourceMappingURL=base.js.map\n","import { SentryError } from './error.js';\nimport { rejectedSyncPromise, SyncPromise, resolvedSyncPromise } from './syncpromise.js';\n\n/**\n * Creates an new PromiseBuffer object with the specified limit\n * @param limit max number of promises that can be stored in the buffer\n */\nfunction makePromiseBuffer(limit) {\n  const buffer = [];\n\n  function isReady() {\n    return limit === undefined || buffer.length < limit;\n  }\n\n  /**\n   * Remove a promise from the queue.\n   *\n   * @param task Can be any PromiseLike<T>\n   * @returns Removed promise.\n   */\n  function remove(task) {\n    return buffer.splice(buffer.indexOf(task), 1)[0];\n  }\n\n  /**\n   * Add a promise (representing an in-flight action) to the queue, and set it to remove itself on fulfillment.\n   *\n   * @param taskProducer A function producing any PromiseLike<T>; In previous versions this used to be `task:\n   *        PromiseLike<T>`, but under that model, Promises were instantly created on the call-site and their executor\n   *        functions therefore ran immediately. Thus, even if the buffer was full, the action still happened. By\n   *        requiring the promise to be wrapped in a function, we can defer promise creation until after the buffer\n   *        limit check.\n   * @returns The original promise.\n   */\n  function add(taskProducer) {\n    if (!isReady()) {\n      return rejectedSyncPromise(new SentryError('Not adding Promise because buffer limit was reached.'));\n    }\n\n    // start the task and add its promise to the queue\n    const task = taskProducer();\n    if (buffer.indexOf(task) === -1) {\n      buffer.push(task);\n    }\n    void task\n      .then(() => remove(task))\n      // Use `then(null, rejectionHandler)` rather than `catch(rejectionHandler)` so that we can use `PromiseLike`\n      // rather than `Promise`. `PromiseLike` doesn't have a `.catch` method, making its polyfill smaller. (ES5 didn't\n      // have promises, so TS has to polyfill when down-compiling.)\n      .then(null, () =>\n        remove(task).then(null, () => {\n          // We have to add another catch here because `remove()` starts a new promise chain.\n        }),\n      );\n    return task;\n  }\n\n  /**\n   * Wait for all promises in the queue to resolve or for timeout to expire, whichever comes first.\n   *\n   * @param timeout The time, in ms, after which to resolve to `false` if the queue is still non-empty. Passing `0` (or\n   * not passing anything) will make the promise wait as long as it takes for the queue to drain before resolving to\n   * `true`.\n   * @returns A promise which will resolve to `true` if the queue is already empty or drains before the timeout, and\n   * `false` otherwise\n   */\n  function drain(timeout) {\n    return new SyncPromise((resolve, reject) => {\n      let counter = buffer.length;\n\n      if (!counter) {\n        return resolve(true);\n      }\n\n      // wait for `timeout` ms and then resolve to `false` (if not cancelled first)\n      const capturedSetTimeout = setTimeout(() => {\n        if (timeout && timeout > 0) {\n          resolve(false);\n        }\n      }, timeout);\n\n      // if all promises resolve in time, cancel the timer and resolve to `true`\n      buffer.forEach(item => {\n        void resolvedSyncPromise(item).then(() => {\n          if (!--counter) {\n            clearTimeout(capturedSetTimeout);\n            resolve(true);\n          }\n        }, reject);\n      });\n    });\n  }\n\n  return {\n    $: buffer,\n    add,\n    drain,\n  };\n}\n\nexport { makePromiseBuffer };\n//# sourceMappingURL=promisebuffer.js.map\n","import { isNativeFetch, logger } from '@sentry/utils';\nimport { WINDOW } from '../helpers.js';\n\nlet cachedFetchImpl = undefined;\n\n/**\n * A special usecase for incorrectly wrapped Fetch APIs in conjunction with ad-blockers.\n * Whenever someone wraps the Fetch API and returns the wrong promise chain,\n * this chain becomes orphaned and there is no possible way to capture it's rejections\n * other than allowing it bubble up to this very handler. eg.\n *\n * const f = window.fetch;\n * window.fetch = function () {\n *   const p = f.apply(this, arguments);\n *\n *   p.then(function() {\n *     console.log('hi.');\n *   });\n *\n *   return p;\n * }\n *\n * `p.then(function () { ... })` is producing a completely separate promise chain,\n * however, what's returned is `p` - the result of original `fetch` call.\n *\n * This mean, that whenever we use the Fetch API to send our own requests, _and_\n * some ad-blocker blocks it, this orphaned chain will _always_ reject,\n * effectively causing another event to be captured.\n * This makes a whole process become an infinite loop, which we need to somehow\n * deal with, and break it in one way or another.\n *\n * To deal with this issue, we are making sure that we _always_ use the real\n * browser Fetch API, instead of relying on what `window.fetch` exposes.\n * The only downside to this would be missing our own requests as breadcrumbs,\n * but because we are already not doing this, it should be just fine.\n *\n * Possible failed fetch error messages per-browser:\n *\n * Chrome:  Failed to fetch\n * Edge:    Failed to Fetch\n * Firefox: NetworkError when attempting to fetch resource\n * Safari:  resource blocked by content blocker\n */\nfunction getNativeFetchImplementation() {\n  if (cachedFetchImpl) {\n    return cachedFetchImpl;\n  }\n\n  /* eslint-disable @typescript-eslint/unbound-method */\n\n  // Fast path to avoid DOM I/O\n  if (isNativeFetch(WINDOW.fetch)) {\n    return (cachedFetchImpl = WINDOW.fetch.bind(WINDOW));\n  }\n\n  const document = WINDOW.document;\n  let fetchImpl = WINDOW.fetch;\n  // eslint-disable-next-line deprecation/deprecation\n  if (document && typeof document.createElement === 'function') {\n    try {\n      const sandbox = document.createElement('iframe');\n      sandbox.hidden = true;\n      document.head.appendChild(sandbox);\n      const contentWindow = sandbox.contentWindow;\n      if (contentWindow && contentWindow.fetch) {\n        fetchImpl = contentWindow.fetch;\n      }\n      document.head.removeChild(sandbox);\n    } catch (e) {\n      (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) &&\n        logger.warn('Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ', e);\n    }\n  }\n\n  return (cachedFetchImpl = fetchImpl.bind(WINDOW));\n  /* eslint-enable @typescript-eslint/unbound-method */\n}\n\n/** Clears cached fetch impl */\nfunction clearCachedFetchImplementation() {\n  cachedFetchImpl = undefined;\n}\n\nexport { clearCachedFetchImplementation, getNativeFetchImplementation };\n//# sourceMappingURL=utils.js.map\n","import { createTransport } from '@sentry/core';\nimport { rejectedSyncPromise } from '@sentry/utils';\nimport { getNativeFetchImplementation, clearCachedFetchImplementation } from './utils.js';\n\n/**\n * Creates a Transport that uses the Fetch API to send events to Sentry.\n */\nfunction makeFetchTransport(\n  options,\n  nativeFetch = getNativeFetchImplementation(),\n) {\n  function makeRequest(request) {\n    const requestOptions = {\n      body: request.body,\n      method: 'POST',\n      referrerPolicy: 'origin',\n      headers: options.headers,\n      // Outgoing requests are usually cancelled when navigating to a different page, causing a \"TypeError: Failed to\n      // fetch\" error and sending a \"network_error\" client-outcome - in Chrome, the request status shows \"(cancelled)\".\n      // The `keepalive` flag keeps outgoing requests alive, even when switching pages. We want this since we're\n      // frequently sending events right before the user is switching pages (eg. whenfinishing navigation transactions).\n      // Gotchas:\n      // - `keepalive` isn't supported by Firefox\n      // - As per spec (https://fetch.spec.whatwg.org/#http-network-or-cache-fetch), a request with `keepalive: true`\n      //   and a content length of > 64 kibibytes returns a network error. We will therefore only activate the flag when\n      //   we're below that limit.\n      keepalive: request.body.length <= 65536,\n      ...options.fetchOptions,\n    };\n\n    try {\n      return nativeFetch(options.url, requestOptions).then(response => ({\n        statusCode: response.status,\n        headers: {\n          'x-sentry-rate-limits': response.headers.get('X-Sentry-Rate-Limits'),\n          'retry-after': response.headers.get('Retry-After'),\n        },\n      }));\n    } catch (e) {\n      clearCachedFetchImplementation();\n      return rejectedSyncPromise(e);\n    }\n  }\n\n  return createTransport(options, makeRequest);\n}\n\nexport { makeFetchTransport };\n//# sourceMappingURL=fetch.js.map\n","import { createTransport } from '@sentry/core';\nimport { SyncPromise } from '@sentry/utils';\n\n/**\n * The DONE ready state for XmlHttpRequest\n *\n * Defining it here as a constant b/c XMLHttpRequest.DONE is not always defined\n * (e.g. during testing, it is `undefined`)\n *\n * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/readyState}\n */\nconst XHR_READYSTATE_DONE = 4;\n\n/**\n * Creates a Transport that uses the XMLHttpRequest API to send events to Sentry.\n */\nfunction makeXHRTransport(options) {\n  function makeRequest(request) {\n    return new SyncPromise((resolve, reject) => {\n      const xhr = new XMLHttpRequest();\n\n      xhr.onerror = reject;\n\n      xhr.onreadystatechange = () => {\n        if (xhr.readyState === XHR_READYSTATE_DONE) {\n          resolve({\n            statusCode: xhr.status,\n            headers: {\n              'x-sentry-rate-limits': xhr.getResponseHeader('X-Sentry-Rate-Limits'),\n              'retry-after': xhr.getResponseHeader('Retry-After'),\n            },\n          });\n        }\n      };\n\n      xhr.open('POST', options.url);\n\n      for (const header in options.headers) {\n        if (Object.prototype.hasOwnProperty.call(options.headers, header)) {\n          xhr.setRequestHeader(header, options.headers[header]);\n        }\n      }\n\n      xhr.send(request.body);\n    });\n  }\n\n  return createTransport(options, makeRequest);\n}\n\nexport { makeXHRTransport };\n//# sourceMappingURL=xhr.js.map\n","import { Integrations, getIntegrationsToSetup, initAndBind, getReportDialogEndpoint, getCurrentHub } from '@sentry/core';\nimport { stackParserFromStackParserOptions, supportsFetch, logger, resolvedSyncPromise, addInstrumentationHandler } from '@sentry/utils';\nimport { BrowserClient } from './client.js';\nimport { WINDOW, wrap as wrap$1 } from './helpers.js';\nimport { GlobalHandlers } from './integrations/globalhandlers.js';\nimport { TryCatch } from './integrations/trycatch.js';\nimport { Breadcrumbs } from './integrations/breadcrumbs.js';\nimport { LinkedErrors } from './integrations/linkederrors.js';\nimport { HttpContext } from './integrations/httpcontext.js';\nimport { Dedupe } from './integrations/dedupe.js';\nimport { defaultStackParser } from './stack-parsers.js';\nimport { makeFetchTransport } from './transports/fetch.js';\nimport { makeXHRTransport } from './transports/xhr.js';\n\nconst defaultIntegrations = [\n  new Integrations.InboundFilters(),\n  new Integrations.FunctionToString(),\n  new TryCatch(),\n  new Breadcrumbs(),\n  new GlobalHandlers(),\n  new LinkedErrors(),\n  new Dedupe(),\n  new HttpContext(),\n];\n\n/**\n * A magic string that build tooling can leverage in order to inject a release value into the SDK.\n */\n\n/**\n * The Sentry Browser SDK Client.\n *\n * To use this SDK, call the {@link init} function as early as possible when\n * loading the web page. To set context information or send manual events, use\n * the provided methods.\n *\n * @example\n *\n * ```\n *\n * import { init } from '@sentry/browser';\n *\n * init({\n *   dsn: '__DSN__',\n *   // ...\n * });\n * ```\n *\n * @example\n * ```\n *\n * import { configureScope } from '@sentry/browser';\n * configureScope((scope: Scope) => {\n *   scope.setExtra({ battery: 0.7 });\n *   scope.setTag({ user_mode: 'admin' });\n *   scope.setUser({ id: '4711' });\n * });\n * ```\n *\n * @example\n * ```\n *\n * import { addBreadcrumb } from '@sentry/browser';\n * addBreadcrumb({\n *   message: 'My Breadcrumb',\n *   // ...\n * });\n * ```\n *\n * @example\n *\n * ```\n *\n * import * as Sentry from '@sentry/browser';\n * Sentry.captureMessage('Hello, world!');\n * Sentry.captureException(new Error('Good bye'));\n * Sentry.captureEvent({\n *   message: 'Manual',\n *   stacktrace: [\n *     // ...\n *   ],\n * });\n * ```\n *\n * @see {@link BrowserOptions} for documentation on configuration options.\n */\nfunction init(options = {}) {\n  if (options.defaultIntegrations === undefined) {\n    options.defaultIntegrations = defaultIntegrations;\n  }\n  if (options.release === undefined) {\n    // This allows build tooling to find-and-replace __SENTRY_RELEASE__ to inject a release value\n    if (typeof __SENTRY_RELEASE__ === 'string') {\n      options.release = __SENTRY_RELEASE__;\n    }\n\n    // This supports the variable that sentry-webpack-plugin injects\n    if (WINDOW.SENTRY_RELEASE && WINDOW.SENTRY_RELEASE.id) {\n      options.release = WINDOW.SENTRY_RELEASE.id;\n    }\n  }\n  if (options.autoSessionTracking === undefined) {\n    options.autoSessionTracking = true;\n  }\n  if (options.sendClientReports === undefined) {\n    options.sendClientReports = true;\n  }\n\n  const clientOptions = {\n    ...options,\n    stackParser: stackParserFromStackParserOptions(options.stackParser || defaultStackParser),\n    integrations: getIntegrationsToSetup(options),\n    transport: options.transport || (supportsFetch() ? makeFetchTransport : makeXHRTransport),\n  };\n\n  initAndBind(BrowserClient, clientOptions);\n\n  if (options.autoSessionTracking) {\n    startSessionTracking();\n  }\n}\n\n/**\n * Present the user with a report dialog.\n *\n * @param options Everything is optional, we try to fetch all info need from the global scope.\n */\nfunction showReportDialog(options = {}, hub = getCurrentHub()) {\n  // doesn't work without a document (React Native)\n  if (!WINDOW.document) {\n    (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.error('Global document not defined in showReportDialog call');\n    return;\n  }\n\n  const { client, scope } = hub.getStackTop();\n  const dsn = options.dsn || (client && client.getDsn());\n  if (!dsn) {\n    (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.error('DSN not configured for showReportDialog call');\n    return;\n  }\n\n  if (scope) {\n    options.user = {\n      ...scope.getUser(),\n      ...options.user,\n    };\n  }\n\n  if (!options.eventId) {\n    options.eventId = hub.lastEventId();\n  }\n\n  const script = WINDOW.document.createElement('script');\n  script.async = true;\n  script.src = getReportDialogEndpoint(dsn, options);\n\n  if (options.onLoad) {\n    script.onload = options.onLoad;\n  }\n\n  const injectionPoint = WINDOW.document.head || WINDOW.document.body;\n  if (injectionPoint) {\n    injectionPoint.appendChild(script);\n  } else {\n    (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.error('Not injecting report dialog. No injection point found in HTML');\n  }\n}\n\n/**\n * This is the getter for lastEventId.\n *\n * @returns The last event id of a captured event.\n */\nfunction lastEventId() {\n  return getCurrentHub().lastEventId();\n}\n\n/**\n * This function is here to be API compatible with the loader.\n * @hidden\n */\nfunction forceLoad() {\n  // Noop\n}\n\n/**\n * This function is here to be API compatible with the loader.\n * @hidden\n */\nfunction onLoad(callback) {\n  callback();\n}\n\n/**\n * Call `flush()` on the current client, if there is one. See {@link Client.flush}.\n *\n * @param timeout Maximum time in ms the client should wait to flush its event queue. Omitting this parameter will cause\n * the client to wait until all events are sent before resolving the promise.\n * @returns A promise which resolves to `true` if the queue successfully drains before the timeout, or `false` if it\n * doesn't (or if there's no client defined).\n */\nfunction flush(timeout) {\n  const client = getCurrentHub().getClient();\n  if (client) {\n    return client.flush(timeout);\n  }\n  (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.warn('Cannot flush events. No client defined.');\n  return resolvedSyncPromise(false);\n}\n\n/**\n * Call `close()` on the current client, if there is one. See {@link Client.close}.\n *\n * @param timeout Maximum time in ms the client should wait to flush its event queue before shutting down. Omitting this\n * parameter will cause the client to wait until all events are sent before disabling itself.\n * @returns A promise which resolves to `true` if the queue successfully drains before the timeout, or `false` if it\n * doesn't (or if there's no client defined).\n */\nfunction close(timeout) {\n  const client = getCurrentHub().getClient();\n  if (client) {\n    return client.close(timeout);\n  }\n  (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.warn('Cannot flush events and disable SDK. No client defined.');\n  return resolvedSyncPromise(false);\n}\n\n/**\n * Wrap code within a try/catch block so the SDK is able to capture errors.\n *\n * @param fn A function to wrap.\n *\n * @returns The result of wrapped function call.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction wrap(fn) {\n  return wrap$1(fn)();\n}\n\nfunction startSessionOnHub(hub) {\n  hub.startSession({ ignoreDuration: true });\n  hub.captureSession();\n}\n\n/**\n * Enable automatic Session Tracking for the initial page load.\n */\nfunction startSessionTracking() {\n  if (typeof WINDOW.document === 'undefined') {\n    (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) &&\n      logger.warn('Session tracking in non-browser environment with @sentry/browser is not supported.');\n    return;\n  }\n\n  const hub = getCurrentHub();\n\n  // The only way for this to be false is for there to be a version mismatch between @sentry/browser (>= 6.0.0) and\n  // @sentry/hub (< 5.27.0). In the simple case, there won't ever be such a mismatch, because the two packages are\n  // pinned at the same version in package.json, but there are edge cases where it's possible. See\n  // https://github.com/getsentry/sentry-javascript/issues/3207 and\n  // https://github.com/getsentry/sentry-javascript/issues/3234 and\n  // https://github.com/getsentry/sentry-javascript/issues/3278.\n  if (!hub.captureSession) {\n    return;\n  }\n\n  // The session duration for browser sessions does not track a meaningful\n  // concept that can be used as a metric.\n  // Automatically captured sessions are akin to page views, and thus we\n  // discard their duration.\n  startSessionOnHub(hub);\n\n  // We want to create a session for every navigation as well\n  addInstrumentationHandler('history', ({ from, to }) => {\n    // Don't create an additional session for the initial route or if the location did not change\n    if (!(from === undefined || from === to)) {\n      startSessionOnHub(getCurrentHub());\n    }\n  });\n}\n\nexport { close, defaultIntegrations, flush, forceLoad, init, lastEventId, onLoad, showReportDialog, wrap };\n//# sourceMappingURL=sdk.js.map\n","import { CONSOLE_LEVELS, GLOBAL_OBJ, fill, severityLevelFromString, safeJoin } from '@sentry/utils';\n\n/** Send Console API calls as Sentry Events */\nclass CaptureConsole  {\n  /**\n   * @inheritDoc\n   */\n   static __initStatic() {this.id = 'CaptureConsole';}\n\n  /**\n   * @inheritDoc\n   */\n   __init() {this.name = CaptureConsole.id;}\n\n  /**\n   * @inheritDoc\n   */\n    __init2() {this._levels = CONSOLE_LEVELS;}\n\n  /**\n   * @inheritDoc\n   */\n   constructor(options = {}) {CaptureConsole.prototype.__init.call(this);CaptureConsole.prototype.__init2.call(this);\n    if (options.levels) {\n      this._levels = options.levels;\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setupOnce(_, getCurrentHub) {\n    if (!('console' in GLOBAL_OBJ)) {\n      return;\n    }\n\n    this._levels.forEach((level) => {\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access, @typescript-eslint/no-explicit-any\n      if (!(level in (GLOBAL_OBJ ).console)) {\n        return;\n      }\n\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/no-unsafe-member-access\n      fill((GLOBAL_OBJ ).console, level, (originalConsoleMethod) => (...args) => {\n        const hub = getCurrentHub();\n\n        if (hub.getIntegration(CaptureConsole)) {\n          hub.withScope(scope => {\n            scope.setLevel(severityLevelFromString(level));\n            scope.setExtra('arguments', args);\n            scope.addEventProcessor(event => {\n              event.logger = 'console';\n              return event;\n            });\n\n            let message = safeJoin(args, ' ');\n            if (level === 'assert') {\n              if (args[0] === false) {\n                message = `Assertion failed: ${safeJoin(args.slice(1), ' ') || 'console.assert'}`;\n                scope.setExtra('arguments', args.slice(1));\n                hub.captureMessage(message);\n              }\n            } else if (level === 'error' && args[0] instanceof Error) {\n              hub.captureException(args[0]);\n            } else {\n              hub.captureMessage(message);\n            }\n          });\n        }\n\n        // this fails for some browsers. :(\n        if (originalConsoleMethod) {\n          originalConsoleMethod.apply(GLOBAL_OBJ.console, args);\n        }\n      });\n    });\n  }\n} CaptureConsole.__initStatic();\n\nexport { CaptureConsole };\n//# sourceMappingURL=captureconsole.js.map\n","import * as Sentry from '@sentry/browser';\nimport type { BrowserOptions } from '@sentry/browser';\nimport { CaptureConsole } from '@sentry/integrations';\nimport {\n\tBUILD_VARIANT,\n\tdcrJavascriptBundle,\n} from '../../../../scripts/webpack/bundles';\n\nconst allowUrls: BrowserOptions['allowUrls'] = [\n\t/webpack-internal/,\n\tnew RegExp(`/$(process.env.HOSTNAME || 'localhost')/`),\n\t/assets\\.guim\\.co\\.uk/,\n\t/ophan\\.co\\.uk/,\n];\n\n// Ignore these errors\n// https://docs.sentry.io/platforms/javascript/#decluttering-sentry\nconst ignoreErrors = [\n\t\"Can't execute code from a freed script\",\n\t/InvalidStateError/gi,\n\t'This video is no longer available.',\n\t'UnknownError',\n\t'The quota has been exceeded',\n\t// Browsers throw exceptions for cancelled network requests\n\t// https://stackoverflow.com/questions/55738408/javascript-typeerror-cancelled-error-when-calling-fetch-on-ios/70452078#70452078\n\t// https://request-cancellation-test.vercel.app/\n\t/Fetch error:/gi,\n\t'Network request failed',\n\t'NetworkError',\n\t'Failed to fetch',\n\t'TypeError: Failed to fetch',\n\t'TypeError: NetworkError when attempting to fetch resource',\n\t'TypeError: Load failed',\n\t'TypeError: Importing a module script failed',\n\t'TypeError: error loading dynamically imported module',\n];\n\nconst { config } = window.guardian;\nconst {\n\tpage: { dcrSentryDsn },\n\tstage,\n} = config;\n\nSentry.init({\n\tignoreErrors,\n\tallowUrls,\n\tdsn: dcrSentryDsn,\n\tenvironment: stage || 'DEV',\n\tintegrations: [new CaptureConsole({ levels: ['error'] })],\n\tmaxBreadcrumbs: 50,\n\t// sampleRate: // We use Math.random in init.ts to sample errors\n});\n\nif (\n\tBUILD_VARIANT &&\n\twindow.guardian.config.tests[dcrJavascriptBundle('Variant')] === 'variant'\n) {\n\tSentry.setTag('dcr.bundle', dcrJavascriptBundle('Variant'));\n}\n\nexport const reportError = (error: Error, feature?: string): void => {\n\tSentry.withScope(() => {\n\t\tif (feature) {\n\t\t\tSentry.setTag('feature', feature);\n\t\t}\n\t\tSentry.captureException(error);\n\t});\n};\n","import { logger } from '@sentry/utils';\nimport { getCurrentHub } from './hub.js';\n\n/** A class object that can instantiate Client objects. */\n\n/**\n * Internal function to create a new SDK client instance. The client is\n * installed and then bound to the current scope.\n *\n * @param clientClass The client class to instantiate.\n * @param options Options to pass to the client.\n */\nfunction initAndBind(\n  clientClass,\n  options,\n) {\n  if (options.debug === true) {\n    if ((typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__)) {\n      logger.enable();\n    } else {\n      // use `console.warn` rather than `logger.warn` since by non-debug bundles have all `logger.x` statements stripped\n      // eslint-disable-next-line no-console\n      console.warn('[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.');\n    }\n  }\n  const hub = getCurrentHub();\n  const scope = hub.getScope();\n  if (scope) {\n    scope.update(options.initialScope);\n  }\n\n  const client = new clientClass(options);\n  hub.bindClient(client);\n}\n\nexport { initAndBind };\n//# sourceMappingURL=sdk.js.map\n","type HeightEventType = { source: { name: string } };\n\nexport const updateIframeHeight = (queryString: string): Promise<void> => {\n\tconst iframes: HTMLIFrameElement[] = [].slice.call(\n\t\tdocument.querySelectorAll(queryString),\n\t);\n\n\twindow.addEventListener('message', (event) => {\n\t\tconst iframe: HTMLIFrameElement | undefined = iframes.find((i) => {\n\t\t\ttry {\n\t\t\t\treturn i.name === (event as HeightEventType).source.name;\n\t\t\t} catch (e) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\t\tif (iframe) {\n\t\t\ttry {\n\t\t\t\tconst message = JSON.parse(event.data) as {\n\t\t\t\t\ttype: string;\n\t\t\t\t\tvalue: string;\n\t\t\t\t};\n\t\t\t\tswitch (message.type) {\n\t\t\t\t\tcase 'set-height':\n\t\t\t\t\t\tiframe.height = message.value;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t}\n\t\t\t\t// eslint-disable-next-line no-empty\n\t\t\t} catch (e) {}\n\t\t}\n\t});\n\n\tiframes.forEach((iframe) => {\n\t\tconst src = (iframe.getAttribute('srcdoc') ?? '')\n\t\t\t.replace(/<gu-script>/g, '<script>')\n\n\t\t\t.replace(/<\\/gu-script>/g, '<' + '/script>');\n\t\tiframe.setAttribute('srcdoc', src);\n\t});\n\treturn Promise.resolve();\n};\n","import { css } from '@emotion/react';\nimport {\n\tbrandAltBackground,\n\tbrandAltText,\n\tfrom,\n\ttextSans,\n\tvisuallyHidden,\n} from '@guardian/source-foundations';\nimport ClockIcon from '../../static/icons/clock.svg';\n\ntype Props = {\n\tage: string;\n\tisScreenReader?: boolean;\n\tsize?: 'small' | 'medium';\n};\n\nconst ageWarningStyles = (isSmall: boolean) => css`\n\t${isSmall ? textSans.xxsmall() : textSans.medium()};\n\tcolor: ${brandAltText.primary};\n\tbackground-color: ${brandAltBackground.primary};\n\tdisplay: inline-block;\n\n\t> strong {\n\t\tfont-weight: bold;\n\t}\n\n\tpadding: ${isSmall ? '3px 5px' : '6px 10px'};\n\n\t${from.mobileLandscape} {\n\t\tpadding-left: ${isSmall ? '6px' : '12px'};\n\t}\n\n\t${from.leftCol} {\n\t\tpadding-left: ${isSmall ? '5px' : '10px'};\n\t}\n`;\n\nconst ageWarningScreenReader = css`\n\t${visuallyHidden};\n`;\n\nconst ensureOldText = (age: string) =>\n\tage.endsWith('old') ? age : `${age} old`;\n\nexport const AgeWarning = ({ age, isScreenReader, size = 'medium' }: Props) => {\n\tconst warningPrefix = 'This article is more than ';\n\tconst isSmall = size === 'small';\n\tconst ageOld = ensureOldText(age);\n\n\tif (isScreenReader) {\n\t\treturn <div css={ageWarningScreenReader}>{warningPrefix + age}</div>;\n\t}\n\n\treturn (\n\t\t<div css={ageWarningStyles(isSmall)} aria-hidden=\"true\">\n\t\t\t<ClockIcon /> {warningPrefix}\n\t\t\t<strong>{ageOld}</strong>\n\t\t</div>\n\t);\n};\n","import { useEffect } from 'react';\nimport { incrementAlreadyVisited } from '../lib/alreadyVisited';\n\n/**\n * # AlreadyVisited\n *\n * Increment the already visited count.\n *\n * @returns {} _No visual or DOM output_\n */\nexport const AlreadyVisited = () => {\n\tuseEffect(() => {\n\t\tincrementAlreadyVisited();\n\t}, []);\n\t// Nothing is rendered by this component\n\treturn null;\n};\n","import { storage } from '@guardian/libs';\nimport { useEffect } from 'react';\n\nconst animatePulsingDots = () => {\n\t// Get all the elements that aren't hydrated\n\tconst elements = document.querySelectorAll(\n\t\t`[data-flashing-dot-hydrated=\"false\"]`,\n\t);\n\n\telements.forEach((element) => {\n\t\telement.setAttribute('data-flashing-dot-hydrated', 'true');\n\t\t// In PulsingDot.tsx, we set the animation only to run\n\t\t// if this data attribute is set\n\t\telement.setAttribute('data-animate', 'true');\n\t});\n};\n\n/**\n * Island for animating pulsing dots which aren't already hydrated\n * See PulsingDot.tsx for more info\n *\n * - We use this for fronts, where we add pulsing dots to the page which aren't wrapped in islands\n */\nexport const AnimatePulsingDots = () => {\n\tuseEffect(() => {\n\t\t// Respect the accessibility flag set here\n\t\t// https://www.theguardian.com/help/accessibility-help\n\t\tconst flashingPreference = storage.local.get(\n\t\t\t'gu.prefs.accessibility.flashing-elements',\n\t\t);\n\n\t\t// If the user hasn't explicitly set their flashing preference to 'false'\n\t\t// then we can animate the pulsing dots\n\t\tif (flashingPreference !== false) {\n\t\t\tanimatePulsingDots();\n\t\t}\n\t});\n\n\treturn null;\n};\n","import { AudioAtom } from '@guardian/atoms-rendering';\nimport {\n\tgetConsentFor,\n\tonConsentChange,\n} from '@guardian/consent-management-platform';\nimport { useEffect, useState } from 'react';\n\ntype Props = {\n\tid: string;\n\ttrackUrl: string;\n\tkicker: string;\n\ttitle?: string | undefined;\n\tduration: number;\n\tpillar: ArticleTheme;\n\tcontentIsNotSensitive: boolean;\n\taCastisEnabled: boolean;\n\treaderCanBeShownAds: boolean;\n};\n\n/**\n * # AudioAtomWrapper\n *\n * Wrapper around [`@guardian/atoms-rendering`’s `AudioAtom`](https://github.com/guardian/csnx/blob/main/libs/%40guardian/atoms-rendering/src/AudioAtom.tsx)\n */\nexport const AudioAtomWrapper = ({\n\tid,\n\ttrackUrl,\n\tkicker,\n\ttitle,\n\tpillar,\n\tduration,\n\tcontentIsNotSensitive,\n\taCastisEnabled,\n\treaderCanBeShownAds,\n}: Props) => {\n\t// *****************\n\t// *     ACast     *\n\t// *****************\n\tconst [shouldUseAcast, setShouldUseAcast] = useState<boolean>(false);\n\tuseEffect(() => {\n\t\tonConsentChange((state) => {\n\t\t\t// Should we use ad enabled audio? If so, then set the shouldUseAcast\n\t\t\t// state to true, triggering a rerender of AudioAtom using a new track url\n\t\t\t// (one with adverts)\n\t\t\tconst consentGiven = getConsentFor('acast', state);\n\t\t\tif (\n\t\t\t\taCastisEnabled &&\n\t\t\t\tconsentGiven &&\n\t\t\t\treaderCanBeShownAds && // Eg. Not a subscriber\n\t\t\t\tcontentIsNotSensitive\n\t\t\t) {\n\t\t\t\tsetShouldUseAcast(true);\n\t\t\t}\n\t\t});\n\t}, [contentIsNotSensitive, aCastisEnabled, readerCanBeShownAds]);\n\n\treturn (\n\t\t<AudioAtom\n\t\t\tid={id}\n\t\t\ttrackUrl={trackUrl}\n\t\t\tkicker={kicker}\n\t\t\ttitle={title}\n\t\t\tpillar={pillar}\n\t\t\tduration={duration}\n\t\t\tshouldUseAcast={shouldUseAcast}\n\t\t/>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { Fragment } from 'react';\nimport type { DCRContainerPalette } from '../../types/front';\nimport type { Palette } from '../../types/palette';\nimport { decidePalette } from '../lib/decidePalette';\nimport { getSourceImageUrl } from '../lib/getSourceImageUrl_temp_fix';\nimport { generateSources, getFallbackSource } from './Picture';\n\nconst picture = css`\n\tborder-radius: 100%;\n\theight: 100%;\n\twidth: 100%;\n\toverflow: hidden;\n`;\n\nconst img = css`\n\tobject-fit: cover;\n\theight: 100%;\n\twidth: 100%;\n`;\n\n/**\n * Used on `picture` and `img` to prevent having a line-height,\n * as these elements are which are `inline` by default.\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/HTML/Element/img#styling_with_css\n */\nconst block = css`\n\tdisplay: block;\n`;\n\nconst backgroundStyles = (palette: Palette) =>\n\tcss`\n\t\tbackground-color: ${palette.background.avatar};\n\t`;\n\ntype Props = {\n\tsrc: string;\n\talt: string;\n\tformat: ArticleFormat;\n\tcontainerPalette?: DCRContainerPalette;\n};\n\nexport const Avatar = ({ src, alt, format, containerPalette }: Props) => {\n\tconst palette = decidePalette(format, containerPalette);\n\tconst sources = generateSources(getSourceImageUrl(src), [\n\t\t{ breakpoint: 320, width: 75 },\n\t\t{ breakpoint: 740, width: 140 },\n\t]);\n\n\t/**\n\t * The assumption here is readers on devices that do not support srcset\n\t * are likely to be on poor network connections so we're going\n\t * to fallback to the smallest image at low resolution.\n\t *\n\t * Sources are ordered in `descendingByBreakpoint` order,\n\t * so the last one is the smallest.\n\t */\n\tconst fallbackSource = getFallbackSource(sources);\n\n\treturn (\n\t\t<picture\n\t\t\t// data-size={imageSize}\n\t\t\tcss={[block, picture, backgroundStyles(palette)]}\n\t\t>\n\t\t\t{sources.map((source) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Fragment key={source.breakpoint}>\n\t\t\t\t\t\t{/* High resolution (HDPI) sources*/}\n\t\t\t\t\t\t<source\n\t\t\t\t\t\t\tsrcSet={source.hiResUrl}\n\t\t\t\t\t\t\tmedia={`(min-width: ${source.breakpoint}px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: ${source.breakpoint}px) and (min-resolution: 120dpi)`}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{/* Low resolution (MDPI) source*/}\n\t\t\t\t\t\t<source\n\t\t\t\t\t\t\tsrcSet={source.lowResUrl}\n\t\t\t\t\t\t\tmedia={`(min-width: ${source.breakpoint}px)`}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Fragment>\n\t\t\t\t);\n\t\t\t})}\n\n\t\t\t<img alt={alt} src={fallbackSource.lowResUrl} css={[block, img]} />\n\t\t</picture>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { ArticleDesign } from '@guardian/libs';\nimport { neutral, textSans, until } from '@guardian/source-foundations';\nimport type { Branding as BrandingType } from '../../types/branding';\nimport type { Palette } from '../../types/palette';\nimport { trackSponsorLogoLinkClick } from '../browser/ga/ga';\nimport { Hide } from './Hide';\n\nconst brandingStyle = css`\n\tpadding-bottom: 10px;\n`;\n\n/**\n * for liveblog smaller breakpoints article meta is located in the same\n * container as standfirst and needs the same styling as standfirst\n **/\nfunction brandingLabelStyle(palette: Palette, format: ArticleFormat) {\n\tconst invariantStyles = css`\n\t\t${textSans.xxsmall()}\n\t`;\n\n\tswitch (format.design) {\n\t\tcase ArticleDesign.LiveBlog: {\n\t\t\treturn [\n\t\t\t\tinvariantStyles,\n\t\t\t\tcss`\n\t\t\t\t\tcolor: ${neutral[20]};\n\n\t\t\t\t\t${until.desktop} {\n\t\t\t\t\t\tcolor: ${palette.text.standfirst};\n\t\t\t\t\t}\n\n\t\t\t\t\ta {\n\t\t\t\t\t\tcolor: ${neutral[20]};\n\n\t\t\t\t\t\t${until.desktop} {\n\t\t\t\t\t\t\tcolor: ${palette.text.standfirst};\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t`,\n\t\t\t];\n\t\t}\n\t\tdefault: {\n\t\t\treturn [\n\t\t\t\tinvariantStyles,\n\t\t\t\tcss`\n\t\t\t\t\tcolor: ${neutral[20]};\n\n\t\t\t\t\ta {\n\t\t\t\t\t\tcolor: ${neutral[20]};\n\t\t\t\t\t}\n\t\t\t\t`,\n\t\t\t];\n\t\t}\n\t}\n}\n\nconst brandingLogoStyle = css`\n\tpadding: 10px 0;\n\n\tdisplay: block;\n\n\t& img {\n\t\tdisplay: block;\n\t}\n`;\n\n/**\n * for liveblog smaller breakpoints article meta is located in the same\n * container as standfirst and needs the same styling as standfirst\n **/\nconst brandingAboutLink = (palette: Palette, format: ArticleFormat) => {\n\tconst invariantStyles = css`\n\t\t${textSans.xxsmall()}\n\t\tdisplay: block;\n\t\ttext-decoration: none;\n\t\t&:hover {\n\t\t\ttext-decoration: underline;\n\t\t}\n\t`;\n\n\tswitch (format.design) {\n\t\tcase ArticleDesign.LiveBlog: {\n\t\t\treturn [\n\t\t\t\tinvariantStyles,\n\t\t\t\tcss`\n\t\t\t\t\tcolor: ${palette.text.branding};\n\t\t\t\t\t${until.desktop} {\n\t\t\t\t\t\tcolor: ${palette.text.standfirst};\n\t\t\t\t\t}\n\t\t\t\t\ta {\n\t\t\t\t\t\tcolor: ${palette.text.branding};\n\t\t\t\t\t\t${until.desktop} {\n\t\t\t\t\t\t\tcolor: ${palette.text.standfirst};\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t`,\n\t\t\t];\n\t\t}\n\t\tdefault: {\n\t\t\treturn [\n\t\t\t\tinvariantStyles,\n\t\t\t\tcss`\n\t\t\t\t\tcolor: ${palette.text.branding};\n\t\t\t\t\ta {\n\t\t\t\t\t\tcolor: ${palette.text.branding};\n\t\t\t\t\t}\n\t\t\t\t`,\n\t\t\t];\n\t\t}\n\t}\n};\n\nfunction decideLogo(branding: BrandingType, format: ArticleFormat) {\n\tswitch (format.design) {\n\t\tcase ArticleDesign.LiveBlog: {\n\t\t\t/**\n\t\t\t * For LiveBlogs, the background colour of the 'meta' section is light\n\t\t\t * on desktop but dark on mobile. If the logo has a version designed for\n\t\t\t * dark backgrounds, it should be shown on breakpoints below desktop.\n\t\t\t */\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<Hide when=\"above\" breakpoint=\"desktop\" el=\"span\">\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\twidth={branding.logo.dimensions.width}\n\t\t\t\t\t\t\theight={branding.logo.dimensions.height}\n\t\t\t\t\t\t\tsrc={\n\t\t\t\t\t\t\t\tbranding.logoForDarkBackground?.src ??\n\t\t\t\t\t\t\t\tbranding.logo.src\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\talt={branding.sponsorName}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Hide>\n\t\t\t\t\t<Hide when=\"below\" breakpoint=\"desktop\" el=\"span\">\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\twidth={branding.logo.dimensions.width}\n\t\t\t\t\t\t\theight={branding.logo.dimensions.height}\n\t\t\t\t\t\t\tsrc={branding.logo.src}\n\t\t\t\t\t\t\talt={branding.sponsorName}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Hide>\n\t\t\t\t</>\n\t\t\t);\n\t\t}\n\t\tdefault: {\n\t\t\treturn (\n\t\t\t\t<img\n\t\t\t\t\twidth={branding.logo.dimensions.width}\n\t\t\t\t\theight={branding.logo.dimensions.height}\n\t\t\t\t\tsrc={branding.logo.src}\n\t\t\t\t\talt={branding.sponsorName}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t}\n}\n\ntype Props = {\n\tbranding: BrandingType;\n\tpalette: Palette;\n\tformat: ArticleFormat;\n};\n\n/**\n * # Branding\n *\n * Wrapper around the logo and link for sponsored or paid for content.\n *\n * ## Why does this need to be an Island?\n *\n * So we can track sponsor logo clicks.\n *\n * ---\n *\n * (No visual story exists)\n */\nexport const Branding = ({ branding, palette, format }: Props) => {\n\tconst sponsorId = branding.sponsorName.toLowerCase();\n\n\treturn (\n\t\t<div css={brandingStyle}>\n\t\t\t<div css={brandingLabelStyle(palette, format)}>\n\t\t\t\t{branding.logo.label}\n\t\t\t</div>\n\t\t\t<div css={brandingLogoStyle}>\n\t\t\t\t<a\n\t\t\t\t\thref={branding.logo.link}\n\t\t\t\t\tdata-sponsor={branding.sponsorName.toLowerCase()}\n\t\t\t\t\trel=\"nofollow\"\n\t\t\t\t\taria-label={`Visit the ${branding.sponsorName} website`}\n\t\t\t\t\tonClick={() => trackSponsorLogoLinkClick(sponsorId)}\n\t\t\t\t\tdata-cy=\"branding-logo\"\n\t\t\t\t>\n\t\t\t\t\t{decideLogo(branding, format)}\n\t\t\t\t</a>\n\t\t\t</div>\n\n\t\t\t<a\n\t\t\t\thref={branding.aboutThisLink}\n\t\t\t\tcss={brandingAboutLink(palette, format)}\n\t\t\t>\n\t\t\t\tAbout this content\n\t\t\t</a>\n\t\t</div>\n\t);\n};\n","import { log } from '@guardian/libs';\nimport { useBraze } from '../lib/useBraze';\n\ntype Props = {\n\tidApiUrl: string;\n};\n\n/**\n * This component ensures we call buildBrazeMessaging at least once\n * on every page\n */\nexport const BrazeMessaging = ({ idApiUrl }: Props) => {\n\tconst { brazeMessages, brazeCards } = useBraze(idApiUrl);\n\n\tif (brazeMessages) {\n\t\tlog('tx', 'Braze Messages Interface loaded', brazeMessages);\n\t}\n\tif (brazeCards) {\n\t\tlog('tx', 'Braze Cards Interface loaded', brazeCards);\n\t}\n\n\t// we don’t render anything\n\treturn null;\n};\n","import { css } from '@emotion/react';\nimport { ArticleSpecial } from '@guardian/libs';\nimport { headline, textSans, until } from '@guardian/source-foundations';\nimport type { DCRContainerPalette } from '../../types/front';\nimport type { Palette } from '../../types/palette';\nimport { decidePalette } from '../lib/decidePalette';\n\ntype Props = {\n\ttext: string;\n\tformat: ArticleFormat;\n\tcontainerPalette?: DCRContainerPalette;\n\tsize: SmallHeadlineSize;\n\tisCard?: boolean;\n};\n\nconst bylineStyles = (size: SmallHeadlineSize, format: ArticleFormat) => {\n\tconst baseStyles = css`\n\t\tdisplay: block;\n\t\tfont-style: italic;\n\t`;\n\n\tswitch (size) {\n\t\tcase 'ginormous':\n\t\tcase 'huge':\n\t\t\tif (format.theme === ArticleSpecial.Labs) {\n\t\t\t\treturn css`\n\t\t\t\t\t${baseStyles};\n\t\t\t\t\t${textSans.xlarge()};\n\t\t\t\t\tfont-size: 24px;\n\t\t\t\t\tline-height: 24px;\n\t\t\t\t\t${until.desktop} {\n\t\t\t\t\t\t${textSans.xlarge()};\n\t\t\t\t\t\tline-height: 20px;\n\t\t\t\t\t}\n\t\t\t\t`;\n\t\t\t}\n\t\t\treturn css`\n\t\t\t\t${baseStyles};\n\t\t\t\t${headline.small()};\n\t\t\t\t${until.desktop} {\n\t\t\t\t\t${headline.xsmall()};\n\t\t\t\t}\n\t\t\t`;\n\t\tcase 'large': {\n\t\t\tif (format.theme === ArticleSpecial.Labs) {\n\t\t\t\treturn css`\n\t\t\t\t\t${baseStyles};\n\t\t\t\t\t${textSans.large()};\n\t\t\t\t\tfont-size: 24px;\n\t\t\t\t\tline-height: 24px;\n\t\t\t\t\t${until.desktop} {\n\t\t\t\t\t\t${textSans.large()};\n\t\t\t\t\t\tline-height: 20px;\n\t\t\t\t\t}\n\t\t\t\t`;\n\t\t\t}\n\t\t\treturn css`\n\t\t\t\t${baseStyles};\n\t\t\t\t${headline.xsmall()};\n\t\t\t\t${until.desktop} {\n\t\t\t\t\t${headline.xxsmall()};\n\t\t\t\t}\n\t\t\t`;\n\t\t}\n\t\tcase 'medium': {\n\t\t\tif (format.theme === ArticleSpecial.Labs) {\n\t\t\t\treturn css`\n\t\t\t\t\t${baseStyles};\n\t\t\t\t\t${textSans.large()};\n\t\t\t\t\tline-height: 20px;\n\t\t\t\t\t${until.desktop} {\n\t\t\t\t\t\t${textSans.medium()};\n\t\t\t\t\t\tline-height: 18px;\n\t\t\t\t\t}\n\t\t\t\t`;\n\t\t\t}\n\t\t\treturn css`\n\t\t\t\t${baseStyles};\n\t\t\t\t${headline.xxsmall()};\n\t\t\t\t${until.desktop} {\n\t\t\t\t\t${headline.xxxsmall()};\n\t\t\t\t}\n\t\t\t`;\n\t\t}\n\t\tcase 'small': {\n\t\t\tif (format.theme === ArticleSpecial.Labs) {\n\t\t\t\treturn css`\n\t\t\t\t\t${baseStyles};\n\t\t\t\t\t${textSans.medium()};\n\t\t\t\t\tline-height: 18px;\n\t\t\t\t`;\n\t\t\t}\n\t\t\treturn css`\n\t\t\t\t${baseStyles};\n\t\t\t\t${headline.xxxsmall()};\n\t\t\t`;\n\t\t}\n\t\tdefault:\n\t\t\treturn css``;\n\t}\n};\n\nconst colourStyles = (palette: Palette, isCard: Props['isCard']) => {\n\treturn css`\n\t\tcolor: ${isCard ? palette.text.cardByline : palette.text.byline};\n\t`;\n};\n\nexport const Byline = ({\n\ttext,\n\tformat,\n\tcontainerPalette,\n\tsize,\n\tisCard,\n}: Props) => {\n\tconst palette = decidePalette(format, containerPalette);\n\treturn (\n\t\t<span css={[bylineStyles(size, format), colourStyles(palette, isCard)]}>\n\t\t\t{text}\n\t\t</span>\n\t);\n};\n","import { jsx } from '@emotion/react/jsx-runtime';\n\nconst Option = ({ cssOverrides, children, ...props }) => {\n    return (jsx(\"option\", { css: cssOverrides, ...props, children: children }));\n};\n\nexport { Option };\n//# sourceMappingURL=Option.js.map\n","const stringifyFileBase64 = (file) => new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.addEventListener('load', () => {\n        // remove data:*/*;base64, from the start of the base64 string\n        const fileAsBase64 = reader.result?.toString().split(';base64,')[1];\n        if (fileAsBase64) {\n            resolve(fileAsBase64);\n        }\n        else {\n            reject(new Error('Sorry there was a problem with the file you uploaded.'));\n        }\n    }, false);\n    reader.addEventListener('error', () => {\n        reject(new Error('Sorry there was a problem with the file you uploaded above.'));\n    });\n    reader.readAsDataURL(file);\n});\nconst getReadableFileSize = (bytes) => {\n    if (bytes < 1024) {\n        return `${bytes} bytes`;\n    }\n    else if (bytes >= 1024 && bytes < 1048576) {\n        return `${(bytes / 1024).toFixed(1)} KB`;\n    }\n    return `${(bytes / 1048576).toFixed(1)} MB`;\n};\n\nexport { getReadableFileSize, stringifyFileBase64 };\n//# sourceMappingURL=fileHelpers.js.map\n","import { palette } from '@guardian/source-foundations';\n\nconst fileInputThemeDefault = {\n    fileInput: {\n        text: palette.brand[400],\n        supporting: palette.neutral[46],\n        primary: palette.neutral[7],\n        error: palette.error[400],\n        backgroundHover: '#E5E5E5',\n        textHover: palette.neutral[7],\n    },\n};\nconst fileInputDarkTheme = {\n    fileInput: {\n        text: palette.neutral[86],\n        supporting: palette.neutral[60],\n        primary: palette.neutral[86],\n        error: palette.error[500],\n        backgroundHover: palette.neutral[86],\n        textHover: palette.neutral[7],\n    },\n};\n\nexport { fileInputDarkTheme, fileInputThemeDefault };\n//# sourceMappingURL=theme.js.map\n","import { css } from '@emotion/react';\nimport { remSpace, height, fontWeights, space, textSans, remHeight, focusHalo } from '@guardian/source-foundations';\nimport { fileInputThemeDefault } from './theme.js';\n\nconst fileName = (fileInput = fileInputThemeDefault.fileInput) => css `\n\tcolor: ${fileInput.supporting};\n`;\nconst defaultUpload = css `\n\tpadding: ${remSpace[3]};\n\tborder-radius: ${height.ctaMedium}px;\n\tfont-weight: ${fontWeights.bold};\n`;\nconst smallUpload = css `\n\tpadding: ${remSpace[3]};\n\tborder-radius: ${height.ctaSmall}px;\n\tfont-weight: ${fontWeights.bold};\n`;\nconst xsmallUpload = css `\n\tpadding: 0 ${space[3]}px;\n\tpadding: ${remSpace[3]};\n\tborder-radius: ${height.ctaXsmall}px;\n\tfont-weight: ${fontWeights.bold};\n`;\nconst uploadSizes = {\n    default: defaultUpload,\n    small: smallUpload,\n    xsmall: xsmallUpload,\n};\nconst fontSizes = {\n    default: css `\n\t\t${textSans.medium()};\n\t`,\n    small: css `\n\t\t${textSans.small()};\n\t`,\n    xsmall: css `\n\t\t${textSans.xsmall()};\n\t`,\n};\nconst customUpload = (fileInput = fileInputThemeDefault.fileInput, hasError = false) => css `\n\tcolor: ${fileInput.text};\n\tdisplay: inline-flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tbox-sizing: border-box;\n\tbackground: transparent;\n\tcursor: pointer;\n\ttext-decoration: none;\n\twhite-space: nowrap;\n\tmargin: ${remSpace[2]} ${remSpace[2]} ${remSpace[2]} 0;\n\theight: ${remHeight.ctaXsmall}rem;\n\tmin-height: ${remHeight.ctaXsmall}rem;\n\tborder-radius: ${remHeight.ctaMedium}rem;\n\tcolor: ${fileInput.primary};\n\tborder: ${hasError\n    ? `4px solid ${fileInput.error}`\n    : `1px solid ${fileInput.primary}`};\n\n\t&:focus-within,\n\t&:focus {\n\t\t${focusHalo};\n\t}\n\t&:hover {\n\t\tcolor: ${fileInput.textHover};\n\t\tbackground-color: ${fileInput.backgroundHover};\n\t}\n`;\n\nexport { customUpload, fileName, fontSizes, uploadSizes };\n//# sourceMappingURL=styles.js.map\n","import { jsxs, jsx, Fragment } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden } from '@guardian/source-foundations';\nimport { Label, InlineError } from '@guardian/source-react-components';\nimport { useState } from 'react';\nimport { getReadableFileSize, stringifyFileBase64 } from './fileHelpers.js';\nimport { fontSizes, customUpload, uploadSizes, fileName } from './styles.js';\n\nconst FileInput = ({ id, label, optional, hideLabel, supporting, error, onError, onUpload, cssOverrides, validFileTypes = ['image/png', 'image/jpeg', 'image/jpg'], maxFileSize, size = 'default', ...props }) => {\n    const [fileName$1, setFileName] = useState();\n    const [uploadError, setUploadError] = useState();\n    const errorText = error ?? uploadError;\n    const onSelectFile = async (event) => {\n        setUploadError(undefined);\n        const file = event.target.files?.[0];\n        if (!file)\n            return;\n        if (!validFileTypes.includes(file.type)) {\n            const typeErrorMessage = `Sorry there was a problem with the file you uploaded. We accept ${validFileTypes.join(', ')}`;\n            setUploadError(typeErrorMessage);\n            return;\n        }\n        if (maxFileSize && file.size > maxFileSize) {\n            const sizeErrorMessage = `Sorry there was a problem with the file you uploaded. The max file size is ${getReadableFileSize(maxFileSize)}`;\n            setUploadError(sizeErrorMessage);\n            return;\n        }\n        setFileName(file.name);\n        try {\n            const stringifiedFile = await stringifyFileBase64(file);\n            onUpload?.(stringifiedFile);\n        }\n        catch (e) {\n            const error = e instanceof Error\n                ? e\n                : new Error('There was a problem uploading the file');\n            onError?.(error);\n        }\n    };\n    const onRemoveFile = () => {\n        setFileName(undefined);\n        onUpload?.(undefined);\n    };\n    return (jsxs(\"div\", { css: [cssOverrides, fontSizes[size]], children: [jsxs(Label, { id: id, text: label, supporting: supporting, optional: optional, hideLabel: hideLabel, cssOverrides: fontSizes[size], children: [!!errorText && jsx(InlineError, { children: errorText }), jsxs(\"div\", { css: [\n                            (theme) => customUpload(theme.fileInput, !!errorText),\n                            uploadSizes[size],\n                        ], children: [fileName$1 ? 'Change file' : 'Choose file', jsx(\"input\", { type: \"file\", accept: validFileTypes.join(','), css: css `\n\t\t\t\t\t\t\t${visuallyHidden}\n\t\t\t\t\t\t`, onChange: (e) => void onSelectFile(e), required: !optional, ...props })] })] }, id), fileName$1 && (jsxs(Fragment, { children: [optional && (jsx(\"button\", { css: [\n                            (theme) => customUpload(theme.fileInput),\n                            fontSizes[size],\n                            uploadSizes[size],\n                        ], onClick: onRemoveFile, children: \"Remove file\" })), jsx(\"span\", { css: (theme) => fileName(theme.fileInput), children: fileName$1 })] }))] }));\n};\n\nexport { FileInput };\n//# sourceMappingURL=FileInput.js.map\n","import {\n\tCheckbox,\n\tCheckboxGroup,\n\tOption,\n\tRadio,\n\tRadioGroup,\n\tSelect,\n\tTextArea,\n\tTextInput,\n} from '@guardian/source-react-components';\nimport { FileInput } from '@guardian/source-react-components-development-kitchen';\nimport { useEffect, useRef } from 'react';\nimport type {\n\tCampaignFieldType,\n\tMessageUsFieldType,\n} from '../../../types/content';\n\ntype FormDataType = { [key in string]: any };\n\ntype FormFieldProp = {\n\tvalidationErrors: { [key in string]: string };\n\tformField: CampaignFieldType | MessageUsFieldType;\n\tformData: FormDataType;\n\tpageId: string;\n\tsetFieldInFormData: (\n\t\tid: string,\n\t\tdata: string | string[] | undefined,\n\t) => void;\n};\n\nexport const FormField = ({\n\tformField,\n\tformData,\n\tsetFieldInFormData,\n\tpageId,\n\tvalidationErrors,\n}: FormFieldProp) => {\n\tconst { type, label, hideLabel, description, required, id } = formField;\n\n\tconst name = `field_${type}_${id}`;\n\tconst fieldValue =\n\t\tformField.id in formData ? (formData[formField.id] as string) : '';\n\tconst fieldError = validationErrors[formField.id];\n\n\tconst firstUpdate = useRef(true);\n\n\tuseEffect(() => {\n\t\tif (\n\t\t\tfirstUpdate.current &&\n\t\t\tformField.hidden &&\n\t\t\tformField.type === 'text'\n\t\t) {\n\t\t\tsetFieldInFormData(formField.id, pageId);\n\t\t\tfirstUpdate.current = false;\n\t\t}\n\t}, [formField, pageId, setFieldInFormData]);\n\n\tswitch (formField.type) {\n\t\tcase 'phone':\n\t\tcase 'email':\n\t\tcase 'text': {\n\t\t\tif (formField.hidden) return null;\n\t\t\treturn (\n\t\t\t\t<TextInput\n\t\t\t\t\tname={name}\n\t\t\t\t\tlabel={label}\n\t\t\t\t\thideLabel={hideLabel}\n\t\t\t\t\tsupporting={description}\n\t\t\t\t\toptional={!required}\n\t\t\t\t\tvalue={fieldValue}\n\t\t\t\t\terror={fieldError}\n\t\t\t\t\tdata-testid={`form-field-${formField.id}`}\n\t\t\t\t\ttype={formField.type}\n\t\t\t\t\tonChange={(e): void =>\n\t\t\t\t\t\tsetFieldInFormData(formField.id, e.target.value)\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\tcase 'textarea':\n\t\t\treturn (\n\t\t\t\t<TextArea\n\t\t\t\t\tname={name}\n\t\t\t\t\tlabel={label}\n\t\t\t\t\thideLabel={hideLabel}\n\t\t\t\t\tsupporting={description}\n\t\t\t\t\toptional={!required}\n\t\t\t\t\tvalue={fieldValue}\n\t\t\t\t\terror={fieldError}\n\t\t\t\t\tdata-testid={`form-field-${formField.id}`}\n\t\t\t\t\tonChange={(e): void =>\n\t\t\t\t\t\tsetFieldInFormData(formField.id, e.target.value)\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t);\n\t\tcase 'file':\n\t\t\treturn (\n\t\t\t\t<FileInput\n\t\t\t\t\tlabel={label}\n\t\t\t\t\thideLabel={hideLabel}\n\t\t\t\t\tsupporting={description}\n\t\t\t\t\toptional={!required}\n\t\t\t\t\terror={fieldError}\n\t\t\t\t\tdata-testid={`form-field-${formField.id}`}\n\t\t\t\t\tonUpload={(file: string | undefined): void =>\n\t\t\t\t\t\tsetFieldInFormData(formField.id, file)\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t);\n\t\tcase 'select':\n\t\t\treturn (\n\t\t\t\t<Select\n\t\t\t\t\tname={name}\n\t\t\t\t\tlabel={label}\n\t\t\t\t\thideLabel={hideLabel}\n\t\t\t\t\tsupporting={description}\n\t\t\t\t\toptional={!required}\n\t\t\t\t\tvalue={fieldValue}\n\t\t\t\t\terror={fieldError}\n\t\t\t\t\tdata-testid={`form-field-${formField.id}`}\n\t\t\t\t\tonChange={(e): void =>\n\t\t\t\t\t\tsetFieldInFormData(formField.id, e.target.value)\n\t\t\t\t\t}\n\t\t\t\t\tchildren={[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvalue: 'default',\n\t\t\t\t\t\t\tlabel: 'Please choose an option',\n\t\t\t\t\t\t},\n\t\t\t\t\t]\n\t\t\t\t\t\t.concat(formField.options)\n\t\t\t\t\t\t.map(({ value, label: formLabel }) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Option key={value} value={value}>\n\t\t\t\t\t\t\t\t\t{formLabel}\n\t\t\t\t\t\t\t\t</Option>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t/>\n\t\t\t);\n\t\tcase 'checkbox':\n\t\t\treturn (\n\t\t\t\t<CheckboxGroup\n\t\t\t\t\tname={name}\n\t\t\t\t\tlabel={label}\n\t\t\t\t\thideLabel={hideLabel}\n\t\t\t\t\tsupporting={description}\n\t\t\t\t\toptional={!required}\n\t\t\t\t\terror={fieldError ? fieldError : undefined}\n\t\t\t\t\tdata-testid={`form-field-${formField.id}`}\n\t\t\t\t>\n\t\t\t\t\t{formField.options.map((option) => {\n\t\t\t\t\t\tconst selectedCheckboxesArray: string[] =\n\t\t\t\t\t\t\tformData[formField.id] ?? [];\n\n\t\t\t\t\t\tconst isCheckboxChecked =\n\t\t\t\t\t\t\t!!selectedCheckboxesArray.find(\n\t\t\t\t\t\t\t\t(ele: string) => ele === option.value,\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\tconst filterOutCheckboxFromArray = () =>\n\t\t\t\t\t\t\tselectedCheckboxesArray.filter(\n\t\t\t\t\t\t\t\t(ele: string) => ele !== option.value,\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\tconst addCheckboxToArray = () => [\n\t\t\t\t\t\t\t...selectedCheckboxesArray,\n\t\t\t\t\t\t\toption.value,\n\t\t\t\t\t\t];\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\tname={name}\n\t\t\t\t\t\t\t\tkey={option.value}\n\t\t\t\t\t\t\t\tlabel={option.label}\n\t\t\t\t\t\t\t\tvalue={option.value}\n\t\t\t\t\t\t\t\tchecked={isCheckboxChecked}\n\t\t\t\t\t\t\t\terror={fieldError ? true : false}\n\t\t\t\t\t\t\t\tdata-testid={`form-field-${option.value}`}\n\t\t\t\t\t\t\t\tonChange={(): void =>\n\t\t\t\t\t\t\t\t\tsetFieldInFormData(\n\t\t\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\t\t\tisCheckboxChecked\n\t\t\t\t\t\t\t\t\t\t\t? filterOutCheckboxFromArray()\n\t\t\t\t\t\t\t\t\t\t\t: addCheckboxToArray(),\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</CheckboxGroup>\n\t\t\t);\n\t\tcase 'radio':\n\t\t\treturn (\n\t\t\t\t<RadioGroup\n\t\t\t\t\tlabel={formField.label}\n\t\t\t\t\tsupporting={formField.description}\n\t\t\t\t\terror={validationErrors[formField.id]}\n\t\t\t\t\tname={formField.name}\n\t\t\t\t\torientation={\n\t\t\t\t\t\tformField.options.length > 2 ? 'vertical' : 'horizontal'\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\t{formField.options.map((option, index) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Radio\n\t\t\t\t\t\t\t\tdata-testid={`form-field-${option.value}`}\n\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\tlabel={option.label}\n\t\t\t\t\t\t\t\tvalue={option.value}\n\t\t\t\t\t\t\t\tname={`${formField.id}`}\n\t\t\t\t\t\t\t\tchecked={\n\t\t\t\t\t\t\t\t\tformField.id in formData &&\n\t\t\t\t\t\t\t\t\tformData[formField.id] === option.value\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonChange={(e): void =>\n\t\t\t\t\t\t\t\t\tsetFieldInFormData(\n\t\t\t\t\t\t\t\t\t\tformField.id,\n\t\t\t\t\t\t\t\t\t\te.target.value,\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</RadioGroup>\n\t\t\t);\n\t\tdefault:\n\t\t\treturn null;\n\t}\n};\n","import { palette } from '@guardian/source-foundations';\n\nconst expandingWrapperThemeDefault = {\n    expander: {\n        background: palette.neutral[97],\n        horizontalRules: palette.neutral[86],\n        border: palette.neutral[7],\n        expandBackground: palette.neutral[7],\n        expandBackgroundHover: '#454545',\n        expandText: palette.neutral[100],\n        collapseBackground: palette.neutral[100],\n        collapseBackgroundHover: '#E5E5E5',\n        collapseText: palette.neutral[7],\n        collapseTextHover: palette.neutral[7],\n    },\n};\nconst expandingWrapperDarkTheme = {\n    expander: {\n        background: palette.neutral[20],\n        horizontalRules: palette.neutral[60],\n        border: palette.neutral[60],\n        expandBackground: palette.neutral[86],\n        expandBackgroundHover: palette.neutral[100],\n        expandText: palette.neutral[7],\n        collapseBackground: palette.neutral[10],\n        collapseText: palette.neutral[86],\n        collapseBackgroundHover: palette.neutral[86],\n        collapseTextHover: palette.neutral[7],\n    },\n};\n\nexport { expandingWrapperDarkTheme, expandingWrapperThemeDefault };\n//# sourceMappingURL=theme.js.map\n","import { css } from '@emotion/react';\nimport { remSpace, focusHalo, textSans, remHeight } from '@guardian/source-foundations';\nimport { expandingWrapperThemeDefault } from './theme.js';\n\nconst containerStyles = (expander = expandingWrapperThemeDefault.expander) => css `\n\tborder-image: repeating-linear-gradient(\n\t\t\tto bottom,\n\t\t\t${expander.horizontalRules},\n\t\t\t${expander.horizontalRules} 1px,\n\t\t\ttransparent 1px,\n\t\t\ttransparent 4px\n\t\t)\n\t\t13;\n\tborder-top: 13px solid ${expander.border};\n\tbackground: ${expander.background};\n\tbox-shadow: none;\n\tposition: relative;\n\tmargin-bottom: ${remSpace[9]};\n\n\t.expander__checkbox:checked ~ label {\n\t\tbackground: ${expander.collapseBackground};\n\t\tcolor: ${expander.collapseText};\n\t\tborder: 1px solid ${expander.collapseText};\n\n\t\t&:hover {\n\t\t\tbackground-color: ${expander.collapseBackgroundHover};\n\t\t\tcolor: ${expander.collapseTextHover};\n\n\t\t\t#svgminus {\n\t\t\t\tfill: ${expander.collapseTextHover};\n\t\t\t}\n\t\t}\n\n\t\t#svgminus {\n\t\t\tfill: ${expander.collapseText};\n\t\t}\n\t}\n\t.expander__checkbox ~ label #svgplus {\n\t\tfill: ${expander.expandText};\n\t}\n\n\t.expander__checkbox:checked ~ .expander__collapsible-body {\n\t\tmax-height: fit-content;\n\t\tmargin-bottom: ${remSpace[6]};\n\t}\n\n\t.expander__checkbox:focus ~ .expander__collapsible-body {\n\t\t${focusHalo};\n\t}\n`;\nconst overlayStyles = (expander = expandingWrapperThemeDefault.expander) => css `\n\tbackground-image: linear-gradient(\n\t\t0deg,\n\t\t${expander.background},\n\t\t${expander.background} 40%,\n\t\trgba(255, 255, 255, 0)\n\t);\n\theight: 5rem;\n\tposition: absolute;\n\tbottom: 0;\n\twidth: 100%;\n\tdisplay: block;\n`;\nconst showHideLabelStyles = (expander = expandingWrapperThemeDefault.expander) => css `\n\t${textSans.small({ fontWeight: 'bold' })};\n\tdisplay: inline-flex;\n\tjustify-content: space-between;\n\tbox-shadow: none;\n\talign-items: center;\n\tbox-sizing: border-box;\n\tcursor: pointer;\n\tposition: absolute;\n\tbottom: -${remHeight.ctaSmall / 2}rem;\n\tborder-radius: ${remHeight.ctaSmall}rem;\n\tpadding: 0 ${remSpace[4]};\n\tpadding-bottom: 2px;\n\tborder: 1px solid ${expander.expandBackground};\n\ttext-decoration: none;\n\tbackground: ${expander.expandBackground};\n\tcolor: ${expander.expandText};\n\theight: ${remHeight.ctaSmall}rem;\n\tmin-height: ${remHeight.ctaSmall}rem;\n\tmargin-left: ${remSpace[2]};\n\n\t&:hover {\n\t\tbackground-color: ${expander.expandBackgroundHover};\n\t}\n`;\nconst collapsibleBodyStyles = (collapsedHeight) => css `\n\tmargin: 0;\n\tmax-height: ${collapsedHeight};\n\toverflow: hidden;\n`;\nconst buttonIconStyles = css `\n\tsvg {\n\t\tdisplay: block;\n\t\twidth: 1.5rem;\n\t\theight: auto;\n\t\tmargin-left: -${remSpace[1]};\n\t\tmargin-right: ${remSpace[1]};\n\t}\n`;\nconst extraStyles = css `\n\tdisplay: flex;\n\talign-items: center;\n\tpadding: 0 ${remSpace[1]};\n\tposition: absolute;\n\tright: 0;\n\tmargin-top: -${remSpace[6]};\n`;\n\nexport { buttonIconStyles, collapsibleBodyStyles, containerStyles, extraStyles, overlayStyles, showHideLabelStyles };\n//# sourceMappingURL=styles.js.map\n","import { jsxs, jsx, Fragment } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden } from '@guardian/source-foundations';\nimport { SvgMinus, SvgPlus } from '@guardian/source-react-components';\nimport { useState, useEffect } from 'react';\nimport { containerStyles, collapsibleBodyStyles, overlayStyles, extraStyles, showHideLabelStyles, buttonIconStyles } from './styles.js';\n\nconst setTabIndex = (name, isExpanded) => {\n    const collapsibleBody = document.getElementById(`expander-${name}__collapsible-body`);\n    if (!collapsibleBody)\n        return;\n    const tabbableElements = Array.from(collapsibleBody.querySelectorAll('input,textarea,select,button,a'));\n    tabbableElements.forEach((element) => {\n        element.tabIndex = isExpanded ? 0 : -1;\n    });\n};\nconst ExpandingWrapper = ({ name, expandCallback, renderExtra, disableTabbingWhenCollapsed = true, children, cssOverrides, collapsedHeight = '240px', }) => {\n    const [isExpanded, setIsExpanded] = useState(false);\n    useEffect(() => {\n        disableTabbingWhenCollapsed && setTabIndex(name, isExpanded);\n    }, [disableTabbingWhenCollapsed, isExpanded]);\n    return (jsxs(\"div\", { id: `expander-${name}`, css: (theme) => [containerStyles(theme.expander), cssOverrides], children: [jsx(\"input\", { type: \"checkbox\", css: css `\n\t\t\t\t\t${visuallyHidden};\n\t\t\t\t`, className: \"expander__checkbox\", id: `expander-checkbox-${name}`, onChange: (e) => {\n                    expandCallback?.(e.target.checked);\n                    setIsExpanded(e.target.checked);\n                }, \"aria-label\": `${isExpanded ? 'Collapse' : 'Expand'} ${name && name}` }), jsx(\"div\", { className: \"expander__collapsible-body\", id: `expander-${name}__collapsible-body`, css: () => collapsibleBodyStyles(collapsedHeight), \"aria-hidden\": !isExpanded, children: children }), !isExpanded && (jsx(\"div\", { css: (theme) => overlayStyles(theme.expander) })), renderExtra && jsx(\"span\", { css: extraStyles, children: renderExtra() }), jsx(\"label\", { \"aria-hidden\": true, css: (theme) => showHideLabelStyles(theme.expander), htmlFor: `expander-checkbox-${name}`, children: isExpanded ? (jsxs(Fragment, { children: [jsx(\"span\", { id: \"svgminus\", css: buttonIconStyles, children: jsx(SvgMinus, {}) }), \"Show less\"] })) : (jsxs(Fragment, { children: [jsx(\"span\", { id: \"svgplus\", css: buttonIconStyles, children: jsx(SvgPlus, {}) }), \"Show more\"] })) })] }));\n};\n\nexport { ExpandingWrapper };\n//# sourceMappingURL=ExpandingWrapper.js.map\n","import { palette } from '@guardian/source-foundations';\n\nconst tabsThemeDefault = {\n    tabs: {\n        background: palette.neutral[97],\n        text: palette.neutral[7],\n        border: palette.neutral[60],\n        inactiveBackground: palette.neutral[86],\n    },\n};\nconst tabsDarkTheme = {\n    tabs: {\n        background: palette.neutral[20],\n        text: palette.neutral[97],\n        border: palette.neutral[60],\n        inactiveBackground: palette.neutral[7],\n    },\n};\n\nexport { tabsDarkTheme, tabsThemeDefault };\n//# sourceMappingURL=theme.js.map\n","import { css } from '@emotion/react';\nimport { textSans, space, from } from '@guardian/source-foundations';\nimport { tabsThemeDefault } from './theme.js';\n\nconst tabList = css `\n\tdisplay: flex;\n\talign-items: flex-end;\n\tjustify-content: flex-start;\n`;\nconst tabButton = (tabs = tabsThemeDefault.tabs) => css `\n\tbackground-color: ${tabs.background};\n\t${textSans.medium({\n    fontWeight: 'bold',\n})}\n\tposition: relative;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\ttext-decoration: none;\n\tappearance: none;\n\twidth: 100%;\n\tmin-height: ${space[12]}px;\n\talign-self: stretch;\n\ttext-align: left;\n\tcolor: ${tabs.text};\n\tpadding: ${space[2]}px ${space[3]}px;\n\tborder: 1px solid ${tabs.border};\n\tborder-bottom: none;\n\tcursor: pointer;\n\n\t:first-of-type {\n\t\tmargin-left: ${space[2]}px;\n\t\tborder-top-left-radius: ${space[2]}px;\n\t}\n\t:last-of-type {\n\t\tmargin-right: ${space[2]}px;\n\t\tborder-top-right-radius: ${space[2]}px;\n\t}\n\n\t${from.phablet} {\n\t\t${textSans.medium({\n    fontWeight: 'bold',\n})}\n\t\twidth: 210px;\n\t}\n\n\t&[aria-selected='false'] {\n\t\tbackground-color: ${tabs.inactiveBackground};\n\t}\n\n\t/* Pseudo-element that covers the tab panel bottom border for the active tab */\n\t&[aria-selected='true']::after {\n\t\tposition: absolute;\n\t\tz-index: 1;\n\t\tbottom: -1px;\n\t\tright: 0;\n\t\tleft: 0;\n\t\theight: 1px;\n\t\tbackground: inherit;\n\t\tcontent: '';\n\t}\n`;\nconst tabPanel = (tabs = tabsThemeDefault.tabs) => css `\n\tposition: relative;\n\tpadding: ${space[3]}px;\n\tbackground: ${tabs.background};\n\tborder-top: 1px solid ${tabs.border};\n\tcolor: ${tabs.text};\n`;\n\nexport { tabButton, tabList, tabPanel };\n//# sourceMappingURL=styles.js.map\n","import { jsxs, jsx } from '@emotion/react/jsx-runtime';\nimport { tabList, tabButton, tabPanel } from './styles.js';\n\nfunction Tabs({ tabsLabel, tabElement, tabs, selectedTab, onTabChange, }) {\n    const TabControllerElement = tabElement;\n    return (jsxs(\"div\", { children: [jsx(\"div\", { css: tabList, role: \"tablist\", \"aria-label\": tabsLabel, children: tabs.map((tab) => {\n                    return (jsx(TabControllerElement, { css: (theme) => tabButton(theme.tabs), role: \"tab\", id: tab.id, href: tab.href, \"aria-selected\": selectedTab === tab.id, \"aria-controls\": `${tab.id}-tab`, onClick: () => onTabChange(tab.id), children: tab.text }, tab.id));\n                }) }), tabs.map((tab) => (jsx(\"div\", { css: (theme) => tabPanel(theme.tabs), role: \"tabpanel\", id: `${tab.id}-tab`, \"aria-labelledby\": tab.id, hidden: !(tab.id === selectedTab), children: tab.content }, `${tab.id}-tab`)))] }));\n}\n\nexport { Tabs };\n//# sourceMappingURL=tabs.js.map\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden, iconSize } from '@guardian/source-foundations';\n\nconst Svg = ({ size }) => (jsx(\"svg\", { width: size ? iconSize[size] : undefined, height: undefined, viewBox: \"-3 -3 30 30\", xmlns: \"http://www.w3.org/2000/svg\", focusable: false, \"aria-hidden\": true, children: jsx(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M19 16c1.675 0 3 1.35 3 3 0 1.675-1.325 3-3 3a2.972 2.972 0 0 1-2.975-3c0-.125 0-.275.025-.375L7.1 14.15a2.908 2.908 0 0 1-2.075.825C3.325 14.975 2 13.65 2 12a3.004 3.004 0 0 1 3.025-3.025c.775 0 1.5.35 2.075.875l8.95-4.475c-.025-.1-.025-.225-.025-.4A2.966 2.966 0 0 1 19 2c1.675 0 3 1.325 3 2.975C22 6.65 20.675 8 19 8c-.8 0-1.475-.325-2.05-.825l-8.975 4.45C8 11.7 8 11.825 8 12s0 .3-.025.375l8.975 4.45c.575-.5 1.25-.825 2.05-.825Zm0-12.8c-.975 0-1.8.775-1.8 1.775 0 1 .825 1.825 1.8 1.825 1 0 1.825-.825 1.825-1.825S20 3.2 19 3.2Zm0 17.6c1 0 1.825-.825 1.825-1.8 0-1-.825-1.8-1.825-1.8-.975 0-1.8.8-1.8 1.8 0 .975.825 1.8 1.8 1.8Z\" }) }));\nconst SvgShare = ({ size, isAnnouncedByScreenReader = false, }) => (jsxs(Fragment, { children: [jsx(Svg, { size: size }), isAnnouncedByScreenReader ? (jsx(\"span\", { css: css `\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`, children: \"Share\" })) : ('')] }));\n\nexport { SvgShare };\n//# sourceMappingURL=SvgShare.js.map\n","import { css } from '@emotion/react';\nimport {\n\tbody,\n\tbrand,\n\tneutral,\n\tpalette,\n\tspace,\n\tsuccess,\n\ttextSans,\n} from '@guardian/source-foundations';\nimport {\n\tButton,\n\tSvgShare,\n\tSvgTickRound,\n} from '@guardian/source-react-components';\nimport { useState } from 'react';\nimport type { Palette } from '../../../types/palette';\nimport { decidePalette } from '../../lib/decidePalette';\n\n/* stylelint-disable-next-line color-no-hex */\nconst linkDecorationColour = '#12121240';\n\nexport const calloutLinkStyles = css`\n\ta {\n\t\tcolor: ${brand[500]};\n\t\ttext-decoration: none;\n\t\tborder-bottom: 1px solid ${linkDecorationColour};\n\t}\n\ta:hover,\n\ta:active {\n\t\tborder-bottom: 1px solid ${brand[500]};\n\t}\n`;\n\nconst descriptionStyles = (useBrandColour: boolean) => css`\n\t${!useBrandColour && calloutLinkStyles}\n\tpadding-bottom: ${space[4]}px;\n\t${body.medium()}\n\n\tp {\n\t\tmargin-bottom: ${space[3]}px;\n\t}\n`;\n\nexport const CalloutDescription = ({\n\tdescription,\n\tuseBrandColour,\n}: {\n\tdescription: string;\n\tuseBrandColour: boolean;\n}) => {\n\t// this data-ignore attribute ensures correct formatting for links when the callout is collapsible\n\tconst htmlSplit = description.split('href');\n\tconst withDataIgnore = htmlSplit.join(\n\t\t'data-ignore=\"global-link-styling\" href',\n\t);\n\treturn (\n\t\t<div css={descriptionStyles(useBrandColour)}>\n\t\t\t<div\n\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t__html: useBrandColour ? description : withDataIgnore,\n\t\t\t\t}}\n\t\t\t></div>\n\t\t\t<div>\n\t\t\t\tPlease share your story if you are 18 or over, anonymously if\n\t\t\t\tyou wish. For more information please see our{' '}\n\t\t\t\t<a\n\t\t\t\t\tdata-ignore={!useBrandColour && 'global-link-styling'}\n\t\t\t\t\thref=\"https://www.theguardian.com/help/terms-of-service\"\n\t\t\t\t>\n\t\t\t\t\tterms of service\n\t\t\t\t</a>{' '}\n\t\t\t\tand{' '}\n\t\t\t\t<a\n\t\t\t\t\tdata-ignore={!useBrandColour && 'global-link-styling'}\n\t\t\t\t\thref=\"https://www.theguardian.com/help/privacy-policy\"\n\t\t\t\t>\n\t\t\t\t\tprivacy policy\n\t\t\t\t</a>\n\t\t\t\t.\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nconst expiredStyles = css`\n\t${textSans.small()};\n\tcolor: ${palette.brand};\n\tbackground-color: ${palette.brandAlt[400]};\n\twidth: fit-content;\n`;\n\nexport const CalloutExpired = () => {\n\treturn (\n\t\t<div css={expiredStyles}>\n\t\t\t<p>This callout is now closed to any further submissions.</p>\n\t\t\t<p>\n\t\t\t\tYou can see{' '}\n\t\t\t\t<a href=\"https://www.theguardian.com/profile/guardian-community-team\">\n\t\t\t\t\tother Guardian community callouts here\n\t\t\t\t</a>{' '}\n\t\t\t\tor{' '}\n\t\t\t\t<a href=\"https://www.theguardian.com/community/2015/sep/02/guardianwitness-send-us-a-story\">\n\t\t\t\t\ttell us about a story here.\n\t\t\t\t</a>\n\t\t\t</p>\n\t\t</div>\n\t);\n};\n\nconst shareCalloutStyles = css`\n\tdisplay: flex;\n\talign-items: center;\n\tposition: relative;\n`;\n\nconst shareCalloutTextStyles = css`\n\t${textSans.xsmall()}\n`;\n\nconst shareCalloutLinkStyles = (\n\tuseBrandColour: boolean,\n\tbrandPalette: Palette,\n) => css`\n\t${textSans.xsmall()}\n\tcolor: ${useBrandColour ? brandPalette.text.articleLink : brand[500]};\n\tborder-bottom: 1px solid ${linkDecorationColour};\n\ttext-decoration: none;\n\ttransition: none;\n\t:hover,\n\t:active {\n\t\tborder-bottom: 1px solid\n\t\t\t${useBrandColour\n\t\t\t\t? brandPalette.border.articleLinkHover\n\t\t\t\t: brand[500]};\n\t}\n`;\n\nconst sharePopupStyles = css`\n\t${textSans.xsmall()};\n\tposition: absolute;\n\tdisplay: flex;\n\talign-items: center;\n\tmin-width: 180px;\n\ttransform: translate(100%, 0);\n\tbackground-color: ${neutral[100]};\n\tcolor: ${neutral[7]};\n\tfont-weight: normal;\n\tborder-radius: ${space[1]}px;\n\tz-index: 1;\n\tpadding: 0 ${space[1]}px 0 0;\n\tbox-shadow: 0px 2px ${space[2]}px rgba(0, 0, 0, 0.5);\n\n\t> svg {\n\t\tfill: ${success[400]};\n\t}\n`;\nconst shareIconStyles = (useBrandColour: boolean, brandPalette: Palette) => css`\n\tdisplay: inline-flex;\n\tmargin-right: ${space[2]}px;\n\tborder-radius: 50%;\n\tborder: 1px solid\n\t\t${useBrandColour ? brandPalette.text.articleLink : brand[500]};\n\tbox-sizing: border-box;\n\tfill: ${useBrandColour ? brandPalette.text.articleLink : brand[500]};\n\tpadding: 0.5px 0;\n`;\n\nexport const CalloutShare = ({\n\ttitle,\n\turlAnchor,\n\tuseBrandColour,\n\tformat,\n}: {\n\ttitle?: string;\n\turlAnchor: string;\n\tuseBrandColour: boolean;\n\tformat: ArticleFormat;\n}) => {\n\tconst [isCopied, setIsCopied] = useState(false);\n\tconst brandPalette = decidePalette(format);\n\n\tconst onShare = async () => {\n\t\tconst url = window.location.href;\n\t\tif (\n\t\t\t'share' in navigator &&\n\t\t\t/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\n\t\t\t\tnavigator.userAgent,\n\t\t\t)\n\t\t) {\n\t\t\tlet shareTitle = `Share your experience`;\n\t\t\tif (title) shareTitle += `: ${title}`;\n\n\t\t\tconst shareText = `\n\t\t\tI saw this callout in an article: ${url}#${urlAnchor}\n\t\t\tYou can share your story by using the form on this article, or by contacting the Guardian on WhatsApp, Signal or Telegram.`;\n\n\t\t\tawait navigator.share({\n\t\t\t\ttitle: shareTitle,\n\t\t\t\ttext: shareText,\n\t\t\t});\n\t\t\tsetIsCopied(true);\n\t\t\tsetTimeout(() => setIsCopied(false), 3000);\n\t\t} else if ('clipboard' in navigator) {\n\t\t\tawait navigator.clipboard.writeText(`${url}#${urlAnchor}`);\n\t\t\tsetIsCopied(true);\n\t\t\tsetTimeout(() => setIsCopied(false), 3000);\n\t\t}\n\t};\n\n\tif (typeof window === 'undefined' || typeof navigator === 'undefined')\n\t\treturn <></>;\n\n\treturn (\n\t\t<>\n\t\t\t<div css={shareCalloutStyles}>\n\t\t\t\t<span css={shareIconStyles(useBrandColour, brandPalette)}>\n\t\t\t\t\t<SvgShare size=\"small\" />\n\t\t\t\t</span>\n\t\t\t\t<div css={shareCalloutTextStyles}>\n\t\t\t\t\tKnow others who are affected?{' '}\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsize=\"xsmall\"\n\t\t\t\t\t\tpriority=\"subdued\"\n\t\t\t\t\t\tonClick={onShare}\n\t\t\t\t\t\tcssOverrides={shareCalloutLinkStyles(\n\t\t\t\t\t\t\tuseBrandColour,\n\t\t\t\t\t\t\tbrandPalette,\n\t\t\t\t\t\t)}\n\t\t\t\t\t>\n\t\t\t\t\t\tPlease share this callout.\n\t\t\t\t\t</Button>\n\t\t\t\t\t{isCopied && (\n\t\t\t\t\t\t<span css={sharePopupStyles} role=\"alert\">\n\t\t\t\t\t\t\t<SvgTickRound size=\"medium\" />\n\t\t\t\t\t\t\tLink copied to clipboard\n\t\t\t\t\t\t</span>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n\nconst termsAndConditionsStyles = css`\n\t${calloutLinkStyles}\n\t${textSans.small()}\n\tpadding-bottom: ${space[4]}px;\n`;\n\nexport const CalloutTermsAndConditions = () => (\n\t<div css={termsAndConditionsStyles}>\n\t\tYour responses, which can be anonymous, are secure as the form is\n\t\tencrypted and only the Guardian has access to your contributions. We\n\t\twill only use the data you provide us for the purpose of the feature and\n\t\twe will delete any personal data when we no longer require it for this\n\t\tpurpose. For true anonymity please use our{' '}\n\t\t<a\n\t\t\tdata-ignore=\"global-link-styling\"\n\t\t\thref=\"https://www.theguardian.com/securedrop\"\n\t\t>\n\t\t\tSecureDrop\n\t\t</a>{' '}\n\t\tservice instead.\n\t</div>\n);\n","import { css } from '@emotion/react';\nimport {\n\theadline,\n\tpalette,\n\tspace,\n\tsuccess,\n\ttextSans,\n} from '@guardian/source-foundations';\nimport { Button, SvgTickRound } from '@guardian/source-react-components';\nimport { ErrorSummary } from '@guardian/source-react-components-development-kitchen';\nimport { useState } from 'react';\nimport type { CampaignFieldType } from '../../../types/content';\nimport { CalloutTermsAndConditions } from './CalloutComponents';\nimport { FormField } from './FormField';\n\nconst textStyles = css`\n\t${textSans.xsmall()};\n\tpadding-bottom: 16px;\n`;\n\nconst successStyles = css`\n\t${textSans.xsmall()};\n\tpadding-bottom: 44px;\n`;\n\nconst tickBoxStyles = css`\n\tfill: ${success[400]};\n\twidth: 48px;\n`;\nconst errorTextStyles = css`\n\tcolor: ${palette.error[400]};\n\t${textSans.medium({ fontWeight: 'bold' })};\n\tdisplay: flex;\n`;\n\nconst formStyles = css`\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: space-between;\n`;\n\nconst formFieldWrapperStyles = (hidden: boolean) => css`\n\tdisplay: flex;\n\tflex-direction: column;\n\tmargin-bottom: ${hidden ? 0 : space[4]}px;\n`;\nconst submitButtonStyles = css`\n\tmargin: 20px 0px;\n\twidth: 100%;\n\tdisplay: block;\n`;\n\nconst footerPaddingStyles = css`\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: space-between;\n\tpadding-bottom: ${space[4]}px;\n`;\n\ntype FormDataType = { [key in string]: any };\n\ntype FormProps = {\n\tformFields: CampaignFieldType[];\n\tsubmissionURL: string;\n\tformID: string;\n\tpageId: string;\n};\n\nexport const Form = ({\n\tformFields,\n\tsubmissionURL,\n\tformID,\n\tpageId,\n}: FormProps) => {\n\tconst [formData, setFormData] = useState<FormDataType>({});\n\tconst [validationErrors, setValidationErrors] = useState<{\n\t\t[key in string]: string;\n\t}>({});\n\n\tconst [networkError, setNetworkError] = useState('');\n\tconst [submissionSuccess, setSubmissionSuccess] = useState(false);\n\tconst [twitterHandle, setTwitterHandle] = useState('');\n\n\tconst setFieldInFormData = (\n\t\tid: string,\n\t\tdata: string | string[] | undefined,\n\t): void => {\n\t\tconst currentErrors = validationErrors;\n\t\tcurrentErrors[id] = '';\n\t\tsetValidationErrors(currentErrors);\n\n\t\tsetFormData({\n\t\t\t...formData,\n\t\t\t[id]: data,\n\t\t});\n\t};\n\n\tconst validateForm = (): boolean => {\n\t\tconst errors: { [key in string]: string } = {};\n\t\tlet isValid = true;\n\t\tformFields.forEach((field: CampaignFieldType) => {\n\t\t\tif (field.required && !formData[field.id]) {\n\t\t\t\terrors[field.id] = 'This field is required';\n\t\t\t\tisValid = false;\n\t\t\t}\n\t\t\tif (field.type === 'select' && field.required) {\n\t\t\t\tif (formData[field.id] === 'Please choose an option') {\n\t\t\t\t\terrors[field.id] =\n\t\t\t\t\t\t'Please choose an option from the dropdown menu';\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (field.id === 'email' && formData[field.id]) {\n\t\t\t\tconst emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n\t\t\t\tif (!emailRegex.test(formData[field.id] as string)) {\n\t\t\t\t\terrors[field.id] = 'Please enter a valid email address';\n\t\t\t\t\tisValid = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (\n\t\t\t\t['number', 'phone'].includes(field.type) &&\n\t\t\t\tformData[field.id]\n\t\t\t) {\n\t\t\t\tconst numberRegex = /^[\\d ()+-]+$/;\n\t\t\t\tif (!numberRegex.test(formData[field.id] as string)) {\n\t\t\t\t\terrors[field.id] = 'Please enter a valid number';\n\t\t\t\t\tisValid = false;\n\t\t\t\t}\n\t\t\t\tconst noWhiteSpace = formData[field.id] as string;\n\t\t\t\tif (noWhiteSpace.length < 10) {\n\t\t\t\t\terrors[field.id] = 'Please include your dialling/area code';\n\t\t\t\t\tisValid = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn isValid;\n\t\t});\n\t\tsetValidationErrors(errors);\n\t\treturn Object.keys(errors).length === 0;\n\t};\n\n\tconst cleanFormData = (data: undefined | string | string[]) => {\n\t\tif (Array.isArray(data)) {\n\t\t\treturn data.join('\\n');\n\t\t}\n\n\t\treturn data;\n\t};\n\n\tconst submitForm = async (form: FormDataType) => {\n\t\tsetNetworkError('');\n\n\t\tif (formData.twitterHandle) {\n\t\t\tsetNetworkError('Sorry we think you are a robot.');\n\t\t\treturn;\n\t\t}\n\t\t// need to add prefix `field_` to all keys in form, required by formstack\n\t\tconst formDataWithFieldPrefix = Object.keys(formData).reduce(\n\t\t\t(acc, cur) => ({\n\t\t\t\t...acc,\n\t\t\t\t[`field_${cur}`]: cleanFormData(form[cur]),\n\t\t\t}),\n\t\t\t{},\n\t\t);\n\t\treturn fetch(submissionURL, {\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\tformId: formID,\n\t\t\t\t...formDataWithFieldPrefix,\n\t\t\t}),\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/x-www-form-urlencoded',\n\t\t\t},\n\t\t})\n\t\t\t.then((resp) => {\n\t\t\t\tif (resp.status === 201) {\n\t\t\t\t\tsetSubmissionSuccess(true);\n\t\t\t\t} else {\n\t\t\t\t\tsetNetworkError(\n\t\t\t\t\t\t'Sorry, there was a problem submitting your form. Please try again later.',\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((respError) => {\n\t\t\t\twindow.guardian.modules.sentry.reportError(\n\t\t\t\t\trespError,\n\t\t\t\t\t'callout-embed-submission',\n\t\t\t\t);\n\n\t\t\t\tsetNetworkError(\n\t\t\t\t\t'Sorry, there was a problem submitting your form. Please try again later.',\n\t\t\t\t);\n\t\t\t});\n\t};\n\n\tif (submissionSuccess) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<div css={tickBoxStyles}>\n\t\t\t\t\t<SvgTickRound />\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tcss={css`\n\t\t\t\t\t\t${headline.xxsmall({ fontWeight: 'bold' })}\n\t\t\t\t\t`}\n\t\t\t\t>\n\t\t\t\t\tThank you!\n\t\t\t\t</div>\n\t\t\t\t<div css={successStyles}>\n\t\t\t\t\tYour story has been submitted successfully. One of our\n\t\t\t\t\tjournalists will be in touch if we wish to take your\n\t\t\t\t\tsubmission further.\n\t\t\t\t</div>\n\t\t\t</>\n\t\t);\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<CalloutTermsAndConditions />\n\t\t\t<form\n\t\t\t\taction=\"/formstack-campaign/submit\"\n\t\t\t\tmethod=\"post\"\n\t\t\t\tcss={formStyles}\n\t\t\t\tnoValidate={true}\n\t\t\t\tonSubmit={(e) => {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tconst isValid = validateForm();\n\t\t\t\t\tif (!isValid) {\n\t\t\t\t\t\tconst firstInvalidFormElement: HTMLInputElement =\n\t\t\t\t\t\t\tdocument.querySelectorAll(\n\t\t\t\t\t\t\t\t':invalid',\n\t\t\t\t\t\t\t)[1] as HTMLInputElement;\n\t\t\t\t\t\tfirstInvalidFormElement.focus();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tvoid submitForm(formData);\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{Object.values(validationErrors).filter((err) => err !== '')\n\t\t\t\t\t.length > 0 && (\n\t\t\t\t\t<ErrorSummary\n\t\t\t\t\t\tmessage=\"Some information is missing.\"\n\t\t\t\t\t\tcontext=\"Please complete all required fields.\"\n\t\t\t\t\t\tcssOverrides={css`\n\t\t\t\t\t\t\twidth: fit-content;\n\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\tmargin-bottom: ${space[4]}px;\n\t\t\t\t\t\t`}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\t{formFields.map((formField) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tcss={formFieldWrapperStyles(!!formField.hidden)}\n\t\t\t\t\t\t\tkey={formField.id}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<FormField\n\t\t\t\t\t\t\t\tformField={formField}\n\t\t\t\t\t\t\t\tformData={formData}\n\t\t\t\t\t\t\t\tsetFieldInFormData={setFieldInFormData}\n\t\t\t\t\t\t\t\tvalidationErrors={validationErrors}\n\t\t\t\t\t\t\t\tpageId={pageId}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t\t<div css={textStyles}>\n\t\t\t\t\tBy submitting your response, you are agreeing to share your\n\t\t\t\t\tdetails with us for this feature.\n\t\t\t\t</div>\n\t\t\t\t{/* this element is a H O N £ Y - P 0 T */}\n\t\t\t\t<div\n\t\t\t\t\tcss={css`\n\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\tleft: -62.5rem;\n\t\t\t\t\t`}\n\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t>\n\t\t\t\t\t<input\n\t\t\t\t\t\tname=\"twitter-handle\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tid=\"twitter-handle\"\n\t\t\t\t\t\ttabIndex={-1}\n\t\t\t\t\t\tplaceholder=\"@mytwitterhandle\"\n\t\t\t\t\t\tvalue={twitterHandle}\n\t\t\t\t\t\tonChange={(e) => setTwitterHandle(e.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t{!!networkError && (\n\t\t\t\t\t<div css={errorTextStyles}>{networkError}</div>\n\t\t\t\t)}\n\t\t\t\t<div css={footerPaddingStyles}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tpriority=\"primary\"\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tcssOverrides={submitButtonStyles}\n\t\t\t\t\t>\n\t\t\t\t\t\tSubmit\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</>\n\t);\n};\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden, iconSize } from '@guardian/source-foundations';\n\nconst Svg = ({ size }) => (jsxs(\"svg\", { width: size ? iconSize[size] : undefined, height: undefined, viewBox: \"-3 -3 30 30\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", focusable: false, \"aria-hidden\": true, children: [jsx(\"mask\", { id: \"mask0_4181_6918\", style: { maskType: 'luminance' }, maskUnits: \"userSpaceOnUse\", x: \"2\", y: \"2\", width: \"20\", height: \"20\", children: jsx(\"path\", { d: \"M2 2H22V22H2V2Z\", fill: \"white\" }) }), jsxs(\"g\", { mask: \"url(#mask0_4181_6918)\", children: [jsx(\"mask\", { id: \"mask1_4181_6918\", style: { maskType: 'luminance' }, maskUnits: \"userSpaceOnUse\", x: \"2\", y: \"2\", width: \"20\", height: \"20\", children: jsx(\"path\", { d: \"M22 2H2V22H22V2Z\", fill: \"white\" }) }), jsxs(\"g\", { mask: \"url(#mask1_4181_6918)\", children: [jsx(\"path\", { d: \"M12 20.8892C14.3572 20.8883 16.6176 19.9514 18.2843 18.2846C19.951 16.6177 20.8877 14.3572 20.8883 12C20.8877 9.6428 19.951 7.38232 18.2843 5.71544C16.6176 4.04857 14.3572 3.11172 12 3.11084C9.64266 3.1115 7.38205 4.04825 5.71515 5.71515C4.04825 7.38205 3.1115 9.64266 3.11084 12C3.1115 14.3574 4.04825 16.618 5.71515 18.2849C7.38205 19.9518 9.64266 20.8885 12 20.8892Z\", fill: \"#2EDB2A\" }), jsx(\"path\", { d: \"M4.27417 15.1625L8.52418 19.2642L2.84167 20.8925L4.27417 15.1617V15.1625Z\", fill: \"#2EDB2A\" }), jsx(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M19.0858 4.90583C17.2058 3.03333 14.7058 2.00167 12.0417 2C6.55333 2 2.08583 6.44583 2.08333 11.91C2.0825 13.6567 2.54083 15.3617 3.4125 16.8642L2 22L7.27917 20.6217C8.73333 21.4108 10.3717 21.8275 12.0375 21.8283H12.0417C17.53 21.8283 21.9975 17.3825 22 11.9183C22.0037 10.6147 21.748 9.32339 21.2476 8.1196C20.7473 6.91581 20.0125 5.82279 19.0858 4.90583ZM12.0417 20.155H12.0383C10.5568 20.1554 9.10219 19.7589 7.82583 19.0067L7.52333 18.8283L4.39083 19.6458L5.2275 16.6067L5.03083 16.295C4.2025 14.9842 3.765 13.4675 3.765 11.9117C3.76667 7.37 7.48 3.675 12.0458 3.675C14.2567 3.67583 16.335 4.53333 17.8975 6.09083C19.46 7.64833 20.32 9.7175 20.32 11.9183C20.3175 16.4608 16.605 20.1567 12.0425 20.1567L12.0417 20.155ZM16.5817 13.985C16.3325 13.8608 15.1092 13.2617 14.8817 13.18C14.6542 13.0983 14.4875 13.0558 14.3217 13.3042C14.1558 13.5525 13.6792 14.1092 13.5342 14.275C13.3892 14.4408 13.2433 14.4608 12.995 14.3375C12.7467 14.2142 11.9442 13.9525 10.9933 13.1083C10.2533 12.4517 9.75417 11.6408 9.60917 11.3925C9.46417 11.1442 9.59417 11.0108 9.71833 10.8875C9.83 10.7767 9.9675 10.5983 10.0917 10.4533C10.2158 10.3083 10.2575 10.2058 10.3408 10.04C10.4242 9.87417 10.3825 9.73 10.32 9.60583C10.2575 9.48167 9.76 8.2625 9.55333 7.7675C9.35167 7.28417 9.14667 7.35 8.99333 7.3425C8.84833 7.33583 8.68167 7.33333 8.51583 7.33333C8.3899 7.33665 8.266 7.36589 8.15187 7.41923C8.03774 7.47256 7.93583 7.54885 7.8525 7.64333C7.62417 7.89083 6.98167 8.49 6.98167 9.70917C6.98167 10.9283 7.87333 12.105 7.9975 12.2708C8.12167 12.4367 9.75167 14.9375 12.2483 16.01C12.8417 16.265 13.305 16.4175 13.6675 16.5317C14.2642 16.72 14.8058 16.6942 15.235 16.63C15.7125 16.5592 16.7075 16.0308 16.9142 15.4525C17.1208 14.8742 17.1217 14.3783 17.0592 14.275C16.9967 14.1717 16.8308 14.11 16.5817 13.9858V13.985Z\", fill: \"white\" })] })] })] }));\nconst SvgWhatsAppBrand = ({ size, isAnnouncedByScreenReader = false, }) => (jsxs(Fragment, { children: [jsx(Svg, { size: size }), isAnnouncedByScreenReader ? (jsx(\"span\", { css: css `\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`, children: \"WhatsApp logo\" })) : ('')] }));\n\nexport { SvgWhatsAppBrand };\n//# sourceMappingURL=SvgWhatsAppBrand.js.map\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden, iconSize } from '@guardian/source-foundations';\n\nconst Svg = ({ size }) => (jsx(\"svg\", { width: size ? iconSize[size] : undefined, height: undefined, viewBox: \"-3 -3 30 30\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", focusable: false, \"aria-hidden\": true, children: jsx(\"path\", { d: \"m9.6 2.292.225.91A9.037 9.037 0 0 0 7.313 4.24l-.481-.803A9.955 9.955 0 0 1 9.6 2.292Zm4.8 0-.225.91a9.037 9.037 0 0 1 2.512 1.039l.485-.803A9.95 9.95 0 0 0 14.4 2.292ZM3.438 6.832a9.965 9.965 0 0 0-1.145 2.768l.909.225A9.048 9.048 0 0 1 4.24 7.312l-.803-.481Zm-.5 5.168c0-.454.033-.908.101-1.357l-.926-.141c-.15.993-.15 2.003 0 2.997l.926-.141a9.14 9.14 0 0 1-.101-1.358Zm14.231 8.562-.482-.803c-.779.47-1.625.82-2.509 1.039l.225.909a9.973 9.973 0 0 0 2.766-1.145Zm3.893-8.562c0 .455-.033.908-.101 1.358l.927.14c.15-.993.15-2.003 0-2.996l-.927.14c.068.45.102.904.102 1.358Zm.645 2.4-.909-.225a9.05 9.05 0 0 1-1.039 2.513l.803.484c.52-.861.905-1.795 1.145-2.772Zm-8.35 6.562c-.9.136-1.815.136-2.715 0l-.141.927c.993.15 2.003.15 2.997 0l-.14-.927Zm5.938-3.586a9.087 9.087 0 0 1-1.92 1.918l.557.755a10.017 10.017 0 0 0 2.119-2.112l-.756-.561Zm-1.92-12.67a9.079 9.079 0 0 1 1.92 1.92l.755-.563a10.017 10.017 0 0 0-2.113-2.113l-.562.755Zm-12.67 1.92a9.079 9.079 0 0 1 1.92-1.92l-.562-.755A10.017 10.017 0 0 0 3.95 6.062l.755.563Zm15.857.206-.803.48c.471.78.821 1.626 1.04 2.51l.909-.225a9.933 9.933 0 0 0-1.145-2.765Zm-9.92-3.792a9.156 9.156 0 0 1 2.716 0l.141-.927c-.993-.15-2.003-.15-2.997 0l.14.927ZM5.188 20.298l-1.936.451.452-1.936-.913-.214-.452 1.936a.937.937 0 0 0 1.127 1.127l1.934-.444-.212-.92Zm-2.202-2.535.913.213.312-1.343a9.025 9.025 0 0 1-1.007-2.459l-.91.225c.205.829.514 1.628.922 2.377l-.23.987Zm4.375 2.031-1.342.313.212.912.988-.23c.749.409 1.548.718 2.376.922l.225-.91a9.02 9.02 0 0 1-2.453-1.013l-.006.006ZM12 3.875a8.125 8.125 0 0 0-6.875 12.448l-.78 3.332 3.332-.78a8.125 8.125 0 1 0 4.323-15Z\", fill: \"#3A76F0\" }) }));\nconst SvgSignalBrand = ({ size, isAnnouncedByScreenReader = false, }) => (jsxs(Fragment, { children: [jsx(Svg, { size: size }), isAnnouncedByScreenReader ? (jsx(\"span\", { css: css `\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`, children: \"Signal logo\" })) : ('')] }));\n\nexport { SvgSignalBrand };\n//# sourceMappingURL=SvgSignalBrand.js.map\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden, iconSize } from '@guardian/source-foundations';\n\nconst Svg = ({ size }) => (jsxs(\"svg\", { width: size ? iconSize[size] : undefined, height: undefined, viewBox: \"-3 -3 30 30\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", focusable: false, \"aria-hidden\": true, children: [jsx(\"path\", { d: \"M12 22C17.5233 22 22 17.5233 22 12C22 6.47667 17.5233 2 12 2C6.47667 2 2 6.4775 2 12C2 17.5225 6.4775 22 12 22Z\", fill: \"url(#paint0_linear_4181_6917)\" }), jsx(\"path\", { d: \"M6.52666 11.8942L12.3583 9.37833L16.0892 8.01583C16.2273 8.01282 16.3628 8.05335 16.4767 8.13166C16.5558 8.20083 16.6067 8.29749 16.6192 8.40249C16.6394 8.53257 16.6449 8.6645 16.6358 8.79583C16.485 10.3767 15.8342 14.215 15.5042 15.9858C15.3642 16.7408 15.0875 16.9917 14.8208 17.0108C14.24 17.0642 13.7992 16.6275 13.2375 16.2558L11.0058 14.7567C10.0183 14.1067 10.6583 13.7508 11.2208 13.1642L13.9767 10.4725C13.9833 10.4417 13.9825 10.4092 13.9742 10.3783C13.9658 10.3475 13.9508 10.3192 13.93 10.295C13.8992 10.2758 13.865 10.2633 13.8283 10.26C13.7917 10.2567 13.7558 10.2617 13.7225 10.275C13.6342 10.295 12.2283 11.2242 9.50499 13.0625C9.10582 13.3367 8.74416 13.47 8.42083 13.4625C8.06333 13.455 7.37666 13.2608 6.86583 13.095C6.23666 12.8908 5.74166 12.7842 5.78499 12.4383C5.80583 12.2642 6.05249 12.0825 6.52666 11.8942Z\", fill: \"white\" }), jsx(\"defs\", { children: jsxs(\"linearGradient\", { id: \"paint0_linear_4181_6917\", x1: \"11.8742\", y1: \"1.81167\", x2: \"11.8742\", y2: \"21.9375\", gradientUnits: \"userSpaceOnUse\", children: [jsx(\"stop\", { stopColor: \"#2AABEE\" }), jsx(\"stop\", { offset: \"1\", stopColor: \"#229ED9\" })] }) })] }));\nconst SvgTelegramBrand = ({ size, isAnnouncedByScreenReader = false, }) => (jsxs(Fragment, { children: [jsx(Svg, { size: size }), isAnnouncedByScreenReader ? (jsx(\"span\", { css: css `\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`, children: \"Telegram logo\" })) : ('')] }));\n\nexport { SvgTelegramBrand };\n//# sourceMappingURL=SvgTelegramBrand.js.map\n","import { css } from '@emotion/react';\nimport { space, textSans } from '@guardian/source-foundations';\nimport {\n\tLinkButton,\n\tSvgSignalBrand,\n\tSvgTelegramBrand,\n\tSvgWhatsAppBrand,\n} from '@guardian/source-react-components';\nimport type { FC, ReactElement } from 'react';\nimport type { CalloutContactType } from '../../../types/content';\nimport { calloutLinkStyles } from './CalloutComponents';\n\nconst calloutPrimaryButtonStyles = css`\n\twidth: 100%;\n\tjustify-content: center;\n\tmargin-top: ${space[4]}px;\n\n\t:last-of-type {\n\t\tmargin-bottom: ${space[6]}px;\n\t}\n`;\n\nconst infoStyles = css`\n\t${calloutLinkStyles}\n\tmargin-bottom: ${space[2]}px;\n\t${textSans.xsmall()};\n`;\n\nexport const formatContactType = (s: string): string =>\n\ts.toLowerCase() === 'whatsapp'\n\t\t? 'WhatsApp'\n\t\t: s.charAt(0).toUpperCase() + s.slice(1);\n\nexport const conditionallyRenderContactIcon = (name: string): ReactElement => {\n\tswitch (name.toLowerCase()) {\n\t\tcase 'whatsapp':\n\t\t\treturn <SvgWhatsAppBrand size=\"small\" />;\n\t\tcase 'signal':\n\t\t\treturn <SvgSignalBrand size=\"small\" />;\n\t\tcase 'telegram':\n\t\t\treturn <SvgTelegramBrand size=\"small\" />;\n\t\tdefault:\n\t\t\treturn <></>;\n\t}\n};\n\nexport const formatContactNumbers = (\n\tcontacts: CalloutContactType[],\n): string => {\n\tconst contactNumbers = new Map<string, string[]>();\n\n\t// Group each contact by its value, so we can display multiple names for the same number.\n\tcontacts.forEach(({ name, value }) => {\n\t\tif (!contactNumbers.has(value)) contactNumbers.set(value, []);\n\t\tcontactNumbers.get(value)?.push(name);\n\t});\n\n\t// Join the names for each number together,\n\t// and then join all the numbers together into a readable string.\n\treturn [...contactNumbers.entries()].reduce(\n\t\t(acc, [value, names], index) => {\n\t\t\tconst namesString = names\n\t\t\t\t.map((name) => formatContactType(name))\n\t\t\t\t.join(' or ');\n\t\t\treturn (\n\t\t\t\tacc + (index === 0 ? '' : ' or ') + `${namesString} at ${value}`\n\t\t\t);\n\t\t},\n\t\t'Contact us on ',\n\t);\n};\n\nconst Disclaimer: FC<{ contacts: CalloutContactType[] }> = ({ contacts }) => {\n\tconst contactText = (\n\t\t<p css={infoStyles}>{formatContactNumbers(contacts)}.</p>\n\t);\n\n\t// If any of the contacts have guidance, display it in a readable string.\n\tconst guidanceText = (\n\t\t<span>\n\t\t\tFor more information, please see our guidance on{' '}\n\t\t\t{contacts.map(\n\t\t\t\t(contact, i) =>\n\t\t\t\t\tcontact.guidance && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t\thref={contact.guidance}\n\t\t\t\t\t\t\t\tdata-ignore=\"global-link-styling\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tcontacting us via{' '}\n\t\t\t\t\t\t\t\t{formatContactType(contact.name)}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t{i === contacts.length - 1 ? '.' : ', '}\n\t\t\t\t\t\t</>\n\t\t\t\t\t),\n\t\t\t)}\n\t\t</span>\n\t);\n\n\tconst secureDropText = (\n\t\t<span>\n\t\t\tFor true anonymity please use our{' '}\n\t\t\t<a\n\t\t\t\thref=\"https://www.theguardian.com/securedrop\"\n\t\t\t\tdata-ignore=\"global-link-styling\"\n\t\t\t>\n\t\t\t\tSecureDrop\n\t\t\t</a>{' '}\n\t\t\tservice instead.\n\t\t</span>\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t{contactText}\n\t\t\t<p css={infoStyles}>\n\t\t\t\t{contacts.some((c) => !!c.guidance) && guidanceText}{' '}\n\t\t\t\t{secureDropText}\n\t\t\t</p>\n\t\t</>\n\t);\n};\n\nconst MessageUs: FC<{ contacts: CalloutContactType[] }> = ({ contacts }) => {\n\treturn (\n\t\t<div className=\"js-message-us-tab\">\n\t\t\t<Disclaimer contacts={contacts} />\n\n\t\t\t{contacts.map((contact, i) =>\n\t\t\t\t!!contact.urlPrefix && !!contact.value ? (\n\t\t\t\t\t<LinkButton\n\t\t\t\t\t\tdata-ignore=\"global-link-styling\"\n\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\tcss={calloutPrimaryButtonStyles}\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tpriority=\"primary\"\n\t\t\t\t\t\thref={`${contact.urlPrefix}${contact.value}`}\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\t\ticon={conditionallyRenderContactIcon(contact.name)}\n\t\t\t\t\t>\n\t\t\t\t\t\tMessage us on {formatContactType(contact.name)}\n\t\t\t\t\t</LinkButton>\n\t\t\t\t) : (\n\t\t\t\t\t<></>\n\t\t\t\t),\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport { MessageUs };\n","import { css } from '@emotion/react';\nimport { brand, headline, neutral, space } from '@guardian/source-foundations';\nimport { Tabs } from '@guardian/source-react-components-development-kitchen';\nimport { useState } from 'react';\nimport type {\n\tCalloutContactType,\n\tCampaignFieldType,\n} from '../../../types/content';\nimport { CalloutDescription, CalloutShare } from './CalloutComponents';\nimport { Form } from './Form';\nimport { conditionallyRenderContactIcon, MessageUs } from './MessageUs';\n\nconst summaryContentWrapper = (isNonCollapsible: boolean) => css`\n\tvisibility: visible;\n\tpadding-top: 2px;\n\tpadding-bottom: ${space[6]}px;\n\tpadding-left: ${isNonCollapsible ? 0 : space[2]}px;\n\tpadding-right: ${isNonCollapsible ? 0 : space[2]}px;\n`;\n\nconst promptStyles = (isNonCollapsible: boolean) => css`\n\t${headline.xxsmall({ fontWeight: 'bold' })};\n\tcolor: ${isNonCollapsible ? neutral[7] : brand[500]};\n`;\n\nconst subtitleTextHeaderStyles = css`\n\t${headline.xxsmall()}\n\tpadding-bottom: ${space[3]}px;\n`;\n\nconst tabTitle = css`\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\talign-items: center;\n\tjustify-content: center;\n`;\n\nconst tabIcons = css`\n\tpadding-left: ${space[1]}px;\n\tdisplay: flex;\n\talign-items: center;\n`;\n\nexport interface CalloutBlockProps {\n\tprompt: string;\n\theading: string;\n\tdescription: string;\n\tformFields: CampaignFieldType[];\n\tformId: string;\n\tsubmissionURL: string;\n\tisExpired: boolean;\n\tisNonCollapsible: boolean;\n\tcontacts?: CalloutContactType[];\n\tpageId: string;\n\tformat: ArticleFormat;\n}\n\nexport const CalloutBlock = ({\n\tprompt,\n\theading,\n\tdescription,\n\tformFields,\n\tformId,\n\tsubmissionURL,\n\tisNonCollapsible,\n\tcontacts,\n\tpageId,\n\tformat,\n}: CalloutBlockProps) => {\n\tconst [selectedTab, setSelectedTab] = useState('form');\n\tconst shouldShowContacts = contacts && contacts.length > 0;\n\tconst shouldShowHeading = !!heading && !isNonCollapsible;\n\tconst tabsContent = [\n\t\t{\n\t\t\tid: 'form',\n\t\t\ttext: <div>Tell us here</div>,\n\t\t\tcontent: (\n\t\t\t\t<Form\n\t\t\t\t\tformFields={formFields}\n\t\t\t\t\tsubmissionURL={submissionURL}\n\t\t\t\t\tformID={formId}\n\t\t\t\t\tpageId={pageId}\n\t\t\t\t/>\n\t\t\t),\n\t\t},\n\t];\n\n\tif (shouldShowContacts) {\n\t\tconst tabsText = (\n\t\t\t<div css={tabTitle}>\n\t\t\t\t<div>Message us</div>\n\t\t\t\t<div css={tabIcons}>\n\t\t\t\t\t{contacts.map((c) =>\n\t\t\t\t\t\tconditionallyRenderContactIcon(c.name),\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t\ttabsContent.push({\n\t\t\tid: 'contact',\n\t\t\ttext: tabsText,\n\t\t\tcontent: <MessageUs contacts={contacts} />,\n\t\t});\n\t}\n\n\treturn (\n\t\t<div id={formId}>\n\t\t\t<div css={summaryContentWrapper(isNonCollapsible)}>\n\t\t\t\t{!!prompt && (\n\t\t\t\t\t<div css={promptStyles(isNonCollapsible)}>{prompt}</div>\n\t\t\t\t)}\n\t\t\t\t{shouldShowHeading && (\n\t\t\t\t\t<h4 css={subtitleTextHeaderStyles}>{heading}</h4>\n\t\t\t\t)}\n\t\t\t\t{!!description && (\n\t\t\t\t\t<CalloutDescription\n\t\t\t\t\t\tdescription={description}\n\t\t\t\t\t\tuseBrandColour={isNonCollapsible}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\t<CalloutShare\n\t\t\t\t\ttitle={heading}\n\t\t\t\t\turlAnchor={formId}\n\t\t\t\t\tuseBrandColour={isNonCollapsible}\n\t\t\t\t\tformat={format}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<Tabs\n\t\t\t\ttabsLabel=\"Tell us via online form or message us using your phone\"\n\t\t\t\ttabElement=\"button\"\n\t\t\t\ttabs={tabsContent}\n\t\t\t\tselectedTab={selectedTab}\n\t\t\t\tonTabChange={(tabName: string): void => {\n\t\t\t\t\tsetSelectedTab(tabName);\n\t\t\t\t}}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { palette, textSans, space } from '@guardian/source-foundations';\nimport { SvgClock } from '@guardian/source-react-components';\n\ntype Props = {\n\tuntil?: number;\n};\n\nconst deadlineStyles = css`\n\t${textSans.xxsmall()};\n\tbackground-color: ${palette.brandAlt[400]};\n\tright: 0;\n\tdisplay: flex;\n\talign-items: center;\n\tpadding-right: ${space[1]}px;\n`;\n\nfunction getDaysBetween(first: Date, second: Date): number {\n\tconst ONE_DAY = 1000 * 3600 * 24;\n\treturn (second.getTime() - first.getTime()) / ONE_DAY;\n}\n\nconst getDeadlineText = (date1: Date, date2: Date): string | undefined => {\n\tconst maxDays = 7;\n\tconst daysBetween = getDaysBetween(date1, date2);\n\tif (daysBetween <= 0 || daysBetween > maxDays) return;\n\tif (daysBetween <= 1) return 'Closing today';\n\tif (Math.round(daysBetween) === 1) return 'Open for 1 more day';\n\treturn `Open for ${Math.round(daysBetween)} more days`;\n};\n\nfunction formatOptionalDate(date: number | undefined): Date | undefined {\n\tif (date === undefined) return undefined;\n\treturn new Date(date * 1000);\n}\n\nexport const Deadline = ({ until }: Props) => {\n\tconst untilDate = formatOptionalDate(until);\n\tif (!untilDate) return null;\n\tconst now = new Date();\n\tconst deadlineText = getDeadlineText(now, untilDate);\n\tif (!deadlineText) return null;\n\n\treturn (\n\t\t<span css={deadlineStyles}>\n\t\t\t<SvgClock size=\"xsmall\" />\n\t\t\t{deadlineText}\n\t\t</span>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { palette } from '@guardian/source-foundations';\nimport { ExpandingWrapper } from '@guardian/source-react-components-development-kitchen';\nimport type { CalloutBlockElementV2 } from '../../types/content';\nimport { CalloutBlock } from './Callout/Callout';\nimport { CalloutExpired } from './Callout/CalloutComponents';\nimport { Deadline } from './Callout/Deadline';\n\nconst collapsibleCalloutStyle = css`\n\tbackground-color: ${palette.neutral[97]};\n`;\n\n/**\n * # Callout Block Component\n *\n * A callout to readers to share their stories.\n * This is the updated version of the CalloutEmbedBlockComponent.\n *\n * ## Why does this need to be an Island?\n *\n * We are responding to user interactions on the page,\n * and submitting a form.\n *\n */\n\nexport const CalloutBlockComponent = ({\n\tcallout,\n\tpageId,\n\tformat,\n}: {\n\tcallout: CalloutBlockElementV2;\n\tpageId: string;\n\tformat: ArticleFormat;\n}) => {\n\tconst {\n\t\tprompt,\n\t\ttitle,\n\t\tdescription,\n\t\tformFields,\n\t\tactiveUntil,\n\t\tcalloutsUrl,\n\t\tformId,\n\t\tisNonCollapsible,\n\t\tcontacts,\n\t} = callout;\n\n\tconst isExpired = (date: number | undefined): boolean => {\n\t\tif (date !== undefined) {\n\t\t\treturn Math.floor(new Date().getTime() / 1000) > date;\n\t\t}\n\t\treturn false;\n\t};\n\n\tif (!isNonCollapsible && isExpired(activeUntil)) {\n\t\treturn null;\n\t}\n\n\tif (isNonCollapsible && isExpired(activeUntil)) {\n\t\treturn <CalloutExpired />;\n\t}\n\n\tconst id = formId.toString();\n\n\treturn (\n\t\t<>\n\t\t\t{!isNonCollapsible ? (\n\t\t\t\t<aside>\n\t\t\t\t\t<ExpandingWrapper\n\t\t\t\t\t\tname={`${callout.formId} form`}\n\t\t\t\t\t\trenderExtra={() => <Deadline until={activeUntil} />}\n\t\t\t\t\t\tcollapsedHeight={'160px'}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div css={collapsibleCalloutStyle}>\n\t\t\t\t\t\t\t<CalloutBlock\n\t\t\t\t\t\t\t\tformId={id}\n\t\t\t\t\t\t\t\tprompt={prompt}\n\t\t\t\t\t\t\t\theading={title}\n\t\t\t\t\t\t\t\tdescription={description}\n\t\t\t\t\t\t\t\tformFields={formFields}\n\t\t\t\t\t\t\t\tsubmissionURL={calloutsUrl}\n\t\t\t\t\t\t\t\tisExpired={isExpired(activeUntil)}\n\t\t\t\t\t\t\t\tisNonCollapsible={isNonCollapsible}\n\t\t\t\t\t\t\t\tcontacts={contacts}\n\t\t\t\t\t\t\t\tpageId={pageId}\n\t\t\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</ExpandingWrapper>\n\t\t\t\t</aside>\n\t\t\t) : (\n\t\t\t\t<CalloutBlock\n\t\t\t\t\tformId={id}\n\t\t\t\t\tprompt={prompt}\n\t\t\t\t\theading={title}\n\t\t\t\t\tdescription={description}\n\t\t\t\t\tformFields={formFields}\n\t\t\t\t\tsubmissionURL={calloutsUrl}\n\t\t\t\t\tisExpired={isExpired(activeUntil)}\n\t\t\t\t\tisNonCollapsible={isNonCollapsible}\n\t\t\t\t\tcontacts={contacts}\n\t\t\t\t\tpageId={pageId}\n\t\t\t\t\tformat={format}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</>\n\t);\n};\n","import { css } from '@emotion/react';\nimport {\n\tneutral,\n\ttextSans,\n\tvisuallyHidden,\n} from '@guardian/source-foundations';\nimport type { CampaignFieldType } from '../../../../types/content';\n\nconst fieldLabelStyles = css`\n\t${textSans.medium({ fontWeight: 'bold' })}\n`;\n\nconst fieldDescription = css`\n\t${textSans.medium()}\n`;\n\nconst optionalTextStyles = css`\n\t${textSans.small({ fontStyle: 'italic' })}\n\tcolor: ${neutral[46]};\n\tpadding-left: 5px;\n`;\n\ntype Props = {\n\tformField: CampaignFieldType;\n\thideLabel?: boolean;\n};\n\nexport const FieldLabel = ({ formField, hideLabel }: Props) => (\n\t<label\n\t\tcss={[fieldLabelStyles, hideLabel && visuallyHidden]}\n\t\thtmlFor={formField.name}\n\t\thidden={formField.hideLabel}\n\t>\n\t\t{formField.label}\n\t\t{!formField.required && <span css={optionalTextStyles}>Optional</span>}\n\t\t{!!formField.description && (\n\t\t\t<div>\n\t\t\t\t<span css={fieldDescription}>{`${formField.description}`}</span>\n\t\t\t</div>\n\t\t)}\n\t</label>\n);\n","// File upload is the only legacy component that is still used on the old callout form\nimport { css } from '@emotion/react';\nimport { space, text, textSans } from '@guardian/source-foundations';\nimport { useState } from 'react';\nimport type { CampaignFieldFile } from '.././../../../types/content';\nimport { stringifyFileBase64 } from '.././../../lib/stringifyFileBase64';\nimport { FieldLabel } from './FieldLabel';\n\nconst fileUploadInputStyles = css`\n\tpadding-top: 10px;\n\tpadding-bottom: 10px;\n`;\n\nconst errorMessagesStyles = css`\n\tpadding-top: ${space[2]}px;\n\tcolor: ${text.error};\n\t${textSans.small({ fontWeight: 'bold' })};\n`;\n\ntype Props = {\n\tformField: CampaignFieldFile;\n\tformData: { [key in string]: any };\n\tsetFormData: React.Dispatch<React.SetStateAction<{ [x: string]: any }>>;\n};\n\nexport const FileUpload = ({ formField, formData, setFormData }: Props) => {\n\tconst [error, setError] = useState('');\n\tconst onSelectFile = async (event: React.ChangeEvent<HTMLInputElement>) => {\n\t\tif (event.target.files?.[0]) {\n\t\t\tsetError('');\n\t\t\ttry {\n\t\t\t\tconst stringifiedFile = await stringifyFileBase64(\n\t\t\t\t\tevent.target.files[0],\n\t\t\t\t);\n\t\t\t\tsetFormData({\n\t\t\t\t\t...formData,\n\t\t\t\t\t[formField.id]: stringifiedFile,\n\t\t\t\t});\n\t\t\t} catch (e) {\n\t\t\t\tsetError(\n\t\t\t\t\t'Sorry there was a problem with the file you uploaded above. Check the size and type. We only accept images, pdfs and .doc or .docx files',\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<FieldLabel formField={formField} />\n\t\t\t<input\n\t\t\t\tdata-testid={`form-field-${formField.id}`}\n\t\t\t\tcss={fileUploadInputStyles}\n\t\t\t\ttype=\"file\"\n\t\t\t\taccept=\"image/*, .pdf\"\n\t\t\t\trequired={formField.required}\n\t\t\t\tonChange={onSelectFile}\n\t\t\t/>\n\t\t\t<p>We accept images and pdfs. Maximum total file size: 6MB</p>\n\t\t\t{!!error && <div css={errorMessagesStyles}>{error}</div>}\n\t\t</>\n\t);\n};\n","export const stringifyFileBase64 = (file: File): Promise<string> =>\n\tnew Promise((resolve, reject) => {\n\t\tconst reader = new FileReader();\n\t\treader.addEventListener(\n\t\t\t'load',\n\t\t\t() => {\n\t\t\t\tconst fileAsBase64 = reader.result\n\t\t\t\t\t?.toString()\n\t\t\t\t\t.split(';base64,')[1];\n\t\t\t\t// remove data:*/*;base64, from the start of the base64 string\n\n\t\t\t\tif (fileAsBase64) {\n\t\t\t\t\tresolve(fileAsBase64);\n\t\t\t\t} else {\n\t\t\t\t\treject(\n\t\t\t\t\t\tnew Error(\n\t\t\t\t\t\t\t'Sorry there was a problem with the file you uploaded above. Check the size and type. We only accept images, pdfs and .doc or .docx files',\n\t\t\t\t\t\t),\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t},\n\t\t\tfalse,\n\t\t);\n\t\treader.addEventListener('error', () => {\n\t\t\treject(\n\t\t\t\tnew Error(\n\t\t\t\t\t'Sorry there was a problem with the file you uploaded above. Check the size and type. We only accept images, pdfs and .doc or .docx files',\n\t\t\t\t),\n\t\t\t);\n\t\t});\n\t\treader.readAsDataURL(file);\n\t});\n","import { Checkbox, CheckboxGroup } from '@guardian/source-react-components';\nimport type { CampaignFieldCheckbox } from '../../../../types/content';\n\ntype Props = {\n\tformField: CampaignFieldCheckbox;\n\tformData: { [key in string]: string[] };\n\tsetFormData: React.Dispatch<React.SetStateAction<{ [x: string]: any }>>;\n\tvalidationErrors?: { [key in string]: string };\n};\n\nexport const CheckboxSelect = ({\n\tformField,\n\tformData,\n\tsetFormData,\n\tvalidationErrors,\n}: Props) => (\n\t<>\n\t\t<CheckboxGroup\n\t\t\terror={validationErrors?.[formField.id]}\n\t\t\thideLabel={formField.hideLabel}\n\t\t\tname={formField.name}\n\t\t\tlabel={formField.label}\n\t\t\tsupporting={formField.description}\n\t\t>\n\t\t\t{formField.options.map((option, index) => {\n\t\t\t\t// data related to this field is mapped to `formData` using `formField.id`\n\t\t\t\t// We cannot assume that the data exists, so we need to check if `formField.id` key exists in `formData`\n\t\t\t\tconst selectedCheckboxesArray = formData[formField.id] ?? [];\n\n\t\t\t\tconst isCheckboxChecked = !!selectedCheckboxesArray.find(\n\t\t\t\t\t(ele: string) => ele === option.value,\n\t\t\t\t);\n\n\t\t\t\tconst filterOutCheckboxFromArray = () =>\n\t\t\t\t\tselectedCheckboxesArray.filter(\n\t\t\t\t\t\t(ele: string) => ele !== option.value,\n\t\t\t\t\t);\n\n\t\t\t\tconst addCheckboxToArray = () => [\n\t\t\t\t\t...selectedCheckboxesArray,\n\t\t\t\t\toption.value,\n\t\t\t\t];\n\n\t\t\t\treturn (\n\t\t\t\t\t<Checkbox\n\t\t\t\t\t\tdata-testid={`form-field-${option.value}`}\n\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\tlabel={option.label}\n\t\t\t\t\t\tvalue={option.value}\n\t\t\t\t\t\tchecked={isCheckboxChecked}\n\t\t\t\t\t\terror={validationErrors?.[formField.id] ? true : false}\n\t\t\t\t\t\tonChange={() => {\n\t\t\t\t\t\t\tsetFormData({\n\t\t\t\t\t\t\t\t...formData,\n\t\t\t\t\t\t\t\t[formField.id]: isCheckboxChecked\n\t\t\t\t\t\t\t\t\t? filterOutCheckboxFromArray()\n\t\t\t\t\t\t\t\t\t: addCheckboxToArray(),\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t})}\n\t\t</CheckboxGroup>\n\t</>\n);\n","import { css } from '@emotion/react';\nimport { Radio, RadioGroup } from '@guardian/source-react-components';\nimport type { CampaignFieldRadio } from '../../../../types/content';\nimport { FieldLabel } from './FieldLabel';\n\ntype FieldProp = {\n\tvalidationErrors?: { [key in string]: string };\n\tformField: CampaignFieldRadio;\n\tformData: { [key in string]: any };\n\tsetFormData: React.Dispatch<React.SetStateAction<{ [x: string]: any }>>;\n};\n\nexport const RadioSelect = ({\n\tvalidationErrors,\n\tformField,\n\tformData,\n\tsetFormData,\n}: FieldProp) => (\n\t// work around to enforce `display: flex;` to `RadioGroup`'s fieldset tag\n\t// https://github.com/guardian/source/issues/580\n\t<div\n\t\tcss={css`\n\t\t\tfieldset {\n\t\t\t\tdisplay: flex;\n\t\t\t}\n\t\t`}\n\t>\n\t\t<FieldLabel formField={formField} />\n\t\t<RadioGroup\n\t\t\terror={validationErrors?.[formField.id]}\n\t\t\tname={formField.name}\n\t\t\torientation={\n\t\t\t\tformField.options.length > 2 ? 'vertical' : 'horizontal'\n\t\t\t}\n\t\t>\n\t\t\t{formField.options.map((option, index) => {\n\t\t\t\tconst isRadioChecked =\n\t\t\t\t\tformField.id in formData &&\n\t\t\t\t\tformData[formField.id] === option.value;\n\t\t\t\treturn (\n\t\t\t\t\t<Radio\n\t\t\t\t\t\tdata-testid={`form-field-${option.value}`}\n\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\tlabel={option.label}\n\t\t\t\t\t\tvalue={option.value}\n\t\t\t\t\t\tname={`${formField.id}`}\n\t\t\t\t\t\tchecked={!!isRadioChecked}\n\t\t\t\t\t\tonChange={() =>\n\t\t\t\t\t\t\tsetFormData({\n\t\t\t\t\t\t\t\t...formData,\n\t\t\t\t\t\t\t\t[formField.id]: option.value,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t})}\n\t\t</RadioGroup>\n\t</div>\n);\n","import { Select as SourceSelect } from '@guardian/source-react-components';\nimport type { CampaignFieldSelect } from '../../../../types/content';\n\ntype Props = {\n\tvalidationErrors?: { [key in string]: string };\n\tformField: CampaignFieldSelect;\n\tformData: { [key in string]: any };\n\tsetFormData: React.Dispatch<React.SetStateAction<{ [x: string]: any }>>;\n};\n\nexport const Select = ({\n\tvalidationErrors,\n\tformField,\n\tformData,\n\tsetFormData,\n}: Props) => (\n\t<SourceSelect\n\t\thideLabel={formField.hideLabel}\n\t\tdata-testid={`form-field-${formField.id}`}\n\t\terror={validationErrors?.[formField.id]}\n\t\tlabel={formField.label}\n\t\tsupporting={formField.description}\n\t\tvalue={formData[formField.id] ?? ''}\n\t\tonChange={(e) =>\n\t\t\tsetFormData({\n\t\t\t\t...formData,\n\t\t\t\t[formField.id]: e.target.value,\n\t\t\t})\n\t\t}\n\t\toptional={!formField.required}\n\t\tchildren={formField.options.map((option, index) => (\n\t\t\t<option key={index} value={option.value}>\n\t\t\t\t{option.value}\n\t\t\t</option>\n\t\t))}\n\t/>\n);\n","import type {\n\tCampaignFieldCheckbox,\n\tCampaignFieldRadio,\n} from '../../../../types/content';\nimport { CheckboxSelect } from './CheckboxSelect';\nimport { RadioSelect } from './RadioSelect';\n\ntype Props = {\n\tvalidationErrors?: { [key in string]: string };\n\tformField: CampaignFieldCheckbox | CampaignFieldRadio;\n\tformData: { [key in string]: any };\n\tsetFormData: React.Dispatch<React.SetStateAction<{ [x: string]: any }>>;\n\tmultiple: boolean;\n};\n\nexport const MultiSelect = ({\n\tvalidationErrors,\n\tformField,\n\tformData,\n\tsetFormData,\n\tmultiple,\n}: Props) => (\n\t<div data-testid={`form-field-${formField.id}`}>\n\t\t{multiple ? (\n\t\t\t<CheckboxSelect\n\t\t\t\tvalidationErrors={validationErrors ?? undefined}\n\t\t\t\tformField={formField as CampaignFieldCheckbox}\n\t\t\t\tformData={formData}\n\t\t\t\tsetFormData={setFormData}\n\t\t\t/>\n\t\t) : (\n\t\t\t<RadioSelect\n\t\t\t\tvalidationErrors={validationErrors ?? undefined}\n\t\t\t\tformField={formField as CampaignFieldRadio}\n\t\t\t\tformData={formData}\n\t\t\t\tsetFormData={setFormData}\n\t\t\t/>\n\t\t)}\n\t</div>\n);\n","import { css } from '@emotion/react';\nimport { space } from '@guardian/source-foundations';\nimport { TextArea as SourceTextArea } from '@guardian/source-react-components';\nimport type { CampaignFieldTextArea } from '../../../../types/content';\n\nconst textAreaStyles = css`\n\twidth: 100%;\n\tmargin-top: ${space[2]}px;\n`;\n\ntype Props = {\n\tvalidationErrors?: { [key in string]: string };\n\tformField: CampaignFieldTextArea;\n\tformData: { [key in string]: any };\n\tsetFormData: React.Dispatch<React.SetStateAction<{ [x: string]: any }>>;\n};\n\nexport const TextArea = ({\n\tvalidationErrors,\n\tformField,\n\tformData,\n\tsetFormData,\n}: Props) => (\n\t<>\n\t\t<SourceTextArea\n\t\t\thideLabel={formField.hideLabel}\n\t\t\tdata-testid={`form-field-${formField.id}`}\n\t\t\tlabel={formField.label}\n\t\t\tsupporting={formField.description}\n\t\t\tcss={textAreaStyles}\n\t\t\toptional={!formField.required}\n\t\t\tvalue={formField.id in formData ? formData[formField.id] : ''}\n\t\t\terror={validationErrors?.[formField.id]}\n\t\t\tonChange={(e) =>\n\t\t\t\tsetFormData({\n\t\t\t\t\t...formData,\n\t\t\t\t\t[formField.id]: e.target.value,\n\t\t\t\t})\n\t\t\t}\n\t\t/>\n\t</>\n);\n","import { css } from '@emotion/react';\nimport { space } from '@guardian/source-foundations';\nimport { TextInput as SourceTextInput } from '@guardian/source-react-components';\nimport type { CampaignFieldText } from '../../../../types/content';\n\nconst textInputStyles = css`\n\tmargin-top: ${space[2]}px;\n`;\n\ntype Props = {\n\tvalidationErrors?: { [key in string]: string };\n\tformField: CampaignFieldText;\n\tformData: { [key in string]: any };\n\tsetFormData: React.Dispatch<React.SetStateAction<{ [x: string]: any }>>;\n};\n\nexport const TextInput = ({\n\tvalidationErrors,\n\tformField,\n\tformData,\n\tsetFormData,\n}: Props) => (\n\t<SourceTextInput\n\t\thideLabel={formField.hideLabel}\n\t\terror={validationErrors?.[formField.id]}\n\t\tcss={textInputStyles}\n\t\tdata-testid={`form-field-${formField.id}`}\n\t\ttype={formField.type}\n\t\tlabel={formField.label}\n\t\tsupporting={formField.description}\n\t\toptional={!formField.required}\n\t\tvalue={formField.id in formData ? formData[formField.id] : ''}\n\t\tonChange={(e) =>\n\t\t\tsetFormData({\n\t\t\t\t...formData,\n\t\t\t\t[formField.id]: e.target.value,\n\t\t\t})\n\t\t}\n\t/>\n);\n","import { css } from '@emotion/react';\nimport { text, textSans } from '@guardian/source-foundations';\nimport { Button, Link } from '@guardian/source-react-components';\nimport { useState } from 'react';\nimport type { CampaignFieldType } from '../../../types/content';\nimport { FileUpload } from './FormFields/FileUpload';\nimport { MultiSelect } from './FormFields/MultiSelect';\nimport { Select } from './FormFields/Select';\nimport { TextArea } from './FormFields/TextArea';\nimport { TextInput } from './FormFields/TextInput';\n\nconst formStyles = css`\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: space-between;\n\tpadding-left: 10px;\n\tpadding-right: 10px;\n`;\n\nconst footerPaddingStyles = css`\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: space-between;\n\tpadding-bottom: 15px;\n`;\n\nconst errorMessagesStyles = css`\n\tpadding-bottom: 10px;\n\tcolor: ${text.error};\n\t${textSans.medium({ fontWeight: 'bold' })};\n`;\n\nconst formFieldWrapperStyles = css`\n\tdisplay: flex;\n\tflex-direction: column;\n`;\n\ntype FormDataType = { [key in string]: any };\n\ntype FormFieldProp = {\n\tformField: CampaignFieldType;\n\tformData: FormDataType;\n\tsetFormData: React.Dispatch<React.SetStateAction<FormDataType>>;\n};\n\nconst FormField = ({ formField, formData, setFormData }: FormFieldProp) => {\n\tswitch (formField.type) {\n\t\tcase 'textarea':\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<TextArea\n\t\t\t\t\t\tformField={formField}\n\t\t\t\t\t\tformData={formData}\n\t\t\t\t\t\tsetFormData={setFormData}\n\t\t\t\t\t/>\n\t\t\t\t\t<hr />\n\t\t\t\t</>\n\t\t\t);\n\t\tcase 'file':\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<FileUpload\n\t\t\t\t\t\tformField={formField}\n\t\t\t\t\t\tformData={formData}\n\t\t\t\t\t\tsetFormData={setFormData}\n\t\t\t\t\t/>\n\t\t\t\t\t<hr />\n\t\t\t\t</>\n\t\t\t);\n\t\tcase 'select':\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<Select\n\t\t\t\t\t\tformField={formField}\n\t\t\t\t\t\tformData={formData}\n\t\t\t\t\t\tsetFormData={setFormData}\n\t\t\t\t\t/>\n\t\t\t\t\t<hr />\n\t\t\t\t</>\n\t\t\t);\n\t\tcase 'checkbox':\n\t\tcase 'radio':\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<MultiSelect\n\t\t\t\t\t\tformField={formField}\n\t\t\t\t\t\tformData={formData}\n\t\t\t\t\t\tsetFormData={setFormData}\n\t\t\t\t\t\tmultiple={formField.type === 'checkbox'}\n\t\t\t\t\t/>\n\t\t\t\t\t<hr />\n\t\t\t\t</>\n\t\t\t);\n\t\tdefault: {\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<TextInput\n\t\t\t\t\t\tformField={formField}\n\t\t\t\t\t\tformData={formData}\n\t\t\t\t\t\tsetFormData={setFormData}\n\t\t\t\t\t/>\n\t\t\t\t\t<hr />\n\t\t\t\t</>\n\t\t\t);\n\t\t}\n\t}\n};\n\ntype FormProps = {\n\tonSubmit: (formData: FormDataType) => void;\n\tformFields: CampaignFieldType[];\n\terror?: string;\n};\n\nexport const Form = ({ onSubmit, formFields, error }: FormProps) => {\n\tconst [twitterHandle, setTwitterHandle] = useState('');\n\tconst [formData, setFormData] = useState<{ [key in string]: any }>({});\n\n\treturn (\n\t\t<form\n\t\t\taction=\"/formstack-campaign/submit\"\n\t\t\tmethod=\"post\"\n\t\t\tcss={formStyles}\n\t\t\tonSubmit={(e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tonSubmit(formData);\n\t\t\t}}\n\t\t>\n\t\t\t{formFields.map((formField, index) => (\n\t\t\t\t<div\n\t\t\t\t\tcss={formFieldWrapperStyles}\n\t\t\t\t\t// we use custom-guardian to find 1st field for accessibility\n\t\t\t\t\t// ideally we should useRef but need to wait for Source to\n\t\t\t\t\t// support React references\n\t\t\t\t\tcustom-guardian=\"callout-form-field\"\n\t\t\t\t\tkey={index}\n\t\t\t\t>\n\t\t\t\t\t<FormField\n\t\t\t\t\t\tformField={formField}\n\t\t\t\t\t\tformData={formData}\n\t\t\t\t\t\tsetFormData={setFormData}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t))}\n\n\t\t\t{/* this element is a H O N £ Y - P 0 T */}\n\t\t\t<div\n\t\t\t\tcss={css`\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\tleft: -62.5rem;\n\t\t\t\t`}\n\t\t\t\taria-hidden=\"true\"\n\t\t\t>\n\t\t\t\t<input\n\t\t\t\t\tname=\"twitter-handle\"\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tid=\"twitter-handle\"\n\t\t\t\t\ttabIndex={-1}\n\t\t\t\t\tplaceholder=\"@mytwitterhandle\"\n\t\t\t\t\tvalue={twitterHandle}\n\t\t\t\t\tonChange={(e) => setTwitterHandle(e.target.value)}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t{!!error && <div css={errorMessagesStyles}>{error}</div>}\n\t\t\t<div css={footerPaddingStyles}>\n\t\t\t\t<Button priority=\"secondary\" size=\"xsmall\" type=\"submit\">\n\t\t\t\t\tShare with the Guardian\n\t\t\t\t</Button>\n\t\t\t\t<div\n\t\t\t\t\tcss={css`\n\t\t\t\t\t\ta,\n\t\t\t\t\t\ta:hover {\n\t\t\t\t\t\t\tborder: 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttext-align: right;\n\t\t\t\t\t`}\n\t\t\t\t>\n\t\t\t\t\t<Link\n\t\t\t\t\t\tpriority=\"secondary\"\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\t\thref=\"https://www.theguardian.com/help/terms-of-service\"\n\t\t\t\t\t\tcssOverrides={css`\n\t\t\t\t\t\t\ttext-decoration: none;\n\t\t\t\t\t\t`}\n\t\t\t\t\t>\n\t\t\t\t\t\tTerms and conditions\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</form>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { brand, neutral, textSans } from '@guardian/source-foundations';\nimport { Button } from '@guardian/source-react-components';\nimport { useEffect, useState } from 'react';\nimport MinusIcon from '../../static/icons/minus.svg';\nimport PlusIcon from '../../static/icons/plus.svg';\nimport type {\n\tCalloutBlockElement,\n\tCalloutBlockElementV2,\n} from '../../types/content';\nimport type { Palette } from '../../types/palette';\nimport { decidePalette } from '../lib/decidePalette';\nimport { Form } from './CalloutEmbed/Form';\n\nconst wrapperStyles = css`\n\tmargin-bottom: 26px;\n\tmargin-top: 16px;\n`;\n\nconst calloutDetailsStyles = css`\n\tborder-top: 1px ${neutral[86]} solid;\n\tborder-bottom: 1px ${neutral[86]} solid;\n\tposition: relative;\n\tpadding-bottom: 10px;\n\n\t/* IE does not support summary HTML elements, so we need to hide children ourself */\n\t:not([open]) > *:not(summary) {\n\t\tdisplay: none;\n\t}\n`;\n\nconst backgroundColorStyle = css`\n\tbackground-color: ${neutral[97]};\n`;\n\nconst speechBubbleWrapperStyles = css`\n\tmargin-right: 10px;\n`;\n\nconst successTextStyles = css`\n\t${textSans.medium({ fontWeight: 'bold' })}\n`;\n\nconst summaryStyles = css`\n\t/* Removing default styles from summary tag */\n\t::-webkit-details-marker {\n\t\tdisplay: none;\n\t}\n\toutline: none;\n\n\t/* We don't want the summary to open when we click anything but the button, so we pointer-event: none the summary */\n\t/* 176da211-05aa-4280-859b-1e3157b3f19e */\n\tpointer-events: none;\n\n\t/*\n        why hide visibility?\n        because we want to prevent the user for tabbing to the summary HTML element\n        without using tabIndex={-1} which would disable focus on all child DOM elements\n\n        NOTE: requires \"visibility: visible;\" on child elements to display and enable focus\n    */\n\tvisibility: hidden;\n\n\ta {\n\t\t/* but we do want to allow click on links */\n\t\tpointer-events: all;\n\t}\n`;\n\nconst summaryContentWrapper = css`\n\tvisibility: visible;\n\tmin-height: 70px;\n\tdisplay: flex;\n\tflex-direction: row;\n`;\n\nconst speechBubbleStyles = (palette: Palette) => css`\n\t${textSans.medium({ fontWeight: 'bold' })}\n\tcolor: ${neutral[100]};\n\tbackground-color: ${palette.background.speechBubble};\n\tmin-width: 88px;\n\tpadding-bottom: 6px;\n\tpadding-left: 10px;\n\tpadding-right: 10px;\n\t::after {\n\t\tcontent: '';\n\t\twidth: 20px;\n\t\theight: 22px;\n\t\tborder-bottom-right-radius: 18px;\n\t\tposition: absolute;\n\t\tbackground-color: ${palette.background.speechBubble};\n\t}\n`;\n\nconst headingTextHeaderStyles = css`\n\t${textSans.medium({ fontWeight: 'bold' })}\n`;\n\nconst descriptionStyles = css`\n\t${textSans.xxsmall({ fontWeight: 'bold' })}\n`;\n\nconst headingTextStyles = css`\n\ta {\n\t\tcolor: ${brand[500]};\n\t\ttext-decoration: none;\n\t\t:hover {\n\t\t\ttext-decoration: underline;\n\t\t}\n\t}\n`;\n\nconst buttonWrapperStyles = css`\n\tposition: absolute;\n\tcursor: pointer;\n\tmargin-top: -5px;\n\n\tvisibility: visible;\n\n\t/* We need to ensure our pointer-events are turned back on on the button */\n\t/* 176da211-05aa-4280-859b-1e3157b3f19e */\n\tpointer-events: all;\n`;\n\n// Normally forms are in Modals, but here they are embedded into the page\n// we therefore need to only focus on expandFormButtonRef if the form has been closed\n// after it was opened\nlet hasFormBeenOpened = true;\n\ntype FormDataType = { [key in string]: unknown };\n\n/**\n * # Callout Embed Block Component\n *\n * A callout to readers to share their stories.\n *\n * ## Why does this need to be an Island?\n *\n * We are responding to user interactions on the page,\n * and submitting a form via AJAX.\n *\n * ---\n * [`CalloutEmbedBlockComponent` on Chromatic](https://www.chromatic.com/component?appId=63e251470cfbe61776b0ef19&csfId=components-calloutembedblockcomponent)\n */\nexport const CalloutEmbedBlockComponent = ({\n\tcallout,\n\tformat,\n}: {\n\tcallout: CalloutBlockElement | CalloutBlockElementV2;\n\tformat: ArticleFormat;\n}) => {\n\tlet expandFormButtonRef: HTMLButtonElement | null = null;\n\tlet firstFieldElementRef: HTMLElement | null = null;\n\tlet lastElementRef: HTMLButtonElement | null = null;\n\n\tconst [isExpanded, setIsExpanded] = useState(false);\n\tconst [error, setError] = useState('');\n\tconst [submissionSuccess, setSubmissionSuccess] = useState(false);\n\n\tconst palette = decidePalette(format);\n\n\tconst { title, description, formFields } = callout;\n\n\tconst onSubmit = async (formData: FormDataType) => {\n\t\t// Reset error for new submission attempt\n\t\tsetError('');\n\n\t\tif (formData.twitterHandle) {\n\t\t\tsetError('Sorry we think you are a robot.');\n\t\t\treturn;\n\t\t}\n\t\t// need to add prefix `field_` to all keys in form\n\t\tconst formDataWithFieldPrefix = Object.keys(formData).reduce(\n\t\t\t(acc, cur) => ({\n\t\t\t\t...acc,\n\t\t\t\t[`field_${cur}`]: formData[cur],\n\t\t\t}),\n\t\t\t{},\n\t\t);\n\n\t\treturn fetch(callout.calloutsUrl, {\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\tformId: callout.formId,\n\t\t\t\t// TODO: check if we need to send this\n\t\t\t\t'twitter-handle': '',\n\t\t\t\t...formDataWithFieldPrefix,\n\t\t\t}),\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/x-www-form-urlencoded',\n\t\t\t},\n\t\t})\n\t\t\t.then((resp) => {\n\t\t\t\tif (resp.status === 201) {\n\t\t\t\t\tsetSubmissionSuccess(true);\n\t\t\t\t\tsetIsExpanded(false);\n\t\t\t\t} else {\n\t\t\t\t\tsetError(\n\t\t\t\t\t\t'Sorry, there was a problem submitting your form. Please try again later.',\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((respError) => {\n\t\t\t\twindow.guardian.modules.sentry.reportError(\n\t\t\t\t\trespError,\n\t\t\t\t\t'callout-embed-submission',\n\t\t\t\t);\n\t\t\t\tsetError(\n\t\t\t\t\t'Sorry, there was a problem submitting your form. Please try again later.',\n\t\t\t\t);\n\t\t\t});\n\t};\n\n\t// ***************************\n\t// *     Accessibility       *\n\t// ***************************\n\tuseEffect(() => {\n\t\t// we have to use document.querySelector to find DOM elements\n\t\t// as Source library does not yet support react ref\n\t\t// TODO: use `useRef` once supported in Source\n\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t\texpandFormButtonRef = document.querySelector(\n\t\t\t'button[custom-guardian=\"callout-form-open-button\"]',\n\t\t);\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t\tfirstFieldElementRef = document.querySelector(`\n            *[custom-guardian=\"callout-form-field\"]:first-of-type input,\n            *[custom-guardian=\"callout-form-field\"]:first-of-type select\n        `);\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t\tlastElementRef = document.querySelector(\n\t\t\t'button[custom-guardian=\"callout-form-close-button\"]',\n\t\t);\n\n\t\t// lock shift to the form\n\t\tconst keyListener = (e: KeyboardEvent) => {\n\t\t\t// keyCode 9 is tab key\n\t\t\tif (e.keyCode === 9) {\n\t\t\t\t// If firstElement or lastElement are not defined, do not continue\n\t\t\t\tif (!firstFieldElementRef || !lastElementRef) return;\n\n\t\t\t\t// we use `e.shiftKey` internally to determin the direction of the highlighting\n\t\t\t\t// using document.activeElement and e.shiftKey we can check what should be the next element to be highlighted\n\t\t\t\tif (!e.shiftKey && document.activeElement === lastElementRef) {\n\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition -- it may be missing\n\t\t\t\t\tfirstFieldElementRef?.focus();\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\te.shiftKey &&\n\t\t\t\t\tdocument.activeElement === firstFieldElementRef\n\t\t\t\t) {\n\t\t\t\t\tlastElementRef.focus(); // The shift key is down so loop focus back to the last item\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tdocument.addEventListener('keydown', keyListener);\n\t\treturn () => document.removeEventListener('keydown', keyListener);\n\t}, [isExpanded]);\n\n\t// on open form, focus on firstFieldElementRef\n\tuseEffect(() => {\n\t\tif (isExpanded && firstFieldElementRef) {\n\t\t\tfirstFieldElementRef.focus();\n\t\t}\n\t}, [isExpanded, firstFieldElementRef]);\n\n\t// on close form, focus on expandFormButtonRef\n\tuseEffect(() => {\n\t\tif (!isExpanded && expandFormButtonRef && !hasFormBeenOpened) {\n\t\t\texpandFormButtonRef.focus();\n\t\t}\n\t}, [isExpanded, expandFormButtonRef]);\n\n\t// Normally forms are in Modals, but here they are embedded into the page\n\t// we therefore need to only focus on expandFormButtonRef if the form has been closed\n\t// after it was opened\n\tuseEffect(() => {\n\t\tif (isExpanded) {\n\t\t\thasFormBeenOpened = false;\n\t\t}\n\t}, [isExpanded]);\n\n\t// be able to close the form using the escape key for accessibility\n\tuseEffect(() => {\n\t\tconst keyListener = (e: KeyboardEvent) => {\n\t\t\t// keyCode 27 is the escape key, we want to be able to close the form using it\n\t\t\tif (e.keyCode === 27) {\n\t\t\t\tsetIsExpanded(false);\n\t\t\t}\n\t\t};\n\t\tif (isExpanded) {\n\t\t\tdocument.addEventListener('keydown', keyListener);\n\t\t}\n\t\treturn () => document.removeEventListener('keydown', keyListener);\n\t}, [isExpanded, setIsExpanded]);\n\n\tif (submissionSuccess) {\n\t\treturn (\n\t\t\t<figure data-print-layout=\"hide\" css={wrapperStyles}>\n\t\t\t\t<details\n\t\t\t\t\tcss={[calloutDetailsStyles, backgroundColorStyle]}\n\t\t\t\t\taria-hidden={true}\n\t\t\t\t\topen={isExpanded}\n\t\t\t\t>\n\t\t\t\t\t<summary css={summaryStyles}>\n\t\t\t\t\t\t<div css={summaryContentWrapper}>\n\t\t\t\t\t\t\t<div css={speechBubbleWrapperStyles}>\n\t\t\t\t\t\t\t\t<div css={speechBubbleStyles(palette)}>\n\t\t\t\t\t\t\t\t\t<h4>Share your story</h4>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div css={headingTextStyles}>\n\t\t\t\t\t\t\t\t<p css={successTextStyles}>\n\t\t\t\t\t\t\t\t\tThank you for your contribution\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</summary>\n\t\t\t\t</details>\n\t\t\t</figure>\n\t\t);\n\t}\n\n\treturn (\n\t\t<figure data-print-layout=\"hide\" css={wrapperStyles}>\n\t\t\t<details\n\t\t\t\tcss={[calloutDetailsStyles, isExpanded && backgroundColorStyle]}\n\t\t\t\taria-hidden={true}\n\t\t\t\topen={isExpanded}\n\t\t\t>\n\t\t\t\t<summary css={summaryStyles}>\n\t\t\t\t\t<div css={summaryContentWrapper}>\n\t\t\t\t\t\t<div css={speechBubbleWrapperStyles}>\n\t\t\t\t\t\t\t<div css={speechBubbleStyles(palette)}>\n\t\t\t\t\t\t\t\t<h4>Share your story</h4>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div css={headingTextStyles}>\n\t\t\t\t\t\t\t<h4 css={headingTextHeaderStyles}>{title}</h4>\n\t\t\t\t\t\t\t{!!description && (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tcss={descriptionStyles}\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t__html: description,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{!isExpanded && (\n\t\t\t\t\t\t<span css={buttonWrapperStyles} aria-hidden=\"true\">\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\t\t\t/* TODO: need to find an nicer way of dynamically setting svg dimensions */\n\t\t\t\t\t\t\t\t\tsvg {\n\t\t\t\t\t\t\t\t\t\t/* stylelint-disable-next-line declaration-no-important */\n\t\t\t\t\t\t\t\t\t\twidth: 15px !important;\n\t\t\t\t\t\t\t\t\t\t/* stylelint-disable-next-line declaration-no-important */\n\t\t\t\t\t\t\t\t\t\theight: 15px !important;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t\t\ticonSide=\"left\"\n\t\t\t\t\t\t\t\tsize=\"xsmall\"\n\t\t\t\t\t\t\t\ticon={<PlusIcon />}\n\t\t\t\t\t\t\t\tonClick={() => setIsExpanded(true)}\n\t\t\t\t\t\t\t\tcustom-guardian=\"callout-form-open-button\"\n\t\t\t\t\t\t\t\ttabIndex={0}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tTell us\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t)}\n\t\t\t\t</summary>\n\n\t\t\t\t<Form\n\t\t\t\t\tformFields={formFields}\n\t\t\t\t\tonSubmit={onSubmit}\n\t\t\t\t\terror={error}\n\t\t\t\t/>\n\n\t\t\t\t<span css={buttonWrapperStyles} aria-hidden=\"true\">\n\t\t\t\t\t{isExpanded && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticonSide=\"left\"\n\t\t\t\t\t\t\tsize=\"xsmall\"\n\t\t\t\t\t\t\ticon={<MinusIcon />}\n\t\t\t\t\t\t\tonClick={() => setIsExpanded(false)}\n\t\t\t\t\t\t\tcustom-guardian=\"callout-form-close-button\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tHide\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t</span>\n\t\t\t</details>\n\t\t</figure>\n\t);\n};\n","import { css } from '@emotion/react';\nimport type { ArticleFormat } from '@guardian/libs';\nimport { ArticleDesign, ArticleDisplay, ArticleSpecial } from '@guardian/libs';\nimport {\n\tbetween,\n\tfrom,\n\tspace,\n\ttextSans,\n\tuntil,\n} from '@guardian/source-foundations';\nimport CameraSvg from '../../static/icons/camera.svg';\nimport VideoSvg from '../../static/icons/video-icon.svg';\nimport type { Palette } from '../../types/palette';\nimport { decidePalette } from '../lib/decidePalette';\n\ntype Props = {\n\tcaptionText?: string;\n\tformat: ArticleFormat;\n\tpadCaption?: boolean;\n\tcredit?: string;\n\tdisplayCredit?: boolean;\n\tshouldLimitWidth?: boolean;\n\tisOverlaid?: boolean;\n\tisLeftCol?: boolean;\n\tmediaType?: MediaType;\n\tisMainMedia?: boolean;\n};\n\ntype IconProps = {\n\tpalette: Palette;\n\tformat: ArticleFormat;\n};\n\nconst captionStyle = (palette: Palette) => css`\n\t${textSans.xsmall()};\n\tline-height: 135%;\n\tpadding-top: 6px;\n\tword-wrap: break-all;\n\tcolor: ${palette.text.caption};\n`;\n\nconst bottomMarginStyles = css`\n\tmargin-bottom: 6px;\n`;\n\nconst overlaidBottomPadding = (format: ArticleFormat) => {\n\tif (\n\t\tformat.display === ArticleDisplay.Showcase &&\n\t\tformat.design === ArticleDesign.Review\n\t) {\n\t\treturn css`\n\t\t\tpadding-bottom: 2.5rem;\n\t\t`;\n\t}\n\treturn css`\n\t\tpadding-bottom: 0.375rem;\n\t`;\n};\n\nconst overlaidStyles = (palette: Palette, format: ArticleFormat) => css`\n\tposition: absolute;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tbackground: rgba(18, 18, 18, 0.8);\n\n\tspan {\n\t\tcolor: ${palette.text.overlaidCaption};\n\t\tfont-size: 0.75rem;\n\t\tline-height: 1rem;\n\t}\n\n\tsvg {\n\t\tfill: ${palette.text.overlaidCaption};\n\t}\n\tcolor: ${palette.text.overlaidCaption};\n\tfont-size: 0.75rem;\n\tline-height: 1rem;\n\tpadding-top: 0.375rem;\n\tpadding-right: 2.5rem;\n\tpadding-left: 0.75rem;\n\t${overlaidBottomPadding(format)};\n\n\tflex-grow: 1;\n\tmin-height: 2.25rem;\n`;\n\nconst limitedWidth = css`\n\t${from.leftCol} {\n\t\twidth: 140px;\n\t\t/* use absolute position here to allow the article text to push up alongside\n           the caption when it is limited in width */\n\t\tposition: absolute;\n\t}\n\t${from.wide} {\n\t\twidth: 220px;\n\t}\n`;\n\nconst veryLimitedWidth = css`\n\t${from.leftCol} {\n\t\twidth: 120px;\n\t\t/* use absolute position here to allow the article text to push up alongside\n           the caption when it is limited in width */\n\t\tposition: absolute;\n\t}\n\t${from.wide} {\n\t\twidth: 184px;\n\t}\n`;\n\nconst captionPadding = css`\n\tpadding-left: 8px;\n\tpadding-right: 8px;\n`;\n\nconst tabletCaptionPadding = css`\n\t${until.desktop} {\n\t\t${captionPadding}\n\t}\n`;\n\nconst videoPadding = css`\n\t${until.mobileLandscape} {\n\t\tmargin-left: 10px;\n\t}\n\t${between.mobileLandscape.and.phablet} {\n\t\tmargin-left: ${space[5]}px;\n\t}\n`;\n\nconst bigLeftMargin = css`\n\twidth: inherit;\n\tmargin-left: ${space[9]}px;\n\t${until.wide} {\n\t\tmargin-left: 20px;\n\t\tmargin-right: 20px;\n\t}\n\t${until.mobileLandscape} {\n\t\tmargin-left: 10px;\n\t\tmargin-right: 10px;\n\t}\n`;\n\nconst hideIconBelowLeftCol = css`\n\t${until.leftCol} {\n\t\tdisplay: none;\n\t}\n`;\n\nconst pictureRatio = (13 / 18) * 100;\nconst videoRatio = (23 / 36) * 100;\n\nconst iconStyle = (palette: Palette) => css`\n\tfill: ${palette.fill.cameraCaptionIcon};\n\tmargin-right: ${space[1]}px;\n\tdisplay: inline-block;\n\tposition: relative;\n\twidth: 1em;\n\tvertical-align: baseline;\n\t::before {\n\t\tcontent: ' ';\n\t\tdisplay: block;\n\t\tpadding-top: ${pictureRatio}%;\n\t}\n\tsvg {\n\t\ttop: 0px;\n\t\tright: 0px;\n\t\tbottom: 0px;\n\t\tleft: 0px;\n\t\twidth: 100%;\n\t\tposition: absolute;\n\t\theight: 100%;\n\t}\n`;\n\nconst videoIconStyle = css`\n\twidth: 1.1em;\n\t::before {\n\t\tpadding-top: ${videoRatio}%;\n\t}\n`;\n\nconst captionLink = (palette: Palette) => css`\n\ta {\n\t\tcolor: ${palette.text.captionLink};\n\t\ttext-decoration: none;\n\t}\n\ta:hover {\n\t\ttext-decoration: underline;\n\t}\n\tstrong {\n\t\tfont-weight: bold;\n\t}\n`;\n\nconst CameraIcon = ({ palette, format }: IconProps) => {\n\treturn (\n\t\t<span\n\t\t\tcss={[\n\t\t\t\ticonStyle(palette),\n\t\t\t\tformat.display === ArticleDisplay.Immersive &&\n\t\t\t\t\thideIconBelowLeftCol,\n\t\t\t]}\n\t\t>\n\t\t\t<CameraSvg />\n\t\t</span>\n\t);\n};\n\nconst VideoIcon = ({ palette, format }: IconProps) => {\n\treturn (\n\t\t<span\n\t\t\tcss={[\n\t\t\t\ticonStyle(palette),\n\t\t\t\tformat.display === ArticleDisplay.Immersive &&\n\t\t\t\t\thideIconBelowLeftCol,\n\t\t\t\tvideoIconStyle,\n\t\t\t]}\n\t\t>\n\t\t\t<VideoSvg />\n\t\t</span>\n\t);\n};\n\nexport const Caption = ({\n\tcaptionText,\n\tformat,\n\tpadCaption = false,\n\tcredit,\n\tdisplayCredit = true,\n\tshouldLimitWidth = false,\n\tisOverlaid,\n\tisLeftCol,\n\tmediaType = 'Gallery',\n\tisMainMedia = false,\n}: Props) => {\n\t// Sometimes captions come thorough as a single blank space, so we trim here to ignore those\n\tconst noCaption = !captionText?.trim();\n\tconst noCredit = !credit;\n\tconst hideCredit = !displayCredit;\n\tif (noCaption && (noCredit || hideCredit)) return null;\n\n\tconst palette = decidePalette(format);\n\tconst isBlog =\n\t\tformat.design === ArticleDesign.LiveBlog ||\n\t\tformat.design === ArticleDesign.DeadBlog;\n\n\tconst defaultCaption = (\n\t\t<figcaption\n\t\t\tcss={[\n\t\t\t\tcaptionStyle(palette),\n\t\t\t\tshouldLimitWidth && limitedWidth,\n\t\t\t\tisOverlaid\n\t\t\t\t\t? overlaidStyles(palette, format)\n\t\t\t\t\t: bottomMarginStyles,\n\t\t\t\tisMainMedia && isBlog && tabletCaptionPadding,\n\t\t\t\tpadCaption && captionPadding,\n\t\t\t\tmediaType === 'Video' && videoPadding,\n\t\t\t]}\n\t\t>\n\t\t\t{mediaType === 'Video' ? (\n\t\t\t\t<VideoIcon palette={palette} format={format} />\n\t\t\t) : (\n\t\t\t\t<CameraIcon palette={palette} format={format} />\n\t\t\t)}\n\t\t\t{!!captionText && (\n\t\t\t\t<span\n\t\t\t\t\tcss={captionLink(palette)}\n\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t__html: captionText || '',\n\t\t\t\t\t}}\n\t\t\t\t\tkey=\"caption\"\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t{!!credit && displayCredit && ` ${credit}`}\n\t\t</figcaption>\n\t);\n\n\tswitch (format.design) {\n\t\tcase ArticleDesign.PhotoEssay:\n\t\t\tif (format.theme === ArticleSpecial.Labs && isLeftCol) {\n\t\t\t\treturn defaultCaption;\n\t\t\t}\n\t\t\treturn (\n\t\t\t\t<figcaption\n\t\t\t\t\tcss={[\n\t\t\t\t\t\tcss`\n\t\t\t\t\t\t\t${textSans.xxsmall({ lineHeight: 'tight' })};\n\t\t\t\t\t\t\tcolor: ${palette.text.caption};\n\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\tmargin-top: ${space[3]}px;\n\t\t\t\t\t\t\tli:not(:first-child) {\n\t\t\t\t\t\t\t\tmargin-top: ${space[3]}px;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tli {\n\t\t\t\t\t\t\t\tpadding-top: ${space[2]}px;\n\t\t\t\t\t\t\t\tborder-top: 1px solid ${palette.text.caption};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t`,\n\t\t\t\t\t\tbottomMarginStyles,\n\t\t\t\t\t\tpadCaption && captionPadding,\n\t\t\t\t\t\tshouldLimitWidth && veryLimitedWidth,\n\t\t\t\t\t\tshouldLimitWidth && bigLeftMargin,\n\t\t\t\t\t]}\n\t\t\t\t>\n\t\t\t\t\t{!!captionText && (\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tcss={captionLink(palette)}\n\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t__html: captionText || '',\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tkey=\"caption\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t{!!credit && displayCredit && ` ${credit}`}\n\t\t\t\t</figcaption>\n\t\t\t);\n\t\tdefault:\n\t\t\treturn defaultCaption;\n\t}\n};\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden, iconSize } from '@guardian/source-foundations';\n\nconst Svg = ({ size }) => (jsx(\"svg\", { width: size ? iconSize[size] : undefined, height: undefined, viewBox: \"-3 -3 30 30\", xmlns: \"http://www.w3.org/2000/svg\", focusable: false, \"aria-hidden\": true, children: jsx(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M23 10.75h-1.25l-.6-4.525L15.4 12 14 10.575l5.725-5.75-4.475-.575V3h7.275l.475.475v7.275ZM11 8 9.975 9H3v10h16v-5l.975-1H21v6.975L19.975 21h-18L1 19.975V8l.975-1H11v1Z\" }) }));\nconst SvgExternal = ({ size, isAnnouncedByScreenReader = false, }) => (jsxs(Fragment, { children: [jsx(Svg, { size: size }), isAnnouncedByScreenReader ? (jsx(\"span\", { css: css `\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`, children: \"External link\" })) : ('')] }));\n\nexport { SvgExternal };\n//# sourceMappingURL=SvgExternal.js.map\n","import { css } from '@emotion/react';\nimport { ArticleSpecial } from '@guardian/libs';\nimport type { FontScaleArgs, FontWeight } from '@guardian/source-foundations';\nimport {\n\tbetween,\n\tfontWeights,\n\tfrom,\n\theadline,\n\tspace,\n\ttextSans,\n\tuntil,\n} from '@guardian/source-foundations';\nimport { Link, SvgExternal } from '@guardian/source-react-components';\nimport React from 'react';\nimport type { DCRContainerPalette } from '../../types/front';\nimport type { Palette } from '../../types/palette';\nimport { decidePalette } from '../lib/decidePalette';\nimport { getZIndex } from '../lib/getZIndex';\nimport { Byline } from './Byline';\nimport { Kicker } from './Kicker';\nimport { QuoteIcon } from './QuoteIcon';\n\ntype Props = {\n\theadlineText: string; // The text shown\n\tformat: ArticleFormat; // Used to decide when to add type specific styles\n\tcontainerPalette?: DCRContainerPalette;\n\tkickerText?: string;\n\tshowPulsingDot?: boolean;\n\thideLineBreak?: boolean;\n\tshowQuotes?: boolean; // Even with design !== Comment, a piece can be opinion\n\tsize?: SmallHeadlineSize;\n\tsizeOnMobile?: SmallHeadlineSize;\n\tbyline?: string;\n\tshowByline?: boolean;\n\tshowLine?: boolean; // If true a short line is displayed above, used for sublinks\n\tlinkTo?: string; // If provided, the headline is wrapped in a link\n\tisDynamo?: true;\n\tisExternalLink?: boolean;\n};\n\nconst fontStyles = ({\n\tsize,\n\tfontWeight,\n}: {\n\tsize: SmallHeadlineSize;\n\tfontWeight?: FontWeight;\n}) => {\n\tconst options: FontScaleArgs = {};\n\tif (fontWeight) options.fontWeight = fontWeight;\n\n\tswitch (size) {\n\t\tcase 'ginormous':\n\t\t\treturn css`\n\t\t\t\t${from.desktop} {\n\t\t\t\t\t${headline.large(options)};\n\t\t\t\t\tfont-size: 50px;\n\t\t\t\t}\n\t\t\t`;\n\t\tcase 'huge':\n\t\t\treturn css`\n\t\t\t\t${headline.small(options)};\n\t\t\t`;\n\t\tcase 'large':\n\t\t\treturn css`\n\t\t\t\t${headline.xsmall(options)};\n\t\t\t`;\n\t\tcase 'medium':\n\t\t\treturn css`\n\t\t\t\t${headline.xxsmall(options)};\n\t\t\t`;\n\t\tcase 'small':\n\t\t\treturn css`\n\t\t\t\t${headline.xxxsmall(options)};\n\t\t\t`;\n\t\tcase 'tiny':\n\t\t\treturn css`\n\t\t\t\t${headline.xxxsmall(options)};\n\t\t\t\tfont-size: 14px;\n\t\t\t`;\n\t}\n};\n\nconst fontStylesOnMobile = ({\n\tsize,\n\tfontWeight,\n}: {\n\tsize: SmallHeadlineSize;\n\tfontWeight?: FontWeight;\n}) => {\n\tconst options: FontScaleArgs = {};\n\tif (fontWeight) options.fontWeight = fontWeight;\n\n\tswitch (size) {\n\t\tcase 'ginormous':\n\t\t\treturn css`\n\t\t\t\t${until.mobileLandscape} {\n\t\t\t\t\t${headline.medium(options)};\n\t\t\t\t}\n\t\t\t\t${between.mobileLandscape.and.desktop} {\n\t\t\t\t\t${headline.large(options)};\n\t\t\t\t}\n\t\t\t`;\n\t\tcase 'huge':\n\t\t\treturn css`\n\t\t\t\t${until.desktop} {\n\t\t\t\t\t${headline.xsmall(options)};\n\t\t\t\t}\n\t\t\t`;\n\t\tcase 'large':\n\t\t\treturn css`\n\t\t\t\t${until.desktop} {\n\t\t\t\t\t${headline.xxsmall(options)};\n\t\t\t\t}\n\t\t\t`;\n\t\tcase 'medium':\n\t\t\treturn css`\n\t\t\t\t${until.desktop} {\n\t\t\t\t\t${headline.xxxsmall(options)};\n\t\t\t\t}\n\t\t\t`;\n\t\tdefault:\n\t\t\treturn undefined;\n\t}\n};\n\nconst labTextStyles = (size: SmallHeadlineSize) => {\n\tswitch (size) {\n\t\tcase 'ginormous':\n\t\tcase 'huge':\n\t\tcase 'large':\n\t\t\treturn css`\n\t\t\t\t${textSans.large()};\n\t\t\t\t${until.desktop} {\n\t\t\t\t\t${textSans.medium()};\n\t\t\t\t}\n\t\t\t`;\n\t\tcase 'medium':\n\t\t\treturn css`\n\t\t\t\t${textSans.large({ lineHeight: 'tight' })};\n\t\t\t\t${until.desktop} {\n\t\t\t\t\t${textSans.medium({ lineHeight: 'tight' })};\n\t\t\t\t}\n\t\t\t\tpadding-bottom: ${space[1]}px;\n\t\t\t`;\n\t\tcase 'small':\n\t\t\treturn css`\n\t\t\t\t${textSans.small()};\n\t\t\t`;\n\t\tcase 'tiny':\n\t\t\treturn css`\n\t\t\t\t${textSans.xxsmall()};\n\t\t\t\tfont-size: 14px;\n\t\t\t`;\n\t}\n};\n\nconst sublinkStyles = css`\n\t/* See: https://css-tricks.com/nested-links/ */\n\t${getZIndex('card-nested-link')}\n\t/* The following styles turn off those provided by Link */\n\tcolor: inherit;\n\ttext-decoration: none;\n\t/* stylelint-disable-next-line property-disallowed-list */\n\tfont-family: inherit;\n\tfont-size: inherit;\n\tfont-weight: ${fontWeights.medium};\n\tline-height: inherit;\n\t/* This css is used to remove any underline from the kicker but still\n\t * have it applied to the headline when the kicker is hovered */\n\t:hover {\n\t\tcolor: inherit;\n\t\ttext-decoration: none;\n\t\t.show-underline {\n\t\t\ttext-decoration: underline;\n\t\t}\n\t}\n`;\n\nconst lineStyles = (palette: Palette) => css`\n\tpadding-top: 1px;\n\t:before {\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tcontent: '';\n\t\tborder-top: 1px solid ${palette.border.cardSupporting};\n\n\t\twidth: 120px;\n\t\t${between.tablet.and.desktop} {\n\t\t\twidth: 100px;\n\t\t}\n\t}\n`;\n\nconst dynamoStyles = css`\n\tdisplay: block;\n\tfont-weight: ${fontWeights.medium};\n\tpadding: 5px;\n`;\nconst WithLink = ({\n\tlinkTo,\n\tchildren,\n\tisDynamo,\n}: {\n\tlinkTo?: string;\n\tchildren: React.ReactNode;\n\tisDynamo?: true;\n}) => {\n\tif (linkTo) {\n\t\treturn (\n\t\t\t<Link\n\t\t\t\thref={linkTo}\n\t\t\t\tcssOverrides={\n\t\t\t\t\tisDynamo ? [sublinkStyles, dynamoStyles] : sublinkStyles\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</Link>\n\t\t);\n\t}\n\treturn <>{children}</>;\n};\n\n/** Matches headlines starting with short words of 1 to 3 letters followed by a space */\nconst isFirstWordShort = /^(\\w{1,3}) \\b/;\n\nexport const CardHeadline = ({\n\theadlineText,\n\tformat,\n\tcontainerPalette,\n\tshowQuotes,\n\tkickerText,\n\tshowPulsingDot,\n\thideLineBreak,\n\tsize = 'medium',\n\tsizeOnMobile,\n\tbyline,\n\tshowByline,\n\tshowLine,\n\tlinkTo,\n\tisDynamo,\n\tisExternalLink,\n}: Props) => {\n\tconst palette = decidePalette(format, containerPalette);\n\tconst kickerColour = isDynamo\n\t\t? palette.text.dynamoKicker\n\t\t: palette.text.cardKicker;\n\tconst cleanHeadLineText = headlineText.match(isFirstWordShort)\n\t\t? headlineText.replace(' ', ' ') // from regular to non-breaking space\n\t\t: headlineText;\n\treturn (\n\t\t<>\n\t\t\t<h3\n\t\t\t\tcss={[\n\t\t\t\t\tformat.theme === ArticleSpecial.Labs\n\t\t\t\t\t\t? labTextStyles(size)\n\t\t\t\t\t\t: fontStyles({\n\t\t\t\t\t\t\t\tsize,\n\t\t\t\t\t\t\t\tfontWeight: 'medium',\n\t\t\t\t\t\t  }),\n\t\t\t\t\tformat.theme !== ArticleSpecial.Labs &&\n\t\t\t\t\t\tfontStylesOnMobile({\n\t\t\t\t\t\t\tsize: sizeOnMobile ?? size,\n\t\t\t\t\t\t\tfontWeight: 'medium',\n\t\t\t\t\t\t}),\n\t\t\t\t\tshowLine && !isDynamo && lineStyles(palette),\n\t\t\t\t]}\n\t\t\t>\n\t\t\t\t<WithLink linkTo={linkTo} isDynamo={isDynamo}>\n\t\t\t\t\t{!!kickerText && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Kicker\n\t\t\t\t\t\t\t\ttext={kickerText}\n\t\t\t\t\t\t\t\tcolor={kickerColour}\n\t\t\t\t\t\t\t\tshowPulsingDot={showPulsingDot}\n\t\t\t\t\t\t\t\thideLineBreak={hideLineBreak}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t\t{showQuotes && <QuoteIcon colour={kickerColour} />}\n\t\t\t\t\t<span\n\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\tcolor: ${isDynamo\n\t\t\t\t\t\t\t\t? palette.text.dynamoHeadline\n\t\t\t\t\t\t\t\t: palette.text.cardHeadline};\n\t\t\t\t\t\t`}\n\t\t\t\t\t\tclassName=\"show-underline\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{cleanHeadLineText}\n\t\t\t\t\t\t{isExternalLink && (\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\t\t\tstroke: red;\n\t\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<SvgExternal size=\"xsmall\" />\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</span>\n\t\t\t\t</WithLink>\n\t\t\t</h3>\n\t\t\t{!!byline && showByline && (\n\t\t\t\t<Byline\n\t\t\t\t\ttext={byline}\n\t\t\t\t\tformat={format}\n\t\t\t\t\tcontainerPalette={containerPalette}\n\t\t\t\t\tsize={size}\n\t\t\t\t\tisCard={true}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { breakpoints } from '@guardian/source-foundations';\nimport React from 'react';\nimport type { ImageWidthType } from './Picture';\nimport { generateSources, getFallbackSource } from './Picture';\n\ntype Props = {\n\timageSize: ImageSizeType;\n\tmaster: string;\n\talt: string;\n};\n\n/**\n * **WIP – Some size may be unaccounted for**\n *\n * Currently, this only handles the five (5) image sizes of `ImageSizeType`.\n *\n * This method should cover all use cases with a lot more precision once\n * implemented thoroughly\n */\nconst decideImageWidths = (\n\timageSize: ImageSizeType,\n): [ImageWidthType, ...ImageWidthType[]] => {\n\tswitch (imageSize) {\n\t\t// @TODO missing image size option\n\t\t// case 'tiny':\n\t\t// \treturn [\n\t\t// \t\t{ breakpoint: breakpoints.mobile, width: 120 },\n\t\t// \t\t{ breakpoint: breakpoints.tablet, width: 130 },\n\t\t// \t\t{ breakpoint: breakpoints.desktop, width: 140 },\n\t\t// \t];\n\n\t\tcase 'carousel':\n\t\t\treturn [{ breakpoint: breakpoints.mobile, width: 220 }];\n\n\t\tcase 'small':\n\t\t\treturn [\n\t\t\t\t{ breakpoint: breakpoints.mobile, width: 120 },\n\t\t\t\t{ breakpoint: breakpoints.tablet, width: 160 },\n\t\t\t\t{ breakpoint: breakpoints.desktop, width: 220 },\n\t\t\t];\n\n\t\tcase 'medium':\n\t\t\treturn [\n\t\t\t\t{ breakpoint: breakpoints.mobile, width: 240 },\n\t\t\t\t{ breakpoint: breakpoints.tablet, width: 330 },\n\t\t\t\t{ breakpoint: breakpoints.desktop, width: 460 },\n\t\t\t];\n\n\t\tcase 'large':\n\t\t\treturn [\n\t\t\t\t{ breakpoint: breakpoints.mobile, width: 360 },\n\t\t\t\t{ breakpoint: breakpoints.mobileLandscape, width: 480 },\n\t\t\t\t{ breakpoint: breakpoints.tablet, width: 500 },\n\t\t\t\t{ breakpoint: breakpoints.desktop, width: 700 },\n\t\t\t];\n\n\t\tcase 'jumbo':\n\t\t\treturn [\n\t\t\t\t{ breakpoint: breakpoints.mobile, width: 360 },\n\t\t\t\t{ breakpoint: breakpoints.mobileLandscape, width: 480 },\n\t\t\t\t{ breakpoint: breakpoints.tablet, width: 680 },\n\t\t\t\t{ breakpoint: breakpoints.desktop, width: 940 },\n\t\t\t];\n\t}\n};\n\n/**\n * Used on `picture` and `img` to prevent having a line-height,\n * as these elements are which are `inline` by default.\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/HTML/Element/img#styling_with_css\n */\nconst block = css`\n\tdisplay: block;\n`;\n\n/** On fronts, all images are 5:3 */\nconst aspectRatio = css`\n\tpadding-top: ${(3 / 5) * 100}%;\n\tposition: relative;\n\n\t& > * {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n`;\n\nexport const CardPicture = ({ master, alt, imageSize }: Props) => {\n\tconst sources = generateSources(master, decideImageWidths(imageSize));\n\n\tconst fallbackSource = getFallbackSource(sources);\n\n\treturn (\n\t\t<picture data-size={imageSize} css={[block, aspectRatio]}>\n\t\t\t{sources.map((source) => {\n\t\t\t\treturn (\n\t\t\t\t\t<React.Fragment key={source.breakpoint}>\n\t\t\t\t\t\t{/* High resolution (HDPI) sources*/}\n\t\t\t\t\t\t<source\n\t\t\t\t\t\t\tsrcSet={source.hiResUrl}\n\t\t\t\t\t\t\tmedia={`(min-width: ${source.breakpoint}px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: ${source.breakpoint}px) and (min-resolution: 120dpi)`}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{/* Low resolution (MDPI) source*/}\n\t\t\t\t\t\t<source\n\t\t\t\t\t\t\tsrcSet={source.lowResUrl}\n\t\t\t\t\t\t\tmedia={`(min-width: ${source.breakpoint}px)`}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</React.Fragment>\n\t\t\t\t);\n\t\t\t})}\n\n\t\t\t<img alt={alt} src={fallbackSource.lowResUrl} css={block} />\n\t\t</picture>\n\t);\n};\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden, iconSize } from '@guardian/source-foundations';\n\nconst Svg = ({ size }) => (jsx(\"svg\", { width: size ? iconSize[size] : undefined, height: undefined, viewBox: \"-3 -3 30 30\", xmlns: \"http://www.w3.org/2000/svg\", focusable: false, \"aria-hidden\": true, children: jsx(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M23 6.5v10.975l-1.475 1.55H2.5L1 17.55V6.5L2.5 5h4.975l2.5-2.5H14L16.5 5h5.025L23 6.5Zm-11 9.75c2.5 0 4.525-2 4.525-4.475 0-2.5-2.025-4.5-4.525-4.5-2.5 0-4.5 2-4.5 4.5 0 2.475 2 4.475 4.5 4.475Z\" }) }));\nconst SvgCamera = ({ size, isAnnouncedByScreenReader = false, }) => (jsxs(Fragment, { children: [jsx(Svg, { size: size }), isAnnouncedByScreenReader ? (jsx(\"span\", { css: css `\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`, children: \"Camera\" })) : ('')] }));\n\nexport { SvgCamera };\n//# sourceMappingURL=SvgCamera.js.map\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden, iconSize } from '@guardian/source-foundations';\n\nconst Svg = ({ size }) => (jsx(\"svg\", { width: size ? iconSize[size] : undefined, height: undefined, viewBox: \"-3 -3 30 30\", xmlns: \"http://www.w3.org/2000/svg\", focusable: false, \"aria-hidden\": true, children: jsx(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M3 5 1 7v10l2 2h11.5V5H3Zm18.5.5-5 5v3l5 5H23v-13h-1.5Z\" }) }));\nconst SvgVideo = ({ size, isAnnouncedByScreenReader = false, }) => (jsxs(Fragment, { children: [jsx(Svg, { size: size }), isAnnouncedByScreenReader ? (jsx(\"span\", { css: css `\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`, children: \"Video\" })) : ('')] }));\n\nexport { SvgVideo };\n//# sourceMappingURL=SvgVideo.js.map\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden, iconSize } from '@guardian/source-foundations';\n\nconst Svg = ({ size }) => (jsx(\"svg\", { width: size ? iconSize[size] : undefined, height: undefined, viewBox: \"-3 -3 30 30\", xmlns: \"http://www.w3.org/2000/svg\", focusable: false, \"aria-hidden\": true, children: jsx(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M2 15.75h3.75L11 21h1V3h-1L5.75 8.25H2l-1 1v5.5l1 1ZM21.3 12c0 2.7-.925 5.175-2.5 7.175l.55.525A9.906 9.906 0 0 0 23 12c0-3.125-1.425-5.9-3.65-7.725l-.55.525c1.575 2 2.5 4.475 2.5 7.2Zm-5.2 0c0 1.575-.425 2.975-1.275 4.2l.65.65C16.75 15.575 17.5 13.9 17.5 12c0-1.925-.75-3.6-2.025-4.875l-.65.65C15.675 9 16.1 10.425 16.1 12Z\" }) }));\nconst SvgAudio = ({ size, isAnnouncedByScreenReader = false, }) => (jsxs(Fragment, { children: [jsx(Svg, { size: size }), isAnnouncedByScreenReader ? (jsx(\"span\", { css: css `\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`, children: \"Audio\" })) : ('')] }));\n\nexport { SvgAudio };\n//# sourceMappingURL=SvgAudio.js.map\n","import { css } from '@emotion/react';\nimport { textSans } from '@guardian/source-foundations';\nimport {\n\tSvgAudio,\n\tSvgCamera,\n\tSvgVideo,\n} from '@guardian/source-react-components';\nimport type { DCRContainerPalette } from '../../types/front';\nimport type { Palette } from '../../types/palette';\nimport { decidePalette } from '../lib/decidePalette';\n\ntype Props = {\n\tmediaType: MediaType;\n\tcontainerPalette?: DCRContainerPalette;\n\tformat: ArticleFormat;\n\tmediaDuration?: number;\n\thasKicker: boolean;\n};\n\nconst iconWrapperStyles = (palette: Palette, hasKicker: boolean) => css`\n\twidth: 24px;\n\theight: 24px;\n\t/* We’re using the text colour for the icon badge */\n\tbackground-color: ${hasKicker\n\t\t? palette.text.cardKicker\n\t\t: palette.text.cardFooter};\n\tborder-radius: 50%;\n\tdisplay: inline-block;\n\n\t> svg {\n\t\twidth: 20px;\n\t\theight: 20px;\n\t\tmargin-left: auto;\n\t\tmargin-right: auto;\n\t\tmargin-top: 2px;\n\t\tdisplay: block;\n\t\tfill: ${palette.background.card};\n\t}\n`;\n\nconst durationStyles = (palette: Palette, hasKicker: boolean) => css`\n\tcolor: ${hasKicker ? palette.text.cardKicker : palette.text.cardFooter};\n\t${textSans.xxsmall({ fontWeight: `bold` })}\n`;\n\nconst wrapperStyles = css`\n\tdisplay: flex;\n\talign-items: center;\n\tmargin-top: 4px;\n`;\n\nexport function secondsToDuration(secs?: number): string {\n\tif (typeof secs === `undefined` || secs === 0) {\n\t\treturn ``;\n\t}\n\tconst seconds = Number(secs);\n\tconst h = Math.floor(seconds / 3600);\n\tconst m = Math.floor((seconds % 3600) / 60);\n\tconst s = Math.floor((seconds % 3600) % 60);\n\n\tconst duration = [];\n\tif (h > 0) {\n\t\tduration.push(h);\n\t}\n\tif (h > 0 && m < 10) duration.push(`0${m}`); // e.g 1:01:11\n\telse duration.push(m); // supports 0:59\n\tif (s > 0) {\n\t\tif (s < 10) duration.push(`0${s}`);\n\t\telse duration.push(s);\n\t}\n\treturn duration.join(':');\n}\n\nconst Icon = ({ mediaType }: { mediaType: MediaType }) => {\n\tswitch (mediaType) {\n\t\tcase 'Gallery':\n\t\t\treturn <SvgCamera />;\n\t\tcase 'Video':\n\t\t\treturn <SvgVideo />;\n\t\tcase 'Audio':\n\t\t\treturn <SvgAudio />;\n\t}\n};\n\nconst MediaIcon = ({\n\tmediaType,\n\tpalette,\n\thasKicker,\n}: {\n\tmediaType: MediaType;\n\tpalette: Palette;\n\thasKicker: boolean;\n}) => (\n\t<span css={iconWrapperStyles(palette, hasKicker)}>\n\t\t<Icon mediaType={mediaType} />\n\t</span>\n);\n\nconst MediaDuration = ({\n\tmediaDuration,\n\tpalette,\n\thasKicker,\n}: {\n\tmediaDuration: number;\n\tpalette: Palette;\n\thasKicker: boolean;\n}) => (\n\t<p css={durationStyles(palette, hasKicker)}>\n\t\t{secondsToDuration(mediaDuration)}\n\t</p>\n);\n\nexport const MediaMeta = ({\n\tmediaType,\n\tmediaDuration,\n\tformat,\n\tcontainerPalette,\n\thasKicker,\n}: Props) => {\n\tconst palette = decidePalette(format, containerPalette);\n\treturn (\n\t\t<div css={wrapperStyles}>\n\t\t\t<MediaIcon\n\t\t\t\tmediaType={mediaType}\n\t\t\t\tpalette={palette}\n\t\t\t\thasKicker={hasKicker}\n\t\t\t/>\n\t\t\t&nbsp;\n\t\t\t{mediaDuration !== undefined && mediaDuration > 0 && (\n\t\t\t\t<MediaDuration\n\t\t\t\t\tmediaDuration={mediaDuration}\n\t\t\t\t\tpalette={palette}\n\t\t\t\t\thasKicker={hasKicker}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n","import { css } from '@emotion/react';\nimport type { DCRSnapType } from '../../types/front';\n\nconst snapStyles = css`\n\toverflow-y: hidden;\n\tposition: relative;\n\tdisplay: flex;\n`;\n\ntype Props = {\n\tsnapData?: DCRSnapType;\n};\n\nexport const Snap = ({ snapData }: Props) => {\n\tif (snapData?.embedHtml === undefined) {\n\t\treturn <></>;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<div\n\t\t\t\tcss={[\n\t\t\t\t\tsnapStyles,\n\t\t\t\t\tcss`\n\t\t\t\t\t\t${snapData.embedCss}\n\t\t\t\t\t`,\n\t\t\t\t]}\n\t\t\t\tdangerouslySetInnerHTML={{ __html: snapData.embedHtml }}\n\t\t\t/>\n\t\t\t{snapData.embedJs ? (\n\t\t\t\t<div>\n\t\t\t\t\t<script\n\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: snapData.embedJs }}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t) : undefined}\n\t\t</>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { from, neutral, until } from '@guardian/source-foundations';\nimport type {\n\tDCRContainerPalette,\n\tDCRSupportingContent,\n} from '../../types/front';\nimport { decidePalette } from '../lib/decidePalette';\nimport { transparentColour } from '../lib/transparentColour';\nimport { CardHeadline } from './CardHeadline';\n\nexport type Alignment = 'vertical' | 'horizontal';\n\ntype Props = {\n\tsupportingContent: DCRSupportingContent[];\n\talignment: Alignment;\n\tcontainerPalette?: DCRContainerPalette;\n\tisDynamo?: true;\n\tparentFormat: ArticleFormat;\n};\n\nconst wrapperStyles = css`\n\tposition: relative;\n\tdisplay: flex;\n\tmargin-left: 5px;\n\tmargin-right: 5px;\n\tmargin-bottom: 5px;\n`;\n\nconst directionStyles = (alignment: Alignment) => {\n\tswitch (alignment) {\n\t\tcase 'horizontal':\n\t\t\treturn css`\n\t\t\t\tflex-direction: column;\n\t\t\t\t${from.tablet} {\n\t\t\t\t\tflex-direction: row;\n\t\t\t\t}\n\t\t\t`;\n\t\tcase 'vertical':\n\t\t\treturn css`\n\t\t\t\tflex-direction: column;\n\t\t\t`;\n\t}\n};\n\nconst dynamoStyles = css`\n\tflex-direction: column;\n\tcolumn-gap: 5px;\n\twidth: 100%;\n\tmargin: 0;\n\n\t${from.tablet} {\n\t\tpadding: 0 5px 5px;\n\t\tflex-direction: row;\n\t\tposition: absolute;\n\t\tbottom: 0;\n\t}\n`;\n\nconst liStyles = css`\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex: 1;\n\tpadding-top: 2px;\n\tposition: relative;\n\tmargin-top: 8px;\n\t${from.tablet} {\n\t\tmargin-bottom: 4px;\n\t}\n`;\n\nconst dynamoLiStyles = css`\n\tbackground-color: ${transparentColour(neutral[97], 0.875)};\n\tborder-top: 1px solid;\n\t/* 20% is arbitrary, but the cards should expand thanks for flex-grow */\n\tflex: 1 0 25%;\n\tmargin: 0;\n`;\n\nconst leftMargin = css`\n\t${from.tablet} {\n\t\tmargin-left: 10px;\n\t}\n`;\n\nconst bottomMargin = css`\n\t${until.tablet} {\n\t\tmargin-bottom: 8px;\n\t}\n`;\n\nexport const SupportingContent = ({\n\tsupportingContent,\n\talignment,\n\tcontainerPalette,\n\tisDynamo,\n\tparentFormat,\n}: Props) => {\n\treturn (\n\t\t<ul\n\t\t\tcss={[\n\t\t\t\twrapperStyles,\n\t\t\t\tisDynamo ? dynamoStyles : directionStyles(alignment),\n\t\t\t]}\n\t\t>\n\t\t\t{supportingContent.map((subLink, index, { length }) => {\n\t\t\t\t// The model has this property as optional but it is very likely\n\t\t\t\t// to exist\n\t\t\t\tif (!subLink.headline) return null;\n\t\t\t\tconst shouldPadLeft =\n\t\t\t\t\t!isDynamo && index > 0 && alignment === 'horizontal';\n\t\t\t\tconst isLast = index === length - 1;\n\t\t\t\treturn (\n\t\t\t\t\t<li\n\t\t\t\t\t\tkey={subLink.url}\n\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\tisDynamo\n\t\t\t\t\t\t\t\t? [\n\t\t\t\t\t\t\t\t\t\tdynamoLiStyles,\n\t\t\t\t\t\t\t\t\t\tcss`\n\t\t\t\t\t\t\t\t\t\t\tborder-color: ${decidePalette(\n\t\t\t\t\t\t\t\t\t\t\t\tparentFormat,\n\t\t\t\t\t\t\t\t\t\t\t\tcontainerPalette,\n\t\t\t\t\t\t\t\t\t\t\t).topBar.card};\n\t\t\t\t\t\t\t\t\t\t`,\n\t\t\t\t\t\t\t\t  ]\n\t\t\t\t\t\t\t\t: liStyles,\n\t\t\t\t\t\t\tshouldPadLeft && leftMargin,\n\t\t\t\t\t\t\tisLast && bottomMargin,\n\t\t\t\t\t\t]}\n\t\t\t\t\t>\n\t\t\t\t\t\t<CardHeadline\n\t\t\t\t\t\t\tformat={subLink.format}\n\t\t\t\t\t\t\tsize=\"tiny\"\n\t\t\t\t\t\t\thideLineBreak={true}\n\t\t\t\t\t\t\tshowLine={true}\n\t\t\t\t\t\t\tlinkTo={subLink.url}\n\t\t\t\t\t\t\tcontainerPalette={containerPalette}\n\t\t\t\t\t\t\tisDynamo={isDynamo}\n\t\t\t\t\t\t\theadlineText={subLink.headline}\n\t\t\t\t\t\t\tkickerText={subLink.kickerText}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</li>\n\t\t\t\t);\n\t\t\t})}\n\t\t</ul>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { from, space, until } from '@guardian/source-foundations';\n\ntype Props = {\n\tchildren: React.ReactNode;\n\timageSize: ImageSizeType;\n\timagePosition: ImagePositionType;\n};\n\nconst sideMarginStyles = css`\n\tmargin-right: ${space[1]}px;\n`;\n\nconst topMarginStyles = css`\n\tmargin-top: ${space[1]}px;\n`;\n\nconst largerTopMargin = css`\n\t${from.tablet} {\n\t\tmargin-top: 50px;\n\t}\n`;\n\nconst sizingStyles = (\n\timageSize: ImageSizeType,\n\timagePosition: ImagePositionType,\n) => {\n\tconst isVertical = imagePosition === 'top' || imagePosition === 'bottom';\n\n\tswitch (imageSize) {\n\t\tcase 'small':\n\t\t\treturn css`\n\t\t\t\t${until.tablet} {\n\t\t\t\t\theight: 73px;\n\t\t\t\t\twidth: 73px;\n\t\t\t\t}\n\n\t\t\t\theight: ${isVertical ? '132px' : '73px'};\n\t\t\t\twidth: ${isVertical ? '132px' : '73px'};\n\t\t\t`;\n\t\tcase 'jumbo':\n\t\t\treturn css`\n\t\t\t\theight: ${isVertical ? '132px' : '180px'};\n\t\t\t\twidth: ${isVertical ? '132px' : '180px'};\n\t\t\t`;\n\t\tdefault:\n\t\t\treturn css`\n\t\t\t\t/* Below 980 */\n\t\t\t\t${until.desktop} {\n\t\t\t\t\theight: 108px;\n\t\t\t\t\twidth: 108px;\n\t\t\t\t}\n\t\t\t\t/* Below 740 */\n\t\t\t\t${until.tablet} {\n\t\t\t\t\theight: 73px;\n\t\t\t\t\twidth: 73px;\n\t\t\t\t}\n\t\t\t\t/* Otherwise */\n\t\t\t\theight: 132px;\n\t\t\t\twidth: 132px;\n\t\t\t`;\n\t}\n};\n\nexport const AvatarContainer = ({\n\tchildren,\n\timageSize,\n\timagePosition,\n}: Props) => {\n\tconst isVertical = imagePosition === 'top' || imagePosition === 'bottom';\n\n\treturn (\n\t\t<div\n\t\t\tcss={[\n\t\t\t\tsideMarginStyles,\n\t\t\t\ttopMarginStyles,\n\t\t\t\tisVertical && largerTopMargin,\n\t\t\t\tsizingStyles(imageSize, imagePosition),\n\t\t\t]}\n\t\t>\n\t\t\t{children}\n\t\t</div>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { ArticleDesign, timeAgo } from '@guardian/libs';\nimport { textSans, until } from '@guardian/source-foundations';\nimport ClockIcon from '../../../../static/icons/clock.svg';\nimport type { DCRContainerPalette } from '../../../../types/front';\nimport type { Palette } from '../../../../types/palette';\nimport { decidePalette } from '../../../lib/decidePalette';\n\ntype Props = {\n\tformat: ArticleFormat;\n\tcontainerPalette?: DCRContainerPalette;\n\twebPublicationDate: string;\n\tshowClock?: boolean;\n\tisDynamo?: true;\n};\n\nconst ageStyles = (\n\tformat: ArticleFormat,\n\tpalette: Palette,\n\tisDynamo?: true,\n) => {\n\treturn css`\n\t\t${textSans.xxsmall({ lineHeight: 'tight' })};\n\t\tmargin-top: -4px;\n\t\tcolor: ${isDynamo\n\t\t\t? palette.text.dynamoHeadline\n\t\t\t: palette.text.cardFooter};\n\n\t\t/* Provide side padding for positioning and also to keep spacing\n    between any sibings (like Lines) */\n\t\tpadding-left: 5px;\n\t\tpadding-right: 5px;\n\t\t${until.tablet} {\n\t\t\tline-height: 1.25;\n\t\t}\n\n\t\tsvg {\n\t\t\tfill: ${palette.text.cardFooter};\n\t\t\tmargin-bottom: -1px;\n\t\t\theight: 11px;\n\t\t\twidth: 11px;\n\t\t\tmargin-right: 2px;\n\t\t}\n\n\t\t> time {\n\t\t\t${textSans.xxsmall({\n\t\t\t\tfontWeight:\n\t\t\t\t\tformat.design === ArticleDesign.Gallery ||\n\t\t\t\t\tformat.design === ArticleDesign.Audio ||\n\t\t\t\t\tformat.design === ArticleDesign.Video\n\t\t\t\t\t\t? `bold`\n\t\t\t\t\t\t: `regular`,\n\t\t\t})};\n\t\t}\n\t`;\n};\n\nexport const CardAge = ({\n\tformat,\n\tcontainerPalette,\n\twebPublicationDate,\n\tshowClock,\n\tisDynamo,\n}: Props) => {\n\tconst displayString = timeAgo(new Date(webPublicationDate).getTime());\n\tconst palette = decidePalette(format, containerPalette);\n\n\tif (displayString === false) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<span css={ageStyles(format, palette, isDynamo)}>\n\t\t\t<span>\n\t\t\t\t{showClock && <ClockIcon />}\n\t\t\t\t<time dateTime={webPublicationDate} data-relativeformat=\"med\">\n\t\t\t\t\t{displayString}\n\t\t\t\t</time>\n\t\t\t</span>\n\t\t</span>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { space, textSans, visuallyHidden } from '@guardian/source-foundations';\nimport type { Branding } from '../../../../types/branding';\nimport type { Palette } from '../../../../types/palette';\nimport { trackSponsorLogoLinkClick } from '../../../browser/ga/ga';\nimport { decideLogo } from '../../../lib/decideLogo';\nimport { decidePalette } from '../../../lib/decidePalette';\nimport { getZIndex } from '../../../lib/getZIndex';\n\ntype Props = {\n\tbranding: Branding;\n\tformat: ArticleFormat;\n};\n\nconst logoImageStyle = css`\n\tmax-height: 60px;\n\tmargin-left: ${space[3]}px;\n\tvertical-align: middle;\n\theight: auto;\n\twidth: auto;\n`;\n\nconst brandingWrapperStyle = css`\n\tpadding-right: ${space[2]}px;\n\tpadding-bottom: ${space[2]}px;\n\ttext-align: right;\n\tflex: auto;\n\t/* See: https://css-tricks.com/nested-links/ */\n\t${getZIndex('card-nested-link')}\n\tposition: relative;\n`;\n\nconst labelStyle = (palette: Palette) => {\n\treturn css`\n\t\t${textSans.xxsmall()}\n\t\tcolor: ${palette.text.cardFooter};\n\t`;\n};\n\nexport const CardBranding = ({ branding, format }: Props) => {\n\tconst logo = decideLogo(format, branding);\n\tconst palette = decidePalette(format);\n\treturn (\n\t\t<div css={brandingWrapperStyle}>\n\t\t\t<div css={labelStyle(palette)}>{logo.label}</div>\n\t\t\t<span\n\t\t\t\tcss={css`\n\t\t\t\t\t${visuallyHidden};\n\t\t\t\t`}\n\t\t\t>\n\t\t\t\t{branding.sponsorName\n\t\t\t\t\t? `This content was paid for by ${branding.sponsorName} and produced by the Guardian Labs team.`\n\t\t\t\t\t: 'This content has been paid for by an advertiser and produced by the Guardian Labs team.'}\n\t\t\t</span>\n\t\t\t<a\n\t\t\t\thref={logo.link}\n\t\t\t\tdata-sponsor={branding.sponsorName.toLowerCase()}\n\t\t\t\trel=\"nofollow\"\n\t\t\t\taria-label={`Visit the ${branding.sponsorName} website`}\n\t\t\t\tonClick={() =>\n\t\t\t\t\ttrackSponsorLogoLinkClick(\n\t\t\t\t\t\tbranding.sponsorName.toLowerCase(),\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\tdata-cy=\"card-branding-logo\"\n\t\t\t>\n\t\t\t\t<img\n\t\t\t\t\tcss={logoImageStyle}\n\t\t\t\t\tsrc={logo.src}\n\t\t\t\t\talt={branding.sponsorName}\n\t\t\t\t\twidth={logo.dimensions.width}\n\t\t\t\t\theight={logo.dimensions.height}\n\t\t\t\t/>\n\t\t\t</a>\n\t\t</div>\n\t);\n};\n","import { ArticleDesign, ArticlePillar, ArticleSpecial } from '@guardian/libs';\nimport type { Branding } from '../../types/branding';\n\nconst shouldUseLogoForDarkBackground = (format: ArticleFormat): boolean => {\n\tif (format.theme === ArticleSpecial.SpecialReport) return true;\n\tswitch (format.design) {\n\t\tcase ArticleDesign.Gallery:\n\t\tcase ArticleDesign.Audio:\n\t\tcase ArticleDesign.Video:\n\t\t\treturn true;\n\t\tcase ArticleDesign.LiveBlog:\n\t\t\tswitch (format.theme) {\n\t\t\t\tcase ArticleSpecial.Labs:\n\t\t\t\t\treturn false;\n\t\t\t\tcase ArticlePillar.News:\n\t\t\t\tcase ArticlePillar.Sport:\n\t\t\t\tcase ArticlePillar.Opinion:\n\t\t\t\tcase ArticlePillar.Lifestyle:\n\t\t\t\tcase ArticlePillar.Culture:\n\t\t\t\tdefault:\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\tdefault:\n\t\t\treturn false;\n\t}\n};\n\nexport const decideLogo = (\n\tformat: ArticleFormat,\n\tbranding: Branding,\n): Branding['logo'] => {\n\treturn shouldUseLogoForDarkBackground(format) &&\n\t\tbranding.logoForDarkBackground\n\t\t? branding.logoForDarkBackground\n\t\t: branding.logo;\n};\n","import { css } from '@emotion/react';\nimport { ArticleDesign, ArticleSpecial } from '@guardian/libs';\nimport { StraightLines } from '@guardian/source-react-components-development-kitchen';\nimport type { DCRContainerPalette } from '../../../../types/front';\nimport { decidePalette } from '../../../lib/decidePalette';\n\ntype Props = {\n\tformat: ArticleFormat;\n\tcontainerPalette?: DCRContainerPalette;\n\tdisplayLines?: boolean;\n\tage?: JSX.Element;\n\tcommentCount?: JSX.Element;\n\tcardBranding?: JSX.Element;\n\tsupportingContent?: JSX.Element;\n};\n\nconst spaceBetween = css`\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n`;\n\nconst margins = css`\n\tmargin-top: 3px;\n\tmargin-bottom: 3px;\n`;\n\nconst flexEnd = css`\n\tdisplay: flex;\n\tjustify-content: flex-end;\n`;\n\nexport const CardFooter = ({\n\tformat,\n\tcontainerPalette,\n\tdisplayLines,\n\tage,\n\tcommentCount,\n\tcardBranding,\n\tsupportingContent,\n}: Props) => {\n\tconst palette = decidePalette(format, containerPalette);\n\n\tif (format.theme === ArticleSpecial.Labs && cardBranding) {\n\t\treturn <footer css={margins}>{cardBranding}</footer>;\n\t}\n\n\tif (\n\t\tformat.design === ArticleDesign.Comment ||\n\t\tformat.design === ArticleDesign.Editorial ||\n\t\tformat.design === ArticleDesign.Letter\n\t) {\n\t\treturn (\n\t\t\t<footer css={margins}>\n\t\t\t\t{supportingContent}\n\t\t\t\t<div css={spaceBetween}>\n\t\t\t\t\t{age}\n\t\t\t\t\t{displayLines && (\n\t\t\t\t\t\t<StraightLines\n\t\t\t\t\t\t\tcssOverrides={css`\n\t\t\t\t\t\t\t\t/* Fill the space */\n\t\t\t\t\t\t\t\tflex: 1;\n\t\t\t\t\t\t\t\talign-self: flex-end;\n\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t\tcolor={palette.border.lines}\n\t\t\t\t\t\t\tcount={4}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t{commentCount}\n\t\t\t\t</div>\n\t\t\t</footer>\n\t\t);\n\t}\n\n\tif (age) {\n\t\treturn (\n\t\t\t<footer css={margins}>\n\t\t\t\t{supportingContent}\n\t\t\t\t<div css={spaceBetween}>\n\t\t\t\t\t{age}\n\t\t\t\t\t{commentCount}\n\t\t\t\t</div>\n\t\t\t</footer>\n\t\t);\n\t}\n\n\treturn (\n\t\t<footer css={margins}>\n\t\t\t{supportingContent}\n\t\t\t<div css={flexEnd}>\n\t\t\t\t<>{commentCount}</>\n\t\t\t</div>\n\t\t</footer>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { until } from '@guardian/source-foundations';\n\ntype Props = {\n\tchildren: React.ReactNode;\n\timageType: CardImageType | undefined;\n\timagePosition: ImagePositionType;\n\timagePositionOnMobile: ImagePositionType;\n\tminWidthInPixels?: number;\n};\n\nconst decideDirection = (imagePosition: ImagePositionType) => {\n\tswitch (imagePosition) {\n\t\tcase 'top':\n\t\t\treturn 'column';\n\t\tcase 'bottom':\n\t\t\treturn 'column-reverse';\n\t\tcase 'left':\n\t\t\treturn 'row';\n\t\tcase 'right':\n\t\t\treturn 'row-reverse';\n\t\t// If there's no image (so no imagePosition) default to top down\n\t\tcase 'none':\n\t\t\treturn 'column';\n\t}\n};\n\nconst decideWidth = (minWidthInPixels?: number) => {\n\tif (minWidthInPixels !== undefined && minWidthInPixels > 0) {\n\t\treturn css`\n\t\t\tmin-width: ${minWidthInPixels}px;\n\t\t`;\n\t}\n\treturn css`\n\t\twidth: 100%;\n\t`;\n};\n\nconst decidePosition = (\n\timagePosition: ImagePositionType,\n\timagePositionOnMobile: ImagePositionType,\n\timageType?: CardImageType,\n) => {\n\tif (imageType === 'avatar') {\n\t\tswitch (imagePosition) {\n\t\t\tcase 'left':\n\t\t\tcase 'right': {\n\t\t\t\treturn css`\n\t\t\t\t\tflex-direction: row-reverse;\n\t\t\t\t\t${until.tablet} {\n\t\t\t\t\t\tflex-direction: row-reverse;\n\t\t\t\t\t}\n\t\t\t\t`;\n\t\t\t}\n\t\t\tdefault: {\n\t\t\t\treturn css`\n\t\t\t\t\tflex-direction: column-reverse;\n\t\t\t\t\t${until.tablet} {\n\t\t\t\t\t\tflex-direction: row-reverse;\n\t\t\t\t\t}\n\t\t\t\t`;\n\t\t\t}\n\t\t}\n\t}\n\treturn css`\n\t\tflex-direction: ${decideDirection(imagePosition)};\n\t\t${until.tablet} {\n\t\t\tflex-direction: ${decideDirection(imagePositionOnMobile)};\n\t\t}\n\t`;\n};\n\nexport const CardLayout = ({\n\tchildren,\n\timagePosition,\n\timagePositionOnMobile,\n\tminWidthInPixels,\n\timageType,\n}: Props) => (\n\t<div\n\t\tcss={[\n\t\t\tcss`\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-basis: 100%;\n\t\t\t`,\n\t\t\tdecideWidth(minWidthInPixels),\n\t\t\tdecidePosition(imagePosition, imagePositionOnMobile, imageType),\n\t\t]}\n\t>\n\t\t{children}\n\t</div>\n);\n","import { css } from '@emotion/react';\nimport { focusHalo } from '@guardian/source-foundations';\nimport type { DCRContainerPalette } from '../../../../types/front';\nimport { getZIndex } from '../../../lib/getZIndex';\n\nconst fauxLinkStyles = css`\n\tposition: absolute;\n\t${getZIndex('card-link')};\n\ttop: 0;\n\tright: 0;\n\tbottom: 0;\n\tleft: 0;\n\tbackground-color: transparent;\n\n\t:focus {\n\t\t${focusHalo};\n\t}\n`;\n\ntype Props = {\n\tlinkTo: string;\n\theadlineText: string;\n\tcontainerPalette?: DCRContainerPalette;\n\tdataLinkName?: string;\n\tisExternalLink: boolean;\n};\n\nconst InternalLink = ({\n\tlinkTo,\n\theadlineText,\n\tdataLinkName,\n}: {\n\tlinkTo: string;\n\theadlineText: string;\n\tdataLinkName?: string;\n}) => {\n\treturn (\n\t\t// eslint-disable-next-line jsx-a11y/anchor-has-content -- we have an aria-label attribute describing the content\n\t\t<a\n\t\t\thref={linkTo}\n\t\t\tcss={fauxLinkStyles}\n\t\t\tdata-link-name={dataLinkName}\n\t\t\taria-label={headlineText}\n\t\t/>\n\t);\n};\n\nconst ExternalLink = ({\n\tlinkTo,\n\theadlineText,\n\tdataLinkName,\n}: {\n\tlinkTo: string;\n\theadlineText: string;\n\tdataLinkName?: string;\n}) => {\n\treturn (\n\t\t// eslint-disable-next-line jsx-a11y/anchor-has-content -- we have an aria-label attribute describing the content\n\t\t<a\n\t\t\thref={linkTo}\n\t\t\tcss={fauxLinkStyles}\n\t\t\tdata-link-name={dataLinkName}\n\t\t\taria-label={headlineText + ' (opens in new tab)'}\n\t\t\ttarget=\"_blank\"\n\t\t\trel=\"noreferrer\"\n\t\t/>\n\t);\n};\n\nexport const CardLink = ({\n\tlinkTo,\n\theadlineText,\n\tdataLinkName = 'article', //this makes sense if the link is to an article, but should this say something like \"external\" if it's an external link? are there any other uses/alternatives?\n\tisExternalLink,\n}: Props) => {\n\treturn (\n\t\t<>\n\t\t\t{isExternalLink && (\n\t\t\t\t<ExternalLink\n\t\t\t\t\tlinkTo={linkTo}\n\t\t\t\t\theadlineText={headlineText}\n\t\t\t\t\tdataLinkName={dataLinkName}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t{!isExternalLink && (\n\t\t\t\t<InternalLink\n\t\t\t\t\tlinkTo={linkTo}\n\t\t\t\t\theadlineText={headlineText}\n\t\t\t\t\tdataLinkName={dataLinkName}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</>\n\t);\n};\n","import { css } from '@emotion/react';\nimport type { ArticleFormat } from '@guardian/libs';\nimport { ArticleDesign, ArticleSpecial } from '@guardian/libs';\nimport { from, neutral } from '@guardian/source-foundations';\nimport type {\n\tDCRContainerPalette,\n\tDCRContainerType,\n} from '../../../../types/front';\nimport type { Palette } from '../../../../types/palette';\nimport { decidePalette } from '../../../lib/decidePalette';\n\ntype Props = {\n\tchildren: React.ReactNode;\n\tformat: ArticleFormat;\n\tcontainerPalette?: DCRContainerPalette;\n\tcontainerType?: DCRContainerType;\n\t/** The first card in a dynamic package is ”Dynamo” and gets special styling */\n\tisDynamo?: true;\n};\n\nconst cardStyles = (\n\tformat: ArticleFormat,\n\tpalette: Palette,\n\tisDynamo?: true,\n\tcontainerPalette?: DCRContainerPalette,\n) => {\n\tconst baseCardStyles = css`\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tjustify-content: space-between;\n\t\twidth: 100%;\n\t\t/* We absolutely position the faux link\n\t\tso this is required here */\n\t\tposition: relative;\n\n\t\t:hover .image-overlay {\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t\tleft: 0;\n\t\t\tbackground-color: ${neutral[7]};\n\t\t\topacity: 0.1;\n\t\t}\n\n\t\t/* a tag specific styles */\n\t\tcolor: inherit;\n\t\ttext-decoration: none;\n\t\tbackground-color: ${isDynamo ? 'transparent' : palette.background.card};\n\t`;\n\n\tconst decidePaletteBrightness = (thePalette: DCRContainerPalette) => {\n\t\tswitch (thePalette) {\n\t\t\tcase 'EventPalette':\n\t\t\t\treturn `96%`;\n\t\t\tcase 'BreakingPalette':\n\t\t\t\treturn `85%`;\n\t\t\tcase 'EventAltPalette':\n\t\t\t\treturn `95%`;\n\t\t\tcase 'InvestigationPalette':\n\t\t\t\treturn `90%`;\n\t\t\tcase 'LongRunningPalette':\n\t\t\t\treturn `84%`;\n\t\t\tcase 'LongRunningAltPalette':\n\t\t\t\treturn `95%`;\n\t\t\tcase 'SombrePalette':\n\t\t\t\treturn `90%`;\n\t\t\tcase 'SombreAltPalette':\n\t\t\t\treturn `85%`;\n\t\t\tcase 'SpecialReportAltPalette':\n\t\t\t\treturn `95%`;\n\t\t\tdefault:\n\t\t\t\treturn `90%`;\n\t\t}\n\t};\n\tif (containerPalette) {\n\t\treturn css`\n\t\t\t${baseCardStyles};\n\t\t\t:hover {\n\t\t\t\tfilter: brightness(\n\t\t\t\t\t${decidePaletteBrightness(containerPalette)}\n\t\t\t\t);\n\t\t\t}\n\t\t`;\n\t}\n\n\tif (\n\t\tformat.theme === ArticleSpecial.SpecialReport ||\n\t\tformat.theme === ArticleSpecial.SpecialReportAlt\n\t) {\n\t\treturn css`\n\t\t\t${baseCardStyles};\n\t\t\t:hover {\n\t\t\t\tfilter: brightness(90%);\n\t\t\t}\n\t\t`;\n\t}\n\n\tswitch (format.design) {\n\t\tcase ArticleDesign.Editorial:\n\t\tcase ArticleDesign.Letter:\n\t\tcase ArticleDesign.Comment:\n\t\t\treturn css`\n\t\t\t\t${baseCardStyles};\n\t\t\t\t:hover {\n\t\t\t\t\t/* TODO: This colour is hard coded here because it does not yet\n                           exist in source-foundations. Once it's been added, please\n                           remove this. @siadcock is aware. */\n\t\t\t\t\t/* stylelint-disable-next-line color-no-hex */\n\t\t\t\t\tbackground-color: #fdf0e8;\n\t\t\t\t}\n\t\t\t`;\n\t\tcase ArticleDesign.Gallery:\n\t\tcase ArticleDesign.Audio:\n\t\tcase ArticleDesign.Video:\n\t\tcase ArticleDesign.LiveBlog:\n\t\t\treturn css`\n\t\t\t\t${baseCardStyles};\n\t\t\t\t:hover {\n\t\t\t\t\tfilter: brightness(90%);\n\t\t\t\t}\n\t\t\t`;\n\t\tdefault:\n\t\t\treturn css`\n\t\t\t\t${baseCardStyles};\n\t\t\t\t:hover {\n\t\t\t\t\tbackground-color: ${neutral[93]};\n\t\t\t\t}\n\t\t\t`;\n\t}\n};\n\nconst topBarStyles = ({\n\tisDynamo,\n\tpalette,\n\tcontainerType,\n}: {\n\tisDynamo?: true;\n\tpalette: Palette;\n\tcontainerType?: DCRContainerType;\n}) => {\n\t/* Styling for top bar */\n\tconst baseStyles = css`\n\t\tbackground-color: ${isDynamo\n\t\t\t? palette.text.dynamoKicker\n\t\t\t: palette.topBar.card};\n\t\tcontent: '';\n\t\theight: ${containerType === 'dynamic/package' ? '4px' : '1px'};\n\t\tz-index: 2;\n\t\twidth: 100%;\n\t`;\n\n\tif (isDynamo) {\n\t\treturn css`\n\t\t\t:before {\n\t\t\t\t${baseStyles}\n\t\t\t\t${from.phablet} {\n\t\t\t\t\twidth: 25%;\n\t\t\t\t}\n\t\t\t}\n\t\t`;\n\t}\n\treturn css`\n\t\t:before {\n\t\t\t${baseStyles}\n\t\t}\n\t`;\n};\n\nexport const CardWrapper = ({\n\tchildren,\n\tformat,\n\tcontainerPalette,\n\tcontainerType,\n\tisDynamo,\n}: Props) => {\n\tconst palette = decidePalette(format, containerPalette);\n\treturn (\n\t\t<div\n\t\t\tcss={[\n\t\t\t\tcardStyles(format, palette, isDynamo, containerPalette),\n\t\t\t\ttopBarStyles({ isDynamo, palette, containerType }),\n\t\t\t]}\n\t\t>\n\t\t\t{children}\n\t\t</div>\n\t);\n};\n","import type { SerializedStyles } from '@emotion/react';\nimport { css } from '@emotion/react';\nimport { between, from } from '@guardian/source-foundations';\n\nconst sizingStyles = css`\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: space-between;\n`;\n\n/**\n * This function works in partnership with its sibling in `ImageWrapper`. If you\n * change any values here be sure to update that file as well.\n *\n */\nconst flexBasisStyles = ({\n\timageSize,\n\timageType,\n}: {\n\timageSize: ImageSizeType;\n\timageType?: CardImageType;\n}): SerializedStyles => {\n\tif (imageType === 'avatar') {\n\t\treturn css`\n\t\t\tflex-basis: 100%;\n\t\t`;\n\t}\n\tswitch (imageSize) {\n\t\tdefault:\n\t\tcase 'small':\n\t\t\treturn css`\n\t\t\t\tflex-basis: 75%;\n\t\t\t\t${between.tablet.and.desktop} {\n\t\t\t\t\tflex-basis: 60%;\n\t\t\t\t}\n\t\t\t\t${from.desktop} {\n\t\t\t\t\tflex-basis: 70%;\n\t\t\t\t}\n\t\t\t`;\n\t\tcase 'medium':\n\t\t\treturn css`\n\t\t\t\t${from.tablet} {\n\t\t\t\t\tflex-basis: 50%;\n\t\t\t\t}\n\t\t\t`;\n\t\tcase 'large':\n\t\t\treturn css`\n\t\t\t\t${from.tablet} {\n\t\t\t\t\tflex-basis: 34%;\n\t\t\t\t}\n\t\t\t`;\n\t\tcase 'jumbo':\n\t\t\treturn css`\n\t\t\t\t${from.tablet} {\n\t\t\t\t\tflex-basis: 25%;\n\t\t\t\t}\n\t\t\t`;\n\t}\n};\n\ntype Props = {\n\tchildren: React.ReactNode;\n\timageType?: CardImageType;\n\timageSize: ImageSizeType;\n\timagePosition: ImagePositionType;\n};\n\nexport const ContentWrapper = ({\n\tchildren,\n\timageType,\n\timageSize,\n\timagePosition,\n}: Props) => {\n\tconst isHorizontal = imagePosition === 'left' || imagePosition === 'right';\n\tconst isVertical = imagePosition === 'top' || imagePosition === 'bottom';\n\treturn (\n\t\t<div\n\t\t\tcss={[\n\t\t\t\tsizingStyles,\n\t\t\t\tisHorizontal && flexBasisStyles({ imageSize, imageType }),\n\t\t\t\t/* If the image is top or bottom positioned then it takes 100% of the width and\n\t\t\t\t   we want the content to grow into the remaining vertical space */\n\t\t\t\tisVertical &&\n\t\t\t\t\tcss`\n\t\t\t\t\t\tflex-grow: 1;\n\t\t\t\t\t`,\n\t\t\t]}\n\t\t>\n\t\t\t{children}\n\t\t</div>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { from } from '@guardian/source-foundations';\n\ntype Props = {\n\tchildren: React.ReactNode;\n\timagePosition?: ImagePositionType;\n\timagePositionOnMobile?: ImagePositionType;\n\timageUrl?: string;\n\thasStarRating?: boolean;\n};\n\nexport const HeadlineWrapper = ({\n\tchildren,\n\timagePosition,\n\timagePositionOnMobile,\n\timageUrl,\n\thasStarRating,\n}: Props) => (\n\t<div\n\t\tcss={css`\n\t\t\tpadding-bottom: 8px;\n\t\t\tpadding-left: 5px;\n\t\t\tpadding-right: 5px;\n\t\t\tpadding-top: ${imageUrl &&\n\t\t\timagePositionOnMobile &&\n\t\t\t(imagePositionOnMobile === 'left' ||\n\t\t\t\timagePositionOnMobile === 'right') &&\n\t\t\thasStarRating\n\t\t\t\t? '0px'\n\t\t\t\t: '1px'};\n\t\t\tflex-grow: 1;\n\n\t\t\t${from.phablet} {\n\t\t\t\tpadding-top: 1px;\n\t\t\t}\n\n\t\t\t${from.tablet} {\n\t\t\t\tpadding-top: ${imageUrl &&\n\t\t\t\timagePosition &&\n\t\t\t\t(imagePosition === 'left' || imagePosition === 'right') &&\n\t\t\t\thasStarRating\n\t\t\t\t\t? '0px'\n\t\t\t\t\t: '1px'};\n\t\t\t}\n\t\t`}\n\t>\n\t\t{children}\n\t</div>\n);\n","import { css } from '@emotion/react';\nimport { brandAlt, from } from '@guardian/source-foundations';\nimport { SvgMediaControlsPlay } from '@guardian/source-react-components';\n\ntype PlayButtonSize = 'small' | 'medium' | 'large' | 'xlarge';\n\nconst buttonSize = (size: PlayButtonSize) => {\n\tswitch (size) {\n\t\tcase 'small':\n\t\t\treturn 28;\n\t\tcase 'medium':\n\t\t\treturn 44;\n\t\tcase 'large':\n\t\t\treturn 48;\n\t\tcase 'xlarge':\n\t\t\treturn 60;\n\t}\n};\n\nconst iconSize = (size: PlayButtonSize) => {\n\tswitch (size) {\n\t\tcase 'small':\n\t\t\treturn 26;\n\t\tcase 'medium':\n\t\t\treturn 36;\n\t\tcase 'large':\n\t\t\treturn 40;\n\t\tcase 'xlarge':\n\t\t\treturn 54;\n\t}\n};\n\nconst iconWrapperStyles = css`\n\tdisplay: flex; /* Fixes the div mis-sizing itself */\n\tposition: absolute;\n\tbottom: 4px;\n\tleft: 4px;\n`;\n\nconst iconStyles = (size: PlayButtonSize, sizeOnMobile: PlayButtonSize) => css`\n\tbackground-color: ${brandAlt[400]};\n\tborder-radius: 50%;\n\twidth: ${buttonSize(sizeOnMobile)}px;\n\theight: ${buttonSize(sizeOnMobile)}px;\n\t${from.tablet} {\n\t\twidth: ${buttonSize(size)}px;\n\t\theight: ${buttonSize(size)}px;\n\t}\n\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\n\tsvg {\n\t\t/* Visual centering */\n\t\ttransform: translateX(1px);\n\t\twidth: ${iconSize(sizeOnMobile)}px;\n\t\theight: ${iconSize(sizeOnMobile)}px;\n\t\t${from.tablet} {\n\t\t\twidth: ${iconSize(size)}px;\n\t\t\theight: ${iconSize(size)}px;\n\t\t}\n\t}\n`;\n\nconst getIconSizeOnDesktop = (imageSize: ImageSizeType): PlayButtonSize => {\n\tif (imageSize === 'jumbo') return 'xlarge';\n\telse if (imageSize === 'large') return 'large';\n\telse if (imageSize === 'medium') return 'medium';\n\telse if (imageSize === 'small') return 'small';\n\telse return 'large';\n};\n\nconst getIconSizeOnMobile = (\n\timagePositionOnMobile: ImagePositionType,\n): PlayButtonSize =>\n\timagePositionOnMobile === 'left' || imagePositionOnMobile === 'right'\n\t\t? 'small'\n\t\t: 'large';\n\nexport const PlayIcon = ({\n\timageSize,\n\timagePositionOnMobile,\n}: {\n\timageSize: ImageSizeType;\n\timagePositionOnMobile: ImagePositionType;\n}) => {\n\treturn (\n\t\t<div css={iconWrapperStyles}>\n\t\t\t<span\n\t\t\t\tcss={[\n\t\t\t\t\ticonStyles(\n\t\t\t\t\t\tgetIconSizeOnDesktop(imageSize),\n\t\t\t\t\t\tgetIconSizeOnMobile(imagePositionOnMobile),\n\t\t\t\t\t),\n\t\t\t\t]}\n\t\t\t>\n\t\t\t\t<SvgMediaControlsPlay />\n\t\t\t</span>\n\t\t</div>\n\t);\n};\n","import type { SerializedStyles } from '@emotion/react';\nimport { css } from '@emotion/react';\nimport { between, from, until } from '@guardian/source-foundations';\nimport { PlayIcon } from './PlayIcon';\n\ntype Props = {\n\tchildren: React.ReactNode;\n\timageSize: ImageSizeType;\n\timageType?: CardImageType;\n\timagePosition: ImagePositionType;\n\timagePositionOnMobile: ImagePositionType;\n\tshowPlayIcon: boolean;\n};\n\n/**\n * This function works in partnership with its sibling in `ContentWrapper`. If you\n * change any values here be sure to update that file as well.\n *\n */\nconst flexBasisStyles = ({\n\timageSize,\n}: {\n\timageSize: ImageSizeType;\n}): SerializedStyles => {\n\tswitch (imageSize) {\n\t\tdefault:\n\t\tcase 'small':\n\t\t\treturn css`\n\t\t\t\tflex-basis: 25%;\n\t\t\t\t${between.tablet.and.desktop} {\n\t\t\t\t\tflex-basis: 40%;\n\t\t\t\t}\n\t\t\t\t${from.desktop} {\n\t\t\t\t\tflex-basis: 30%;\n\t\t\t\t}\n\t\t\t`;\n\t\tcase 'medium':\n\t\t\treturn css`\n\t\t\t\tflex-basis: 50%;\n\t\t\t`;\n\t\tcase 'large':\n\t\t\treturn css`\n\t\t\t\tflex-basis: 66%;\n\t\t\t`;\n\t\tcase 'jumbo':\n\t\t\treturn css`\n\t\t\t\tflex-basis: 75%;\n\t\t\t`;\n\t}\n};\n\nexport const ImageWrapper = ({\n\tchildren,\n\timageSize,\n\timageType,\n\timagePosition,\n\timagePositionOnMobile,\n\tshowPlayIcon,\n}: Props) => {\n\tconst isHorizontal = imagePosition === 'left' || imagePosition === 'right';\n\tconst isHorizontalOnMobile =\n\t\timagePositionOnMobile === 'left' || imagePositionOnMobile === 'right';\n\treturn (\n\t\t<div\n\t\t\tcss={[\n\t\t\t\timageType === 'mainMedia' &&\n\t\t\t\t\tisHorizontal &&\n\t\t\t\t\tflexBasisStyles({\n\t\t\t\t\t\timageSize,\n\t\t\t\t\t}),\n\t\t\t\timageType === 'avatar' &&\n\t\t\t\t\tcss`\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\tjustify-content: flex-end;\n\t\t\t\t\t`,\n\t\t\t\t/* If no image position for mobile is provided then hide the image */\n\t\t\t\timagePositionOnMobile === 'none' &&\n\t\t\t\t\tcss`\n\t\t\t\t\t\t${until.tablet} {\n\t\t\t\t\t\t\tdisplay: none;\n\t\t\t\t\t\t}\n\t\t\t\t\t`,\n\t\t\t\t/* Below tablet, we fix the size of the image and add a margin\n\t\t\t\t   around it. The corresponding content flex grows to fill the space */\n\t\t\t\tisHorizontalOnMobile &&\n\t\t\t\t\tcss`\n\t\t\t\t\t\t${until.tablet} {\n\t\t\t\t\t\t\twidth: 125px;\n\t\t\t\t\t\t\tflex-shrink: 0;\n\t\t\t\t\t\t\tmargin-top: 4px;\n\t\t\t\t\t\t\tmargin-right: 0;\n\t\t\t\t\t\t\tmargin-bottom: 4px;\n\t\t\t\t\t\t\tmargin-left: 4px;\n\t\t\t\t\t\t\tflex-basis: unset;\n\t\t\t\t\t\t\talign-self: flex-start;\n\t\t\t\t\t\t}\n\t\t\t\t\t`,\n\t\t\t\tisHorizontal &&\n\t\t\t\t\tcss`\n\t\t\t\t\t\t${from.tablet} {\n\t\t\t\t\t\t\talign-self: flex-start;\n\t\t\t\t\t\t}\n\t\t\t\t\t`,\n\t\t\t\tcss`\n\t\t\t\t\t/* position relative is required here to bound the image overlay */\n\t\t\t\t\tposition: relative;\n\t\t\t\t\timg {\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\tdisplay: block;\n\t\t\t\t\t}\n\t\t\t\t`,\n\t\t\t]}\n\t\t>\n\t\t\t<>\n\t\t\t\t{children}\n\t\t\t\t{/* This image overlay is styled when the CardLink is hovered */}\n\t\t\t\t{imageType === 'mainMedia' && <div className=\"image-overlay\" />}\n\t\t\t\t{imageType === 'mainMedia' && showPlayIcon && (\n\t\t\t\t\t<PlayIcon\n\t\t\t\t\t\timageSize={imageSize}\n\t\t\t\t\t\timagePositionOnMobile={imagePositionOnMobile}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</>\n\t\t</div>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { body, until } from '@guardian/source-foundations';\nimport type { DCRContainerPalette } from '../../../../types/front';\nimport { decidePalette } from '../../../lib/decidePalette';\n\ntype Props = {\n\tchildren: string | React.ReactNode;\n\tformat: ArticleFormat;\n\tcontainerPalette?: DCRContainerPalette;\n\timagePosition?: ImagePositionType;\n\timageSize?: ImageSizeType;\n\timageType?: CardImageType | undefined;\n};\n\nconst showTrailText = (\n\timagePosition?: ImagePositionType,\n\timageSize?: ImageSizeType,\n\timageType?: CardImageType | undefined,\n) => {\n\tif (\n\t\timageSize === 'large' &&\n\t\timagePosition === 'right' &&\n\t\timageType !== 'avatar'\n\t)\n\t\treturn css`\n\t\t\t${until.desktop} {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t`;\n\treturn css`\n\t\t${until.tablet} {\n\t\t\tdisplay: none;\n\t\t}\n\t`;\n};\n\nexport const TrailTextWrapper = ({\n\tchildren,\n\tformat,\n\tcontainerPalette,\n\timagePosition,\n\timageSize,\n\timageType,\n}: Props) => {\n\tconst palette = decidePalette(format, containerPalette);\n\treturn (\n\t\t<div\n\t\t\tcss={[\n\t\t\t\tcss`\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-direction: column;\n\t\t\t\t\tcolor: ${palette.text.cardStandfirst};\n\n\t\t\t\t\t${body.small({ lineHeight: 'regular' })};\n\t\t\t\t\tfont-size: 14px;\n\n\t\t\t\t\tpadding-left: 5px;\n\t\t\t\t\tpadding-right: 5px;\n\t\t\t\t\tpadding-bottom: 8px;\n\t\t\t\t`,\n\t\t\t\tshowTrailText(imagePosition, imageSize, imageType),\n\t\t\t]}\n\t\t>\n\t\t\t{children}\n\t\t</div>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { ArticleDesign } from '@guardian/libs';\nimport { brandAltBackground, from, space } from '@guardian/source-foundations';\nimport { Link } from '@guardian/source-react-components';\nimport { StraightLines } from '@guardian/source-react-components-development-kitchen';\nimport type { Branding } from '../../../types/branding';\nimport type {\n\tDCRContainerPalette,\n\tDCRContainerType,\n\tDCRSnapType,\n\tDCRSupportingContent,\n} from '../../../types/front';\nimport type { Palette } from '../../../types/palette';\nimport { decidePalette } from '../../lib/decidePalette';\nimport { getZIndex } from '../../lib/getZIndex';\nimport { Avatar } from '../Avatar';\nimport { CardHeadline } from '../CardHeadline';\nimport { CardPicture } from '../CardPicture';\nimport { Hide } from '../Hide';\nimport { MediaMeta } from '../MediaMeta';\nimport { Snap } from '../Snap';\nimport { StarRating } from '../StarRating/StarRating';\nimport type { Alignment } from '../SupportingContent';\nimport { SupportingContent } from '../SupportingContent';\nimport { AvatarContainer } from './components/AvatarContainer';\nimport { CardAge } from './components/CardAge';\nimport { CardBranding } from './components/CardBranding';\nimport { CardFooter } from './components/CardFooter';\nimport { CardLayout } from './components/CardLayout';\nimport { CardLink } from './components/CardLink';\nimport { CardWrapper } from './components/CardWrapper';\nimport { ContentWrapper } from './components/ContentWrapper';\nimport { HeadlineWrapper } from './components/HeadlineWrapper';\nimport { ImageWrapper } from './components/ImageWrapper';\nimport { TrailTextWrapper } from './components/TrailTextWrapper';\n\nexport type Props = {\n\tlinkTo: string;\n\tformat: ArticleFormat;\n\theadlineText: string;\n\theadlineSize?: SmallHeadlineSize;\n\theadlineSizeOnMobile?: SmallHeadlineSize;\n\tshowQuotedHeadline?: boolean;\n\tbyline?: string;\n\tshowByline?: boolean;\n\twebPublicationDate?: string;\n\timageUrl?: string;\n\timagePosition?: ImagePositionType;\n\timagePositionOnMobile?: ImagePositionType;\n\t/** Size is ignored when position = 'top' because in that case the image flows based on width */\n\timageSize?: ImageSizeType;\n\tisCrossword?: boolean;\n\ttrailText?: string;\n\tavatarUrl?: string;\n\tshowClock?: boolean;\n\tmediaType?: MediaType;\n\tmediaDuration?: number;\n\tshowMainVideo?: boolean;\n\tkickerText?: string;\n\tshowPulsingDot?: boolean;\n\tstarRating?: number;\n\tminWidthInPixels?: number;\n\t/** Used for Ophan tracking */\n\tdataLinkName?: string;\n\t/** Only used on Labs cards */\n\tbranding?: Branding;\n\tsupportingContent?: DCRSupportingContent[];\n\tsupportingContentAlignment?: Alignment;\n\tsnapData?: DCRSnapType;\n\tcontainerPalette?: DCRContainerPalette;\n\tcontainerType?: DCRContainerType;\n\tshowAge?: boolean;\n\tdiscussionId?: string;\n\t/** The first card in a dynamic package is ”Dynamo” and gets special styling */\n\tisDynamo?: true;\n\tisExternalLink: boolean;\n};\n\nconst StarRatingComponent = ({\n\trating,\n\tcardHasImage,\n}: {\n\trating: number;\n\tcardHasImage: boolean;\n}) => (\n\t<div\n\t\tcss={css`\n\t\t\tbackground-color: ${brandAltBackground.primary};\n\t\t\tmargin-top: ${cardHasImage ? '2' : space[1]}px;\n\t\t\tdisplay: inline-block;\n\n\t\t\t${from.tablet} {\n\t\t\t\tmargin-top: ${space[1]}px;\n\t\t\t}\n\t\t`}\n\t>\n\t\t<Hide when=\"above\" breakpoint=\"desktop\">\n\t\t\t<StarRating rating={rating} size=\"small\" breakpoint=\"mobile\" />\n\t\t</Hide>\n\t\t<Hide when=\"below\" breakpoint=\"desktop\">\n\t\t\t<StarRating\n\t\t\t\trating={rating}\n\t\t\t\tsize={cardHasImage ? 'medium' : 'small'}\n\t\t\t\tbreakpoint=\"wide\"\n\t\t\t/>\n\t\t</Hide>\n\t</div>\n);\n\n/**\n * This functions contains the business logic that decides when the card age should be\n * shown. It uses the format of the article the card links to as well as information\n * about the container where the card sits.\n *\n */\nconst decideIfAgeShouldShow = ({\n\tcontainerPalette,\n\tformat,\n\tshowAge,\n}: {\n\tcontainerPalette?: DCRContainerPalette;\n\tformat: ArticleFormat;\n\tshowAge: boolean;\n}): boolean => {\n\t// Some containers force all cards to show age. E.g., The articles in the headlines\n\t// container are typically very recent so we want to display age there\n\tif (showAge) return true;\n\t// Palettes are time sensitive so show age if one is being used\n\tif (containerPalette) return true;\n\t// Liveblogs are evidently time sensitive\n\tif (format.design === ArticleDesign.LiveBlog) return true;\n\t// Otherwise, do not show the article age on the Card\n\treturn false;\n};\n\ntype RenderFooter = ({\n\tdisplayAge,\n\tdisplayLines,\n}: {\n\tdisplayAge: boolean;\n\tdisplayLines: boolean;\n}) => JSX.Element;\n\nconst DecideFooter = ({\n\tisOpinion,\n\thasSublinks,\n\tdisplayAge,\n\trenderFooter,\n}: {\n\tisOpinion: boolean;\n\thasSublinks?: boolean;\n\tdisplayAge: boolean;\n\trenderFooter: RenderFooter;\n}) => {\n\tif (isOpinion && !hasSublinks) {\n\t\t// Opinion cards without sublinks render the entire footer, including lines,\n\t\t// outside, sitting along the very bottom of the card\n\t\treturn null;\n\t}\n\t// For all other cases (including opinion cards that *do* have sublinks) we\n\t// render a version of the footer without lines here\n\treturn renderFooter({\n\t\tdisplayAge,\n\t\tdisplayLines: false,\n\t});\n\t// Note. Opinion cards always show the lines at the bottom of the card (in CommentFooter)\n};\n\nconst CommentFooter = ({\n\thasSublinks,\n\tpalette,\n\tdisplayAge,\n\trenderFooter,\n}: {\n\thasSublinks?: boolean;\n\tpalette: Palette;\n\tdisplayAge: boolean;\n\trenderFooter: RenderFooter;\n}) => {\n\treturn hasSublinks ? (\n\t\t// For opinion cards with sublinks there is already a footer rendered inside that\n\t\t// shows the metadata. We only want to render the lines here\n\t\t<StraightLines color={palette.border.lines} count={4} />\n\t) : (\n\t\t// When an opinion card has no sublinks we show the entire footer, including lines\n\t\t// outside, along the entire bottom of the card\n\t\trenderFooter({\n\t\t\tdisplayAge,\n\t\t\tdisplayLines: true,\n\t\t})\n\t);\n};\n\nconst getImage = ({\n\timageUrl,\n\tavatarUrl,\n\tisCrossword,\n}: {\n\timageUrl?: string;\n\tavatarUrl?: string;\n\tisCrossword?: boolean;\n}): { type: CardImageType; src: string } | undefined => {\n\tif (avatarUrl) return { type: 'avatar', src: avatarUrl };\n\tif (imageUrl) {\n\t\tconst type = isCrossword ? 'crossword' : 'mainMedia';\n\t\treturn { type, src: imageUrl };\n\t}\n\treturn undefined;\n};\n\nconst decideSublinkPosition = (\n\tsupportingContent?: DCRSupportingContent[],\n\timagePosition?: ImagePositionType,\n\talignment?: Alignment,\n): 'inner' | 'outer' | 'none' => {\n\tif (!supportingContent || supportingContent.length === 0) {\n\t\treturn 'none';\n\t}\n\tif (imagePosition === 'top' || imagePosition === 'bottom') {\n\t\treturn 'outer';\n\t}\n\treturn alignment === 'vertical' ? 'inner' : 'outer';\n};\n\nexport const Card = ({\n\tlinkTo,\n\tformat,\n\theadlineText,\n\theadlineSize,\n\theadlineSizeOnMobile,\n\tshowQuotedHeadline,\n\tbyline,\n\tshowByline,\n\twebPublicationDate,\n\timageUrl,\n\timagePosition = 'top',\n\timagePositionOnMobile = 'left',\n\timageSize = 'small',\n\ttrailText,\n\tavatarUrl,\n\tshowClock,\n\tmediaType,\n\tmediaDuration,\n\tshowMainVideo,\n\tkickerText,\n\tshowPulsingDot,\n\tstarRating,\n\tminWidthInPixels,\n\tdataLinkName,\n\tbranding,\n\tsupportingContent,\n\tsupportingContentAlignment = 'vertical',\n\tsnapData,\n\tcontainerPalette,\n\tcontainerType,\n\tshowAge = false,\n\tdiscussionId,\n\tisDynamo,\n\tisCrossword,\n\tisExternalLink,\n}: Props) => {\n\tconst palette = decidePalette(format, containerPalette);\n\n\tconst hasSublinks = supportingContent && supportingContent.length > 0;\n\tconst sublinkPosition = decideSublinkPosition(\n\t\tsupportingContent,\n\t\timagePosition,\n\t\tsupportingContentAlignment,\n\t);\n\n\tconst showQuotes = !!showQuotedHeadline;\n\n\tconst isOpinion =\n\t\tformat.design === ArticleDesign.Comment ||\n\t\tformat.design === ArticleDesign.Editorial ||\n\t\tformat.design === ArticleDesign.Letter;\n\n\tconst renderFooter = ({\n\t\tdisplayAge,\n\t\tdisplayLines,\n\t}: {\n\t\tdisplayAge?: boolean;\n\t\tdisplayLines?: boolean;\n\t}) => {\n\t\treturn (\n\t\t\t<CardFooter\n\t\t\t\tformat={format}\n\t\t\t\tcontainerPalette={containerPalette}\n\t\t\t\tdisplayLines={displayLines}\n\t\t\t\tage={\n\t\t\t\t\tdisplayAge && webPublicationDate ? (\n\t\t\t\t\t\t<CardAge\n\t\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\t\tcontainerPalette={containerPalette}\n\t\t\t\t\t\t\twebPublicationDate={webPublicationDate}\n\t\t\t\t\t\t\tshowClock={showClock}\n\t\t\t\t\t\t\tisDynamo={isDynamo}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : undefined\n\t\t\t\t}\n\t\t\t\tcommentCount={\n\t\t\t\t\tdiscussionId ? (\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t// This a tag is initially rendered empty. It gets populated later\n\t\t\t\t\t\t\t// after a fetch call is made to get all the counts for each Card\n\t\t\t\t\t\t\t// on the page with a discussion (see FetchCommentCounts.tsx)\n\t\t\t\t\t\t\tdata-discussion-id={discussionId}\n\t\t\t\t\t\t\tdata-format={JSON.stringify(format)}\n\t\t\t\t\t\t\tdata-is-dynamo={isDynamo ? 'true' : undefined}\n\t\t\t\t\t\t\tdata-container-palette={containerPalette}\n\t\t\t\t\t\t\tdata-ignore=\"global-link-styling\"\n\t\t\t\t\t\t\tdata-link-name=\"Comment count\"\n\t\t\t\t\t\t\thref={`${linkTo}#comments`}\n\t\t\t\t\t\t\tcssOverrides={css`\n\t\t\t\t\t\t\t\t/* See: https://css-tricks.com/nested-links/ */\n\t\t\t\t\t\t\t\t${getZIndex('card-nested-link')}\n\t\t\t\t\t\t\t\t/* The following styles turn off those provided by Link */\n\t\t\t\t\t\t\t\tcolor: inherit;\n\t\t\t\t\t\t\t\t/* stylelint-disable-next-line property-disallowed-list */\n\t\t\t\t\t\t\t\tfont-family: inherit;\n\t\t\t\t\t\t\t\tfont-size: inherit;\n\t\t\t\t\t\t\t\tline-height: inherit;\n\t\t\t\t\t\t\t\ttext-decoration: none;\n\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : undefined\n\t\t\t\t}\n\t\t\t\tcardBranding={\n\t\t\t\t\tbranding ? (\n\t\t\t\t\t\t<CardBranding branding={branding} format={format} />\n\t\t\t\t\t) : undefined\n\t\t\t\t}\n\t\t\t/>\n\t\t);\n\t};\n\n\tconst displayAge = decideIfAgeShouldShow({\n\t\tcontainerPalette,\n\t\tformat,\n\t\tshowAge,\n\t});\n\n\tif (snapData?.embedHtml) {\n\t\treturn <Snap snapData={snapData} />;\n\t}\n\n\tconst image = getImage({\n\t\timageUrl,\n\t\tavatarUrl,\n\t\tisCrossword,\n\t});\n\n\treturn (\n\t\t<CardWrapper\n\t\t\tformat={format}\n\t\t\tcontainerPalette={containerPalette}\n\t\t\tcontainerType={containerType}\n\t\t\tisDynamo={isDynamo}\n\t\t>\n\t\t\t<CardLink\n\t\t\t\tlinkTo={linkTo}\n\t\t\t\theadlineText={headlineText}\n\t\t\t\tdataLinkName={dataLinkName}\n\t\t\t\tisExternalLink={isExternalLink}\n\t\t\t/>\n\t\t\t<CardLayout\n\t\t\t\timagePosition={imagePosition}\n\t\t\t\timagePositionOnMobile={imagePositionOnMobile}\n\t\t\t\tminWidthInPixels={minWidthInPixels}\n\t\t\t\timageType={image?.type}\n\t\t\t>\n\t\t\t\t{image && (\n\t\t\t\t\t<ImageWrapper\n\t\t\t\t\t\timageSize={imageSize}\n\t\t\t\t\t\timageType={image.type}\n\t\t\t\t\t\timagePosition={imagePosition}\n\t\t\t\t\t\timagePositionOnMobile={imagePositionOnMobile}\n\t\t\t\t\t\tshowPlayIcon={showMainVideo ?? false}\n\t\t\t\t\t>\n\t\t\t\t\t\t{image.type === 'avatar' && (\n\t\t\t\t\t\t\t<AvatarContainer\n\t\t\t\t\t\t\t\timageSize={imageSize}\n\t\t\t\t\t\t\t\timagePosition={imagePosition}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Avatar\n\t\t\t\t\t\t\t\t\tsrc={image.src}\n\t\t\t\t\t\t\t\t\talt={byline ?? ''}\n\t\t\t\t\t\t\t\t\tcontainerPalette={containerPalette}\n\t\t\t\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</AvatarContainer>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{image.type === 'mainMedia' && (\n\t\t\t\t\t\t\t<CardPicture\n\t\t\t\t\t\t\t\tmaster={image.src}\n\t\t\t\t\t\t\t\timageSize={imageSize}\n\t\t\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{image.type === 'crossword' && (\n\t\t\t\t\t\t\t<img src={image.src} alt=\"\" />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</ImageWrapper>\n\t\t\t\t)}\n\t\t\t\t<ContentWrapper\n\t\t\t\t\timageType={image?.type}\n\t\t\t\t\timageSize={imageSize}\n\t\t\t\t\timagePosition={imagePosition}\n\t\t\t\t>\n\t\t\t\t\t<HeadlineWrapper\n\t\t\t\t\t\timagePositionOnMobile={imagePositionOnMobile}\n\t\t\t\t\t\timagePosition={imagePosition}\n\t\t\t\t\t\timageUrl={imageUrl}\n\t\t\t\t\t\thasStarRating={starRating !== undefined}\n\t\t\t\t\t>\n\t\t\t\t\t\t<CardHeadline\n\t\t\t\t\t\t\theadlineText={headlineText}\n\t\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\t\tcontainerPalette={containerPalette}\n\t\t\t\t\t\t\tsize={headlineSize}\n\t\t\t\t\t\t\tsizeOnMobile={headlineSizeOnMobile}\n\t\t\t\t\t\t\tshowQuotes={showQuotes}\n\t\t\t\t\t\t\tkickerText={\n\t\t\t\t\t\t\t\tformat.design === ArticleDesign.LiveBlog\n\t\t\t\t\t\t\t\t\t? 'Live'\n\t\t\t\t\t\t\t\t\t: kickerText\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tshowPulsingDot={\n\t\t\t\t\t\t\t\tformat.design === ArticleDesign.LiveBlog ||\n\t\t\t\t\t\t\t\tshowPulsingDot\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbyline={byline}\n\t\t\t\t\t\t\tshowByline={showByline}\n\t\t\t\t\t\t\tisDynamo={isDynamo}\n\t\t\t\t\t\t\tisExternalLink={isExternalLink}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{starRating !== undefined ? (\n\t\t\t\t\t\t\t<StarRatingComponent\n\t\t\t\t\t\t\t\trating={starRating}\n\t\t\t\t\t\t\t\tcardHasImage={imageUrl !== undefined}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t{(format.design === ArticleDesign.Gallery ||\n\t\t\t\t\t\t\tformat.design === ArticleDesign.Audio ||\n\t\t\t\t\t\t\tformat.design === ArticleDesign.Video) &&\n\t\t\t\t\t\tmediaType ? (\n\t\t\t\t\t\t\t<MediaMeta\n\t\t\t\t\t\t\t\tcontainerPalette={containerPalette}\n\t\t\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\t\t\tmediaType={mediaType}\n\t\t\t\t\t\t\t\tmediaDuration={mediaDuration}\n\t\t\t\t\t\t\t\thasKicker={!!kickerText}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : undefined}\n\t\t\t\t\t</HeadlineWrapper>\n\t\t\t\t\t{/* This div is needed to push this content to the bottom of the card */}\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{!!trailText && (\n\t\t\t\t\t\t\t<TrailTextWrapper\n\t\t\t\t\t\t\t\tcontainerPalette={containerPalette}\n\t\t\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\t\t\timagePosition={imagePosition}\n\t\t\t\t\t\t\t\timageSize={imageSize}\n\t\t\t\t\t\t\t\timageType={image?.type}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t__html: trailText,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</TrailTextWrapper>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<DecideFooter\n\t\t\t\t\t\t\tisOpinion={isOpinion}\n\t\t\t\t\t\t\thasSublinks={hasSublinks}\n\t\t\t\t\t\t\tdisplayAge={displayAge}\n\t\t\t\t\t\t\trenderFooter={renderFooter}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{hasSublinks && sublinkPosition === 'inner' ? (\n\t\t\t\t\t\t\t<SupportingContent\n\t\t\t\t\t\t\t\tsupportingContent={supportingContent}\n\t\t\t\t\t\t\t\talignment=\"vertical\"\n\t\t\t\t\t\t\t\tcontainerPalette={containerPalette}\n\t\t\t\t\t\t\t\tisDynamo={isDynamo}\n\t\t\t\t\t\t\t\tparentFormat={format}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<></>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</ContentWrapper>\n\t\t\t</CardLayout>\n\n\t\t\t{hasSublinks && sublinkPosition === 'outer' ? (\n\t\t\t\t<SupportingContent\n\t\t\t\t\tsupportingContent={supportingContent}\n\t\t\t\t\tparentFormat={format}\n\t\t\t\t\tcontainerPalette={containerPalette}\n\t\t\t\t\tisDynamo={isDynamo}\n\t\t\t\t\talignment={supportingContentAlignment}\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<></>\n\t\t\t)}\n\t\t\t{isOpinion && !isDynamo && (\n\t\t\t\t<CommentFooter\n\t\t\t\t\thasSublinks={hasSublinks}\n\t\t\t\t\tdisplayAge={displayAge}\n\t\t\t\t\tpalette={palette}\n\t\t\t\t\trenderFooter={renderFooter}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</CardWrapper>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { from, space, until } from '@guardian/source-foundations';\nimport type { DCRContainerPalette } from '../../../../types/front';\nimport { verticalDivider } from '../../../lib/verticalDivider';\nimport { verticalDividerWithBottomOffset } from '../../../lib/verticalDividerWithBottomOffset';\n\n/**\n * This value needs to match the one set\n * in the `verticalDividerWithBottomOffset`\n */\nconst GAP_SIZE = `${space[3]}px`;\n\nconst liStyles = css`\n\t/* This position relative is needed to contain the vertical divider */\n\tposition: relative;\n\n\tdisplay: flex;\n\trow-gap: ${GAP_SIZE};\n`;\n\nconst sidePaddingStyles = (padSidesOnMobile: boolean) => css`\n\t/* Set spacing on the li element */\n\t${padSidesOnMobile && until.tablet} {\n\t\tpadding-left: 10px;\n\t\tpadding-right: 10px;\n\t}\n\n\t${from.tablet} {\n\t\tpadding-left: 10px;\n\t\tpadding-right: 10px;\n\t}\n`;\n\nconst snapAlignStartStyles = css`\n\t/* Snap start of card */\n\tscroll-snap-align: start;\n`;\n\nconst decideSize = (percentage?: CardPercentageType, stretch?: boolean) => {\n\tlet sizeStyle;\n\tif (percentage) {\n\t\tsizeStyle = css`\n\t\t\tflex-basis: ${percentage};\n\t\t\t${stretch &&\n\t\t\tcss`\n\t\t\t\tflex-grow: 1;\n\t\t\t`}\n\t\t`;\n\t} else if (stretch) {\n\t\tsizeStyle = css`\n\t\t\tflex-grow: 1;\n\t\t`;\n\t} else {\n\t\tsizeStyle = css`\n\t\t\tflex: 1;\n\t\t`;\n\t}\n\treturn sizeStyle;\n};\n\nconst decideDivider = (\n\toffsetBottomPaddingOnDivider: boolean,\n\tpaddingSize: string,\n\tcontainerPalette?: DCRContainerPalette,\n) =>\n\toffsetBottomPaddingOnDivider\n\t\t? verticalDividerWithBottomOffset(paddingSize, containerPalette)\n\t\t: verticalDivider(containerPalette);\n\ntype Props = {\n\tchildren: React.ReactNode;\n\t/** Used to give a particular LI more or less weight / space */\n\tpercentage?: CardPercentageType;\n\t/** When true, the card stretches based on content */\n\tstretch?: boolean;\n\t/** If this LI wraps a card in a row this should be true */\n\tshowDivider?: boolean;\n\t/** If this LI directly wraps a card this should be true */\n\tpadSides?: boolean;\n\t/** Should be true if spacing between cards is desired on mobile devices */\n\tpadSidesOnMobile?: boolean;\n\t/** True when snapping card when scrolling e.g. in carousel */\n\tsnapAlignStart?: boolean;\n\t/** Prevent the divider from spanning the LI's bottom padding. To be used when you know that the\n\tLI will have bottom padding, but won't have another card in the same container directly below it. */\n\toffsetBottomPaddingOnDivider?: boolean;\n\n\tcontainerPalette?: DCRContainerPalette;\n};\n\nexport const LI = ({\n\tchildren,\n\tpercentage,\n\tstretch,\n\tshowDivider,\n\tpadSides = false,\n\tpadSidesOnMobile = false,\n\tsnapAlignStart = false,\n\toffsetBottomPaddingOnDivider = false,\n\tcontainerPalette,\n}: Props) => {\n\t// Decide sizing\n\tconst sizeStyles = decideSize(percentage, stretch);\n\n\treturn (\n\t\t<li\n\t\t\tcss={[\n\t\t\t\tliStyles,\n\t\t\t\tsizeStyles,\n\t\t\t\tshowDivider &&\n\t\t\t\t\tdecideDivider(\n\t\t\t\t\t\toffsetBottomPaddingOnDivider,\n\t\t\t\t\t\tGAP_SIZE,\n\t\t\t\t\t\tcontainerPalette,\n\t\t\t\t\t),\n\t\t\t\tpadSides && sidePaddingStyles(padSidesOnMobile),\n\t\t\t\tsnapAlignStart && snapAlignStartStyles,\n\t\t\t]}\n\t\t>\n\t\t\t{children}\n\t\t</li>\n\t);\n};\n","import type { SerializedStyles } from '@emotion/react';\nimport { css } from '@emotion/react';\nimport { border, from } from '@guardian/source-foundations';\nimport type { DCRContainerPalette } from '../../types/front';\nimport { decideContainerOverrides } from './decideContainerOverrides';\n\nexport function verticalDividerWithBottomOffset(\n\tbottomPaddingSize: string,\n\tcontainerPalette?: DCRContainerPalette,\n): SerializedStyles {\n\tconst containerOverrides =\n\t\tcontainerPalette && decideContainerOverrides(containerPalette);\n\n\treturn css`\n\t\t${from.tablet} {\n\t\t\t:before {\n\t\t\t\tcontent: '';\n\t\t\t\tdisplay: block;\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 0;\n\t\t\t\tbottom: 0;\n\t\t\t\tleft: 0;\n\t\t\t\twidth: 1px;\n\t\t\t\t/* 100% is a reasonable fallback for browsers which don't support calc() */\n\t\t\t\theight: 100%;\n\t\t\t\theight: calc(100% + ${bottomPaddingSize});\n\t\t\t\tborder-left: 1px solid\n\t\t\t\t\t${containerOverrides\n\t\t\t\t\t\t? containerOverrides.border.container\n\t\t\t\t\t\t: border.secondary};\n\t\t\t}\n\t\t}\n\t`;\n}\n","type StrInOutFuncType = (str: string) => string;\n\nconst removeAlphaNumeric: StrInOutFuncType = (str) =>\n\tstr.replace(new RegExp('[^0-9a-z ]', 'gi'), ';'); // We set it to semicolon so we can remove it at the end\nconst lowercase: StrInOutFuncType = (str) => str.toLowerCase();\nconst replaceSpacesWithHyphens: StrInOutFuncType = (str) =>\n\tstr.replace(new RegExp(' ', 'g'), '-'); // Replace the space\nconst removeTempChars: StrInOutFuncType = (str) =>\n\tstr.replace(new RegExp('[;]', 'g'), ''); // Strip out those semicolons\n\nexport const formatAttrString = (input: string): string =>\n\tremoveTempChars(\n\t\treplaceSpacesWithHyphens(lowercase(removeAlphaNumeric(input))),\n\t);\n","import { css } from '@emotion/react';\nimport { ArticleDesign } from '@guardian/libs';\nimport {\n\tbrandAlt,\n\tfrom,\n\theadline,\n\tneutral,\n\tspace,\n\ttext,\n\tuntil,\n} from '@guardian/source-foundations';\nimport libDebounce from 'lodash.debounce';\nimport { useEffect, useRef, useState } from 'react';\nimport type { Branding } from '../../types/branding';\nimport type { OnwardsSource } from '../../types/onwards';\nimport type { Palette } from '../../types/palette';\nimport type { TrailType } from '../../types/trails';\nimport { decidePalette } from '../lib/decidePalette';\nimport { formatAttrString } from '../lib/formatAttrString';\nimport { getSourceImageUrl } from '../lib/getSourceImageUrl_temp_fix';\nimport { getZIndex } from '../lib/getZIndex';\nimport { Card } from './Card/Card';\nimport { LI } from './Card/components/LI';\nimport { FetchCommentCounts } from './FetchCommentCounts.importable';\nimport { Hide } from './Hide';\nimport { LeftColumn } from './LeftColumn';\n\ntype Props = {\n\theading: string;\n\ttrails: TrailType[];\n\tdescription?: string;\n\turl?: string;\n\tonwardsSource: OnwardsSource;\n\tformat: ArticleFormat;\n};\n\n// Carousel icons - need replicating from source for centring\n\nconst SvgChevronLeftSingle = () => {\n\treturn (\n\t\t<svg\n\t\t\tviewBox=\"0 0 32 32\"\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\twidth=\"24\"\n\t\t\theight=\"24\"\n\t\t>\n\t\t\t<path\n\t\t\t\tfillRule=\"evenodd\"\n\t\t\t\tclipRule=\"evenodd\"\n\t\t\t\td=\"M18.4 4L8 14.4V15.45L18.4 25.8499L19.375 24.8999L11.05 14.925L19.375 4.95L18.4 4Z\"\n\t\t\t/>\n\t\t</svg>\n\t);\n};\n\nconst SvgChevronRightSingle = () => {\n\treturn (\n\t\t<svg\n\t\t\tviewBox=\"0 0 32 32\"\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\twidth=\"24\"\n\t\t\theight=\"24\"\n\t\t>\n\t\t\t<path\n\t\t\t\tfillRule=\"evenodd\"\n\t\t\t\tclipRule=\"evenodd\"\n\t\t\t\td=\"M9.975 4L9 4.95L17.325 14.925L9 24.8999L9.975 25.8499L20.375 15.45V14.4L9.975 4Z\"\n\t\t\t/>\n\t\t</svg>\n\t);\n};\n\nconst wrapperStyle = (length: number) => css`\n\tdisplay: flex;\n\t/* Remove space-between where there is a single item, so that it is left-aligned */\n\t${length > 1 && 'justify-content: space-between'}\n\toverflow: hidden;\n\t${from.desktop} {\n\t\tpadding-right: 40px;\n\t}\n`;\n\n// For desktop and above, are we at the last card. Is one less than the dots style equivalent\nconst isLastCardShowing = (index: number, totalStories: number) =>\n\tindex >= totalStories - 4;\n\nconst containerMargins = css`\n\tmargin-top: 6px;\n\tmargin-bottom: 24px;\n\n\tmargin-left: 0px;\n\tmargin-right: 0px;\n\n\t${from.tablet} {\n\t\t/* Shrink the container to remove the leading and\n       \t\t\t\t   trailing side margins from the list of cards */\n\t\tmargin-left: -10px;\n\t\tmargin-right: -10px;\n\t}\n\n\t${from.leftCol} {\n\t\tmargin-left: -1px;\n\t\tmargin-right: -10px;\n\t\tmargin-top: 6px;\n\t}\n`;\n\nconst containerStyles = css`\n\tdisplay: flex;\n\tflex-direction: column;\n\tposition: relative;\n\toverflow: hidden; /* Needed for scrolling to work */\n`;\n\nconst carouselStyle = css`\n\tmin-height: 227px;\n\tposition: relative; /* must set position for offset(Left) calculations of children to be relative to this box */\n\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-items: stretch;\n\n\tscroll-snap-type: x mandatory;\n\tscroll-behavior: smooth;\n\toverflow-x: auto; /* Scrollbar is less intrusive visually on non-desktop devices typically */\n\toverflow-y: hidden; /*Fixes small problem with 1px vertical scroll on immersive due to top bar */\n\t${from.tablet} {\n\t\t&::-webkit-scrollbar {\n\t\t\tdisplay: none;\n\t\t}\n\n\t\tscrollbar-width: none;\n\t}\n\n\t${until.tablet} {\n\t\tmargin-left: -10px; /* Align firstcard on mobile devices */\n\t}\n`;\n\nconst dotsStyle = css`\n\tmargin-bottom: ${space[2]}px;\n`;\n\nconst dotStyle = css`\n\tcursor: pointer;\n\tdisplay: inline-block;\n\theight: ${space[3]}px;\n\twidth: ${space[3]}px;\n\tbackground-color: ${neutral[93]};\n\tborder-radius: 100%;\n\tborder: 0 none;\n\tpadding: 0;\n\tmargin-right: ${space[1]}px;\n\n\t&:hover,\n\t&:focus {\n\t\tbackground-color: ${neutral[86]};\n\t\toutline: none;\n\t}\n`;\n\nconst dotActiveStyle = (palette: Palette) => css`\n\tbackground-color: ${palette.background.carouselDot};\n\n\t&:hover,\n\t&:focus {\n\t\tbackground-color: ${palette.background.carouselDotFocus};\n\t}\n`;\n\nconst adjustNumberOfDotsStyle = (index: number, totalStories: number) => {\n\treturn css`\n\t\t${from.phablet} {\n\t\t\tdisplay: ${index >= totalStories - 1 ? 'none' : 'auto'};\n\t\t}\n\n\t\t${from.tablet} {\n\t\t\tdisplay: ${index >= totalStories - 2 ? 'none' : 'auto'};\n\t\t}\n\n\t\t${from.desktop} {\n\t\t\tdisplay: ${index >= totalStories - 3 ? 'none' : 'auto'};\n\t\t}\n\t`;\n};\n\n// Not used for buttons above carousel\nconst buttonContainerStyle = css`\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\tposition: absolute;\n\t${getZIndex('onwardsCarousel')}\n\theight: 100%;\n\tpadding-bottom: 36px; /* Align buttons centrally with cards */\n\n\t${until.leftCol} {\n\t\tdisplay: none;\n\t}\n`;\nconst prevButtonContainerStyle = (format: ArticleFormat) => {\n\tswitch (format.design) {\n\t\tcase ArticleDesign.LiveBlog:\n\t\tcase ArticleDesign.DeadBlog: {\n\t\t\treturn css`\n\t\t\t\t${from.leftCol} {\n\t\t\t\t\tleft: 205px;\n\t\t\t\t}\n\t\t\t`;\n\t\t}\n\t\tdefault: {\n\t\t\treturn css`\n\t\t\t\t${from.leftCol} {\n\t\t\t\t\tleft: 120px;\n\t\t\t\t}\n\n\t\t\t\t${from.wide} {\n\t\t\t\t\tleft: 205px;\n\t\t\t\t}\n\t\t\t`;\n\t\t}\n\t}\n};\n\nconst nextButtonContainerStyle = css`\n\tright: 10px;\n`;\n\nconst buttonStyle = css`\n\tborder: 0 none;\n\tborder-radius: 100%;\n\theight: 34px;\n\twidth: 34px;\n\tcursor: pointer;\n\tmargin-top: 10px;\n\tpadding: 0;\n\tbackground-color: ${neutral[0]};\n\n\t&:active,\n\t&:hover {\n\t\toutline: none;\n\t\tbackground-color: ${brandAlt[400]};\n\t\tsvg {\n\t\t\tfill: ${neutral[7]};\n\t\t}\n\t}\n\n\t&:focus {\n\t\toutline: none;\n\t}\n\n\tsvg {\n\t\tfill: ${neutral[100]};\n\t\theight: 34px;\n\t}\n`;\n\nconst prevButtonStyle = (index: number) => css`\n\tbackground-color: ${index !== 0 ? neutral[0] : neutral[60]};\n\tcursor: ${index !== 0 ? 'pointer' : 'default'};\n\n\t&:hover,\n\t&:focus {\n\t\tbackground-color: ${index !== 0 ? brandAlt[400] : neutral[60]};\n\n\t\tsvg {\n\t\t\tfill: ${neutral[100]};\n\t\t}\n\t}\n`;\n\nconst nextButtonStyle = (index: number, totalStories: number) => css`\n\tpadding-left: 5px; /* Fix centering of SVG*/\n\tmargin-left: 10px;\n\tbackground-color: ${!isLastCardShowing(index, totalStories)\n\t\t? neutral[0]\n\t\t: neutral[60]};\n\tcursor: ${!isLastCardShowing(index, totalStories) ? 'pointer' : 'default'};\n\n\t&:hover,\n\t&:focus {\n\t\tbackground-color: ${!isLastCardShowing(index, totalStories)\n\t\t\t? brandAlt[400]\n\t\t\t: neutral[60]};\n\n\t\tsvg {\n\t\t\tfill: ${neutral[100]};\n\t\t}\n\t}\n`;\n\nconst headerRowStyles = css`\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: space-between;\n\t${from.tablet} {\n\t\tpadding-right: 10px;\n\t}\n\n\t${from.tablet} {\n\t\tmargin-left: 10px;\n\t}\n`;\n\nconst headerStyles = css`\n\t${headline.xsmall({ fontWeight: 'bold' })};\n\tcolor: ${text.primary};\n\t${headline.xsmall({ fontWeight: 'bold' })};\n\tpadding-bottom: ${space[2]}px;\n\tpadding-top: ${space[1]}px;\n\tmargin-left: 0;\n`;\n\nconst titleStyle = (palette: Palette, isCuratedContent?: boolean) => css`\n\tcolor: ${isCuratedContent ? palette.text.carouselTitle : text.primary};\n`;\n\nconst Title = ({\n\ttitle,\n\tpalette,\n\tisCuratedContent,\n}: {\n\ttitle: string;\n\tpalette: Palette;\n\tisCuratedContent?: boolean;\n}) => (\n\t<h2 css={headerStyles}>\n\t\t{isCuratedContent ? 'More from ' : ''}\n\t\t<span css={titleStyle(palette, isCuratedContent)}>{title}</span>\n\t</h2>\n);\n\ntype CarouselCardProps = {\n\tisFirst: boolean;\n\tformat: ArticleFormat;\n\tlinkTo: string;\n\theadlineText: string;\n\twebPublicationDate: string;\n\tkickerText?: string;\n\timageUrl?: string;\n\tdataLinkName?: string;\n\tdiscussionId?: string;\n\t/** Only used on Labs cards */\n\tbranding?: Branding;\n};\n\nconst CarouselCard = ({\n\tformat,\n\tlinkTo,\n\timageUrl,\n\theadlineText,\n\twebPublicationDate,\n\tkickerText,\n\tisFirst,\n\tdataLinkName,\n\tdiscussionId,\n\tbranding,\n}: CarouselCardProps) => (\n\t<LI\n\t\tpercentage=\"25%\"\n\t\tshowDivider={!isFirst}\n\t\tpadSides={true}\n\t\tpadSidesOnMobile={true}\n\t\tsnapAlignStart={true}\n\t>\n\t\t<Card\n\t\t\tlinkTo={linkTo}\n\t\t\tformat={format}\n\t\t\theadlineText={headlineText}\n\t\t\twebPublicationDate={webPublicationDate}\n\t\t\tkickerText={kickerText}\n\t\t\timageUrl={imageUrl}\n\t\t\timageSize={imageUrl ? 'carousel' : undefined}\n\t\t\tshowClock={true}\n\t\t\tshowAge={true}\n\t\t\timagePositionOnMobile=\"top\"\n\t\t\tminWidthInPixels={220}\n\t\t\tshowQuotedHeadline={format.design === ArticleDesign.Comment}\n\t\t\tdataLinkName={dataLinkName}\n\t\t\tdiscussionId={discussionId}\n\t\t\tbranding={branding}\n\t\t\tisExternalLink={false}\n\t\t/>\n\t</LI>\n);\n\ntype HeaderAndNavProps = {\n\theading: string;\n\ttrails: TrailType[];\n\tpalette: Palette;\n\tindex: number;\n\tisCuratedContent?: boolean;\n\tgoToIndex: (newIndex: number) => void;\n};\n\nconst HeaderAndNav = ({\n\theading,\n\ttrails,\n\tpalette,\n\tindex,\n\tisCuratedContent,\n\tgoToIndex,\n}: HeaderAndNavProps) => (\n\t<div>\n\t\t<Title\n\t\t\ttitle={heading}\n\t\t\tpalette={palette}\n\t\t\tisCuratedContent={isCuratedContent}\n\t\t/>\n\t\t<div css={dotsStyle}>\n\t\t\t{trails.map((_, i) => (\n\t\t\t\t<span\n\t\t\t\t\tonClick={() => goToIndex(i)}\n\t\t\t\t\t// This button is not particularly useful for keyboard users as the stories\n\t\t\t\t\t// are tabb-able themselves so we hide them with aria and make them\n\t\t\t\t\t// not available to keyboard\n\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\tkey={`dot-${i}`}\n\t\t\t\t\tcss={[\n\t\t\t\t\t\tdotStyle,\n\t\t\t\t\t\ti === index && dotActiveStyle(palette),\n\t\t\t\t\t\tadjustNumberOfDotsStyle(i, trails.length),\n\t\t\t\t\t]}\n\t\t\t\t\tdata-link-name={`carousel-small-nav-dot-${i}`}\n\t\t\t\t/>\n\t\t\t))}\n\t\t</div>\n\t</div>\n);\n\n/**\n * # Carousel\n *\n * A carousel of cards, mainly used in onward journeys,\n * at the bottom of articles\n *\n * ## Why does this need to be an Island?\n *\n * Data is fetched from an API client-side.\n *\n * ---\n *\n * [`Carousel` on Chromatic](https://www.chromatic.com/component?appId=63e251470cfbe61776b0ef19&csfId=components-carousel)\n */\nexport const Carousel = ({ heading, trails, onwardsSource, format }: Props) => {\n\tconst palette = decidePalette(format);\n\tconst carouselRef = useRef<HTMLUListElement>(null);\n\n\tconst [index, setIndex] = useState(0);\n\tconst [maxIndex, setMaxIndex] = useState(0);\n\n\tconst arrowName = 'carousel-small-arrow';\n\n\tconst isCuratedContent = onwardsSource === 'curated-content';\n\n\tconst notPresentation = (el: HTMLElement): boolean =>\n\t\tel.getAttribute('role') !== 'presentation';\n\n\tconst getItems = (): HTMLElement[] => {\n\t\tconst { current } = carouselRef;\n\t\tif (current === null) return [];\n\n\t\treturn Array.from(current.children) as HTMLElement[];\n\t};\n\n\tconst getIndex = (): number => {\n\t\tconst { current } = carouselRef;\n\t\tconst offsets = getItems()\n\t\t\t.filter(notPresentation)\n\t\t\t.map((el) => el.offsetLeft);\n\t\tconst [offset] = offsets;\n\t\tif (current === null || offset === undefined) return 0;\n\n\t\tconst scrolled = current.scrollLeft + offset;\n\t\tconst active = offsets.findIndex((el) => el >= scrolled);\n\n\t\treturn Math.max(0, active);\n\t};\n\n\tconst getSetIndex = () => {\n\t\tsetIndex(getIndex());\n\t};\n\n\tconst goToIndex = (newIndex: number) => {\n\t\tconst { current } = carouselRef;\n\t\tif (current === null) return;\n\n\t\tconst offsets = getItems()\n\t\t\t.filter(notPresentation)\n\t\t\t.map((el) => el.offsetLeft);\n\n\t\tcurrent.scrollTo({ left: offsets[newIndex] });\n\n\t\tgetSetIndex();\n\t};\n\n\tconst prev = () => {\n\t\tconst { current } = carouselRef;\n\t\tconst offsets = getItems()\n\t\t\t.filter(notPresentation)\n\t\t\t.map(({ offsetLeft }) => offsetLeft);\n\t\tconst [offset] = offsets;\n\n\t\tif (current === null || offset === undefined) return;\n\n\t\tconst scrolled = current.scrollLeft + offset;\n\n\t\tconst nextOffset = offsets.reverse().find((o) => o < scrolled);\n\n\t\tif (nextOffset !== undefined && nextOffset !== 0) {\n\t\t\tcurrent.scrollTo({ left: nextOffset });\n\t\t} else {\n\t\t\tcurrent.scrollTo({ left: 0 });\n\t\t}\n\t\tgetSetIndex();\n\t};\n\n\tconst next = () => {\n\t\tconst { current } = carouselRef;\n\t\tconst offsets = getItems()\n\t\t\t.filter(notPresentation)\n\t\t\t.map(({ offsetLeft }) => offsetLeft);\n\t\tconst [offset] = offsets;\n\n\t\tif (current === null || offset === undefined) return;\n\n\t\tconst scrolled = current.scrollLeft + offset;\n\t\tconst nextOffset = offsets.find((currOffset) => currOffset > scrolled);\n\n\t\tif (nextOffset !== undefined && nextOffset !== 0) {\n\t\t\tcurrent.scrollTo({ left: nextOffset });\n\t\t}\n\n\t\tgetSetIndex();\n\t};\n\n\tuseEffect(() => {\n\t\tconst carousel = carouselRef.current;\n\t\tif (carousel) {\n\t\t\tcarousel.addEventListener('scroll', libDebounce(getSetIndex, 100));\n\t\t\treturn carousel.removeEventListener(\n\t\t\t\t'scroll',\n\t\t\t\tlibDebounce(getSetIndex, 100),\n\t\t\t);\n\t\t}\n\t});\n\n\t// No idea if this is the best approach but it prevents issues with libDebounce\n\t// using old data to determine the max index. Instead we say update maxIndex\n\t// when index changes and compare it against the prior maxIndex only.\n\tuseEffect(() => setMaxIndex((m) => Math.max(index, m)), [index]);\n\n\treturn (\n\t\t<div\n\t\t\tcss={wrapperStyle(trails.length)}\n\t\t\tdata-link-name={formatAttrString(heading)}\n\t\t>\n\t\t\t<FetchCommentCounts />\n\t\t\t<LeftColumn\n\t\t\t\tborderType=\"partial\"\n\t\t\t\tsize={\n\t\t\t\t\tformat.design === ArticleDesign.LiveBlog ||\n\t\t\t\t\tformat.design === ArticleDesign.DeadBlog\n\t\t\t\t\t\t? 'wide'\n\t\t\t\t\t\t: 'compact'\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t<HeaderAndNav\n\t\t\t\t\theading={heading}\n\t\t\t\t\ttrails={trails}\n\t\t\t\t\tpalette={palette}\n\t\t\t\t\tindex={index}\n\t\t\t\t\tisCuratedContent={isCuratedContent}\n\t\t\t\t\tgoToIndex={goToIndex}\n\t\t\t\t/>\n\t\t\t</LeftColumn>\n\t\t\t<div css={[buttonContainerStyle, prevButtonContainerStyle(format)]}>\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tonClick={prev}\n\t\t\t\t\taria-label=\"Move carousel backwards\"\n\t\t\t\t\tcss={[buttonStyle, prevButtonStyle(index)]}\n\t\t\t\t\tdata-link-name={`${arrowName}-prev`}\n\t\t\t\t>\n\t\t\t\t\t<SvgChevronLeftSingle />\n\t\t\t\t</button>\n\t\t\t</div>\n\n\t\t\t<div css={[buttonContainerStyle, nextButtonContainerStyle]}>\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tonClick={next}\n\t\t\t\t\taria-label=\"Move carousel forwards\"\n\t\t\t\t\tcss={[buttonStyle, nextButtonStyle(index, trails.length)]}\n\t\t\t\t\tdata-link-name={`${arrowName}-next`}\n\t\t\t\t>\n\t\t\t\t\t<SvgChevronRightSingle />\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tcss={[containerStyles, containerMargins]}\n\t\t\t\tdata-component={onwardsSource}\n\t\t\t\tdata-link={formatAttrString(heading)}\n\t\t\t>\n\t\t\t\t<Hide when=\"above\" breakpoint=\"leftCol\">\n\t\t\t\t\t<div css={headerRowStyles}>\n\t\t\t\t\t\t<HeaderAndNav\n\t\t\t\t\t\t\theading={heading}\n\t\t\t\t\t\t\ttrails={trails}\n\t\t\t\t\t\t\tpalette={palette}\n\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\tisCuratedContent={isCuratedContent}\n\t\t\t\t\t\t\tgoToIndex={goToIndex}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Hide when=\"below\" breakpoint=\"desktop\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tonClick={prev}\n\t\t\t\t\t\t\t\taria-label=\"Move carousel backwards\"\n\t\t\t\t\t\t\t\tcss={[buttonStyle, prevButtonStyle(index)]}\n\t\t\t\t\t\t\t\tdata-link-name={`${arrowName}-prev`}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<SvgChevronLeftSingle />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tonClick={next}\n\t\t\t\t\t\t\t\taria-label=\"Move carousel forwards\"\n\t\t\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\t\t\tbuttonStyle,\n\t\t\t\t\t\t\t\t\tnextButtonStyle(index, trails.length),\n\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\tdata-link-name={`${arrowName}-next`}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<SvgChevronRightSingle />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</Hide>\n\t\t\t\t\t</div>\n\t\t\t\t</Hide>\n\n\t\t\t\t<ul\n\t\t\t\t\tcss={carouselStyle}\n\t\t\t\t\tref={carouselRef}\n\t\t\t\t\tdata-component={`carousel-small | maxIndex-${maxIndex}`}\n\t\t\t\t>\n\t\t\t\t\t{trails.map((trail, i) => {\n\t\t\t\t\t\tconst {\n\t\t\t\t\t\t\turl: linkTo,\n\t\t\t\t\t\t\theadline: headlineText,\n\t\t\t\t\t\t\twebPublicationDate,\n\t\t\t\t\t\t\tformat: trailFormat,\n\t\t\t\t\t\t\timage,\n\t\t\t\t\t\t\tkickerText,\n\t\t\t\t\t\t\tbranding,\n\t\t\t\t\t\t\tdiscussion,\n\t\t\t\t\t\t} = trail;\n\n\t\t\t\t\t\t// Don't try to render cards that have no publication date. This property is technically optional\n\t\t\t\t\t\t// but we rarely if ever expect it not to exist\n\t\t\t\t\t\tif (!webPublicationDate) return null;\n\n\t\t\t\t\t\tconst imageUrl = image && getSourceImageUrl(image);\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<CarouselCard\n\t\t\t\t\t\t\t\tkey={`${trail.url}${i}`}\n\t\t\t\t\t\t\t\tisFirst={i === 0}\n\t\t\t\t\t\t\t\tformat={trailFormat}\n\t\t\t\t\t\t\t\tlinkTo={linkTo}\n\t\t\t\t\t\t\t\theadlineText={headlineText}\n\t\t\t\t\t\t\t\twebPublicationDate={webPublicationDate}\n\t\t\t\t\t\t\t\timageUrl={imageUrl}\n\t\t\t\t\t\t\t\tkickerText={kickerText}\n\t\t\t\t\t\t\t\tdataLinkName={`carousel-small-card-position-${i}`}\n\t\t\t\t\t\t\t\tdiscussionId={\n\t\t\t\t\t\t\t\t\tdiscussion?.isCommentable\n\t\t\t\t\t\t\t\t\t\t? discussion.discussionId\n\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbranding={branding}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import { ChartAtom } from '@guardian/atoms-rendering';\nimport type { ChartAtomType } from '@guardian/atoms-rendering';\n\nexport const ChartAtomWrapper = (props: ChartAtomType) => {\n\treturn <ChartAtom {...props} />;\n};\n","import { css } from '@emotion/react';\nimport {\n\tbackground,\n\tborder,\n\tspace,\n\ttextSans,\n} from '@guardian/source-foundations';\nimport { Button, SvgCheckmark } from '@guardian/source-react-components';\nimport { useState } from 'react';\nimport type { RoleType } from '../../types/content';\n\ntype Props = {\n\tchildren: React.ReactNode;\n\trole?: RoleType;\n\tonAccept?: () => void;\n\tisTracking: boolean;\n\tisMainMedia?: boolean;\n\tsource?: string;\n\tsourceDomain?: string;\n};\n\nconst roleTextSize = (role: RoleType) => {\n\tswitch (role) {\n\t\tcase 'immersive':\n\t\tcase 'inline':\n\t\tcase 'showcase': {\n\t\t\treturn textSans.medium({ lineHeight: 'regular' });\n\t\t}\n\t\tcase 'halfWidth':\n\t\tcase 'supporting':\n\t\tcase 'thumbnail': {\n\t\t\treturn textSans.small({ lineHeight: 'regular' });\n\t\t}\n\t}\n};\n\nconst roleHeadlineSize = (role: RoleType) => {\n\tswitch (role) {\n\t\tcase 'immersive':\n\t\tcase 'inline':\n\t\tcase 'showcase': {\n\t\t\treturn textSans.large({\n\t\t\t\tfontWeight: 'bold',\n\t\t\t\tlineHeight: 'regular',\n\t\t\t});\n\t\t}\n\t\tcase 'halfWidth':\n\t\tcase 'supporting':\n\t\tcase 'thumbnail': {\n\t\t\treturn textSans.medium({\n\t\t\t\tfontWeight: 'bold',\n\t\t\t\tlineHeight: 'regular',\n\t\t\t});\n\t\t}\n\t}\n};\n\nconst roleButtonSize = (role: RoleType) => {\n\tswitch (role) {\n\t\tcase 'immersive':\n\t\tcase 'inline':\n\t\tcase 'showcase': {\n\t\t\treturn 'default';\n\t\t}\n\t\tcase 'halfWidth':\n\t\tcase 'supporting':\n\t\t\treturn 'small';\n\t\tcase 'thumbnail': {\n\t\t\treturn 'xsmall';\n\t\t}\n\t}\n};\n\nconst roleButtonText = (role: RoleType) => {\n\tswitch (role) {\n\t\tcase 'immersive':\n\t\tcase 'inline':\n\t\tcase 'showcase':\n\t\tcase 'halfWidth':\n\t\tcase 'supporting': {\n\t\t\treturn 'Allow and continue';\n\t\t}\n\t\tcase 'thumbnail': {\n\t\t\treturn 'Allow';\n\t\t}\n\t}\n};\n\nconst shouldDisplayOverlay = ({\n\tisTracking,\n\tisOverlayClicked,\n\tisMainMedia,\n}: {\n\tisTracking: boolean;\n\tisOverlayClicked: boolean;\n\tisMainMedia?: boolean;\n}) => {\n\tif (isMainMedia || !isTracking) {\n\t\treturn false;\n\t}\n\tif (isOverlayClicked) {\n\t\treturn false;\n\t}\n\treturn true;\n};\n\nexport const ClickToView = ({\n\tchildren,\n\trole = 'inline',\n\tonAccept,\n\tisTracking,\n\tisMainMedia,\n\tsource,\n\tsourceDomain = 'unknown',\n}: Props) => {\n\tconst [isOverlayClicked, setIsOverlayClicked] = useState<boolean>(false);\n\n\tconst handleClick = () => {\n\t\tsetIsOverlayClicked(true);\n\t\tif (onAccept) {\n\t\t\tsetTimeout(() => onAccept());\n\t\t}\n\t};\n\n\tconst textSize = roleTextSize(role);\n\n\tif (\n\t\tshouldDisplayOverlay({\n\t\t\tisTracking,\n\t\t\tisOverlayClicked,\n\t\t\tisMainMedia,\n\t\t})\n\t) {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tcss={css`\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\tbackground: ${background.secondary};\n\t\t\t\t\tborder: 1px solid ${border.secondary};\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-direction: column;\n\t\t\t\t\tjustify-content: space-between;\n\t\t\t\t\tpadding: ${space[1]}px ${space[6]}px ${space[3]}px;\n\t\t\t\t\tmargin-bottom: ${space[3]}px;\n\t\t\t\t`}\n\t\t\t\tdata-component={`click-to-view:${sourceDomain}`}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tcss={css`\n\t\t\t\t\t\t${roleHeadlineSize(role)}\n\t\t\t\t\t\tmargin-bottom: ${space[1]}px;\n\t\t\t\t\t`}\n\t\t\t\t>\n\t\t\t\t\t{source\n\t\t\t\t\t\t? `Allow ${source} content?`\n\t\t\t\t\t\t: 'Allow content provided by a third party?'}\n\t\t\t\t</div>\n\t\t\t\t<p\n\t\t\t\t\tcss={css`\n\t\t\t\t\t\t${textSize}\n\t\t\t\t\t`}\n\t\t\t\t>\n\t\t\t\t\t{source ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\tThis article includes content provided by {source}.\n\t\t\t\t\t\t\tWe ask for your permission before anything is\n\t\t\t\t\t\t\tloaded, as they may be using cookies and other\n\t\t\t\t\t\t\ttechnologies. To view this content,{' '}\n\t\t\t\t\t\t\t<strong>\n\t\t\t\t\t\t\t\tclick &apos;Allow and continue&apos;\n\t\t\t\t\t\t\t</strong>\n\t\t\t\t\t\t\t.\n\t\t\t\t\t\t</>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\tThis article includes content hosted on{' '}\n\t\t\t\t\t\t\t{sourceDomain}. We ask for your permission before\n\t\t\t\t\t\t\tanything is loaded, as the provider may be using\n\t\t\t\t\t\t\tcookies and other technologies. To view this\n\t\t\t\t\t\t\tcontent,{' '}\n\t\t\t\t\t\t\t<strong>\n\t\t\t\t\t\t\t\tclick &apos;Allow and continue&apos;\n\t\t\t\t\t\t\t</strong>\n\t\t\t\t\t\t\t.\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</p>\n\t\t\t\t<div\n\t\t\t\t\tcss={css`\n\t\t\t\t\t\tmargin-top: ${space[5]}px;\n\t\t\t\t\t`}\n\t\t\t\t>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tpriority=\"primary\"\n\t\t\t\t\t\tsize={roleButtonSize(role)}\n\t\t\t\t\t\ticon={<SvgCheckmark />}\n\t\t\t\t\t\ticonSide=\"left\"\n\t\t\t\t\t\tonClick={() => handleClick()}\n\t\t\t\t\t\tdata-cy=\"click-to-view-button\"\n\t\t\t\t\t\tdata-link-name=\"allow-button\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{roleButtonText(role)}\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\treturn <>{children}</>;\n};\n","import { css } from '@emotion/react';\nimport { joinUrl } from '@guardian/libs';\nimport { between, textSans, until } from '@guardian/source-foundations';\nimport CommentIcon from '../../static/icons/comment.svg';\nimport type { Palette } from '../../types/palette';\nimport { decidePalette } from '../lib/decidePalette';\nimport { formatCount } from '../lib/formatCount';\nimport { useDiscussion } from '../lib/useDiscussion';\n\ntype Props = {\n\tformat: ArticleFormat;\n\tdiscussionApiUrl: string;\n\tshortUrlId: string;\n};\n\nconst containerStyles = (palette: Palette) => css`\n\tdisplay: flex;\n\talign-self: flex-end;\n\tflex-direction: column;\n\t${textSans.medium()};\n\tfont-weight: bold;\n\tcolor: ${palette.fill.commentCount};\n\tpadding-top: 5px;\n\n\t${until.desktop} {\n\t\tcolor: ${palette.fill.commentCountUntilDesktop};\n\t}\n`;\n\nconst iconContainerStyles = css`\n\theight: 15px;\n\tmargin: 0;\n\ttext-align: right;\n\tmargin-bottom: -2px;\n\tsvg {\n\t\theight: 18px;\n\t\twidth: 18px;\n\t}\n`;\n\nconst iconStyles = (palette: Palette) => css`\n\tfill: ${palette.fill.commentCount};\n\t${until.desktop} {\n\t\tfill: ${palette.fill.commentCountUntilDesktop};\n\t}\n`;\n\nconst longStyles = css`\n\tdisplay: block;\n\n\t${between.leftCol.and.wide} {\n\t\tdisplay: none;\n\t}\n`;\n\nconst shortStyles = css`\n\tdisplay: none;\n\n\t${between.leftCol.and.wide} {\n\t\tdisplay: block;\n\t}\n`;\n\nconst linkStyles = css`\n\tcolor: inherit;\n\ttext-decoration: none;\n\t:hover {\n\t\ttext-decoration: underline;\n\t}\n\t:visited {\n\t\tcolor: inherit;\n\t}\n`;\n\n/**\n * # CommentCount\n *\n * Shows the number of comments at the top of an article.\n * Fetches the count from the discussion API.\n *\n * [Storybook `Count`](https://637e40d1bc73bf3f604394b9-rzazjyrwhc.chromatic.com/?path=/story/components-counts)\n */\nexport const CommentCount = ({\n\tformat,\n\tdiscussionApiUrl,\n\tshortUrlId,\n}: Props) => {\n\tconst { commentCount } = useDiscussion(\n\t\tjoinUrl(discussionApiUrl, 'discussion', shortUrlId),\n\t);\n\n\t// If the comment count is 0 we still want to display it\n\tif (commentCount === undefined) return null;\n\n\tconst { short, long } = formatCount(commentCount);\n\tconst palette = decidePalette(format);\n\n\treturn (\n\t\t<data\n\t\t\tcss={containerStyles(palette)}\n\t\t\tdata-cy=\"comment-counts\"\n\t\t\tvalue={`${long} comments on this article`}\n\t\t>\n\t\t\t<a\n\t\t\t\thref=\"#comments\"\n\t\t\t\tcss={linkStyles}\n\t\t\t\taria-label={`${short} Comments`}\n\t\t\t>\n\t\t\t\t<div css={iconContainerStyles}>\n\t\t\t\t\t<CommentIcon css={iconStyles(palette)} />\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tdata-testid=\"long-comment-count\"\n\t\t\t\t\tcss={longStyles}\n\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t>\n\t\t\t\t\t{long}\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tdata-testid=\"short-comment-count\"\n\t\t\t\t\tcss={shortStyles}\n\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t>\n\t\t\t\t\t{short}\n\t\t\t\t</div>\n\t\t\t</a>\n\t\t</data>\n\t);\n};\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden, iconSize } from '@guardian/source-foundations';\n\nconst Svg = ({ size }) => (jsx(\"svg\", { width: size ? iconSize[size] : undefined, height: undefined, viewBox: \"-3 -3 30 30\", xmlns: \"http://www.w3.org/2000/svg\", focusable: false, \"aria-hidden\": true, children: jsx(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M12.956 23V4.726l8.575 7.167.932-.932L12.478 1h-.956l-9.984 9.96.931.932 8.576-7.166V23h1.91Z\" }) }));\nconst SvgArrowUpStraight = ({ size, isAnnouncedByScreenReader = false, }) => (jsxs(Fragment, { children: [jsx(Svg, { size: size }), isAnnouncedByScreenReader ? (jsx(\"span\", { css: css `\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`, children: \"Arrow up\" })) : ('')] }));\n\nexport { SvgArrowUpStraight };\n//# sourceMappingURL=SvgArrowUpStraight.js.map\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden, iconSize } from '@guardian/source-foundations';\n\nconst Svg = ({ size }) => (jsx(\"svg\", { width: size ? iconSize[size] : undefined, height: undefined, viewBox: \"-3 -3 30 30\", xmlns: \"http://www.w3.org/2000/svg\", focusable: false, \"aria-hidden\": true, children: jsx(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M5.025 11.5V7H3v5.45l1.025 1.025H17.75L15 17.05l.85.9L21 12.825v-.675l-5.1-5.125-.9.875 2.75 3.6H5.025Z\" }) }));\nconst SvgIndent = ({ size, isAnnouncedByScreenReader = false, }) => (jsxs(Fragment, { children: [jsx(Svg, { size: size }), isAnnouncedByScreenReader ? (jsx(\"span\", { css: css `\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`, children: \"Indent\" })) : ('')] }));\n\nexport { SvgIndent };\n//# sourceMappingURL=SvgIndent.js.map\n","import { jsx, css, keyframes } from \"@emotion/react\";\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { news, opinion, culture, sport, lifestyle, labs, textSans, neutral, space, headline, text, brand, remSpace, border, until, from, background } from \"@guardian/source-foundations\";\nimport { Button, TextInput, Link, SvgArrowUpStraight, SvgCross, SvgIndent, SvgPlus, SvgChevronRightSingle, SvgChevronLeftSingle } from \"@guardian/source-react-components\";\nimport { ArticleSpecial, ArticlePillar, timeAgo } from \"@guardian/libs\";\nconst joinUrl = (parts) => {\n  const trimmed = parts.filter((part) => part).map((part) => {\n    if (part.substr(0, 1) === \"/\")\n      return part.slice(1);\n    return part;\n  }).map((part) => {\n    if (part.substr(part.length - 1, 1) === \"/\")\n      return part.slice(0, -1);\n    return part;\n  });\n  return trimmed.join(\"/\");\n};\nlet options = {\n  baseUrl: \"https://discussion.theguardian.com/discussion-api\",\n  apiKey: \"discussion-rendering\",\n  headers: {},\n  idApiUrl: \"https://idapi.theguardian.com\"\n};\nlet defaultParams = {\n  \"api-key\": options.apiKey\n};\nconst initialiseApi = ({\n  baseUrl,\n  additionalHeaders,\n  apiKey,\n  idApiUrl\n}) => {\n  options.baseUrl = baseUrl || options.baseUrl;\n  options.headers = additionalHeaders || options.headers;\n  options.apiKey = apiKey || options.apiKey;\n  options.idApiUrl = idApiUrl || options.idApiUrl;\n  defaultParams[\"api-key\"] = options.apiKey;\n};\nconst objAsParams = (obj) => {\n  const params = Object.keys(obj).map((key) => {\n    return `${key}=${obj[key]}`;\n  }).join(\"&\");\n  return \"?\" + params;\n};\nconst getDiscussion = (shortUrl, opts) => {\n  const apiOpts = {\n    ...defaultParams,\n    ...{\n      orderBy: opts.orderBy === \"recommendations\" ? \"mostRecommended\" : opts.orderBy,\n      pageSize: opts.pageSize,\n      displayThreaded: opts.threads !== \"unthreaded\",\n      maxResponses: opts.threads === \"collapsed\" ? 3 : 100,\n      page: opts.page\n    }\n  };\n  const params = objAsParams(apiOpts);\n  const url = joinUrl([options.baseUrl, \"discussion\", shortUrl]) + params;\n  return fetch(url, {\n    headers: {\n      ...options.headers\n    }\n  }).then((resp) => resp.json()).then((json) => {\n    if (json.errorCode === \"DISCUSSION_ONLY_AVAILABLE_IN_LINEAR_FORMAT\") {\n      return getDiscussion(shortUrl, {\n        ...opts,\n        ...{\n          threads: \"unthreaded\"\n        }\n      });\n    }\n    return json;\n  }).catch((error) => console.error(`Error fetching ${url}`, error));\n};\nconst preview = (body) => {\n  const url = joinUrl([options.baseUrl, \"comment/preview\"]) + objAsParams(defaultParams);\n  const data = new URLSearchParams();\n  data.append(\"body\", body);\n  return fetch(url, {\n    method: \"POST\",\n    body: data.toString(),\n    headers: {\n      \"Content-Type\": \"application/x-www-form-urlencoded\",\n      ...options.headers\n    }\n  }).then((resp) => resp.json()).then((json) => json.commentBody).catch((error) => console.error(`Error fetching ${url}`, error));\n};\nconst comment = (shortUrl, body) => {\n  const url = joinUrl([options.baseUrl, \"discussion\", shortUrl, \"comment\"]) + objAsParams(defaultParams);\n  const data = new URLSearchParams();\n  data.append(\"body\", body);\n  return fetch(url, {\n    method: \"POST\",\n    body: data.toString(),\n    headers: {\n      \"Content-Type\": \"application/x-www-form-urlencoded\",\n      ...options.headers\n    },\n    credentials: \"include\"\n  }).then((resp) => resp.json());\n};\nconst reply = (shortUrl, body, parentCommentId) => {\n  const url = joinUrl([options.baseUrl, \"discussion\", shortUrl, \"comment\", parentCommentId.toString(), \"reply\"]) + objAsParams(defaultParams);\n  const data = new URLSearchParams();\n  data.append(\"body\", body);\n  return fetch(url, {\n    method: \"POST\",\n    body: data.toString(),\n    headers: {\n      \"Content-Type\": \"application/x-www-form-urlencoded\",\n      ...options.headers\n    },\n    credentials: \"include\"\n  }).then((resp) => resp.json());\n};\nconst getPicks = (shortUrl) => {\n  const url = joinUrl([options.baseUrl, \"discussion\", shortUrl, \"topcomments\"]) + objAsParams(defaultParams);\n  return fetch(url, {\n    headers: {\n      ...options.headers\n    }\n  }).then((resp) => resp.json()).then((json) => json.discussion.comments).catch((error) => console.error(`Error fetching ${url}`, error));\n};\nconst reportAbuse = ({\n  commentId,\n  categoryId,\n  email,\n  reason\n}) => {\n  const url = joinUrl([options.baseUrl, \"comment\", commentId.toString(), \"reportAbuse\"]) + objAsParams(defaultParams);\n  const data = new URLSearchParams();\n  data.append(\"categoryId\", categoryId.toString());\n  email && data.append(\"email\", email.toString());\n  reason && data.append(\"reason\", reason);\n  return fetch(url, {\n    method: \"POST\",\n    body: data.toString(),\n    headers: {\n      \"Content-Type\": \"application/x-www-form-urlencoded\",\n      ...options.headers\n    }\n  }).then((resp) => resp.json());\n};\nconst recommend = (commentId) => {\n  const url = joinUrl([options.baseUrl, \"comment\", commentId.toString(), \"recommend\"]) + objAsParams(defaultParams);\n  return fetch(url, {\n    method: \"POST\",\n    credentials: \"include\",\n    headers: {\n      ...options.headers\n    }\n  }).then((resp) => resp.ok);\n};\nconst addUserName = (userName) => {\n  const url = options.idApiUrl + `/user/me` + objAsParams(defaultParams);\n  return fetch(url, {\n    method: \"POST\",\n    credentials: \"include\",\n    body: JSON.stringify({\n      publicFields: {\n        username: userName,\n        displayName: userName\n      }\n    }),\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  }).then((resp) => resp.json()).catch((error) => console.error(`Error fetching ${url}`, error));\n};\nconst pickComment = (commentId) => {\n  const url = joinUrl([options.baseUrl, \"comment\", commentId.toString(), \"highlight\"]) + objAsParams(defaultParams);\n  return fetch(url, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/x-www-form-urlencoded\",\n      ...options.headers\n    },\n    credentials: \"include\"\n  }).then((resp) => resp.json()).catch((error) => console.error(`Error fetching ${url}`, error));\n};\nconst unPickComment = (commentId) => {\n  const url = joinUrl([options.baseUrl, \"comment\", commentId.toString(), \"unhighlight\"]) + objAsParams(defaultParams);\n  return fetch(url, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/x-www-form-urlencoded\",\n      ...options.headers\n    },\n    credentials: \"include\"\n  }).then((resp) => resp.json()).catch((error) => console.error(`Error fetching ${url}`, error));\n};\nconst getMoreResponses = (commentId) => {\n  const url = joinUrl([options.baseUrl, \"comment\", commentId.toString()]) + objAsParams({\n    ...defaultParams,\n    ...{\n      displayThreaded: true,\n      displayResponses: true\n    }\n  });\n  return fetch(url, {\n    headers: {\n      ...options.headers\n    }\n  }).then((resp) => resp.json()).catch((error) => console.error(`Error fetching ${url}`, error));\n};\nconst simulateNewComment = (commentId, body, user, commentBeingRepliedTo) => {\n  return {\n    id: commentId,\n    body,\n    date: Date(),\n    isoDateTime: new Date().toISOString(),\n    status: \"visible\",\n    webUrl: `https://discussion.theguardian.com/comment-permalink/${commentId}`,\n    apiUrl: `https://discussion.guardianapis.com/discussion-api/comment/${commentId}`,\n    numRecommends: 0,\n    isHighlighted: false,\n    userProfile: {\n      userId: user.userId,\n      displayName: user.displayName,\n      webUrl: user.webUrl,\n      apiUrl: user.apiUrl,\n      avatar: user.avatar,\n      secureAvatarUrl: user.secureAvatarUrl,\n      badge: user.badge\n    },\n    ...commentBeingRepliedTo ? {\n      responseTo: {\n        displayName: commentBeingRepliedTo.userProfile.displayName,\n        commentApiUrl: `https://discussion.guardianapis.com/discussion-api/comment/${commentBeingRepliedTo.id}`,\n        isoDateTime: commentBeingRepliedTo.isoDateTime,\n        date: commentBeingRepliedTo.date,\n        commentId: String(commentBeingRepliedTo.id),\n        commentWebUrl: `https://discussion.theguardian.com/comment-permalink/${commentBeingRepliedTo.id}`\n      }\n    } : {\n      responses: []\n    }\n  };\n};\nfunction _EMOTION_STRINGIFIED_CSS_ERROR__$b() {\n  return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\";\n}\nvar _ref$3 = process.env.NODE_ENV === \"production\" ? {\n  name: \"ho1qnd\",\n  styles: \"display:flex;flex-direction:row\"\n} : {\n  name: \"ubd564-Row\",\n  styles: \"display:flex;flex-direction:row;label:Row;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$b\n};\nconst Row = ({\n  children\n}) => /* @__PURE__ */ jsx(\"div\", {\n  css: _ref$3\n}, children);\nconst pillarToString = (pillar) => {\n  switch (pillar) {\n    case ArticlePillar.News:\n      return \"news\";\n    case ArticlePillar.Opinion:\n      return \"opinion\";\n    case ArticlePillar.Culture:\n      return \"culture\";\n    case ArticlePillar.Sport:\n      return \"sport\";\n    case ArticlePillar.Lifestyle:\n      return \"lifestyle\";\n    case ArticleSpecial.Labs:\n      return \"labs\";\n    default:\n      return \"news\";\n  }\n};\nconst palette = {\n  news,\n  opinion,\n  culture,\n  sport,\n  lifestyle,\n  labs\n};\nconst dark = (pillar) => {\n  switch (pillar) {\n    case ArticlePillar.Culture:\n      return \"#FBF6EF\";\n    case ArticlePillar.Opinion:\n      return \"#FEF9F5\";\n    case ArticlePillar.Lifestyle:\n      return \"#FEEEF7\";\n    case ArticlePillar.Sport:\n      return \"#F1F8FC\";\n    case ArticlePillar.News:\n    case ArticleSpecial.SpecialReport:\n    case ArticleSpecial.Labs:\n    default:\n      return \"#FFF4F2\";\n  }\n};\nconst buttonOverrides = (pillar, priority) => {\n  switch (priority) {\n    case \"primary\":\n      return /* @__PURE__ */ css(\"button{\", textSans.small({\n        fontWeight: \"bold\"\n      }), \" background-color:\", palette[pillarToString(pillar)][300], \";color:\", neutral[100], \";:hover{background-color:\", palette[pillarToString(pillar)][400], \";}}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:buttonOverrides;\"));\n    case \"secondary\":\n      return /* @__PURE__ */ css(\"button{\", textSans.small({\n        fontWeight: \"bold\"\n      }), \" background-color:transparent;border:1px solid \", palette[pillarToString(pillar)][400], \";color:\", palette[pillarToString(pillar)][400], \";:hover{background-color:\", dark(pillar), \";}}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:buttonOverrides;\"));\n    case \"subdued\":\n      return /* @__PURE__ */ css(\"button{\", textSans.small({\n        fontWeight: \"bold\"\n      }), \" background-color:transparent;color:\", palette[pillarToString(pillar)][400], \";border-radius:0;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:buttonOverrides;\"));\n  }\n};\nconst PillarButton = ({\n  pillar,\n  onClick,\n  type,\n  priority = \"primary\",\n  children,\n  icon,\n  iconSide,\n  linkName,\n  size = \"default\"\n}) => /* @__PURE__ */ jsx(\"div\", {\n  css: buttonOverrides(pillar, priority)\n}, /* @__PURE__ */ jsx(Button, {\n  priority,\n  size,\n  onClick,\n  type,\n  icon,\n  iconSide,\n  \"data-link-name\": linkName\n}, children));\nconst previewStyle$2 = /* @__PURE__ */ css(\"padding:\", space[2], \"px;background-color:\", neutral[93], \";margin-bottom:\", space[5], \"px;position:relative;min-height:\", space[9], \"px;p{padding-left:\", space[2], \"px;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:previewStyle;\"));\nconst textStyling = /* @__PURE__ */ css(textSans.small(), \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:textStyling;\"));\nconst Text = ({\n  children\n}) => /* @__PURE__ */ jsx(\"p\", {\n  css: textStyling\n}, children);\nconst FirstCommentWelcome = ({\n  body,\n  pillar,\n  error = \"\",\n  submitForm,\n  cancelSubmit,\n  onPreview\n}) => {\n  const [previewBody, setPreviewBody] = useState(\"\");\n  const [userName, setUserName] = useState(\"\");\n  useEffect(() => {\n    const fetchShowPreview = async () => {\n      try {\n        const preview$1 = onPreview || preview;\n        const response = await preview$1(body);\n        setPreviewBody(response);\n      } catch (e) {\n        setPreviewBody(\"\");\n      }\n    };\n    fetchShowPreview();\n  }, [body, onPreview]);\n  return /* @__PURE__ */ jsx(\"div\", {\n    css: /* @__PURE__ */ css(\"padding:\", space[2], \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:FirstCommentWelcome;\"))\n  }, /* @__PURE__ */ jsx(\"form\", {\n    onSubmit: (e) => {\n      e.preventDefault();\n      submitForm(userName);\n    }\n  }, /* @__PURE__ */ jsx(\"h3\", {\n    css: /* @__PURE__ */ css(headline.xxsmall({\n      fontWeight: \"bold\"\n    }), \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:FirstCommentWelcome;\"))\n  }, \"Welcome, you\\u2019re about to make your first comment!\"), /* @__PURE__ */ jsx(Text, null, \"Before you post, we\\u2019d like to thank you for joining the debate - we\\u2019re glad you\\u2019ve chosen to participate and we value your opinions and experiences.\"), /* @__PURE__ */ jsx(Text, null, \"Please choose your username under which you would like all your comments to show up. You can only set your username once.\"), /* @__PURE__ */ jsx(TextInput, {\n    label: \"Username:\",\n    supporting: \"Must be 6-20 characters, letters and/or numbers only, no spaces.\",\n    value: userName,\n    onChange: (e) => setUserName(e.target.value),\n    width: 30,\n    error\n  }), /* @__PURE__ */ jsx(Text, null, /* @__PURE__ */ jsx(React.Fragment, null, \"Please keep your posts respectful and abide by the\", \" \", /* @__PURE__ */ jsx(Link, {\n    href: \"/community-standards\",\n    priority: \"primary\",\n    subdued: true,\n    rel: \"nofollow\"\n  }, /* @__PURE__ */ jsx(\"span\", {\n    css: textStyling\n  }, \"community guidelines\")), ` -`, \" and if you spot a comment you think doesn\\u2019t adhere to the guidelines, please use the \\u2018Report\\u2019 link next to it to let us know.\")), /* @__PURE__ */ jsx(Text, null, \"Please preview your comment below and click \\u2018post\\u2019 when you\\u2019re happy with it.\"), /* @__PURE__ */ jsx(\"div\", {\n    css: [previewStyle$2, textStyling, process.env.NODE_ENV === \"production\" ? \"\" : \";label:FirstCommentWelcome;\"],\n    dangerouslySetInnerHTML: {\n      __html: previewBody || \"\"\n    }\n  }), /* @__PURE__ */ jsx(Row, null, /* @__PURE__ */ jsx(PillarButton, {\n    pillar,\n    onClick: () => submitForm(userName),\n    linkName: \"post comment\",\n    size: \"small\"\n  }, \"Post your comment\"), /* @__PURE__ */ jsx(\"div\", {\n    css: /* @__PURE__ */ css(\"width:\", space[3], \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:FirstCommentWelcome;\"))\n  }), /* @__PURE__ */ jsx(PillarButton, {\n    pillar,\n    priority: \"subdued\",\n    onClick: cancelSubmit,\n    linkName: \"cancel-post-comment\",\n    size: \"small\"\n  }, \"Cancel\"))));\n};\nconst previewStyle$1 = /* @__PURE__ */ css(textSans.small(), \" padding:\", space[2], \"px \", space[4], \"px;background-color:\", neutral[93], \";border-radius:5px;margin-top:0;margin-bottom:\", 20, \"px;word-break:break-word;blockquote{margin-top:\", space[3], \"px;margin-bottom:\", space[3], \"px;margin-left:\", space[5], \"px;margin-right:\", space[5], \"px;padding-left:\", space[2], \"px;color:\", neutral[46], \";}i{font-style:italic;}b{font-weight:bold;}code{font-family:monospace;font-size:1em;}p{margin-top:0;margin-bottom:\", space[3], \"px;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:previewStyle;\"));\nconst spout = /* @__PURE__ */ css(\"display:block;left:0;width:0;height:0;border-right:1rem solid transparent;border-bottom:1rem solid \", neutral[93], \";margin-left:12.5rem;border-right-style:inset;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:spout;\"));\nconst Preview$1 = ({\n  previewHtml\n}) => /* @__PURE__ */ jsx(React.Fragment, null, /* @__PURE__ */ jsx(\"div\", {\n  css: spout\n}), /* @__PURE__ */ jsx(\"div\", {\n  css: previewStyle$1,\n  dangerouslySetInnerHTML: {\n    __html: previewHtml || \"\"\n  }\n}));\nfunction _EMOTION_STRINGIFIED_CSS_ERROR__$a() {\n  return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\";\n}\nconst boldString = (text2) => `<b>${text2}</b>`;\nconst italicsString = (text2) => `<i>${text2}</i>`;\nconst strikethroughString = (text2) => `<del>${text2}</del>`;\nconst codeString = (text2) => `<code>${text2}</code>`;\nconst quoteString = (text2) => `<blockquote>${text2}</blockquote>`;\nconst linkStringFunc = (url, highlightedText) => `<a href=\"${url}\" rel=\"nofollow\">${highlightedText ? highlightedText : url}</a>`;\nconst formWrapper$1 = /* @__PURE__ */ css(\"display:flex;flex-wrap:wrap;margin-bottom:\", space[5], \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:formWrapper;\"));\nconst commentTextArea = /* @__PURE__ */ css(\"width:100%;margin-bottom:\", space[3], \"px;padding:8px 10px 10px 8px;\", textSans.small(), \";border-color:\", neutral[86], \";:focus{border-color:\", neutral[46], \";outline:none;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:commentTextArea;\"));\nconst greyPlaceholder = /* @__PURE__ */ css(\"::placeholder{color:\", neutral[46], \";}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:greyPlaceholder;\"));\nconst blackPlaceholder = /* @__PURE__ */ css(\"::placeholder{font-weight:bold;opacity:1;color:\", neutral[0], \";}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:blackPlaceholder;\"));\nconst headerTextStyles = /* @__PURE__ */ css(\"margin:0;\", textSans.xxsmall(), \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:headerTextStyles;\"));\nconst errorTextStyles = /* @__PURE__ */ css(\"margin:0;\", textSans.xxsmall(), \";color:\", text.error, \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:errorTextStyles;\"));\nconst infoTextStyles = /* @__PURE__ */ css(\"margin:0;\", textSans.xxsmall(), \";color:\", text.supporting, \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:infoTextStyles;\"));\nconst msgContainerStyles = process.env.NODE_ENV === \"production\" ? {\n  name: \"hkh81z\",\n  styles: \"margin-top:8px\"\n} : {\n  name: \"zc5kny-msgContainerStyles\",\n  styles: \"margin-top:8px;label:msgContainerStyles;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$a\n};\nconst linkStyles$3 = /* @__PURE__ */ css(\"a{color:\", text.anchorPrimary, \";text-decoration:none;:hover,:focus{text-decoration:underline;}}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:linkStyles;\"));\nconst wrapperHeaderTextStyles = /* @__PURE__ */ css(\"background-color:\", neutral[97], \";padding:8px 10px 10px 8px;width:100%;margin-top:8px;margin-bottom:2px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:wrapperHeaderTextStyles;\"));\nconst commentAddOns = /* @__PURE__ */ css(\"height:22px;font-size:13px;line-height:17px;border:1px solid \", neutral[100], \";color:\", neutral[46], \";text-align:center;cursor:pointer;margin-left:4px;padding:2px 5px 0px 5px;min-width:11px;line-height:17px;list-style-type:none;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:commentAddOns;\"));\nconst bottomContainer = process.env.NODE_ENV === \"production\" ? {\n  name: \"1xnavr4\",\n  styles: \"width:100%;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between;align-items:stretch;align-content:space-between\"\n} : {\n  name: \"6np8dj-bottomContainer\",\n  styles: \"width:100%;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between;align-items:stretch;align-content:space-between;label:bottomContainer;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$a\n};\nconst Space$2 = ({\n  amount\n}) => /* @__PURE__ */ jsx(\"div\", {\n  css: /* @__PURE__ */ css(\"width:\", space[amount], \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:Space;\"))\n});\nconst CommentForm = ({\n  shortUrl,\n  pillar,\n  onAddComment,\n  user,\n  setCommentBeingRepliedTo,\n  commentBeingRepliedTo,\n  onComment,\n  onReply,\n  onPreview\n}) => {\n  const [isActive, setIsActive] = useState(commentBeingRepliedTo ? true : false);\n  const [userNameMissing, setUserNameMissing] = useState(false);\n  const [body, setBody] = useState(\"\");\n  const [previewBody, setPreviewBody] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [info, setInfo] = useState(\"\");\n  const [showPreview, setShowPreview] = useState(false);\n  const textAreaRef = useRef(null);\n  useEffect(() => {\n    var _a, _b;\n    if (commentBeingRepliedTo) {\n      (_a = document.getElementById(`comment-${commentBeingRepliedTo.id}`)) == null ? void 0 : _a.scrollIntoView();\n      (_b = document.querySelector(`#comment-reply-form-${commentBeingRepliedTo.id} textarea`)) == null ? void 0 : _b.focus();\n    }\n  }, [commentBeingRepliedTo]);\n  const getHighlightedString = () => {\n    if (!textAreaRef || !textAreaRef.current)\n      return;\n    const selectionStart = textAreaRef.current.selectionStart;\n    const selectionEnd = textAreaRef.current.selectionEnd;\n    const value = textAreaRef.current.value;\n    const startString = value.substring(0, selectionStart);\n    const highlightedString = value.substring(selectionStart, selectionEnd);\n    const endString = value.substring(selectionEnd, value.length);\n    return {\n      startString,\n      highlightedString,\n      endString\n    };\n  };\n  const transformText = (transfromFunc) => {\n    const textAreaStrings = getHighlightedString();\n    if (!textAreaStrings)\n      return;\n    const {\n      startString,\n      highlightedString,\n      endString\n    } = textAreaStrings;\n    setBody(startString.concat(transfromFunc(highlightedString), endString));\n  };\n  const transformLink = () => {\n    const url = prompt(\"Your URL:\", \"http://www.\");\n    if (url === null)\n      return;\n    const textAreaStrings = getHighlightedString();\n    if (!textAreaStrings)\n      return;\n    const {\n      startString,\n      highlightedString,\n      endString\n    } = textAreaStrings;\n    setBody(startString.concat(linkStringFunc(url, highlightedString), endString));\n  };\n  const fetchShowPreview = async () => {\n    if (!body)\n      return;\n    try {\n      const preview$1 = onPreview || preview;\n      const response = await preview$1(body);\n      setPreviewBody(response);\n      setShowPreview(true);\n    } catch (e) {\n      setError(\"Preview request failed, please try again\");\n      setPreviewBody(\"\");\n      setShowPreview(false);\n    }\n  };\n  const resetForm = () => {\n    setError(\"\");\n    setInfo(\"\");\n    setBody(\"\");\n    setShowPreview(false);\n    setIsActive(false);\n    setCommentBeingRepliedTo && setCommentBeingRepliedTo();\n  };\n  const submitForm = async () => {\n    setError(\"\");\n    setInfo(\"\");\n    if (body) {\n      const comment$1 = onComment || comment;\n      const reply$1 = onReply || reply;\n      const response = commentBeingRepliedTo ? await reply$1(shortUrl, body, commentBeingRepliedTo.id) : await comment$1(shortUrl, body);\n      if (response.errorCode === \"USERNAME_MISSING\") {\n        setUserNameMissing(true);\n      } else if (response.errorCode === \"EMPTY_COMMENT_BODY\") {\n        setError(\"Please write a comment.\");\n      } else if (response.errorCode === \"COMMENT_TOO_LONG\") {\n        setError(\"Your comment must be fewer than 5000 characters long.\");\n      } else if (response.errorCode === \"USER_BANNED\") {\n        setError('Commenting has been disabled for this account (<a href=\"/community-faqs#321a\">why?</a>).');\n      } else if (response.errorCode === \"IP_THROTTLED\") {\n        setError('Commenting has been temporarily blocked for this IP address (<a href=\"/community-faqs\">why?</a>).');\n      } else if (response.errorCode === \"DISCUSSION_CLOSED\") {\n        setError(\"Sorry your comment can not be published as the discussion is now closed for comments.\");\n      } else if (response.errorCode === \"PARENT_COMMENT_MODERATED\") {\n        setError(\"Sorry the comment can not be published as the comment you replied to has been moderated since.\");\n      } else if (response.errorCode === \"COMMENT_RATE_LIMIT_EXCEEDED\") {\n        setError(\"You can only post one comment every minute. Please try again in a moment.\");\n      } else if (response.errorCode === \"INVALID_PROTOCOL\") {\n        setError(`Sorry your comment can not be published as it was not sent over\n                  a secure channel. Please report us this issue using the technical issue link\n                  in the page footer.`);\n      } else if (response.errorCode === \"AUTH_COOKIE_INVALID\") {\n        setError(\"Sorry, your comment was not published as you are no longer signed in. Please sign in and try again.\");\n      } else if (response.errorCode === \"READ-ONLY-MODE\") {\n        setError(`Sorry your comment can not currently be published as\n                  commenting is undergoing maintenance but will be back shortly. Please try\n                  again in a moment.`);\n      } else if (response.errorCode === \"API_CORS_BLOCKED\") {\n        setError(`Could not post due to your internet settings, which might be\n                 controlled by your provider. Please contact your administrator\n                 or disable any proxy servers or VPNs and try again.`);\n      } else if (response.errorCode === \"API_ERROR\") {\n        setError(`Sorry, there was a problem posting your comment. Please try\n                  another browser or network connection.  Reference code `);\n      } else if (response.errorCode === \"EMAIL_VERIFIED\") {\n        setInfo(\"Sent. Please check your email to verify your email address. Once verified post your comment.\");\n      } else if (response.errorCode === \"EMAIL_VERIFIED_FAIL\") {\n        setError(`We are having technical difficulties. Please try again later or\n            <a href=\"#\">\n            <strong>resend the verification</strong></a>.`);\n      } else if (response.errorCode === \"EMAIL_NOT_VALIDATED\") {\n        setError(`Please confirm your email address to comment.<br />\n            If you can't find the email, we can\n            <a href=\"#\">\n            <strong>resend the verification email</strong></a> to your email\n            address.`);\n      } else if (response.status === \"ok\") {\n        onAddComment(simulateNewComment(\n          parseInt(response.message),\n          body,\n          user,\n          commentBeingRepliedTo\n        ));\n        resetForm();\n      } else {\n        setError(\"Sorry, there was a problem posting your comment.\");\n      }\n    }\n  };\n  const submitUserName = async (userName) => {\n    var _a, _b;\n    setError(\"\");\n    if (!userName) {\n      setError(\"Username field cannot be empty\");\n      return;\n    }\n    const response = await addUserName(userName);\n    if (response.status === \"ok\") {\n      submitForm();\n      setUserNameMissing(false);\n    } else {\n      response.errors && setError((_b = (_a = response.errors[0]) == null ? void 0 : _a.message) != null ? _b : \"unknown error\");\n    }\n  };\n  if (userNameMissing && body) {\n    return /* @__PURE__ */ jsx(FirstCommentWelcome, {\n      pillar,\n      body,\n      error,\n      submitForm: submitUserName,\n      cancelSubmit: () => setUserNameMissing(false),\n      onPreview\n    });\n  }\n  return /* @__PURE__ */ jsx(React.Fragment, null, /* @__PURE__ */ jsx(\"form\", {\n    css: formWrapper$1,\n    onSubmit: (e) => {\n      e.preventDefault();\n      submitForm();\n    }\n  }, error && /* @__PURE__ */ jsx(\"div\", {\n    css: msgContainerStyles\n  }, /* @__PURE__ */ jsx(\"p\", {\n    css: [errorTextStyles, linkStyles$3, process.env.NODE_ENV === \"production\" ? \"\" : \";label:CommentForm;\"],\n    dangerouslySetInnerHTML: {\n      __html: error\n    }\n  })), info && /* @__PURE__ */ jsx(\"div\", {\n    css: msgContainerStyles\n  }, /* @__PURE__ */ jsx(\"p\", {\n    css: [infoTextStyles, linkStyles$3, process.env.NODE_ENV === \"production\" ? \"\" : \";label:CommentForm;\"]\n  }, info)), isActive && /* @__PURE__ */ jsx(\"div\", {\n    css: wrapperHeaderTextStyles\n  }, /* @__PURE__ */ jsx(\"p\", {\n    css: [headerTextStyles, linkStyles$3, process.env.NODE_ENV === \"production\" ? \"\" : \";label:CommentForm;\"]\n  }, \"Please keep comments respectful and abide by the\", \" \", /* @__PURE__ */ jsx(\"a\", {\n    href: \"/community-standards\"\n  }, \"community guidelines\"), \".\"), user.privateFields && user.privateFields.isPremoderated && /* @__PURE__ */ jsx(\"p\", {\n    css: [errorTextStyles, linkStyles$3, process.env.NODE_ENV === \"production\" ? \"\" : \";label:CommentForm;\"]\n  }, \"Your comments are currently being pre-moderated (\", /* @__PURE__ */ jsx(\"a\", {\n    href: \"/community-faqs#311\",\n    target: \"_blank\",\n    rel: \"nofollow\"\n  }, \"why?\"), \")\")), /* @__PURE__ */ jsx(\"textarea\", {\n    \"data-testid\": \"comment-input\",\n    placeholder: commentBeingRepliedTo || !isActive ? \"Join the discussion\" : \"\",\n    css: [commentTextArea, commentBeingRepliedTo && isActive && greyPlaceholder, !commentBeingRepliedTo && !isActive && blackPlaceholder, process.env.NODE_ENV === \"production\" ? \"\" : \";label:CommentForm;\"],\n    ref: textAreaRef,\n    style: {\n      height: isActive ? \"132px\" : \"50px\"\n    },\n    onChange: (e) => {\n      setBody(e.target.value || \"\");\n    },\n    value: body,\n    onFocus: () => setIsActive(true)\n  }), /* @__PURE__ */ jsx(\"div\", {\n    css: bottomContainer\n  }, /* @__PURE__ */ jsx(Row, null, /* @__PURE__ */ jsx(React.Fragment, null, /* @__PURE__ */ jsx(PillarButton, {\n    pillar,\n    type: \"submit\",\n    linkName: \"post comment\",\n    size: \"small\"\n  }, \"Post your comment\"), (isActive || body) && /* @__PURE__ */ jsx(React.Fragment, null, /* @__PURE__ */ jsx(Space$2, {\n    amount: 3\n  }), /* @__PURE__ */ jsx(PillarButton, {\n    pillar,\n    onClick: fetchShowPreview,\n    priority: \"secondary\",\n    linkName: \"preview-comment\",\n    size: \"small\"\n  }, \"Preview\"), /* @__PURE__ */ jsx(Space$2, {\n    amount: 3\n  }), /* @__PURE__ */ jsx(PillarButton, {\n    pillar,\n    onClick: resetForm,\n    priority: \"subdued\",\n    linkName: \"cancel-post-comment\",\n    size: \"small\"\n  }, \"Cancel\")))), isActive && /* @__PURE__ */ jsx(Row, null, /* @__PURE__ */ jsx(\"button\", {\n    onClick: (e) => {\n      e.preventDefault();\n      transformText(boldString);\n    },\n    css: commentAddOns,\n    \"data-link-name\": \"formatting-controls-bold\"\n  }, \"B\"), /* @__PURE__ */ jsx(\"button\", {\n    onClick: (e) => {\n      e.preventDefault();\n      transformText(italicsString);\n    },\n    css: commentAddOns,\n    \"data-link-name\": \"formatting-controls-italic\"\n  }, \"i\"), /* @__PURE__ */ jsx(\"button\", {\n    onClick: (e) => {\n      e.preventDefault();\n      transformText(strikethroughString);\n    },\n    css: commentAddOns,\n    \"data-link-name\": \"formatting-controls-strikethrough\"\n  }, `S\\u0336`), /* @__PURE__ */ jsx(\"button\", {\n    onClick: (e) => {\n      e.preventDefault();\n      transformText(codeString);\n    },\n    css: commentAddOns,\n    \"data-link-name\": \"formatting-controls-code\"\n  }, `<>`), /* @__PURE__ */ jsx(\"button\", {\n    onClick: (e) => {\n      e.preventDefault();\n      transformText(quoteString);\n    },\n    css: commentAddOns,\n    \"data-link-name\": \"formatting-controls-quote\"\n  }, '\"'), /* @__PURE__ */ jsx(\"button\", {\n    onClick: (e) => {\n      e.preventDefault();\n      transformLink();\n    },\n    css: commentAddOns,\n    \"data-link-name\": \"formatting-controls-link\"\n  }, \"Link\")))), showPreview && /* @__PURE__ */ jsx(Preview$1, {\n    previewHtml: previewBody\n  }));\n};\nfunction _EMOTION_STRINGIFIED_CSS_ERROR__$9() {\n  return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\";\n}\nconst staffBadge = process.env.NODE_ENV === \"production\" ? {\n  name: \"fhxb3m\",\n  styles: \"display:flex;flex-direction:row;align-items:center\"\n} : {\n  name: \"1ef6nbe-staffBadge\",\n  styles: \"display:flex;flex-direction:row;align-items:center;label:staffBadge;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$9\n};\nconst iconStyles = process.env.NODE_ENV === \"production\" ? {\n  name: \"1g57i33\",\n  styles: \"display:inline-block;width:15px;height:15px\"\n} : {\n  name: \"tmspie-iconStyles\",\n  styles: \"display:inline-block;width:15px;height:15px;label:iconStyles;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$9\n};\nconst labelText = /* @__PURE__ */ css(\"display:inline-block;line-height:15px;margin:0 0 0 \", space[1], \"px;\", textSans.xxsmall({\n  fontWeight: \"bold\"\n}), \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:labelText;\"));\nconst staffIcon = /* @__PURE__ */ css(\"fill:\", brand[400], \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:staffIcon;\"));\nconst staffLabel = /* @__PURE__ */ css(\"color:\", brand[400], \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:staffLabel;\"));\nconst guardianPickLabel = /* @__PURE__ */ css(\"color:\", neutral[7], \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:guardianPickLabel;\"));\nconst GuardianStaff = () => /* @__PURE__ */ jsx(\"div\", {\n  css: staffBadge\n}, /* @__PURE__ */ jsx(\"svg\", {\n  width: \"36\",\n  height: \"36\",\n  viewBox: \"0 0 36 36\",\n  css: [iconStyles, staffIcon, process.env.NODE_ENV === \"production\" ? \"\" : \";label:GuardianStaff;\"]\n}, /* @__PURE__ */ jsx(\"path\", {\n  d: \"M18 0a18 18 0 1 0 0 36 18 18 0 0 0 0-36\"\n}), /* @__PURE__ */ jsx(\"path\", {\n  fill: neutral[100],\n  d: \"M21.2 4.4c2.3.4 5.3 2 6.3 3.1v5.2H27L21.2 5v-.6zm-2.2.4c-4 0-6.3 5.6-6.3 13.2 0 7.7 2.2 13.3 6.3 13.3v.6c-6 .4-14.4-4.2-14-13.8A13.3 13.3 0 0 1 19 4v.7zm10.4 14.4l-1.9.9v8.6c-1 1-3.8 2.6-6.3 3.1V19.9l-2.2-.7v-.6h10.4v.6z\"\n})), /* @__PURE__ */ jsx(\"p\", {\n  css: [labelText, staffLabel, process.env.NODE_ENV === \"production\" ? \"\" : \";label:GuardianStaff;\"]\n}, \"Staff\"));\nconst GuardianContributor = () => /* @__PURE__ */ jsx(\"div\", {\n  css: staffBadge\n}, /* @__PURE__ */ jsx(\"svg\", {\n  width: \"36\",\n  height: \"36\",\n  viewBox: \"0 0 36 36\",\n  css: [iconStyles, staffIcon, process.env.NODE_ENV === \"production\" ? \"\" : \";label:GuardianContributor;\"]\n}, /* @__PURE__ */ jsx(\"path\", {\n  d: \"M18 0a18 18 0 1 0 0 36 18 18 0 0 0 0-36\"\n}), /* @__PURE__ */ jsx(\"path\", {\n  fill: neutral[100],\n  d: \"M21.2 4.4c2.3.4 5.3 2 6.3 3.1v5.2H27L21.2 5v-.6zm-2.2.4c-4 0-6.3 5.6-6.3 13.2 0 7.7 2.2 13.3 6.3 13.3v.6c-6 .4-14.4-4.2-14-13.8A13.3 13.3 0 0 1 19 4v.7zm10.4 14.4l-1.9.9v8.6c-1 1-3.8 2.6-6.3 3.1V19.9l-2.2-.7v-.6h10.4v.6z\"\n})), /* @__PURE__ */ jsx(\"p\", {\n  css: [labelText, staffLabel, process.env.NODE_ENV === \"production\" ? \"\" : \";label:GuardianContributor;\"]\n}, \"Contributor\"));\nconst GuardianPick = () => /* @__PURE__ */ jsx(\"div\", {\n  css: staffBadge\n}, /* @__PURE__ */ jsx(\"svg\", {\n  width: \"36\",\n  height: \"36\",\n  viewBox: \"0 0 36 36\",\n  css: iconStyles\n}, /* @__PURE__ */ jsx(\"path\", {\n  d: \"M18 0a18 18 0 1 0 0 36 18 18 0 0 0 0-36\"\n}), /* @__PURE__ */ jsx(\"path\", {\n  fill: neutral[100],\n  d: \"M21.2 4.4c2.3.4 5.3 2 6.3 3.1v5.2H27L21.2 5v-.6zm-2.2.4c-4 0-6.3 5.6-6.3 13.2 0 7.7 2.2 13.3 6.3 13.3v.6c-6 .4-14.4-4.2-14-13.8A13.3 13.3 0 0 1 19 4v.7zm10.4 14.4l-1.9.9v8.6c-1 1-3.8 2.6-6.3 3.1V19.9l-2.2-.7v-.6h10.4v.6z\"\n})), /* @__PURE__ */ jsx(\"p\", {\n  css: [labelText, guardianPickLabel, process.env.NODE_ENV === \"production\" ? \"\" : \";label:GuardianPick;\"]\n}, \"Guardian Pick\"));\nconst countStyles = /* @__PURE__ */ css(textSans.xxsmall({\n  fontWeight: \"light\"\n}), \" min-width:0.75rem;color:\", neutral[46], \";margin-right:0.3125rem;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:countStyles;\"));\nconst buttonStyles$1 = (recommended, isSignedIn) => /* @__PURE__ */ css(\"cursor:\", recommended || !isSignedIn ? \"default\" : \"pointer\", \";width:1.1875rem;height:1.1875rem;background-color:\", recommended ? brand[400] : neutral[97], \";border-radius:62.5rem;border:none;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:buttonStyles;\"));\nconst arrowStyles = (recommended) => /* @__PURE__ */ css(\"display:flex;flex-direction:column;align-items:center;svg{fill:\", recommended ? neutral[100] : neutral[46], \";height:15px;width:15px;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:arrowStyles;\"));\nconst RecommendationCount = ({\n  commentId,\n  initialCount,\n  alreadyRecommended,\n  isSignedIn,\n  userMadeComment,\n  onRecommend\n}) => {\n  const [count, setCount] = useState(initialCount);\n  const [recommended, setRecommended] = useState(alreadyRecommended);\n  const tryToRecommend = () => {\n    const newCount = count + 1;\n    setCount(newCount);\n    setRecommended(true);\n    const recommend$1 = onRecommend || recommend;\n    recommend$1(commentId).then((accepted) => {\n      if (!accepted) {\n        setCount(newCount - 1);\n        setRecommended(alreadyRecommended);\n      }\n    });\n  };\n  return /* @__PURE__ */ jsx(Row, null, /* @__PURE__ */ jsx(\"div\", {\n    css: countStyles\n  }, count), /* @__PURE__ */ jsx(\"button\", {\n    css: buttonStyles$1(recommended, isSignedIn),\n    onClick: () => tryToRecommend(),\n    disabled: recommended || !isSignedIn || userMadeComment,\n    \"data-link-name\": \"Recommend comment\",\n    \"aria-label\": \"Recommend comment\"\n  }, /* @__PURE__ */ jsx(\"div\", {\n    css: arrowStyles(recommended)\n  }, /* @__PURE__ */ jsx(SvgArrowUpStraight, null))));\n};\nfunction _EMOTION_STRINGIFIED_CSS_ERROR__$8() {\n  return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\";\n}\nconst formWrapper = /* @__PURE__ */ css(\"z-index:1;border:1px solid \", neutral[86], \";position:absolute;width:300px;top:0;right:0;display:flex;flex-direction:column;padding:\", space[3], \"px;background-color:white;\", textSans.xxsmall(), \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:formWrapper;\"));\nconst labelStyles$1 = (pillar) => /* @__PURE__ */ css(\"color:\", palette[pillarToString(pillar)][400], \";\", textSans.small({\n  fontWeight: \"bold\"\n}), \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:labelStyles;\"));\nconst inputWrapper = /* @__PURE__ */ css(\"display:flex;flex-direction:column;margin-bottom:\", space[2], \"px;label{display:block;}select,input,textarea{min-height:\", space[5], \"px;width:75%;border:1px solid \", neutral[86], \";}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:inputWrapper;\"));\nconst errorMessageStyles = process.env.NODE_ENV === \"production\" ? {\n  name: \"hwfcu5\",\n  styles: \"color:red\"\n} : {\n  name: \"qpo29n-errorMessageStyles\",\n  styles: \"color:red;label:errorMessageStyles;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$8\n};\nvar _ref$2 = process.env.NODE_ENV === \"production\" ? {\n  name: \"114fqm7\",\n  styles: \"color:green;margin-left:1em\"\n} : {\n  name: \"ayasr-AbuseReportForm\",\n  styles: \"color:green;margin-left:1em;label:AbuseReportForm;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$8\n};\nvar _ref2$1 = process.env.NODE_ENV === \"production\" ? {\n  name: \"1mwkkc\",\n  styles: \"margin-left:1em\"\n} : {\n  name: \"1x2snws-AbuseReportForm\",\n  styles: \"margin-left:1em;label:AbuseReportForm;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$8\n};\nconst AbuseReportForm = ({\n  commentId,\n  toggleSetShowForm,\n  pillar\n}) => {\n  const modalRef = useRef(null);\n  let firstElement = null;\n  let lastElement = null;\n  useEffect(() => {\n    if (!modalRef.current)\n      return;\n    firstElement = modalRef.current.querySelector('select[name=\"category\"]');\n    lastElement = modalRef.current.querySelector('button[custom-guardian=\"close-modal\"]');\n  }, [modalRef]);\n  useEffect(() => {\n    firstElement && firstElement.focus();\n  }, [firstElement]);\n  useEffect(() => {\n    const closeOnClickAway = (e) => {\n      if (modalRef.current && !modalRef.current.contains(e.target)) {\n        toggleSetShowForm();\n      }\n    };\n    document.addEventListener(\"mousedown\", closeOnClickAway);\n  }, [modalRef, toggleSetShowForm]);\n  useEffect(() => {\n    const keyListener = (e) => {\n      if (e.keyCode === 27) {\n        toggleSetShowForm();\n      } else if (e.keyCode === 9) {\n        if (!firstElement || !lastElement)\n          return;\n        if (!e.shiftKey && document.activeElement === lastElement) {\n          firstElement && firstElement.focus();\n          e.preventDefault();\n        }\n        if (e.shiftKey && document.activeElement === firstElement) {\n          lastElement && lastElement.focus();\n          e.preventDefault();\n        }\n      }\n    };\n    document.addEventListener(\"keydown\", keyListener);\n    return () => document.removeEventListener(\"keydown\", keyListener);\n  });\n  const [formVariables, setFormVariables] = useState({\n    categoryId: 0,\n    reason: \"\",\n    email: \"\"\n  });\n  const defaultErrorTexts = {\n    categoryId: \"\",\n    reason: \"\",\n    email: \"\",\n    response: \"\"\n  };\n  const [errors, setErrors] = useState(defaultErrorTexts);\n  const [successMessage, setSuccessMessage] = useState();\n  const onSubmit = async (event) => {\n    event.preventDefault();\n    const {\n      categoryId,\n      reason,\n      email\n    } = formVariables;\n    setErrors(defaultErrorTexts);\n    if (!categoryId) {\n      setErrors({\n        ...errors,\n        categoryId: \"You must select a category before submitting\"\n      });\n      return;\n    }\n    const response = await reportAbuse({\n      categoryId,\n      reason,\n      email,\n      commentId\n    });\n    if (response.status !== \"ok\") {\n      setErrors({\n        ...errors,\n        response: response.message\n      });\n    } else {\n      setSuccessMessage(\"Report submitted\");\n    }\n  };\n  const labelStylesClass = labelStyles$1(pillar);\n  return /* @__PURE__ */ jsx(\"div\", {\n    \"aria-modal\": \"true\",\n    ref: modalRef\n  }, /* @__PURE__ */ jsx(\"form\", {\n    css: formWrapper,\n    onSubmit\n  }, /* @__PURE__ */ jsx(\"div\", {\n    css: inputWrapper\n  }, /* @__PURE__ */ jsx(\"label\", {\n    css: labelStylesClass,\n    htmlFor: \"category\"\n  }, \"Category\"), /* @__PURE__ */ jsx(\"select\", {\n    name: \"category\",\n    id: \"category\",\n    onChange: (e) => setFormVariables({\n      ...formVariables,\n      categoryId: Number(e.target.value)\n    }),\n    value: formVariables.categoryId\n  }, /* @__PURE__ */ jsx(\"option\", {\n    value: \"0\"\n  }, \"Please select\"), /* @__PURE__ */ jsx(\"option\", {\n    value: \"1\"\n  }, \"Personal abuse\"), /* @__PURE__ */ jsx(\"option\", {\n    value: \"2\"\n  }, \"Off topic\"), /* @__PURE__ */ jsx(\"option\", {\n    value: \"3\"\n  }, \"Legal issue\"), /* @__PURE__ */ jsx(\"option\", {\n    value: \"4\"\n  }, \"Trolling\"), /* @__PURE__ */ jsx(\"option\", {\n    value: \"5\"\n  }, \"Hate speech\"), /* @__PURE__ */ jsx(\"option\", {\n    value: \"6\"\n  }, \"Offensive/Threatening language\"), /* @__PURE__ */ jsx(\"option\", {\n    value: \"7\"\n  }, \"Copyright\"), /* @__PURE__ */ jsx(\"option\", {\n    value: \"8\"\n  }, \"Spam\"), /* @__PURE__ */ jsx(\"option\", {\n    value: \"9\"\n  }, \"Other\")), errors.categoryId && /* @__PURE__ */ jsx(\"span\", {\n    css: errorMessageStyles\n  }, errors.categoryId)), /* @__PURE__ */ jsx(\"div\", {\n    css: inputWrapper\n  }, /* @__PURE__ */ jsx(\"label\", {\n    css: labelStylesClass,\n    htmlFor: \"reason\"\n  }, \"Reason (optional)\"), /* @__PURE__ */ jsx(\"textarea\", {\n    name: \"reason\",\n    id: \"reason\",\n    onChange: (e) => setFormVariables({\n      ...formVariables,\n      reason: e.target.value\n    }),\n    value: formVariables.reason\n  }), errors.reason && /* @__PURE__ */ jsx(\"span\", {\n    css: errorMessageStyles\n  }, errors.reason)), /* @__PURE__ */ jsx(\"div\", {\n    css: inputWrapper\n  }, /* @__PURE__ */ jsx(\"label\", {\n    css: labelStylesClass,\n    htmlFor: \"email\"\n  }, \"Email (optional)\"), /* @__PURE__ */ jsx(\"input\", {\n    type: \"email\",\n    name: \"email\",\n    id: \"email\",\n    onChange: (e) => setFormVariables({\n      ...formVariables,\n      email: e.target.value\n    }),\n    value: formVariables.email\n  }), errors.email && /* @__PURE__ */ jsx(\"span\", {\n    css: errorMessageStyles\n  }, errors.email)), /* @__PURE__ */ jsx(\"div\", null, /* @__PURE__ */ jsx(Button, {\n    type: \"submit\",\n    size: \"small\",\n    \"data-link-name\": \"Post report abuse\"\n  }, \"Report\"), errors.response && /* @__PURE__ */ jsx(\"span\", {\n    css: [errorMessageStyles, _ref2$1, process.env.NODE_ENV === \"production\" ? \"\" : \";label:AbuseReportForm;\"]\n  }, errors.response), successMessage && /* @__PURE__ */ jsx(\"span\", {\n    css: _ref$2\n  }, successMessage)), /* @__PURE__ */ jsx(\"div\", {\n    css: /* @__PURE__ */ css(\"position:absolute;right:\", space[3], \"px;top:\", space[3], \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:AbuseReportForm;\"))\n  }, /* @__PURE__ */ jsx(Button, {\n    \"custom-guardian\": \"close-modal\",\n    size: \"small\",\n    iconSide: \"right\",\n    icon: /* @__PURE__ */ jsx(SvgCross, null),\n    onClick: toggleSetShowForm,\n    \"data-link-name\": \"cancel-report-abuse\",\n    hideLabel: true\n  }, \"close report abuse modal\"))));\n};\nconst monthConverter = {\n  0: \"Jan\",\n  1: \"Feb\",\n  2: \"Mar\",\n  3: \"Apr\",\n  4: \"May\",\n  5: \"Jun\",\n  6: \"Jul\",\n  7: \"Aug\",\n  8: \"Sep\",\n  9: \"Oct\",\n  10: \"Nov\",\n  11: \"Dec\"\n};\nconst isLast24Hrs = (date) => {\n  const timeStamp = Math.round(new Date().getTime() / 1e3);\n  const timeStampYesterday = timeStamp - 24 * 3600;\n  return date.getTime() >= new Date(timeStampYesterday * 1e3).getTime();\n};\nconst dateFormatter = (dateString) => {\n  const date = new Date(dateString);\n  if (isLast24Hrs(date)) {\n    return timeAgo(date.getTime(), {\n      verbose: true,\n      daysUntilAbsolute: 1\n    });\n  }\n  return `${date.getDate()} ${monthConverter[date.getMonth()]} ${date.getFullYear()} ${date.getHours()}.${String(date.getMinutes()).padStart(2, \"0\")}`;\n};\nconst useInterval = (callback, delay) => {\n  const savedCallback = useRef();\n  useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n  useEffect(() => {\n    function tick() {\n      const currentCallback = savedCallback.current;\n      currentCallback();\n    }\n    if (delay !== null) {\n      let id = setInterval(tick, delay);\n      return () => clearInterval(id);\n    } else\n      return;\n  }, [delay]);\n};\nconst linkStyles$2 = /* @__PURE__ */ css(\"color:\", neutral[46], \";text-decoration:none;:hover,:focus{text-decoration:underline;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:linkStyles;\"));\nconst timeStyles = /* @__PURE__ */ css(textSans.xxsmall({\n  fontWeight: \"light\"\n}), \" min-width:0.75rem;margin-right:0.3125rem;white-space:nowrap;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:timeStyles;\"));\nconst Timestamp = ({\n  isoDateTime,\n  webUrl,\n  commentId,\n  onPermalinkClick\n}) => {\n  const [timeAgo2, setTimeAgo] = useState(dateFormatter(isoDateTime));\n  useInterval(() => {\n    setTimeAgo(dateFormatter(isoDateTime));\n  }, 15e3);\n  return /* @__PURE__ */ jsx(\"a\", {\n    href: webUrl,\n    css: linkStyles$2,\n    \"data-link-name\": \"jump-to-comment-timestamp\",\n    onClick: (e) => {\n      onPermalinkClick(commentId);\n      e.preventDefault();\n    },\n    rel: \"nofollow\"\n  }, /* @__PURE__ */ jsx(\"time\", {\n    dateTime: isoDateTime.toString(),\n    css: timeStyles\n  }, timeAgo2));\n};\nconst imageStyles = (size) => /* @__PURE__ */ css(\"border-radius:\", size + 10, \"px;width:\", size, \"px;height:\", size, \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:imageStyles;\"));\nconst Avatar = ({\n  imageUrl = \"https://avatar.guim.co.uk/no-user-image.gif\",\n  displayName,\n  size\n}) => {\n  switch (size) {\n    case \"small\":\n      return /* @__PURE__ */ jsx(\"img\", {\n        src: imageUrl,\n        alt: displayName,\n        css: imageStyles(36)\n      });\n    case \"large\":\n      return /* @__PURE__ */ jsx(\"img\", {\n        src: imageUrl,\n        alt: displayName,\n        css: imageStyles(60)\n      });\n    case \"medium\":\n    default:\n      return /* @__PURE__ */ jsx(\"img\", {\n        src: imageUrl,\n        alt: displayName,\n        css: imageStyles(48)\n      });\n  }\n};\nfunction _EMOTION_STRINGIFIED_CSS_ERROR__$7() {\n  return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\";\n}\nvar _ref$1 = process.env.NODE_ENV === \"production\" ? {\n  name: \"1fttcpj\",\n  styles: \"display:flex;flex-direction:column\"\n} : {\n  name: \"16nl6wb-Column\",\n  styles: \"display:flex;flex-direction:column;label:Column;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$7\n};\nconst Column = ({\n  children\n}) => /* @__PURE__ */ jsx(\"div\", {\n  css: _ref$1\n}, children);\nconst createAuthenticationEventParams = (componentId) => {\n  const params = `componentType=identityauthentication&componentId=${componentId}`;\n  return `componentEventParams=${encodeURIComponent(params)}`;\n};\nfunction _EMOTION_STRINGIFIED_CSS_ERROR__$6() {\n  return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\";\n}\nconst commentControlsLink = (pillar) => /* @__PURE__ */ css(\"margin-top:-2px;a{\", textSans.small({\n  fontWeight: \"bold\"\n}), \" margin-right:\", space[2], \"px;color:\", palette[pillarToString(pillar)][400], \";:hover{text-decoration:none;text-decoration-color:none;span{color:\", palette[pillarToString(pillar)][400], \";text-decoration:underline;text-decoration-color:\", palette[pillarToString(pillar)][400], \";}}}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:commentControlsLink;\"));\nconst spaceBetween = process.env.NODE_ENV === \"production\" ? {\n  name: \"1eoy87d\",\n  styles: \"display:flex;justify-content:space-between\"\n} : {\n  name: \"tsx0rx-spaceBetween\",\n  styles: \"display:flex;justify-content:space-between;label:spaceBetween;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$6\n};\nconst commentCss = /* @__PURE__ */ css(\"display:block;clear:left;\", textSans.small(), \" margin-top:\", remSpace[2], \";margin-bottom:\", remSpace[3], \";word-break:break-word;p{margin-top:0;margin-bottom:\", space[3], \"px;}blockquote{margin-top:\", space[3], \"px;margin-bottom:\", space[3], \"px;margin-left:\", space[5], \"px;margin-right:\", space[5], \"px;padding-left:\", space[2], \"px;color:\", neutral[46], \";}i{font-style:italic;}b{font-weight:bold;}code{font-family:monospace;font-size:1em;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:commentCss;\"));\nconst blockedCommentStyles = /* @__PURE__ */ css(\"color:\", neutral[46], \";\", textSans.xxsmall(), \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:blockedCommentStyles;\"));\nconst commentLinkStyling = /* @__PURE__ */ css(\"a{color:\", brand[500], \";text-decoration:none;:hover{text-decoration:underline;}}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:commentLinkStyling;\"));\nconst commentWrapper = /* @__PURE__ */ css(\"border-top:1px solid \", border.secondary, \";display:flex;padding:\", space[2], \"px 0;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:commentWrapper;\"));\nconst selectedStyles$1 = /* @__PURE__ */ css(\"background-color:\", neutral[97], \";margin-left:-\", space[2], \"px;padding-left:\", space[2], \"px;margin-right:-\", space[2], \"px;padding-right:\", space[2], \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:selectedStyles;\"));\nconst avatarMargin$1 = /* @__PURE__ */ css(\"margin-right:\", space[2], \"px;\", until.mobileLandscape, \"{display:none;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:avatarMargin;\"));\nconst colourStyles = (pillar) => /* @__PURE__ */ css(\"a{color:\", palette[pillarToString(pillar)][400], \";text-decoration-color:\", palette[pillarToString(pillar)][400], \";:hover{color:\", palette[pillarToString(pillar)][400], \";text-decoration-color:\", palette[pillarToString(pillar)][400], \";}}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:colourStyles;\"));\nconst boldFont = /* @__PURE__ */ css(\"a{\", textSans.small({\n  fontWeight: \"bold\"\n}), \";}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:boldFont;\"));\nconst regularFont = /* @__PURE__ */ css(\"a{\", textSans.small(), \";}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:regularFont;\"));\nconst svgReplyArrow = /* @__PURE__ */ css(\"svg{fill:\", neutral[46], \"!important;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:svgReplyArrow;\"));\nconst commentDetails = process.env.NODE_ENV === \"production\" ? {\n  name: \"yr9n6z\",\n  styles: \"flex-grow:1;width:100%\"\n} : {\n  name: \"g1ds39-commentDetails\",\n  styles: \"flex-grow:1;width:100%;label:commentDetails;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$6\n};\nconst headerStyles = process.env.NODE_ENV === \"production\" ? {\n  name: \"4c6dm7\",\n  styles: \"display:flex;flex-direction:row;justify-content:space-between\"\n} : {\n  name: \"1y1oofc-headerStyles\",\n  styles: \"display:flex;flex-direction:row;justify-content:space-between;label:headerStyles;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$6\n};\nconst iconWrapper = process.env.NODE_ENV === \"production\" ? {\n  name: \"n6f5a6\",\n  styles: \"padding:2px;white-space:nowrap\"\n} : {\n  name: \"1hom060-iconWrapper\",\n  styles: \"padding:2px;white-space:nowrap;label:iconWrapper;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$6\n};\nconst timestampWrapperStyles = /* @__PURE__ */ css(\"margin-left:\", space[2], \"px;margin-bottom:-2px;display:flex;flex-direction:column;justify-content:center;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:timestampWrapperStyles;\"));\nconst hideBelowMobileLandscape = /* @__PURE__ */ css(until.mobileLandscape, \"{display:none;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:hideBelowMobileLandscape;\"));\nconst hideAboveMobileLandscape = /* @__PURE__ */ css(from.mobileLandscape, \"{display:none;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:hideAboveMobileLandscape;\"));\nconst negativeMargin = process.env.NODE_ENV === \"production\" ? {\n  name: \"w1bd1c\",\n  styles: \"margin-top:0px;margin-bottom:-6px\"\n} : {\n  name: \"cu5d3a-negativeMargin\",\n  styles: \"margin-top:0px;margin-bottom:-6px;label:negativeMargin;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$6\n};\nconst cssTextOverflowElip = process.env.NODE_ENV === \"production\" ? {\n  name: \"1h52dri\",\n  styles: \"overflow:hidden;text-overflow:ellipsis;white-space:nowrap\"\n} : {\n  name: \"1mber9s-cssTextOverflowElip\",\n  styles: \"overflow:hidden;text-overflow:ellipsis;white-space:nowrap;label:cssTextOverflowElip;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$6\n};\nconst cssReplyToWrapper = /* @__PURE__ */ css(until.mobileLandscape, \"{padding-right:10px;width:calc(100% - 35px);box-sizing:border-box;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:cssReplyToWrapper;\"));\nconst buttonLinkPillarBaseStyles$1 = (pillar) => /* @__PURE__ */ css(\"button{color:\", palette[pillarToString(pillar)][400], \";background-color:transparent;height:18px;min-height:18px;border-radius:0;:hover{text-decoration:underline;text-decoration-color:\", palette[pillarToString(pillar)][400], \";}}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:buttonLinkPillarBaseStyles;\"));\nconst buttonLinkBaseStyles$1 = /* @__PURE__ */ css(\"button{color:\", neutral[46], \";background-color:transparent;height:18px;min-height:18px;border-radius:0;:hover{text-decoration:underline;text-decoration-color:\", neutral[46], \";}}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:buttonLinkBaseStyles;\"));\nconst subdued = process.env.NODE_ENV === \"production\" ? {\n  name: \"g65o95\",\n  styles: \"text-decoration:none\"\n} : {\n  name: \"10ij9gz-subdued\",\n  styles: \"text-decoration:none;label:subdued;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$6\n};\nconst cssReplyAlphaDisplayName = /* @__PURE__ */ css(until.mobileLandscape, \"{\", cssTextOverflowElip, \" width:100%;max-width:fit-content;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:cssReplyAlphaDisplayName;\"));\nconst cssReplyBetaDisplayName = /* @__PURE__ */ css(until.mobileLandscape, \"{\", cssTextOverflowElip, \" min-width:40%;flex-grow:1;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:cssReplyBetaDisplayName;\"));\nconst Space$1 = ({\n  amount\n}) => /* @__PURE__ */ jsx(\"div\", {\n  css: /* @__PURE__ */ css(\"width:\", space[amount], \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:Space;\"))\n});\nvar _ref = process.env.NODE_ENV === \"production\" ? {\n  name: \"bjn8wh\",\n  styles: \"position:relative\"\n} : {\n  name: \"10qj0iv-Comment\",\n  styles: \"position:relative;label:Comment;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$6\n};\nvar _ref2 = process.env.NODE_ENV === \"production\" ? {\n  name: \"hwfcu5\",\n  styles: \"color:red\"\n} : {\n  name: \"105x05d-Comment\",\n  styles: \"color:red;label:Comment;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$6\n};\nconst Comment = ({\n  comment: comment2,\n  pillar,\n  isClosedForComments,\n  setCommentBeingRepliedTo,\n  user,\n  isReply,\n  wasScrolledTo,\n  isMuted,\n  toggleMuteStatus,\n  onPermalinkClick,\n  onRecommend\n}) => {\n  const [isHighlighted, setIsHighlighted] = useState(comment2.isHighlighted);\n  const [error, setError] = useState();\n  const [showAbuseReportForm, setAbuseReportForm] = useState(false);\n  const toggleSetShowForm = () => setAbuseReportForm(!showAbuseReportForm);\n  const pick = async () => {\n    setError(\"\");\n    const response = await pickComment(comment2.id);\n    if (response.status === \"error\") {\n      setError(response.message);\n    } else {\n      setIsHighlighted(true);\n    }\n  };\n  const unPick = async () => {\n    setError(\"\");\n    const response = await unPickComment(comment2.id);\n    if (response.status === \"error\") {\n      setError(response.message);\n    } else {\n      setIsHighlighted(false);\n    }\n  };\n  const showStaffBadge = comment2.userProfile.badge.find((obj) => obj[\"name\"] === \"Staff\");\n  const showPickBadge = comment2.status !== \"blocked\" && isHighlighted;\n  const showContributorBadge = comment2.userProfile.badge.find((obj) => obj[\"name\"] === \"Contributor\");\n  return /* @__PURE__ */ jsx(React.Fragment, null, error && /* @__PURE__ */ jsx(\"span\", {\n    css: _ref2\n  }, error), /* @__PURE__ */ jsx(\"div\", {\n    id: `comment-${comment2.id}`,\n    \"data-testid\": comment2.id,\n    css: [commentWrapper, wasScrolledTo && selectedStyles$1, process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\"]\n  }, /* @__PURE__ */ jsx(\"div\", {\n    css: avatarMargin$1\n  }, /* @__PURE__ */ jsx(Avatar, {\n    imageUrl: comment2.userProfile.avatar,\n    displayName: comment2.userProfile.displayName,\n    size: isReply ? \"small\" : \"medium\"\n  })), /* @__PURE__ */ jsx(\"div\", {\n    css: commentDetails\n  }, /* @__PURE__ */ jsx(\"header\", {\n    css: headerStyles\n  }, /* @__PURE__ */ jsx(\"div\", {\n    css: cssReplyToWrapper\n  }, /* @__PURE__ */ jsx(Column, null, /* @__PURE__ */ jsx(\"div\", {\n    css: [comment2.responseTo && hideBelowMobileLandscape, hideAboveMobileLandscape, process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\"]\n  }, /* @__PURE__ */ jsx(Row, null, /* @__PURE__ */ jsx(\"div\", {\n    css: /* @__PURE__ */ css(\"margin-right:\", space[2], \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\"))\n  }, /* @__PURE__ */ jsx(Avatar, {\n    imageUrl: comment2.userProfile.avatar,\n    displayName: \"\",\n    size: \"small\"\n  })), /* @__PURE__ */ jsx(Column, null, /* @__PURE__ */ jsx(\"div\", {\n    css: [colourStyles(pillar), boldFont, negativeMargin, process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\"]\n  }, /* @__PURE__ */ jsx(Link, {\n    href: comment2.userProfile.webUrl,\n    cssOverrides: subdued,\n    rel: \"nofollow\"\n  }, comment2.userProfile.displayName)), /* @__PURE__ */ jsx(Timestamp, {\n    isoDateTime: comment2.isoDateTime,\n    webUrl: comment2.webUrl,\n    commentId: comment2.id,\n    onPermalinkClick\n  })))), /* @__PURE__ */ jsx(\"div\", {\n    css: [!comment2.responseTo && hideBelowMobileLandscape, process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\"]\n  }, /* @__PURE__ */ jsx(Row, null, /* @__PURE__ */ jsx(\"div\", {\n    css: [colourStyles(pillar), boldFont, cssReplyAlphaDisplayName, process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\"]\n  }, /* @__PURE__ */ jsx(Link, {\n    href: comment2.userProfile.webUrl,\n    cssOverrides: subdued,\n    rel: \"nofollow\"\n  }, comment2.userProfile.displayName)), comment2.responseTo ? /* @__PURE__ */ jsx(\"div\", {\n    css: [colourStyles(pillar), regularFont, svgReplyArrow, cssReplyBetaDisplayName, process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\"]\n  }, /* @__PURE__ */ jsx(Link, {\n    href: `#comment-${comment2.responseTo.commentId}`,\n    cssOverrides: subdued,\n    icon: /* @__PURE__ */ jsx(SvgIndent, null),\n    iconSide: \"left\",\n    rel: \"nofollow\"\n  }, comment2.responseTo.displayName)) : /* @__PURE__ */ jsx(React.Fragment, null), /* @__PURE__ */ jsx(\"div\", {\n    css: [timestampWrapperStyles, comment2.responseTo && hideBelowMobileLandscape, process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\"]\n  }, /* @__PURE__ */ jsx(Timestamp, {\n    isoDateTime: comment2.isoDateTime,\n    webUrl: comment2.webUrl,\n    commentId: comment2.id,\n    onPermalinkClick\n  }))), /* @__PURE__ */ jsx(Row, null, showStaffBadge && /* @__PURE__ */ jsx(\"div\", {\n    css: iconWrapper\n  }, /* @__PURE__ */ jsx(GuardianStaff, null)), showContributorBadge && !showStaffBadge && /* @__PURE__ */ jsx(\"div\", {\n    css: iconWrapper\n  }, /* @__PURE__ */ jsx(GuardianContributor, null)), showPickBadge && /* @__PURE__ */ jsx(\"div\", {\n    css: iconWrapper\n  }, /* @__PURE__ */ jsx(GuardianPick, null)))))), comment2.status !== \"blocked\" && /* @__PURE__ */ jsx(RecommendationCount, {\n    commentId: comment2.id,\n    initialCount: comment2.numRecommends,\n    alreadyRecommended: false,\n    isSignedIn: !!user,\n    onRecommend,\n    userMadeComment: !!user && user.userId === comment2.userProfile.userId\n  })), /* @__PURE__ */ jsx(\"div\", {\n    css: [comment2.responseTo && hideBelowMobileLandscape, hideAboveMobileLandscape, process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\"]\n  }, /* @__PURE__ */ jsx(Row, null, showStaffBadge && /* @__PURE__ */ jsx(\"div\", {\n    css: iconWrapper\n  }, /* @__PURE__ */ jsx(GuardianStaff, null)), showContributorBadge && !showStaffBadge && /* @__PURE__ */ jsx(\"div\", {\n    css: iconWrapper\n  }, /* @__PURE__ */ jsx(GuardianContributor, null)), showPickBadge && /* @__PURE__ */ jsx(\"div\", {\n    css: iconWrapper\n  }, /* @__PURE__ */ jsx(GuardianPick, null)))), isMuted && /* @__PURE__ */ jsx(\"p\", {\n    css: blockedCommentStyles\n  }, /* @__PURE__ */ jsx(Row, null, /* @__PURE__ */ jsx(React.Fragment, null, \"All posts from this user have been muted on this device.\"), /* @__PURE__ */ jsx(Space$1, {\n    amount: 1\n  }), /* @__PURE__ */ jsx(\"div\", {\n    css: [buttonLinkBaseStyles$1, /* @__PURE__ */ css(\"button{\", textSans.xxsmall({\n      fontWeight: \"bold\"\n    }), \";}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\")), process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\"]\n  }, /* @__PURE__ */ jsx(Button, {\n    priority: \"subdued\",\n    size: \"xsmall\",\n    onClick: () => toggleMuteStatus(comment2.userProfile.userId),\n    \"data-link-name\": \"unmute-user\"\n  }, \"Unmute?\")))), !isMuted && comment2.status === \"blocked\" && /* @__PURE__ */ jsx(\"p\", {\n    css: [blockedCommentStyles, commentLinkStyling, process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\"],\n    dangerouslySetInnerHTML: {\n      __html: comment2.body\n    }\n  }), !isMuted && comment2.status !== \"blocked\" && /* @__PURE__ */ jsx(React.Fragment, null, /* @__PURE__ */ jsx(\"div\", {\n    css: [commentCss, commentLinkStyling, process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\"],\n    dangerouslySetInnerHTML: {\n      __html: comment2.body\n    }\n  }), /* @__PURE__ */ jsx(\"div\", {\n    css: spaceBetween\n  }, /* @__PURE__ */ jsx(Row, null, !isClosedForComments && /* @__PURE__ */ jsx(React.Fragment, null, user ? /* @__PURE__ */ jsx(\"div\", {\n    css: [svgReplyArrow, buttonLinkPillarBaseStyles$1(pillar), /* @__PURE__ */ css(\"button{\", textSans.small({\n      fontWeight: \"bold\"\n    }), \";}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\")), process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\"]\n  }, /* @__PURE__ */ jsx(Button, {\n    priority: \"subdued\",\n    onClick: () => setCommentBeingRepliedTo(comment2),\n    icon: /* @__PURE__ */ jsx(SvgIndent, null),\n    iconSide: \"left\",\n    \"data-link-name\": \"reply to comment\"\n  }, \"Reply\")) : /* @__PURE__ */ jsx(\"div\", {\n    css: [svgReplyArrow, commentControlsLink(pillar), process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\"]\n  }, /* @__PURE__ */ jsx(Link, {\n    href: `https://profile.theguardian.com/signin?returnUrl=${comment2.webUrl}&${createAuthenticationEventParams(\"signin_to_reply_comment\")}`,\n    cssOverrides: subdued,\n    icon: /* @__PURE__ */ jsx(SvgIndent, null),\n    iconSide: \"left\",\n    rel: \"nofollow\"\n  }, /* @__PURE__ */ jsx(\"span\", {\n    \"data-link-name\": \"reply to comment\"\n  }, \"Reply\"))), /* @__PURE__ */ jsx(Space$1, {\n    amount: 4\n  })), /* @__PURE__ */ jsx(Space$1, {\n    amount: 4\n  }), user && user.badge.some((e) => e.name === \"Staff\") && user.userId !== comment2.userProfile.userId && /* @__PURE__ */ jsx(\"div\", {\n    css: [buttonLinkPillarBaseStyles$1(pillar), /* @__PURE__ */ css(\"button{\", textSans.small({\n      fontWeight: \"bold\"\n    }), \";}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\")), process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\"]\n  }, /* @__PURE__ */ jsx(Button, {\n    priority: \"subdued\",\n    onClick: isHighlighted ? unPick : pick,\n    \"data-link-name\": isHighlighted ? \"unpick-comment\" : \"pick-comment\"\n  }, isHighlighted ? \"Unpick\" : \"Pick\"))), /* @__PURE__ */ jsx(Row, null, user && comment2.userProfile.userId !== user.userId ? /* @__PURE__ */ jsx(\"div\", {\n    css: [buttonLinkBaseStyles$1, /* @__PURE__ */ css(\"button{\", textSans.xxsmall(), \";}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\")), process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\"]\n  }, /* @__PURE__ */ jsx(Button, {\n    priority: \"subdued\",\n    size: \"small\",\n    onClick: () => toggleMuteStatus(comment2.userProfile.userId),\n    \"data-link-name\": \"mute-user\"\n  }, \"Mute\")) : /* @__PURE__ */ jsx(React.Fragment, null), /* @__PURE__ */ jsx(Space$1, {\n    amount: 4\n  }), /* @__PURE__ */ jsx(\"div\", {\n    css: [buttonLinkBaseStyles$1, /* @__PURE__ */ css(\"button{\", textSans.xxsmall(), \";}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\")), process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\"]\n  }, /* @__PURE__ */ jsx(Button, {\n    priority: \"subdued\",\n    size: \"small\",\n    onClick: toggleSetShowForm,\n    \"data-link-name\": \"Open report abuse\"\n  }, \"Report\")), showAbuseReportForm && /* @__PURE__ */ jsx(\"div\", {\n    css: _ref\n  }, /* @__PURE__ */ jsx(AbuseReportForm, {\n    toggleSetShowForm,\n    pillar,\n    commentId: comment2.id\n  }))))))));\n};\nconst Space = ({\n  amount\n}) => /* @__PURE__ */ jsx(\"div\", {\n  css: /* @__PURE__ */ css(\"width:\", space[amount], \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:Space;\"))\n});\nconst indentStyles = /* @__PURE__ */ css(\"width:18px;svg{fill:\", neutral[46], \"!important;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:indentStyles;\"));\nconst smallFontStyles = /* @__PURE__ */ css(textSans.small(), \";line-height:19px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:smallFontStyles;\"));\nconst replyPreviewHeaderStyle = /* @__PURE__ */ css(textSans.small({\n  fontWeight: \"bold\"\n}), \";margin-top:0px;margin-bottom:\", space[2], \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:replyPreviewHeaderStyle;\"));\nconst arrowSize$1 = 15;\nconst bg$1 = neutral[93];\nconst previewStyle = /* @__PURE__ */ css(\"padding-top:\", space[3], \"px;padding-bottom:\", space[3], \"px;padding-left:\", space[5], \"px;padding-right:\", space[5], \"px;background-color:\", bg$1, \";margin-top:\", arrowSize$1, \"px;margin-bottom:\", arrowSize$1 + 5, \"px;position:relative;display:flex;flex-direction:column;:before{content:'';position:absolute;border-left:\", arrowSize$1, \"px solid \", bg$1, \";border-top:\", arrowSize$1, \"px solid transparent;top:-\", arrowSize$1 - 1, \"px;margin-left:\", space[9], \"px;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:previewStyle;\"));\nconst commentStyles = /* @__PURE__ */ css(\"p{\", textSans.small(), \";margin-top:0px;margin-bottom:\", space[3], \"px;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:commentStyles;\"));\nconst blueLink = /* @__PURE__ */ css(\"color:\", text.anchorPrimary, \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:blueLink;\"));\nconst buttonLinkPillarBaseStyles = (pillar) => /* @__PURE__ */ css(\"button{color:\", palette[pillarToString(pillar)][400], \";background-color:transparent;height:18px;min-height:18px;border-radius:0;:hover{text-decoration:underline;text-decoration-color:\", palette[pillarToString(pillar)][400], \";}}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:buttonLinkPillarBaseStyles;\"));\nconst buttonLinkBaseStyles = /* @__PURE__ */ css(\"button{color:\", neutral[46], \";background-color:transparent;height:18px;min-height:18px;border-radius:0;:hover{text-decoration:underline;text-decoration-color:\", neutral[46], \";}}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:buttonLinkBaseStyles;\"));\nconst CommentReplyPreview = ({\n  pillar,\n  commentBeingRepliedTo\n}) => {\n  const [displayReplyComment, setDisplayReplyComment] = useState(false);\n  return /* @__PURE__ */ jsx(React.Fragment, null, /* @__PURE__ */ jsx(Row, null, /* @__PURE__ */ jsx(\"div\", {\n    css: indentStyles\n  }, /* @__PURE__ */ jsx(SvgIndent, null)), /* @__PURE__ */ jsx(Space, {\n    amount: 1\n  }), /* @__PURE__ */ jsx(\"div\", {\n    css: smallFontStyles\n  }, commentBeingRepliedTo.userProfile.displayName), /* @__PURE__ */ jsx(Space, {\n    amount: 3\n  }), /* @__PURE__ */ jsx(\"div\", {\n    css: [buttonLinkPillarBaseStyles(pillar), /* @__PURE__ */ css(\"button{\", textSans.small({\n      fontWeight: \"bold\"\n    }), \";}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:CommentReplyPreview;\")), process.env.NODE_ENV === \"production\" ? \"\" : \";label:CommentReplyPreview;\"]\n  }, /* @__PURE__ */ jsx(Button, {\n    priority: \"subdued\",\n    onClick: () => setDisplayReplyComment(!displayReplyComment),\n    \"data-link-name\": displayReplyComment ? \"reply-comment-hide\" : \"reply-comment-show\"\n  }, displayReplyComment ? \"Hide Comment\" : \"Show comment\"))), displayReplyComment && /* @__PURE__ */ jsx(Preview, {\n    commentBeingRepliedTo,\n    setDisplayReplyComment,\n    displayReplyComment\n  }));\n};\nconst Preview = ({\n  commentBeingRepliedTo,\n  setDisplayReplyComment,\n  displayReplyComment\n}) => {\n  return /* @__PURE__ */ jsx(\"div\", {\n    css: previewStyle\n  }, /* @__PURE__ */ jsx(\"p\", {\n    css: replyPreviewHeaderStyle\n  }, commentBeingRepliedTo.userProfile.displayName, \" @\", \" \", commentBeingRepliedTo.date, \" said:\"), /* @__PURE__ */ jsx(\"div\", {\n    css: commentStyles,\n    dangerouslySetInnerHTML: {\n      __html: commentBeingRepliedTo.body || \"\"\n    }\n  }), /* @__PURE__ */ jsx(\"div\", {\n    css: [buttonLinkBaseStyles, /* @__PURE__ */ css(\"button{\", textSans.small(), \";}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:Preview;\")), process.env.NODE_ENV === \"production\" ? \"\" : \";label:Preview;\"]\n  }, /* @__PURE__ */ jsx(Button, {\n    priority: \"subdued\",\n    onClick: () => setDisplayReplyComment(!displayReplyComment),\n    \"data-link-name\": \"hide-comment\"\n  }, /* @__PURE__ */ jsx(\"span\", {\n    css: blueLink\n  }, \"Hide Comment\"))));\n};\nfunction _EMOTION_STRINGIFIED_CSS_ERROR__$5() {\n  return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\";\n}\nconst nestingStyles = /* @__PURE__ */ css(\"list-style-type:none;padding-left:\", space[2], \"px;margin-left:\", space[12], \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:nestingStyles;\"));\nconst topBorder = /* @__PURE__ */ css(\"border-top:1px solid \", border.secondary, \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:topBorder;\"));\nconst commentContainerStyles$1 = process.env.NODE_ENV === \"production\" ? {\n  name: \"1nr1hck\",\n  styles: \"list-style-type:none;padding-left:0\"\n} : {\n  name: \"1nau0cv-commentContainerStyles\",\n  styles: \"list-style-type:none;padding-left:0;label:commentContainerStyles;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$5\n};\nconst selectedStyles = /* @__PURE__ */ css(\"background-color:\", neutral[97], \";margin-left:-\", space[2], \"px;padding-left:\", space[2], \"px;margin-right:-\", space[2], \"px;padding-right:\", space[2], \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:selectedStyles;\"));\nconst removeMargin = process.env.NODE_ENV === \"production\" ? {\n  name: \"cfjpzu\",\n  styles: \"margin:0px\"\n} : {\n  name: \"wqf8ry-removeMargin\",\n  styles: \"margin:0px;label:removeMargin;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$5\n};\nconst CommentContainer = ({\n  comment: comment2,\n  pillar,\n  isClosedForComments,\n  user,\n  shortUrl,\n  threads,\n  commentBeingRepliedTo,\n  setCommentBeingRepliedTo,\n  commentToScrollTo,\n  mutes,\n  toggleMuteStatus,\n  onPermalinkClick,\n  onRecommend,\n  onComment,\n  onReply,\n  onPreview\n}) => {\n  const [expanded, setExpanded] = useState(threads === \"expanded\");\n  const [responses, setResponses] = useState(comment2.responses || []);\n  const [loading, setLoading] = useState(false);\n  const showResponses = threads !== \"unthreaded\";\n  const decideShowMoreText = () => {\n    const remainingResponses = comment2.metaData && comment2.metaData.responseCount && comment2.metaData.responseCount - 3;\n    if (remainingResponses === 1)\n      return `Show 1 more reply`;\n    return `Show ${remainingResponses} more replies`;\n  };\n  useEffect(() => {\n    setResponses(comment2.responses || []);\n  }, [comment2]);\n  const expand = (commentId) => {\n    setLoading(true);\n    getMoreResponses(commentId).then((json) => {\n      setExpanded(true);\n      setResponses(json.comment.responses || []);\n    }).finally(() => {\n      setLoading(false);\n    });\n  };\n  return /* @__PURE__ */ jsx(\"div\", {\n    css: [commentToScrollTo === comment2.id && selectedStyles, process.env.NODE_ENV === \"production\" ? \"\" : \";label:CommentContainer;\"]\n  }, /* @__PURE__ */ jsx(Comment, {\n    comment: comment2,\n    pillar,\n    isClosedForComments,\n    setCommentBeingRepliedTo,\n    user,\n    isReply: false,\n    isMuted: mutes.includes(comment2.userProfile.userId),\n    toggleMuteStatus,\n    onPermalinkClick,\n    onRecommend\n  }), /* @__PURE__ */ jsx(React.Fragment, null, showResponses && responses && /* @__PURE__ */ jsx(\"div\", {\n    css: nestingStyles\n  }, /* @__PURE__ */ jsx(\"ul\", {\n    css: [commentContainerStyles$1, removeMargin, process.env.NODE_ENV === \"production\" ? \"\" : \";label:CommentContainer;\"]\n  }, responses.map((responseComment) => /* @__PURE__ */ jsx(\"li\", {\n    key: responseComment.id\n  }, /* @__PURE__ */ jsx(Comment, {\n    comment: responseComment,\n    pillar,\n    isClosedForComments,\n    setCommentBeingRepliedTo,\n    user,\n    isReply: true,\n    wasScrolledTo: commentToScrollTo === responseComment.id,\n    isMuted: mutes.includes(responseComment.userProfile.userId),\n    toggleMuteStatus,\n    onPermalinkClick\n  })))), !expanded && comment2.metaData && comment2.metaData.responseCount && comment2.metaData.responseCount > 3 && /* @__PURE__ */ jsx(\"div\", {\n    css: [topBorder, /* @__PURE__ */ css(\"padding-top:\", space[3], \"px;padding-bottom:\", space[3], \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:CommentContainer;\")), process.env.NODE_ENV === \"production\" ? \"\" : \";label:CommentContainer;\"]\n  }, /* @__PURE__ */ jsx(PillarButton, {\n    priority: \"secondary\",\n    icon: /* @__PURE__ */ jsx(SvgPlus, null),\n    iconSide: \"left\",\n    linkName: \"Show more replies\",\n    onClick: () => expand(comment2.id),\n    pillar,\n    size: \"xsmall\"\n  }, loading ? \"loading...\" : decideShowMoreText()))), commentBeingRepliedTo && (commentBeingRepliedTo.id === comment2.id || responses.find((response) => response.id === commentBeingRepliedTo.id)) && user && /* @__PURE__ */ jsx(\"div\", {\n    id: `comment-reply-form-${commentBeingRepliedTo.id}`,\n    css: nestingStyles\n  }, /* @__PURE__ */ jsx(CommentReplyPreview, {\n    pillar,\n    commentBeingRepliedTo\n  }), /* @__PURE__ */ jsx(CommentForm, {\n    shortUrl,\n    pillar,\n    onAddComment: (response) => setResponses([...responses, response]),\n    user,\n    setCommentBeingRepliedTo,\n    commentBeingRepliedTo,\n    onComment,\n    onReply,\n    onPreview\n  }))));\n};\nfunction _EMOTION_STRINGIFIED_CSS_ERROR__$4() {\n  return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\";\n}\nconst pickStyles = /* @__PURE__ */ css(\"display:flex;flex-direction:column;width:100%;min-width:250px;margin-bottom:\", space[5], \"px;\", textSans.small(), \";blockquote{margin-top:\", space[3], \"px;margin-bottom:\", space[3], \"px;margin-left:\", space[5], \"px;margin-right:\", space[5], \"px;padding-left:\", space[2], \"px;color:\", neutral[46], \";}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:pickStyles;\"));\nconst arrowSize = 25;\nconst bg = neutral[93];\nconst userNameStyles = (pillar) => /* @__PURE__ */ css(\"margin-top:3px;margin-bottom:-6px;font-weight:bold;color:\", palette[pillarToString(pillar)][400], \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:userNameStyles;\"));\nconst avatarMargin = /* @__PURE__ */ css(\"margin-right:\", space[2], \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:avatarMargin;\"));\nconst smallFontSize = /* @__PURE__ */ css(\"a{\", textSans.small(), \";}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:smallFontSize;\"));\nconst linkStyles$1 = process.env.NODE_ENV === \"production\" ? {\n  name: \"icokh\",\n  styles: \"text-decoration:none;:hover{text-decoration:underline;}\"\n} : {\n  name: \"fryv0j-linkStyles\",\n  styles: \"text-decoration:none;:hover{text-decoration:underline;};label:linkStyles;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$4\n};\nconst inCommentLinkStyling = /* @__PURE__ */ css(\"a{color:\", brand[500], \";text-decoration:none;:hover{text-decoration:underline;}}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:inCommentLinkStyling;\"));\nconst titleStyles = /* @__PURE__ */ css(textSans.small(), \";font-weight:bold;margin:0px;margin-bottom:\", space[1], \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:titleStyles;\"));\nconst inheritColour = process.env.NODE_ENV === \"production\" ? {\n  name: \"opde7s\",\n  styles: \"color:inherit\"\n} : {\n  name: \"qxm5sx-inheritColour\",\n  styles: \"color:inherit;label:inheritColour;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$4\n};\nconst wrapStyles = process.env.NODE_ENV === \"production\" ? {\n  name: \"1sdjnkx\",\n  styles: \"word-break:break-word\"\n} : {\n  name: \"1iawgmj-wrapStyles\",\n  styles: \"word-break:break-word;label:wrapStyles;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$4\n};\nconst PickBubble = ({\n  children\n}) => /* @__PURE__ */ jsx(\"div\", {\n  css: /* @__PURE__ */ css(\"display:flex;flex-direction:column;justify-content:space-between;padding:\", space[3], \"px;background-color:\", bg, \";border-radius:15px;margin-bottom:\", arrowSize + 5, \"px;position:relative;\", from.tablet, \"{min-height:150px;}:before{content:'';margin-left:\", space[6], \"px;position:absolute;border-right:\", arrowSize, \"px solid transparent;border-top:\", arrowSize, \"px solid \", bg, \";bottom:-\", arrowSize - 1, \"px;}p{margin-top:0;margin-bottom:\", space[3], \"px;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:PickBubble;\"))\n}, children);\nconst Top = ({\n  children\n}) => /* @__PURE__ */ jsx(\"div\", null, children);\nconst Bottom = ({\n  children\n}) => /* @__PURE__ */ jsx(\"div\", null, children);\nconst PickMeta = ({\n  children\n}) => /* @__PURE__ */ jsx(\"div\", {\n  css: /* @__PURE__ */ css(\"display:flex;justify-content:space-between;padding-top:\", space[1], \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:PickMeta;\"))\n}, children);\nconst truncateText = (input, limit) => {\n  if (input.length > limit)\n    return input.substr(0, limit) + \"&#8230;\";\n  return input;\n};\nconst TopPick = ({\n  pillar,\n  comment: comment2,\n  isSignedIn,\n  userMadeComment,\n  onPermalinkClick,\n  onRecommend\n}) => {\n  const showStaffBadge = comment2.userProfile.badge.find((obj) => obj[\"name\"] === \"Staff\");\n  const showContributorBadge = comment2.userProfile.badge.find((obj) => obj[\"name\"] === \"Contributor\");\n  return /* @__PURE__ */ jsx(\"div\", {\n    css: pickStyles\n  }, /* @__PURE__ */ jsx(PickBubble, null, /* @__PURE__ */ jsx(Top, null, /* @__PURE__ */ jsx(\"h3\", {\n    css: titleStyles\n  }, \"Guardian Pick\"), /* @__PURE__ */ jsx(\"p\", {\n    css: [wrapStyles, inCommentLinkStyling, process.env.NODE_ENV === \"production\" ? \"\" : \";label:TopPick;\"],\n    dangerouslySetInnerHTML: {\n      __html: truncateText(comment2.body, 450)\n    }\n  })), /* @__PURE__ */ jsx(Bottom, null, /* @__PURE__ */ jsx(\"div\", {\n    css: smallFontSize\n  }, /* @__PURE__ */ jsx(Link, {\n    priority: \"primary\",\n    href: comment2.webUrl,\n    onClick: (e) => {\n      onPermalinkClick(comment2.id);\n      e.preventDefault();\n    },\n    rel: \"nofollow\"\n  }, \"Jump to comment\")))), /* @__PURE__ */ jsx(PickMeta, null, /* @__PURE__ */ jsx(Row, null, /* @__PURE__ */ jsx(\"div\", {\n    css: avatarMargin\n  }, /* @__PURE__ */ jsx(Avatar, {\n    imageUrl: comment2.userProfile.avatar,\n    displayName: \"\",\n    size: \"medium\"\n  })), /* @__PURE__ */ jsx(Column, null, /* @__PURE__ */ jsx(\"span\", {\n    css: userNameStyles(pillar)\n  }, /* @__PURE__ */ jsx(\"a\", {\n    href: comment2.userProfile.webUrl,\n    css: [linkStyles$1, inheritColour, process.env.NODE_ENV === \"production\" ? \"\" : \";label:TopPick;\"],\n    rel: \"nofollow\"\n  }, comment2.userProfile.displayName)), /* @__PURE__ */ jsx(Timestamp, {\n    isoDateTime: comment2.isoDateTime,\n    webUrl: comment2.webUrl,\n    commentId: comment2.id,\n    onPermalinkClick\n  }), showStaffBadge && /* @__PURE__ */ jsx(GuardianStaff, null), showContributorBadge && !showStaffBadge && /* @__PURE__ */ jsx(GuardianContributor, null))), /* @__PURE__ */ jsx(RecommendationCount, {\n    commentId: comment2.id,\n    initialCount: comment2.numRecommends,\n    alreadyRecommended: false,\n    isSignedIn,\n    userMadeComment,\n    onRecommend\n  })));\n};\nfunction _EMOTION_STRINGIFIED_CSS_ERROR__$3() {\n  return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\";\n}\nconst columWrapperStyles = process.env.NODE_ENV === \"production\" ? {\n  name: \"1vpe7s3\",\n  styles: \"width:50%;display:flex;flex-direction:column\"\n} : {\n  name: \"13r02rk-columWrapperStyles\",\n  styles: \"width:50%;display:flex;flex-direction:column;label:columWrapperStyles;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$3\n};\nconst paddingRight = process.env.NODE_ENV === \"production\" ? {\n  name: \"qzmnd2\",\n  styles: \"padding-right:10px\"\n} : {\n  name: \"1j5zwvk-paddingRight\",\n  styles: \"padding-right:10px;label:paddingRight;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$3\n};\nconst paddingLeft = process.env.NODE_ENV === \"production\" ? {\n  name: \"vnst0l\",\n  styles: \"padding-left:10px\"\n} : {\n  name: \"1sg36cb-paddingLeft\",\n  styles: \"padding-left:10px;label:paddingLeft;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$3\n};\nconst picksWrapper$1 = process.env.NODE_ENV === \"production\" ? {\n  name: \"798ujy\",\n  styles: \"width:100%;display:flex;flex-wrap:wrap\"\n} : {\n  name: \"es80al-picksWrapper\",\n  styles: \"width:100%;display:flex;flex-wrap:wrap;label:picksWrapper;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$3\n};\nconst twoColCommentsStyles = /* @__PURE__ */ css(\"width:100%;display:flex;flex-direction:row;\", until.tablet, \"{display:none;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:twoColCommentsStyles;\"));\nconst oneColCommentsStyles = /* @__PURE__ */ css(\"width:100%;\", from.tablet, \"{display:none;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:oneColCommentsStyles;\"));\nconst TopPicks = ({\n  pillar,\n  user,\n  comments,\n  isSignedIn,\n  onPermalinkClick,\n  onRecommend\n}) => {\n  const leftColComments = [];\n  const rightColComments = [];\n  comments.forEach((comment2, index) => index % 2 === 0 ? leftColComments.push(comment2) : rightColComments.push(comment2));\n  return /* @__PURE__ */ jsx(\"div\", {\n    css: picksWrapper$1\n  }, /* @__PURE__ */ jsx(\"div\", {\n    css: twoColCommentsStyles\n  }, /* @__PURE__ */ jsx(\"div\", {\n    css: [columWrapperStyles, paddingRight, process.env.NODE_ENV === \"production\" ? \"\" : \";label:TopPicks;\"]\n  }, leftColComments.map((comment2) => /* @__PURE__ */ jsx(TopPick, {\n    key: comment2.id,\n    pillar,\n    comment: comment2,\n    isSignedIn,\n    userMadeComment: !!user && user.userId === comment2.userProfile.userId,\n    onPermalinkClick,\n    onRecommend\n  }))), /* @__PURE__ */ jsx(\"div\", {\n    css: [columWrapperStyles, paddingLeft, process.env.NODE_ENV === \"production\" ? \"\" : \";label:TopPicks;\"]\n  }, rightColComments.map((comment2) => /* @__PURE__ */ jsx(TopPick, {\n    key: comment2.id,\n    pillar,\n    comment: comment2,\n    isSignedIn,\n    userMadeComment: !!user && user.userId === comment2.userProfile.userId,\n    onPermalinkClick,\n    onRecommend\n  })))), /* @__PURE__ */ jsx(\"div\", {\n    css: oneColCommentsStyles\n  }, comments.map((comment2) => /* @__PURE__ */ jsx(TopPick, {\n    key: comment2.id,\n    pillar,\n    comment: comment2,\n    isSignedIn,\n    userMadeComment: !!user && user.userId === comment2.userProfile.userId,\n    onPermalinkClick,\n    onRecommend\n  }))));\n};\nfunction _EMOTION_STRINGIFIED_CSS_ERROR__$2() {\n  return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\";\n}\nconst containerStyles$1 = process.env.NODE_ENV === \"production\" ? {\n  name: \"bjn8wh\",\n  styles: \"position:relative\"\n} : {\n  name: \"15sq7p6-containerStyles\",\n  styles: \"position:relative;label:containerStyles;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$2\n};\nconst ulStyles = /* @__PURE__ */ css(\"z-index:2;list-style:none;border:1px solid \", border.secondary, \";margin-left:-8px;padding:0px;display:none;background-color:\", background.primary, \";position:absolute;\", until.tablet, \"{margin-top:4px;border-radius:0;overflow:auto;}\", from.tablet, \"{margin-top:12px;border-radius:3px;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:ulStyles;\"));\nconst ulExpanded = process.env.NODE_ENV === \"production\" ? {\n  name: \"4zleql\",\n  styles: \"display:block\"\n} : {\n  name: \"18t00wp-ulExpanded\",\n  styles: \"display:block;label:ulExpanded;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$2\n};\nconst linkStyles = (disabled) => /* @__PURE__ */ css(textSans.small(), \";text-align:left;color:\", disabled ? neutral[86] : neutral[46], \";position:relative;text-decoration:none;margin-top:1px;padding-top:8px;padding-right:30px;padding-bottom:8px;padding-left:8px;width:100%;cursor:\", disabled ? \"default\" : \"pointer\", \";background-color:white;border:none;\", !disabled && `\n    :hover {\n      background-color: ${neutral[93]};\n      text-decoration: underline;\n    }\n\n    :focus {\n      text-decoration: underline;\n    }\n  `, \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:linkStyles;\"));\nconst firstStyles = process.env.NODE_ENV === \"production\" ? {\n  name: \"1i9vogi\",\n  styles: \"margin-top:0\"\n} : {\n  name: \"9imhtt-firstStyles\",\n  styles: \"margin-top:0;label:firstStyles;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$2\n};\nconst activeStyles = (pillar) => /* @__PURE__ */ css(\"font-weight:bold;:after{content:'';border:2px solid \", palette[pillarToString(pillar)][400], \";border-top:0px;border-right:0px;position:absolute;top:12px;right:12px;width:8px;height:4px;transform:rotate(-45deg);}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:activeStyles;\"));\nconst buttonStyles = /* @__PURE__ */ css(textSans.small({\n  fontWeight: \"medium\"\n}), \";display:block;cursor:pointer;background:none;border:none;line-height:1.2;color:\", neutral[46], \";transition:color 80ms ease-out;padding:0px 10px 6px 0px;margin:1px 0 0;text-decoration:none;:hover{:after{transform:translateY(0) rotate(45deg);}}:after{content:'';display:inline-block;width:5px;height:5px;transform:translateY(-2px) rotate(45deg);border:1px solid currentColor;border-left:transparent;border-top:transparent;margin-left:5px;vertical-align:middle;transition:transform 250ms ease-out;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:buttonStyles;\"));\nconst expandedStyles = process.env.NODE_ENV === \"production\" ? {\n  name: \"1baa2f8\",\n  styles: \":hover:after{transform:translateY(-1px) rotate(-135deg);}:after{transform:translateY(1px) rotate(-135deg);}\"\n} : {\n  name: \"lvkrvz-expandedStyles\",\n  styles: \":hover:after{transform:translateY(-1px) rotate(-135deg);}:after{transform:translateY(1px) rotate(-135deg);};label:expandedStyles;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$2\n};\nconst labelStyles = /* @__PURE__ */ css(textSans.small({\n  fontWeight: \"bold\"\n}), \";color:\", neutral[46], \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:labelStyles;\"));\nconst Dropdown = ({\n  id,\n  label,\n  options: options2,\n  pillar,\n  onSelect\n}) => {\n  const [isExpanded, setIsExpanded] = useState(false);\n  useEffect(() => {\n    const dismissOnEsc = (event) => {\n      if (isExpanded && event.code === \"Escape\") {\n        setIsExpanded(false);\n      }\n    };\n    document.addEventListener(\"keydown\", dismissOnEsc, false);\n    return () => document.removeEventListener(\"keydown\", dismissOnEsc);\n  }, [isExpanded]);\n  useEffect(() => {\n    const dismissOnClick = (event) => {\n      if (isExpanded) {\n        event.stopPropagation();\n        setIsExpanded(false);\n      }\n    };\n    document.addEventListener(\"click\", dismissOnClick, false);\n    return () => document.removeEventListener(\"click\", dismissOnClick);\n  }, [isExpanded]);\n  const dropdownID = `dropbox-id-${id}`;\n  const activeLink = options2.find((option) => option.isActive);\n  return /* @__PURE__ */ jsx(\"div\", {\n    css: containerStyles$1\n  }, /* @__PURE__ */ jsx(\"div\", {\n    css: labelStyles\n  }, label, /* @__PURE__ */ jsx(\"button\", {\n    onClick: () => setIsExpanded(!isExpanded),\n    css: [buttonStyles, isExpanded && expandedStyles, process.env.NODE_ENV === \"production\" ? \"\" : \";label:Dropdown;\"],\n    \"aria-controls\": dropdownID,\n    \"aria-expanded\": isExpanded ? \"true\" : \"false\"\n  }, activeLink ? activeLink.title : \"Please select\")), /* @__PURE__ */ jsx(\"ul\", {\n    id: dropdownID,\n    css: [ulStyles, isExpanded && ulExpanded, process.env.NODE_ENV === \"production\" ? \"\" : \";label:Dropdown;\"]\n  }, options2.map((option, index) => /* @__PURE__ */ jsx(\"li\", {\n    key: option.title\n  }, /* @__PURE__ */ jsx(\"button\", {\n    onClick: () => onSelect(option.value),\n    css: [linkStyles(!!option.disabled), option.isActive && activeStyles(pillar), index === 0 && firstStyles, process.env.NODE_ENV === \"production\" ? \"\" : \";label:Dropdown;\"],\n    disabled: option.isActive || option.disabled\n  }, option.title)))));\n};\nconst filterBar = /* @__PURE__ */ css(\"padding-top:\", space[1], \"px;padding-bottom:\", space[2], \"px;border-top:1px solid \", border.secondary, \";display:flex;flex-direction:row;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:filterBar;\"));\nconst dividerStyles = /* @__PURE__ */ css(\"position:relative;margin-left:\", space[2], \"px;:after{content:'';display:block;width:1px;background-color:\", border.secondary, \";position:absolute;top:-\", space[1], \"px;bottom:\", space[1], \"px;left:-\", space[2], \"px;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:dividerStyles;\"));\nconst filterPadding = /* @__PURE__ */ css(\"padding-right:\", space[3], \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:filterPadding;\"));\nconst Filters = ({\n  filters,\n  pillar,\n  onFilterChange,\n  totalPages,\n  commentCount\n}) => /* @__PURE__ */ jsx(\"div\", {\n  id: \"comment-filters\",\n  css: filterBar\n}, /* @__PURE__ */ jsx(\"div\", {\n  css: filterPadding\n}, /* @__PURE__ */ jsx(Dropdown, {\n  id: \"order-by-dropdown\",\n  label: \"Sort by\",\n  pillar,\n  options: [{\n    title: \"Newest\",\n    value: \"newest\",\n    isActive: filters.orderBy === \"newest\"\n  }, {\n    title: \"Oldest\",\n    value: \"oldest\",\n    isActive: filters.orderBy === \"oldest\"\n  }, {\n    title: \"Recommendations\",\n    value: \"recommendations\",\n    isActive: filters.orderBy === \"recommendations\"\n  }],\n  onSelect: (value) => onFilterChange({\n    ...filters,\n    orderBy: value\n  })\n})), /* @__PURE__ */ jsx(\"div\", {\n  css: dividerStyles\n}), /* @__PURE__ */ jsx(\"div\", {\n  css: filterPadding\n}, /* @__PURE__ */ jsx(Dropdown, {\n  id: \"page-size-dropdown\",\n  label: \"Per page\",\n  pillar,\n  options: [{\n    title: \"25\",\n    value: \"25\",\n    disabled: commentCount <= 25,\n    isActive: filters.pageSize === 25\n  }, {\n    title: \"50\",\n    value: \"50\",\n    disabled: commentCount <= 50,\n    isActive: filters.pageSize === 50\n  }, {\n    title: \"100\",\n    value: \"100\",\n    disabled: commentCount <= 100,\n    isActive: filters.pageSize === 100\n  }],\n  onSelect: (value) => onFilterChange({\n    ...filters,\n    pageSize: parseInt(value)\n  })\n})), /* @__PURE__ */ jsx(\"div\", {\n  css: dividerStyles\n}), /* @__PURE__ */ jsx(\"div\", {\n  css: filterPadding\n}, /* @__PURE__ */ jsx(Dropdown, {\n  id: \"threads-dropdown\",\n  label: \"Display threads\",\n  pillar,\n  options: [{\n    title: \"Collapsed\",\n    value: \"collapsed\",\n    isActive: filters.threads === \"collapsed\"\n  }, {\n    title: \"Expanded\",\n    value: \"expanded\",\n    isActive: filters.threads === \"expanded\"\n  }, {\n    title: \"Unthreaded\",\n    value: \"unthreaded\",\n    isActive: filters.threads === \"unthreaded\"\n  }],\n  onSelect: (value) => onFilterChange({\n    ...filters,\n    threads: value\n  })\n})));\nfunction _EMOTION_STRINGIFIED_CSS_ERROR__$1() {\n  return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\";\n}\nconst pageButtonStyles = (isSelected) => /* @__PURE__ */ css(\"cursor:pointer;\", textSans.small({\n  fontWeight: \"bold\"\n}), \" text-decoration:none;border-radius:62.5rem;box-sizing:border-box;color:\", isSelected ? neutral[100] : neutral[46], \";background-color:\", isSelected ? neutral[46] : \"transparent\", \";border:none;:hover{border-width:0.0625rem;border-style:solid;border-color:\", neutral[46], \";}margin-right:5px;padding:0 0.125rem;min-width:1.5rem;text-align:center;height:1.5rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:pageButtonStyles;\"));\nconst chevronButtonStyles = ({\n  isSelected\n}) => /* @__PURE__ */ css(\"margin-right:\", space[1], \"px;border-radius:62.5rem;border-width:1px;border-style:solid;border-color:\", neutral[86], \";background-color:\", isSelected ? neutral[46] : neutral[100], \";height:22px;min-height:22px;width:22px;>button{height:22px;min-height:22px;width:22px;}:hover{border-color:\", neutral[60], \";}& svg{fill:\", neutral[46], \"!important;width:22px;height:22px;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:chevronButtonStyles;\"));\nconst shiftRight = process.env.NODE_ENV === \"production\" ? {\n  name: \"a7i01j\",\n  styles: \"& svg{margin-left:2px;}\"\n} : {\n  name: \"1ytvtzg-shiftRight\",\n  styles: \"& svg{margin-left:2px;};label:shiftRight;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$1\n};\nconst elipsisStyles = process.env.NODE_ENV === \"production\" ? {\n  name: \"q66sc6\",\n  styles: \"line-height:26px;margin-right:5px\"\n} : {\n  name: \"vnwsr5-elipsisStyles\",\n  styles: \"line-height:26px;margin-right:5px;label:elipsisStyles;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$1\n};\nconst wrapperStyles = /* @__PURE__ */ css(textSans.small(), \";color:\", neutral[46], \";display:flex;flex-direction:row;justify-content:space-between;width:100%;padding-top:\", space[2], \"px;padding-bottom:\", space[2], \"px;border-top:1px solid \", border.secondary, \";\", until.mobileLandscape, \"{flex-direction:column;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:wrapperStyles;\"));\nconst paginationButtons = process.env.NODE_ENV === \"production\" ? {\n  name: \"kkia9m\",\n  styles: \"display:flex;flex-direction:row;height:25px\"\n} : {\n  name: \"m1fzwr-paginationButtons\",\n  styles: \"display:flex;flex-direction:row;height:25px;label:paginationButtons;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$1\n};\nconst paginationText = /* @__PURE__ */ css(textSans.small(), \";margin-left:5px;\", until.mobileLandscape, \"{padding-top:10px;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:paginationText;\"));\nconst Forward = ({\n  currentPage,\n  setCurrentPage\n}) => /* @__PURE__ */ jsx(\"div\", {\n  css: [chevronButtonStyles({\n    isSelected: false\n  }), shiftRight, process.env.NODE_ENV === \"production\" ? \"\" : \";label:Forward;\"]\n}, /* @__PURE__ */ jsx(Button, {\n  onClick: () => setCurrentPage(currentPage + 1),\n  \"aria-label\": \"Previous discussion page\",\n  \"data-link-name\": `Pagination view page ${currentPage + 1}`,\n  size: \"xsmall\",\n  priority: \"subdued\"\n}, /* @__PURE__ */ jsx(SvgChevronRightSingle, null)));\nconst Back = ({\n  currentPage,\n  setCurrentPage\n}) => {\n  const newPage = Math.max(0, currentPage - 1);\n  return /* @__PURE__ */ jsx(\"div\", {\n    css: chevronButtonStyles({\n      isSelected: false\n    })\n  }, /* @__PURE__ */ jsx(Button, {\n    onClick: () => setCurrentPage(newPage),\n    \"aria-label\": \"Previous discussion page\",\n    \"data-link-name\": `Pagination view page ${newPage}`,\n    size: \"xsmall\",\n    priority: \"subdued\"\n  }, /* @__PURE__ */ jsx(SvgChevronLeftSingle, null)));\n};\nconst PageButton = ({\n  currentPage,\n  setCurrentPage,\n  isSelected\n}) => /* @__PURE__ */ jsx(\"button\", {\n  key: currentPage,\n  css: pageButtonStyles(isSelected),\n  onClick: () => setCurrentPage(currentPage),\n  \"data-link-name\": `Pagination view page ${currentPage}`\n}, currentPage);\nconst decideSecondPage = ({\n  currentPage,\n  totalPages\n}) => {\n  if (currentPage < 4)\n    return 2;\n  if (currentPage > totalPages - 2)\n    return totalPages - 2;\n  return currentPage - 1;\n};\nconst decideThirdPage = ({\n  currentPage,\n  totalPages\n}) => {\n  if (currentPage < 4)\n    return 3;\n  if (currentPage > totalPages - 2)\n    return totalPages - 1;\n  return currentPage;\n};\nconst decideForthPage = ({\n  currentPage,\n  totalPages\n}) => {\n  if (currentPage < 4)\n    return 4;\n  if (currentPage > totalPages - 2)\n    return totalPages;\n  return currentPage + 1;\n};\nconst Pagination = ({\n  totalPages,\n  currentPage,\n  setCurrentPage,\n  commentCount,\n  filters\n}) => {\n  const showBackButton = totalPages > 4 && currentPage > 1;\n  const showFirstElipsis = totalPages > 4 && currentPage > 3;\n  const secondPage = decideSecondPage({\n    currentPage,\n    totalPages\n  });\n  const thirdPage = decideThirdPage({\n    currentPage,\n    totalPages\n  });\n  const forthPage = decideForthPage({\n    currentPage,\n    totalPages\n  });\n  const showThirdPage = totalPages > 2;\n  const showForthPage = totalPages > 3;\n  const showLastPage = totalPages > 4 && currentPage < totalPages - 1;\n  const lastPage = totalPages;\n  const showSecondElipsis = totalPages > 4 && currentPage < totalPages - 2;\n  const showForwardButton = totalPages > 4 && currentPage !== totalPages;\n  let {\n    pageSize\n  } = filters;\n  let endIndex = pageSize * currentPage;\n  let startIndex = endIndex - (pageSize - 1);\n  if (endIndex > commentCount)\n    endIndex = commentCount;\n  return /* @__PURE__ */ jsx(\"div\", {\n    css: wrapperStyles\n  }, /* @__PURE__ */ jsx(\"div\", {\n    css: paginationButtons\n  }, showBackButton && /* @__PURE__ */ jsx(Back, {\n    currentPage,\n    setCurrentPage\n  }), /* @__PURE__ */ jsx(PageButton, {\n    currentPage: 1,\n    setCurrentPage,\n    isSelected: currentPage === 1\n  }), showFirstElipsis && /* @__PURE__ */ jsx(\"div\", {\n    css: elipsisStyles\n  }, \"\\u2026\"), /* @__PURE__ */ jsx(PageButton, {\n    currentPage: secondPage,\n    setCurrentPage,\n    isSelected: currentPage === secondPage\n  }), showThirdPage && /* @__PURE__ */ jsx(PageButton, {\n    currentPage: thirdPage,\n    setCurrentPage,\n    isSelected: currentPage === thirdPage\n  }), showForthPage && /* @__PURE__ */ jsx(PageButton, {\n    currentPage: forthPage,\n    setCurrentPage,\n    isSelected: currentPage === forthPage\n  }), showSecondElipsis && /* @__PURE__ */ jsx(\"div\", {\n    css: elipsisStyles\n  }, \"\\u2026\"), showLastPage && /* @__PURE__ */ jsx(PageButton, {\n    currentPage: lastPage,\n    setCurrentPage,\n    isSelected: currentPage === lastPage\n  }), showForwardButton && /* @__PURE__ */ jsx(Forward, {\n    currentPage,\n    setCurrentPage\n  })), commentCount && /* @__PURE__ */ jsx(\"div\", {\n    css: paginationText\n  }, `Displaying ${filters.threads === \"unthreaded\" ? \"comments\" : \"threads\"} ${startIndex} to ${endIndex} of ${commentCount}`));\n};\nconst BACKGROUND_COLOUR = neutral[93];\nconst shimmer = keyframes`\n  0% {\n    background-position: -1500px 0;\n  }\n  100% {\n    background-position: 1500px 0;\n  }\n`;\nconst shimmerStyles = /* @__PURE__ */ css(\"animation:\", shimmer, \" 2s infinite linear;background:linear-gradient(\\n\t\tto right,\\n\t\t\", BACKGROUND_COLOUR, \" 4%,\\n\t\t\", neutral[86], \" 25%,\\n\t\t\", BACKGROUND_COLOUR, \" 36%\\n\t);background-size:1500px 100%;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:shimmerStyles;\"));\nconst containerStyles = /* @__PURE__ */ css(\"border-bottom:1px solid \", neutral[86], \";width:620px;display:flex;padding:\", space[2], \"px 0;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:containerStyles;\"));\nconst avatarStyles = (size) => /* @__PURE__ */ css(\"border-radius:\", size + 10, \"px;width:\", size, \"px;height:\", size, \"px;background-color:\", BACKGROUND_COLOUR, \";margin-right:\", space[2], \"px;\", shimmerStyles, \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:avatarStyles;\"));\nconst Grey = ({\n  height,\n  width,\n  spaceBelow,\n  spaceLeft\n}) => /* @__PURE__ */ jsx(\"div\", {\n  css: /* @__PURE__ */ css(\"height:\", height, \"px;width:\", width ? `${width}px` : \"100%\", \";margin-bottom:\", spaceBelow && space[spaceBelow], \"px;margin-left:\", spaceLeft && space[spaceLeft], \"px;background-color:\", BACKGROUND_COLOUR, \";\", shimmerStyles, \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:Grey;\"))\n});\nconst LoadingComments = () => /* @__PURE__ */ jsx(\"div\", {\n  css: containerStyles,\n  \"data-testid\": \"loading-comments\"\n}, /* @__PURE__ */ jsx(\"div\", {\n  css: avatarStyles(48)\n}), /* @__PURE__ */ jsx(Column, null, /* @__PURE__ */ jsx(Row, null, /* @__PURE__ */ jsx(Grey, {\n  height: 20,\n  width: 140,\n  spaceBelow: 9\n}), /* @__PURE__ */ jsx(Grey, {\n  height: 15,\n  width: 100,\n  spaceBelow: 9,\n  spaceLeft: 2\n})), /* @__PURE__ */ jsx(Grey, {\n  height: 20,\n  spaceBelow: 1\n}), /* @__PURE__ */ jsx(Grey, {\n  height: 20,\n  spaceBelow: 1\n}), /* @__PURE__ */ jsx(Grey, {\n  height: 20,\n  width: 200,\n  spaceBelow: 5\n}), /* @__PURE__ */ jsx(Row, null, /* @__PURE__ */ jsx(Grey, {\n  height: 15,\n  width: 40\n}), /* @__PURE__ */ jsx(Grey, {\n  height: 15,\n  width: 40,\n  spaceLeft: 6\n}))));\nfunction _EMOTION_STRINGIFIED_CSS_ERROR__() {\n  return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\";\n}\nconst footerStyles = process.env.NODE_ENV === \"production\" ? {\n  name: \"skgbeu\",\n  styles: \"display:flex;justify-content:flex-end\"\n} : {\n  name: \"1w0wkep-footerStyles\",\n  styles: \"display:flex;justify-content:flex-end;label:footerStyles;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__\n};\nconst commentColumnWrapperStyles = process.env.NODE_ENV === \"production\" ? {\n  name: \"x3a67h\",\n  styles: \"display:flex;flex-direction:column;max-width:100%\"\n} : {\n  name: \"1ayw4q4-commentColumnWrapperStyles\",\n  styles: \"display:flex;flex-direction:column;max-width:100%;label:commentColumnWrapperStyles;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__\n};\nconst commentContainerStyles = process.env.NODE_ENV === \"production\" ? {\n  name: \"fexp4f\",\n  styles: \"display:flex;flex-direction:column;list-style-type:none;padding-left:0;margin:0\"\n} : {\n  name: \"pj9f3k-commentContainerStyles\",\n  styles: \"display:flex;flex-direction:column;list-style-type:none;padding-left:0;margin:0;label:commentContainerStyles;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__\n};\nconst picksWrapper = process.env.NODE_ENV === \"production\" ? {\n  name: \"1f3egm3\",\n  styles: \"display:flex;flex-wrap:wrap;justify-content:space-between\"\n} : {\n  name: \"esewvx-picksWrapper\",\n  styles: \"display:flex;flex-wrap:wrap;justify-content:space-between;label:picksWrapper;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__\n};\nconst DEFAULT_FILTERS = {\n  orderBy: \"newest\",\n  pageSize: 100,\n  threads: \"collapsed\"\n};\nconst NoComments = () => /* @__PURE__ */ jsx(\"div\", {\n  css: /* @__PURE__ */ css(\"color:\", neutral[46], \";\", textSans.small(), \" padding-top:\", space[5], \"px;padding-left:\", space[1], \"px;padding-bottom:\", space[9], \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:NoComments;\"))\n}, \"No comments found\");\nconst rememberFilters = (filtersToRemember) => {\n  try {\n    localStorage.setItem(\"gu.prefs.discussion.threading\", JSON.stringify({\n      value: filtersToRemember.threads\n    }));\n    localStorage.setItem(\"gu.prefs.discussion.pagesize\", JSON.stringify({\n      value: filtersToRemember.pageSize\n    }));\n    localStorage.setItem(\"gu.prefs.discussion.order\", JSON.stringify({\n      value: filtersToRemember.orderBy\n    }));\n  } catch (error) {\n  }\n};\nconst initialiseFilters = ({\n  pageSizeOverride,\n  orderByOverride,\n  permalinkBeingUsed,\n  isClosedForComments\n}) => {\n  const initialisedFilters = initFiltersFromLocalStorage({\n    isClosedForComments\n  });\n  return {\n    ...initialisedFilters,\n    pageSize: pageSizeOverride || initialisedFilters.pageSize,\n    orderBy: orderByOverride || initialisedFilters.orderBy,\n    threads: initialisedFilters.threads === \"collapsed\" && permalinkBeingUsed ? \"expanded\" : initialisedFilters.threads\n  };\n};\nconst initFiltersFromLocalStorage = ({\n  isClosedForComments\n}) => {\n  let threads;\n  let pageSize;\n  let orderBy;\n  try {\n    orderBy = localStorage.getItem(\"gu.prefs.discussion.order\");\n    threads = localStorage.getItem(\"gu.prefs.discussion.threading\");\n    pageSize = localStorage.getItem(\"gu.prefs.discussion.pagesize\");\n  } catch (error) {\n    return {\n      ...DEFAULT_FILTERS,\n      orderBy: decideDefaultOrderBy()\n    };\n  }\n  function checkPageSize(size) {\n    if (!size)\n      return DEFAULT_FILTERS.pageSize;\n    if (size === \"All\")\n      return DEFAULT_FILTERS.pageSize;\n    const supportedSizes = [25, 50, 100];\n    if (!supportedSizes.includes(size))\n      return DEFAULT_FILTERS.pageSize;\n    return size;\n  }\n  function decideDefaultOrderBy(isClosedForComment) {\n    return isClosedForComments ? \"oldest\" : \"newest\";\n  }\n  return {\n    orderBy: orderBy ? JSON.parse(orderBy).value : decideDefaultOrderBy(),\n    threads: threads ? JSON.parse(threads).value : DEFAULT_FILTERS.threads,\n    pageSize: pageSize ? checkPageSize(JSON.parse(pageSize).value) : DEFAULT_FILTERS.pageSize\n  };\n};\nconst readMutes = () => {\n  let mutes;\n  try {\n    mutes = localStorage.getItem(\"gu.prefs.discussion.mutes\");\n  } catch (error) {\n    return [];\n  }\n  return mutes ? JSON.parse(mutes).value : [];\n};\nconst writeMutes = (mutes) => {\n  try {\n    localStorage.setItem(\"gu.prefs.discussion.mutes\", JSON.stringify({\n      value: mutes\n    }));\n  } catch (error) {\n  }\n};\nconst App = ({\n  baseUrl,\n  shortUrl,\n  pillar,\n  isClosedForComments,\n  initialPage,\n  commentToScrollTo,\n  pageSizeOverride,\n  orderByOverride,\n  user,\n  additionalHeaders,\n  expanded,\n  onPermalinkClick,\n  apiKey,\n  onRecommend,\n  onComment,\n  onReply,\n  onPreview,\n  onExpand,\n  idApiUrl\n}) => {\n  const [filters, setFilters] = useState(initialiseFilters({\n    pageSizeOverride,\n    orderByOverride,\n    permalinkBeingUsed: !!commentToScrollTo,\n    isClosedForComments\n  }));\n  const [isExpanded, setIsExpanded] = useState(expanded || window.location.hash === \"#comments\");\n  const [loading, setLoading] = useState(true);\n  const [loadingMore, setLoadingMore] = useState(false);\n  const [totalPages, setTotalPages] = useState(0);\n  const [page, setPage] = useState(initialPage || 1);\n  const [picks, setPicks] = useState([]);\n  const [commentBeingRepliedTo, setCommentBeingRepliedTo] = useState();\n  const [comments, setComments] = useState([]);\n  const [numberOfCommentsToShow, setNumberOfCommentsToShow] = useState(10);\n  const [commentCount, setCommentCount] = useState(0);\n  const [mutes, setMutes] = useState(readMutes());\n  useEffect(() => {\n    if (isExpanded) {\n      const timer = setTimeout(() => {\n        setNumberOfCommentsToShow(comments.length);\n        setLoadingMore(false);\n      }, 0);\n      return () => clearTimeout(timer);\n    } else\n      return;\n  }, [isExpanded, comments.length]);\n  useEffect(() => {\n    setIsExpanded(expanded);\n  }, [expanded]);\n  useEffect(() => {\n    setLoading(true);\n    getDiscussion(shortUrl, {\n      ...filters,\n      page\n    }).then((json) => {\n      setLoading(false);\n      setLoadingMore(true);\n      if (json && json.status !== \"error\") {\n        setComments(json && json.discussion && json.discussion.comments);\n        setCommentCount(json && json.discussion && json.discussion.topLevelCommentCount);\n      }\n      setTotalPages(json && json.pages);\n    });\n  }, [filters, page, shortUrl]);\n  useEffect(() => {\n    const fetchPicks = async () => {\n      const json = await getPicks(shortUrl);\n      setPicks(json);\n    };\n    fetchPicks();\n  }, [shortUrl]);\n  useEffect(() => {\n    setFilters((oldFilters) => {\n      return {\n        ...oldFilters,\n        orderBy: orderByOverride ? orderByOverride : oldFilters.orderBy,\n        pageSize: pageSizeOverride ? pageSizeOverride : oldFilters.pageSize\n      };\n    });\n  }, [pageSizeOverride, orderByOverride]);\n  useEffect(() => {\n    if (initialPage)\n      setPage(initialPage);\n  }, [initialPage, commentToScrollTo]);\n  useEffect(() => {\n    if (commentToScrollTo) {\n      const commentElement = document.getElementById(`comment-${commentToScrollTo}`);\n      commentElement && commentElement.scrollIntoView();\n    }\n  }, [comments, commentToScrollTo]);\n  const onFilterChange = (newFilterObject) => {\n    let maxPagePossible = Math.floor(commentCount / newFilterObject.pageSize);\n    if (commentCount % newFilterObject.pageSize) {\n      maxPagePossible = maxPagePossible + 1;\n    }\n    if (page > maxPagePossible)\n      setPage(maxPagePossible);\n    rememberFilters(newFilterObject);\n    setIsExpanded(true);\n    onExpand == null ? void 0 : onExpand();\n    setFilters(newFilterObject);\n  };\n  const onPageChange = (page2) => {\n    setIsExpanded(true);\n    const element = document.getElementById(\"comment-filters\");\n    element && element.scrollIntoView();\n    setPage(page2);\n  };\n  const toggleMuteStatus = (userId) => {\n    let updatedMutes;\n    if (mutes.includes(userId)) {\n      updatedMutes = mutes.filter((id) => id !== userId);\n    } else {\n      updatedMutes = [...mutes, userId];\n    }\n    setMutes(updatedMutes);\n    writeMutes(updatedMutes);\n  };\n  const onAddComment = (comment2) => {\n    comments.pop();\n    setComments([comment2, ...comments]);\n    if (!isExpanded) {\n      setIsExpanded(true);\n      if (typeof onExpand === \"function\")\n        onExpand();\n    }\n    const commentElement = document.getElementById(`comment-${comment2.id}`);\n    commentElement && commentElement.scrollIntoView();\n  };\n  initialiseApi({\n    additionalHeaders,\n    baseUrl,\n    apiKey,\n    idApiUrl\n  });\n  const showPagination = totalPages > 1;\n  if (!isExpanded && loading) {\n    return /* @__PURE__ */ jsx(\"span\", {\n      \"data-testid\": \"loading-comments\"\n    });\n  }\n  if (!isExpanded) {\n    return /* @__PURE__ */ jsx(\"div\", {\n      css: commentContainerStyles,\n      \"data-component\": \"discussion\"\n    }, picks && picks.length ? /* @__PURE__ */ jsx(\"div\", {\n      css: picksWrapper\n    }, !!picks.length && /* @__PURE__ */ jsx(TopPicks, {\n      pillar,\n      comments: picks.slice(0, 2),\n      isSignedIn: !!user,\n      onPermalinkClick,\n      onRecommend\n    })) : /* @__PURE__ */ jsx(React.Fragment, null, /* @__PURE__ */ jsx(Filters, {\n      pillar,\n      filters,\n      onFilterChange,\n      totalPages,\n      commentCount\n    }), showPagination && /* @__PURE__ */ jsx(Pagination, {\n      totalPages,\n      currentPage: page,\n      setCurrentPage: (newPage) => {\n        onPageChange(newPage);\n      },\n      commentCount,\n      filters\n    }), !comments.length ? /* @__PURE__ */ jsx(NoComments, null) : /* @__PURE__ */ jsx(\"ul\", {\n      css: commentContainerStyles\n    }, comments.slice(0, 2).map((comment2) => /* @__PURE__ */ jsx(\"li\", {\n      key: comment2.id\n    }, /* @__PURE__ */ jsx(CommentContainer, {\n      comment: comment2,\n      pillar,\n      isClosedForComments,\n      shortUrl,\n      user,\n      threads: filters.threads,\n      commentBeingRepliedTo,\n      setCommentBeingRepliedTo,\n      mutes,\n      toggleMuteStatus,\n      onPermalinkClick,\n      onRecommend\n    }))))));\n  }\n  return /* @__PURE__ */ jsx(\"div\", {\n    \"data-component\": \"discussion\",\n    css: commentColumnWrapperStyles\n  }, user && !isClosedForComments && /* @__PURE__ */ jsx(CommentForm, {\n    pillar,\n    shortUrl,\n    onAddComment,\n    user,\n    onComment,\n    onReply,\n    onPreview\n  }), !!picks.length && /* @__PURE__ */ jsx(TopPicks, {\n    pillar,\n    comments: picks,\n    isSignedIn: !!user,\n    onPermalinkClick,\n    onRecommend\n  }), /* @__PURE__ */ jsx(Filters, {\n    pillar,\n    filters,\n    onFilterChange,\n    totalPages,\n    commentCount\n  }), showPagination && /* @__PURE__ */ jsx(Pagination, {\n    totalPages,\n    currentPage: page,\n    setCurrentPage: (newPage) => {\n      onPageChange(newPage);\n    },\n    commentCount,\n    filters\n  }), loading ? /* @__PURE__ */ jsx(LoadingComments, null) : !comments.length ? /* @__PURE__ */ jsx(NoComments, null) : /* @__PURE__ */ jsx(\"ul\", {\n    css: commentContainerStyles\n  }, comments.slice(0, numberOfCommentsToShow).map((comment2) => /* @__PURE__ */ jsx(\"li\", {\n    key: comment2.id\n  }, /* @__PURE__ */ jsx(CommentContainer, {\n    comment: comment2,\n    pillar,\n    isClosedForComments,\n    shortUrl,\n    user,\n    threads: filters.threads,\n    commentBeingRepliedTo,\n    setCommentBeingRepliedTo,\n    commentToScrollTo,\n    mutes,\n    toggleMuteStatus,\n    onPermalinkClick,\n    onRecommend,\n    onReply\n  })))), loadingMore && /* @__PURE__ */ jsx(LoadingComments, null), showPagination && /* @__PURE__ */ jsx(\"footer\", {\n    css: footerStyles\n  }, /* @__PURE__ */ jsx(Pagination, {\n    totalPages,\n    currentPage: page,\n    setCurrentPage: (newPage) => {\n      onPageChange(newPage);\n    },\n    commentCount,\n    filters\n  })), user && !isClosedForComments && comments.length > 10 && /* @__PURE__ */ jsx(CommentForm, {\n    pillar,\n    shortUrl,\n    onAddComment,\n    user,\n    onComment,\n    onReply,\n    onPreview\n  }));\n};\nexport {\n  App\n};\n","import { joinUrl } from '@guardian/libs';\n\n// GET http://discussion.guardianapis.com/discussion-api/comment/3519111/context\n// {\n//     status: 'ok',\n//     commentId: 3519111,\n//     commentAncestorId: 3519111,\n//     discussionKey: '/p/27y27',\n//     discussionWebUrl:\n//         'https://www.theguardian.com/commentisfree/cifamerica/2009/may/14/washington-post-torture-libel',\n//     discussionApiUrl:\n//         'https://discussion.guardianapis.com/discussion-api/discussion//p/27y27?orderBy=oldest&pageSize=20&page=1',\n//     orderBy: 'oldest',\n//     pageSize: 20,\n//     page: 1,\n// };\n\ntype CommentContextType = {\n\tstatus: 'ok' | 'error';\n\tcommentId: number;\n\tcommentAncestorId: number;\n\tdiscussionKey: string;\n\tdiscussionWebUrl: string;\n\tdiscussionApiUrl: string;\n\torderBy: OrderByType;\n\tpageSize: PageSizeType; // TODO: Review these https://trello.com/c/7v4VDNY0/1326-review-page-size-values\n\tpage: number;\n};\n\ntype OrderByType = 'newest' | 'oldest' | 'recommendations';\ntype ThreadsType = 'collapsed' | 'expanded' | 'unthreaded';\ntype PageSizeType = 25 | 50 | 100;\n\ninterface FilterOptions {\n\torderBy: OrderByType;\n\tpageSize: PageSizeType;\n\tthreads: ThreadsType;\n}\n\nconst initFiltersFromLocalStorage = (): FilterOptions => {\n\tlet threads: { [key: string]: ThreadsType } | undefined;\n\tlet pageSize: { [key: string]: PageSizeType } | undefined;\n\tlet orderBy: { [key: string]: OrderByType } | undefined;\n\n\ttry {\n\t\t// Try to read from local storage\n\t\torderBy = JSON.parse(\n\t\t\tlocalStorage.getItem('gu.prefs.discussion.order') ?? '{}',\n\t\t);\n\t\tthreads = JSON.parse(\n\t\t\tlocalStorage.getItem('gu.prefs.discussion.threading') ?? '{}',\n\t\t);\n\t\tpageSize = JSON.parse(\n\t\t\tlocalStorage.getItem('gu.prefs.discussion.pagesize') ?? '{}',\n\t\t);\n\t} catch (error) {\n\t\t// Sometimes it's not possible to access localStorage, we accept this and don't want to\n\t\t// capture these errors\n\t\treturn {\n\t\t\torderBy: 'newest',\n\t\t\tpageSize: 25,\n\t\t\tthreads: 'collapsed',\n\t\t};\n\t}\n\n\t// If we found something in LS, use it, otherwise return defaults\n\treturn {\n\t\torderBy: orderBy?.value ? orderBy.value : 'newest',\n\t\tthreads: threads?.value ? threads.value : 'collapsed',\n\t\tpageSize: pageSize?.value ? pageSize.value : 25,\n\t};\n};\n\nconst buildParams = (filters: FilterOptions) => {\n\treturn {\n\t\t// Frontend uses the 'recommendations' key to store this options but the api expects\n\t\t// 'mostRecommended' so we have to map here to support both\n\t\torderBy:\n\t\t\tfilters.orderBy === 'recommendations'\n\t\t\t\t? 'mostRecommended'\n\t\t\t\t: filters.orderBy,\n\t\tpageSize: String(filters.pageSize),\n\t\tdisplayThreaded: String(\n\t\t\tfilters.threads === 'collapsed' || filters.threads === 'expanded',\n\t\t),\n\t};\n};\n\nexport const getCommentContext = async (\n\tajaxUrl: string,\n\tcommentId: number,\n): Promise<CommentContextType> => {\n\tconst url = joinUrl(ajaxUrl, 'comment', commentId.toString(), 'context');\n\tconst filters = initFiltersFromLocalStorage();\n\tconst params = new URLSearchParams(buildParams(filters));\n\n\treturn fetch(url + '?' + params.toString())\n\t\t.then((response) => {\n\t\t\tif (!response.ok) {\n\t\t\t\tthrow Error(\n\t\t\t\t\tresponse.statusText ||\n\t\t\t\t\t\t`getCommentContext | An api call returned HTTP status ${response.status}`,\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn response;\n\t\t})\n\t\t.then((response) => response.json())\n\t\t.catch((error) => {\n\t\t\twindow.guardian.modules.sentry.reportError(\n\t\t\t\terror,\n\t\t\t\t'get-comment-page',\n\t\t\t);\n\t\t});\n};\n","import { css } from '@emotion/react';\nimport { App as Comments } from '@guardian/discussion-rendering';\nimport { joinUrl } from '@guardian/libs';\nimport { neutral, space } from '@guardian/source-foundations';\nimport { SvgPlus } from '@guardian/source-react-components';\nimport { EditorialButton } from '@guardian/source-react-components-development-kitchen';\nimport { useEffect, useState } from 'react';\nimport { decidePalette } from '../lib/decidePalette';\nimport { getCommentContext } from '../lib/getCommentContext';\nimport { revealStyles } from '../lib/revealStyles';\nimport { useDiscussion } from '../lib/useDiscussion';\nimport { Hide } from './Hide';\nimport { SignedInAs } from './SignedInAs';\n\nexport type Props = {\n\tformat: ArticleFormat;\n\tdiscussionApiUrl: string;\n\tshortUrlId: string;\n\tdiscussionD2Uid: string;\n\tdiscussionApiClientHeader: string;\n\tenableDiscussionSwitch: boolean;\n\tuser?: UserProfile;\n\tidApiUrl: string;\n};\n\nconst overlayStyles = css`\n\tbackground-image: linear-gradient(\n\t\t0deg,\n\t\t${neutral[100]},\n\t\t${neutral[100]} 40%,\n\t\trgba(255, 255, 255, 0)\n\t);\n\theight: 80px;\n\tposition: absolute;\n\tbottom: 0;\n\tright: 0;\n\twidth: 100%;\n\tdisplay: block;\n`;\n\nconst fixHeight = css`\n\tmax-height: 280px;\n\tmin-height: 280px;\n\toverflow: hidden;\n`;\n\nconst positionRelative = css`\n\tposition: relative;\n`;\n\nconst commentIdFromUrl = () => {\n\tif (typeof window === 'undefined') return;\n\n\tconst { hash } = window.location;\n\tif (!hash.includes('comment')) return;\n\n\tconst [, commentId] = hash.split('-');\n\tif (!commentId) return;\n\n\treturn parseInt(commentId, 10);\n};\n\nexport const Discussion = ({\n\tformat,\n\tdiscussionApiUrl,\n\tshortUrlId,\n\tdiscussionD2Uid,\n\tdiscussionApiClientHeader,\n\tenableDiscussionSwitch,\n\tuser,\n\tidApiUrl,\n}: Props) => {\n\tconst [commentPage, setCommentPage] = useState<number>();\n\tconst [commentPageSize, setCommentPageSize] = useState<25 | 50 | 100>();\n\tconst [commentOrderBy, setCommentOrderBy] = useState<\n\t\t'newest' | 'oldest' | 'recommendations'\n\t>();\n\tconst [isExpanded, setIsExpanded] = useState<boolean>(false);\n\tconst [hashCommentId, setHashCommentId] = useState<number | undefined>(\n\t\tcommentIdFromUrl(),\n\t);\n\n\tconst { commentCount, isClosedForComments } = useDiscussion(\n\t\tjoinUrl(discussionApiUrl, 'discussion', shortUrlId),\n\t);\n\n\tconst palette = decidePalette(format);\n\n\tconst hasCommentsHash =\n\t\ttypeof window !== 'undefined' && window.location.hash === '#comments';\n\n\tconst handlePermalink = (commentId: number) => {\n\t\tif (typeof window === 'undefined') return false;\n\t\twindow.location.hash = `#comment-${commentId}`;\n\t\t// Put this comment id into the hashCommentId state which will\n\t\t// trigger an api call to get the comment context and then expand\n\t\t// and reload the discussion based on the resuts\n\t\tsetHashCommentId(commentId);\n\t\treturn false;\n\t};\n\n\tconst dispatchCommentsExpandedEvent = () => {\n\t\tconst event = new CustomEvent('comments-expanded');\n\t\tdocument.dispatchEvent(event);\n\t};\n\n\t// Check the url to see if there is a comment hash, e.g. ...crisis#comment-139113120\n\t// If so, make a call to get the context of this comment so we know what page it is\n\t// on.\n\tuseEffect(() => {\n\t\tif (hashCommentId !== undefined) {\n\t\t\tgetCommentContext(discussionApiUrl, hashCommentId)\n\t\t\t\t.then((context) => {\n\t\t\t\t\tsetCommentPage(context.page);\n\t\t\t\t\tsetCommentPageSize(context.pageSize);\n\t\t\t\t\tsetCommentOrderBy(context.orderBy);\n\t\t\t\t\tsetIsExpanded(true);\n\t\t\t\t})\n\t\t\t\t.catch((e) =>\n\t\t\t\t\tconsole.error(`getCommentContext - error: ${String(e)}`),\n\t\t\t\t);\n\t\t}\n\t}, [discussionApiUrl, hashCommentId]);\n\n\tuseEffect(() => {\n\t\tif (hasCommentsHash) {\n\t\t\tsetIsExpanded(true);\n\t\t}\n\t}, [hasCommentsHash]);\n\n\tuseEffect(() => {\n\t\tconst pendingElements = document.querySelectorAll<HTMLElement>(\n\t\t\t'.discussion > .pending',\n\t\t);\n\t\tpendingElements.forEach((element) => {\n\t\t\telement.classList.add('reveal');\n\t\t\telement.classList.remove('pending');\n\t\t});\n\t}, []);\n\n\tuseEffect(() => {\n\t\t// There's no point showing the view more button if there isn't much more to view\n\t\tif (commentCount === 0 || commentCount === 1 || commentCount === 2) {\n\t\t\tsetIsExpanded(true);\n\t\t}\n\t}, [commentCount]);\n\n\treturn (\n\t\t<>\n\t\t\t<div\n\t\t\t\tcss={[positionRelative, revealStyles, !isExpanded && fixHeight]}\n\t\t\t\tclassName=\"discussion\"\n\t\t\t>\n\t\t\t\t<div className=\"pending\">\n\t\t\t\t\t<Hide when=\"above\" breakpoint=\"leftCol\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tdata-cy=\"discussion\"\n\t\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\t\tpadding-bottom: ${space[2]}px;\n\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<SignedInAs\n\t\t\t\t\t\t\t\tpalette={palette}\n\t\t\t\t\t\t\t\tenableDiscussionSwitch={enableDiscussionSwitch}\n\t\t\t\t\t\t\t\tuser={user}\n\t\t\t\t\t\t\t\tcommentCount={commentCount}\n\t\t\t\t\t\t\t\tisClosedForComments={isClosedForComments}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Hide>\n\t\t\t\t\t<Comments\n\t\t\t\t\t\tuser={user}\n\t\t\t\t\t\tbaseUrl={discussionApiUrl}\n\t\t\t\t\t\tpillar={format.theme}\n\t\t\t\t\t\tinitialPage={commentPage}\n\t\t\t\t\t\tpageSizeOverride={commentPageSize}\n\t\t\t\t\t\tisClosedForComments={\n\t\t\t\t\t\t\t!!isClosedForComments || !enableDiscussionSwitch\n\t\t\t\t\t\t}\n\t\t\t\t\t\torderByOverride={commentOrderBy}\n\t\t\t\t\t\tshortUrl={shortUrlId}\n\t\t\t\t\t\tadditionalHeaders={{\n\t\t\t\t\t\t\t'D2-X-UID': discussionD2Uid,\n\t\t\t\t\t\t\t'GU-Client': discussionApiClientHeader,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\texpanded={isExpanded}\n\t\t\t\t\t\tcommentToScrollTo={hashCommentId}\n\t\t\t\t\t\tonPermalinkClick={handlePermalink}\n\t\t\t\t\t\tapiKey=\"dotcom-rendering\"\n\t\t\t\t\t\tonExpand={() => {\n\t\t\t\t\t\t\tsetIsExpanded(true);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tidApiUrl={idApiUrl}\n\t\t\t\t\t/>\n\t\t\t\t\t{!isExpanded && (\n\t\t\t\t\t\t<div id=\"discussion-overlay\" css={overlayStyles} />\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{!isExpanded && (\n\t\t\t\t<EditorialButton\n\t\t\t\t\tformat={format}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tsetIsExpanded(true);\n\t\t\t\t\t\tdispatchCommentsExpandedEvent();\n\t\t\t\t\t}}\n\t\t\t\t\ticon={<SvgPlus />}\n\t\t\t\t>\n\t\t\t\t\tView more comments\n\t\t\t\t</EditorialButton>\n\t\t\t)}\n\t\t</>\n\t);\n};\n","import { joinUrl } from '@guardian/libs';\nimport type { Props as DiscussionProps } from '../../web/components/Discussion';\nimport { useApi } from '../lib/useApi';\nimport { Discussion } from './Discussion';\n\nexport const DiscussionWhenSignedIn = (props: DiscussionProps) => {\n\tconst { discussionApiUrl } = props;\n\tconst { data } = useApi<{ userProfile: UserProfile }>(\n\t\tjoinUrl(discussionApiUrl, 'profile/me?strict_sanctions_check=false'),\n\t\t{},\n\t\t{\n\t\t\tcredentials: 'include',\n\t\t},\n\t);\n\tif (!data) return null;\n\n\treturn <Discussion user={data.userProfile} {...props} />;\n};\n","import { getCookie } from '@guardian/libs';\nimport type { Props as DiscussionProps } from './Discussion';\nimport { Discussion } from './Discussion';\nimport { DiscussionWhenSignedIn } from './DiscussionWhenSignedIn';\n\n/**\n * DiscussionContainer\n *\n * A wrapper component that decides if the user is signed in or not.\n *\n * If they\n * are, it renders DiscussionWhenSignedIn which includes an api call to fetch\n * the user profile.\n *\n * If not, it simply renders Discussion\n *\n * We use component composition like this here because you cannot call react\n * hooks conditionally and we're using a hook to make the fetch request\n *\n * Note. We allow the ...props pattern here because it makes sense when we're\n * just passing them through\n *\n */\n\nexport const DiscussionContainer = (props: DiscussionProps) => {\n\tconst isSignedIn = !!getCookie({ name: 'GU_U', shouldMemoize: true });\n\n\tif (isSignedIn) return <DiscussionWhenSignedIn {...props} />;\n\n\treturn <Discussion {...props} />;\n};\n","import { joinUrl } from '@guardian/libs';\nimport { decidePalette } from '../lib/decidePalette';\nimport { useApi } from '../lib/useApi';\nimport { useDiscussion } from '../lib/useDiscussion';\nimport { SignedInAs } from './SignedInAs';\n\ntype Props = {\n\tformat: ArticleFormat;\n\tdiscussionApiUrl: string;\n\tshortUrlId: string;\n\tenableDiscussionSwitch: boolean;\n};\n\nexport const DiscussionMeta = ({\n\tformat,\n\tdiscussionApiUrl,\n\tshortUrlId,\n\tenableDiscussionSwitch,\n}: Props) => {\n\tconst { commentCount, isClosedForComments } = useDiscussion(\n\t\tjoinUrl(discussionApiUrl, 'discussion', shortUrlId),\n\t);\n\n\tconst { data } = useApi<{ userProfile: UserProfile }>(\n\t\tjoinUrl(discussionApiUrl, 'profile/me?strict_sanctions_check=false'),\n\t\t{},\n\t\t{\n\t\t\tcredentials: 'include',\n\t\t},\n\t);\n\n\tconst palette = decidePalette(format);\n\n\treturn (\n\t\t<SignedInAs\n\t\t\tpalette={palette}\n\t\t\tenableDiscussionSwitch={enableDiscussionSwitch}\n\t\t\tuser={data?.userProfile}\n\t\t\tcommentCount={commentCount}\n\t\t\tisClosedForComments={isClosedForComments}\n\t\t/>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { LinkButton } from '@guardian/source-react-components';\nimport type { RoleType } from '../../types/content';\nimport { ClickToView } from './ClickToView';\n\nconst widthOverride = css`\n\tiframe {\n\t\t/* stylelint-disable-next-line declaration-no-important */\n\t\tmin-width: 300px !important;\n\t\tmax-width: 100%;\n\t}\n`;\n\nexport const getDocumentCloudAssetUrl = (\n\tembedUrl?: string,\n): string | undefined => {\n\treturn embedUrl?.replace(\n\t\tnew RegExp(\n\t\t\t'https://embed.documentcloud.org/documents/([0-9]+)-([^/]+).*',\n\t\t\t'g',\n\t\t),\n\t\t'https://assets.documentcloud.org/documents/$1/$2.pdf',\n\t);\n};\n\ntype Props = {\n\tembedUrl?: string;\n\theight: number;\n\tisMainMedia: boolean;\n\tisTracking: boolean;\n\trole?: RoleType;\n\tsource?: string;\n\tsourceDomain?: string;\n\ttitle?: string;\n\twidth: number;\n};\n\nexport const DocumentBlockComponent = ({\n\tembedUrl,\n\theight,\n\tisMainMedia,\n\tisTracking,\n\trole,\n\tsource,\n\tsourceDomain,\n\ttitle,\n\twidth,\n}: Props) => {\n\treturn (\n\t\t<ClickToView\n\t\t\trole={role}\n\t\t\tisTracking={isTracking}\n\t\t\tisMainMedia={isMainMedia}\n\t\t\tsource={source}\n\t\t\tsourceDomain={sourceDomain}\n\t\t>\n\t\t\t<div css={widthOverride}>\n\t\t\t\t<iframe\n\t\t\t\t\tsrc={embedUrl}\n\t\t\t\t\ttitle={title}\n\t\t\t\t\theight={height}\n\t\t\t\t\twidth={width}\n\t\t\t\t\tallowFullScreen={true}\n\t\t\t\t\tdata-cy=\"document-embed\"\n\t\t\t\t/>\n\t\t\t\t{source === 'DocumentCloud' ? (\n\t\t\t\t\t<LinkButton\n\t\t\t\t\t\tpriority=\"subdued\"\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\thref={getDocumentCloudAssetUrl(embedUrl)}\n\t\t\t\t\t\ttitle={title}\n\t\t\t\t\t\tdownload={true}\n\t\t\t\t\t>\n\t\t\t\t\t\tDownload original document\n\t\t\t\t\t</LinkButton>\n\t\t\t\t) : (\n\t\t\t\t\t<></>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</ClickToView>\n\t);\n};\n","import type { SerializedStyles } from '@emotion/react';\nimport { css } from '@emotion/react';\nimport type { OphanComponent } from '@guardian/libs';\nimport {\n\tborder,\n\tbrandAlt,\n\tbrandText,\n\tfrom,\n\tneutral,\n\tnews,\n\tpalette,\n\ttext,\n\ttextSans,\n\tuntil,\n\tvisuallyHidden,\n} from '@guardian/source-foundations';\nimport { useEffect, useMemo, useState } from 'react';\nimport { submitComponentEvent } from '../browser/ophan/ophan';\nimport { getZIndex } from '../lib/getZIndex';\nimport { linkNotificationCount } from '../lib/linkNotificationCount';\nimport type { Notification } from '../lib/notification';\nimport { useIsInView } from '../lib/useIsInView';\nimport { useOnce } from '../lib/useOnce';\n\nconst NOTIFICATION_COMPONENT_TYPE = 'RETENTION_HEADER';\nexport interface DropdownLinkType {\n\tid: string;\n\turl: string;\n\ttitle: string;\n\tisActive?: boolean;\n\tdataLinkName: string;\n\tnotifications?: Notification[];\n}\n\ninterface Props {\n\tid: string;\n\tlabel: string;\n\tlinks: DropdownLinkType[];\n\tdataLinkName: string;\n\tcssOverrides?: SerializedStyles;\n\tchildren?: React.ReactNode;\n}\n\nconst ulStyles = css`\n\t${getZIndex('dropdown')}\n\tlist-style: none;\n\t/* https://developer.mozilla.org/en-US/docs/Web/CSS/list-style#accessibility_concerns */\n\t/* Needs double escape char: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#es2018_revision_of_illegal_escape_sequences */\n\tli::before {\n\t\tcontent: '\\\\200B'; /* Zero width space */\n\t\tdisplay: block;\n\t\theight: 0;\n\t\twidth: 0;\n\t}\n\tbackground-color: white;\n\tpadding: 6px 0;\n\tbox-shadow: 0 0 0 1px rgba(0, 0, 0, 0.1);\n\n\t${until.tablet} {\n\t\tposition: fixed;\n\t\tborder-radius: 0;\n\t\ttop: 32px;\n\t\tleft: 0;\n\t\tright: 0;\n\t\twidth: auto;\n\t\tmax-height: calc(100% - 50px);\n\t\toverflow: auto;\n\t}\n\n\t${from.tablet} {\n\t\tposition: absolute;\n\t\ttop: 100%;\n\t\twidth: 200px;\n\t\tborder-radius: 3px;\n\t}\n`;\n\nconst liStyles = css`\n\tposition: relative;\n\tdisplay: flex;\n`;\n\nconst displayBlock = css`\n\tdisplay: block;\n`;\n\nconst displayNone = css`\n\tdisplay: none;\n`;\n\nconst linkStyles = css`\n\t${textSans.small()};\n\tcolor: ${text.anchorSecondary};\n\tposition: relative;\n\ttransition: color 80ms ease-out;\n\tmargin: -1px 0 0 0;\n\ttext-decoration: none;\n\tdisplay: block;\n\tpadding: 10px 18px 15px 30px;\n\n\t:hover {\n\t\tbackground-color: ${neutral[93]};\n\t\ttext-decoration: none;\n\t}\n\n\t:focus {\n\t\ttext-decoration: underline;\n\t}\n\n\t:before {\n\t\tcontent: '';\n\t\tborder-top: 1px solid ${border.secondary};\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\ttop: 0px;\n\t\tleft: 30px;\n\t\tright: 0px;\n\t}\n`;\n\nconst linkActive = css`\n\tfont-weight: bold;\n\n\t:after {\n\t\tcontent: '';\n\t\tborder: 2px solid ${news[400]};\n\t\tborder-top: 0px;\n\t\tborder-right: 0px;\n\t\tposition: absolute;\n\t\ttop: 19px;\n\t\tleft: 12px;\n\t\twidth: 10px;\n\t\theight: 4px;\n\t\ttransform: rotate(-45deg);\n\t}\n`;\n\nconst linkFirst = css`\n\t:before {\n\t\tcontent: none;\n\t}\n`;\n\nconst buttonStyles = css`\n\t${textSans.medium()};\n\tdisplay: block;\n\tcursor: pointer;\n\tbackground: none;\n\tborder: none;\n\t/* Design System: The buttons should be components that handle their own layout using primitives  */\n\tline-height: 1.2;\n\tcolor: ${brandText.primary};\n\ttransition: color 80ms ease-out;\n\tpadding: 0px 10px 6px 5px;\n\tmargin: 1px 0 0;\n\ttext-decoration: none;\n\tposition: relative;\n\n\t:hover {\n\t\tcolor: ${brandAlt[400]};\n\n\t\t:after {\n\t\t\ttransform: translateY(0) rotate(45deg);\n\t\t}\n\t}\n\n\t:after {\n\t\tcontent: '';\n\t\tdisplay: inline-block;\n\t\twidth: 5px;\n\t\theight: 5px;\n\t\ttransform: translateY(-2px) rotate(45deg);\n\t\tborder: 1px solid currentColor;\n\t\tborder-left: transparent;\n\t\tborder-top: transparent;\n\t\tmargin-left: 5px;\n\t\tvertical-align: middle;\n\t\ttransition: transform 250ms ease-out;\n\t}\n`;\n\nconst buttonExpanded = css`\n\t:hover:after {\n\t\ttransform: translateY(-1px) rotate(-135deg);\n\t}\n\t:after {\n\t\ttransform: translateY(1px) rotate(-135deg);\n\t}\n`;\n\nconst notificationColor = palette.error[400];\n\nconst notificationBadgeStyles = (diameter: number) => css`\n\tbackground-color: ${notificationColor};\n\tcolor: ${palette.neutral[100]};\n\ttext-align: center;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\t${textSans.xsmall()};\n\tline-height: 1;\n\n\twidth: ${diameter}px;\n\theight: ${diameter}px;\n\tborder-radius: ${diameter}px;\n`;\n\nconst dropdownButtonNotificationBadgeStyles = css`\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tmargin-left: -10px;\n\tmargin-top: -3px;\n`;\n\nconst notificationTextStyles = css`\n\t${textSans.xxsmall()};\n`;\n\nconst buildOphanComponentWithNotifications = (\n\tlink: DropdownLinkType,\n): OphanComponent | undefined => {\n\t// Only track if it has notifications\n\tif (link.notifications && link.notifications.length > 0) {\n\t\treturn {\n\t\t\tcomponentType: NOTIFICATION_COMPONENT_TYPE,\n\t\t\tid: link.id,\n\t\t\tlabels: link.notifications.map(\n\t\t\t\t(notification) => notification.ophanLabel,\n\t\t\t),\n\t\t};\n\t}\n\treturn undefined;\n};\n\nconst addTrackingToUrl = (\n\turl: string,\n\tophanComponent: OphanComponent,\n): string => {\n\t// Use the acquisitionData query param to send tracking to the destination\n\tconst acquisitionData = encodeURIComponent(\n\t\tJSON.stringify({\n\t\t\tsource: 'GUARDIAN_WEB',\n\t\t\tcomponentId: ophanComponent.id,\n\t\t\tcomponentType: ophanComponent.componentType,\n\t\t\tcampaignCode: ophanComponent.id,\n\t\t\treferrerPageviewId: window.guardian.config.ophan.pageViewId,\n\t\t\treferrerUrl: window.location.origin + window.location.pathname,\n\t\t\tlabels: ophanComponent.labels,\n\t\t}),\n\t);\n\tconst prefix = url.includes('?') ? '&' : '?';\n\treturn `${url}${prefix}acquisitionData=${acquisitionData}`;\n};\n\nconst NotificationBadge = ({ diameter }: { diameter: number }) => {\n\treturn (\n\t\t<div css={notificationBadgeStyles(diameter)}>\n\t\t\t<span>!</span>\n\t\t</div>\n\t);\n};\n\ntype NotificationMessageProps = {\n\tnotification: Notification;\n};\nconst NotificationMessage = ({ notification }: NotificationMessageProps) => {\n\tconst { message } = notification;\n\n\treturn <div css={notificationTextStyles}>{message}</div>;\n};\n\ntype DropdownLinkProps = {\n\tlink: DropdownLinkType;\n\tindex: number;\n};\nconst DropdownLink = ({ link, index }: DropdownLinkProps) => {\n\tconst ophanComponent = useMemo(\n\t\t() => buildOphanComponentWithNotifications(link),\n\t\t[link],\n\t);\n\n\tconst [hasBeenSeen, setNode] = useIsInView({\n\t\tdebounce: true,\n\t});\n\tconst [hasSentViewEvent, setHasSentViewEvent] = useState<boolean>(false);\n\n\t// The following hooks, which send INSERT and VIEW events to Ophan,\n\t// intentionally only run when the link has notifications (which is why\n\t// link.notifications is part of the dependency array for both). In future\n\t// if we ever have notifications arriving from different sources at\n\t// different times, we'll need to revisit this logic (currently they only\n\t// come from Braze).\n\tuseEffect(() => {\n\t\tif (\n\t\t\thasBeenSeen &&\n\t\t\tophanComponent &&\n\t\t\tlink.notifications &&\n\t\t\tlink.notifications.length > 0 &&\n\t\t\t!hasSentViewEvent\n\t\t) {\n\t\t\tsetHasSentViewEvent(true);\n\n\t\t\t// For each notification for this link, log the impression back to\n\t\t\t// Braze separately\n\t\t\tlink.notifications.forEach((notification) => {\n\t\t\t\tnotification.logImpression?.();\n\t\t\t});\n\n\t\t\tsubmitComponentEvent({\n\t\t\t\tcomponent: ophanComponent,\n\t\t\t\taction: 'VIEW',\n\t\t\t});\n\t\t}\n\t}, [\n\t\thasBeenSeen,\n\t\tophanComponent,\n\t\tlink.notifications,\n\t\thasSentViewEvent,\n\t\tlink.id,\n\t]);\n\n\tuseOnce(() => {\n\t\tif (ophanComponent) {\n\t\t\tsubmitComponentEvent({\n\t\t\t\tcomponent: ophanComponent,\n\t\t\t\taction: 'INSERT',\n\t\t\t});\n\t\t}\n\t}, [ophanComponent]);\n\n\tconst url = ophanComponent\n\t\t? addTrackingToUrl(link.url, ophanComponent)\n\t\t: link.url;\n\n\tconst hasNotifications =\n\t\tlink.notifications !== undefined && link.notifications.length > 0;\n\n\treturn (\n\t\t<li css={liStyles} key={link.title} ref={setNode}>\n\t\t\t<a\n\t\t\t\thref={url}\n\t\t\t\tcss={[\n\t\t\t\t\tlinkStyles,\n\t\t\t\t\t!!link.isActive && linkActive,\n\t\t\t\t\tindex === 0 && linkFirst,\n\t\t\t\t]}\n\t\t\t\tdata-link-name={link.dataLinkName}\n\t\t\t\tonClick={() => {\n\t\t\t\t\tif (ophanComponent) {\n\t\t\t\t\t\tsubmitComponentEvent({\n\t\t\t\t\t\t\tcomponent: ophanComponent,\n\t\t\t\t\t\t\taction: 'CLICK',\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{link.title}\n\t\t\t\t{link.notifications?.map((notification) => (\n\t\t\t\t\t<NotificationMessage\n\t\t\t\t\t\tnotification={notification}\n\t\t\t\t\t\tkey={notification.id}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</a>\n\n\t\t\t{hasNotifications && (\n\t\t\t\t<div\n\t\t\t\t\tcss={css`\n\t\t\t\t\t\tmargin-top: 12px;\n\t\t\t\t\t\tmargin-right: 8px;\n\t\t\t\t\t`}\n\t\t\t\t>\n\t\t\t\t\t<NotificationBadge diameter={22} />\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</li>\n\t);\n};\n\nexport const Dropdown = ({\n\tid,\n\tlabel,\n\tlinks,\n\tdataLinkName,\n\tcssOverrides,\n\tchildren,\n}: Props) => {\n\tconst [isExpanded, setIsExpanded] = useState(false);\n\tconst [noJS, setNoJS] = useState(true);\n\n\tuseEffect(() => {\n\t\t// If hook runs we know client-side JS is enabled\n\t\tsetNoJS(false);\n\t}, []);\n\n\tuseEffect(() => {\n\t\tconst dismissOnEsc = (event: KeyboardEvent) => {\n\t\t\tif (isExpanded && event.code === 'Escape') {\n\t\t\t\tsetIsExpanded(false);\n\t\t\t}\n\t\t};\n\n\t\tdocument.addEventListener('keydown', dismissOnEsc, false);\n\n\t\t// Remove listener on unmount\n\t\treturn () => document.removeEventListener('keydown', dismissOnEsc);\n\t}, [isExpanded]);\n\n\tuseEffect(() => {\n\t\tconst dismissOnClick = (event: MouseEvent) => {\n\t\t\tif (isExpanded) {\n\t\t\t\tevent.stopPropagation();\n\t\t\t\tsetIsExpanded(false);\n\t\t\t}\n\t\t};\n\n\t\tdocument.addEventListener('click', dismissOnClick, false);\n\n\t\t// Remove listener on unmount\n\t\treturn () => document.removeEventListener('click', dismissOnClick);\n\t}, [isExpanded]);\n\n\tconst handleToggle = () => setIsExpanded(!isExpanded);\n\n\t// needs to be unique to allow multiple dropdowns on same page\n\tconst dropdownID = `dropbox-id-${id}`;\n\tconst checkboxID = `checkbox-id-${id}`;\n\n\tconst notificationCount = linkNotificationCount(links);\n\n\treturn (\n\t\t<>\n\t\t\t{noJS ? (\n\t\t\t\t<div\n\t\t\t\t\tcss={css`\n\t\t\t\t\t\t${`#${checkboxID}`} {\n\t\t\t\t\t\t\t/* Never show the input */\n\t\t\t\t\t\t\t${visuallyHidden}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t${`#${dropdownID}`} {\n\t\t\t\t\t\t\t/* Hide caption by default */\n\t\t\t\t\t\t\tdisplay: none;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t/* stylelint-disable-next-line selector-type-no-unknown */\n\t\t\t\t\t\t${`#${checkboxID}`}:checked + ${`#${dropdownID}`} {\n\t\t\t\t\t\t\t/* Show the caption if the input is checked */\n\t\t\t\t\t\t\tdisplay: block;\n\t\t\t\t\t\t}\n\t\t\t\t\t`}\n\t\t\t\t>\n\t\t\t\t\t<label\n\t\t\t\t\t\thtmlFor={checkboxID}\n\t\t\t\t\t\tcss={[buttonStyles, cssOverrides]}\n\t\t\t\t\t>\n\t\t\t\t\t\t{label}\n\t\t\t\t\t</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\tid={checkboxID}\n\t\t\t\t\t\taria-checked=\"false\"\n\t\t\t\t\t\ttabIndex={-1}\n\t\t\t\t\t/>\n\t\t\t\t\t<ul id={dropdownID} css={[ulStyles, cssOverrides]}>\n\t\t\t\t\t\t{links.map((l, index) => (\n\t\t\t\t\t\t\t<li key={l.title}>\n\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\thref={l.url}\n\t\t\t\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\t\t\t\tlinkStyles,\n\t\t\t\t\t\t\t\t\t\t!!l.isActive && linkActive,\n\t\t\t\t\t\t\t\t\t\tindex === 0 && linkFirst,\n\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\tdata-link-name={l.dataLinkName}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{l.title}\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<>\n\t\t\t\t\t<button\n\t\t\t\t\t\tonClick={handleToggle}\n\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\tbuttonStyles,\n\t\t\t\t\t\t\tcssOverrides,\n\t\t\t\t\t\t\tisExpanded && buttonExpanded,\n\t\t\t\t\t\t]}\n\t\t\t\t\t\taria-expanded={isExpanded ? 'true' : 'false'}\n\t\t\t\t\t\tdata-link-name={dataLinkName}\n\t\t\t\t\t\tdata-cy=\"dropdown-button\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{label}\n\t\t\t\t\t\t{notificationCount > 0 && (\n\t\t\t\t\t\t\t<div css={dropdownButtonNotificationBadgeStyles}>\n\t\t\t\t\t\t\t\t<NotificationBadge diameter={18} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</button>\n\t\t\t\t\t<div css={isExpanded ? displayBlock : displayNone}>\n\t\t\t\t\t\t{/* eslint-disable-next-line @typescript-eslint/strict-boolean-expressions -- Children types are awkward but this should work */}\n\t\t\t\t\t\t{children ? (\n\t\t\t\t\t\t\t<>{children}</>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<ul\n\t\t\t\t\t\t\t\tcss={[ulStyles, cssOverrides]}\n\t\t\t\t\t\t\t\tdata-cy=\"dropdown-options\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{links.map((link, index) => (\n\t\t\t\t\t\t\t\t\t<DropdownLink\n\t\t\t\t\t\t\t\t\t\tkey={link.id}\n\t\t\t\t\t\t\t\t\t\tlink={link}\n\t\t\t\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</>\n\t);\n};\n","import type { DropdownLinkType } from '../components/Dropdown';\n\nexport const linkNotificationCount = (links: DropdownLinkType[]): number => {\n\treturn links.reduce((runningCount, link) => {\n\t\tconst thisLinkNotificationCount = link.notifications?.length ?? 0;\n\t\treturn runningCount + thisLinkNotificationCount;\n\t}, 0);\n};\n","import { css } from '@emotion/react';\nimport { from, space, text, textSans } from '@guardian/source-foundations';\nimport { unescapeData } from '../../lib/escapeData';\nimport type { RoleType } from '../../types/content';\nimport { ClickToView } from './ClickToView';\n\ntype Props = {\n\thtml: string;\n\tcaption?: string;\n\trole?: RoleType;\n\tisTracking: boolean;\n\tisMainMedia?: boolean;\n\tsource?: string;\n\tsourceDomain?: string;\n};\n\nconst emailCaptionStyle = css`\n\t${textSans.xxsmall()};\n\tword-break: break-all;\n\tcolor: ${text.supporting};\n\tpadding-bottom: ${space[1]}px;\n`;\n\nconst embedContainerStyles = (isEmailEmbed: boolean) => css`\n\t/* By using inline-block we keep email embed content together if a rich link is placed inline nearby */\n\t${isEmailEmbed &&\n\t`\n\t\tdisplay: inline-block;\n\t\t${from.tablet}{\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t}\n\t`}\n\tiframe {\n\t\t/* Some embeds can hijack the iframe and calculate an incorrect width, which pushes the body out */\n\t\t/* stylelint-disable-next-line declaration-no-important */\n\t\twidth: 100% !important;\n\t\t${isEmailEmbed && `min-height: 60px;`}\n\t}\n`;\n\nexport const EmbedBlockComponent = ({\n\thtml,\n\tcaption,\n\trole,\n\tisTracking,\n\tisMainMedia,\n\tsource,\n\tsourceDomain,\n}: Props) => {\n\t// TODO: Email embeds are being turned into atoms, so we can remove this hack when that happens\n\tconst isEmailEmbed = html.includes('email/form');\n\treturn (\n\t\t<ClickToView\n\t\t\trole={role}\n\t\t\tisTracking={isTracking}\n\t\t\tisMainMedia={isMainMedia}\n\t\t\tsource={source}\n\t\t\tsourceDomain={sourceDomain}\n\t\t>\n\t\t\t<div data-cy=\"embed-block\" css={embedContainerStyles(isEmailEmbed)}>\n\t\t\t\t{!!(isEmailEmbed && caption) && (\n\t\t\t\t\t<div\n\t\t\t\t\t\tcss={emailCaptionStyle}\n\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t__html: caption,\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\t<div dangerouslySetInnerHTML={{ __html: unescapeData(html) }} />\n\t\t\t</div>\n\t\t</ClickToView>\n\t);\n};\n","import { useEffect, useRef, useState } from 'react';\nimport { initPerf } from '../browser/initPerf';\nimport { submitComponentEvent } from '../browser/ophan/ophan';\nimport { useIsInView } from '../lib/useIsInView';\n\nconst isServer = typeof window === 'undefined';\n\nconst pinnedPost: HTMLElement | null = !isServer\n\t? window.document.querySelector('[data-gu-marker=pinned-post]')\n\t: null;\n\nconst pinnedPostCheckBox: HTMLElement | null = !isServer\n\t? window.document.querySelector('input[name=pinned-post-checkbox]')\n\t: null;\n\nconst pinnedPostContent: HTMLElement | null = !isServer\n\t? window.document.querySelector('#collapsible-body')\n\t: null;\n\n/**\n * toggle show more button and overlay on pinned post\n */\nfunction toggleShowMore(show: boolean) {\n\tconst pinnedPostButton = document.querySelector<HTMLElement>(\n\t\t'#pinned-post-button',\n\t);\n\tconst pinnedPostOverlay = document.querySelector<HTMLElement>(\n\t\t'#pinned-post-overlay',\n\t);\n\n\tif (pinnedPostButton) {\n\t\tif (show) {\n\t\t\tpinnedPostButton.style.removeProperty('display');\n\t\t} else {\n\t\t\tpinnedPostButton.style.display = 'none';\n\t\t}\n\t}\n\n\tif (pinnedPostOverlay) {\n\t\tif (show) {\n\t\t\tpinnedPostOverlay.style.removeProperty('display');\n\t\t} else {\n\t\t\tpinnedPostOverlay.style.display = 'none';\n\t\t}\n\t}\n}\n\n/**\n * Scroll to the top of the main content when the pinned post is collapsed if the top of the post is out of view\n */\nfunction scrollOnCollapse() {\n\tconst position = pinnedPost?.getBoundingClientRect();\n\tif (position && position.top < 0) {\n\t\tpinnedPost?.scrollIntoView({\n\t\t\tbehavior: 'smooth',\n\t\t});\n\t}\n}\n\nconst handleClickTracking = () => {\n\tif (pinnedPostCheckBox instanceof HTMLInputElement) {\n\t\tif (pinnedPostCheckBox.checked) {\n\t\t\tsubmitComponentEvent({\n\t\t\t\tcomponent: {\n\t\t\t\t\tcomponentType: 'LIVE_BLOG_PINNED_POST',\n\t\t\t\t\tid: pinnedPost?.id,\n\t\t\t\t},\n\t\t\t\taction: 'CLICK',\n\t\t\t\tvalue: 'show-more',\n\t\t\t});\n\t\t} else {\n\t\t\tsubmitComponentEvent({\n\t\t\t\tcomponent: {\n\t\t\t\t\tcomponentType: 'LIVE_BLOG_PINNED_POST',\n\t\t\t\t\tid: pinnedPost?.id,\n\t\t\t\t},\n\t\t\t\taction: 'CLICK',\n\t\t\t\tvalue: 'show-less',\n\t\t\t});\n\t\t\tscrollOnCollapse();\n\t\t}\n\t}\n};\n\nexport const EnhancePinnedPost = () => {\n\tconst [hasBeenSeen, setHasBeenSeen] = useState(false);\n\tconst [isInView] = useIsInView({\n\t\tthreshold: 0.1,\n\t\trepeat: true,\n\t\tnode: pinnedPost ?? undefined,\n\t});\n\n\tconst pinnedPostTiming = useRef<ReturnType<typeof initPerf>>();\n\n\tconst checkContentHeight = () => {\n\t\tif (pinnedPostContent) {\n\t\t\tconst contentFitsContainer =\n\t\t\t\tpinnedPostContent.scrollHeight <=\n\t\t\t\tpinnedPostContent.clientHeight;\n\t\t\tif (contentFitsContainer) toggleShowMore(false);\n\t\t\telse toggleShowMore(true);\n\t\t}\n\t};\n\n\t/**\n\t * Checks for dom updates (embeds loading etc) and updates content height\n\t */\n\tuseEffect(() => {\n\t\tif (!pinnedPost) return;\n\n\t\tcheckContentHeight();\n\n\t\tconst observer = new MutationObserver(checkContentHeight);\n\t\tconst config = {\n\t\t\tchildList: true,\n\t\t\tsubtree: true,\n\t\t};\n\n\t\tobserver.observe(pinnedPost, config);\n\n\t\treturn () => observer.disconnect();\n\t}, []);\n\n\tuseEffect(() => {\n\t\tpinnedPostCheckBox?.addEventListener('change', handleClickTracking);\n\n\t\treturn () => {\n\t\t\tpinnedPostCheckBox?.removeEventListener(\n\t\t\t\t'change',\n\t\t\t\thandleClickTracking,\n\t\t\t);\n\t\t};\n\t}, []);\n\n\tuseEffect(() => {\n\t\tpinnedPostTiming.current = initPerf('pinned-post-view-duration');\n\t}, []);\n\n\t// calculate duration when user is viewing pinned post\n\t// and emit ophan events when the pinned post goes out of view\n\tuseEffect(() => {\n\t\tif (!pinnedPost) return;\n\n\t\tif (isInView) {\n\t\t\tsetHasBeenSeen(true);\n\t\t\tpinnedPostTiming.current?.clear();\n\t\t\tpinnedPostTiming.current?.start();\n\t\t} else if (hasBeenSeen) {\n\t\t\tconst timeTaken = pinnedPostTiming.current?.end();\n\t\t\tif (timeTaken !== undefined) {\n\t\t\t\tconst timeTakenInSeconds = timeTaken / 1000;\n\t\t\t\tsubmitComponentEvent({\n\t\t\t\t\tcomponent: {\n\t\t\t\t\t\tcomponentType: 'LIVE_BLOG_PINNED_POST',\n\t\t\t\t\t\tid: pinnedPost.id,\n\t\t\t\t\t},\n\t\t\t\t\taction: 'VIEW',\n\t\t\t\t\tvalue: timeTakenInSeconds.toString(),\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}, [isInView, hasBeenSeen]);\n\treturn null;\n};\n","import { css } from '@emotion/react';\nimport { between, textSans } from '@guardian/source-foundations';\nimport CommentIcon from '../../static/icons/comment.svg';\nimport type { DCRContainerPalette } from '../../types/front';\nimport type { Palette } from '../../types/palette';\nimport { decidePalette } from '../lib/decidePalette';\n\ntype Props = {\n\tcontainerPalette?: DCRContainerPalette;\n\tformat: ArticleFormat;\n\tshort: string;\n\tlong: string;\n\tisDynamo?: true;\n};\n\nconst containerStyles = (palette: Palette, isDynamo?: boolean) => css`\n\tdisplay: flex;\n\tflex-direction: row;\n\t${textSans.xxsmall({ lineHeight: 'tight' })};\n\tmargin-top: -4px;\n\tpadding-left: 5px;\n\tpadding-right: 5px;\n\tcolor: ${isDynamo ? palette.text.dynamoHeadline : palette.text.cardFooter};\n`;\n\nconst svgStyles = (palette: Palette, isDynamo?: boolean) => css`\n\tsvg {\n\t\tmargin-bottom: -5px;\n\t\theight: 14px;\n\t\twidth: 14px;\n\t\tmargin-right: 2px;\n\t\tfill: ${isDynamo\n\t\t\t? palette.text.dynamoHeadline\n\t\t\t: palette.text.cardFooter};\n\t}\n`;\n\nconst longStyles = css`\n\tdisplay: block;\n\n\t${between.leftCol.and.wide} {\n\t\tdisplay: none;\n\t}\n`;\n\nconst shortStyles = css`\n\tdisplay: none;\n\n\t${between.leftCol.and.wide} {\n\t\tdisplay: block;\n\t}\n`;\n\nexport const CardCommentCount = ({\n\tcontainerPalette,\n\tformat,\n\tshort,\n\tlong,\n\tisDynamo,\n}: Props) => {\n\tconst palette = decidePalette(format, containerPalette);\n\treturn (\n\t\t<div css={containerStyles(palette, isDynamo)}>\n\t\t\t<div css={svgStyles(palette, isDynamo)}>\n\t\t\t\t<CommentIcon />\n\t\t\t</div>\n\t\t\t<div css={longStyles} aria-hidden=\"true\">\n\t\t\t\t{long}\n\t\t\t</div>\n\t\t\t<div css={shortStyles} aria-hidden=\"true\">\n\t\t\t\t{short}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import { CacheProvider } from '@emotion/react';\nimport { useEffect, useState } from 'react';\nimport { createRoot } from 'react-dom/client';\nimport type { DCRContainerPalette } from '../../types/front';\nimport { getEmotionCache } from '../browser/islands/emotion';\nimport { formatCount } from '../lib/formatCount';\nimport { useApi } from '../lib/useApi';\nimport { CardCommentCount } from './CardCommentCount';\n\ntype Props = {\n\trepeat?: boolean;\n};\n\ntype MarkerType = {\n\tdiscussionId: string;\n\tformat: ArticleFormat;\n\tisDynamo?: true;\n\tcontainerPalette?: string;\n};\n\ntype RawCountType = {\n\tid: string;\n\tcount: number;\n};\n\ntype EnhancedCountType = {\n\tid: string;\n\tlong: string;\n\tshort: string;\n\tformat: ArticleFormat;\n\tisDynamo?: true;\n\tcontainerPalette?: DCRContainerPalette;\n};\n\n/**\n * @description\n * Reads the dom looking for markers that contain the information needed to render the\n * count\n */\nfunction extractMarkers() {\n\tconst markers: MarkerType[] = [];\n\tdocument\n\t\t.querySelectorAll('[data-discussion-id]')\n\t\t.forEach((element: Element) => {\n\t\t\tif (element instanceof HTMLElement) {\n\t\t\t\ttry {\n\t\t\t\t\tconst { discussionId, format, isDynamo, containerPalette } =\n\t\t\t\t\t\telement.dataset;\n\t\t\t\t\tif (discussionId && format) {\n\t\t\t\t\t\tmarkers.push({\n\t\t\t\t\t\t\tdiscussionId,\n\t\t\t\t\t\t\tformat: JSON.parse(format),\n\t\t\t\t\t\t\tisDynamo: isDynamo ? true : undefined,\n\t\t\t\t\t\t\tcontainerPalette,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {\n\t\t\t\t\t// Do nothing\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\treturn markers;\n}\n\n/**\n * @description\n * Creates the url used to fetch the count data\n */\nfunction buildUrl(markers: MarkerType[]) {\n\tconst discussionIds = markers.flatMap((marker) => marker.discussionId); // E.g.: ['/p/3pm9v', '/p/4k83z', '/p/6bnba']\n\treturn `https://api.nextgen.guardianapps.co.uk/discussion/comment-counts.json?shortUrls=${discussionIds.join(\n\t\t',',\n\t)}`;\n}\n\n/**\n * @description\n * Converts the count number into a formatted string and parses the stringified\n * format\n *\n * E.g.:\n *   - The 'long' version of 12345 is 12,345\n *   - The 'short' version of 12345 is 12k\n */\nfunction enhanceCounts(\n\tcounts: RawCountType[],\n\tmarkers: MarkerType[],\n): EnhancedCountType[] {\n\treturn counts.map(({ count, id }) => {\n\t\tconst { long, short } = formatCount(count);\n\t\tconst thisMarker = markers.find((marker) => marker.discussionId === id);\n\t\t// We don't get format in the api response so look it up in the array\n\t\t// of DOM markers\n\t\tconst format = thisMarker?.format as ArticleFormat;\n\t\tconst isDynamo = thisMarker?.isDynamo;\n\t\tconst containerPalette =\n\t\t\tthisMarker?.containerPalette as DCRContainerPalette;\n\t\treturn {\n\t\t\tid,\n\t\t\tlong,\n\t\t\tshort,\n\t\t\tformat,\n\t\t\tisDynamo,\n\t\t\tcontainerPalette,\n\t\t};\n\t});\n}\n\n/**\n * @description\n * Takes the long and short version of each count and renders onto the page with react\n */\nfunction renderCounts(counts: EnhancedCountType[]) {\n\tcounts.forEach((count) => {\n\t\tconst container = document.querySelector(\n\t\t\t`[data-discussion-id=\"${count.id}\"]`,\n\t\t);\n\n\t\tif (container) {\n\t\t\tconst root = createRoot(container);\n\t\t\troot.render(\n\t\t\t\t<CacheProvider value={getEmotionCache()}>\n\t\t\t\t\t<CardCommentCount\n\t\t\t\t\t\tformat={count.format}\n\t\t\t\t\t\tshort={count.short}\n\t\t\t\t\t\tlong={count.long}\n\t\t\t\t\t\tisDynamo={count.isDynamo}\n\t\t\t\t\t\tcontainerPalette={count.containerPalette}\n\t\t\t\t\t/>\n\t\t\t\t</CacheProvider>,\n\t\t\t);\n\n\t\t\tcontainer.setAttribute('aria-label', `${count.short} Comments`);\n\t\t}\n\t});\n}\n\n/**\n * @description\n * Makes an api call to fetch the comment counts for all Cards on the page\n *\n * For each Card with comments found (by looking for a marker element) it:\n *\n * - Fetches the comment count data in a single call to Frontend's discussion API\n * - Enhances the data, transforming the count from a number to formatted strings\n * - Uses react 'render' to add the comment counts to their placeholders\n *\n * We do it this was so that we can make a single call, but still render multiple comment counts\n * Using an individual island for each comment count could be more costly, especially on fronts\n *\n * @param {boolean} repeat If true, the fetch call will be repeated on an interval\n */\nexport const FetchCommentCounts = ({ repeat }: Props) => {\n\tconst [url, setUrl] = useState<string | undefined>();\n\n\tuseEffect(() => {\n\t\tconst markers = extractMarkers();\n\t\tsetUrl(buildUrl(markers));\n\t}, []);\n\n\tuseApi<{\n\t\tcounts: RawCountType[];\n\t}>(url, {\n\t\trefreshInterval: repeat ? 15_000 : 0,\n\t\trefreshWhenHidden: false,\n\t\tonSuccess: (data?: { counts?: RawCountType[] }) => {\n\t\t\t// It's possible the DOM has been mutated and there are new Cards showing\n\t\t\t// so we check again\n\t\t\tconst markers = extractMarkers();\n\t\t\tif (data?.counts) {\n\t\t\t\ttry {\n\t\t\t\t\trenderCounts(enhanceCounts(data.counts, markers));\n\t\t\t\t} catch (e) {\n\t\t\t\t\t// Do nothing\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Make sure the list of discussionIds we fetch counts for is up to date\n\t\t\tsetUrl(buildUrl(markers));\n\t\t},\n\t});\n\n\treturn null;\n};\n","import { css } from '@emotion/react';\nimport { useEffect } from 'react';\nimport type { OnwardsSource } from '../../types/onwards';\nimport type { FETrailType, TrailType } from '../../types/trails';\nimport { decideTrail } from '../lib/decideTrail';\nimport { revealStyles } from '../lib/revealStyles';\nimport { useApi } from '../lib/useApi';\nimport { Carousel } from './Carousel.importable';\nimport { Placeholder } from './Placeholder';\n\ntype Props = {\n\turl: string;\n\tlimit: number; // Limit the number of items shown (the api often returns more)\n\tonwardsSource: OnwardsSource;\n\tformat: ArticleFormat;\n};\n\ntype OnwardsResponse = {\n\ttrails: FETrailType[];\n\theading: string;\n\tdisplayname: string;\n\tdescription: string;\n};\n\nconst minHeight = css`\n\tmin-height: 300px;\n`;\n\nexport const FetchOnwardsData = ({\n\turl,\n\tlimit,\n\tonwardsSource,\n\tformat,\n}: Props) => {\n\tconst { data, loading, error } = useApi<OnwardsResponse>(url);\n\n\tconst buildTrails = (\n\t\ttrails: FETrailType[],\n\t\ttrailLimit: number,\n\t): TrailType[] => {\n\t\treturn trails.slice(0, trailLimit).map(decideTrail);\n\t};\n\n\tuseEffect(() => {\n\t\tif (data) {\n\t\t\tconst pendingElements = document.querySelectorAll<HTMLElement>(\n\t\t\t\t'.onwards > .pending',\n\t\t\t);\n\t\t\tpendingElements.forEach((element) => {\n\t\t\t\telement.classList.add('reveal');\n\t\t\t\telement.classList.remove('pending');\n\t\t\t});\n\t\t}\n\t});\n\n\tif (error) {\n\t\t// Send the error to Sentry and then prevent the element from rendering\n\t\twindow.guardian.modules.sentry.reportError(error, 'onwards-lower');\n\t\treturn null;\n\t}\n\n\tif (loading) {\n\t\treturn (\n\t\t\t<Placeholder\n\t\t\t\t// 300 is a best guess\n\t\t\t\theight={300}\n\t\t\t\tshouldShimmer={false}\n\t\t\t\tbackgroundColor=\"white\"\n\t\t\t/>\n\t\t);\n\t}\n\n\tif (data?.trails) {\n\t\treturn (\n\t\t\t<div css={[minHeight, revealStyles]} className=\"onwards\">\n\t\t\t\t<div className=\"pending\">\n\t\t\t\t\t<Carousel\n\t\t\t\t\t\theading={data.heading || data.displayname} // Sometimes the api returns heading as 'displayName'\n\t\t\t\t\t\ttrails={buildTrails(data.trails, limit)}\n\t\t\t\t\t\tdescription={data.description}\n\t\t\t\t\t\tonwardsSource={onwardsSource}\n\t\t\t\t\t\tformat={format}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn null;\n};\n","import { css } from '@emotion/react';\nimport { neutral, space, success, brand, textSans } from '@guardian/source-foundations';\n\nconst toggleBackground = 'rgba(255, 255, 255, 0.4)';\nconst toggleBorder = 'rgba(255, 255, 255, 0.6)';\n/**\n * This colour represents Palette.success[400] with a 40% opacity white overlay.\n * As we're using it for a border we're unable to add an overlay so use a pre-calculated\n * hex value instead.\n */\nconst toggleBorderGreen = '#A7CFB8';\nconst buttonStyles = css `\n\tflex: none;\n\tborder: none;\n\tmargin: 0;\n\tpadding: 0;\n\tdisplay: inline-block;\n\ttext-align: center;\n\tposition: relative;\n\ttransition: background-color 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\n\tcursor: pointer;\n\n\t&:after {\n\t\tcontent: '';\n\t\tposition: absolute;\n\t\tborder-radius: 50%;\n\t\tbackground: ${neutral[100]};\n\t\twill-change: left;\n\t\ttransition: left 0.15s ease-in-out;\n\t}\n\n\t:focus + .tooltiptext {\n\t\topacity: 1;\n\t\tvisibility: visible;\n\t}\n`;\nconst buttonStylesMargin = (labelPosition) => {\n    switch (labelPosition) {\n        case 'left':\n            return css `\n\t\t\t\tmargin-left: 8px;\n\t\t\t`;\n        case 'right':\n            return css `\n\t\t\t\tmargin-right: 8px;\n\t\t\t`;\n    }\n};\nconst toggleStyles = (format) => {\n    return css `\n\t\twidth: 44px;\n\t\theight: 22px;\n\t\tborder-radius: 16px;\n\t\tbox-sizing: unset;\n\n\t\t/* this will go away when resets have been standardised */\n\t\t&:before,\n\t\t&:after {\n\t\t\tbox-sizing: border-box;\n\t\t}\n\n\t\t&:before {\n\t\t\tcontent: '';\n\t\t\tposition: absolute;\n\t\t\ttop: 5px;\n\t\t\theight: 11px;\n\t\t\twidth: 6px;\n\t\t\tright: 8px;\n\t\t\topacity: 0;\n\t\t\tborder-bottom: 2px solid ${success[400]};\n\t\t\tborder-right: 2px solid ${success[400]};\n\t\t\ttransform: rotate(45deg);\n\t\t\ttransition-property: opacity;\n\t\t\ttransition-duration: 0.2s;\n\t\t}\n\n\t\t&:after {\n\t\t\theight: 18px;\n\t\t\twidth: 18px;\n\t\t\ttop: 2px;\n\t\t\tleft: 2px;\n\t\t}\n\n\t\t&[aria-checked='false'] {\n\t\t\tbackground-color: ${format ? toggleBackground : neutral[46]};\n\t\t\tborder: 1px solid ${format ? toggleBorder : neutral[46]};\n\t\t}\n\n\t\t&[aria-checked='false']:before {\n\t\t\ttransition-delay: 0;\n\t\t}\n\n\t\t&[aria-checked='true'] {\n\t\t\tbackground-color: ${success[400]};\n\t\t\tborder: 1px solid ${format ? toggleBorderGreen : success[400]};\n\t\t}\n\n\t\t&[aria-checked='true']:before {\n\t\t\topacity: 1;\n\t\t\tz-index: 1;\n\t\t\ttransition-delay: 0.2s;\n\t\t}\n\n\t\t&[aria-checked='true']:after {\n\t\t\tleft: 22px;\n\t\t\tbackground: ${neutral[100]};\n\t\t}\n\n\t\t&:focus {\n\t\t\toutline: 0;\n\t\t\thtml:not(.src-focus-disabled) & {\n\t\t\t\toutline: 5px solid ${format ? neutral[100] : brand[500]};\n\t\t\t\toutline-offset: 3px;\n\t\t\t}\n\t\t}\n\t`;\n};\nconst labelStyles = (fontSize, fontWeight, format) => css `\n\t${textSans[fontSize]({ fontWeight })};\n\tcolor: ${format ? neutral[100] : neutral[7]};\n\tdisplay: inline-flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tcursor: pointer;\n\tuser-select: none;\n\tposition: relative;\n`;\nconst labelBorderStyles = (format) => css `\n\tborder-top: 1px solid ${format ? neutral[100] : neutral[46]};\n\tpadding-top: ${space[1]}px;\n\twidth: 100%;\n`;\nconst tooltipStyles = css `\n\tposition: absolute;\n\tvisibility: hidden;\n\twidth: 248px;\n\ttop: 40px;\n\tbackground-color: ${neutral[100]};\n\tborder: 1px solid rgba(18, 18, 18, 0.25);\n\tborder-radius: 3px;\n\tpadding: ${space[2]};\n\tz-index: 1;\n\topacity: 0;\n\ttransition: 0.7s opacity;\n`;\n\nexport { buttonStyles, buttonStylesMargin, labelBorderStyles, labelStyles, toggleStyles, tooltipStyles };\n//# sourceMappingURL=styles.js.map\n","import { jsxs, jsx } from '@emotion/react/jsx-runtime';\nimport { generateSourceId, descriptionId } from '@guardian/source-foundations';\nimport { useState, useEffect } from 'react';\nimport { labelStyles, labelBorderStyles, buttonStyles, buttonStylesMargin, toggleStyles, tooltipStyles } from './styles.js';\n\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-react-components-development-kitchen_toggleswitch--with-no-label) •\n * [Design System](https://theguardian.design) •\n * [GitHub](https://github.com/guardian/csnx/tree/main/libs/@guardian/source-react-components-development-kitchen/src/toggle-switch/ToggleSwitch.tsx) •\n * [NPM](https://www.npmjs.com/package/@guardian/source-react-components-development-kitchen)\n *\n * Displays an on/off toggle switch. This toggle has default styling and can be used on android, ios or web.\n * These styles are driven by the 'platform' prop.\n * To give it more custom styling cssOverride may be used.\n *\n */\nconst ToggleSwitch = ({ checked, id, fontWeight = 'regular', fontSize = 'small', format, label, labelBorder = false, labelPosition = 'right', defaultChecked, cssOverrides, onClick, ...props }) => {\n    const buttonId = id ?? generateSourceId();\n    const labelId = descriptionId(buttonId);\n    const [isBrowser, setIsBrowser] = useState(false);\n    let tooltiptext = '';\n    const isChecked = () => {\n        if (checked != undefined) {\n            return checked;\n        }\n        return !!defaultChecked;\n    };\n    useEffect(() => {\n        setIsBrowser(true);\n    }, []);\n    if (!isBrowser) {\n        tooltiptext = 'tooltiptext';\n    }\n    return (jsxs(\"label\", { id: labelId, css: [\n            labelStyles(fontSize, fontWeight, format),\n            labelBorder && labelBorderStyles(format),\n            cssOverrides,\n        ], ...props, children: [labelPosition === 'left' && label, jsx(\"button\", { id: buttonId, css: [\n                    buttonStyles,\n                    buttonStylesMargin(labelPosition),\n                    toggleStyles(format),\n                ], role: \"switch\", \"aria-checked\": isChecked(), \"aria-labelledby\": labelId, onClick: onClick }), labelPosition === 'right' && label, jsx(\"div\", { className: tooltiptext, css: tooltipStyles, children: jsx(\"span\", { children: \"Please turn on JavaScript to use this feature\" }) })] }));\n};\n\nexport { ToggleSwitch };\n//# sourceMappingURL=ToggleSwitch.js.map\n","import { css } from '@emotion/react';\nimport { from, neutral, remSpace, until } from '@guardian/source-foundations';\nimport { ToggleSwitch } from '@guardian/source-react-components-development-kitchen';\nimport { useState } from 'react';\n\nconst cssOverrides = css`\n\tdisplay: inline-flex;\n\tpadding-bottom: ${remSpace[3]};\n\n\t${from.desktop} {\n\t\tpadding: ${remSpace[3]} 0;\n\t}\n\n\t/* This hides the Source spacedFocusHalo so we only see the DCR halo.\n\t*  Without the !important we see both styles simultaneously.\n\t*/\n\t*:focus {\n\t\t/* stylelint-disable-next-line declaration-no-important */\n\t\toutline: none !important;\n\t}\n`;\n\nconst toggleWrapperStyles = css`\n\tdisplay: flex;\n\t${until.desktop} {\n\t\tpadding-top: ${remSpace[3]};\n\t}\n\t${from.desktop} {\n\t\tborder-top: 1px solid ${neutral[86]};\n\t}\n`;\n\ninterface Props {\n\tfilterKeyEvents: boolean;\n\tid: 'filter-toggle-mobile' | 'filter-toggle-desktop';\n}\n\nexport const FilterKeyEventsToggle = ({ filterKeyEvents, id }: Props) => {\n\tconst [checked, setChecked] = useState(filterKeyEvents);\n\n\tconst handleClick = () => {\n\t\tsetChecked(!checked);\n\n\t\tconst urlParams = new URLSearchParams(window.location.search);\n\t\turlParams.delete('page'); // direct to the first page\n\t\turlParams.set('filterKeyEvents', checked ? 'false' : 'true');\n\n\t\twindow.location.hash = id;\n\t\twindow.location.search = urlParams.toString();\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<span id={id} />\n\t\t\t<div css={toggleWrapperStyles}>\n\t\t\t\t<ToggleSwitch\n\t\t\t\t\tlabel=\"Show key events only\"\n\t\t\t\t\tchecked={checked}\n\t\t\t\t\tonClick={() => handleClick()}\n\t\t\t\t\tcssOverrides={cssOverrides}\n\t\t\t\t\tdata-component=\"filter-key-events\"\n\t\t\t\t\tdata-link-name={`filter-key-events-${\n\t\t\t\t\t\tfilterKeyEvents ? 'off' : 'on'\n\t\t\t\t\t}`}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n","import { css } from '@emotion/react';\n\ntype Props = {\n\tchildren: React.ReactNode;\n\tdirection?: 'row' | 'column';\n\tjustify?: 'space-between' | 'flex-start'; // Extend as required\n\tgap?: 'initial' | string;\n};\n\nexport const Flex = ({\n\tchildren,\n\tdirection = 'row',\n\tjustify = 'space-between',\n\tgap = 'initial',\n}: Props) => (\n\t<div\n\t\tcss={css`\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: ${direction};\n\t\t\tjustify-content: ${justify};\n\t\t\tgap: ${gap};\n\t\t\t/* Fixes IE 10/11 bug that collapses this container by default: */\n\t\t\t/* stylelint-disable-next-line property-no-vendor-prefix */\n\t\t\t-ms-flex-positive: 1;\n\t\t`}\n\t>\n\t\t{children}\n\t</div>\n);\n","const TAB_KEY_CODE = 9;\n/**\n * Source: Blueprint https://blueprintjs.com/\n * https://github.com/palantir/blueprint/blob/06a186c90758bbdca604ed6d7bf639c3d05b1fa0/packages/core/src/common/interactionMode.ts\n * A nifty little class that maintains event handlers to add a class to the container element\n * when entering \"mouse mode\" (on a `mousedown` event) and remove it when entering \"keyboard mode\"\n * (on a `tab` key `keydown` event).\n * Requires @babel/plugin-proposal-class-properties\n *\n * Modifications to original source:\n * - Add return types to `isActive`, `start` and `stop` functions\n */\nclass InteractionModeEngine {\n    container;\n    className;\n    isRunning = false;\n    constructor(container, className) {\n        this.container = container;\n        this.className = className;\n    }\n    /** Returns whether the engine is currently running. */\n    isActive() {\n        return this.isRunning;\n    }\n    /** Enable behavior which applies the given className when in mouse mode. */\n    start() {\n        this.container.addEventListener('mousedown', this.handleMouseDown);\n        this.isRunning = true;\n    }\n    /** Disable interaction mode behavior and remove className from container. */\n    stop() {\n        this.reset();\n        this.isRunning = false;\n    }\n    reset() {\n        this.container.classList.remove(this.className);\n        this.container.removeEventListener('keydown', this.handleKeyDown);\n        this.container.removeEventListener('mousedown', this.handleMouseDown);\n    }\n    handleKeyDown = (e) => {\n        if (e.which === TAB_KEY_CODE) {\n            this.reset();\n            this.container.addEventListener('mousedown', this.handleMouseDown);\n        }\n    };\n    handleMouseDown = () => {\n        this.reset();\n        this.container.classList.add(this.className);\n        this.container.addEventListener('keydown', this.handleKeyDown);\n    };\n}\nconst FOCUS_DISABLED = 'src-focus-disabled';\nlet _focusEngine;\nconst focusEngine = () => {\n    if (!_focusEngine) {\n        _focusEngine = new InteractionModeEngine(document.documentElement, FOCUS_DISABLED);\n    }\n    return _focusEngine;\n};\nconst FocusStyleManager = {\n    alwaysShowFocus: () => focusEngine().stop(),\n    isActive: () => focusEngine().isActive(),\n    onlyShowFocusOnTabs: () => focusEngine().start(),\n};\n\nexport { FocusStyleManager, InteractionModeEngine };\n//# sourceMappingURL=focus-style-manager.js.map\n","import { FocusStyleManager } from '@guardian/source-foundations';\nimport { useEffect } from 'react';\n\nexport const FocusStyles = () => {\n\t// Ensure the focus state of any buttons/inputs in any of the Source\n\t// components are only applied when navigating via keyboard.\n\t// READ: https://www.theguardian.design/2a1e5182b/p/6691bb-accessibility/t/32e9fb\n\tuseEffect(() => {\n\t\tFocusStyleManager.onlyShowFocusOnTabs();\n\t}, []);\n\t// Nothing is rendered by this component\n\treturn null;\n};\n","import { css } from '@emotion/react';\nimport { between, space, textSans, until } from '@guardian/source-foundations';\nimport type { Palette } from '../../types/palette';\nimport { decidePalette } from '../lib/decidePalette';\n\nconst ALL_OUT_WICKETS = 10;\n\ntype Props = {\n\tscorecardUrl: string;\n\tmatch: CricketMatch;\n\tformat: ArticleFormat;\n};\n\nconst screenReaderOnlyStyle = css`\n\tborder: 0;\n\tclip: rect(0 0 0 0);\n\theight: 1px;\n\tmargin: -1px;\n\toverflow: hidden;\n\tpadding: 0;\n\tposition: absolute;\n\twidth: 1px;\n`;\n\nconst containerStyle = css`\n\t${until.mobileLandscape} {\n\t\tpadding: 10px 10px 0 10px;\n\t}\n\t${between.mobileLandscape.and.desktop} {\n\t\tpadding: 10px 20px 0 20px;\n\t}\n`;\n\nconst tableStyle = css`\n\twidth: 100%;\n\t${textSans.xsmall()}\n`;\n\nconst captionStyle = (palette: Palette) => css`\n\ttext-align: left;\n\tfont-weight: bold;\n\tborder-top: 1px solid ${palette.border.cricketScoreboardTop};\n\tborder-collapse: inherit;\n\tpadding-top: ${space[2]}px;\n\tpadding-bottom: ${space[2]}px;\n`;\n\nconst rowStyle = (palette: Palette) => css`\n\tborder-top: 1px solid ${palette.border.cricketScoreboardDivider};\n`;\n\nconst cellStyle = css`\n\tpadding-top: ${space[3]}px;\n\tpadding-bottom: ${space[3]}px;\n`;\n\nconst boldStlye = css`\n\tfont-weight: bold;\n`;\n\nconst linkPaddingStlye = css`\n\tpadding-top: ${space[3]}px;\n\tpadding-bottom: ${space[2]}px;\n`;\n\nconst linkStyle = (palette: Palette) => css`\n\tcolor: ${palette.text.cricketScoreboardLink};\n\ttext-decoration: none;\n\n\t:hover {\n\t\tcolor: ${palette.text.cricketScoreboardLink};\n\t\ttext-decoration: underline;\n\t}\n`;\n\nexport const cricketScore = ({\n\tinnings,\n\tshort,\n}: {\n\tinnings: CricketInnings;\n\tshort?: boolean;\n}): string => {\n\tif (innings.declared) {\n\t\treturn `${innings.runsScored} - ${innings.fallOfWicket.length} declared`;\n\t}\n\tif (innings.forfeited) {\n\t\treturn `${innings.runsScored} - ${innings.fallOfWicket.length} forfeited`;\n\t}\n\tif (innings.fallOfWicket.length === ALL_OUT_WICKETS) {\n\t\treturn short ? innings.runsScored : `${innings.runsScored} all out`;\n\t}\n\treturn `${innings.runsScored} - ${innings.fallOfWicket.length}`;\n};\n\nexport const CricketInnings = ({\n\tmatch,\n\thome,\n}: {\n\tmatch: CricketMatch;\n\thome: boolean;\n}) => {\n\tconst teamName = match.teams.find((team) => team.home === home)?.name;\n\tconst teamInnings = match.innings.filter(\n\t\t(innings) => innings.battingTeam === teamName,\n\t);\n\n\t// There can be up to 2 innings per team in a cricket match\n\tconst [one, two] = teamInnings;\n\n\tif (one && two) {\n\t\treturn (\n\t\t\t<p>\n\t\t\t\t{cricketScore({ innings: one, short: true })}\n\t\t\t\t{' & '}\n\t\t\t\t{cricketScore({ innings: two })} ({two.overs} overs)\n\t\t\t</p>\n\t\t);\n\t}\n\n\tif (one) {\n\t\treturn (\n\t\t\t<p>\n\t\t\t\t{cricketScore({ innings: one })} ({one.overs} overs)\n\t\t\t</p>\n\t\t);\n\t}\n\n\treturn <p>Yet to bat</p>;\n};\n\nexport const CricketScoreboard = ({ scorecardUrl, match, format }: Props) => {\n\tconst palette = decidePalette(format);\n\tconst date = new Date(match.gameDate);\n\treturn (\n\t\t<div css={containerStyle}>\n\t\t\t<h2 css={screenReaderOnlyStyle}>\n\t\t\t\t<time dateTime={date.toISOString()}>{date.toDateString()}</time>\n\t\t\t\t{match.competitionName}, {match.venueName}\n\t\t\t</h2>\n\t\t\t<table css={tableStyle}>\n\t\t\t\t<thead css={screenReaderOnlyStyle}>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>Team name</td>\n\t\t\t\t\t\t<td>Score</td>\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t\t{/* Home team */}\n\t\t\t\t\t<tr css={rowStyle(palette)}>\n\t\t\t\t\t\t<td css={[cellStyle, boldStlye]}>\n\t\t\t\t\t\t\t{match.teams.find((team) => !!team.home)?.name}\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td css={cellStyle}>\n\t\t\t\t\t\t\t<CricketInnings match={match} home={true} />\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t{/* Away team */}\n\t\t\t\t\t<tr css={rowStyle(palette)}>\n\t\t\t\t\t\t<td css={[cellStyle, boldStlye]}>\n\t\t\t\t\t\t\t{match.teams.find((team) => !team.home)?.name}\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td css={cellStyle}>\n\t\t\t\t\t\t\t<CricketInnings match={match} home={false} />\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody>\n\t\t\t\t<caption css={captionStyle(palette)}>\n\t\t\t\t\t{match.competitionName}, {match.venueName}\n\t\t\t\t</caption>\n\t\t\t\t<tfoot>\n\t\t\t\t\t<tr css={rowStyle(palette)}>\n\t\t\t\t\t\t<td css={linkPaddingStlye} colSpan={2}>\n\t\t\t\t\t\t\t<a css={linkStyle(palette)} href={scorecardUrl}>\n\t\t\t\t\t\t\t\tView full scorecard\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tfoot>\n\t\t\t</table>\n\t\t</div>\n\t);\n};\n","import { ArticleDesign } from '@guardian/libs';\nimport type { SWRConfiguration } from 'swr';\nimport { useApi } from '../lib/useApi';\nimport { CricketScoreboard } from './CricketScoreboard';\nimport { Placeholder } from './Placeholder';\n\ntype Props = {\n\tmatchUrl: string;\n\tformat: ArticleFormat;\n};\n\nconst Loading = () => <Placeholder height={172} />;\n\nexport const GetCricketScoreboard = ({ matchUrl, format }: Props) => {\n\tconst options: SWRConfiguration = {\n\t\terrorRetryCount: 1,\n\t};\n\t// If this blog is live then poll for new stats\n\tif (format.design === ArticleDesign.LiveBlog) {\n\t\toptions.refreshInterval = 14_000;\n\t}\n\n\tconst { data, error, loading } = useApi<{\n\t\tmatch: CricketMatch;\n\t\tscorecardUrl: string;\n\t}>(matchUrl, options);\n\n\tif (loading) return <Loading />;\n\tif (error) {\n\t\t// Send the error to Sentry and then prevent the element from rendering\n\t\twindow.guardian.modules.sentry.reportError(error, 'cricket-scoreboard');\n\n\t\treturn null;\n\t}\n\tif (data?.match.matchId) {\n\t\treturn (\n\t\t\t<CricketScoreboard\n\t\t\t\tmatch={data.match}\n\t\t\t\tscorecardUrl={data.scorecardUrl}\n\t\t\t\tformat={format}\n\t\t\t/>\n\t\t);\n\t}\n\n\treturn null;\n};\n","import { css } from '@emotion/react';\nimport { ArticleDesign } from '@guardian/libs';\nimport { headline, space, until } from '@guardian/source-foundations';\nimport { LinkButton } from '@guardian/source-react-components';\nimport type { Palette } from '../../types/palette';\nimport { decidePalette } from '../lib/decidePalette';\n\nconst tagStyles = (palette: Palette) => css`\n\tbackground-color: ${palette.background.designTag};\n\tcolor: ${palette.text.designTag};\n\tdisplay: inline-block;\n\tpadding: 2px 0 4px 0;\n\t${headline.xxsmall({ fontWeight: 'bold' })}\n\tline-height: 115%;\n\tbox-shadow: 6px 0 0 ${palette.background.headlineTag},\n\t\t-6px 0 0 ${palette.background.headlineTag};\n\tbox-decoration-break: clone;\n\t${until.tablet} {\n\t\t${headline.xxxsmall({ fontWeight: 'bold' })}\n\t}\n`;\n\nconst Margins = ({\n\tchildren,\n\tformat,\n}: {\n\tchildren: React.ReactNode;\n\tformat: ArticleFormat;\n}) => {\n\tswitch (format.design) {\n\t\tcase ArticleDesign.Interview:\n\t\t\treturn (\n\t\t\t\t<div\n\t\t\t\t\tcss={css`\n\t\t\t\t\t\tmargin-left: 6px;\n\t\t\t\t\t\tmargin-top: ${space[1]}px;\n\t\t\t\t\t`}\n\t\t\t\t>\n\t\t\t\t\t{children}\n\t\t\t\t</div>\n\t\t\t);\n\t\tdefault:\n\t\t\treturn (\n\t\t\t\t<div\n\t\t\t\t\tcss={css`\n\t\t\t\t\t\tmargin-left: 6px;\n\t\t\t\t\t\tmargin-top: 5px;\n\t\t\t\t\t\t${until.tablet} {\n\t\t\t\t\t\t\tmargin-top: ${space[2]}px;\n\t\t\t\t\t\t\tmargin-bottom: ${space[1]}px;\n\t\t\t\t\t\t}\n\t\t\t\t\t`}\n\t\t\t\t>\n\t\t\t\t\t{children}\n\t\t\t\t</div>\n\t\t\t);\n\t}\n};\n\nconst Tag = ({\n\tchildren,\n\tformat,\n}: {\n\tchildren: React.ReactNode;\n\tformat: ArticleFormat;\n}) => {\n\tconst palette = decidePalette(format);\n\treturn <div css={tagStyles(palette)}>{children}</div>;\n};\n\nconst TagLink = ({\n\tchildren,\n\thref,\n}: {\n\tchildren: React.ReactNode;\n\thref: string;\n}) => {\n\treturn (\n\t\t<LinkButton\n\t\t\tpriority=\"subdued\"\n\t\t\thref={href}\n\t\t\tcssOverrides={css`\n\t\t\t\t/* The following styles turn off those provided by LinkButton */\n\t\t\t\tcolor: inherit;\n\t\t\t\ttext-decoration: none;\n\t\t\t\ttext-underline-offset: inherit;\n\t\t\t\t/* stylelint-disable-next-line property-disallowed-list */\n\t\t\t\tfont-family: inherit;\n\t\t\t\tfont-size: inherit;\n\t\t\t\tline-height: inherit;\n\n\t\t\t\t:hover {\n\t\t\t\t\tcolor: inherit;\n\t\t\t\t\ttext-decoration: underline;\n\t\t\t\t}\n\t\t\t\tmin-height: initial;\n\t\t\t\theight: initial;\n\t\t\t`}\n\t\t>\n\t\t\t{children}\n\t\t</LinkButton>\n\t);\n};\n\nexport const DesignTag = ({ format }: { format: ArticleFormat }) => {\n\tswitch (format.design) {\n\t\tcase ArticleDesign.Analysis:\n\t\t\treturn (\n\t\t\t\t<Margins format={format}>\n\t\t\t\t\t<Tag format={format}>\n\t\t\t\t\t\t<TagLink href=\"/tone/analysis\">Analysis</TagLink>\n\t\t\t\t\t</Tag>\n\t\t\t\t</Margins>\n\t\t\t);\n\t\tcase ArticleDesign.Explainer:\n\t\t\treturn (\n\t\t\t\t<Margins format={format}>\n\t\t\t\t\t<Tag format={format}>\n\t\t\t\t\t\t<TagLink href=\"/tone/explainers\">Explainer</TagLink>\n\t\t\t\t\t</Tag>\n\t\t\t\t</Margins>\n\t\t\t);\n\t\tcase ArticleDesign.Interview:\n\t\t\treturn (\n\t\t\t\t<Margins format={format}>\n\t\t\t\t\t<Tag format={format}>\n\t\t\t\t\t\t<TagLink href=\"/tone/interview\">Interview</TagLink>\n\t\t\t\t\t</Tag>\n\t\t\t\t</Margins>\n\t\t\t);\n\t\tcase ArticleDesign.Letter:\n\t\t\treturn (\n\t\t\t\t<Margins format={format}>\n\t\t\t\t\t<Tag format={format}>\n\t\t\t\t\t\t<TagLink href=\"/tone/letters\">Letters</TagLink>\n\t\t\t\t\t</Tag>\n\t\t\t\t</Margins>\n\t\t\t);\n\t\tcase ArticleDesign.Obituary:\n\t\t\treturn (\n\t\t\t\t<Margins format={format}>\n\t\t\t\t\t<Tag format={format}>\n\t\t\t\t\t\t<TagLink href=\"/tone/obituaries\">Obituary</TagLink>\n\t\t\t\t\t</Tag>\n\t\t\t\t</Margins>\n\t\t\t);\n\t\tcase ArticleDesign.Review:\n\t\t\treturn (\n\t\t\t\t<Margins format={format}>\n\t\t\t\t\t<Tag format={format}>\n\t\t\t\t\t\t<TagLink href=\"/tone/reviews\">Review</TagLink>\n\t\t\t\t\t</Tag>\n\t\t\t\t</Margins>\n\t\t\t);\n\t\tcase ArticleDesign.Timeline:\n\t\t\treturn (\n\t\t\t\t<Margins format={format}>\n\t\t\t\t\t<Tag format={format}>\n\t\t\t\t\t\t<TagLink href=\"/tone/timelines\">Timeline</TagLink>\n\t\t\t\t\t</Tag>\n\t\t\t\t</Margins>\n\t\t\t);\n\t\tcase ArticleDesign.Profile:\n\t\t\treturn (\n\t\t\t\t<Margins format={format}>\n\t\t\t\t\t<Tag format={format}>\n\t\t\t\t\t\t<TagLink href=\"/tone/profiles\">Profile</TagLink>\n\t\t\t\t\t</Tag>\n\t\t\t\t</Margins>\n\t\t\t);\n\t\tdefault:\n\t\t\treturn null;\n\t}\n};\n","import { ArticleDesign } from '@guardian/libs';\nimport {\n\tgetBylineComponentsFromTokens,\n\tgetSoleContributor,\n\tisContributor,\n} from '../../lib/byline';\nimport type { TagType } from '../../types/tag';\n\ntype Props = {\n\tbyline: string;\n\ttags: TagType[];\n\tformat: ArticleFormat;\n};\n\nconst applyCleverOrderingForMatching = (titles: string[]): string[] => {\n\t/*\n\t\tQ: Why does this function exist ?\n\n\t\tA: We had a case where the byline was \"Sam Levin in Los Angeles and Sam Levine in New York\",\n\t\twhich would lead to the regex: Sam Levin|Sam Levine. Unfortunately the first expression would take priority and we would end up\n\t\twith a bylineAsTokens equal to [\n\t\t\t'',\n\t\t\t'Sam Levin',\n\t\t\t' in Los Angeles and ',\n\t\t\t'Sam Levin',\n\t\t\t'e in New York'\n\t\t]\n\n\t\tThe solution here is simply to order the titles in decreasing length. This ensures that in a case where one name is a substring or another\n\t\tname, then the longest name is tried first, preventing the problem we had. We now have a bylineAsTokens equals to [\n\t\t\t'',\n\t\t\t'Sam Levin',\n\t\t\t' in Los Angeles and ',\n\t\t\t'Sam Levine',\n\t\t\t' in New York'\n\t\t]\n\n\t\tThis function doesn't change any thing for the \"standard\" case, but solves the \"Sam Levin|Sam Levine\" case and similar cases.\n\n\t\tps: If one day another problem comes up whose solution would be incompatible with this correction, then a better solution for the matching\n\t\twill have to be invented from the ground up, but for the moment, this will do :)\n\t*/\n\n\treturn titles\n\t\t.sort((a, b) => {\n\t\t\treturn a.length - b.length;\n\t\t})\n\t\t.reverse();\n};\n\n/**\n * This crazy function aims to split bylines such as\n * 'Harry Potter in Hogwarts' to ['Harry Potter', 'in Hogwarts']\n * Or\n * 'Jane Doe and John Smith` to ['Jane Doe', ' and ', 'John Smith']\n * It does this so we can have separate links to both contributors\n */\nexport const bylineAsTokens = (byline: string, tags: TagType[]): string[] => {\n\tconst titles = tags.filter(isContributor).map((c) => c.title);\n\t// The contributor tag title should exist inside the byline for the regex\n\t// below to work. If it doesn't, we return the whole byline to prevent the\n\t// regex splitting the string into an array of single charaters\n\tif (titles.length === 0) return [byline];\n\n\tconst regex = new RegExp(\n\t\t`(${applyCleverOrderingForMatching(titles).join('|')})`,\n\t);\n\n\treturn byline.split(regex);\n};\n\nconst ContributorLink = ({\n\tcontributor,\n\tcontributorTagId,\n}: {\n\tcontributor: string;\n\tcontributorTagId: string;\n}) => (\n\t<a\n\t\trel=\"author\"\n\t\tdata-link-name=\"auto tag link\"\n\t\thref={`//www.theguardian.com/${contributorTagId}`}\n\t>\n\t\t{contributor}\n\t</a>\n);\n\nfunction removeComma(bylinePart: string) {\n\treturn bylinePart.startsWith(',')\n\t\t? bylinePart.slice(1).trimStart()\n\t\t: bylinePart;\n}\n\nexport const BylineLink = ({ byline, tags, format }: Props) => {\n\tconst tokens = bylineAsTokens(byline, tags);\n\tconst hasSingleContributor = !!getSoleContributor(tags, byline);\n\tconst bylineComponents = getBylineComponentsFromTokens(tokens, tags);\n\n\tconst renderedTokens = bylineComponents.map((bylineComponent) => {\n\t\tif (typeof bylineComponent === 'string') {\n\t\t\tconst displayString =\n\t\t\t\tformat.design === ArticleDesign.Analysis && hasSingleContributor\n\t\t\t\t\t? removeComma(bylineComponent)\n\t\t\t\t\t: bylineComponent;\n\t\t\treturn displayString ? <span>{displayString}</span> : null;\n\t\t}\n\t\treturn (\n\t\t\t<ContributorLink\n\t\t\t\tcontributor={bylineComponent.token}\n\t\t\t\tcontributorTagId={bylineComponent.tag.id}\n\t\t\t\tkey={bylineComponent.tag.id}\n\t\t\t/>\n\t\t);\n\t});\n\n\treturn <>{renderedTokens}</>;\n};\n","import { css } from '@emotion/react';\nimport type { ArticleFormat } from '@guardian/libs';\nimport { ArticleDesign, ArticleDisplay, ArticleSpecial } from '@guardian/libs';\nimport {\n\tbrandAltBackground,\n\theadline,\n\tneutral,\n\tspace,\n\ttextSans,\n\tuntil,\n} from '@guardian/source-foundations';\nimport { getSoleContributor } from '../../lib/byline';\nimport type { Palette } from '../../types/palette';\nimport type { TagType } from '../../types/tag';\nimport { decidePalette } from '../lib/decidePalette';\nimport { BylineLink } from './BylineLink';\n\nconst wrapperStyles = css`\n\tmargin-left: 6px;\n\tmargin-top: 4px;\n\t/* Without z-index here the byline appears behind the main image for showcase views */\n\tz-index: 1;\n`;\n\nconst yellowBoxStyles = (format: ArticleFormat) => css`\n\t${format.theme === ArticleSpecial.Labs\n\t\t? textSans.large({ lineHeight: 'regular' })\n\t\t: headline.xxsmall({\n\t\t\t\tfontWeight: 'regular',\n\t\t\t\tlineHeight: 'loose',\n\t\t  })}\n\tfont-style: italic;\n\tbackground-color: ${brandAltBackground.primary};\n\tbox-shadow: 4px 0 0 ${brandAltBackground.primary},\n\t\t-6px 0 0 ${brandAltBackground.primary};\n\tdisplay: inline-block;\n\tbox-decoration-break: clone;\n\n\ta {\n\t\tcolor: inherit;\n\t\ttext-decoration: none;\n\t\t:hover {\n\t\t\ttext-decoration: underline;\n\t\t}\n\t}\n`;\n\nconst opinionWrapperStyles = css`\n\tdisplay: inline-block;\n`;\n\nconst opinionStyles = (palette: Palette, format: ArticleFormat) => css`\n\t${format.theme === ArticleSpecial.Labs\n\t\t? textSans.xxxlarge({ lineHeight: 'loose' })\n\t\t: headline.medium({\n\t\t\t\tfontWeight: 'light',\n\t\t  })}\n\tline-height: 38px;\n\t/* Used to prevent the byline stretching full width */\n\tdisplay: inline;\n\tfont-style: italic;\n\tcolor: ${palette.text.headlineByline};\n\tbackground: ${palette.background.headlineByline};\n\n\t${until.mobileMedium} {\n\t\t${headline.small({\n\t\t\tfontWeight: 'light',\n\t\t})}\n\t}\n\n\ta {\n\t\tcolor: inherit;\n\t\ttext-decoration: none;\n\t\t:hover {\n\t\t\ttext-decoration: underline;\n\t\t}\n\t}\n`;\n\nconst analysisStyles = (palette: Palette, hasSingleContributor: boolean) => css`\n\t${headline.medium({\n\t\tfontWeight: 'light',\n\t})}\n\tline-height: 38px;\n\tfont-style: italic;\n\tcolor: ${palette.text.headlineByline};\n\tbackground: ${palette.background.headlineByline};\n\n\t${hasSingleContributor &&\n\tcss`\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t`}\n\n\t${until.tablet} {\n\t\t${headline.small({\n\t\t\tfontWeight: 'light',\n\t\t})}\n\t}\n\n\ta {\n\t\tcolor: inherit;\n\t\ttext-decoration: none;\n\t\t:hover {\n\t\t\ttext-decoration: underline;\n\t\t}\n\t}\n\tspan {\n\t\tcolor: ${neutral[46]};\n\t}\n`;\n\nconst immersiveStyles = (format: ArticleFormat) => css`\n\t${format.theme === ArticleSpecial.Labs\n\t\t? textSans.large({ lineHeight: 'tight' })\n\t\t: headline.xsmall({\n\t\t\t\tfontWeight: 'light',\n\t\t  })}\n\tmargin-bottom: ${space[6]}px;\n`;\n\nconst immersiveLinkStyles = (palette: Palette, format: ArticleFormat) => css`\n\ta {\n\t\tcolor: ${palette.text.headlineByline};\n\t\tborder-bottom: 1px solid\n\t\t\t${format.theme === ArticleSpecial.Labs\n\t\t\t\t? palette.border.articleLink\n\t\t\t\t: palette.text.headlineByline};\n\t\ttext-decoration: none;\n\t\t:hover {\n\t\t\tborder-bottom: 1px solid ${palette.hover.headlineByline};\n\t\t\tcolor: ${palette.hover.headlineByline};\n\t\t\ttext-decoration: none;\n\t\t}\n\t}\n`;\n\n// If there is an image reduce the width of the author div\nconst authorBylineWithImage = css`\n\twidth: 68%;\n`;\n\ntype Props = {\n\tformat: ArticleFormat;\n\tbyline: string;\n\ttags: TagType[];\n};\n\nexport const HeadlineByline = ({ format, byline, tags }: Props) => {\n\tif (byline === '') {\n\t\treturn null;\n\t}\n\n\tconst palette = decidePalette(format);\n\n\tconst hasSingleContributor = !!getSoleContributor(tags, byline);\n\n\tswitch (format.display) {\n\t\tcase ArticleDisplay.Immersive:\n\t\t\treturn (\n\t\t\t\t<div css={immersiveStyles(format)}>\n\t\t\t\t\tby{' '}\n\t\t\t\t\t<span css={immersiveLinkStyles(palette, format)}>\n\t\t\t\t\t\t<BylineLink\n\t\t\t\t\t\t\tbyline={byline}\n\t\t\t\t\t\t\ttags={tags}\n\t\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\tcase ArticleDisplay.Showcase:\n\t\tcase ArticleDisplay.NumberedList:\n\t\tcase ArticleDisplay.Standard:\n\t\tdefault: {\n\t\t\tswitch (format.design) {\n\t\t\t\tcase ArticleDesign.Interview:\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div css={wrapperStyles}>\n\t\t\t\t\t\t\t<div css={yellowBoxStyles(format)}>\n\t\t\t\t\t\t\t\t<BylineLink\n\t\t\t\t\t\t\t\t\tbyline={byline}\n\t\t\t\t\t\t\t\t\ttags={tags}\n\t\t\t\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\tcase ArticleDesign.Editorial:\n\t\t\t\tcase ArticleDesign.Letter:\n\t\t\t\tcase ArticleDesign.Comment:\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\t\topinionWrapperStyles,\n\t\t\t\t\t\t\t\thasSingleContributor && authorBylineWithImage,\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div css={opinionStyles(palette, format)}>\n\t\t\t\t\t\t\t\t<BylineLink\n\t\t\t\t\t\t\t\t\tbyline={byline}\n\t\t\t\t\t\t\t\t\ttags={tags}\n\t\t\t\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\tcase ArticleDesign.Analysis:\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div css={opinionWrapperStyles}>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tcss={analysisStyles(\n\t\t\t\t\t\t\t\t\tpalette,\n\t\t\t\t\t\t\t\t\thasSingleContributor,\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<BylineLink\n\t\t\t\t\t\t\t\t\tbyline={byline}\n\t\t\t\t\t\t\t\t\ttags={tags}\n\t\t\t\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\tdefault:\n\t\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t}\n};\n","import { css } from '@emotion/react';\nimport type { ArticleFormat } from '@guardian/libs';\nimport { ArticleDesign, ArticleDisplay, ArticleSpecial } from '@guardian/libs';\nimport {\n\tfrom,\n\theadline,\n\tspace,\n\ttextSans,\n\tuntil,\n} from '@guardian/source-foundations';\nimport { getAgeWarning } from '../../lib/age-warning';\nimport type { Palette } from '../../types/palette';\nimport type { TagType } from '../../types/tag';\nimport { interactiveLegacyClasses } from '../layouts/lib/interactiveLegacyStyling';\nimport { decidePalette } from '../lib/decidePalette';\nimport { getZIndex } from '../lib/getZIndex';\nimport { AgeWarning } from './AgeWarning';\nimport { DesignTag } from './DesignTag';\nimport { HeadlineByline } from './HeadlineByline';\n\ntype Props = {\n\theadlineString: string;\n\tformat: ArticleFormat;\n\tbyline?: string;\n\ttags: TagType[];\n\twebPublicationDateDeprecated: string;\n\thasStarRating?: boolean;\n\thasAvatar?: boolean;\n\tisMatch?: boolean;\n};\n\nconst curly = (x: any) => x;\n\nconst topPadding = css`\n\t${from.leftCol} {\n\t\tpadding-top: ${space[1]}px;\n\t}\n`;\n\nconst standardFont = css`\n\t${headline.medium()};\n\t${until.tablet} {\n\t\t${headline.small()};\n\t}\n`;\n\nconst labsFont = css`\n\t${textSans.xlarge({ fontWeight: 'bold' })};\n\tline-height: 32px;\n\t${from.tablet} {\n\t\t${textSans.xxxlarge({ fontWeight: 'bold' })};\n\t\tline-height: 38px;\n\t}\n`;\n\nconst boldFont = css`\n\t${headline.medium({ fontWeight: 'bold' })};\n\t${until.tablet} {\n\t\t${headline.small({ fontWeight: 'bold' })};\n\t}\n`;\n\nconst jumboFont = css`\n\t${headline.xlarge({ fontWeight: 'bold' })};\n\tline-height: 56px;\n\t${until.desktop} {\n\t\t${headline.medium({ fontWeight: 'bold' })};\n\t}\n`;\n\nconst jumboLabsFont = css`\n\t${textSans.xxxlarge({ fontWeight: 'bold' })};\n\tfont-size: 50px;\n\tline-height: 56px;\n\t${until.desktop} {\n\t\t${textSans.xxlarge({ fontWeight: 'bold' })};\n\t\tfont-size: 34px;\n\t\tline-height: 38px;\n\t}\n`;\n\nconst invertedFont = css`\n\t${headline.medium({ fontWeight: 'bold' })};\n\tline-height: 42px;\n\t${until.tablet} {\n\t\t${headline.small({ fontWeight: 'bold' })};\n\t\tline-height: 35px;\n\t}\n`;\n\nconst lightFont = css`\n\t${headline.medium({ fontWeight: 'light' })};\n\tfont-size: 2.125rem;\n\tline-height: 2.375rem;\n\t${until.mobileMedium} {\n\t\t${headline.small({ fontWeight: 'light' })};\n\t}\n`;\n\nconst displayBlock = css`\n\tdisplay: block;\n`;\n\nconst displayInline = css`\n\tdisplay: inline;\n`;\n\nconst displayFlex = css`\n\tdisplay: flex;\n\tflex-direction: column;\n`;\n\nconst shiftSlightly = css`\n\tmargin-bottom: 16px;\n`;\n\nconst invertedStyles = (palette: Palette) => css`\n\tposition: relative;\n\twhite-space: pre-wrap;\n\tpadding-bottom: ${space[1]}px;\n\tpadding-right: ${space[1]}px;\n\tbox-shadow: -6px 0 0 ${palette.background.headline};\n\t/* Box decoration is required to push the box shadow out on Firefox */\n\tbox-decoration-break: clone;\n`;\n\nconst immersiveStyles = css`\n\tmin-height: 112px;\n\tpadding-bottom: ${space[9]}px;\n\tpadding-left: ${space[1]}px;\n\t${from.mobileLandscape} {\n\t\tpadding-left: ${space[3]}px;\n\t}\n\t${from.tablet} {\n\t\tpadding-left: ${space[1]}px;\n\t}\n\tmargin-right: ${space[5]}px;\n`;\n\nconst reducedBottomPadding = css`\n\tpadding-bottom: ${space[4]}px;\n`;\n\nconst darkBackground = (palette: Palette) => css`\n\tbackground-color: ${palette.background.headline};\n`;\n\nconst invertedText = css`\n\twhite-space: pre-wrap;\n\tpadding-bottom: ${space[1]}px;\n\tpadding-right: ${space[1]}px;\n`;\n\nconst maxWidth = css`\n\t${from.desktop} {\n\t\tmax-width: 620px;\n\t}\n`;\n\nconst invertedWrapper = css`\n\t/*\n        Because we use box-shadow (to get clean and even background styles\n        even when lines wrap) we need a margin on this wrapper div to\n        shift everything back to the right\n    */\n\tmargin-left: 6px;\n`;\n\nconst immersiveWrapper = css`\n\t/*\n        Make sure we vertically align the headline font with the body font\n    */\n\tmargin-left: 6px;\n\t${from.tablet} {\n\t\tmargin-left: 16px;\n\t}\n\t${from.leftCol} {\n\t\tmargin-left: 25px;\n\t}\n\t/*\n        We need this grow to ensure the headline fills the main content column\n    */\n\tflex-grow: 1;\n\t/*\n        This z-index is what ensures the headline text shows above the pseudo black\n        box that extends the black background to the right\n    */\n\t${getZIndex('articleHeadline')}\n\t${until.mobileLandscape} {\n\t\tmargin-right: 40px;\n\t}\n`;\n\n// Due to MainMedia using position: relative, this seems to effect the rendering order\n// To mitigate we use z-index\n// TODO: find a cleaner solution\nconst zIndex = css`\n\tz-index: 1;\n`;\n\nconst ageWarningMargins = (format: ArticleFormat) =>\n\tformat.display === ArticleDisplay.Immersive\n\t\t? css`\n\t\t\t\tmargin-left: 0px;\n\t\t\t\tmargin-bottom: 0px;\n\n\t\t\t\t${from.tablet} {\n\t\t\t\t\tmargin-left: 10px;\n\t\t\t\t}\n\n\t\t\t\t${from.leftCol} {\n\t\t\t\t\tmargin-left: 20px;\n\t\t\t\t}\n\t\t  `\n\t\t: css`\n\t\t\t\tmargin-top: 12px;\n\t\t\t\tmargin-left: -10px;\n\t\t\t\tmargin-bottom: 6px;\n\n\t\t\t\t${from.tablet} {\n\t\t\t\t\tmargin-left: -20px;\n\t\t\t\t}\n\n\t\t\t\t${from.leftCol} {\n\t\t\t\t\tmargin-left: -10px;\n\t\t\t\t\tmargin-top: 0;\n\t\t\t\t}\n\t\t  `;\n\nconst backgroundStyles = (palette: Palette) => css`\n\tbackground-color: ${palette.background.ageWarning};\n`;\n\nconst WithAgeWarning = ({\n\ttags,\n\twebPublicationDateDeprecated,\n\tformat,\n\tchildren,\n}: {\n\ttags: TagType[];\n\twebPublicationDateDeprecated: string;\n\tformat: ArticleFormat;\n\tchildren: React.ReactNode;\n}) => {\n\tconst palette = decidePalette(format);\n\tconst age = getAgeWarning(tags, webPublicationDateDeprecated);\n\n\tif (age) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<div\n\t\t\t\t\tcss={[backgroundStyles(palette), ageWarningMargins(format)]}\n\t\t\t\t>\n\t\t\t\t\t<AgeWarning age={age} />\n\t\t\t\t</div>\n\t\t\t\t{children}\n\t\t\t\t<AgeWarning age={age} isScreenReader={true} />\n\t\t\t</>\n\t\t);\n\t}\n\n\treturn <>{children}</>;\n};\n\nconst decideBottomPadding = ({\n\tformat,\n\thasStarRating,\n\thasAvatar,\n}: {\n\tformat: ArticleFormat;\n\thasStarRating?: boolean;\n\thasAvatar?: boolean;\n}) => {\n\tconst defaultPadding = css`\n\t\tpadding-bottom: ${space[6]}px;\n\t\t${from.tablet} {\n\t\t\tpadding-bottom: ${space[9]}px;\n\t\t}\n\t`;\n\tswitch (format.display) {\n\t\tcase ArticleDisplay.Immersive:\n\t\t\t// Immersive articles have no padding\n\t\t\treturn '';\n\t\tcase ArticleDisplay.Showcase:\n\t\t\tswitch (format.design) {\n\t\t\t\tcase ArticleDesign.Comment:\n\t\t\t\tcase ArticleDesign.Editorial:\n\t\t\t\tcase ArticleDesign.Letter:\n\t\t\t\t\t// Opinion pieces with an avatar have no padding\n\t\t\t\t\t// Those with no avatar always have 43 pixels of bottom padding\n\t\t\t\t\treturn hasAvatar\n\t\t\t\t\t\t? ''\n\t\t\t\t\t\t: css`\n\t\t\t\t\t\t\t\tpadding-bottom: 43px;\n\t\t\t\t\t\t  `;\n\t\t\t\tcase ArticleDesign.LiveBlog:\n\t\t\t\tcase ArticleDesign.DeadBlog:\n\t\t\t\t\t// Don't add extra padding\n\t\t\t\t\treturn '';\n\t\t\t\tdefault:\n\t\t\t\t\t// Non opinion showcase articles always have 24 pixels\n\t\t\t\t\treturn css`\n\t\t\t\t\t\tpadding-bottom: ${space[6]}px;\n\t\t\t\t\t`;\n\t\t\t}\n\t\tdefault: {\n\t\t\tswitch (format.design) {\n\t\t\t\tcase ArticleDesign.Review:\n\t\t\t\t\tif (hasStarRating) {\n\t\t\t\t\t\treturn '';\n\t\t\t\t\t}\n\t\t\t\t\treturn defaultPadding;\n\n\t\t\t\tcase ArticleDesign.Comment:\n\t\t\t\tcase ArticleDesign.Editorial:\n\t\t\t\tcase ArticleDesign.Letter:\n\t\t\t\t\t// Opinion pieces with an avatar have no padding\n\t\t\t\t\t// Those with no avatar always have 43 pixels of bottom padding\n\t\t\t\t\treturn hasAvatar\n\t\t\t\t\t\t? ''\n\t\t\t\t\t\t: css`\n\t\t\t\t\t\t\t\tpadding-bottom: 43px;\n\t\t\t\t\t\t  `;\n\t\t\t\tcase ArticleDesign.Interview:\n\t\t\t\tcase ArticleDesign.LiveBlog:\n\t\t\t\tcase ArticleDesign.DeadBlog:\n\t\t\t\t\t// Don't add extra padding\n\t\t\t\t\treturn '';\n\t\t\t\tdefault:\n\t\t\t\t\treturn defaultPadding;\n\t\t\t}\n\t\t}\n\t}\n};\n\nexport const ArticleHeadline = ({\n\theadlineString,\n\tformat,\n\ttags,\n\tbyline,\n\twebPublicationDateDeprecated,\n\thasStarRating,\n\thasAvatar,\n\tisMatch,\n}: Props) => {\n\tconst palette = decidePalette(format);\n\tswitch (format.display) {\n\t\tcase ArticleDisplay.Immersive: {\n\t\t\tswitch (format.design) {\n\t\t\t\tcase ArticleDesign.PrintShop:\n\t\t\t\t\t// Immersive headlines have two versions, with main media, and (this one) without\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tcss={decideBottomPadding({\n\t\t\t\t\t\t\t\tformat,\n\t\t\t\t\t\t\t\thasStarRating,\n\t\t\t\t\t\t\t\thasAvatar,\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<WithAgeWarning\n\t\t\t\t\t\t\t\ttags={tags}\n\t\t\t\t\t\t\t\twebPublicationDateDeprecated={\n\t\t\t\t\t\t\t\t\twebPublicationDateDeprecated\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<h1\n\t\t\t\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\t\t\t\tformat.theme === ArticleSpecial.Labs\n\t\t\t\t\t\t\t\t\t\t\t? jumboLabsFont\n\t\t\t\t\t\t\t\t\t\t\t: jumboFont,\n\t\t\t\t\t\t\t\t\t\tmaxWidth,\n\t\t\t\t\t\t\t\t\t\timmersiveStyles,\n\t\t\t\t\t\t\t\t\t\tdisplayBlock,\n\t\t\t\t\t\t\t\t\t\treducedBottomPadding,\n\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{curly(headlineString)}\n\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t</WithAgeWarning>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\tcase ArticleDesign.Comment:\n\t\t\t\tcase ArticleDesign.Editorial:\n\t\t\t\tcase ArticleDesign.Letter:\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tcss={decideBottomPadding({\n\t\t\t\t\t\t\t\tformat,\n\t\t\t\t\t\t\t\thasStarRating,\n\t\t\t\t\t\t\t\thasAvatar,\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<WithAgeWarning\n\t\t\t\t\t\t\t\ttags={tags}\n\t\t\t\t\t\t\t\twebPublicationDateDeprecated={\n\t\t\t\t\t\t\t\t\twebPublicationDateDeprecated\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<h1\n\t\t\t\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\t\t\t\tformat.theme === ArticleSpecial.Labs\n\t\t\t\t\t\t\t\t\t\t\t? labsFont\n\t\t\t\t\t\t\t\t\t\t\t: lightFont,\n\t\t\t\t\t\t\t\t\t\tinvertedText,\n\t\t\t\t\t\t\t\t\t\tcss`\n\t\t\t\t\t\t\t\t\t\t\tcolor: ${palette.text.headline};\n\t\t\t\t\t\t\t\t\t\t`,\n\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{curly(headlineString)}\n\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t</WithAgeWarning>\n\t\t\t\t\t\t\t{!!byline && (\n\t\t\t\t\t\t\t\t<HeadlineByline\n\t\t\t\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\t\t\t\tbyline={byline}\n\t\t\t\t\t\t\t\t\ttags={tags}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\tdefault:\n\t\t\t\t\treturn (\n\t\t\t\t\t\t// Immersive headlines with main media present, are large and inverted with\n\t\t\t\t\t\t// a black background. They also have no padding and we want to avoid any\n\t\t\t\t\t\t// wrapper div as this affects the z-index stack\n\t\t\t\t\t\t<WithAgeWarning\n\t\t\t\t\t\t\ttags={tags}\n\t\t\t\t\t\t\twebPublicationDateDeprecated={\n\t\t\t\t\t\t\t\twebPublicationDateDeprecated\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<h1\n\t\t\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\t\t\timmersiveWrapper,\n\t\t\t\t\t\t\t\t\tdarkBackground(palette),\n\t\t\t\t\t\t\t\t\tcss`\n\t\t\t\t\t\t\t\t\t\tcolor: ${palette.text.headline};\n\t\t\t\t\t\t\t\t\t`,\n\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\t\t\t\tformat.theme === ArticleSpecial.Labs\n\t\t\t\t\t\t\t\t\t\t\t? jumboLabsFont\n\t\t\t\t\t\t\t\t\t\t\t: jumboFont,\n\t\t\t\t\t\t\t\t\t\tmaxWidth,\n\t\t\t\t\t\t\t\t\t\tinvertedStyles(palette),\n\t\t\t\t\t\t\t\t\t\timmersiveStyles,\n\t\t\t\t\t\t\t\t\t\tdisplayBlock,\n\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{curly(headlineString)}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t</WithAgeWarning>\n\t\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\tcase ArticleDisplay.NumberedList:\n\t\t\treturn (\n\t\t\t\t<div\n\t\t\t\t\tcss={decideBottomPadding({\n\t\t\t\t\t\tformat,\n\t\t\t\t\t\thasStarRating,\n\t\t\t\t\t\thasAvatar,\n\t\t\t\t\t})}\n\t\t\t\t>\n\t\t\t\t\t<WithAgeWarning\n\t\t\t\t\t\ttags={tags}\n\t\t\t\t\t\twebPublicationDateDeprecated={\n\t\t\t\t\t\t\twebPublicationDateDeprecated\n\t\t\t\t\t\t}\n\t\t\t\t\t\tformat={format}\n\t\t\t\t\t>\n\t\t\t\t\t\t<DesignTag format={format} />\n\t\t\t\t\t\t<h1\n\t\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\t\tformat.theme === ArticleSpecial.Labs\n\t\t\t\t\t\t\t\t\t? labsFont\n\t\t\t\t\t\t\t\t\t: boldFont,\n\t\t\t\t\t\t\t\ttopPadding,\n\t\t\t\t\t\t\t\tcss`\n\t\t\t\t\t\t\t\t\tcolor: ${palette.text.headline};\n\t\t\t\t\t\t\t\t`,\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{curly(headlineString)}\n\t\t\t\t\t\t</h1>\n\t\t\t\t\t</WithAgeWarning>\n\t\t\t\t</div>\n\t\t\t);\n\t\tcase ArticleDisplay.Showcase:\n\t\tcase ArticleDisplay.Standard:\n\t\tdefault: {\n\t\t\tswitch (format.design) {\n\t\t\t\tcase ArticleDesign.Review:\n\t\t\t\tcase ArticleDesign.Recipe:\n\t\t\t\tcase ArticleDesign.Feature:\n\t\t\t\tcase ArticleDesign.Explainer:\n\t\t\t\tcase ArticleDesign.Timeline:\n\t\t\t\tcase ArticleDesign.Profile:\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tcss={decideBottomPadding({\n\t\t\t\t\t\t\t\tformat,\n\t\t\t\t\t\t\t\thasStarRating,\n\t\t\t\t\t\t\t\thasAvatar,\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<WithAgeWarning\n\t\t\t\t\t\t\t\ttags={tags}\n\t\t\t\t\t\t\t\twebPublicationDateDeprecated={\n\t\t\t\t\t\t\t\t\twebPublicationDateDeprecated\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<DesignTag format={format} />\n\t\t\t\t\t\t\t\t<h1\n\t\t\t\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\t\t\t\tformat.theme === ArticleSpecial.Labs\n\t\t\t\t\t\t\t\t\t\t\t? labsFont\n\t\t\t\t\t\t\t\t\t\t\t: boldFont,\n\t\t\t\t\t\t\t\t\t\ttopPadding,\n\t\t\t\t\t\t\t\t\t\tcss`\n\t\t\t\t\t\t\t\t\t\t\tcolor: ${palette.text.headline};\n\t\t\t\t\t\t\t\t\t\t`,\n\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{curly(headlineString)}\n\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t</WithAgeWarning>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\tcase ArticleDesign.Comment:\n\t\t\t\tcase ArticleDesign.Editorial:\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tcss={decideBottomPadding({\n\t\t\t\t\t\t\t\tformat,\n\t\t\t\t\t\t\t\thasStarRating,\n\t\t\t\t\t\t\t\thasAvatar,\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<WithAgeWarning\n\t\t\t\t\t\t\t\ttags={tags}\n\t\t\t\t\t\t\t\twebPublicationDateDeprecated={\n\t\t\t\t\t\t\t\t\twebPublicationDateDeprecated\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<DesignTag format={format} />\n\t\t\t\t\t\t\t\t<h1\n\t\t\t\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\t\t\t\tformat.theme === ArticleSpecial.Labs\n\t\t\t\t\t\t\t\t\t\t\t? labsFont\n\t\t\t\t\t\t\t\t\t\t\t: lightFont,\n\t\t\t\t\t\t\t\t\t\ttopPadding,\n\t\t\t\t\t\t\t\t\t\tcss`\n\t\t\t\t\t\t\t\t\t\t\tcolor: ${palette.text.headline};\n\t\t\t\t\t\t\t\t\t\t`,\n\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{curly(headlineString)}\n\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t</WithAgeWarning>\n\t\t\t\t\t\t\t{!!byline && (\n\t\t\t\t\t\t\t\t<HeadlineByline\n\t\t\t\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\t\t\t\tbyline={byline}\n\t\t\t\t\t\t\t\t\ttags={tags}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\n\t\t\t\tcase ArticleDesign.Letter:\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tcss={decideBottomPadding({\n\t\t\t\t\t\t\t\tformat,\n\t\t\t\t\t\t\t\thasStarRating,\n\t\t\t\t\t\t\t\thasAvatar,\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<WithAgeWarning\n\t\t\t\t\t\t\t\ttags={tags}\n\t\t\t\t\t\t\t\twebPublicationDateDeprecated={\n\t\t\t\t\t\t\t\t\twebPublicationDateDeprecated\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<DesignTag format={format} />\n\t\t\t\t\t\t\t\t<h1\n\t\t\t\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\t\t\t\tformat.theme === ArticleSpecial.Labs\n\t\t\t\t\t\t\t\t\t\t\t? labsFont\n\t\t\t\t\t\t\t\t\t\t\t: lightFont,\n\t\t\t\t\t\t\t\t\t\ttopPadding,\n\t\t\t\t\t\t\t\t\t\tcss`\n\t\t\t\t\t\t\t\t\t\t\tcolor: ${palette.text.headline};\n\t\t\t\t\t\t\t\t\t\t`,\n\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{curly(headlineString)}\n\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t</WithAgeWarning>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\tcase ArticleDesign.Interview:\n\t\t\t\t\treturn (\n\t\t\t\t\t\t// Inverted headlines have a wrapper div for positioning\n\t\t\t\t\t\t// and a black background (only for the text)\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\t\tshiftSlightly,\n\t\t\t\t\t\t\t\tmaxWidth,\n\t\t\t\t\t\t\t\tdisplayFlex,\n\t\t\t\t\t\t\t\tdecideBottomPadding({\n\t\t\t\t\t\t\t\t\tformat,\n\t\t\t\t\t\t\t\t\thasStarRating,\n\t\t\t\t\t\t\t\t\thasAvatar,\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<WithAgeWarning\n\t\t\t\t\t\t\t\ttags={tags}\n\t\t\t\t\t\t\t\twebPublicationDateDeprecated={\n\t\t\t\t\t\t\t\t\twebPublicationDateDeprecated\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<DesignTag format={format} />\n\t\t\t\t\t\t\t\t<h1\n\t\t\t\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\t\t\t\tformat.theme === ArticleSpecial.Labs\n\t\t\t\t\t\t\t\t\t\t\t? labsFont\n\t\t\t\t\t\t\t\t\t\t\t: invertedFont,\n\t\t\t\t\t\t\t\t\t\tinvertedWrapper,\n\t\t\t\t\t\t\t\t\t\tzIndex,\n\t\t\t\t\t\t\t\t\t\tcss`\n\t\t\t\t\t\t\t\t\t\t\tcolor: ${palette.text.headline};\n\t\t\t\t\t\t\t\t\t\t`,\n\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\t\t\t\t\tdarkBackground(palette),\n\t\t\t\t\t\t\t\t\t\t\tinvertedStyles(palette),\n\t\t\t\t\t\t\t\t\t\t\tdisplayInline,\n\t\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{curly(headlineString)}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t</WithAgeWarning>\n\t\t\t\t\t\t\t{!!byline && (\n\t\t\t\t\t\t\t\t<HeadlineByline\n\t\t\t\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\t\t\t\tbyline={byline}\n\t\t\t\t\t\t\t\t\ttags={tags}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\tcase ArticleDesign.Analysis:\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tcss={decideBottomPadding({\n\t\t\t\t\t\t\t\tformat,\n\t\t\t\t\t\t\t\thasStarRating,\n\t\t\t\t\t\t\t\thasAvatar,\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<WithAgeWarning\n\t\t\t\t\t\t\t\ttags={tags}\n\t\t\t\t\t\t\t\twebPublicationDateDeprecated={\n\t\t\t\t\t\t\t\t\twebPublicationDateDeprecated\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<DesignTag format={format} />\n\t\t\t\t\t\t\t\t<h1\n\t\t\t\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\t\t\t\tformat.theme === ArticleSpecial.Labs\n\t\t\t\t\t\t\t\t\t\t\t? labsFont\n\t\t\t\t\t\t\t\t\t\t\t: standardFont,\n\t\t\t\t\t\t\t\t\t\ttopPadding,\n\t\t\t\t\t\t\t\t\t\tcss`\n\t\t\t\t\t\t\t\t\t\t\tcolor: ${palette.text.headline};\n\t\t\t\t\t\t\t\t\t\t`,\n\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{curly(headlineString)}\n\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t</WithAgeWarning>\n\t\t\t\t\t\t\t{!!byline && (\n\t\t\t\t\t\t\t\t<HeadlineByline\n\t\t\t\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\t\t\t\tbyline={byline}\n\t\t\t\t\t\t\t\t\ttags={tags}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\tcase ArticleDesign.LiveBlog:\n\t\t\t\tcase ArticleDesign.DeadBlog:\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tcss={decideBottomPadding({\n\t\t\t\t\t\t\t\tformat,\n\t\t\t\t\t\t\t\thasStarRating,\n\t\t\t\t\t\t\t\thasAvatar,\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<WithAgeWarning\n\t\t\t\t\t\t\t\ttags={tags}\n\t\t\t\t\t\t\t\twebPublicationDateDeprecated={\n\t\t\t\t\t\t\t\t\twebPublicationDateDeprecated\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<DesignTag format={format} />\n\t\t\t\t\t\t\t\t<h1\n\t\t\t\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\t\t\t\tformat.theme === ArticleSpecial.Labs\n\t\t\t\t\t\t\t\t\t\t\t? labsFont\n\t\t\t\t\t\t\t\t\t\t\t: standardFont,\n\t\t\t\t\t\t\t\t\t\tcss`\n\t\t\t\t\t\t\t\t\t\t\tcolor: ${isMatch\n\t\t\t\t\t\t\t\t\t\t\t\t? palette.text.headlineWhenMatch\n\t\t\t\t\t\t\t\t\t\t\t\t: palette.text.headline};\n\t\t\t\t\t\t\t\t\t\t\tpadding-bottom: ${space[9]}px;\n\t\t\t\t\t\t\t\t\t\t`,\n\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{curly(headlineString)}\n\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t</WithAgeWarning>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\tcase ArticleDesign.Interactive:\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\t\tdecideBottomPadding({\n\t\t\t\t\t\t\t\t\tformat,\n\t\t\t\t\t\t\t\t\thasStarRating,\n\t\t\t\t\t\t\t\t\thasAvatar,\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\tcss`\n\t\t\t\t\t\t\t\t\tposition: relative;\n\t\t\t\t\t\t\t\t`,\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<WithAgeWarning\n\t\t\t\t\t\t\t\ttags={tags}\n\t\t\t\t\t\t\t\twebPublicationDateDeprecated={\n\t\t\t\t\t\t\t\t\twebPublicationDateDeprecated\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<DesignTag format={format} />\n\t\t\t\t\t\t\t\t<h1\n\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\tinteractiveLegacyClasses.headline\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\t\t\t\tformat.theme === ArticleSpecial.Labs\n\t\t\t\t\t\t\t\t\t\t\t? labsFont\n\t\t\t\t\t\t\t\t\t\t\t: standardFont,\n\t\t\t\t\t\t\t\t\t\ttopPadding,\n\t\t\t\t\t\t\t\t\t\tcss`\n\t\t\t\t\t\t\t\t\t\t\tcolor: ${palette.text.headline};\n\t\t\t\t\t\t\t\t\t\t`,\n\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{curly(headlineString)}\n\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t</WithAgeWarning>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\tdefault:\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tcss={decideBottomPadding({\n\t\t\t\t\t\t\t\tformat,\n\t\t\t\t\t\t\t\thasStarRating,\n\t\t\t\t\t\t\t\thasAvatar,\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<WithAgeWarning\n\t\t\t\t\t\t\t\ttags={tags}\n\t\t\t\t\t\t\t\twebPublicationDateDeprecated={\n\t\t\t\t\t\t\t\t\twebPublicationDateDeprecated\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<DesignTag format={format} />\n\t\t\t\t\t\t\t\t<h1\n\t\t\t\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\t\t\t\tformat.theme === ArticleSpecial.Labs\n\t\t\t\t\t\t\t\t\t\t\t? labsFont\n\t\t\t\t\t\t\t\t\t\t\t: standardFont,\n\t\t\t\t\t\t\t\t\t\ttopPadding,\n\t\t\t\t\t\t\t\t\t\tcss`\n\t\t\t\t\t\t\t\t\t\t\tcolor: ${palette.text.headline};\n\t\t\t\t\t\t\t\t\t\t`,\n\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{curly(headlineString)}\n\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t</WithAgeWarning>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n};\n","import type { TagType } from '../types/tag';\n\nexport const getAgeWarning = (\n\ttags: TagType[],\n\twebPublicationDate: string,\n): string | undefined => {\n\tconst isNews = tags.some((t) => t.id === 'tone/news');\n\tconst isOpinion = tags.some((t) => t.id === 'tone/comment');\n\tlet message;\n\n\t// Only show an age warning for news or opinion pieces\n\tif (isNews || isOpinion) {\n\t\tconst warnLimitDays = 30;\n\t\tconst currentDate = new Date();\n\t\tconst dateThreshold = new Date();\n\n\t\tdateThreshold.setDate(currentDate.getDate() - warnLimitDays);\n\n\t\tconst publicationDate = new Date(webPublicationDate);\n\n\t\t// if the publication date is before the date threshold generate message\n\t\tif (publicationDate < dateThreshold) {\n\t\t\t// Unary + coerces dates to numbers for TypeScript\n\t\t\tconst diffMilliseconds = +currentDate - +publicationDate;\n\t\t\tconst diffSeconds = Math.floor(diffMilliseconds / 1000);\n\t\t\tconst diffMinutes = diffSeconds / 60;\n\t\t\tconst diffHours = diffMinutes / 60;\n\t\t\tconst diffDays = diffHours / 24;\n\t\t\tconst diffMonths = diffDays / 31;\n\t\t\tconst diffYears = diffDays / 365;\n\n\t\t\tif (diffYears >= 2) {\n\t\t\t\tmessage = `${Math.floor(diffYears)} years old`;\n\t\t\t} else if (diffYears > 1) {\n\t\t\t\tmessage = '1 year old';\n\t\t\t} else if (diffMonths >= 2) {\n\t\t\t\tmessage = `${Math.floor(diffMonths)} months old`;\n\t\t\t} else if (diffMonths > 1) {\n\t\t\t\tmessage = '1 month old';\n\t\t\t}\n\t\t}\n\t}\n\treturn message;\n};\n","export const Eight = () => (\n\t<svg width=\"29\" height=\"40\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<path\n\t\t\td=\"M29 29.5C29 35.9 23.7 40 14.1 40 4.5 40 0 36.3 0 30.5c0-5 4.2-8.3 9.1-9.3-5-3-8-6.4-8-11C1.2 3.8 6.2 0 14.8 0c9.2 0 13 3.5 13 8.2 0 5-4.2 7.6-9.2 8.6l1.6.9c5.5 3 8.9 5.8 8.9 11.8zM15 14.7l2.2 1.3c1.6-1.9 2.6-4.3 2.6-7.7 0-4.8-2-7.2-5.3-7.2-3.7 0-5.7 2.3-5.7 6 0 3.8 2.6 5.7 6.1 7.6zM8.1 30.4c0 5.2 2.1 8.5 6.4 8.5 4 0 6.4-2.6 6.4-6.9 0-3.7-2.7-5.5-6.2-7.5l-4-2.4a12.8 12.8 0 0 0-2.6 8.3z\"\n\t\t\tfillRule=\"evenodd\"\n\t\t/>\n\t</svg>\n);\n","export const Five = () => (\n\t<svg width=\"27\" height=\"40\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<path\n\t\t\td=\"M11.9 40C21.5 40 27 34.8 27 27c0-8.2-5.3-12-13-12-3.9 0-8.1 1-10.7 4l.6-11.5h20.7l.7-7.5h-22L2 20.8a12 12 0 0 1 5.7-1.3c5.5 0 8.7 2.8 8.7 8.5 0 5.8-3.3 9.1-9.6 9.1A16 16 0 0 1 0 35.5v1.3C2.6 38.6 6.8 40 11.9 40z\"\n\t\t\tfillRule=\"evenodd\"\n\t\t/>\n\t</svg>\n);\n","export const Four = () => (\n\t<svg width=\"31\" height=\"40\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<path\n\t\t\td=\"M12.5 40v-1l4.3-1.3v-9.2H0v-1L18.7 0h8.1v27.4H31v1.1h-4.2v9.2l3.7 1.4v.9h-18zm-11-12.6h15.3v-22h-.3l-15 21.8v.2z\"\n\t\t\tfillRule=\"evenodd\"\n\t\t/>\n\t</svg>\n);\n","export const Nine = () => (\n\t<svg width=\"31\" height=\"40\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<path\n\t\t\td=\"M31 19c0 14.7-7.9 21-18.6 21C8 40 4 38.8 2.2 37.4v-1.1c1.8 1 4 1.3 6.5 1.3 7.8 0 11-5.3 11.6-16.2a14 14 0 0 1-9.6 4C3.7 25.5 0 20.2 0 13.2 0 5.7 5 0 15 0c11 0 16 7.7 16 19zm-20.6-7.3c0 7 1.7 9.5 5.3 9.5 1.5 0 3.4-.3 4.7-1v-2.8C20.4 5.8 18.7 1 15 1c-3.2 0-4.5 3.1-4.5 10.6z\"\n\t\t\tfillRule=\"evenodd\"\n\t\t/>\n\t</svg>\n);\n","export const One = () => (\n\t<svg width=\"21\" height=\"40\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<path\n\t\t\td=\"M0 40h21v-1l-5.4-1.6V0h-4.3L.1 5.4v1.3l5.5-1.4v32.1L0 39.1z\"\n\t\t\tfillRule=\"evenodd\"\n\t\t/>\n\t</svg>\n);\n","export const Seven = () => (\n\t<svg width=\"28\" height=\"40\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<path\n\t\t\td=\"M3.4 40h11L28 6V0H.6L0 12.3h1.1L3 7.5h23v.3z\"\n\t\t\tfillRule=\"evenodd\"\n\t\t/>\n\t</svg>\n);\n","export const Six = () => (\n\t<svg width=\"31\" height=\"40\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<path\n\t\t\td=\"M31 27c0 7.3-5 13-15 13C5 40 0 32.3 0 21 0 6.4 7.9 0 18.6 0a17 17 0 0 1 9.7 2.6v1.1a12 12 0 0 0-6-1.3c-7.8 0-11 5.3-11.6 16.2a14 14 0 0 1 9.6-4c7 0 10.7 5.3 10.7 12.3zm-20-4c0 11.5 1.7 16.3 5.5 16.3 3.2 0 4.5-3.2 4.5-10.7 0-6.8-1.7-9.5-5.3-9.5-1.5 0-3.4.4-4.7 1v3z\"\n\t\t\tfillRule=\"evenodd\"\n\t\t/>\n\t</svg>\n);\n","export const Ten = () => (\n\t<svg width=\"54\" height=\"40\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<path\n\t\t\td=\"M0 40h21v-1l-5.4-1.6V0h-4.3L.1 5.4v1.3l5.5-1.4v32.1L0 39.1zm37 0c-9.2 0-17-6.8-17-19.8C20 6.6 28.1 0 37.3 0 46.4 0 54 6.5 54 19.9 54 33.3 46.3 40 37 40zm.1-1c4 0 5.2-6.1 5.2-18.7C42.3 7 41 1.1 37.1 1.1c-4 0-5.4 6-5.4 18.7 0 13 1.4 19.1 5.4 19.1z\"\n\t\t\tfillRule=\"evenodd\"\n\t\t/>\n\t</svg>\n);\n","export const Three = () => (\n\t<svg width=\"28\" height=\"40\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<path\n\t\t\td=\"M9 1.4c4.9 0 7.7 2.4 7.7 8.3 0 5.7-2.6 9-7.8 9H6.1v1.1H9c5.3 0 8.3 3 8.3 8.3 0 5.5-2.9 9.3-9.8 9.3-2.9 0-5.1-.3-7.4-1.5v1C2.7 38.7 7 40 12.5 40 22.2 40 28 35.8 28 28.9c0-6.5-5.1-9.6-15-9.7V19c9.5-.7 13.6-4.4 13.6-9.3 0-6.4-4.4-9.7-13.8-9.7-4 0-8.5.8-11.4 1.7v8.5h1.1l2.4-8.4A21 21 0 0 1 9 1.4z\"\n\t\t\tfillRule=\"evenodd\"\n\t\t/>\n\t</svg>\n);\n","export const Two = () => (\n\t<svg width=\"28\" height=\"40\">\n\t\t<path d=\"M9.4 1.5c5.5 0 7.4 3.3 7.4 9s-2.4 11-8.5 16.3l-8.3 7V40h27.3l.7-7H2.8v-.2l8.5-4.3c10.5-5.2 16.4-9.7 16.4-17.3C27.7 3.8 22.5 0 13.4 0 8.6 0 4 .7.9 2v9h1l3-9c1.7-.4 3.2-.5 4.6-.5z\" />\n\t</svg>\n);\n","export const Zero = () => (\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"34\" height=\"40\">\n\t\t<path d=\"M17,40C7.8,40,0,33.2,0,20.2C0,6.6,8.1,0,17.3,0C26.4,0,34,6.5,34,19.9S26.3,40,17,40z M17.1,39c4,0,5.2-6.1,5.2-18.7 C22.3,7,21,1.1,17.1,1.1c-4,0-5.4,6-5.4,18.7C11.7,32.8,13.1,38.9,17.1,39L17.1,39z\" />\n\t</svg>\n);\n","import { css } from '@emotion/react';\nimport { text } from '@guardian/source-foundations';\nimport { Eight } from './numbers/Eight';\nimport { Five } from './numbers/Five';\nimport { Four } from './numbers/Four';\nimport { Nine } from './numbers/Nine';\nimport { One } from './numbers/One';\nimport { Seven } from './numbers/Seven';\nimport { Six } from './numbers/Six';\nimport { Ten } from './numbers/Ten';\nimport { Three } from './numbers/Three';\nimport { Two } from './numbers/Two';\nimport { Zero } from './numbers/Zero';\n\ntype Props = {\n\tscore: number;\n};\n\nexport const Score = ({ score }: Props) => {\n\tconst ScoreStyles = ({ children }: { children: React.ReactNode }) => (\n\t\t<div\n\t\t\tcss={css`\n\t\t\t\tposition: relative;\n\t\t\t\twidth: 3.75rem;\n\t\t\t\theight: 3.75rem;\n\t\t\t\tborder-radius: 1.875rem;\n\t\t\t\tborder: 0.0625rem solid ${text.primary};\n\n\t\t\t\tsvg {\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\ttop: 0;\n\t\t\t\t\tleft: 0;\n\t\t\t\t\tright: 0;\n\t\t\t\t\tbottom: 0;\n\t\t\t\t\tmargin: auto;\n\t\t\t\t}\n\t\t\t`}\n\t\t>\n\t\t\t{children}\n\t\t</div>\n\t);\n\n\tswitch (score) {\n\t\tcase 0:\n\t\t\treturn (\n\t\t\t\t<ScoreStyles>\n\t\t\t\t\t<Zero />\n\t\t\t\t</ScoreStyles>\n\t\t\t);\n\t\tcase 1:\n\t\t\treturn (\n\t\t\t\t<ScoreStyles>\n\t\t\t\t\t<One />\n\t\t\t\t</ScoreStyles>\n\t\t\t);\n\t\tcase 2:\n\t\t\treturn (\n\t\t\t\t<ScoreStyles>\n\t\t\t\t\t<Two />\n\t\t\t\t</ScoreStyles>\n\t\t\t);\n\t\tcase 3:\n\t\t\treturn (\n\t\t\t\t<ScoreStyles>\n\t\t\t\t\t<Three />\n\t\t\t\t</ScoreStyles>\n\t\t\t);\n\t\tcase 4:\n\t\t\treturn (\n\t\t\t\t<ScoreStyles>\n\t\t\t\t\t<Four />\n\t\t\t\t</ScoreStyles>\n\t\t\t);\n\t\tcase 5:\n\t\t\treturn (\n\t\t\t\t<ScoreStyles>\n\t\t\t\t\t<Five />\n\t\t\t\t</ScoreStyles>\n\t\t\t);\n\t\tcase 6:\n\t\t\treturn (\n\t\t\t\t<ScoreStyles>\n\t\t\t\t\t<Six />\n\t\t\t\t</ScoreStyles>\n\t\t\t);\n\t\tcase 7:\n\t\t\treturn (\n\t\t\t\t<ScoreStyles>\n\t\t\t\t\t<Seven />\n\t\t\t\t</ScoreStyles>\n\t\t\t);\n\t\tcase 8:\n\t\t\treturn (\n\t\t\t\t<ScoreStyles>\n\t\t\t\t\t<Eight />\n\t\t\t\t</ScoreStyles>\n\t\t\t);\n\t\tcase 9:\n\t\t\treturn (\n\t\t\t\t<ScoreStyles>\n\t\t\t\t\t<Nine />\n\t\t\t\t</ScoreStyles>\n\t\t\t);\n\t\tcase 10:\n\t\tdefault:\n\t\t\treturn (\n\t\t\t\t<ScoreStyles>\n\t\t\t\t\t<Ten />\n\t\t\t\t</ScoreStyles>\n\t\t\t);\n\t}\n};\n","import { css } from '@emotion/react';\nimport {\n\tbackground,\n\tbrandAlt,\n\theadline,\n\tspace,\n\ttextSans,\n\tuntil,\n} from '@guardian/source-foundations';\nimport { Score } from './Score';\n\ntype Props = {\n\thomeTeam: TeamType;\n\tawayTeam: TeamType;\n\tcomments?: string;\n};\n\nconst Row = ({ children }: { children: React.ReactNode }) => (\n\t<div\n\t\tcss={css`\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: row;\n\t\t`}\n\t>\n\t\t{children}\n\t</div>\n);\n\nconst CrestRow = ({ children }: { children: React.ReactNode }) => (\n\t<div\n\t\tcss={css`\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: row;\n\t\t\talign-items: flex-end;\n\t\t`}\n\t>\n\t\t{children}\n\t</div>\n);\n\nconst StretchBackground = ({ children }: { children: React.ReactNode }) => (\n\t<div\n\t\tcss={css`\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\tjustify-content: space-between;\n\t\t\tposition: relative;\n\t\t\tpadding: ${space[2]}px;\n\t\t\tbackground-color: ${brandAlt[400]};\n\t\t\tmargin-bottom: 10px;\n\t\t\t${until.tablet} {\n\t\t\t\tmargin: 0 -10px 10px;\n\t\t\t}\n\n\t\t\t:before {\n\t\t\t\tcontent: '';\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 0;\n\t\t\t\tbottom: 0;\n\t\t\t\twidth: 100vw;\n\t\t\t\tleft: -100vw;\n\t\t\t\tbackground-color: ${brandAlt[400]};\n\t\t\t\tz-index: -1;\n\t\t\t}\n\t\t`}\n\t>\n\t\t{children}\n\t</div>\n);\n\nconst Column = ({ children }: { children: React.ReactNode }) => (\n\t<div\n\t\tcss={css`\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\tjustify-content: space-between;\n\t\t`}\n\t>\n\t\t{children}\n\t</div>\n);\n\nconst TeamName = ({ name }: { name: string }) => (\n\t<h2\n\t\tcss={css`\n\t\t\t${headline.xxsmall({ fontWeight: 'bold' })}\n\t\t`}\n\t>\n\t\t{name}\n\t</h2>\n);\n\nconst Scorers = ({ scorers }: { scorers: string[] }) => (\n\t<ul\n\t\tcss={css`\n\t\t\tmargin-top: ${space[1]}px;\n\t\t\tmargin-bottom: ${space[3]}px;\n\t\t`}\n\t>\n\t\t{scorers.map((player) => (\n\t\t\t<li\n\t\t\t\t// This is reasonably unique,\n\t\t\t\t// unless a single player scores twice in the same minute\n\t\t\t\tkey={player}\n\t\t\t\tcss={css`\n\t\t\t\t\t${textSans.small()}\n\t\t\t\t`}\n\t\t\t>\n\t\t\t\t{player}\n\t\t\t</li>\n\t\t))}\n\t</ul>\n);\n\nconst Crest = ({ crest }: { crest: string }) => (\n\t<div\n\t\tcss={css`\n\t\t\tposition: relative;\n\t\t\twidth: 3.75rem;\n\t\t\theight: 3.75rem;\n\t\t\tborder-radius: 1.875rem;\n\t\t\tbackground-color: ${background.primary};\n\t\t\tz-index: 1;\n\t\t`}\n\t>\n\t\t<img\n\t\t\tcss={css`\n\t\t\t\tposition: absolute;\n\t\t\t\tleft: 0.5rem;\n\t\t\t\tright: 0.5rem;\n\t\t\t\tbottom: 0.5rem;\n\t\t\t\ttop: 0.5rem;\n\t\t\t\tmax-width: calc(100% - 1rem);\n\t\t\t\tmax-height: calc(100% - 1rem);\n\t\t\t\tmargin: auto;\n\t\t\t\tdisplay: block;\n\t\t\t`}\n\t\t\tsrc={crest}\n\t\t\talt=\"\"\n\t\t/>\n\t</div>\n);\n\nconst TeamNav = ({\n\tname,\n\tscore,\n\tcrest,\n\tscorers,\n}: {\n\tname: string;\n\tscore: number;\n\tcrest: string;\n\tscorers: string[];\n}) => (\n\t<div\n\t\tcss={css`\n\t\t\tdisplay: flex;\n\t\t\tflex-grow: 1;\n\t\t\tflex-basis: 50%;\n\t\t`}\n\t>\n\t\t<Column>\n\t\t\t<div\n\t\t\t\tcss={css`\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-direction: column;\n\t\t\t\t\tflex-grow: 1;\n\t\t\t\t`}\n\t\t\t>\n\t\t\t\t<TeamName name={name} />\n\t\t\t\t<Scorers scorers={scorers} />\n\t\t\t</div>\n\t\t\t<CrestRow>\n\t\t\t\t<Crest crest={crest} />\n\t\t\t\t<div\n\t\t\t\t\tcss={css`\n\t\t\t\t\t\tmargin-left: -${space[2]}px;\n\t\t\t\t\t`}\n\t\t\t\t>\n\t\t\t\t\t<Score score={score} />\n\t\t\t\t</div>\n\t\t\t</CrestRow>\n\t\t</Column>\n\t</div>\n);\n\nconst Comments = ({ comments }: { comments: string }) => (\n\t<div\n\t\tcss={css`\n\t\t\t${textSans.small()}\n\t\t\tmargin-top: ${space[2]}px;\n\t\t\tpadding-top: ${space[1]}px;\n\t\t\tfont-style: italic;\n\t\t\t/* stylelint-disable-next-line color-no-hex */\n\t\t\tborder-top: 1px solid #d0bb04;\n\t\t`}\n\t>\n\t\t{comments}\n\t</div>\n);\n\nconst YellowBorder = () => (\n\t<div\n\t\tcss={css`\n\t\t\t/* stylelint-disable-next-line color-no-hex */\n\t\t\tborder-left: 1px solid #d0bb04;\n\t\t\tmargin-left: ${space[1]}px;\n\t\t\twidth: ${space[2]}px;\n\t\t`}\n\t/>\n);\n\nexport const MatchNav = ({ homeTeam, awayTeam, comments }: Props) => (\n\t<div>\n\t\t<StretchBackground>\n\t\t\t<Row>\n\t\t\t\t<TeamNav\n\t\t\t\t\tname={homeTeam.name}\n\t\t\t\t\tscore={homeTeam.score}\n\t\t\t\t\tcrest={homeTeam.crest}\n\t\t\t\t\tscorers={homeTeam.scorers}\n\t\t\t\t/>\n\t\t\t\t<YellowBorder />\n\t\t\t\t<TeamNav\n\t\t\t\t\tname={awayTeam.name}\n\t\t\t\t\tscore={awayTeam.score}\n\t\t\t\t\tcrest={awayTeam.crest}\n\t\t\t\t\tscorers={awayTeam.scorers}\n\t\t\t\t/>\n\t\t\t</Row>\n\t\t\t{!!comments && <Comments comments={comments} />}\n\t\t</StretchBackground>\n\t</div>\n);\n","import { css } from '@emotion/react';\nimport { ArticleDesign } from '@guardian/libs';\nimport { from } from '@guardian/source-foundations';\nimport type { SWRConfiguration } from 'swr';\nimport type { TagType } from '../../types/tag';\nimport { useApi } from '../lib/useApi';\nimport { ArticleHeadline } from './ArticleHeadline';\nimport { MatchNav } from './MatchNav';\nimport { Placeholder } from './Placeholder';\n\ntype Props = {\n\tmatchUrl: string;\n\theadlineString: string;\n\tformat: ArticleFormat;\n\ttags: TagType[];\n\twebPublicationDateDeprecated: string;\n};\n\nconst Loading = () => <Placeholder height={230} />;\n\n/**\n * # Get Match Nav\n *\n * Wrapper around `MatchNav` with loading and fallback.\n *\n * ## Why does this need to be an Island?\n *\n * We poll the results from the match url on the client-side.\n * e.g. https://api.nextgen.guardianapps.co.uk/football/api/match-nav/2023/02/08/12/28.json?dcr=true\n *\n * ---\n *\n * [`MatchNav` on Chromatic](https://www.chromatic.com/component?appId=63e251470cfbe61776b0ef19&csfId=components-matchnav)\n */\nexport const GetMatchNav = ({\n\tmatchUrl,\n\theadlineString,\n\tformat,\n\ttags,\n\twebPublicationDateDeprecated,\n}: Props) => {\n\tconst options: SWRConfiguration = { errorRetryCount: 1 };\n\t// If this blog is live then poll for new stats\n\tif (format.design === ArticleDesign.LiveBlog) {\n\t\toptions.refreshInterval = 16_000;\n\t}\n\tconst { data, error, loading } = useApi<{\n\t\thomeTeam: TeamType;\n\t\tawayTeam: TeamType;\n\t\tcomments?: string;\n\t\tminByMinUrl?: string;\n\t\tvenue?: string;\n\t}>(matchUrl, options);\n\n\tif (loading) return <Loading />;\n\tif (error) {\n\t\t// Send the error to Sentry and then render the headline in its place as a fallback\n\t\twindow.guardian.modules.sentry.reportError(error, 'match-nav');\n\n\t\tif (\n\t\t\tformat.design === ArticleDesign.LiveBlog ||\n\t\t\tformat.design === ArticleDesign.DeadBlog\n\t\t)\n\t\t\treturn (\n\t\t\t\t<div\n\t\t\t\t\tcss={css`\n\t\t\t\t\t\t${from.leftCol} {\n\t\t\t\t\t\t\tmargin-left: 10px;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t${from.desktop} {\n\t\t\t\t\t\t\tmax-width: 700px;\n\t\t\t\t\t\t}\n\t\t\t\t\t`}\n\t\t\t\t>\n\t\t\t\t\t<ArticleHeadline\n\t\t\t\t\t\theadlineString={headlineString}\n\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\ttags={tags}\n\t\t\t\t\t\twebPublicationDateDeprecated={\n\t\t\t\t\t\t\twebPublicationDateDeprecated\n\t\t\t\t\t\t}\n\t\t\t\t\t\tisMatch={true}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t);\n\t}\n\tif (data) {\n\t\treturn (\n\t\t\t<MatchNav\n\t\t\t\thomeTeam={data.homeTeam}\n\t\t\t\tawayTeam={data.awayTeam}\n\t\t\t\tcomments={data.comments}\n\t\t\t/>\n\t\t);\n\t}\n\n\treturn null;\n};\n","// https://stackoverflow.com/a/5624139\nfunction hexToRgb(hex: string): {\n\tr: number;\n\tg: number;\n\tb: number;\n} | null {\n\t// Expand shorthand form (e.g. \"03F\") to full form (e.g. \"0033FF\")\n\tconst shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n\tconst fullHex = hex.replace(shorthandRegex, ([, r, g, b]) => {\n\t\treturn [r, r, g, g, b, b].join('');\n\t});\n\n\tconst [, r, g, b] =\n\t\t/^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(fullHex) ?? [];\n\treturn r && g && b\n\t\t? {\n\t\t\t\tr: parseInt(r, 16),\n\t\t\t\tg: parseInt(g, 16),\n\t\t\t\tb: parseInt(b, 16),\n\t\t  }\n\t\t: null;\n}\n\nfunction getBrightness(colour: string): number {\n\t// http://www.w3.org/TR/AERT#color-contrast\n\tconst rgb = hexToRgb(colour);\n\treturn rgb ? (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000 : 0;\n}\n\n// Based on https://github.com/bgrins/TinyColor\nexport const isLight = (colour: string): boolean => {\n\tif (!colour.startsWith('#')) {\n\t\treturn getBrightness(`#${colour}`) > 128;\n\t}\n\treturn getBrightness(colour) > 128;\n};\n","import { css } from '@emotion/react';\nimport { headline, text } from '@guardian/source-foundations';\nimport { isLight } from '../lib/isLight';\n\ntype Props = {\n\tleft: BarType;\n\tright: BarType;\n};\n\ntype BarType = {\n\tvalue: number;\n\tcolor: string;\n};\n\nconst Row = ({ children }: { children: React.ReactNode }) => (\n\t<div\n\t\tcss={css`\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: row;\n\t\t`}\n\t>\n\t\t{children}\n\t</div>\n);\n\nconst Bar = ({\n\tdisplayText,\n\tbackground,\n\tposition,\n\twidth,\n}: {\n\tdisplayText: string;\n\tbackground: string;\n\tposition: 'left' | 'right';\n\twidth: number;\n}) => (\n\t<div\n\t\tcss={css`\n\t\t\t${headline.medium({ fontWeight: 'bold' })}\n\t\t\tcolor: ${isLight(background) ? text.ctaSecondary : text.ctaPrimary};\n\t\t\tbackground: ${background};\n\t\t\tflex-grow: ${width};\n\t\t\tline-height: 0.8;\n\n\t\t\tpadding-top: 1px;\n\t\t\tpadding-left: 6px;\n\t\t\tpadding-right: 6px;\n\t\t\tpadding-bottom: 9px;\n\n\t\t\tmargin-right: ${position === 'left' && '1px'};\n\t\t\tmargin-left: ${position === 'right' && '1px'};\n\n\t\t\ttext-align: ${position === 'left' ? 'left' : 'right'};\n\t\t`}\n\t>\n\t\t{displayText}\n\t</div>\n);\n\nexport const Distribution = ({ left, right }: Props) => {\n\treturn (\n\t\t<Row>\n\t\t\t<Bar\n\t\t\t\tposition=\"left\"\n\t\t\t\twidth={left.value === right.value ? 1 : left.value}\n\t\t\t\tdisplayText={left.value.toString()}\n\t\t\t\tbackground={left.color}\n\t\t\t/>\n\t\t\t<Bar\n\t\t\t\tposition=\"right\"\n\t\t\t\twidth={left.value === right.value ? 1 : right.value}\n\t\t\t\tdisplayText={right.value.toString()}\n\t\t\t\tbackground={right.color}\n\t\t\t/>\n\t\t</Row>\n\t);\n};\n","import { css } from '@emotion/react';\nimport {\n\theadline,\n\tpalette,\n\ttext,\n\ttextSans,\n} from '@guardian/source-foundations';\nimport { isLight } from '../lib/isLight';\n\ntype Props = {\n\tsections: SectionType[];\n\tpercentCutout?: number;\n\tsize?: number;\n};\n\ntype SectionType = {\n\tlabel: string;\n\tvalue: number;\n\tcolor: string;\n};\n\n/** set decimal places */\nconst PRECISION = 6;\n\nconst unitStyles = css`\n\t${headline.medium({ fontWeight: 'bold' })}\n\ttext-anchor: middle;\n`;\n\nconst valueStyles = (background: string) => css`\n\t${headline.small({ fontWeight: 'bold' })}\n\tfill: ${isLight(background) ? text.ctaSecondary : text.ctaPrimary};\n\ttext-anchor: middle;\n`;\n\nconst labelStyles = (background: string) => css`\n\t${textSans.small()}\n\tfill: ${isLight(background) ? text.ctaSecondary : text.ctaPrimary};\n\ttext-anchor: middle;\n`;\n\nconst lineStyles = css`\n\tstroke-width: 2;\n\tstroke: ${palette.neutral[97]};\n`;\n\nconst withoutZeroSections = (sections: SectionType[]) =>\n\tsections.filter((section) => section.value !== 0);\n\nexport const Doughnut = ({\n\tsections,\n\tpercentCutout = 35,\n\tsize = 300,\n}: Props) => {\n\t// TODO: Support displaying 0% for sections where value is zero\n\t// We handle these at the moment by filtering them out using withoutZeroSections()\n\n\tconst outerRadius = size / 2;\n\tconst innerRadius = outerRadius * (percentCutout / 100);\n\tconst radius = (innerRadius + outerRadius) / 2;\n\n\tconst totalValue = sections\n\t\t.map((section) => section.value)\n\t\t.reduce((runningTotal, currentValue) => runningTotal + currentValue);\n\n\t/** τ = 2π https://en.wikipedia.org/wiki/Turn_(angle)#Tau_proposals */\n\tconst tau = Math.PI * 2;\n\tconst quarterTurn = Math.PI / 2;\n\n\tconst center = size / 2;\n\n\t// Segments\n\tconst segments: {\n\t\tdasharray: string;\n\t\tdashoffset: string;\n\t\tcolor: string;\n\t\ttransform: string;\n\t\tlabel: string;\n\t\tvalue: number;\n\t}[] = [];\n\n\t/**\n\t * These lines help distinguish segments.\n\t * Only shown for 2 segments or more.\n\t */\n\tconst separatingLines: { label: string; d: string }[] = [];\n\n\tlet angleStart = -quarterTurn;\n\tfor (const { color, label, value } of withoutZeroSections(sections)) {\n\t\tconst angleLength = (value / totalValue) * tau;\n\n\t\tconst angleEnd = angleStart + angleLength;\n\t\tconst angleMid = angleStart + angleLength / 2;\n\n\t\tconst dasharray = [angleLength * radius, (tau - angleLength) * radius]\n\t\t\t.map((dash) => dash.toFixed(PRECISION))\n\t\t\t.join(',');\n\t\t/**\n\t\t * The offset is turned one quarter and rotated\n\t\t * with a transform to keep the top join as crisp\n\t\t * as possible.\n\t\t */\n\t\tconst dashoffset = (-(quarterTurn + angleStart) * radius).toFixed(\n\t\t\tPRECISION,\n\t\t);\n\n\t\tsegments.push({\n\t\t\tdasharray,\n\t\t\tdashoffset,\n\t\t\tlabel,\n\t\t\tvalue,\n\t\t\ttransform: [\n\t\t\t\t'translate(',\n\t\t\t\t(Math.cos(angleMid) * radius + center).toFixed(PRECISION),\n\t\t\t\t', ',\n\t\t\t\t(Math.sin(angleMid) * radius + center).toFixed(PRECISION),\n\t\t\t\t')',\n\t\t\t].join(''),\n\t\t\tcolor,\n\t\t});\n\n\t\tconst x = Math.cos(angleEnd);\n\t\tconst y = Math.sin(angleEnd);\n\n\t\tseparatingLines.push({\n\t\t\tlabel,\n\t\t\td: [\n\t\t\t\t`M${center},${center}`,\n\t\t\t\t`m${x * innerRadius},${y * innerRadius}`, // start the line from inner radius\n\t\t\t\t`l${x * (outerRadius - innerRadius)},${\n\t\t\t\t\ty * (outerRadius - innerRadius)\n\t\t\t\t}`, // stop it at the outer radius\n\t\t\t].join(' '),\n\t\t});\n\n\t\tangleStart = angleEnd;\n\t}\n\n\treturn (\n\t\t<svg width={size} height={size} viewBox={`0 0 ${size} ${size}`}>\n\t\t\t{segments.map((segment) => (\n\t\t\t\t<g key={segment.label + segment.color}>\n\t\t\t\t\t<circle\n\t\t\t\t\t\tcx={center}\n\t\t\t\t\t\tcy={center}\n\t\t\t\t\t\tr={radius}\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\tstroke={segment.color}\n\t\t\t\t\t\tstrokeWidth={outerRadius - innerRadius}\n\t\t\t\t\t\tstrokeDasharray={segment.dasharray}\n\t\t\t\t\t\tstrokeDashoffset={segment.dashoffset}\n\t\t\t\t\t\t// rotate back a quarter turn\n\t\t\t\t\t\ttransform={`rotate(-90 ${center} ${center})`}\n\t\t\t\t\t/>\n\t\t\t\t\t<text transform={segment.transform}>\n\t\t\t\t\t\t<tspan css={labelStyles(segment.color)} x=\"0\" dy=\"0\">\n\t\t\t\t\t\t\t{segment.label}\n\t\t\t\t\t\t</tspan>\n\t\t\t\t\t\t<tspan css={valueStyles(segment.color)} x=\"0\" dy=\".9em\">\n\t\t\t\t\t\t\t{segment.value}\n\t\t\t\t\t\t</tspan>\n\t\t\t\t\t</text>\n\t\t\t\t</g>\n\t\t\t))}\n\t\t\t{separatingLines.length >= 2 &&\n\t\t\t\tseparatingLines.map(({ d, label }) => (\n\t\t\t\t\t<path key={label} css={lineStyles} d={d} />\n\t\t\t\t))}\n\t\t\t<text\n\t\t\t\tcss={unitStyles}\n\t\t\t\ttransform={`translate(${center}, ${center})`}\n\t\t\t\tdy=\"0.4em\"\n\t\t\t>\n\t\t\t\t%\n\t\t\t</text>\n\t\t</svg>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { headline, text, textSans } from '@guardian/source-foundations';\nimport { decidePalette } from '../lib/decidePalette';\nimport { isLight } from '../lib/isLight';\n\ntype Props = {\n\tleft: SectionType;\n\tright: SectionType;\n\tformat: ArticleFormat;\n};\n\ntype SectionType = {\n\tonTarget: number;\n\toffTarget: number;\n\tcolor: string;\n};\n\nconst Row = ({ children }: { children: React.ReactNode }) => (\n\t<div\n\t\tcss={css`\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: row;\n\t\t\tgap: 2px;\n\t\t`}\n\t>\n\t\t{children}\n\t</div>\n);\n\nconst Side = ({\n\toffTarget,\n\tonTarget,\n\tteamColours,\n\tposition,\n\tformat,\n}: {\n\toffTarget: number;\n\tonTarget: number;\n\tteamColours: string;\n\tposition: 'left' | 'right';\n\tformat: ArticleFormat;\n}) => {\n\tconst palette = decidePalette(format);\n\treturn (\n\t\t<div\n\t\t\tcss={css`\n\t\t\t\tposition: relative;\n\t\t\t\t${headline.medium({ fontWeight: 'bold' })}\n\t\t\t\tcolor: ${isLight(teamColours)\n\t\t\t\t\t? text.ctaSecondary\n\t\t\t\t\t: text.ctaPrimary};\n\t\t\t\tbackground: ${teamColours};\n\t\t\t\tflex-basis: 50%;\n\t\t\t\tline-height: 0.8;\n\n\t\t\t\theight: 132px;\n\n\t\t\t\tbackground-image: radial-gradient(\n\t\t\t\t\tcircle,\n\t\t\t\t\trgba(255, 255, 255, 0.3) 1px,\n\t\t\t\t\ttransparent 1px\n\t\t\t\t);\n\t\t\t\tbackground-repeat: repeat;\n\t\t\t\tbackground-size: 3px 3px;\n\t\t\t\tbackground-position-x: 0;\n\n\t\t\t\tpadding-top: 1px;\n\t\t\t\tpadding-left: 6px;\n\t\t\t\tpadding-right: 6px;\n\t\t\t\tpadding-bottom: 9px;\n\n\t\t\t\ttext-align: ${position === 'left' ? 'left' : 'right'};\n\t\t\t`}\n\t\t>\n\t\t\t{offTarget}\n\t\t\t<div\n\t\t\t\tcss={css`\n\t\t\t\t\t${textSans.small()}\n\t\t\t\t\tpadding-top: 4px;\n\t\t\t\t`}\n\t\t\t>\n\t\t\t\t{position === 'left' && 'Off target'}\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tcss={css`\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\tbottom: 0;\n\t\t\t\t\tleft: ${position === 'right' && 0};\n\t\t\t\t\tright: ${position === 'left' && 0};\n\n\t\t\t\t\tbackground: ${teamColours};\n\n\t\t\t\t\ttext-align: ${position === 'left' ? 'left' : 'right'};\n\n\t\t\t\t\tpadding-left: 4px;\n\t\t\t\t\tpadding-right: 4px;\n\n\t\t\t\t\theight: 70px;\n\t\t\t\t\twidth: 92px;\n\n\t\t\t\t\tborder-top: 8px solid ${palette.background.matchStats};\n\t\t\t\t\tborder-left: ${position === 'left' &&\n\t\t\t\t\t`8px solid ${palette.background.matchStats}`};\n\t\t\t\t\tborder-right: ${position === 'right' &&\n\t\t\t\t\t`8px solid ${palette.background.matchStats}`};\n\t\t\t\t`}\n\t\t\t>\n\t\t\t\t{onTarget}\n\t\t\t\t<div\n\t\t\t\t\tcss={css`\n\t\t\t\t\t\t${textSans.small()}\n\t\t\t\t\t\tpadding-top: 4px;\n\t\t\t\t\t`}\n\t\t\t\t>\n\t\t\t\t\t{position === 'left' && 'On target'}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport const GoalAttempts = ({ left, right, format }: Props) => {\n\treturn (\n\t\t<Row>\n\t\t\t<Side\n\t\t\t\tposition=\"left\"\n\t\t\t\toffTarget={left.offTarget}\n\t\t\t\tonTarget={left.onTarget}\n\t\t\t\tteamColours={left.color}\n\t\t\t\tformat={format}\n\t\t\t/>\n\t\t\t<Side\n\t\t\t\tposition=\"right\"\n\t\t\t\toffTarget={right.offTarget}\n\t\t\t\tonTarget={right.onTarget}\n\t\t\t\tteamColours={right.color}\n\t\t\t\tformat={format}\n\t\t\t/>\n\t\t</Row>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { getZIndex } from '../lib/getZIndex';\n\ntype Props = {\n\tchildren: React.ReactNode;\n\tarea: string;\n\t/**\n\t * The element type to use.\n\t */\n\telement?: 'div' | 'article' | 'main' | 'aside' | 'section';\n};\n\nconst gridAreaStyles = (area: string) => {\n\tif (area === 'right-column') {\n\t\treturn css`\n\t\t\t/* IE Fallback */\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tright: 0;\n\t\t\t/* Pop me below the body */\n\t\t\t${getZIndex('rightColumnArea')}\n\n\t\t\t@supports (display: grid) {\n\t\t\t\tposition: relative;\n\t\t\t\tgrid-area: ${area};\n\t\t\t}\n\t\t`;\n\t}\n\n\tif (area === 'body') {\n\t\treturn css`\n\t\t\tgrid-area: ${area};\n\t\t\t/* Pop me above the right column */\n\t\t\t${getZIndex('bodyArea')}\n\t\t`;\n\t}\n\n\treturn css`\n\t\tgrid-area: ${area};\n\t`;\n};\n\nexport const GridItem = ({\n\tchildren,\n\tarea,\n\telement: Element = 'div',\n}: Props) => (\n\t<Element css={gridAreaStyles(area)} data-gu-name={area}>\n\t\t{children}\n\t</Element>\n);\n","import { css } from '@emotion/react';\nimport { textSans } from '@guardian/source-foundations';\n\ntype Props = {\n\tplayers: PlayerType[];\n};\n\nconst Row = ({ children }: { children: React.ReactNode }) => (\n\t<div\n\t\tcss={css`\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: row;\n\t\t\tposition: relative;\n\t\t`}\n\t>\n\t\t{children}\n\t</div>\n);\n\nconst BackgroundRed = '#cc2b12';\n\nconst BackgroundYellow = '#fb0';\n\nconst Event = ({\n\ttype,\n\ttime,\n}: {\n\ttype: 'substitution' | 'dismissal' | 'booking';\n\ttime: string;\n}) => {\n\tswitch (type) {\n\t\tcase 'dismissal':\n\t\t\treturn (\n\t\t\t\t<i\n\t\t\t\t\tcss={css`\n\t\t\t\t\t\tdisplay: inline-block;\n\t\t\t\t\t\tbackground-color: ${BackgroundRed};\n\t\t\t\t\t\tbackground-position: 0 0;\n\t\t\t\t\t\twidth: 0.5625rem;\n\t\t\t\t\t\theight: 0.75rem;\n\t\t\t\t\t\ttransform: rotate(8deg);\n\t\t\t\t\t\tbackground-size: contain;\n\t\t\t\t\t`}\n\t\t\t\t/>\n\t\t\t);\n\t\tcase 'booking':\n\t\t\treturn (\n\t\t\t\t<i\n\t\t\t\t\tcss={css`\n\t\t\t\t\t\tdisplay: inline-block;\n\t\t\t\t\t\tbackground-color: ${BackgroundYellow};\n\t\t\t\t\t\tbackground-position: 0 0;\n\t\t\t\t\t\twidth: 0.5625rem;\n\t\t\t\t\t\theight: 0.75rem;\n\t\t\t\t\t\ttransform: rotate(8deg);\n\t\t\t\t\t\tbackground-size: contain;\n\t\t\t\t\t`}\n\t\t\t\t/>\n\t\t\t);\n\t\tcase 'substitution':\n\t\t\treturn <span>{`(s ${time}')`}</span>;\n\t}\n};\n\nexport const Lineup = ({ players }: Props) => {\n\treturn (\n\t\t<ul>\n\t\t\t{players.map((player) => (\n\t\t\t\t<li\n\t\t\t\t\tkey={player.id}\n\t\t\t\t\tcss={css`\n\t\t\t\t\t\t${textSans.small()}\n\t\t\t\t\t`}\n\t\t\t\t>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\t\t\t\twidth: 30px;\n\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{player.shirtNumber}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<span>{player.name} </span>\n\t\t\t\t\t\t\t{player.events.map((event: EventType) => (\n\t\t\t\t\t\t\t\t<Event\n\t\t\t\t\t\t\t\t\tkey={event.eventTime + event.eventType}\n\t\t\t\t\t\t\t\t\ttype={event.eventType}\n\t\t\t\t\t\t\t\t\ttime={event.eventTime}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Row>\n\t\t\t\t</li>\n\t\t\t))}\n\t\t</ul>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { ArticleDesign } from '@guardian/libs';\nimport {\n\tbetween,\n\tborder,\n\tfrom,\n\theadline,\n\tspace,\n\ttextSans,\n\tuntil,\n} from '@guardian/source-foundations';\nimport { decidePalette } from '../lib/decidePalette';\nimport { Distribution } from './Distribution';\nimport { Doughnut } from './Doughnut';\nimport { GoalAttempts } from './GoalAttempts';\nimport { GridItem } from './GridItem';\nimport { Hide } from './Hide';\nimport { Lineup } from './Lineup';\n\ntype Props = {\n\thome: TeamType;\n\taway: TeamType;\n\tformat: ArticleFormat;\n};\n\nconst StatsGrid = ({\n\tchildren,\n\tformat,\n}: {\n\tchildren: React.ReactNode;\n\tformat: ArticleFormat;\n}) => {\n\tconst palette = decidePalette(format);\n\tswitch (format.design) {\n\t\tcase ArticleDesign.LiveBlog:\n\t\tcase ArticleDesign.DeadBlog: {\n\t\t\treturn (\n\t\t\t\t<div\n\t\t\t\t\tcss={css`\n\t\t\t\t\t\t/* IE Fallback */\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\tflex-direction: column;\n\n\t\t\t\t\t\tbackground-color: ${palette.background.matchStats};\n\t\t\t\t\t\t@supports (display: grid) {\n\t\t\t\t\t\t\tdisplay: grid;\n\n\t\t\t\t\t\t\t${until.desktop} {\n\t\t\t\t\t\t\t\tgrid-template-columns: 50% 50%;\n\t\t\t\t\t\t\t\tgrid-template-areas:\n\t\t\t\t\t\t\t\t\t'title          .'\n\t\t\t\t\t\t\t\t\t'possession     attempts'\n\t\t\t\t\t\t\t\t\t'possession     corners'\n\t\t\t\t\t\t\t\t\t'possession     fouls'\n\t\t\t\t\t\t\t\t\t'subtitle       .'\n\t\t\t\t\t\t\t\t\t'home           away';\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t${from.desktop} {\n\t\t\t\t\t\t\t\tgrid-template-columns: 100%;\n\t\t\t\t\t\t\t\tgrid-template-areas:\n\t\t\t\t\t\t\t\t\t'title'\n\t\t\t\t\t\t\t\t\t'possession'\n\t\t\t\t\t\t\t\t\t'attempts'\n\t\t\t\t\t\t\t\t\t'corners'\n\t\t\t\t\t\t\t\t\t'fouls'\n\t\t\t\t\t\t\t\t\t'subtitle'\n\t\t\t\t\t\t\t\t\t'home'\n\t\t\t\t\t\t\t\t\t'away';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t${until.phablet} {\n\t\t\t\t\t\t\t\tgrid-template-columns: 50% 50%;\n\t\t\t\t\t\t\t\tgrid-template-areas:\n\t\t\t\t\t\t\t\t\t'title\t\t\ttitle'\n\t\t\t\t\t\t\t\t\t'possession\t\tpossession'\n\t\t\t\t\t\t\t\t\t'attempts\t\tattempts'\n\t\t\t\t\t\t\t\t\t'corners\t\tcorners'\n\t\t\t\t\t\t\t\t\t'fouls\t\t\tfouls'\n\t\t\t\t\t\t\t\t\t'subtitle\t\tsubtitle'\n\t\t\t\t\t\t\t\t\t'home\t\t\taway';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t`}\n\t\t\t\t>\n\t\t\t\t\t{children}\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\tdefault: {\n\t\t\treturn (\n\t\t\t\t<div\n\t\t\t\t\tcss={css`\n\t\t\t\t\t\t/* IE Fallback */\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\tflex-direction: column;\n\n\t\t\t\t\t\tbackground-color: ${palette.background.matchStats};\n\t\t\t\t\t\t@supports (display: grid) {\n\t\t\t\t\t\t\tdisplay: grid;\n\n\t\t\t\t\t\t\t${from.wide} {\n\t\t\t\t\t\t\t\tgrid-template-columns: 50% 50%;\n\t\t\t\t\t\t\t\tgrid-template-areas:\n\t\t\t\t\t\t\t\t\t'title          .'\n\t\t\t\t\t\t\t\t\t'possession     attempts'\n\t\t\t\t\t\t\t\t\t'possession     corners'\n\t\t\t\t\t\t\t\t\t'possession     fouls'\n\t\t\t\t\t\t\t\t\t'subtitle       .'\n\t\t\t\t\t\t\t\t\t'home           away';\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t${until.wide} {\n\t\t\t\t\t\t\t\tgrid-template-columns: 50% 50%;\n\t\t\t\t\t\t\t\tgrid-template-areas:\n\t\t\t\t\t\t\t\t\t'title          .'\n\t\t\t\t\t\t\t\t\t'possession     attempts'\n\t\t\t\t\t\t\t\t\t'possession     corners'\n\t\t\t\t\t\t\t\t\t'possession     fouls'\n\t\t\t\t\t\t\t\t\t'subtitle       .'\n\t\t\t\t\t\t\t\t\t'home           away';\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t${until.phablet} {\n\t\t\t\t\t\t\t\tgrid-template-columns: 50% 50%;\n\t\t\t\t\t\t\t\tgrid-template-areas:\n\t\t\t\t\t\t\t\t\t'title\t\t\ttitle'\n\t\t\t\t\t\t\t\t\t'possession\t\tpossession'\n\t\t\t\t\t\t\t\t\t'attempts\t\tattempts'\n\t\t\t\t\t\t\t\t\t'corners\t\tcorners'\n\t\t\t\t\t\t\t\t\t'fouls\t\t\tfouls'\n\t\t\t\t\t\t\t\t\t'subtitle\t\tsubtitle'\n\t\t\t\t\t\t\t\t\t'home\t\t\taway';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t`}\n\t\t\t\t>\n\t\t\t\t\t{children}\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t}\n};\n\nconst StretchBackground = ({\n\tformat,\n\tchildren,\n}: {\n\tformat: ArticleFormat;\n\tchildren: React.ReactNode;\n}) => {\n\tconst palette = decidePalette(format);\n\n\treturn (\n\t\t<div\n\t\t\tcss={css`\n\t\t\t\tclear: left;\n\t\t\t\tposition: relative;\n\t\t\t\tflex-grow: 1;\n\t\t\t\tpadding: ${space[2]}px 10px;\n\t\t\t\t${from.mobileLandscape} {\n\t\t\t\t\tmargin-left: ${space[3]}px;\n\t\t\t\t}\n\t\t\t\t/* We use min-height to help reduce our CLS value */\n\t\t\t\tmin-height: 800px;\n\t\t\t\tbackground-color: ${palette.background.matchStats};\n\n\t\t\t\t${from.leftCol} {\n\t\t\t\t\t:before {\n\t\t\t\t\t\tcontent: '';\n\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\ttop: 0;\n\t\t\t\t\t\tbottom: 0;\n\t\t\t\t\t\t/* stretch left */\n\t\t\t\t\t\tleft: -100vw;\n\t\t\t\t\t\tright: 0;\n\t\t\t\t\t\tbackground-color: ${palette.background.matchStats};\n\t\t\t\t\t\tz-index: -1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t`}\n\t\t>\n\t\t\t{children}\n\t\t</div>\n\t);\n};\n\nconst ShiftLeft = ({\n\tchildren,\n\tformat,\n}: {\n\tchildren: React.ReactNode;\n\tformat: ArticleFormat;\n}) => {\n\tswitch (format.design) {\n\t\tcase ArticleDesign.LiveBlog:\n\t\tcase ArticleDesign.DeadBlog: {\n\t\t\treturn <div>{children}</div>;\n\t\t}\n\t\tdefault: {\n\t\t\treturn (\n\t\t\t\t<div\n\t\t\t\t\tcss={css`\n\t\t\t\t\t\t${from.leftCol} {\n\t\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\t\tleft: -160px;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t${from.wide} {\n\t\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\t\tleft: -240px;\n\t\t\t\t\t\t}\n\t\t\t\t\t`}\n\t\t\t\t>\n\t\t\t\t\t{children}\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t}\n};\n\nconst Center = ({ children }: { children: React.ReactNode }) => (\n\t<div\n\t\tcss={css`\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: center;\n\t\t`}\n\t>\n\t\t{children}\n\t</div>\n);\n\nconst RightBorder = ({ children }: { children: React.ReactNode }) => (\n\t<h4\n\t\tcss={css`\n\t\t\t${from.phablet} {\n\t\t\t\tborder-right: 1px solid ${border.secondary};\n\t\t\t}\n\t\t\tmargin-right: 10px;\n\t\t\tpadding-right: 10px;\n\t\t\t${from.desktop} {\n\t\t\t\tmargin-right: 0;\n\t\t\t\tpadding-right: 0;\n\t\t\t\tborder-right: 0;\n\t\t\t}\n\t\t`}\n\t>\n\t\t{children}\n\t</h4>\n);\n\nconst H3 = ({ children }: { children: React.ReactNode }) => (\n\t<h3\n\t\tcss={css`\n\t\t\t${headline.xxsmall({ fontWeight: 'bold' })}\n\t\t`}\n\t>\n\t\t{children}\n\t</h3>\n);\n\nconst H4 = ({ children }: { children: React.ReactNode }) => (\n\t<h4\n\t\tcss={css`\n\t\t\t${textSans.small()}\n\t\t`}\n\t>\n\t\t{children}\n\t</h4>\n);\n\nconst DecideDoughnut = ({\n\thome,\n\taway,\n\tformat,\n}: {\n\thome: TeamType;\n\taway: TeamType;\n\tformat: ArticleFormat;\n}) => {\n\tconst sections = [\n\t\t{\n\t\t\tvalue: home.possession,\n\t\t\tlabel: home.codename,\n\t\t\tcolor: home.colours,\n\t\t},\n\t\t{\n\t\t\tvalue: away.possession,\n\t\t\tlabel: away.codename,\n\t\t\tcolor: away.colours,\n\t\t},\n\t].reverse();\n\tswitch (format.design) {\n\t\tcase ArticleDesign.LiveBlog:\n\t\tcase ArticleDesign.DeadBlog: {\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t{/* This represents the stats component being within the main body on a liveblog */}\n\t\t\t\t\t<div\n\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\t${from.mobileMedium} {\n\t\t\t\t\t\t\t\tdisplay: none;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t`}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Doughnut sections={sections} size={200} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\tdisplay: none;\n\t\t\t\t\t\t\t${between.mobileMedium.and.desktop} {\n\t\t\t\t\t\t\t\tdisplay: block;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t`}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Doughnut sections={sections} size={300} />\n\t\t\t\t\t</div>\n\t\t\t\t\t{/* This represents the stats component being within the left column on a liveblog */}\n\t\t\t\t\t<div\n\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\t${until.desktop} {\n\t\t\t\t\t\t\t\tdisplay: none;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t`}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Doughnut sections={sections} size={200} />\n\t\t\t\t\t</div>\n\t\t\t\t</>\n\t\t\t);\n\t\t}\n\t\tdefault:\n\t\t\treturn <Doughnut sections={sections} />;\n\t}\n};\n\nexport const MatchStats = ({ home, away, format }: Props) => {\n\treturn (\n\t\t<StretchBackground format={format}>\n\t\t\t<StatsGrid format={format}>\n\t\t\t\t<GridItem area=\"title\" element=\"aside\">\n\t\t\t\t\t<ShiftLeft format={format}>\n\t\t\t\t\t\t{/* Don't show the right border if this text was\n                        shifted into the left column */}\n\t\t\t\t\t\t<Hide when=\"above\" breakpoint=\"desktop\">\n\t\t\t\t\t\t\t<RightBorder>\n\t\t\t\t\t\t\t\t<H3>Match Stats</H3>\n\t\t\t\t\t\t\t</RightBorder>\n\t\t\t\t\t\t</Hide>\n\t\t\t\t\t\t<Hide when=\"below\" breakpoint=\"desktop\">\n\t\t\t\t\t\t\t<H3>Match Stats</H3>\n\t\t\t\t\t\t</Hide>\n\t\t\t\t\t</ShiftLeft>\n\t\t\t\t</GridItem>\n\t\t\t\t<GridItem area=\"possession\">\n\t\t\t\t\t<RightBorder>\n\t\t\t\t\t\t<H4>Possession</H4>\n\t\t\t\t\t\t<Center>\n\t\t\t\t\t\t\t<DecideDoughnut\n\t\t\t\t\t\t\t\thome={home}\n\t\t\t\t\t\t\t\taway={away}\n\t\t\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Center>\n\t\t\t\t\t</RightBorder>\n\t\t\t\t\t<br />\n\t\t\t\t</GridItem>\n\t\t\t\t<GridItem area=\"attempts\">\n\t\t\t\t\t<H4>Attempts</H4>\n\t\t\t\t\t<GoalAttempts\n\t\t\t\t\t\tleft={{\n\t\t\t\t\t\t\tonTarget: home.shotsOn,\n\t\t\t\t\t\t\toffTarget: home.shotsOff,\n\t\t\t\t\t\t\tcolor: home.colours,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tright={{\n\t\t\t\t\t\t\tonTarget: away.shotsOn,\n\t\t\t\t\t\t\toffTarget: away.shotsOff,\n\t\t\t\t\t\t\tcolor: away.colours,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tformat={format}\n\t\t\t\t\t/>\n\t\t\t\t</GridItem>\n\t\t\t\t<GridItem area=\"corners\">\n\t\t\t\t\t<H4>Corners</H4>\n\t\t\t\t\t<Distribution\n\t\t\t\t\t\tleft={{\n\t\t\t\t\t\t\tvalue: home.corners,\n\t\t\t\t\t\t\tcolor: home.colours,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tright={{\n\t\t\t\t\t\t\tvalue: away.corners,\n\t\t\t\t\t\t\tcolor: away.colours,\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</GridItem>\n\t\t\t\t<GridItem area=\"fouls\">\n\t\t\t\t\t<H4>Fouls</H4>\n\t\t\t\t\t<Distribution\n\t\t\t\t\t\tleft={{\n\t\t\t\t\t\t\tvalue: home.fouls,\n\t\t\t\t\t\t\tcolor: home.colours,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tright={{\n\t\t\t\t\t\t\tvalue: away.fouls,\n\t\t\t\t\t\t\tcolor: away.colours,\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<br />\n\t\t\t\t</GridItem>\n\t\t\t\t<GridItem area=\"subtitle\">\n\t\t\t\t\t<ShiftLeft format={format}>\n\t\t\t\t\t\t{/* Don't show the right border if this text was\n                        shifted into the left column */}\n\t\t\t\t\t\t<Hide when=\"above\" breakpoint=\"desktop\">\n\t\t\t\t\t\t\t<RightBorder>\n\t\t\t\t\t\t\t\t<H3>Lineups</H3>\n\t\t\t\t\t\t\t</RightBorder>\n\t\t\t\t\t\t</Hide>\n\t\t\t\t\t\t<Hide when=\"below\" breakpoint=\"desktop\">\n\t\t\t\t\t\t\t<H3>Lineups</H3>\n\t\t\t\t\t\t</Hide>\n\t\t\t\t\t</ShiftLeft>\n\t\t\t\t</GridItem>\n\t\t\t\t<GridItem area=\"home\">\n\t\t\t\t\t<RightBorder>\n\t\t\t\t\t\t<H4>{home.name}</H4>\n\t\t\t\t\t\t<Lineup\n\t\t\t\t\t\t\tplayers={home.players.filter(\n\t\t\t\t\t\t\t\t(player) => !player.substitute,\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<H4>Substitutes</H4>\n\t\t\t\t\t\t<Lineup\n\t\t\t\t\t\t\tplayers={home.players.filter(\n\t\t\t\t\t\t\t\t(player) => player.substitute,\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t</RightBorder>\n\t\t\t\t</GridItem>\n\t\t\t\t<GridItem area=\"away\">\n\t\t\t\t\t<H4>{away.name}</H4>\n\t\t\t\t\t<Lineup\n\t\t\t\t\t\tplayers={away.players.filter(\n\t\t\t\t\t\t\t(player) => !player.substitute,\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t\t<br />\n\t\t\t\t\t<H4>Substitutes</H4>\n\t\t\t\t\t<Lineup\n\t\t\t\t\t\tplayers={away.players.filter(\n\t\t\t\t\t\t\t(player) => player.substitute,\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t\t<br />\n\t\t\t\t</GridItem>\n\t\t\t</StatsGrid>\n\t\t</StretchBackground>\n\t);\n};\n","import { ArticleDesign } from '@guardian/libs';\nimport type { SWRConfiguration } from 'swr';\nimport { useApi } from '../lib/useApi';\nimport { MatchStats } from './MatchStats';\nimport { Placeholder } from './Placeholder';\n\ntype Props = {\n\tmatchUrl: string;\n\tformat: ArticleFormat;\n};\n\nconst Loading = () => <Placeholder height={800} />;\n\n/**\n * # Get Match Stats\n *\n * Wrapper around `MatchStats`.\n *\n * ## Why does this need to be an Island?\n *\n * It fetches data from the API.\n *\n * ---\n *\n * [`MatchStats` on Chromatic](https://www.chromatic.com/component?appId=63e251470cfbe61776b0ef19&csfId=components-matchstats)\n */\nexport const GetMatchStats = ({ matchUrl, format }: Props) => {\n\tconst options: SWRConfiguration = {};\n\t// If this blog is live then poll for new stats\n\tif (format.design === ArticleDesign.LiveBlog) {\n\t\toptions.refreshInterval = 14_000;\n\t}\n\tconst { data, error, loading } = useApi<{\n\t\tid: string;\n\t\thomeTeam: TeamType;\n\t\tawayTeam: TeamType;\n\t}>(matchUrl, options);\n\n\tif (loading) return <Loading />;\n\tif (error) {\n\t\t// Send the error to Sentry and then prevent the element from rendering\n\t\twindow.guardian.modules.sentry.reportError(error, 'match=stats');\n\n\t\treturn null;\n\t}\n\tif (data) {\n\t\treturn (\n\t\t\t<MatchStats\n\t\t\t\thome={data.homeTeam}\n\t\t\t\taway={data.awayTeam}\n\t\t\t\tformat={format}\n\t\t\t/>\n\t\t);\n\t}\n\n\treturn null;\n};\n","import { css } from '@emotion/react';\nimport { ArticleDesign } from '@guardian/libs';\nimport { headline, space } from '@guardian/source-foundations';\nimport type { Palette } from '../../types/palette';\nimport { decidePalette } from '../lib/decidePalette';\n\ntype Props = {\n\tminByMinUrl?: string;\n\treportUrl?: string;\n\tformat: ArticleFormat;\n};\n\nconst thinGreySolid = (palette: Palette) =>\n\t`1px solid ${palette.border.matchTab}`;\n\nconst GreyBorder = ({ palette }: { palette: Palette }) => (\n\t<div\n\t\tcss={css`\n\t\t\tborder-left: ${thinGreySolid(palette)};\n\t\t\tmargin-left: ${space[1]}px;\n\t\t\twidth: ${space[2]}px;\n\t\t`}\n\t/>\n);\n\nconst tabsContainer = (palette: Palette) => css`\n\tdisplay: flex;\n\tposition: relative;\n\tborder-bottom: ${thinGreySolid(palette)};\n`;\n\nconst tab = (palette: Palette) => css`\n\tflex-basis: 50%;\n\theight: 40px;\n\tborder-top: 3px solid ${palette.border.matchTab};\n`;\n\nconst activeTab = (palette: Palette) => css`\n\tborder-top: 3px solid ${palette.border.activeMatchTab};\n`;\n\nconst tabLink = (palette: Palette) => css`\n\tcolor: ${palette.border.activeMatchTab};\n\tdisplay: block;\n\ttext-decoration: none;\n\t&:hover {\n\t\tbackground-color: ${palette.background.article};\n\t}\n`;\n\nconst tabLabel = css`\n\t${headline.xxxsmall()};\n\tbackground: transparent;\n\tpadding: 6px 8px 0;\n\ttext-align: left;\n\tfont-weight: 600;\n\tmin-height: 36px;\n\tdisplay: block;\n\twidth: 100%;\n`;\n\nexport const MatchTabs = ({ minByMinUrl, reportUrl, format }: Props) => {\n\tconst palette = decidePalette(format);\n\n\treturn (\n\t\t<div>\n\t\t\t<ul css={tabsContainer(palette)}>\n\t\t\t\t<li\n\t\t\t\t\tcss={[\n\t\t\t\t\t\ttab(palette),\n\t\t\t\t\t\tformat.design === ArticleDesign.MatchReport &&\n\t\t\t\t\t\t\tactiveTab(palette),\n\t\t\t\t\t]}\n\t\t\t\t>\n\t\t\t\t\t<a\n\t\t\t\t\t\thref={reportUrl}\n\t\t\t\t\t\tdata-link-name=\"report\"\n\t\t\t\t\t\tcss={tabLink(palette)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<span css={tabLabel}>Report</span>\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t\t<GreyBorder palette={palette} />\n\t\t\t\t<li\n\t\t\t\t\tcss={[\n\t\t\t\t\t\ttab(palette),\n\t\t\t\t\t\t(format.design === ArticleDesign.DeadBlog ||\n\t\t\t\t\t\t\tformat.design === ArticleDesign.LiveBlog) &&\n\t\t\t\t\t\t\tactiveTab(palette),\n\t\t\t\t\t]}\n\t\t\t\t>\n\t\t\t\t\t<a\n\t\t\t\t\t\thref={minByMinUrl}\n\t\t\t\t\t\tdata-link-name=\"Min-by-min\"\n\t\t\t\t\t\tcss={tabLink(palette)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<span css={tabLabel}>Min-by-min</span>\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t);\n};\n","import { useApi } from '../lib/useApi';\nimport { MatchTabs } from './MatchTabs';\nimport { Placeholder } from './Placeholder';\n\ntype Props = {\n\tmatchUrl: string;\n\tformat: ArticleFormat;\n};\n\nconst Loading = () => <Placeholder height={40} />;\n\nexport const GetMatchTabs = ({ matchUrl, format }: Props) => {\n\tconst { data, error, loading } = useApi<{\n\t\treportUrl?: string;\n\t\tminByMinUrl?: string;\n\t}>(matchUrl, { errorRetryCount: 1 });\n\n\tif (loading) return <Loading />;\n\tif (error) {\n\t\t// Send the error to Sentry and then prevent the element from rendering\n\t\twindow.guardian.modules.sentry.reportError(error, 'match-tabs');\n\n\t\treturn null;\n\t}\n\tif (data?.minByMinUrl && data.reportUrl) {\n\t\treturn (\n\t\t\t<MatchTabs\n\t\t\t\tminByMinUrl={data.minByMinUrl}\n\t\t\t\treportUrl={data.reportUrl}\n\t\t\t\tformat={format}\n\t\t\t/>\n\t\t);\n\t}\n\n\treturn null;\n};\n","import { GuideAtom } from '@guardian/atoms-rendering';\nimport type { GuideAtomType } from '@guardian/atoms-rendering';\n\nexport const GuideAtomWrapper = (props: GuideAtomType) => {\n\treturn <GuideAtom {...props} />;\n};\n","import type { BrazeCard } from '@guardian/braze-components';\nimport type { DropdownLinkType } from '../components/Dropdown';\n\nexport interface Notification {\n\tid: string;\n\ttarget: string;\n\tmessage: string;\n\tophanLabel: string;\n\tlogImpression?: () => void;\n}\n\nconst hasTargetAndMessage = (\n\tcard: BrazeCard,\n): card is BrazeCard & { extras: Notification } =>\n\tBoolean(card.extras.message) &&\n\tBoolean(card.extras.target) &&\n\tBoolean(card.extras.ophanLabel);\n\nexport const mapBrazeCardsToNotifications = (\n\tcards: BrazeCard[],\n): Notification[] => {\n\treturn cards.filter(hasTargetAndMessage).map((card) => {\n\t\treturn {\n\t\t\tid: card.id,\n\t\t\ttarget: card.extras.target,\n\t\t\tmessage: card.extras.message,\n\t\t\tophanLabel: card.extras.ophanLabel,\n\t\t\tlogImpression: () => {\n\t\t\t\tcard.logImpression();\n\t\t\t},\n\t\t};\n\t});\n};\n\nconst groupNotificationsByTarget = (\n\tnotifications: Notification[],\n): { [k: string]: Notification[] } => {\n\treturn notifications.reduce<{ [k: string]: Notification[] }>(\n\t\t(groupings, notification) => {\n\t\t\tgroupings[notification.target] = (\n\t\t\t\tgroupings[notification.target] ?? []\n\t\t\t).concat(notification);\n\n\t\t\treturn groupings;\n\t\t},\n\t\t{},\n\t);\n};\n\nexport const addNotificationsToDropdownLinks = (\n\tlinks: DropdownLinkType[],\n\tnotifications: Notification[],\n): DropdownLinkType[] => {\n\tconst notificationsByTarget = groupNotificationsByTarget(notifications);\n\n\tconst linksWithNotifications = links.map((link) => {\n\t\tconst newNotifications = (link.notifications ?? []).concat(\n\t\t\tnotificationsByTarget[link.id] ?? [],\n\t\t);\n\n\t\tif (newNotifications.length === 0) {\n\t\t\treturn link;\n\t\t}\n\n\t\treturn {\n\t\t\t...link,\n\t\t\tnotifications: newNotifications,\n\t\t};\n\t});\n\n\treturn linksWithNotifications;\n};\n","import { css } from '@emotion/react';\nimport { joinUrl } from '@guardian/libs';\nimport { brand, from, neutral, textSans } from '@guardian/source-foundations';\nimport { useEffect, useState } from 'react';\nimport { createAuthenticationEventParams } from '../../lib/identity-component-event';\nimport ProfileIcon from '../../static/icons/profile.svg';\nimport { getZIndex } from '../lib/getZIndex';\nimport {\n\taddNotificationsToDropdownLinks,\n\tmapBrazeCardsToNotifications,\n} from '../lib/notification';\nimport type { Notification } from '../lib/notification';\nimport { useApi } from '../lib/useApi';\nimport { useBraze } from '../lib/useBraze';\nimport type { DropdownLinkType } from './Dropdown';\nimport { Dropdown } from './Dropdown';\n\ninterface MyAccountProps {\n\tmmaUrl: string;\n\tidUrl: string;\n\tdiscussionApiUrl: string;\n\tidApiUrl: string;\n\tisSignedIn?: boolean;\n}\n\nconst myAccountStyles = css`\n\tdisplay: flex;\n\talign-items: center;\n\t${from.tablet} {\n\t\talign-items: stretch;\n\t}\n\t${from.desktop} {\n\t\t:before {\n\t\t\tcontent: '';\n\t\t\tborder-left: 1px solid ${brand[600]};\n\t\t\theight: 24px;\n\t\t}\n\t}\n`;\n\nconst myAccountLinkStyles = css`\n\tdisplay: flex;\n\talign-items: center;\n\theight: fit-content;\n\tposition: relative;\n\t${textSans.medium()};\n\tfont-size: 1rem;\n\tline-height: 1;\n\tcolor: ${neutral[100]};\n\ttransition: color 80ms ease-out;\n\ttext-decoration: none;\n\tpadding: 0;\n\n\t${from.tablet} {\n\t\tpadding: 7px 10px 7px 6px;\n\t}\n\n\t${from.desktop} {\n\t\tfont-weight: bold;\n\t}\n\n\t:hover,\n\t:focus {\n\t\ttext-decoration: underline;\n\t}\n\n\tsvg {\n\t\tfill: currentColor;\n\t\tfloat: left;\n\t\theight: 18px;\n\t\twidth: 18px;\n\t\tmargin: 0 4px 0 0;\n\t}\n\t${getZIndex('myAccountDropdown')}\n`;\n\nexport const buildIdentityLinks = (\n\tmmaUrl: string,\n\tidUrl: string,\n\tuserId: string,\n): DropdownLinkType[] => {\n\t/**\n\t * Note: the IDs in here are used by Braze to target notifications so should\n\t * be unique. Please check with Marketing Tools/TX before changing!\n\t */\n\tconst links = [\n\t\t{\n\t\t\tid: 'account_overview',\n\t\t\turl: `${mmaUrl}/`,\n\t\t\ttitle: 'Account overview',\n\t\t\tdataLinkName: 'nav3 : topbar : account overview',\n\t\t},\n\t\t{\n\t\t\tid: 'edit_profile',\n\t\t\turl: `${mmaUrl}/public-settings`,\n\t\t\ttitle: 'Profile',\n\t\t\tdataLinkName: 'nav3 : topbar : edit profile',\n\t\t},\n\t\t{\n\t\t\tid: 'email_prefs',\n\t\t\turl: `${mmaUrl}/email-prefs`,\n\t\t\ttitle: 'Emails & marketing',\n\t\t\tdataLinkName: 'nav3 : topbar : email prefs',\n\t\t},\n\t\t{\n\t\t\tid: 'settings',\n\t\t\turl: `${mmaUrl}/account-settings`,\n\t\t\ttitle: 'Settings',\n\t\t\tdataLinkName: 'nav3 : topbar : settings',\n\t\t},\n\t\t{\n\t\t\tid: 'help',\n\t\t\turl: `${mmaUrl}/help`,\n\t\t\ttitle: 'Help',\n\t\t\tdataLinkName: 'nav3 : topbar : help',\n\t\t},\n\t\t{\n\t\t\tid: 'comment_activity',\n\t\t\turl: `${idUrl}/user/id/${userId}`,\n\t\t\ttitle: 'Comments & replies',\n\t\t\tdataLinkName: 'nav3 : topbar : comment activity',\n\t\t},\n\t\t{\n\t\t\tid: 'sign_out',\n\t\t\turl: `${idUrl}/signout`,\n\t\t\ttitle: 'Sign out',\n\t\t\tdataLinkName: 'nav3 : topbar : sign out',\n\t\t},\n\t];\n\n\treturn links;\n};\n\nconst SignIn = ({ idUrl }: { idUrl: string }) => (\n\t<a\n\t\tcss={myAccountLinkStyles}\n\t\thref={`${idUrl}/signin?INTCMP=DOTCOM_NEWHEADER_SIGNIN&ABCMP=ab-sign-in&${createAuthenticationEventParams(\n\t\t\t'guardian_signin_header',\n\t\t)}`}\n\t\tdata-link-name=\"nav3 : topbar : signin\"\n\t>\n\t\t<ProfileIcon /> Sign in\n\t</a>\n);\n\nexport const dropDownOverrides = css`\n\tcolor: ${neutral[100]};\n\tpadding-right: 0;\n\tpadding-bottom: 0;\n\tmargin-top: 0;\n\n\tfont-size: 1rem;\n\n\t&:not(ul):hover {\n\t\tcolor: ${neutral[100]};\n\t\ttext-decoration: underline;\n\t}\n\n\t${from.tablet} {\n\t\tright: 0;\n\t}\n\n\t${from.desktop} {\n\t\tfont-weight: bold;\n\t}\n`;\n\ninterface SignedInWithNotificationsProps {\n\tmmaUrl: string;\n\tidUrl: string;\n\tdiscussionApiUrl: string;\n\tnotifications: Notification[];\n}\n\nconst SignedInWithNotifications = ({\n\tmmaUrl,\n\tidUrl,\n\tdiscussionApiUrl,\n\tnotifications,\n}: SignedInWithNotificationsProps) => {\n\tconst { data, error } = useApi<{ userProfile: UserProfile }>(\n\t\tjoinUrl(discussionApiUrl, 'profile/me?strict_sanctions_check=false'),\n\t\t{},\n\t\t{\n\t\t\tcredentials: 'include',\n\t\t},\n\t);\n\n\t// If we encounter an error or don't have user data display sign in to the user.\n\t// SWR will retry in the background if the request failed\n\tif (error || !data?.userProfile.userId) return <SignIn idUrl={idUrl} />;\n\n\tconst identityLinks = buildIdentityLinks(\n\t\tmmaUrl,\n\t\tidUrl,\n\t\tdata.userProfile.userId,\n\t);\n\n\tconst identityLinksWithNotifications = addNotificationsToDropdownLinks(\n\t\tidentityLinks,\n\t\tnotifications,\n\t);\n\n\treturn (\n\t\t<div css={myAccountLinkStyles}>\n\t\t\t<ProfileIcon />\n\t\t\t<Dropdown\n\t\t\t\tlabel=\"My account\"\n\t\t\t\tlinks={identityLinksWithNotifications}\n\t\t\t\tid=\"my-account\"\n\t\t\t\tdataLinkName=\"nav3 : topbar: my account\"\n\t\t\t\tcssOverrides={dropDownOverrides}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nconst SignedIn = ({ idApiUrl, ...props }: MyAccountProps) => {\n\tconst { brazeCards } = useBraze(idApiUrl);\n\tconst [brazeNotifications, setBrazeNotifications] = useState<\n\t\tNotification[]\n\t>([]);\n\n\tuseEffect(() => {\n\t\tif (brazeCards) {\n\t\t\tconst cards = brazeCards.getCardsForProfileBadge();\n\t\t\tconst cardsToNotifications = mapBrazeCardsToNotifications(cards);\n\t\t\tif (cardsToNotifications.length) {\n\t\t\t\tsetBrazeNotifications(cardsToNotifications);\n\t\t\t}\n\t\t}\n\t}, [brazeCards]);\n\n\treturn (\n\t\t<SignedInWithNotifications\n\t\t\t{...props}\n\t\t\tnotifications={brazeNotifications}\n\t\t/>\n\t);\n};\n\nexport const MyAccount = ({\n\tmmaUrl,\n\tidUrl,\n\tdiscussionApiUrl,\n\tidApiUrl,\n\tisSignedIn,\n}: MyAccountProps) => (\n\t<div css={myAccountStyles}>\n\t\t{isSignedIn ? (\n\t\t\t<SignedIn\n\t\t\t\tmmaUrl={mmaUrl}\n\t\t\t\tidUrl={idUrl}\n\t\t\t\tdiscussionApiUrl={discussionApiUrl}\n\t\t\t\tidApiUrl={idApiUrl}\n\t\t\t/>\n\t\t) : (\n\t\t\t<SignIn idUrl={idUrl} />\n\t\t)}\n\t</div>\n);\n","import { css } from '@emotion/react';\nimport { brand } from '@guardian/source-foundations';\nimport type { EditionId } from '../lib/edition';\nimport { getZIndex } from '../lib/getZIndex';\nimport type { DropdownLinkType } from './Dropdown';\nimport { Dropdown } from './Dropdown';\nimport { dropDownOverrides } from './HeaderTopBarMyAccount';\n\ninterface HeaderTopBarEditionDropdownProps {\n\teditionId: EditionId;\n\tdataLinkName: string;\n\tisInEuropeTest: boolean;\n}\n\nconst editionDropdownStyles = css`\n\t${getZIndex('editionDropdown')};\n\tdisplay: flex;\n\tposition: relative;\n\t:before {\n\t\tcontent: '';\n\t\tborder-left: 1px solid ${brand[600]};\n\t\theight: 24px;\n\t}\n`;\n\nexport const HeaderTopBarEditionDropdown = ({\n\teditionId,\n\tdataLinkName,\n\tisInEuropeTest,\n}: HeaderTopBarEditionDropdownProps) => {\n\tconst ukEdition: DropdownLinkType = {\n\t\tid: 'uk',\n\t\turl: '/preference/edition/uk',\n\t\ttitle: 'UK edition',\n\t\tdataLinkName: 'nav3 : topbar : edition-picker: UK',\n\t};\n\n\tconst links: DropdownLinkType[] = [\n\t\tukEdition,\n\t\t{\n\t\t\tid: 'us',\n\t\t\turl: '/preference/edition/us',\n\t\t\ttitle: 'US edition',\n\t\t\tdataLinkName: 'nav3 : topbar : edition-picker: US',\n\t\t},\n\t\t{\n\t\t\tid: 'au',\n\t\t\turl: '/preference/edition/au',\n\t\t\ttitle: 'Australia edition',\n\t\t\tdataLinkName: 'nav3 : topbar : edition-picker: AU',\n\t\t},\n\t\t{\n\t\t\tid: 'int',\n\t\t\turl: '/preference/edition/int',\n\t\t\ttitle: 'International edition',\n\t\t\tdataLinkName: 'nav3 : topbar : edition-picker: INT',\n\t\t},\n\t\t...(isInEuropeTest\n\t\t\t? [\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'eur',\n\t\t\t\t\t\turl: '/preference/edition/eur',\n\t\t\t\t\t\ttitle: 'Europe edition',\n\t\t\t\t\t\tdataLinkName: 'nav3 : topbar : edition-picker: EUR',\n\t\t\t\t\t},\n\t\t\t  ]\n\t\t\t: []),\n\t].map((link) =>\n\t\tlink.id.toUpperCase() === editionId\n\t\t\t? { ...link, isActive: true }\n\t\t\t: link,\n\t);\n\n\t// Find active link, default to UK\n\tconst activeLink = links.find(({ isActive }) => isActive) ?? {\n\t\t...ukEdition,\n\t\tisActive: true,\n\t};\n\n\t// Remove the active link and add it back to the top of the list\n\tconst linksToDisplay = [\n\t\tactiveLink,\n\t\t...links.filter(({ isActive }) => !isActive),\n\t];\n\n\treturn (\n\t\t<div css={editionDropdownStyles}>\n\t\t\t<Dropdown\n\t\t\t\tlabel={activeLink.title}\n\t\t\t\tlinks={linksToDisplay}\n\t\t\t\tid=\"edition\"\n\t\t\t\tdataLinkName={dataLinkName}\n\t\t\t\tcssOverrides={css`\n\t\t\t\t\t${dropDownOverrides};\n\t\t\t\t\tpadding-top: 6px;\n\t\t\t\t`}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { brandAlt, from, textSans } from '@guardian/source-foundations';\nimport { useEffect, useState } from 'react';\nimport NewspaperIcon from '../../static/icons/newspaper.svg';\nimport { addTrackingCodesToUrl } from '../lib/acquisitions';\nimport type { EditionId } from '../lib/edition';\n\ninterface PrintSubscriptionsProps {\n\teditionId: EditionId;\n}\n\nconst printSubscriptionStyles = css`\n\tdisplay: none;\n\n\t${from.desktop} {\n\t\tdisplay: flex;\n\t}\n`;\n\nconst linkStyles = css`\n\tdisplay: flex;\n\talign-items: center;\n\t${textSans.medium({ fontWeight: 'bold' })};\n\tfont-size: 1rem;\n\theight: fit-content;\n\tline-height: 1;\n\tcolor: ${brandAlt[400]};\n\ttransition: color 80ms ease-out;\n\ttext-decoration: none;\n\tpadding: 7px 0;\n\n\t${from.tablet} {\n\t\tpadding: 7px 10px 7px 6px;\n\t}\n\n\t:hover,\n\t:focus {\n\t\ttext-decoration: underline;\n\t}\n\n\tsvg {\n\t\tfill: currentColor;\n\t\tfloat: left;\n\t\theight: 18px;\n\t\twidth: 18px;\n\t\tmargin: 0 4px 0 0;\n\t}\n`;\n\nexport const HeaderTopBarPrintSubscriptions = ({\n\teditionId,\n}: PrintSubscriptionsProps) => {\n\tconst [pageViewId, setPageViewId] = useState('');\n\tconst [referrerUrl, setReferrerUrl] = useState('');\n\tuseEffect(() => {\n\t\tsetPageViewId(window.guardian.config.ophan.pageViewId);\n\t\tsetReferrerUrl(window.location.origin + window.location.pathname);\n\t}, []);\n\n\tconst href = addTrackingCodesToUrl({\n\t\tbase: `https://support.theguardian.com/subscribe${\n\t\t\teditionId === 'UK' ? '' : '/weekly'\n\t\t}`,\n\t\tcomponentType: 'ACQUISITIONS_HEADER',\n\t\tcomponentId: 'PrintSubscriptionsHeaderLink',\n\t\tpageViewId,\n\t\treferrerUrl,\n\t});\n\n\treturn (\n\t\t<div css={printSubscriptionStyles}>\n\t\t\t<a\n\t\t\t\thref={href}\n\t\t\t\tcss={linkStyles}\n\t\t\t\tdata-link-name=\"nav3 : topbar : printsubs\"\n\t\t\t>\n\t\t\t\t<NewspaperIcon />\n\t\t\t\t<>Print subscriptions</>\n\t\t\t</a>\n\t\t</div>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { brand, from, neutral, textSans } from '@guardian/source-foundations';\nimport SearchIcon from '../../static/icons/search.svg';\nimport { getZIndex } from '../lib/getZIndex';\n\ninterface SearchProps {\n\thref: string;\n\tdataLinkName: string;\n}\n\nconst searchLinkStyles = css`\n\tdisplay: flex;\n\talign-items: center;\n\t${textSans.medium({ fontWeight: 'bold' })};\n\tline-height: 1;\n\tfont-size: 1rem;\n\theight: fit-content;\n\tcolor: ${neutral[100]};\n\ttransition: color 80ms ease-out;\n\ttext-decoration: none;\n\tpadding: 7px 0;\n\n\t${from.tablet} {\n\t\tpadding: 7px 10px 7px 6px;\n\t}\n\n\t:hover,\n\t:focus {\n\t\ttext-decoration: underline;\n\t}\n\n\tsvg {\n\t\tfill: currentColor;\n\t\tfloat: left;\n\t\theight: 18px;\n\t\twidth: 18px;\n\t\tmargin: 0 4px 0 0;\n\t}\n\t${getZIndex('searchHeaderLink')}\n`;\n\nconst linkTablet = css`\n\tdisplay: none;\n\n\t:before {\n\t\tcontent: '';\n\t\tborder-left: 1px solid ${brand[600]};\n\t\theight: 24px;\n\t}\n\n\t${from.desktop} {\n\t\tdisplay: flex;\n\t}\n`;\n\nexport const Search = ({ href, dataLinkName }: SearchProps) => {\n\treturn (\n\t\t<div css={linkTablet}>\n\t\t\t<a href={href} css={searchLinkStyles} data-link-name={dataLinkName}>\n\t\t\t\t<SearchIcon />\n\t\t\t\t<>Search</>\n\t\t\t</a>\n\t\t</div>\n\t);\n};\n","import { css } from '@emotion/react';\nimport {\n\tbrand,\n\tbrandAlt,\n\tfrom,\n\theadline,\n\tneutral,\n\ttextSans,\n} from '@guardian/source-foundations';\nimport { useEffect, useRef, useState } from 'react';\nimport ArrowRightIcon from '../../static/icons/arrow-right.svg';\nimport SearchIcon from '../../static/icons/search.svg';\nimport XIcon from '../../static/icons/x.svg';\nimport { getZIndex } from '../lib/getZIndex';\nimport { useApi } from '../lib/useApi';\n\nconst searchLinkStyles = css`\n\tdisplay: flex;\n\talign-items: center;\n\t${textSans.medium({ fontWeight: 'bold' })};\n\tline-height: 1;\n\tfont-size: 1rem;\n\theight: fit-content;\n\tcolor: ${neutral[100]};\n\ttransition: color 80ms ease-out;\n\ttext-decoration: none;\n\tpadding: 7px 0;\n\n\t${from.tablet} {\n\t\tpadding: 7px 10px 7px 6px;\n\t}\n\n\t:hover,\n\t:focus {\n\t\ttext-decoration: underline;\n\t}\n\n\tsvg {\n\t\tfill: currentColor;\n\t\tfloat: left;\n\t\theight: 18px;\n\t\twidth: 18px;\n\t\tmargin: 0 4px 0 0;\n\t}\n\t${getZIndex('searchHeaderLink')}\n`;\n\nconst linkTablet = css`\n\tdisplay: none;\n\tposition: relative;\n\n\t:before {\n\t\tcontent: '';\n\t\tborder-left: 1px solid ${brand[600]};\n\t\theight: 24px;\n\t}\n\n\t${from.desktop} {\n\t\tdisplay: flex;\n\t}\n`;\n\nexport const HeaderTopBarSearchCapi = () => {\n\tconst [isSearchVisible, setIsSearchVisible] = useState(false);\n\tconst [q, setQ] = useState<string>();\n\tconst qRef = useRef<HTMLInputElement>(null);\n\tconst { data } = useApi<{\n\t\tresponse: { results: { webTitle: string; webUrl: string }[] };\n\t}>(\n\t\tq\n\t\t\t? `https://content.guardianapis.com/search?api-key=d1280925-708c-4940-9162-0952ac6e728f&q=${q}`\n\t\t\t: undefined,\n\t);\n\n\tconst formRef = useRef<HTMLFormElement>(null);\n\tconst searchContainerRef = useRef<HTMLDivElement>(null);\n\n\t// Hide search if you click anywhere outside of search when it's shown\n\tuseEffect(() => {\n\t\tfunction handleClickOutside(event: MouseEvent) {\n\t\t\tif (\n\t\t\t\t!searchContainerRef.current?.contains(event.target as Node) &&\n\t\t\t\t!formRef.current?.contains(event.target as Node) &&\n\t\t\t\tisSearchVisible\n\t\t\t) {\n\t\t\t\tsetQ(undefined);\n\t\t\t\tsetIsSearchVisible(false);\n\t\t\t}\n\t\t}\n\n\t\tdocument.addEventListener('mousedown', handleClickOutside);\n\t\treturn () => {\n\t\t\tdocument.removeEventListener('mousedown', handleClickOutside);\n\t\t};\n\t}, [formRef, isSearchVisible]);\n\n\t// Hide search if you press escape and it's show\n\tuseEffect(() => {\n\t\tconst hideSearch = (event: KeyboardEvent) => {\n\t\t\tif (event.key === 'Escape') {\n\t\t\t\tsetQ(undefined);\n\t\t\t\tsetIsSearchVisible(false);\n\t\t\t}\n\t\t};\n\t\tdocument.addEventListener('keydown', hideSearch, false);\n\t\treturn () => {\n\t\t\tdocument.removeEventListener('keydown', hideSearch, false);\n\t\t};\n\t}, []);\n\n\t// Focus the input element when we show search\n\tuseEffect(() => {\n\t\tif (isSearchVisible) {\n\t\t\tqRef.current?.focus();\n\t\t}\n\t}, [isSearchVisible]);\n\n\treturn (\n\t\t<>\n\t\t\t<div css={linkTablet} ref={searchContainerRef}>\n\t\t\t\t<a\n\t\t\t\t\thref=\"https://www.google.co.uk/advanced_search?q=site:www.theguardian.com\"\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tcss={searchLinkStyles}\n\t\t\t\t\tdata-link-name=\"nav3 : search\"\n\t\t\t\t\tonClick={(event) => {\n\t\t\t\t\t\tevent.preventDefault();\n\n\t\t\t\t\t\t// toggle search\n\t\t\t\t\t\tif (isSearchVisible) {\n\t\t\t\t\t\t\tsetQ(undefined);\n\t\t\t\t\t\t\tsetIsSearchVisible(false);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsetIsSearchVisible(true);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{!isSearchVisible ? <SearchIcon /> : <XIcon />}\n\t\t\t\t\t<>Search</>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t\t{isSearchVisible && (\n\t\t\t\t<form\n\t\t\t\t\tcss={css`\n\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\tbackground: ${brand[400]};\n\t\t\t\t\t\tz-index: 1000;\n\t\t\t\t\t\tright: 0;\n\t\t\t\t\t\twidth: 50%;\n\t\t\t\t\t\ttop: 35px;\n\t\t\t\t\t`}\n\t\t\t\t\tonSubmit={(event) => {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tsetQ(qRef.current?.value);\n\t\t\t\t\t}}\n\t\t\t\t\tref={formRef}\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\tbackground: ${neutral[100]};\n\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\tjustify-content: space-between;\n\t\t\t\t\t\t`}\n\t\t\t\t\t>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tname=\"q\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\t\tborder: none;\n\t\t\t\t\t\t\t\t${textSans.small()}\n\t\t\t\t\t\t\t\tfont-size: 16px;\n\t\t\t\t\t\t\t\tpadding: 0px 8px 0px 20px;\n\t\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\t\theight: 44px;\n\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t\tref={qRef}\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\t\tbackground: none;\n\t\t\t\t\t\t\t\tborder: 0;\n\n\t\t\t\t\t\t\t\t&:hover {\n\t\t\t\t\t\t\t\t\ttransform: scale(1.2);\n\t\t\t\t\t\t\t\t\ttransition: all 0.3s ease;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ArrowRightIcon />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t{data && data.response.results.length == 0 && (\n\t\t\t\t\t\t<p\n\t\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\t\t${textSans.medium()};\n\t\t\t\t\t\t\t\tpadding: 1rem 25px;\n\t\t\t\t\t\t\t\tcolor: ${neutral[100]};\n\n\t\t\t\t\t\t\t\t:hover {\n\t\t\t\t\t\t\t\t\tcolor: ${brandAlt[400]};\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tThere are no results\n\t\t\t\t\t\t</p>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{data && data.response.results.length > 0 && (\n\t\t\t\t\t\t<ul\n\t\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\t\tborder: 1px solid ${neutral[46]};\n\t\t\t\t\t\t\t\tborder-top: none;\n\t\t\t\t\t\t\t\tpadding-top: 8px;\n\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{data.response.results.map((result) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<li key={result.webUrl}>\n\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\thref={result.webUrl}\n\t\t\t\t\t\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\t\t\t\t\t\t${headline.xxxsmall()};\n\t\t\t\t\t\t\t\t\t\t\t\ttext-decoration: none;\n\t\t\t\t\t\t\t\t\t\t\t\tcolor: ${neutral[100]};\n\t\t\t\t\t\t\t\t\t\t\t\tdisplay: block;\n\t\t\t\t\t\t\t\t\t\t\t\tpadding-left: 20px;\n\n\t\t\t\t\t\t\t\t\t\t\t\t:hover {\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: ${brandAlt[400]};\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\t\t\t\t\t\t\tborder-top: 1px solid\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t${neutral[46]};\n\t\t\t\t\t\t\t\t\t\t\t\t\tpadding: 4px 50px 16px 0;\n\t\t\t\t\t\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{result.webTitle}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t)}\n\t\t\t\t</form>\n\t\t\t)}\n\t\t</>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { brand, from, neutral, textSans } from '@guardian/source-foundations';\n\nconst searchLinkStyles = css`\n\t${textSans.medium({ fontWeight: 'bold' })};\n\tfont-size: 1rem;\n\tline-height: 1;\n\tcolor: ${neutral[100]};\n\ttransition: color 80ms ease-out;\n\ttext-decoration: none;\n\tpadding: 7px 0;\n\n\t${from.tablet} {\n\t\tpadding: 8px 10px 7px 6px;\n\t}\n\n\t:hover,\n\t:focus {\n\t\ttext-decoration: underline;\n\t}\n`;\n\nconst linkTablet = css`\n\tdisplay: none;\n\n\t:before {\n\t\tcontent: '';\n\t\tborder-left: 1px solid ${brand[600]};\n\t\theight: 24px;\n\t}\n\n\t${from.desktop} {\n\t\tdisplay: flex;\n\t}\n`;\n\nexport const SearchJobs = () => {\n\treturn (\n\t\t<div css={linkTablet}>\n\t\t\t<a\n\t\t\t\thref=\"https://jobs.theguardian.com\"\n\t\t\t\tcss={searchLinkStyles}\n\t\t\t\tdata-link-name=\"nav3 : job-cta\"\n\t\t\t>\n\t\t\t\tSearch jobs\n\t\t\t</a>\n\t\t</div>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { getCookie } from '@guardian/libs';\nimport { brand, from, space } from '@guardian/source-foundations';\nimport { center } from '../lib/center';\nimport type { EditionId } from '../lib/edition';\nimport { HeaderTopBarEditionDropdown } from './HeaderTopBarEditionDropdown';\nimport { MyAccount } from './HeaderTopBarMyAccount';\nimport { HeaderTopBarPrintSubscriptions } from './HeaderTopBarPrintSubscriptions';\nimport { Search } from './HeaderTopBarSearch';\nimport { HeaderTopBarSearchCapi } from './HeaderTopBarSearchCapi';\nimport { SearchJobs } from './HeaderTopBarSearchJobs';\nimport { Hide } from './Hide';\n\ninterface HeaderTopBarProps {\n\teditionId: EditionId;\n\tdataLinkName: string;\n\tidUrl?: string;\n\tmmaUrl?: string;\n\tdiscussionApiUrl: string;\n\tidApiUrl: string;\n\theaderTopBarSearchCapiSwitch: boolean;\n\tisInEuropeTest: boolean;\n}\n\nconst topBarStyles = css`\n\tdisplay: flex;\n\theight: 30px;\n\tbackground-color: ${brand[300]};\n\tbox-sizing: border-box;\n\tpadding-left: 10px;\n\t${from.mobileLandscape} {\n\t\tpadding-left: ${space[5]}px;\n\t}\n\t${from.tablet} {\n\t\tpadding-left: 15px;\n\t}\n\t${from.desktop} {\n\t\theight: 35px;\n\t\tjustify-content: flex-end;\n\t\tpadding-right: ${space[5]}px;\n\t}\n\t${from.wide} {\n\t\tpadding-right: 96px;\n\t}\n`;\n\n/**\n * # Header Top Bar\n *\n * The slim dark blue top bar at the very top of Guardian pages\n *\n * ## Why does this need to be an Island?\n *\n * - We need to check if a user is signed in to show them the right header.\n * - We track clicks on print subscription with a page view ID\n * - We (sometimes) have a dynamic search\n *\n * ---\n *\n * [`HeaderTopBar` on Chromatic](https://www.chromatic.com/component?appId=63e251470cfbe61776b0ef19&csfId=components-headertopbar)\n */\nexport const HeaderTopBar = ({\n\teditionId,\n\tdataLinkName,\n\tidUrl,\n\tmmaUrl,\n\tdiscussionApiUrl,\n\tidApiUrl,\n\theaderTopBarSearchCapiSwitch,\n\tisInEuropeTest,\n}: HeaderTopBarProps) => {\n\tconst isServer = typeof window === 'undefined';\n\tconst isSignedIn =\n\t\t!isServer && !!getCookie({ name: 'GU_U', shouldMemoize: true });\n\n\treturn (\n\t\t<div\n\t\t\tcss={css`\n\t\t\t\tbackground-color: ${brand[300]};\n\t\t\t`}\n\t\t>\n\t\t\t<div css={[topBarStyles, center]}>\n\t\t\t\t<HeaderTopBarPrintSubscriptions editionId={editionId} />\n\t\t\t\t<MyAccount\n\t\t\t\t\tmmaUrl={mmaUrl ?? 'https://manage.theguardian.com'}\n\t\t\t\t\tidUrl={idUrl ?? 'https://profile.theguardian.com'}\n\t\t\t\t\tdiscussionApiUrl={discussionApiUrl}\n\t\t\t\t\tidApiUrl={idApiUrl}\n\t\t\t\t\tisSignedIn={isSignedIn}\n\t\t\t\t/>\n\t\t\t\t<SearchJobs />\n\n\t\t\t\t{!headerTopBarSearchCapiSwitch && (\n\t\t\t\t\t<Search\n\t\t\t\t\t\thref=\"https://www.google.co.uk/advanced_search?q=site:www.theguardian.com\"\n\t\t\t\t\t\tdataLinkName=\"nav3 : search\"\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\t{headerTopBarSearchCapiSwitch && <HeaderTopBarSearchCapi />}\n\t\t\t\t<Hide when=\"below\" breakpoint=\"desktop\">\n\t\t\t\t\t<HeaderTopBarEditionDropdown\n\t\t\t\t\t\teditionId={editionId}\n\t\t\t\t\t\tdataLinkName={dataLinkName}\n\t\t\t\t\t\tisInEuropeTest={isInEuropeTest}\n\t\t\t\t\t/>\n\t\t\t\t</Hide>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import { css } from '@emotion/react';\nimport type { Breakpoint } from '@guardian/source-foundations';\nimport { from, until } from '@guardian/source-foundations';\n\ninterface Props {\n\tchildren: React.ReactNode;\n\twhen: 'above' | 'below';\n\tbreakpoint: Breakpoint;\n}\n\ninterface PropsSpan extends Props {\n\tel?: 'span';\n}\ninterface PropsLi extends Props {\n\tel: 'li';\n}\n\nexport const Hide = ({\n\tchildren,\n\twhen,\n\tbreakpoint,\n\tel,\n}: PropsSpan | PropsLi) => {\n\tlet whenToHide;\n\tif (when === 'below') {\n\t\twhenToHide = css`\n\t\t\t${until[breakpoint]} {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t`;\n\t} else {\n\t\twhenToHide = css`\n\t\t\t${from[breakpoint]} {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t`;\n\t}\n\treturn el === 'li' ? (\n\t\t<li css={whenToHide}>{children}</li>\n\t) : (\n\t\t<span css={whenToHide}>{children}</span>\n\t);\n};\n","import { css } from '@emotion/react';\nimport type { InstagramBlockElement } from '../../types/content';\nimport { updateIframeHeight } from '../browser/updateIframeHeight';\nimport { ClickToView } from './ClickToView';\n\nconst fullWidthStyles = css`\n\twidth: 100%;\n`;\n\n/**\n * Note the iframe created in this component is dependent on the embedIFrame function being\n * called to be size correctly.\n * src/web/browser/embedIframe/embedIframe.ts\n */\ntype Props = {\n\telement: InstagramBlockElement;\n\tindex: number;\n\tisMainMedia: boolean;\n};\nexport const InstagramBlockComponent = ({\n\telement,\n\tindex,\n\tisMainMedia,\n}: Props) => {\n\treturn (\n\t\t<ClickToView\n\t\t\trole={element.role}\n\t\t\tisTracking={element.isThirdPartyTracking}\n\t\t\tisMainMedia={isMainMedia}\n\t\t\tsource={element.source}\n\t\t\tsourceDomain={element.sourceDomain}\n\t\t\tonAccept={() =>\n\t\t\t\tupdateIframeHeight(`iframe[name=\"instagram-embed-${index}\"]`)\n\t\t\t}\n\t\t>\n\t\t\t<iframe\n\t\t\t\tcss={fullWidthStyles}\n\t\t\t\tclassName=\"js-embed__iframe\"\n\t\t\t\tname={`instagram-embed-${index}`}\n\t\t\t\tdata-cy=\"instagram-embed\"\n\t\t\t\ttitle={`Instagram Post ${index}`}\n\t\t\t\tsrcDoc={`${element.html}\n\t\t\t<script src=\"https://interactive.guim.co.uk/libs/iframe-messenger/iframeMessenger.js\"></script>\n\t\t\t<gu-script>iframeMessenger.enableAutoResize();</gu-script>`}\n\t\t\t/>\n\t\t</ClickToView>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { ArticleDesign } from '@guardian/libs';\nimport { from, space, until } from '@guardian/source-foundations';\nimport type { FEElement, RoleType } from '../../types/content';\n\ntype Props = {\n\tchildren: React.ReactNode;\n\tformat: ArticleFormat;\n\tisMainMedia: boolean;\n\trole?: RoleType | 'richLink';\n\tid?: string;\n\tclassName?: string;\n\ttype?: FEElement['_type'];\n};\n\nconst roleCss = {\n\tinline: css`\n\t\tmargin-top: ${space[3]}px;\n\t\tmargin-bottom: ${space[3]}px;\n\t`,\n\n\tsupporting: css`\n\t\tclear: left;\n\t\tmargin-top: ${space[3]}px;\n\t\tmargin-bottom: ${space[3]}px;\n\t\t${from.tablet} {\n\t\t\tposition: relative;\n\t\t\tfloat: left;\n\t\t\twidth: 300px;\n\t\t\tmargin-right: 20px;\n\t\t\tline-height: 0;\n\t\t\tmargin-top: ${space[2]}px;\n\t\t}\n\t\t${from.leftCol} {\n\t\t\tmargin-left: -160px;\n\t\t}\n\t\t${from.wide} {\n\t\t\twidth: 380px;\n\t\t\tmargin-left: -240px;\n\t\t}\n\t`,\n\n\timmersive: css`\n\t\tmargin-top: ${space[3]}px;\n\t\tmargin-bottom: ${space[3]}px;\n\t\t${until.tablet} {\n\t\t\tmargin-left: -20px;\n\t\t\tmargin-right: -20px;\n\t\t}\n\t\t${until.mobileLandscape} {\n\t\t\tmargin-left: -10px;\n\t\t\tmargin-right: -10px;\n\t\t}\n\t\t${from.tablet} {\n\t\t\tmargin-left: -20px;\n\t\t\tmargin-right: -100px;\n\t\t}\n\t\t${from.desktop} {\n\t\t\tmargin-left: -20px;\n\t\t\tmargin-right: -340px;\n\t\t}\n\t\t${from.leftCol} {\n\t\t\tmargin-left: -160px;\n\t\t\tmargin-right: -320px;\n\t\t}\n\t\t${from.wide} {\n\t\t\tmargin-left: -240px;\n\t\t\tmargin-right: -400px;\n\t\t}\n\t`,\n\n\tshowcase: css`\n\t\tmargin-top: ${space[3]}px;\n\t\tmargin-bottom: ${space[3]}px;\n\t\tposition: relative;\n\t\t${from.leftCol} {\n\t\t\tmargin-left: -160px;\n\t\t}\n\t\t${from.wide} {\n\t\t\tmargin-left: -240px;\n\t\t}\n\t`,\n\n\tthumbnail: css`\n\t\tmargin-top: ${space[2]}px;\n\t\tmargin-bottom: ${space[2]}px;\n\t\tfloat: left;\n\t\tclear: left;\n\t\twidth: 120px;\n\t\tmargin-right: 20px;\n\t\t${from.tablet} {\n\t\t\twidth: 140px;\n\t\t}\n\t\t${from.wide} {\n\t\t\tmargin-left: -240px;\n\t\t}\n\t\t${from.leftCol} {\n\t\t\tposition: relative;\n\t\t\tmargin-left: -160px;\n\t\t}\n\t`,\n\n\t// This is a special use case where we want RichLinks to appear wider when in the left col\n\trichLink: css`\n\t\tmargin-bottom: ${space[1]}px;\n\t\tfloat: left;\n\t\tclear: left;\n\t\twidth: 140px;\n\t\tmargin-right: 20px;\n\t\t${from.tablet} {\n\t\t\twidth: 140px;\n\t\t}\n\t\t${from.leftCol} {\n\t\t\tposition: relative;\n\t\t\tmargin-left: -160px;\n\t\t\twidth: 140px;\n\t\t}\n\t\t${from.wide} {\n\t\t\tmargin-left: -240px;\n\t\t\twidth: 220px;\n\t\t}\n\t`,\n\n\thalfWidth: css`\n\t\tmargin-top: ${space[3]}px;\n\t\tmargin-bottom: ${space[3]}px;\n\t\twidth: 50%;\n\t\tfloat: left;\n\t\tclear: left;\n\t\tmargin-right: 16px;\n\t`,\n};\n\n// Used for vast majority of layouts.\nexport const defaultRoleStyles = (\n\trole: RoleType | 'richLink',\n\tformat: ArticleFormat,\n) => {\n\tswitch (role) {\n\t\tcase 'inline':\n\t\t\treturn roleCss.inline;\n\t\tcase 'supporting':\n\t\t\treturn roleCss.supporting;\n\t\tcase 'immersive':\n\t\t\treturn roleCss.immersive;\n\t\tcase 'showcase':\n\t\t\treturn roleCss.showcase;\n\t\tcase 'thumbnail':\n\t\t\tswitch (format.design) {\n\t\t\t\tcase ArticleDesign.LiveBlog:\n\t\t\t\tcase ArticleDesign.DeadBlog:\n\t\t\t\t\t// In blogs we don't want to use negative left margins\n\t\t\t\t\treturn css`\n\t\t\t\t\t\t${roleCss.thumbnail}\n\t\t\t\t\t\t/* It's important we use the media query here to ensure we override the default values */\n\t\t\t\t\t\t${from.leftCol} {\n\t\t\t\t\t\t\tmargin-left: 0px;\n\t\t\t\t\t\t}\n\t\t\t\t\t`;\n\t\t\t\tdefault:\n\t\t\t\t\treturn roleCss.thumbnail;\n\t\t\t}\n\t\tcase 'richLink':\n\t\t\treturn roleCss.richLink;\n\t\tcase 'halfWidth':\n\t\t\treturn roleCss.halfWidth;\n\t\tdefault:\n\t\t\treturn roleCss.inline;\n\t}\n};\n\nconst mainMediaFigureStyles = css`\n\theight: 100%;\n`;\n\nexport const Figure = ({\n\trole = 'inline',\n\tformat,\n\tchildren,\n\tid,\n\tisMainMedia,\n\tclassName = '',\n\ttype,\n}: Props) => {\n\tif (isMainMedia) {\n\t\t// Don't add in-body styles for main media elements\n\t\t// TODO: If we want to support other element types having role position, such\n\t\t// as showcase twitter embeds, then we should remove the role positioning which\n\t\t// currently lives in ImageComponent and hoist it up to here, the same as we're\n\t\t// doing using decidePosition for in-body elements\n\t\treturn (\n\t\t\t<figure id={id} key={id} css={mainMediaFigureStyles}>\n\t\t\t\t{children}\n\t\t\t</figure>\n\t\t);\n\t}\n\n\treturn (\n\t\t<figure\n\t\t\tid={id}\n\t\t\tcss={defaultRoleStyles(role, format)}\n\t\t\tdata-spacefinder-role={role}\n\t\t\tdata-spacefinder-type={type}\n\t\t\tclassName={className}\n\t\t>\n\t\t\t{children}\n\t\t</figure>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { ArticleSpecial } from '@guardian/libs';\nimport { body, space, textSans } from '@guardian/source-foundations';\nimport libDebounce from 'lodash.debounce';\nimport { useRef, useState } from 'react';\nimport type { RoleType } from '../../types/content';\nimport type { Palette } from '../../types/palette';\nimport { interactiveLegacyFigureClasses } from '../layouts/lib/interactiveLegacyStyling';\nimport { decidePalette } from '../lib/decidePalette';\nimport { useOnce } from '../lib/useOnce';\nimport { Caption } from './Caption';\nimport { defaultRoleStyles } from './Figure';\nimport { Placeholder } from './Placeholder';\n\ntype Props = {\n\turl?: string;\n\tscriptUrl?: string;\n\talt?: string;\n\trole?: RoleType;\n\tcaption?: string;\n\tformat: ArticleFormat;\n\telementId?: string;\n\tisMainMedia: boolean;\n};\n\n/*\nHISTORY\n\nA CAPI response for an interactive elements looks like:\n{\n\t\"type\": \"interactive\",\n\t\"assets\": [],\n\t\"interactiveTypeData\": {\n\t\t\"originalUrl\": \"https://interactive.guim.co.uk/charts/embed/jan/2019-01-05T14:22:01/embed.html\",\n\t\t\"source\": \"Guardian\",\n\t\t\"alt\": \"china 1978 gdp\",\n\t\t\"scriptUrl\": \"https://interactive.guim.co.uk/embed/iframe-wrapper/0.1/boot.js\",\n\t\t\"html\": \"<a href=\\\"https://interactive.guim.co.uk/charts/embed/jan/2019-01-05T14:22:01/embed.html\\\">china 1978 gdp</a>\",\n\t\t\"scriptName\": \"iframe-wrapper\",\n\t\t\"iframeUrl\": \"https://interactive.guim.co.uk/charts/embed/jan/2019-01-05T14:22:01/embed.html\",\n\t\t\"role\": \"supporting\",\n\t\t\"isMandatory\": false\n\t\t}\n}\n\nOn Frontend, the HTML that we send to the browser is:\n<figure class=\"element element-interactive interactive element--supporting\" data-interactive=\"https://interactive.guim.co.uk/embed/iframe-wrapper/0.1/boot.js\" data-canonical-url=\"https://interactive.guim.co.uk/charts/embed/jan/2019-01-05T14:22:01/embed.html\" data-alt=\"china 1978 gdp\">\n\t<a href=\"https://interactive.guim.co.uk/charts/embed/jan/2019-01-05T14:22:01/embed.html\" data-link-name=\"in body link\" class=\"u-underline\">china 1978 gdp</a>\n</figure>\n\nhttps://github.com/guardian/frontend/blob/e38da96c59eaaef143b9f89b2318eab9dcf2fc5a/common/app/views/fragments/inlineJSNonBlocking.scala.html#L52\nWe use the curl AMD loader to load the boot script from the data-interactive attribute:\n\trequire([el.getAttribute('data-interactive')], function (interactive) {\n\t\tinteractive.boot(el, document, window.guardian.config);\n\t}\n\nPulling from Kibana, 99% of articles use the standard iframe-wrapper/1.0/boot.js\nA vast minority of pre interactive atom use a customised boot.js\nhttps://gist.github.com/gtrufitt/c8f08caef0ae810a42fde5a4c0549ad0\n\n\nTHE STANDARD BOOT.js\nboot.js is defined from https://github.com/guardian/interactive-boot-scripts/blob/master/iframe-wrapper/boot.js\nand is sent with all interactive elements in the scriptUrl from CAPI to do a two simple things:\n- Create an iframe using the href of the anchor and set the src\n- Add event listener to the window to listen for 'message' of the following types\n\t- set-height\n\t- navigate\n\t- scroll-to\n\t- get-location\n\t- get-position\n\t- monitor-position\n\nIt has not been updated since 2016.\n\nMIGRATION FROM FRONTEND\n- For the standard boot.js, we have re-written the behavior in modern JS to avoid the requirement of an AMD loader\nand to avoid loading the boot.js file.\n- For all other files that do not load the standard boot.js, we'll add a AMD loader to the page\n\nFor the remaining few we dynamically load and AMD loader and support the contract as defined with curl AMD loader\n\n*/\nconst decideHeight = (role: RoleType) => {\n\tswitch (role) {\n\t\tcase 'supporting':\n\t\t\treturn 200;\n\t\tdefault:\n\t\t\treturn 500;\n\t}\n};\nconst getMinHeight = (role: RoleType, loaded: boolean) => {\n\tif (loaded) {\n\t\treturn `auto`;\n\t}\n\treturn `${decideHeight(role)}px`;\n};\nconst wrapperStyle = ({\n\tformat,\n\trole,\n\tloaded,\n\tpalette,\n}: {\n\tformat: ArticleFormat;\n\trole: RoleType;\n\tloaded: boolean;\n\tpalette: Palette;\n}) => css`\n\t${format.theme === ArticleSpecial.Labs ? textSans.medium() : body.medium()};\n\tbackground-color: ${palette.background.article};\n\tmin-height: ${getMinHeight(role, loaded)};\n\tposition: relative;\n`;\n\nconst placeholderLinkStyle = css`\n\tposition: absolute;\n\tbottom: ${space[1]}px;\n\tleft: ${space[1]}px;\n`;\n\n// https://interactive.guim.co.uk/embed/iframe-wrapper/0.1/boot.js\nconst setupWindowListeners = (iframe: HTMLIFrameElement) => {\n\t// Calls func on trailing edge of the wait period\n\n\tconst postMessage = (message: Record<string, unknown>) => {\n\t\tif (iframe.contentWindow) {\n\t\t\tiframe.contentWindow.postMessage(JSON.stringify(message), '*');\n\t\t}\n\t};\n\n\twindow.addEventListener(\n\t\t'message',\n\t\t(event) => {\n\t\t\tif (event.source !== iframe.contentWindow) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet message: Record<string, unknown> | undefined;\n\t\t\ttry {\n\t\t\t\tmessage = JSON.parse(event.data);\n\t\t\t} catch (e) {\n\t\t\t\twindow.guardian.modules.sentry.reportError(\n\t\t\t\t\t// @ts-expect-error\n\t\t\t\t\te,\n\t\t\t\t\t'Json parse Failed on in interactiveBlockComponent',\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (message === undefined) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst postPositionMessage = (subscribe?: boolean) => {\n\t\t\t\tconst iframeBox = iframe.getBoundingClientRect();\n\t\t\t\tpostMessage({\n\t\t\t\t\tid: message?.id || '',\n\t\t\t\t\ttype: message?.type || '',\n\t\t\t\t\tsubscribe: !!subscribe,\n\t\t\t\t\tiframeTop: iframeBox.top,\n\t\t\t\t\tiframeRight: iframeBox.right,\n\t\t\t\t\tiframeBottom: iframeBox.bottom,\n\t\t\t\t\tiframeLeft: iframeBox.left,\n\t\t\t\t\tinnerHeight: window.innerHeight,\n\t\t\t\t\tinnerWidth: window.innerWidth,\n\t\t\t\t\tpageYOffset: window.pageYOffset,\n\t\t\t\t});\n\t\t\t};\n\n\t\t\t// Actions\n\t\t\tswitch (message.type) {\n\t\t\t\tcase 'set-height':\n\t\t\t\t\tif (typeof message.value === 'number') {\n\t\t\t\t\t\tiframe.height = message.value.toString();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'navigate':\n\t\t\t\t\tif (typeof message.value === 'string') {\n\t\t\t\t\t\tdocument.location.href = message.value;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'scroll-to':\n\t\t\t\t\tif (\n\t\t\t\t\t\ttypeof message.x === 'number' &&\n\t\t\t\t\t\ttypeof message.y === 'number'\n\t\t\t\t\t) {\n\t\t\t\t\t\twindow.scrollTo(message.x, message.y);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'get-location':\n\t\t\t\t\tpostMessage({\n\t\t\t\t\t\tid: message.id,\n\t\t\t\t\t\ttype: message.type,\n\t\t\t\t\t\thash: window.location.hash,\n\t\t\t\t\t\thost: window.location.host,\n\t\t\t\t\t\thostname: window.location.hostname,\n\t\t\t\t\t\thref: window.location.href,\n\t\t\t\t\t\torigin: window.location.origin,\n\t\t\t\t\t\tpathname: window.location.pathname,\n\t\t\t\t\t\tport: window.location.port,\n\t\t\t\t\t\tprotocol: window.location.protocol,\n\t\t\t\t\t\tsearch: window.location.search,\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'get-position':\n\t\t\t\t\tpostPositionMessage();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'monitor-position':\n\t\t\t\t\t// Send initial position\n\t\t\t\t\tpostPositionMessage(true);\n\n\t\t\t\t\t// Send updated position on scroll or resize\n\t\t\t\t\twindow.addEventListener(\n\t\t\t\t\t\t'scroll',\n\t\t\t\t\t\tlibDebounce(() => {\n\t\t\t\t\t\t\tpostPositionMessage(true);\n\t\t\t\t\t\t}, 50),\n\t\t\t\t\t);\n\t\t\t\t\twindow.addEventListener(\n\t\t\t\t\t\t'resize',\n\t\t\t\t\t\tlibDebounce(() => {\n\t\t\t\t\t\t\tpostPositionMessage(true);\n\t\t\t\t\t\t}, 50),\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\tfalse,\n\t);\n};\n\nexport const InteractiveBlockComponent = ({\n\turl,\n\tscriptUrl,\n\talt,\n\trole = 'inline',\n\tcaption,\n\tformat,\n\telementId = '',\n\tisMainMedia,\n}: Props) => {\n\tconst wrapperRef = useRef<HTMLDivElement>(null);\n\tconst placeholderLinkRef = useRef<HTMLAnchorElement>(null);\n\tconst [loaded, setLoaded] = useState(false);\n\tconst palette = decidePalette(format);\n\tuseOnce(() => {\n\t\t// We've brought the behavior from boot.js into this file to avoid loading 2 extra scripts\n\t\tif (\n\t\t\tscriptUrl ===\n\t\t\t\t'https://interactive.guim.co.uk/embed/iframe-wrapper/0.1/boot.js' &&\n\t\t\turl &&\n\t\t\tplaceholderLinkRef.current\n\t\t) {\n\t\t\tconst iframe = document.createElement('iframe');\n\t\t\tiframe.style.width = '100%';\n\t\t\tiframe.style.border = 'none';\n\t\t\tiframe.height = decideHeight(role).toString();\n\t\t\tiframe.title = caption ?? alt ?? 'Interactive Content';\n\t\t\tif (url.startsWith('http:')) {\n\t\t\t\tiframe.src = url.replace('http:', 'https:');\n\t\t\t} else {\n\t\t\t\tiframe.src = url;\n\t\t\t}\n\n\t\t\tsetupWindowListeners(iframe);\n\n\t\t\twrapperRef.current?.appendChild(iframe);\n\n\t\t\tsetLoaded(true);\n\t\t} else if (scriptUrl) {\n\t\t\t// We're going to use curl AMD loader to load the script that the\n\t\t\t// interactive has given us.\n\t\t\twindow.require(\n\t\t\t\t[scriptUrl],\n\t\t\t\t(interactive: {\n\t\t\t\t\tboot: (\n\t\t\t\t\t\tel: HTMLDivElement,\n\t\t\t\t\t\tdocument: Document,\n\t\t\t\t\t\tconfig: unknown,\n\t\t\t\t\t) => void;\n\t\t\t\t}) => {\n\t\t\t\t\tif (wrapperRef.current !== null) {\n\t\t\t\t\t\tinteractive.boot(\n\t\t\t\t\t\t\twrapperRef.current,\n\t\t\t\t\t\t\tdocument,\n\t\t\t\t\t\t\twindow.guardian.config,\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t);\n\n\t\t\tsetLoaded(true);\n\t\t}\n\t}, [loaded]);\n\n\treturn (\n\t\t<>\n\t\t\t<figure\n\t\t\t\tid={elementId} // boot scripts use id when inserting interactive content\n\t\t\t\tref={wrapperRef}\n\t\t\t\tcss={[\n\t\t\t\t\tdefaultRoleStyles(role, format),\n\t\t\t\t\twrapperStyle({ format, role, loaded, palette }),\n\t\t\t\t]}\n\t\t\t\tclassName={interactiveLegacyFigureClasses(\n\t\t\t\t\t'model.dotcomrendering.pageElements.InteractiveBlockElement',\n\t\t\t\t\trole,\n\t\t\t\t)}\n\t\t\t\tdata-alt={alt} // for compatibility with custom boot scripts\n\t\t\t\tdata-cypress={`interactive-element-${encodeURI(alt ?? '')}`}\n\t\t\t\tdata-spacefinder-role={role}\n\t\t\t>\n\t\t\t\t{!loaded && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Placeholder // removed by HydrateInteractiveOnce\n\t\t\t\t\t\t\theight={decideHeight(role)}\n\t\t\t\t\t\t\tshouldShimmer={false}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tref={placeholderLinkRef}\n\t\t\t\t\t\t\tdata-name=\"placeholder\" // removed by HydrateInteractiveOnce\n\t\t\t\t\t\t\tcss={placeholderLinkStyle}\n\t\t\t\t\t\t\thref={url}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{alt}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</figure>\n\t\t\t{!!caption && (\n\t\t\t\t<Caption\n\t\t\t\t\tcaptionText={caption}\n\t\t\t\t\tformat={format}\n\t\t\t\t\tisMainMedia={isMainMedia}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</>\n\t);\n};\n","import { css } from '@emotion/react';\nimport {\n\tborder,\n\tfrom,\n\theadline,\n\tneutral,\n\tspace,\n\tuntil,\n} from '@guardian/source-foundations';\nimport { SvgChevronDownSingle } from '@guardian/source-react-components';\nimport { useCallback, useEffect, useState } from 'react';\nimport type { SubheadingBlockElement } from '../../types/content';\nimport { getZIndex } from '../lib/getZIndex';\n\nconst liStyles = css`\n\tborder-top: 1px solid ${neutral[86]};\n\tborder-top-width: 1px;\n\tborder-top-style: solid;\n\tborder-top-color: ${neutral[86]};\n\t:hover {\n\t\tbackground-color: ${neutral[93]};\n\t}\n`;\n\nconst borderRightStyles = css`\n\t${from.mobileLandscape} {\n\t\tborder-right: 1px solid ${neutral[86]};\n\t\tborder-right-width: 1px;\n\t\tborder-right-style: solid;\n\t\tborder-right-color: ${neutral[86]};\n\t}\n`;\n\nconst linkStyles = css`\n\tdisplay: flex;\n\t${headline.xxsmall({ fontWeight: 'light' })}\n\n\tpadding-top: ${space[2]}px;\n\tpadding-bottom: ${space[2]}px;\n\tpadding-left: ${space[3]}px;\n\tpadding-right: ${space[3]}px;\n\n\t/* remove a tag link styling */\n\ttext-decoration: inherit;\n\tcolor: inherit;\n`;\n\nconst numberStyles = css`\n\tpadding-right: ${space[2]}px;\n\t${headline.xxsmall({ fontWeight: 'bold' })}\n`;\n\nconst headerStyles = css`\n\t${headline.medium({ fontWeight: 'bold' })}\n\tpadding-left: ${space[3]}px;\n\tpadding-bottom: ${space[3]}px;\n`;\n\nconst stickyNavBaseStyles = css`\n\twidth: 90%;\n\t${from.tablet} {\n\t\tmax-width: 650px;\n\t\tmargin-left: ${space[4]}px;\n\t}\n\tbackground-color: ${neutral[100]};\n\tborder: 1px solid ${border.secondary};\n\ttop: 0;\n\t${getZIndex('banner')}\n`;\n\nconst olStyles = css`\n\tdisplay: grid;\n\t${from.mobileLandscape} {\n\t\tgrid-template-columns: 1fr 1fr;\n\t}\n`;\n\nconst stickyOlStyles = (showStickyNavOption: boolean) => css`\n\t${stickyNavBaseStyles}\n\ttop: 0;\n\tposition: fixed;\n\tmargin-top: ${space[12]}px;\n\tmax-height: 90vh;\n\toverflow-y: auto;\n\tdisplay: none;\n\t${showStickyNavOption && 'display: grid;'}\n`;\n\nconst wrapperStyles = css`\n\tmargin-top: -5px; /* a hack to get tighter margin between interactive element and Divider */\n\n\t${from.tablet} {\n\t\tmargin-left: -20px;\n\t\twidth: calc(100% + 20px);\n\t}\n\t${from.leftCol} {\n\t\tmargin-left: -10px;\n\t\twidth: calc(100% + 10px);\n\t}\n`;\n\nconst stickyNavCurrentHeaderStyles = css`\n\theight: ${space[12]}px;\n\tpadding: ${space[4]}px;\n\n\tdisplay: flex;\n\talign-items: center;\n\t${headline.xxsmall({ fontWeight: 'bold' })}\n\n\t${until.mobileLandscape} {\n\t\t${headline.xxxsmall({ fontWeight: 'bold' })}\n\t}\n\tposition: fixed;\n\n\tcursor: pointer;\n\tborder-top: 0;\n\tbox-shadow: 0 4px 12px 0 rgb(0 0 0 / 5%);\n`;\n\nconst SVGStyles = css`\n\twidth: ${space[5]}px;\n\tdisplay: flex;\n\tmargin-right: ${space[2]}px;\n\ttransform: translateY(-3px) rotate(0deg);\n\ttransition: transform 250ms ease-out;\n`;\n\nconst SVGTransitionStyles = css`\n\ttransform: translateY(-3px) rotate(180deg);\n\ttransition: transform 250ms ease-out;\n`;\n\ntype Props = {\n\tsubheadingLinks: SubheadingBlockElement[];\n\tendDocumentElementId?: string;\n};\n\ninterface EnhancedSubheadingType extends SubheadingBlockElement {\n\tref?: HTMLElement | null;\n}\n\nexport const InteractiveContentsBlockComponent = ({\n\tsubheadingLinks,\n\tendDocumentElementId,\n}: Props) => {\n\tconst [showStickyNavOption, setShowStickyNavOption] =\n\t\tuseState<boolean>(false);\n\n\t// Loop through subheadingLinks and add a reference + reverse each object\n\tconst [enhancedSubheadings, setEnhancedSubheadings] = useState<\n\t\tEnhancedSubheadingType[]\n\t>([]);\n\tuseEffect(() => {\n\t\tsetEnhancedSubheadings(\n\t\t\tsubheadingLinks.map((subheadingLink) => ({\n\t\t\t\t...subheadingLink,\n\t\t\t\tref: document.getElementById(subheadingLink.elementId),\n\t\t\t})),\n\t\t);\n\t}, [subheadingLinks, setEnhancedSubheadings]);\n\n\t// set the height explicitly of the container as to make sure that when we detach\n\t// list elements we do not effect the page height\n\tconst [height, setHeight] = useState<number>();\n\tconst divRef = useCallback((node: HTMLDivElement | null) => {\n\t\tif (node) setHeight(node.getBoundingClientRect().height);\n\t}, []);\n\n\tconst [stickyNavCurrentHeader, setStickyNavCurrentHeader] =\n\t\tuseState<null | EnhancedSubheadingType>(null);\n\n\t// The sticky header needs to be based on the section of the article that is being view\n\t// We accomplish this by\n\t// -> Watching each of the elements with an intersection observer\n\t// -> If we've reached the 'endDocument' element stop displaying\n\t// -> If we stop intersecting with the current element, and its in view > show the preview element\n\t// -> If we're intersecting with an element set that to the active one\n\t// -> If the end element is in view, but the last element is not > show the last element\n\tuseEffect((): void | (() => void) => {\n\t\tif ('IntersectionObserver' in window) {\n\t\t\tconst getSubheadingIndexById = (id: string): number =>\n\t\t\t\tenhancedSubheadings.findIndex((item) => item.ref?.id === id);\n\n\t\t\tconst onObserve = (entries: IntersectionObserverEntry[]) => {\n\t\t\t\t// Check if we've reached the end of the document\n\t\t\t\tconst endElement = endDocumentElementId\n\t\t\t\t\t? entries.find(\n\t\t\t\t\t\t\t(entry) => entry.target.id === endDocumentElementId,\n\t\t\t\t\t  )\n\t\t\t\t\t: undefined;\n\n\t\t\t\tif (endElement?.isIntersecting)\n\t\t\t\t\treturn setStickyNavCurrentHeader(null);\n\n\t\t\t\t// Check if the current element is in this update\n\t\t\t\tconst currentElement = entries.find(\n\t\t\t\t\t(entry) =>\n\t\t\t\t\t\tentry.target.id === stickyNavCurrentHeader?.elementId,\n\t\t\t\t);\n\n\t\t\t\t// If we're no longer intersecting with the current element &\n\t\t\t\t// it's still on the screen, switch to the preview element\n\t\t\t\tif (\n\t\t\t\t\tcurrentElement &&\n\t\t\t\t\t!currentElement.isIntersecting &&\n\t\t\t\t\tcurrentElement.boundingClientRect.y > 0\n\t\t\t\t) {\n\t\t\t\t\tconst index = getSubheadingIndexById(\n\t\t\t\t\t\tcurrentElement.target.id,\n\t\t\t\t\t);\n\t\t\t\t\t// If no subheading exists for the index we've probably scrolled past the top of the document\n\t\t\t\t\treturn setStickyNavCurrentHeader(\n\t\t\t\t\t\tenhancedSubheadings[index - 1] ?? null,\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\t// Check for entry of new element\n\t\t\t\tconst element = entries.find((entry) => entry.isIntersecting);\n\t\t\t\tif (element?.target.id)\n\t\t\t\t\treturn setStickyNavCurrentHeader(\n\t\t\t\t\t\tenhancedSubheadings[\n\t\t\t\t\t\t\tgetSubheadingIndexById(element.target.id)\n\t\t\t\t\t\t] ?? null,\n\t\t\t\t\t);\n\n\t\t\t\t// Check if we're scrolling up past the end of the document and set sticky nav to the last element\n\t\t\t\tconst [lastElement] = enhancedSubheadings.slice(-1);\n\t\t\t\tif (\n\t\t\t\t\tendElement &&\n\t\t\t\t\tendElement.boundingClientRect.y > 0 &&\n\t\t\t\t\tlastElement?.ref &&\n\t\t\t\t\tlastElement.ref.getBoundingClientRect().y < 0\n\t\t\t\t) {\n\t\t\t\t\treturn setStickyNavCurrentHeader(lastElement);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tconst observer = new IntersectionObserver(onObserve, {\n\t\t\t\t// Move the 'observation area' to the top of the page\n\t\t\t\trootMargin: `0px 0px -100% 0px`,\n\t\t\t});\n\n\t\t\tenhancedSubheadings.forEach(\n\t\t\t\t(item) => item.ref && observer.observe(item.ref),\n\t\t\t);\n\n\t\t\tif (endDocumentElementId) {\n\t\t\t\tconst endDocumentRef =\n\t\t\t\t\tdocument.getElementById(endDocumentElementId);\n\t\t\t\tif (endDocumentRef) observer.observe(endDocumentRef);\n\t\t\t}\n\n\t\t\t// Disable the observer\n\t\t\treturn () => observer.disconnect();\n\t\t}\n\t}, [\n\t\tenhancedSubheadings,\n\t\tsetStickyNavCurrentHeader,\n\t\tstickyNavCurrentHeader,\n\t\tendDocumentElementId,\n\t]);\n\n\treturn (\n\t\t<div\n\t\t\tref={divRef}\n\t\t\tcss={wrapperStyles}\n\t\t\tstyle={height !== undefined ? { height } : {}}\n\t\t>\n\t\t\t<h2 css={headerStyles} data-ignore=\"global-h2-styling\">\n\t\t\t\tContents\n\t\t\t</h2>\n\t\t\t{/* only show sticky nav header if defined */}\n\t\t\t{stickyNavCurrentHeader && (\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tcss={[stickyNavBaseStyles, stickyNavCurrentHeaderStyles]}\n\t\t\t\t\tonClick={() => setShowStickyNavOption(!showStickyNavOption)}\n\t\t\t\t>\n\t\t\t\t\t<span\n\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\tSVGStyles,\n\t\t\t\t\t\t\tshowStickyNavOption && SVGTransitionStyles,\n\t\t\t\t\t\t]}\n\t\t\t\t\t>\n\t\t\t\t\t\t<SvgChevronDownSingle />\n\t\t\t\t\t</span>\n\t\t\t\t\t{stickyNavCurrentHeader.html}\n\t\t\t\t</button>\n\t\t\t)}\n\t\t\t<ol\n\t\t\t\tdata-ignore=\"global-ol-styling\"\n\t\t\t\tcss={[\n\t\t\t\t\tolStyles,\n\t\t\t\t\t// we detach `ol` from the container when `stickyNavCurrentHeader` is defined\n\t\t\t\t\t// this allows us to reuse the list without redefining it\n\t\t\t\t\tstickyNavCurrentHeader &&\n\t\t\t\t\t\tstickyOlStyles(showStickyNavOption),\n\t\t\t\t]}\n\t\t\t>\n\t\t\t\t{subheadingLinks.map((subheadingLink, index) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<li\n\t\t\t\t\t\t\tkey={subheadingLink.elementId}\n\t\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\t\tliStyles,\n\t\t\t\t\t\t\t\tindex % 2 === 0 && borderRightStyles,\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\tdata-ignore=\"global-link-styling\"\n\t\t\t\t\t\t\t\tcss={linkStyles}\n\t\t\t\t\t\t\t\thref={`#${subheadingLink.elementId}`}\n\t\t\t\t\t\t\t\tdata-title={subheadingLink.html}\n\t\t\t\t\t\t\t\tonClick={() => setShowStickyNavOption(false)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span css={numberStyles}>{index + 1}</span>\n\t\t\t\t\t\t\t\t{subheadingLink.html}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</ol>\n\t\t</div>\n\t);\n};\n","import { Hide } from './Hide';\nimport { css, ThemeProvider } from '@emotion/react';\nimport { buttonThemeReaderRevenue } from '@guardian/source-react-components';\nimport {\n\tLinkButton,\n\tSvgArrowRightStraight,\n} from '@guardian/source-react-components';\nimport { space } from '@guardian/source-foundations';\nimport { shouldHideSupportMessaging } from '../lib/contributions';\nimport { EditionId } from '../lib/edition';\n\ntype InteractiveSupportButtonProps = {\n\teditionId: EditionId;\n\tsubscribeUrl: string;\n};\n\nconst PositionButton = ({ children }: { children: React.ReactNode }) => (\n\t<div\n\t\tcss={css`\n\t\t\tmargin-top: ${space[1]}px;\n\t\t\tmargin-left: ${space[2]}px;\n\t\t`}\n\t>\n\t\t{children}\n\t</div>\n);\n\nexport const InteractiveSupportButton = ({\n\teditionId,\n\tsubscribeUrl,\n}: InteractiveSupportButtonProps) => {\n\tconst hideSupportMessaging = shouldHideSupportMessaging();\n\n\tif (!hideSupportMessaging) {\n\t\treturn (\n\t\t\t<Hide when=\"above\" breakpoint=\"tablet\">\n\t\t\t\t<ThemeProvider theme={buttonThemeReaderRevenue}>\n\t\t\t\t\t<PositionButton>\n\t\t\t\t\t\t<LinkButton\n\t\t\t\t\t\t\tpriority=\"primary\"\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\ticonSide=\"right\"\n\t\t\t\t\t\t\ticon={<SvgArrowRightStraight />}\n\t\t\t\t\t\t\tdata-link-name=\"nav2 : support-cta\"\n\t\t\t\t\t\t\tdata-edition={editionId}\n\t\t\t\t\t\t\thref={subscribeUrl}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tSupport us\n\t\t\t\t\t\t</LinkButton>\n\t\t\t\t\t</PositionButton>\n\t\t\t\t</ThemeProvider>\n\t\t\t</Hide>\n\t\t);\n\t}\n\treturn null;\n};\n","import { css } from '@emotion/react';\nimport { timeAgo } from '@guardian/libs';\nimport { from, space, textSans } from '@guardian/source-foundations';\nimport { Link } from '@guardian/source-react-components';\nimport type { Palette } from '../../types/palette';\nimport { decidePalette } from '../lib/decidePalette';\n\ninterface Props {\n\tid: string;\n\tblockFirstPublished: number;\n\ttitle: string;\n\tisSummary: boolean;\n\tfilterKeyEvents: boolean;\n\tformat: ArticleFormat;\n\tcardPosition?: string;\n}\n\nconst linkStyles = (palette: Palette) => css`\n\ttext-decoration: none;\n\n\t&::before {\n\t\tcontent: '';\n\t\tdisplay: block;\n\t\tposition: relative;\n\t\theight: 13px;\n\t\twidth: 13px;\n\t\tborder-radius: 50%;\n\t\tbackground-color: ${palette.background.keyEventBullet};\n\t\tmargin-bottom: ${space[1]}px;\n\t\tz-index: 2;\n\n\t\t${from.tablet} {\n\t\t\theight: 15px;\n\t\t\twidth: 15px;\n\t\t}\n\t}\n\n\t&:hover::before {\n\t\tbackground-color: ${palette.hover.keyEventBullet};\n\t}\n\n\t&:hover {\n\t\tspan {\n\t\t\tborder-bottom: 1px solid ${palette.hover.keyEventLink};\n\t\t}\n\t\tdiv {\n\t\t\ttext-decoration: underline ${palette.text.keyEvent};\n\t\t\ttext-underline-offset: 1px;\n\t\t}\n\t}\n`;\n\nconst summaryStyles = (palette: Palette) => css`\n\t&::before {\n\t\tbackground-color: ${palette.background.summaryEventBullet};\n\t}\n\n\t&:hover::before {\n\t\tbackground-color: ${palette.hover.summaryEventBullet};\n\t}\n`;\n\nconst listItemStyles = (palette: Palette) => css`\n\tposition: relative;\n\tpadding-bottom: ${space[3]}px;\n\tpadding-top: ${space[3]}px;\n\tpadding-right: ${space[3]}px;\n\tbackground-color: ${palette.background.keyEvent};\n\tlist-style: none;\n\tdisplay: block;\n\twidth: 162px;\n\tscroll-snap-align: start;\n\n\t${from.desktop} {\n\t\tpadding-bottom: ${space[3]}px;\n\t\tbackground-color: ${palette.background.keyEventFromDesktop};\n\t\twidth: 200px;\n\t\tpadding-right: ${space[5]}px;\n\t}\n\n\t&::before {\n\t\tcontent: '';\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\tborder-top: 1px dotted ${palette.border.keyEvent};\n\t\tleft: 0;\n\t\tright: 0;\n\t\ttop: 19px;\n\t}\n\n\t&:last-child::before {\n\t\tborder-top: 0;\n\t}\n`;\n\nconst textStyles = (palette: Palette) => css`\n\t${textSans.small({ fontWeight: 'regular', lineHeight: 'regular' })};\n\tcolor: ${palette.text.keyEvent};\n`;\n\nconst timeStyles = (palette: Palette) => css`\n\t${textSans.xsmall({ fontWeight: 'bold', lineHeight: 'tight' })};\n\tcolor: ${palette.text.keyEventTime};\n\tdisplay: block;\n`;\n\nexport const KeyEventCard = ({\n\tid,\n\tblockFirstPublished,\n\tisSummary,\n\ttitle,\n\tfilterKeyEvents,\n\tformat,\n\tcardPosition = 'unknown position',\n}: Props) => {\n\tconst palette = decidePalette(format);\n\tconst url = `?filterKeyEvents=${String(\n\t\tfilterKeyEvents,\n\t)}&page=with:block-${id}#block-${id}`;\n\tconst date = new Date(blockFirstPublished);\n\treturn (\n\t\t<li css={listItemStyles(palette)}>\n\t\t\t<Link\n\t\t\t\tpriority=\"secondary\"\n\t\t\t\tcss={[linkStyles(palette), isSummary && summaryStyles(palette)]}\n\t\t\t\thref={url}\n\t\t\t\tdata-link-name={`key event card | ${cardPosition}`}\n\t\t\t>\n\t\t\t\t<time\n\t\t\t\t\tdateTime={date.toISOString()}\n\t\t\t\t\tdata-relativeformat=\"med\"\n\t\t\t\t\ttitle={`${date.toLocaleDateString('en-GB', {\n\t\t\t\t\t\thour: '2-digit',\n\t\t\t\t\t\tminute: '2-digit',\n\t\t\t\t\t\tweekday: 'long',\n\t\t\t\t\t\tyear: 'numeric',\n\t\t\t\t\t\tmonth: 'long',\n\t\t\t\t\t\tday: 'numeric',\n\t\t\t\t\t\ttimeZoneName: 'long',\n\t\t\t\t\t})}`}\n\t\t\t\t\tcss={timeStyles(palette)}\n\t\t\t\t>\n\t\t\t\t\t{timeAgo(date.getTime())}\n\t\t\t\t</time>\n\t\t\t\t<div css={textStyles(palette)}>{title}</div>\n\t\t\t</Link>\n\t\t</li>\n\t);\n};\n","import { css } from '@emotion/react';\nimport type { ArticleFormat } from '@guardian/libs';\nimport { from, headline, space } from '@guardian/source-foundations';\nimport {\n\tButton,\n\tbuttonThemeBrandAlt,\n\tHide,\n\tSvgChevronLeftSingle,\n\tSvgChevronRightSingle,\n} from '@guardian/source-react-components';\nimport { useRef } from 'react';\nimport type { Palette } from '../../types/palette';\nimport { decidePalette } from '../lib/decidePalette';\nimport { KeyEventCard } from './KeyEventCard';\n\ninterface Props {\n\tkeyEvents: Block[];\n\tfilterKeyEvents: boolean;\n\tformat: ArticleFormat;\n\tid: 'key-events-carousel-desktop' | 'key-events-carousel-mobile';\n}\ntype ValidBlock = Block & {\n\ttitle: string;\n\tblockFirstPublished: number;\n};\n\nconst carouselStyles = (palette: Palette) => css`\n\tbackground-color: ${palette.background.keyEvent};\n\tscroll-snap-type: x mandatory;\n\tscroll-behavior: smooth;\n\toverflow-x: auto;\n\toverflow-y: hidden;\n\tmargin-right: -10px;\n\t${from.tablet} {\n\t\tmargin-right: -20px;\n\t}\n\n\t${from.desktop} {\n\t\tmargin-right: 0px;\n\t\tbackground-color: ${palette.background.keyEventFromDesktop};\n\t\tscrollbar-width: none;\n\t\t&::-webkit-scrollbar {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n`;\nconst leftMarginStyles = css`\n\t${from.desktop} {\n\t\tmargin-left: 240px;\n\t}\n`;\n\nconst marginBottomStyles = css`\n\t${from.desktop} {\n\t\tmargin-bottom: ${space[12]}px;\n\t}\n`;\nconst titleStyles = css`\n\t${headline.xxxsmall({ fontWeight: 'bold', lineHeight: 'regular' })};\n\tpadding-top: ${space[3]}px;\n`;\n\nconst containerStyles = css`\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tflex-direction: row;\n\talign-items: stretch;\n\twidth: fit-content;\n\tposition: relative;\n`;\n\nconst buttonStyles = css`\n\tposition: absolute;\n\tbottom: 0;\n\tmargin-bottom: ${space[4]}px;\n\tbackground-color: ${buttonThemeBrandAlt.button.backgroundPrimary};\n\t&:active,\n\t&:hover {\n\t\toutline: none;\n\t\tbackground-color: ${buttonThemeBrandAlt.button.backgroundTertiaryHover};\n\t}\n`;\n\nconst leftButton = css`\n\tleft: ${space[5]}px;\n`;\n\nconst rightButton = css`\n\tright: ${space[5]}px;\n`;\n\nconst isValidKeyEvent = (keyEvent: Block): keyEvent is ValidBlock => {\n\treturn (\n\t\ttypeof keyEvent.title === 'string' &&\n\t\ttypeof keyEvent.blockFirstPublished === 'number'\n\t);\n};\nexport const KeyEventsCarousel = ({\n\tkeyEvents,\n\tfilterKeyEvents,\n\tformat,\n\tid,\n}: Props) => {\n\tconst carousel = useRef<HTMLDivElement | null>(null);\n\tconst palette = decidePalette(format);\n\tconst cardWidth = 200;\n\n\tconst goPrevious = () => {\n\t\tif (carousel.current) carousel.current.scrollLeft -= cardWidth;\n\t};\n\tconst goNext = () => {\n\t\tif (carousel.current) carousel.current.scrollLeft += cardWidth;\n\t};\n\tconst filteredKeyEvents = keyEvents.filter(isValidKeyEvent);\n\tconst carouselLength = filteredKeyEvents.length;\n\tconst shortCarousel = carouselLength <= 4;\n\tconst longCarousel = carouselLength > 6;\n\treturn (\n\t\t<>\n\t\t\t<span id={id} />\n\t\t\t<Hide from=\"desktop\">\n\t\t\t\t<div css={titleStyles}>Key events</div>\n\t\t\t</Hide>\n\t\t\t<div\n\t\t\t\tref={carousel}\n\t\t\t\tid=\"key-events-carousel\"\n\t\t\t\tcss={[\n\t\t\t\t\tcarouselStyles(palette),\n\t\t\t\t\tshortCarousel && leftMarginStyles,\n\t\t\t\t]}\n\t\t\t>\n\t\t\t\t<ul css={[containerStyles, longCarousel && marginBottomStyles]}>\n\t\t\t\t\t{filteredKeyEvents.map((keyEvent, index) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<KeyEventCard\n\t\t\t\t\t\t\t\tkey={keyEvent.id}\n\t\t\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\t\t\tfilterKeyEvents={filterKeyEvents}\n\t\t\t\t\t\t\t\tid={keyEvent.id}\n\t\t\t\t\t\t\t\tblockFirstPublished={\n\t\t\t\t\t\t\t\t\tkeyEvent.blockFirstPublished\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tisSummary={keyEvent.attributes.summary}\n\t\t\t\t\t\t\t\ttitle={keyEvent.title}\n\t\t\t\t\t\t\t\tcardPosition={`${index} of ${carouselLength}`}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</ul>\n\t\t\t\t<Hide until=\"desktop\">\n\t\t\t\t\t{longCarousel && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\thideLabel={true}\n\t\t\t\t\t\t\t\tcssOverrides={[buttonStyles, leftButton]}\n\t\t\t\t\t\t\t\ticonSide=\"left\"\n\t\t\t\t\t\t\t\ticon={<SvgChevronLeftSingle />}\n\t\t\t\t\t\t\t\tonClick={goPrevious}\n\t\t\t\t\t\t\t\taria-label=\"Move key events carousel backwards\"\n\t\t\t\t\t\t\t\tdata-link-name=\"key event carousel left chevron\"\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\thideLabel={true}\n\t\t\t\t\t\t\t\tcssOverrides={[buttonStyles, rightButton]}\n\t\t\t\t\t\t\t\ticonSide=\"left\"\n\t\t\t\t\t\t\t\ticon={<SvgChevronRightSingle />}\n\t\t\t\t\t\t\t\tonClick={goNext}\n\t\t\t\t\t\t\t\taria-label=\"Move key events carousel forwards\"\n\t\t\t\t\t\t\t\tdata-link-name=\"key event carousel right chevron\"\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</Hide>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n","import { css, keyframes } from '@emotion/react';\nimport { storage } from '@guardian/libs';\nimport { useEffect, useState } from 'react';\n\nconst dotStyles = (colour?: string) => css`\n\tcolor: ${colour && colour};\n\t:before {\n\t\tborder-radius: 62.5rem;\n\t\tdisplay: inline-block;\n\t\tposition: relative;\n\t\tbackground-color: currentColor;\n\t\twidth: 0.75em;\n\t\theight: 0.75em;\n\t\tcontent: '';\n\t\tmargin-right: 0.1875rem;\n\t\tvertical-align: initial;\n\t}\n`;\n\nconst livePulse = keyframes`\n    0% {opacity: 1;}\n    10% {opacity: .25;}\n    40% {opacity: 1;}\n    100% {opacity: 1;}\n`;\n\nconst animate = css`\n\t&[data-animate='true'] {\n\t\tanimation: ${livePulse} 1s infinite;\n\n\t\t@media (prefers-reduced-motion: reduce) {\n\t\t\tanimation: none;\n\t\t}\n\t}\n`;\n\ninterface Props {\n\tcolour?: string;\n}\n\nexport const PulsingDot = ({ colour }: Props) => {\n\tconst [hydrated, setHydrated] = useState(false);\n\tconst [shouldFlash, setShouldFlash] = useState(false);\n\n\tuseEffect(() => {\n\t\t// Respect the accessibility flag set here\n\t\t// https://www.theguardian.com/help/accessibility-help\n\n\t\tconst flashingPreference = storage.local.get(\n\t\t\t'gu.prefs.accessibility.flashing-elements',\n\t\t);\n\n\t\t// flashingPreference is null if no preference exists and explicitly\n\t\t// false when the reader has said they don't want flashing\n\t\tsetShouldFlash(flashingPreference !== false);\n\t\t// We use this to track if the flashing dot is hydrated\n\t\t// Uses of pulsing dot that aren't in islands can instead be animated by\n\t\t// the 'AnimatePulsingDots.importable.tsx' component\n\t\tsetHydrated(true);\n\t}, []);\n\n\treturn (\n\t\t<span\n\t\t\tcss={[dotStyles(colour), animate]}\n\t\t\tdata-flashing-dot-hydrated={hydrated}\n\t\t\t/**\n\t\t\t * How is the pulsing dot animated?\n\t\t\t *\n\t\t\t * We only enable the animation for the pulsing dot on the client side,\n\t\t\t * this is so that we can check each users flashing-elements configuration\n\t\t\t * and only animate if we verify the use doesn't have it disabled.\n\t\t\t *\n\t\t\t * There are two ways this hydration can be achieved:\n\t\t\t * 1. This file is loaded within an island, this happens in onwards content,\n\t\t\t *    where the useEffect will run & enable data-animate below\n\t\t\t * 2. An additional island can be loaded on the page 'AnimatePulsingDots.importable.tsx',\n\t\t\t *    which checks for un-hydrating pulsing dots and animate them if user settings allow.\n\t\t\t *    This is seen on Fronts and liveblogs.\n\t\t\t *\n\t\t\t * This animation is enabled/disabled through the data-animate attribute, which a CSS selector checks for\n\t\t\t * before setting the 'animate' property. This method allows us to enable the animation through both methods\n\t\t\t * outlined above.\n\t\t\t */\n\t\t\tdata-animate={shouldFlash}\n\t\t/>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { PulsingDot } from './PulsingDot';\n\n// Defines a prefix to be used with a headline (e.g. 'Live /')\ntype Props = {\n\ttext: string;\n\tcolor: string;\n\tshowPulsingDot?: boolean;\n\thideLineBreak?: boolean;\n};\n\nconst kickerStyles = (colour: string) => css`\n\tcolor: ${colour};\n\tfont-weight: 700;\n\tmargin-right: 4px;\n`;\n\nexport const Kicker = ({\n\ttext,\n\tcolor,\n\tshowPulsingDot,\n\thideLineBreak,\n}: Props) => {\n\treturn (\n\t\t<div\n\t\t\tcss={[\n\t\t\t\tkickerStyles(color),\n\t\t\t\thideLineBreak &&\n\t\t\t\t\tcss`\n\t\t\t\t\t\tdisplay: inline-block;\n\t\t\t\t\t`,\n\t\t\t]}\n\t\t>\n\t\t\t{showPulsingDot && <PulsingDot colour={color} />}\n\t\t\t{text}\n\t\t</div>\n\t);\n};\n","import { KnowledgeQuizAtom } from '@guardian/atoms-rendering';\nimport type { SharingUrlsType } from '@guardian/atoms-rendering';\n\n// These types are duplicates of those defined in the atom file.\ntype AnswerType = {\n\tid: string;\n\ttext: string;\n\trevealText?: string;\n\tisCorrect: boolean;\n\tanswerBuckets: string[];\n};\n\ntype QuestionType = {\n\tid: string;\n\ttext: string;\n\tanswers: AnswerType[];\n\timageUrl?: string;\n\timageAlt?: string;\n};\n\ntype ResultGroupsType = {\n\ttitle: string;\n\tshareText: string;\n\tminScore: number;\n\tid: string;\n};\n\ntype QuizAtomType = {\n\tid: string;\n\tquestions: QuestionType[];\n\tresultGroups: ResultGroupsType[];\n\tsharingUrls: SharingUrlsType;\n\ttheme: ArticleTheme;\n};\n\nexport const KnowledgeQuizAtomWrapper = (props: QuizAtomType) => {\n\treturn <KnowledgeQuizAtom {...props} />;\n};\n","import { css } from '@emotion/react';\nimport {\n\tborder,\n\tfrom,\n\tlabs,\n\tneutral,\n\tspace,\n\ttextSans,\n} from '@guardian/source-foundations';\nimport {\n\tLink,\n\tLinkButton,\n\tSvgArrowRightStraight,\n} from '@guardian/source-react-components';\nimport LabsLogo from '../../static/logos/the-guardian-labs.svg';\nimport { LABS_HEADER_HEIGHT } from '../lib/labs-constants';\nimport { Dropdown } from './Dropdown';\n\nconst FlexWrapper = ({ children }: { children: React.ReactNode }) => (\n\t<div\n\t\tcss={css`\n\t\t\tposition: relative;\n\t\t\theight: ${LABS_HEADER_HEIGHT}px;\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: space-between;\n\t\t`}\n\t>\n\t\t{children}\n\t</div>\n);\n\nconst Left = ({ children }: { children: React.ReactNode }) => (\n\t<div\n\t\tcss={css`\n\t\t\tdisplay: flex;\n\t\t`}\n\t>\n\t\t{children}\n\t</div>\n);\n\nconst Right = ({ children }: { children: React.ReactNode }) => (\n\t<div\n\t\tcss={css`\n\t\t\tdisplay: flex;\n\t\t\tpadding: ${space[1]}px 0;\n\t\t`}\n\t>\n\t\t{children}\n\t</div>\n);\n\nconst HeaderSection = ({\n\tchildren,\n\tisFirst,\n}: {\n\tchildren: React.ReactNode;\n\tisFirst?: boolean;\n}) => (\n\t<div\n\t\tcss={css`\n\t\t\tborder-right: 1px solid ${border.primary};\n\t\t\theight: 100%;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\n\t\t\t${isFirst ? null : 'padding-left: 10px;'}\n\t\t\tpadding-right: 10px;\n\t\t\t${from.mobileLandscape} {\n\t\t\t\t${isFirst ? null : 'padding-left: 20px;'}\n\t\t\t\tpadding-right: 20px;\n\t\t\t}\n\t\t`}\n\t>\n\t\t{children}\n\t</div>\n);\n\nconst Title = () => (\n\t<div\n\t\tcss={css`\n\t\t\t${textSans.small({ fontWeight: 'bold' })};\n\t\t\tmargin-bottom: 4px;\n\t\t`}\n\t>\n\t\tPaid content\n\t</div>\n);\n\nconst AboutDropdown = ({ children }: { children: React.ReactNode }) => (\n\t<div\n\t\tcss={css`\n\t\t\tcolor: black;\n\t\t\t> button {\n\t\t\t\t${textSans.small()};\n\t\t\t\tcolor: black;\n\t\t\t\t:hover {\n\t\t\t\t\tcolor: black;\n\t\t\t\t}\n\t\t\t}\n\t\t`}\n\t>\n\t\t{children}\n\t</div>\n);\n\nconst About = () => (\n\t<div\n\t\tcss={css`\n\t\t\t${textSans.small()};\n\t\t\tposition: absolute;\n\t\t\ttop: 55px;\n\t\t\tleft: 0;\n\t\t\tbackground-color: ${labs[400]};\n\t\t\tborder-top: 1px solid ${border.primary};\n\n\t\t\twidth: 100vw;\n\t\t\t${from.desktop} {\n\t\t\t\twidth: 235px;\n\t\t\t}\n\n\t\t\tmargin-left: -10px;\n\t\t\t${from.mobileLandscape} {\n\t\t\t\tmargin-left: -20px;\n\t\t\t}\n\t\t\tpadding: ${space[2]}px 10px;\n\t\t\t${from.mobileLandscape} {\n\t\t\t\tpadding: ${space[3]}px 20px;\n\t\t\t}\n\n\t\t\t> a {\n\t\t\t\tcolor: black;\n\t\t\t}\n\t\t`}\n\t>\n\t\t<p>\n\t\t\tPaid content is paid for and controlled by an advertiser and\n\t\t\tproduced by the Guardian Labs team.\n\t\t</p>\n\t\t<br />\n\t\t<LinkButton\n\t\t\ticonSide=\"right\"\n\t\t\tsize=\"xsmall\"\n\t\t\tpriority=\"subdued\"\n\t\t\ticon={<SvgArrowRightStraight />}\n\t\t\thref=\"https://www.theguardian.com/info/2016/jan/25/content-funding\"\n\t\t>\n\t\t\tLearn more\n\t\t</LinkButton>\n\t</div>\n);\n\nconst Logo = () => (\n\t<Link href=\"https://www.theguardian.com/guardian-labs\">\n\t\t<LabsLogo />\n\t</Link>\n);\n\nexport const LabsHeader = () => (\n\t<FlexWrapper>\n\t\t<Left>\n\t\t\t<HeaderSection isFirst={true}>\n\t\t\t\t<Title />\n\t\t\t</HeaderSection>\n\t\t\t<HeaderSection>\n\t\t\t\t<AboutDropdown>\n\t\t\t\t\t<Dropdown\n\t\t\t\t\t\tlabel=\"About\"\n\t\t\t\t\t\tlinks={[]}\n\t\t\t\t\t\tid=\"paidfor\"\n\t\t\t\t\t\tcssOverrides={css`\n\t\t\t\t\t\t\tcolor: ${neutral[0]};\n\t\t\t\t\t\t`}\n\t\t\t\t\t\tdataLinkName=\"\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<About />\n\t\t\t\t\t</Dropdown>\n\t\t\t\t</AboutDropdown>\n\t\t\t</HeaderSection>\n\t\t</Left>\n\t\t<Right>\n\t\t\t<Logo />\n\t\t</Right>\n\t</FlexWrapper>\n);\n","import { css } from '@emotion/react';\nimport {\n\tbetween,\n\tborder,\n\tfrom,\n\tspace,\n\tuntil,\n} from '@guardian/source-foundations';\n\nconst leftWidth = (size: LeftColSize) => {\n\tswitch (size) {\n\t\tcase 'wide': {\n\t\t\treturn css`\n\t\t\t\tpadding-right: 10px;\n\t\t\t\t${until.leftCol} {\n\t\t\t\t\t/* below 1140 */\n\t\t\t\t\tdisplay: none;\n\t\t\t\t}\n\n\t\t\t\t${from.leftCol} {\n\t\t\t\t\t/* above 1140 */\n\t\t\t\t\tflex-basis: 230px;\n\t\t\t\t\tflex-grow: 0;\n\t\t\t\t\tflex-shrink: 0;\n\t\t\t\t}\n\t\t\t`;\n\t\t}\n\t\tcase 'compact':\n\t\tdefault: {\n\t\t\treturn css`\n\t\t\t\tpadding-right: 10px;\n\t\t\t\t${until.leftCol} {\n\t\t\t\t\t/* below 1140 */\n\t\t\t\t\tdisplay: none;\n\t\t\t\t}\n\n\t\t\t\t${between.leftCol.and.wide} {\n\t\t\t\t\t/* above 1140, below 1300 */\n\t\t\t\t\tflex-basis: 151px;\n\t\t\t\t\tflex-grow: 0;\n\t\t\t\t\tflex-shrink: 0;\n\t\t\t\t}\n\n\t\t\t\t${from.wide} {\n\t\t\t\t\t/* above 1300 */\n\t\t\t\t\tflex-basis: 230px;\n\t\t\t\t\tflex-grow: 0;\n\t\t\t\t\tflex-shrink: 0;\n\t\t\t\t}\n\t\t\t`;\n\t\t}\n\t}\n};\n\nconst positionRelative = css`\n\tposition: relative;\n`;\n\nconst partialRightBorder = (colour: string) => css`\n\t:before {\n\t\tcontent: '';\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tbottom: 0;\n\t\tright: 0;\n\t\theight: 30px;\n\t\twidth: 1px;\n\t\tbackground: ${colour};\n\t}\n`;\n\nconst fullRightBorder = (colour: string) => css`\n\tborder-right: 1px solid ${colour};\n`;\n\ntype Props = {\n\tchildren: React.ReactNode;\n\tborderType?: 'full' | 'partial'; // if no borderType provided -> no border\n\tborderColour?: string;\n\tsize?: LeftColSize;\n\tverticalMargins?: boolean;\n};\n\nexport const LeftColumn = ({\n\tchildren,\n\tborderType,\n\tborderColour = border.secondary,\n\tsize = 'compact',\n\tverticalMargins = true,\n}: Props) => {\n\treturn (\n\t\t<section\n\t\t\tcss={[\n\t\t\t\tpositionRelative,\n\t\t\t\tleftWidth(size),\n\t\t\t\tborderType === 'full' && fullRightBorder(borderColour),\n\t\t\t\tverticalMargins &&\n\t\t\t\t\tcss`\n\t\t\t\t\t\t/*\n\t\t\t\t\t\t\tKeep spacing at the bottom of the container consistent at 36px, regardless of\n\t\t\t\t\t\t\tbreakpoint, based on chat with Harry Fisher\n\t\t\t\t\t\t*/\n\t\t\t\t\t\tpadding-bottom: ${space[9]}px;\n\t\t\t\t\t`,\n\t\t\t]}\n\t\t>\n\t\t\t<div\n\t\t\t\tcss={[\n\t\t\t\t\tborderType === 'partial' &&\n\t\t\t\t\t\tpartialRightBorder(borderColour),\n\t\t\t\t\tcss`\n\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t`,\n\t\t\t\t]}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t</section>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { headline } from '@guardian/source-foundations';\nimport { decidePalette } from '../lib/decidePalette';\nimport { Byline } from './Byline';\nimport { Kicker } from './Kicker';\nimport { QuoteIcon } from './QuoteIcon';\n\ntype Props = {\n\theadlineText: string; // The text shown\n\tformat: ArticleFormat;\n\tshowUnderline?: boolean; // Some headlines have text-decoration underlined when hovered\n\tkickerText?: string;\n\tshowPulsingDot?: boolean;\n\thideLineBreak?: boolean;\n\tshowQuotes?: boolean; // When true the QuoteIcon is shown\n\tsize?: SmallHeadlineSize;\n\tlink?: HeadlineLink; // An optional link object configures if/how the component renders an anchor tag\n\tbyline?: string;\n};\n\nconst fontStyles = (size: SmallHeadlineSize) => {\n\tswitch (size) {\n\t\tcase 'ginormous':\n\t\tcase 'huge':\n\t\t\treturn css`\n\t\t\t\t${headline.small()};\n\t\t\t`;\n\t\tcase 'large':\n\t\t\treturn css`\n\t\t\t\t${headline.xsmall()};\n\t\t\t`;\n\t\tcase 'medium':\n\t\t\treturn css`\n\t\t\t\t${headline.xxsmall()};\n\t\t\t`;\n\t\tcase 'small':\n\t\t\treturn css`\n\t\t\t\t${headline.xxxsmall()};\n\t\t\t`;\n\t\tcase 'tiny':\n\t\t\treturn css`\n\t\t\t\t${headline.xxxsmall()};\n\t\t\t\tfont-size: 14px;\n\t\t\t`;\n\t}\n};\n\nconst textDecorationUnderline = css`\n\ttext-decoration: underline;\n`;\n\nconst linkStyles = css`\n\tposition: relative;\n\tcolor: inherit;\n\ttext-decoration: none;\n\t:hover {\n\t\ttext-decoration: underline;\n\t}\n`;\n\nconst visitedStyles = (visitedColour: string) => css`\n\t:visited {\n\t\tcolor: ${visitedColour};\n\t}\n`;\n\nexport const LinkHeadline = ({\n\theadlineText,\n\tformat,\n\tshowUnderline = false,\n\tkickerText,\n\tshowPulsingDot,\n\thideLineBreak,\n\tshowQuotes = false,\n\tsize = 'medium',\n\tlink,\n\tbyline,\n}: Props) => {\n\tconst palette = decidePalette(format);\n\n\treturn (\n\t\t<h4 css={fontStyles(size)}>\n\t\t\t{!!kickerText && (\n\t\t\t\t<Kicker\n\t\t\t\t\ttext={kickerText}\n\t\t\t\t\tcolor={palette.text.linkKicker}\n\t\t\t\t\tshowPulsingDot={showPulsingDot}\n\t\t\t\t\thideLineBreak={hideLineBreak}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t{showQuotes && <QuoteIcon colour={palette.text.linkKicker} />}\n\t\t\t{link ? (\n\t\t\t\t// We were passed a link object so headline should be a link, with link styling\n\t\t\t\t<>\n\t\t\t\t\t<a\n\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\t// Composed styles - order matters for colours\n\t\t\t\t\t\t\tlinkStyles,\n\t\t\t\t\t\t\tshowUnderline && textDecorationUnderline,\n\t\t\t\t\t\t\tlink.visitedColour &&\n\t\t\t\t\t\t\t\tvisitedStyles(link.visitedColour),\n\t\t\t\t\t\t]}\n\t\t\t\t\t\thref={link.to}\n\t\t\t\t\t\t// If link.preventFocus is true, set tabIndex to -1 to ensure this\n\t\t\t\t\t\t// link is not tabbed to. Useful if there is an outer link to the same\n\t\t\t\t\t\t// place, such as with MostViewed\n\t\t\t\t\t\ttabIndex={link.preventFocus ? -1 : undefined}\n\t\t\t\t\t>\n\t\t\t\t\t\t{headlineText}\n\t\t\t\t\t</a>\n\t\t\t\t\t{!!byline && (\n\t\t\t\t\t\t<Byline text={byline} format={format} size={size} />\n\t\t\t\t\t)}\n\t\t\t\t</>\n\t\t\t) : (\n\t\t\t\t// We don't have a link so simply use a span here\n\t\t\t\t<>\n\t\t\t\t\t<span>{headlineText}</span>\n\t\t\t\t\t{!!byline && (\n\t\t\t\t\t\t<Byline text={byline} size={size} format={format} />\n\t\t\t\t\t)}\n\t\t\t\t</>\n\t\t\t)}\n\t\t</h4>\n\t);\n};\n","import { css } from '@emotion/react';\nimport type { CountryCode } from '@guardian/libs';\nimport { getCookie, log, storage } from '@guardian/libs';\nimport { space } from '@guardian/source-foundations';\nimport { getEpicViewLog } from '@guardian/support-dotcom-components';\nimport type { EpicPayload } from '@guardian/support-dotcom-components/dist/dotcom/src/types';\nimport React, { useEffect, useState } from 'react';\nimport { createPortal } from 'react-dom';\nimport { useArticleCounts } from '../../lib/articleCount';\nimport type { TagType } from '../../types/tag';\nimport { submitComponentEvent } from '../browser/ophan/ophan';\nimport {\n\tgetLastOneOffContributionTimestamp,\n\tisRecurringContributor,\n\tshouldHideSupportMessaging,\n\tuseHasOptedOutOfArticleCount,\n} from '../lib/contributions';\nimport { getLocaleCode } from '../lib/getCountryCode';\nimport { setAutomat } from '../lib/setAutomat';\nimport { useSDCLiveblogEpic } from '../lib/useSDC';\n\ntype Props = {\n\tsection: string;\n\tshouldHideReaderRevenue: boolean;\n\tisPaidContent: boolean;\n\ttags: TagType[];\n\tcontributionsServiceUrl: string;\n\tpageId: string;\n\tkeywordIds: string;\n};\n\nconst useCountryCode = () => {\n\tconst [countryCode, setCountryCode] = useState<CountryCode | null>();\n\n\tuseEffect(() => {\n\t\tgetLocaleCode()\n\t\t\t.then((cc) => {\n\t\t\t\tsetCountryCode(cc);\n\t\t\t})\n\t\t\t.catch((e) => {\n\t\t\t\tconst msg = `Error fetching country code: ${String(e)}`;\n\t\t\t\twindow.guardian.modules.sentry.reportError(\n\t\t\t\t\tnew Error(msg),\n\t\t\t\t\t'liveblog-epic',\n\t\t\t\t);\n\t\t\t});\n\t}, []);\n\n\treturn countryCode;\n};\n\nconst useEpic = ({ url, name }: { url: string; name: string }) => {\n\t// Using state here to store the Epic component that gets imported allows\n\t// us to render it with React (instead of inserting it into the dom manually)\n\tconst [Epic, setEpic] =\n\t\tuseState<React.ElementType<{ [key: string]: unknown }>>();\n\n\tuseEffect(() => {\n\t\tsetAutomat();\n\t\twindow\n\t\t\t.guardianPolyfilledImport(url)\n\t\t\t.then((epicModule) => {\n\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-member-access, @typescript-eslint/no-unsafe-return -- required for dynamic import\n\t\t\t\tsetEpic(() => epicModule[name]); // useState requires functions to be wrapped\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconst msg = `Error importing LiveBlog epic: ${String(err)}`;\n\t\t\t\twindow.guardian.modules.sentry.reportError(\n\t\t\t\t\tnew Error(msg),\n\t\t\t\t\t'liveblog-epic',\n\t\t\t\t);\n\t\t\t});\n\t}, [url, name]);\n\n\treturn { Epic };\n};\n\n/**\n * usePayload\n *\n * takes a series of CAPI values, reads consent, the users country, some cookie\n * values and then constructs a config object with `tracking` and `targeting`\n * properties\n *\n * @returns the payload object required to make the POST request to contributions\n */\nconst usePayload = ({\n\tshouldHideReaderRevenue,\n\tsection,\n\tisPaidContent,\n\ttags,\n\tpageId,\n\tkeywordIds,\n}: {\n\tshouldHideReaderRevenue: boolean;\n\tsection: string;\n\tisPaidContent: boolean;\n\ttags: TagType[];\n\tpageId: string;\n\tkeywordIds: string;\n}): EpicPayload | undefined => {\n\tconst articleCounts = useArticleCounts(pageId, keywordIds);\n\tconst hasOptedOutOfArticleCount = useHasOptedOutOfArticleCount();\n\tconst countryCode = useCountryCode();\n\tconst mvtId =\n\t\tNumber(getCookie({ name: 'GU_mvt_id', shouldMemoize: true })) || 0;\n\tconst isSignedIn = !!getCookie({ name: 'GU_U', shouldMemoize: true });\n\n\tif (articleCounts === 'Pending') return;\n\tif (hasOptedOutOfArticleCount === 'Pending') return;\n\tlog('dotcom', 'LiveBlogEpic has consent state');\n\tif (!countryCode) return;\n\tlog('dotcom', 'LiveBlogEpic has countryCode');\n\n\treturn {\n\t\ttracking: {\n\t\t\tophanPageId: window.guardian.config.ophan.pageViewId,\n\t\t\tplatformId: 'GUARDIAN_WEB',\n\t\t\tclientName: 'dcr',\n\t\t\treferrerUrl: window.location.origin + window.location.pathname,\n\t\t},\n\t\ttargeting: {\n\t\t\tcontentType: 'LiveBlog',\n\t\t\tsectionId: section,\n\t\t\tshouldHideReaderRevenue,\n\t\t\tisMinuteArticle: true,\n\t\t\tisPaidContent,\n\t\t\ttags,\n\t\t\tshowSupportMessaging: !shouldHideSupportMessaging(isSignedIn),\n\t\t\tisRecurringContributor: isRecurringContributor(isSignedIn),\n\t\t\tlastOneOffContributionDate:\n\t\t\t\tgetLastOneOffContributionTimestamp() ?? undefined,\n\t\t\tmvtId,\n\t\t\tcountryCode,\n\t\t\tepicViewLog: getEpicViewLog(storage.local),\n\t\t\tweeklyArticleHistory: articleCounts?.weeklyArticleHistory,\n\t\t\thasOptedOutOfArticleCount,\n\t\t\tmodulesVersion: 'v3',\n\t\t\turl: window.location.origin + window.location.pathname,\n\t\t},\n\t};\n};\n\n/**\n * Render\n *\n * Dynamically imports and renders a given module\n *\n * @param props\n * @param props.url string - The url of the component\n * @param props.name tring - The name of the component\n * @param props.props object - The props of the component\n * @returns The resulting react component\n */\nconst Render = ({\n\turl,\n\tname,\n\tprops,\n}: {\n\turl: string;\n\tname: string;\n\tprops: { [key: string]: unknown };\n}) => {\n\tconst { Epic } = useEpic({ url, name });\n\n\tif (Epic === undefined) return null;\n\tlog('dotcom', 'LiveBlogEpic has the Epic');\n\n\treturn (\n\t\t<aside\n\t\t\tcss={css`\n\t\t\t\tmargin-bottom: ${space[3]}px;\n\t\t\t`}\n\t\t>\n\t\t\t{}\n\t\t\t<Epic {...props} />\n\t\t</aside>\n\t);\n};\n\n/**\n * Using the payload, make a fetch request to contributions service\n *\n * @param payload - unknown\n * @param contributionsServiceUrl - string\n */\nconst Fetch = ({\n\tpayload,\n\tcontributionsServiceUrl,\n}: {\n\tpayload: EpicPayload;\n\tcontributionsServiceUrl: string;\n}) => {\n\tconst response = useSDCLiveblogEpic(contributionsServiceUrl, payload);\n\n\t// If we didn't get a module in response (or we're still waiting) do nothing. If\n\t// no epic should be shown the response is equal to {}, hence the Object.keys\n\tif (!response?.data || Object.keys(response).length === 0) {\n\t\treturn null;\n\t}\n\tlog('dotcom', 'LiveBlogEpic has a module');\n\n\t// Add submitComponentEvent function to props to enable Ophan tracking in the component\n\tconst props = {\n\t\t...response.data.module.props,\n\t\tsubmitComponentEvent,\n\t};\n\n\t// Take any returned module and render it\n\treturn (\n\t\t<Render\n\t\t\turl={response.data.module.url}\n\t\t\tname={response.data.module.name}\n\t\t\tprops={props}\n\t\t/>\n\t);\n};\n\nfunction insertAfter(referenceNode: HTMLElement, newNode: Element) {\n\treferenceNode.parentNode?.insertBefore(newNode, referenceNode.nextSibling);\n}\n\n/**\n * LiveBlogEpic is the support epic which appears in-between blocks in blogs\n *\n * There are three main steps to create this epic:\n *\n * 1. usePayload - Build the payload. The config object we send to contributions\n * 2. Fetch - POST the payload to the contributions endpoint\n * 3. Render - Take the url, props and name data we got in response to our fetch and dynamically import\n *    and render the Epic component using it\n */\nexport const LiveBlogEpic = ({\n\tsection,\n\tshouldHideReaderRevenue,\n\tisPaidContent,\n\ttags,\n\tcontributionsServiceUrl,\n\tpageId,\n\tkeywordIds,\n}: Props) => {\n\tlog('dotcom', 'LiveBlogEpic started');\n\n\t// First construct the payload\n\tconst payload = usePayload({\n\t\tshouldHideReaderRevenue,\n\t\tsection,\n\t\tisPaidContent,\n\t\ttags,\n\t\tpageId,\n\t\tkeywordIds,\n\t});\n\tif (!payload) return null;\n\n\t/**\n\t * Here we decide where to insert the epic.\n\t *\n\t * If the url contains a permalink then we\n\t * want to insert it immediately after that block to prevent any CLS issues.\n\t *\n\t * Otherwise, we choose a random position near the top of the blog\n\t */\n\tconst epicPlaceholder = document.createElement('article');\n\tif (window.location.href.includes('#block-')) {\n\t\t// Because we're using a permalink there's a possibility the epic will render in\n\t\t// view. To prevent confusing layout shift we initially hide the message so that\n\t\t// we can reveal (animate in) it once it has been rendered\n\t\tepicPlaceholder.classList.add('pending');\n\t\tconst blockId = window.location.hash.slice(1);\n\t\tconst blockLinkedTo = document.getElementById(blockId);\n\t\tif (blockLinkedTo) {\n\t\t\tinsertAfter(blockLinkedTo, epicPlaceholder);\n\t\t}\n\t\tepicPlaceholder.classList.add('reveal');\n\t\tepicPlaceholder.classList.remove('pending');\n\t} else {\n\t\t// This is a simple page load so we simply insert the epic somewhere near the top\n\t\t// of the blog\n\t\tconst randomPosition = Math.floor(Math.random() * 3) + 1; // 1, 2 or 3\n\t\tconst aBlockNearTheTop =\n\t\t\tdocument.querySelectorAll<HTMLElement>('article.block')[\n\t\t\t\trandomPosition\n\t\t\t];\n\t\tif (aBlockNearTheTop) {\n\t\t\tinsertAfter(aBlockNearTheTop, epicPlaceholder);\n\t\t}\n\t}\n\n\treturn createPortal(\n\t\t<Fetch\n\t\t\tpayload={payload}\n\t\t\tcontributionsServiceUrl={contributionsServiceUrl}\n\t\t/>,\n\t\tepicPlaceholder,\n\t);\n};\n","import type { ModuleDataResponse } from '@guardian/support-dotcom-components';\nimport {\n\tgetBanner,\n\tgetEpic,\n\tgetLiveblogEpic,\n\tgetPuzzlesBanner,\n} from '@guardian/support-dotcom-components';\nimport type {\n\tBannerPayload,\n\tEpicPayload,\n} from '@guardian/support-dotcom-components/dist/dotcom/src/types';\nimport useSWRImmutable from 'swr';\n\nconst useSDC = <T>(\n\tkey: string,\n\tfetcher: (baseUrl: string, payload: T) => Promise<ModuleDataResponse>,\n): ModuleDataResponse | undefined => {\n\tconst { data, error } = useSWRImmutable(key, fetcher);\n\tif (error) {\n\t\twindow.guardian.modules.sentry.reportError(error, 'rr-epic');\n\t}\n\treturn data;\n};\n\n/**\n * Hooks for making requests to the support-dotcom-components API\n */\ntype UseSDC<T> = (\n\tbaseUrl: string,\n\tpayload: T,\n) => ModuleDataResponse | undefined;\n\nexport const useSDCEpic: UseSDC<EpicPayload> = (baseUrl, payload) =>\n\tuseSDC('epic', () => getEpic(baseUrl, payload));\n\nexport const useSDCLiveblogEpic: UseSDC<EpicPayload> = (baseUrl, payload) =>\n\tuseSDC('liveblog-epic', () => getLiveblogEpic(baseUrl, payload));\n\nexport const useSDCBanner: UseSDC<BannerPayload> = (baseUrl, payload) =>\n\tuseSDC('banner', () => getBanner(baseUrl, payload));\n\nexport const useSDCPuzzlesBanner: UseSDC<BannerPayload> = (baseUrl, payload) =>\n\tuseSDC('puzzles', () => getPuzzlesBanner(baseUrl, payload));\n","import { css } from '@emotion/react';\nimport { space } from '@guardian/source-foundations';\nimport { Hide } from '@guardian/source-react-components';\nimport { EditorialButton } from '@guardian/source-react-components-development-kitchen';\n\ntype Props = {\n\tcount: number;\n\tonClick: () => void;\n\tformat: ArticleFormat;\n};\n\n/** This icon will be added to Source at a subsequent time */\nconst SvgReload = ({ size }: { size: 12 | 16 | 18 | 24 | 26 | 28 | 30 }) => {\n\tconst tight = size <= 24;\n\tconst padding = tight ? 0 : (size - 24) / 2;\n\treturn (\n\t\t<svg\n\t\t\tviewBox={\n\t\t\t\ttight ? '0 0 24 24' : `-${padding} -${padding} ${size} ${size}`\n\t\t\t}\n\t\t\twidth={size}\n\t\t\theight={size}\n\t\t>\n\t\t\t<path d=\"M11.588 1a10.928 10.928 0 0 0-9.046 4.786l.126.676.877.527.676-.176C5.85 4.508 8.506 2.98 11.588 2.98c4.936 0 8.995 4.059 8.995 9.045 0 4.961-4.059 8.995-8.995 8.995-2.832 0-5.262-1.252-6.94-3.257l3.632-.601v-1.253H1.866l-.476.476V23h1.227l.627-3.784C5.248 21.546 8.205 23 11.588 23c6.089 0 11.025-4.911 11.025-10.975A11.01 11.01 0 0 0 11.588 1Z\" />\n\t\t</svg>\n\t);\n};\n\n/**\n * A button to scroll to the top when new content exists.\n *\n * This element is rendered using a Portal into the `toast-root` div. This\n * root div has position: sticky\n */\nexport const Toast = ({ count, onClick, format }: Props) => {\n\treturn (\n\t\t<div\n\t\t\tcss={css`\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: ${space[2]}px;\n\t\t\t`}\n\t\t\tdata-cy=\"toast\"\n\t\t>\n\t\t\t<Hide above=\"phablet\">\n\t\t\t\t<EditorialButton\n\t\t\t\t\tsize=\"xsmall\" // <-- Mobile version is xsmall\n\t\t\t\t\tonClick={onClick}\n\t\t\t\t\tformat={format}\n\t\t\t\t\ticon={<SvgReload size={30} />}\n\t\t\t\t>{`${count} new update${\n\t\t\t\t\tcount === 1 ? '' : 's'\n\t\t\t\t}`}</EditorialButton>\n\t\t\t</Hide>\n\t\t\t<Hide below=\"phablet\">\n\t\t\t\t<EditorialButton\n\t\t\t\t\tsize=\"small\" // <-- Desktop version is small\n\t\t\t\t\tonClick={onClick}\n\t\t\t\t\tformat={format}\n\t\t\t\t\ticon={<SvgReload size={30} />}\n\t\t\t\t>{`${count} new update${\n\t\t\t\t\tcount === 1 ? '' : 's'\n\t\t\t\t}`}</EditorialButton>\n\t\t\t</Hide>\n\t\t</div>\n\t);\n};\n","import { useCallback, useEffect, useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport { initHydration } from '../browser/islands/initHydration';\nimport { updateTimeElement } from '../browser/relativeTime/updateTimeElements';\nimport { useApi } from '../lib/useApi';\nimport { Toast } from './Toast';\n\ntype Props = {\n\tpageId: string;\n\twebTitle: string;\n\tajaxUrl: string;\n\tfilterKeyEvents: boolean;\n\tformat: ArticleFormat;\n\tenhanceTweetsSwitch: boolean;\n\tonFirstPage: boolean;\n\twebURL: string;\n\tmostRecentBlockId: string;\n\thasPinnedPost: boolean;\n\tselectedTopics?: Topic[];\n};\n\nconst isServer = typeof window === 'undefined';\n\nconst topOfBlog: Element | null = !isServer\n\t? window.document.getElementById('top-of-blog')\n\t: null;\n\nconst lastUpdated: Element | null = !isServer\n\t? window.document.querySelector('[data-gu-marker=liveblog-last-updated]')\n\t: null;\n\nconst toastRoot: Element | null = !isServer\n\t? window.document.getElementById('toast-root')\n\t: null;\n\n/**\n * insert\n *\n * Takes html, parses and hydrates it, inserts the resulting blocks\n * at the top of the liveblog, and then enhances any tweets\n *\n * @param {string} html The block html to be inserted\n * @returns void\n */\nfunction insert(html: string, enhanceTweetsSwitch: boolean) {\n\t// Create\n\t// ------\n\tconst template = document.createElement('template');\n\ttemplate.innerHTML = html;\n\tconst fragment = template.content;\n\n\t// Hydrate\n\t// -------\n\tconst islands = fragment.querySelectorAll('gu-island');\n\tinitHydration(islands);\n\n\t// Insert\n\t// ------\n\t// Shouldn't we sanitise this html?\n\t// We're being sent this string by our own backend, not reader input, so we\n\t// trust that the tags and attributes it contains are safe and intentional\n\tconst blogBody = document.querySelector<HTMLElement>('#liveblog-body');\n\tif (!blogBody || !topOfBlog) return;\n\t// nextSibling? See: https://developer.mozilla.org/en-US/docs/Web/API/Node/insertBefore#example_2\n\tblogBody.insertBefore(fragment, topOfBlog.nextSibling);\n\n\t// Enhance\n\t// -----------\n\tif (enhanceTweetsSwitch) {\n\t\tconst pendingBlocks =\n\t\t\tblogBody.querySelectorAll<HTMLElement>('.pending.block');\n\t\t// https://developer.twitter.com/en/docs/twitter-for-websites/javascript-api/guides/scripting-loading-and-initialization\n\t\tif (typeof twttr !== 'undefined') {\n\t\t\ttwttr.ready((twitter) => {\n\t\t\t\ttwitter.widgets.load(Array.from(pendingBlocks));\n\t\t\t});\n\t\t}\n\t}\n}\n\n/**\n * reveal any blocks that have been inserted but are still hidden\n */\nfunction revealPendingBlocks() {\n\tconst blogBody = document.querySelector<HTMLElement>('#liveblog-body');\n\tconst pendingBlocks =\n\t\tblogBody?.querySelectorAll<HTMLElement>('.pending.block');\n\tpendingBlocks?.forEach((block) => {\n\t\tblock.classList.add('reveal-slowly');\n\t\tblock.classList.remove('pending');\n\t});\n\n\tif (pendingBlocks !== undefined && pendingBlocks.length > 0)\n\t\t// Notify commercial that new blocks are available and they can re-run spacefinder\n\t\tdocument.dispatchEvent(new CustomEvent('liveblog:blocks-updated'));\n}\n\n/**\n * This abstracts the code to construct the url we use for polling. Of note is the fact\n * we have put `latestBlockId` in react state; by doing this we are able to change the url\n * that SWR uses for the request whilst still benefitting from the polling logic\n *\n * @returns string\n */\nfunction getKey(\n\tpageId: string,\n\tajaxUrl: string,\n\tlatestBlockId: string,\n\tfilterKeyEvents: boolean,\n\tselectedTopics?: Topic[],\n): string | undefined {\n\ttry {\n\t\t// Construct the url to poll\n\t\tconst url = new URL(`${pageId}.json`, ajaxUrl);\n\t\turl.searchParams.set('lastUpdate', latestBlockId);\n\t\turl.searchParams.set('isLivePage', 'true');\n\t\turl.searchParams.set('dcr', 'true');\n\t\turl.searchParams.set(\n\t\t\t'filterKeyEvents',\n\t\t\tfilterKeyEvents ? 'true' : 'false',\n\t\t);\n\t\tconst [topic] = selectedTopics ?? [];\n\t\tif (topic) {\n\t\t\turl.searchParams.set('topics', `${topic.type}:${topic.value}`);\n\t\t}\n\n\t\treturn url.href;\n\t} catch {\n\t\twindow.guardian.modules.sentry.reportError(\n\t\t\tnew Error(\n\t\t\t\t`An error was thrown trying to construct a URL using pageId: ${pageId} and ajaxUrl: ${ajaxUrl}`,\n\t\t\t),\n\t\t\t'liveness-getkey',\n\t\t);\n\t\t// Returning undefined here means the request is never made\n\t\t// See: https://swr.vercel.app/docs/conditional-fetching#conditional\n\t\treturn undefined;\n\t}\n}\n\n/**\n * # Liveness\n *\n * Allow new blocks on live blogs to be added without page reload.\n * Polls the content API inserts news blocks if the user\n * is at the top of the article.\n * If they have scrolled down, show them a toast to scroll back up.\n *\n * This component insert HTML directly, which is generated from @see LiveBlock\n * and received from the `blocksToHtml` handler.\n */\nexport const Liveness = ({\n\tpageId,\n\twebTitle,\n\tajaxUrl,\n\tfilterKeyEvents,\n\tformat,\n\tenhanceTweetsSwitch,\n\tonFirstPage,\n\twebURL,\n\tmostRecentBlockId,\n\thasPinnedPost,\n\tselectedTopics,\n}: Props) => {\n\tconst [showToast, setShowToast] = useState(false);\n\tconst [topOfBlogVisible, setTopOfBlogVisible] = useState<boolean>();\n\tconst [numHiddenBlocks, setNumHiddenBlocks] = useState(0);\n\tconst [latestBlockId, setLatestBlockId] = useState(mostRecentBlockId);\n\n\t/**\n\t * This function runs (once) after every successful useApi call. This is useful because it\n\t * allows us to avoid the problems of imperative code being executed multiple times\n\t * inside react's declarative structure (things get re-rendered when any state changes)\n\t */\n\tconst onSuccess = useCallback(\n\t\t(data: LiveUpdateType) => {\n\t\t\tif (data.numNewBlocks && data.numNewBlocks > 0) {\n\t\t\t\t// Insert the new blocks in the dom (but hidden)\n\t\t\t\tif (onFirstPage) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tinsert(data.html, enhanceTweetsSwitch);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tconsole.log('>> failed >>', e);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (lastUpdated) {\n\t\t\t\t\tlastUpdated.setAttribute('dateTime', new Date().toString());\n\t\t\t\t\tupdateTimeElement(lastUpdated);\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\tonFirstPage &&\n\t\t\t\t\ttopOfBlogVisible &&\n\t\t\t\t\tdocument.visibilityState === 'visible'\n\t\t\t\t) {\n\t\t\t\t\trevealPendingBlocks();\n\t\t\t\t\tsetNumHiddenBlocks(0);\n\t\t\t\t} else {\n\t\t\t\t\tsetShowToast(true);\n\t\t\t\t\t// Increment the count of new posts\n\t\t\t\t\tsetNumHiddenBlocks(numHiddenBlocks + data.numNewBlocks);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Update the block id we use for polling\n\t\t\tif (data.mostRecentBlockId) {\n\t\t\t\tsetLatestBlockId(data.mostRecentBlockId);\n\t\t\t}\n\t\t},\n\t\t[onFirstPage, topOfBlogVisible, numHiddenBlocks, enhanceTweetsSwitch],\n\t);\n\n\t/**\n\t * This is a utility used by our Cypress end to end tests\n\t *\n\t * Rather than expect these scripts to depend on polling, we\n\t * expose this function to allow Cypress to manually trigger\n\t * updates with whatever html and properties it wants\n\t *\n\t */\n\twindow.mockLiveUpdate = onSuccess;\n\n\t// useApi returns { data, loading, error } but we're not using them here\n\tuseApi(\n\t\tgetKey(pageId, ajaxUrl, latestBlockId, filterKeyEvents, selectedTopics),\n\t\t{\n\t\t\trefreshInterval: 10_000,\n\t\t\trefreshWhenHidden: true,\n\t\t\tonSuccess,\n\t\t},\n\t);\n\n\tuseEffect(() => {\n\t\tdocument.title =\n\t\t\tnumHiddenBlocks > 0 ? `(${numHiddenBlocks}) ${webTitle}` : webTitle;\n\t}, [numHiddenBlocks, webTitle]);\n\n\tuseEffect(() => {\n\t\tif (!topOfBlog) return;\n\n\t\tconst observer = new window.IntersectionObserver(([entry]) => {\n\t\t\tif (!entry) return;\n\n\t\t\tsetTopOfBlogVisible(entry.isIntersecting);\n\n\t\t\tif (entry.isIntersecting && onFirstPage) {\n\t\t\t\t// If on first page, reveal blocks\n\t\t\t\trevealPendingBlocks();\n\t\t\t\tsetNumHiddenBlocks(0);\n\t\t\t\tsetShowToast(false);\n\t\t\t}\n\t\t});\n\n\t\tobserver.observe(topOfBlog);\n\n\t\treturn () => {\n\t\t\tobserver.disconnect();\n\t\t};\n\t}, [onFirstPage]);\n\n\t/**\n\t * This useEffect sets up a listener for when the page is backgrounded or restored. We\n\t * do this so that any new blocks that were fetched while the blog was in the\n\t * background are animated in at the point when focus is restored\n\t */\n\tuseEffect(() => {\n\t\tconst handleVisibilityChange = () => {\n\t\t\t// The blog was either hidden or has become visible\n\t\t\tif (\n\t\t\t\t// If we're returning to a blog that has pending blocks and the reader\n\t\t\t\t// is at the top of the first page then...\n\t\t\t\tdocument.visibilityState === 'visible' &&\n\t\t\t\tnumHiddenBlocks > 0 &&\n\t\t\t\ttopOfBlogVisible &&\n\t\t\t\tonFirstPage\n\t\t\t) {\n\t\t\t\trevealPendingBlocks();\n\t\t\t\tsetNumHiddenBlocks(0);\n\t\t\t\tsetShowToast(false);\n\t\t\t}\n\t\t};\n\n\t\twindow.addEventListener('visibilitychange', handleVisibilityChange);\n\n\t\treturn () => {\n\t\t\twindow.removeEventListener(\n\t\t\t\t'visibilitychange',\n\t\t\t\thandleVisibilityChange,\n\t\t\t);\n\t\t};\n\t}, [numHiddenBlocks, onFirstPage, topOfBlogVisible]);\n\n\tconst handleToastClick = useCallback(() => {\n\t\t// We adjust the position we scroll readers to based on if there is a pinned\n\t\t// post or not. If there is we want to scroll them to a position below it, if\n\t\t// there is then we want to scroll them to a position that ensures they still\n\t\t// see the key events filter\n\t\tconst placeToScrollTo = hasPinnedPost ? 'top-of-blog' : 'maincontent';\n\t\tif (onFirstPage) {\n\t\t\tsetShowToast(false);\n\n\t\t\tdocument.getElementById(placeToScrollTo)?.scrollIntoView({\n\t\t\t\tbehavior: 'smooth',\n\t\t\t});\n\t\t\twindow.history.replaceState({}, '', `#${placeToScrollTo}`);\n\t\t\trevealPendingBlocks();\n\t\t\tsetNumHiddenBlocks(0);\n\t\t} else {\n\t\t\twindow.location.href = `${webURL}#${placeToScrollTo}`;\n\t\t}\n\t}, [hasPinnedPost, onFirstPage, webURL]);\n\n\tif (toastRoot && showToast) {\n\t\t/**\n\t\t * Why `createPortal`?\n\t\t *\n\t\t * We use a Portal because of a the way different browsers implement `position: sticky`.\n\t\t * A [stickily positioned element][] depends on its [containing block][] to determine\n\t\t * when to become stuck.\n\t\t *\n\t\t * In Safari the containing block is set to the immediate parent\n\t\t * whereas Chrome, Firefox and other browser are more forgiving.\n\t\t *\n\t\t * By using a Portal we can insert the Toast as a sibling to the Island, which works around\n\t\t * Safari's behaviour.\n\t\t *\n\t\t * [stickily positioned element]: https://developer.mozilla.org/en-US/docs/Web/CSS/position#types_of_positioning\n\t\t * [containing block]: https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n\t\t */\n\t\treturn ReactDOM.createPortal(\n\t\t\t<Toast\n\t\t\t\tonClick={handleToastClick}\n\t\t\t\tcount={numHiddenBlocks}\n\t\t\t\tformat={format}\n\t\t\t/>,\n\t\t\ttoastRoot,\n\t\t);\n\t}\n\n\treturn null;\n};\n","import { css } from '@emotion/react';\n\ntype Props = {\n\theight: number;\n\twidth: number;\n\tchildren: React.ReactNode;\n};\n\nexport const MaintainAspectRatio = ({ height, width, children }: Props) => (\n\t/* https://css-tricks.com/aspect-ratio-boxes/ */\n\t<div\n\t\tcss={css`\n\t\t\t/* position relative to contain the absolutely positioned iframe plus any Overlay image */\n\t\t\tposition: relative;\n\t\t\tpadding-bottom: ${(height / width) * 100}%;\n\n\t\t\tiframe {\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 100%;\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t}\n\t\t`}\n\t>\n\t\t{children}\n\t</div>\n);\n","import { css } from '@emotion/react';\nimport { RoleType } from '../../types/content';\nimport { Caption } from './Caption';\nimport { ClickToView } from './ClickToView';\nimport { MaintainAspectRatio } from './MaintainAspectRatio';\n\ntype Props = {\n\tembedUrl?: string;\n\theight: number;\n\twidth: number;\n\ttitle?: string;\n\tcaption?: string;\n\tformat: ArticleFormat;\n\tcredit?: string;\n\trole?: RoleType;\n\tisTracking: boolean;\n\tisMainMedia: boolean;\n\tsource?: string;\n\tsourceDomain?: string;\n};\n\nexport const MapEmbedBlockComponent = ({\n\tembedUrl,\n\ttitle,\n\twidth,\n\theight,\n\tcaption,\n\tformat,\n\tcredit,\n\trole,\n\tisTracking,\n\tisMainMedia,\n\tsource,\n\tsourceDomain,\n}: Props) => {\n\t// 812 is the full height on an iphone X. This ensures that the embed doesn't display any larger than the available viewport\n\t// Constrain iframe embeds with a width to their natural width\n\t// rather than stretch them to the container using\n\t// a max that would prevent portrait videos from being taller than an iphone X (baseline)\n\t// More context: https://github.com/guardian/frontend/pull/17902\n\tconst maxHeight = 812;\n\tconst aspectRatio = width / height;\n\tconst maxWidth = maxHeight * aspectRatio;\n\n\tconst hasCaption = caption != null;\n\n\tconst embedContainer = css`\n\t\tmax-width: ${maxWidth}px;\n\t\twidth: 100%;\n\t\tmargin-bottom: ${hasCaption ? `0px` : `6px`};\n\t`;\n\n\treturn (\n\t\t<ClickToView\n\t\t\trole={role}\n\t\t\tisTracking={isTracking}\n\t\t\tisMainMedia={isMainMedia}\n\t\t\tsource={source}\n\t\t\tsourceDomain={sourceDomain}\n\t\t>\n\t\t\t<div css={embedContainer}>\n\t\t\t\t<MaintainAspectRatio height={height} width={width}>\n\t\t\t\t\t<iframe\n\t\t\t\t\t\tsrc={embedUrl}\n\t\t\t\t\t\ttitle={title}\n\t\t\t\t\t\theight={height}\n\t\t\t\t\t\twidth={width}\n\t\t\t\t\t\tallowFullScreen={true}\n\t\t\t\t\t/>\n\t\t\t\t</MaintainAspectRatio>\n\t\t\t\t{hasCaption && (\n\t\t\t\t\t<Caption\n\t\t\t\t\t\tcaptionText={caption}\n\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\tcredit={credit}\n\t\t\t\t\t\tisMainMedia={isMainMedia}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</ClickToView>\n\t);\n};\n","const roundWithDecimals = (value, precision = 6) => {\n    const power = Math.pow(10, precision);\n    return Math.round(value * power) / power;\n};\n\nexport { roundWithDecimals };\n//# sourceMappingURL=roundWithDecimals.js.map\n","import { log } from '@guardian/libs';\nimport { roundWithDecimals } from './roundWithDecimals.js';\n\nvar Endpoints;\n(function (Endpoints) {\n    Endpoints[\"PROD\"] = \"https://performance-events.guardianapis.com/core-web-vitals\";\n    Endpoints[\"CODE\"] = \"https://performance-events.code.dev-guardianapis.com/core-web-vitals\";\n})(Endpoints || (Endpoints = {}));\nconst coreWebVitalsPayload = {\n    browser_id: null,\n    page_view_id: null,\n    fid: null,\n    cls: null,\n    lcp: null,\n    fcp: null,\n    ttfb: null,\n};\nconst teamsForLogging = new Set();\nlet endpoint;\nlet initialised = false;\nconst setEndpoint = (isDev) => {\n    endpoint = isDev ? Endpoints.CODE : Endpoints.PROD;\n};\nlet queued = false;\nconst sendData = () => {\n    if (queued)\n        return;\n    // If we’re missing FCP, the data is unusable in the lake,\n    // So we’re not sending anything.\n    if (coreWebVitalsPayload.fcp === null)\n        return;\n    queued = navigator.sendBeacon(endpoint, JSON.stringify(coreWebVitalsPayload));\n    if (teamsForLogging.size > 0) {\n        teamsForLogging.forEach((team) => {\n            log(team, queued\n                ? 'Core Web Vitals payload successfully queued for transfer'\n                : 'Failed to queue Core Web Vitals payload for transfer');\n        });\n    }\n};\nconst onReport = (metric) => {\n    switch (metric.name) {\n        case 'FCP':\n            // Browser support: Chromium, Firefox, Safari Technology Preview\n            coreWebVitalsPayload.fcp = roundWithDecimals(metric.value);\n            break;\n        case 'CLS':\n            // Browser support: Chromium,\n            coreWebVitalsPayload.cls = roundWithDecimals(metric.value);\n            break;\n        case 'LCP':\n            // Browser support: Chromium\n            coreWebVitalsPayload.lcp = roundWithDecimals(metric.value);\n            break;\n        case 'FID':\n            // Browser support: Chromium, Firefox, Safari, Internet Explorer (with the polyfill)\n            coreWebVitalsPayload.fid = roundWithDecimals(metric.value);\n            break;\n        case 'TTFB':\n            // Browser support: Chromium, Firefox, Safari, Internet Explorer\n            coreWebVitalsPayload.ttfb = roundWithDecimals(metric.value);\n            break;\n    }\n};\nconst listener = (e) => {\n    switch (e.type) {\n        case 'visibilitychange':\n            if (document.visibilityState === 'hidden')\n                sendData();\n            return;\n        case 'pagehide':\n            sendData();\n            return;\n    }\n};\nconst getCoreWebVitals = async () => {\n    const webVitals = await import('web-vitals');\n    const { getCLS, getFCP, getFID, getLCP, getTTFB } = webVitals;\n    getCLS(onReport, { reportAllChanges: false });\n    getFID(onReport);\n    getLCP(onReport);\n    getFCP(onReport);\n    getTTFB(onReport);\n    // Report all available metrics when the page is unloaded or in background.\n    addEventListener('visibilitychange', listener);\n    // Safari does not reliably fire the `visibilitychange` on page unload.\n    addEventListener('pagehide', listener);\n};\n/**\n * Initialise sending Core Web Vitals metrics to a logging endpoint.\n *\n * @param {InitCoreWebVitalsOptions} init - the initialisation options\n * @param init.isDev - used to determine whether to use CODE or PROD endpoints.\n * @param init.browserId - identifies the browser. Usually available via `getCookie({ name: 'bwid' })`. Defaults to `null`\n * @param init.pageViewId - identifies the page view. Usually available on `guardian.config.ophan.pageViewId`. Defaults to `null`\n *\n * @param init.sampling - sampling rate for sending data. Defaults to `0.01`.\n *\n * @param init.team - Optional team to trigger a log event once metrics are queued.\n */\nconst initCoreWebVitals = async ({ browserId = null, pageViewId = null, sampling = 1 / 100, // 1% of page view by default\nisDev, team, }) => {\n    if (initialised) {\n        console.warn('initCoreWebVitals already initialised', 'use the bypassCoreWebVitalsSampling method instead');\n        return;\n    }\n    initialised = true;\n    if (team)\n        teamsForLogging.add(team);\n    setEndpoint(isDev);\n    coreWebVitalsPayload.browser_id = browserId;\n    coreWebVitalsPayload.page_view_id = pageViewId;\n    if (!browserId || !pageViewId) {\n        console.warn('browserId or pageViewId missing from Core Web Vitals.', 'Resulting data cannot be joined to page view tables', { browserId, pageViewId });\n    }\n    if (sampling < 0 || sampling > 1) {\n        console.warn('Core Web Vitals sampling is outside the 0 to 1 range: ', sampling);\n    }\n    if (sampling === 0)\n        console.warn('Core Web Vitals are sampled at 0%');\n    if (sampling === 1)\n        console.warn('Core Web Vitals are sampled at 100%');\n    const pageViewInSample = Math.random() < sampling;\n    const bypassWithHash = window.location.hash === '#bypassCoreWebVitalsSampling';\n    if (pageViewInSample || bypassWithHash)\n        return getCoreWebVitals();\n};\n/**\n * A method to asynchronously send web vitals after initialization.\n * @param team - Optional team to trigger a log event once metrics are queued.\n */\nconst bypassCoreWebVitalsSampling = async (team) => {\n    if (!initialised) {\n        console.warn('initCoreWebVitals not yet initialised');\n        return;\n    }\n    if (team)\n        teamsForLogging.add(team);\n    return getCoreWebVitals();\n};\nconst _ = {\n    coreWebVitalsPayload,\n    sendData,\n    reset: () => {\n        initialised = false;\n        teamsForLogging.clear();\n        queued = false;\n        Object.keys(coreWebVitalsPayload).map((key) => {\n            coreWebVitalsPayload[key] = null;\n        });\n        removeEventListener('visibilitychange', listener);\n        removeEventListener('pagehide', listener);\n    },\n    Endpoints,\n};\n\nexport { _, bypassCoreWebVitalsSampling, initCoreWebVitals };\n//# sourceMappingURL=index.js.map\n","import type { ABTest, ABTestAPI } from '@guardian/ab-core';\nimport {\n\tbypassCommercialMetricsSampling,\n\tinitCommercialMetrics,\n} from '@guardian/commercial-core';\nimport {\n\tbypassCoreWebVitalsSampling,\n\tinitCoreWebVitals,\n} from '@guardian/core-web-vitals';\nimport { getCookie } from '@guardian/libs';\nimport { integrateIma } from '../experiments/tests/integrate-ima';\nimport { useAB } from '../lib/useAB';\nimport { useAdBlockInUse } from '../lib/useAdBlockInUse';\nimport { useOnce } from '../lib/useOnce';\n\ntype Props = {\n\tcommercialMetricsEnabled: boolean;\n};\n\nconst sampling = 1 / 100;\n/** defining this here allows to share this with other metrics */\nconst willRecordCoreWebVitals = Math.random() < sampling;\n\n// For these tests switch off sampling and collect metrics for 100% of views\nconst clientSideTestsToForceMetrics: ABTest[] = [\n\t/* keep array multi-line */\n\tintegrateIma,\n];\n\nexport const Metrics = ({ commercialMetricsEnabled }: Props) => {\n\tconst abTestApi = useAB()?.api;\n\tconst adBlockerInUse = useAdBlockInUse();\n\n\tconst browserId = getCookie({ name: 'bwid', shouldMemoize: true });\n\tconst { pageViewId } = window.guardian.config.ophan;\n\n\tconst isDev =\n\t\t!!window.guardian.config.page.isDev ||\n\t\twindow.location.hostname === 'm.code.dev-theguardian.com' ||\n\t\twindow.location.hostname === (process.env.HOSTNAME ?? 'localhost') ||\n\t\twindow.location.hostname === 'preview.gutools.co.uk';\n\n\tconst userInServerSideTest =\n\t\tObject.keys(window.guardian.config.tests).length > 0;\n\n\tconst shouldBypassSampling = (api: ABTestAPI) =>\n\t\twillRecordCoreWebVitals ||\n\t\tuserInServerSideTest ||\n\t\tclientSideTestsToForceMetrics.some((test) => api.runnableTest(test));\n\n\tuseOnce(\n\t\tfunction coreWebVitals() {\n\t\t\t// abTestApi should be defined inside useOnce\n\t\t\tconst bypassSampling = abTestApi\n\t\t\t\t? shouldBypassSampling(abTestApi)\n\t\t\t\t: false;\n\n\t\t\t/**\n\t\t\t * We rely on `bypassSampling` rather than the built-in sampling,\n\t\t\t * but set the value to greater than 0 to avoid console warnings.\n\t\t\t */\n\t\t\tconst nearZeroSampling = Number.MIN_VALUE;\n\n\t\t\tvoid initCoreWebVitals({\n\t\t\t\tbrowserId,\n\t\t\t\tpageViewId,\n\t\t\t\tisDev,\n\t\t\t\tsampling: nearZeroSampling,\n\t\t\t\tteam: 'dotcom',\n\t\t\t});\n\n\t\t\tif (bypassSampling || isDev)\n\t\t\t\tvoid bypassCoreWebVitalsSampling('commercial');\n\t\t},\n\t\t[abTestApi],\n\t);\n\n\tuseOnce(\n\t\tfunction commercialMetrics() {\n\t\t\t// Only send metrics if the switch is enabled\n\t\t\tif (!commercialMetricsEnabled) return;\n\n\t\t\t// abTestApi should be defined inside useOnce\n\t\t\tconst bypassSampling = abTestApi\n\t\t\t\t? shouldBypassSampling(abTestApi)\n\t\t\t\t: false;\n\n\t\t\tinitCommercialMetrics({\n\t\t\t\tpageViewId,\n\t\t\t\tbrowserId: browserId ?? undefined,\n\t\t\t\tisDev,\n\t\t\t\tadBlockerInUse,\n\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tif (bypassSampling || isDev) {\n\t\t\t\t\t\tvoid bypassCommercialMetricsSampling();\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((e) =>\n\t\t\t\t\tconsole.error(\n\t\t\t\t\t\t`Error initialising commercial metrics: ${String(e)}`,\n\t\t\t\t\t),\n\t\t\t\t);\n\t\t},\n\t\t[abTestApi, adBlockerInUse, commercialMetricsEnabled],\n\t);\n\n\t// We don’t render anything\n\treturn null;\n};\n","import Number0 from './0.svg';\nimport Number1 from './1.svg';\nimport Number10 from './10.svg';\nimport Number2 from './2.svg';\nimport Number3 from './3.svg';\nimport Number4 from './4.svg';\nimport Number5 from './5.svg';\nimport Number6 from './6.svg';\nimport Number7 from './7.svg';\nimport Number8 from './8.svg';\nimport Number9 from './9.svg';\n\n// This file contains an array of elements, but only exposes one.\n\nexport const BigNumber = ({ index }: { index: number }) => {\n\tconst numbers = [\n\t\t<Number0 key={0} />,\n\t\t<Number1 key={1} />,\n\t\t<Number2 key={2} />,\n\t\t<Number3 key={3} />,\n\t\t<Number4 key={4} />,\n\t\t<Number5 key={5} />,\n\t\t<Number6 key={6} />,\n\t\t<Number7 key={7} />,\n\t\t<Number8 key={8} />,\n\t\t<Number9 key={9} />,\n\t\t<Number10 key={10} />,\n\t];\n\n\treturn numbers[index] ?? null;\n};\n","import { css } from '@emotion/react';\nimport { ArticleDesign } from '@guardian/libs';\nimport {\n\tborder,\n\theadline,\n\tneutral,\n\ttext,\n\tuntil,\n} from '@guardian/source-foundations';\nimport { AgeWarning } from './AgeWarning';\nimport { BigNumber } from './BigNumber/BigNumber';\nimport { LinkHeadline } from './LinkHeadline';\n\nconst gridItem = (position: number) => css`\n\tposition: relative;\n\n\t${until.leftCol} {\n\t\t/* Below leftCol always set top border */\n\t\tborder-top: 1px solid ${border.secondary};\n\t}\n\t/* Above leftCol, don't apply a top border on the 1st and 6th\n       items to prevent double borders */\n\tborder-top: ${position !== 1 &&\n\tposition !== 6 &&\n\t`1px solid ${border.secondary}`};\n\n\t/* The left border is set on the container */\n\tborder-right: 1px solid ${border.secondary};\n\tmin-height: 3.25rem;\n\n\t&:hover {\n\t\tcursor: pointer;\n\t}\n\n\t&:hover,\n\t:focus {\n\t\tbackground: ${neutral[97]};\n\t}\n`;\n\nconst bigNumber = css`\n\tposition: absolute;\n\ttop: 0.375rem;\n\tleft: 0.625rem;\n\tfill: ${text.primary};\n`;\n\nconst headlineHeader = css`\n\tpadding: 0.1875rem 0.625rem 1.125rem 4.6875rem;\n\tword-wrap: break-word;\n\toverflow: hidden;\n`;\n\nconst headlineLink = css`\n\ttext-decoration: none;\n\tcolor: ${text.anchorSecondary};\n\tfont-weight: 500;\n\t${headline.xxxsmall()};\n\n\tdisplay: block; /* To ensure focus outline works okay */\n`;\n\nconst ageWarningStyles = css`\n\tpadding-left: 4.6875rem;\n\tmargin-top: -16px;\n\tmargin-bottom: 16px;\n`;\n\ntype Props = {\n\tposition: number;\n\turl: string;\n\tformat: ArticleFormat;\n\theadlineText: string;\n\tageWarning?: string;\n};\n\nexport const MostViewedFooterItem = ({\n\tposition,\n\turl,\n\tformat,\n\theadlineText,\n\tageWarning,\n}: Props) => (\n\t<li css={gridItem(position)} data-link-name={`${position} | text`}>\n\t\t<a css={headlineLink} href={url} data-link-name=\"article\">\n\t\t\t<span css={bigNumber}>\n\t\t\t\t<BigNumber index={position} />\n\t\t\t</span>\n\t\t\t<div css={headlineHeader}>\n\t\t\t\t{format.design === ArticleDesign.LiveBlog ? (\n\t\t\t\t\t<LinkHeadline\n\t\t\t\t\t\theadlineText={headlineText}\n\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tkickerText=\"Live\"\n\t\t\t\t\t\thideLineBreak={false}\n\t\t\t\t\t\tshowPulsingDot={true}\n\t\t\t\t\t\tshowQuotes={false}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<LinkHeadline\n\t\t\t\t\t\theadlineText={headlineText}\n\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tshowQuotes={\n\t\t\t\t\t\t\tformat.design === ArticleDesign.Comment ||\n\t\t\t\t\t\t\tformat.design === ArticleDesign.Letter\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t{!!ageWarning && (\n\t\t\t\t<div css={ageWarningStyles}>\n\t\t\t\t\t<AgeWarning age={ageWarning} size=\"small\" />\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</a>\n\t</li>\n);\n","import { css } from '@emotion/react';\nimport {\n\tborder,\n\tfrom,\n\theadline,\n\tneutral,\n\tuntil,\n\tvisuallyHidden,\n} from '@guardian/source-foundations';\nimport { useState } from 'react';\nimport type { TrailTabType, TrailType } from '../../types/trails';\nimport { MostViewedFooterItem } from './MostViewedFooterItem';\n\nconst thinGreySolid = `1px solid ${border.secondary}`;\n\nconst hidePanel = css`\n\tdisplay: none;\n`;\n\nconst tabsContainer = css`\n\tdisplay: flex;\n\tposition: relative;\n\tborder-left: ${thinGreySolid};\n\tborder-right: ${thinGreySolid};\n\tborder-bottom: ${thinGreySolid};\n\n\t${until.leftCol} {\n\t\tborder-top: ${thinGreySolid};\n\t\tborder-bottom: 0;\n\t}\n`;\n\nconst listTab = css`\n\tfont-weight: 700;\n\tline-height: 1.1;\n\tbackground-color: transparent;\n\ttext-transform: capitalize;\n\tpadding: 0 0 0;\n\tmargin-bottom: 16px;\n\twidth: 240px;\n\theight: 28px;\n`;\n\nconst firstTab = css`\n\tborder-right: ${thinGreySolid};\n`;\nconst selectedListTabStyles = (selectedColour: string) => css`\n\t/* TODO: Using a pseudo selector here could be faster? */\n\tbox-shadow: inset 0px 4px 0px 0px ${selectedColour};\n\ttransition: box-shadow 0.3s ease-in-out;\n`;\n\nconst unselectedStyles = css`\n\t&:hover {\n\t\tbox-shadow: inset 0px 4px 0px 0px ${neutral[86]};\n\t\ttransition: box-shadow 0.3s ease-in-out;\n\t}\n`;\n\nconst buttonStyles = (isSelected: boolean) => css`\n\t${headline.xxxsmall()};\n\tcolor: ${neutral[7]};\n\tmargin: 0;\n\tborder: 0;\n\tbackground: transparent;\n\tpadding: 6px 6px 0 10px;\n\ttext-align: left;\n\ttext-decoration: none;\n\tfont-weight: 600;\n\tmin-height: 36px;\n\tdisplay: block;\n\twidth: 100%;\n\n\t&:hover {\n\t\tcursor: ${isSelected ? 'default' : 'pointer'};\n\t}\n`;\n\nconst gridContainer = css`\n\tdisplay: grid;\n\tgrid-auto-flow: column;\n\n\t/* One column view */\n\tgrid-template-columns: 1fr;\n\tgrid-template-rows: auto auto auto auto auto auto auto auto auto auto;\n\n\t/* Two column view */\n\t${from.tablet} {\n\t\tgrid-template-columns: 1fr 1fr;\n\t\tgrid-template-rows: auto auto auto auto auto;\n\t}\n\n\t/* We set left border on the grid container, and then right border on\n    the gridItems to prevent borders doubling up */\n\tborder-left: 1px solid ${border.secondary};\n`;\n\ntype Props = {\n\tdata: TrailTabType[];\n\tsectionName?: string;\n\tselectedColour?: string;\n};\n\n// To avoid having to handle multiple ways of reducing the capitalisation styling\nconst TabHeading = ({ heading }: { heading: string }) => {\n\tswitch (heading.toLowerCase()) {\n\t\tcase 'most popular':\n\t\t\treturn <span>Most popular</span>;\n\t\tdefault:\n\t\t\treturn (\n\t\t\t\t<span\n\t\t\t\t\tcss={css`\n\t\t\t\t\t\ttext-transform: capitalize;\n\t\t\t\t\t`}\n\t\t\t\t\t// \"Across The Guardian\" has a non-breaking space entity between \"The\" and \"Guardian - Eg. \"Across The&nbsp;Guardian\"\n\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t__html: heading,\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t);\n\t}\n};\n\nexport const MostViewedFooterGrid = ({\n\tdata,\n\tsectionName = '',\n\tselectedColour = neutral[0],\n}: Props) => {\n\tconst [selectedTabIndex, setSelectedTabIndex] = useState<number>(0);\n\t/**\n\t * If there is only one 'tab' of content, then we don't want to render this as\n\t * a tabbed interface at all, preferring a simple list of links. This should improve\n\t * accessibility because otherwise screen readers will announce it as a 'tablist' of\n\t * one tab, adding extra friction to screen reader navigation.\n\t */\n\tconst renderAsTabs = data.length > 1;\n\n\treturn (\n\t\t<>\n\t\t\t{/*\n\t\t\t\tThis .map() generates the 'tabs' (the navigation links at the top\n\t\t\t\tof the container). The 'tabpanels' (the containers which show or hide\n\t\t\t\tdepending on which tab is active) are generated by a separate .map()\n\t\t\t\tbelow.\n\t\t\t\tIt only generates tabs if there is more than one panel of content.\n\t\t\t*/}\n\t\t\t{renderAsTabs && (\n\t\t\t\t<ul css={tabsContainer} role=\"tablist\">\n\t\t\t\t\t{data.map((tab: TrailTabType, i: number) => {\n\t\t\t\t\t\tconst isSelected = i === selectedTabIndex;\n\t\t\t\t\t\tconst isFirst = i === 0;\n\t\t\t\t\t\tconst selectedStyles =\n\t\t\t\t\t\t\tselectedListTabStyles(selectedColour);\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\t\t\tlistTab,\n\t\t\t\t\t\t\t\t\tisSelected\n\t\t\t\t\t\t\t\t\t\t? selectedStyles\n\t\t\t\t\t\t\t\t\t\t: unselectedStyles,\n\t\t\t\t\t\t\t\t\tisFirst && firstTab,\n\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\trole=\"none\"\n\t\t\t\t\t\t\t\tid={`tabs-popular-${i}-tab`}\n\t\t\t\t\t\t\t\tdata-cy={`tab-heading-${i}`}\n\t\t\t\t\t\t\t\tkey={`tabs-popular-${tab.heading}-tab`}\n\t\t\t\t\t\t\t\tdata-link-name={tab.heading}\n\t\t\t\t\t\t\t\tdata-chromatic=\"ignore\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\thref={`tabs-popular-${i}`}\n\t\t\t\t\t\t\t\t\tcss={buttonStyles(isSelected)}\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\tsetSelectedTabIndex(i);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\taria-selected={isSelected}\n\t\t\t\t\t\t\t\t\taria-controls={`tabs-popular-${i}`}\n\t\t\t\t\t\t\t\t\trole=\"tab\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\t\t\t\t\t${visuallyHidden};\n\t\t\t\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tMost viewed{' '}\n\t\t\t\t\t\t\t\t\t</span>\n\n\t\t\t\t\t\t\t\t\t<TabHeading heading={tab.heading} />\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</ul>\n\t\t\t)}\n\t\t\t{/* End of 'tab' mapping, beginning of 'tabpanel' mapping. */}\n\t\t\t{data.map((tab: TrailTabType, i: number) => (\n\t\t\t\t<section\n\t\t\t\t\trole={renderAsTabs ? 'tabpanel' : undefined}\n\t\t\t\t\tid={`tabs-popular-${i}`}\n\t\t\t\t\tdata-testid={tab.heading}\n\t\t\t\t\tkey={`tabs-popular-${tab.heading}`}\n\t\t\t\t\tcss={i !== selectedTabIndex && hidePanel}\n\t\t\t\t>\n\t\t\t\t\t<h3\n\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\t${visuallyHidden}\n\t\t\t\t\t\t`}\n\t\t\t\t\t>\n\t\t\t\t\t\tMost viewed {tab.heading}\n\t\t\t\t\t</h3>\n\t\t\t\t\t<ol\n\t\t\t\t\t\tcss={gridContainer}\n\t\t\t\t\t\tdata-cy={`tab-body-${i}`}\n\t\t\t\t\t\tdata-link-name={tab.heading}\n\t\t\t\t\t\tdata-link-context={`most-read/${sectionName}`}\n\t\t\t\t\t>\n\t\t\t\t\t\t{tab.trails.map((trail: TrailType, j: number) => (\n\t\t\t\t\t\t\t<MostViewedFooterItem\n\t\t\t\t\t\t\t\tkey={trail.url}\n\t\t\t\t\t\t\t\tposition={j + 1}\n\t\t\t\t\t\t\t\turl={trail.url}\n\t\t\t\t\t\t\t\tformat={trail.format}\n\t\t\t\t\t\t\t\theadlineText={trail.headline}\n\t\t\t\t\t\t\t\tageWarning={trail.ageWarning}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</ol>\n\t\t\t\t</section>\n\t\t\t))}\n\t\t</>\n\t);\n};\n","import { css } from '@emotion/react';\nimport {\n\tborder,\n\tfrom,\n\theadline,\n\tneutral,\n\ttext,\n} from '@guardian/source-foundations';\nimport type { TrailType } from '../../types/trails';\nimport { AgeWarning } from './AgeWarning';\nimport { Avatar } from './Avatar';\nimport { Flex } from './Flex';\nimport { LinkHeadline } from './LinkHeadline';\n\nconst itemStyles = (showRightBorder?: boolean) => css`\n\tposition: relative;\n\n\tpadding-left: 10px;\n\tpadding-right: 10px;\n\tpadding-bottom: 12px;\n\n\tborder-top: 1px solid ${border.secondary};\n\t${from.tablet} {\n\t\tborder-right: ${showRightBorder && `1px solid ${border.secondary}`};\n\t}\n\n\tmin-height: 3.25rem;\n\n\tflex-basis: 100%;\n\n\t&:hover {\n\t\tcursor: pointer;\n\t}\n\n\t&:hover,\n\t:focus {\n\t\tbackground: ${neutral[97]};\n\t}\n`;\n\nconst titleStyles = css`\n\t${headline.xxxsmall({ fontWeight: 'bold' })}\n\tpadding-top: 4px;\n`;\n\nconst headlineStyles = css`\n\tword-wrap: break-word;\n\toverflow: hidden;\n`;\n\nconst headlineLink = css`\n\ttext-decoration: none;\n\tcolor: ${text.anchorSecondary};\n\tfont-weight: 500;\n\t${headline.xxxsmall()};\n\n\tdisplay: block; /* To ensure focus outline works okay */\n`;\n\nconst ageWarningStyles = css`\n\tmargin-top: 4px;\n`;\n\nconst avatarSizeStyles = css`\n\theight: 90px;\n\twidth: 90px;\n`;\n\nconst avatarContainerStyles = css`\n\tdisplay: flex;\n\tflex-direction: row-reverse;\n\n\tmargin-left: 5px;\n\tmargin-top: 24px;\n`;\n\ntype Props = {\n\ttrail: TrailType;\n\ttitle: string;\n\tshowRightBorder?: boolean; // Prevents double borders\n};\n\nexport const MostViewedFooterSecondTierItem = ({\n\ttrail,\n\ttitle,\n\tshowRightBorder,\n}: Props) => {\n\tconst {\n\t\turl,\n\t\tavatarUrl,\n\t\timage,\n\t\tformat,\n\t\tbyline,\n\t\tshowByline,\n\t\tageWarning,\n\t\theadline: headlineText,\n\t} = trail;\n\n\tconst avatarToShow = avatarUrl ?? image;\n\n\treturn (\n\t\t<div css={itemStyles(showRightBorder)}>\n\t\t\t<a\n\t\t\t\tcss={headlineLink}\n\t\t\t\thref={url}\n\t\t\t\tdata-link-name={trail.dataLinkName}\n\t\t\t>\n\t\t\t\t<Flex>\n\t\t\t\t\t<div css={headlineStyles}>\n\t\t\t\t\t\t<div css={titleStyles}>{title}</div>\n\t\t\t\t\t\t<LinkHeadline\n\t\t\t\t\t\t\theadlineText={headlineText}\n\t\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tbyline={showByline ? byline : undefined}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t{!!ageWarning && (\n\t\t\t\t\t\t\t<div css={ageWarningStyles}>\n\t\t\t\t\t\t\t\t<AgeWarning age={ageWarning} size=\"small\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<>\n\t\t\t\t\t\t{!!avatarToShow && (\n\t\t\t\t\t\t\t<div css={avatarContainerStyles}>\n\t\t\t\t\t\t\t\t<div css={avatarSizeStyles}>\n\t\t\t\t\t\t\t\t\t<Avatar\n\t\t\t\t\t\t\t\t\t\tsrc={avatarToShow}\n\t\t\t\t\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</>\n\t\t\t\t</Flex>\n\t\t\t</a>\n\t\t</div>\n\t);\n};\n","import { css } from '@emotion/react';\nimport type { Breakpoint } from '@guardian/source-foundations';\nimport { border, from } from '@guardian/source-foundations';\nimport type { TrailTabType, TrailType } from '../../types/trails';\nimport { MostViewedFooterGrid } from './MostViewedFooterGrid';\nimport { MostViewedFooterSecondTierItem } from './MostViewedFooterSecondTierItem';\n\ntype Props = {\n\ttabs: TrailTabType[];\n\tselectedColour?: string;\n\tmostCommented?: TrailType;\n\tmostShared?: TrailType;\n\tabTestCypressDataAttr?: string;\n\tvariantFromRunnable?: string;\n\tsectionName?: string;\n};\n\nconst stackBelow = (breakpoint: Breakpoint) => css`\n\tdisplay: flex;\n\tflex-direction: column;\n\n\t${from[breakpoint]} {\n\t\tflex-direction: row;\n\t}\n`;\n\nconst secondTierStyles = css`\n\tborder-left: 1px solid ${border.secondary};\n\tborder-right: 1px solid ${border.secondary};\n\n\t${from.tablet} {\n\t\tpadding-top: 24px;\n\t}\n`;\n\n/**\n * # Most Viewed Footer\n *\n * List of 10 most viewed articles to show at the bottom of pages.\n *\n * @Todo add Storybook link\n */\nexport const MostViewedFooter = ({\n\ttabs,\n\tmostCommented,\n\tmostShared,\n\tabTestCypressDataAttr,\n\tvariantFromRunnable,\n\tsectionName,\n\tselectedColour,\n}: Props) => {\n\treturn (\n\t\t<div\n\t\t\tcss={css`\n\t\t\t\twidth: 100%;\n\t\t\t`}\n\t\t\tdata-cy=\"mostviewed-footer\"\n\t\t\tdata-cy-ab-user-in-variant={abTestCypressDataAttr}\n\t\t\tdata-cy-ab-runnable-test={variantFromRunnable}\n\t\t>\n\t\t\t<MostViewedFooterGrid\n\t\t\t\tdata={tabs}\n\t\t\t\tsectionName={sectionName}\n\t\t\t\tselectedColour={selectedColour}\n\t\t\t/>\n\t\t\t<div css={[stackBelow('tablet'), secondTierStyles]}>\n\t\t\t\t{mostCommented && (\n\t\t\t\t\t<MostViewedFooterSecondTierItem\n\t\t\t\t\t\ttrail={mostCommented}\n\t\t\t\t\t\ttitle=\"Most commented\"\n\t\t\t\t\t\tshowRightBorder={true}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\t{mostShared && (\n\t\t\t\t\t<MostViewedFooterSecondTierItem\n\t\t\t\t\t\ttrail={mostShared}\n\t\t\t\t\t\ttitle=\"Most shared\"\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import { joinUrl } from '@guardian/libs';\nimport type {\n\tFETrailTabType,\n\tFETrailType,\n\tTrailTabType,\n} from '../../types/trails';\nimport { abTestTest } from '../experiments/tests/ab-test-test';\nimport { decidePalette } from '../lib/decidePalette';\nimport { decideTrail } from '../lib/decideTrail';\nimport type { EditionId } from '../lib/edition';\nimport { useAB } from '../lib/useAB';\nimport { useApi } from '../lib/useApi';\nimport { MostViewedFooter } from './MostViewedFooter.importable';\n\ninterface Props {\n\tsectionName?: string;\n\tformat: ArticleFormat;\n\tajaxUrl: string;\n\tedition: EditionId;\n}\n\nfunction buildSectionUrl(\n\tajaxUrl: string,\n\tedition: EditionId,\n\tsectionName?: string,\n) {\n\tconst sectionsWithoutPopular = ['info', 'global'];\n\tconst hasSection =\n\t\tsectionName !== undefined &&\n\t\t!sectionsWithoutPopular.includes(sectionName);\n\tconst endpoint = `/most-read${\n\t\thasSection ? `/${sectionName}` : ''\n\t}.json?_edition=${edition}`;\n\treturn joinUrl(ajaxUrl, `${endpoint}&dcr=true`);\n}\n\nfunction transformTabs(tabs: FETrailTabType[]): TrailTabType[] {\n\treturn tabs.map((tab) => ({\n\t\t...tab,\n\t\ttrails: tab.trails.map((trail) => decideTrail(trail)),\n\t}));\n}\n\ninterface MostViewedFooterPayloadType {\n\ttabs: FETrailTabType[];\n\tmostCommented: FETrailType;\n\tmostShared: FETrailType;\n}\n\nexport const MostViewedFooterData = ({\n\tsectionName,\n\tformat,\n\tajaxUrl,\n\tedition,\n}: Props) => {\n\tconst palette = decidePalette(format);\n\t// Example usage of AB Tests\n\t// Used in the Cypress tests as smoke test of the AB tests framework integration\n\tconst ABTestAPI = useAB()?.api;\n\n\tconst abTestCypressDataAttr =\n\t\t(ABTestAPI?.isUserInVariant('AbTestTest', 'control') &&\n\t\t\t'ab-test-control') ||\n\t\t(ABTestAPI?.isUserInVariant('AbTestTest', 'variant') &&\n\t\t\t'ab-test-variant') ||\n\t\t'ab-test-not-in-test';\n\tconst runnableTest = ABTestAPI?.runnableTest(abTestTest);\n\tconst variantFromRunnable = runnableTest?.variantToRun.id ?? 'not-runnable';\n\n\tconst url = buildSectionUrl(ajaxUrl, edition, sectionName);\n\tconst { data, error } = useApi<\n\t\tMostViewedFooterPayloadType | FETrailTabType[]\n\t>(url);\n\n\tif (error) {\n\t\twindow.guardian.modules.sentry.reportError(error, 'most-viewed-footer');\n\t\treturn null;\n\t}\n\n\tif (data) {\n\t\tconst tabs = 'tabs' in data ? data.tabs : data;\n\t\treturn (\n\t\t\t<MostViewedFooter\n\t\t\t\ttabs={transformTabs(tabs)}\n\t\t\t\tmostCommented={\n\t\t\t\t\t'mostCommented' in data\n\t\t\t\t\t\t? decideTrail(data.mostCommented)\n\t\t\t\t\t\t: undefined\n\t\t\t\t}\n\t\t\t\tmostShared={\n\t\t\t\t\t'mostShared' in data\n\t\t\t\t\t\t? decideTrail(data.mostShared)\n\t\t\t\t\t\t: undefined\n\t\t\t\t}\n\t\t\t\tabTestCypressDataAttr={abTestCypressDataAttr}\n\t\t\t\tvariantFromRunnable={variantFromRunnable}\n\t\t\t\tsectionName={sectionName}\n\t\t\t\tselectedColour={palette.background.mostViewedTab}\n\t\t\t/>\n\t\t);\n\t}\n\n\treturn null;\n};\n","import { css } from '@emotion/react';\nimport { ArticleDesign } from '@guardian/libs';\nimport { border, headline, neutral, text } from '@guardian/source-foundations';\nimport type { TrailType } from '../../types/trails';\nimport { useHover } from '../lib/useHover';\nimport { AgeWarning } from './AgeWarning';\nimport { Avatar } from './Avatar';\nimport { LinkHeadline } from './LinkHeadline';\n\nconst listItemStyles = css`\n\tlist-style: none;\n\t/* https://developer.mozilla.org/en-US/docs/Web/CSS/list-style#accessibility_concerns */\n\t/* Needs double escape char: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#es2018_revision_of_illegal_escape_sequences */\n\t&::before {\n\t\tcontent: '\\\\200B'; /* Zero width space */\n\t\tdisplay: block;\n\t\theight: 0;\n\t\twidth: 0;\n\t}\n\tpadding-top: 4px;\n\tmargin-bottom: 12px;\n\tborder-top: 1px solid ${border.secondary};\n\n\t&:first-of-type {\n\t\tpadding-top: 0;\n\t\tborder-top: none;\n\t}\n`;\n\nconst linkTagStyles = css`\n\ttext-decoration: none;\n\tfont-weight: 500;\n\t${headline.xxxsmall()};\n\n\t&:link,\n\t&:active {\n\t\tcolor: ${text.anchorSecondary};\n\t}\n\n\t&:visited h4 {\n\t\tcolor: ${neutral[46]};\n\t}\n\n\t&:hover h4 {\n\t\ttext-decoration: underline;\n\t}\n`;\n\nconst lineWrapperStyles = css`\n\tdisplay: flex;\n`;\n\nconst headlineWrapperStyles = css`\n\twidth: calc(100% - 82px);\n\tdisplay: flex;\n\tflex-direction: column;\n`;\n\nconst imageWrapperStyles = css`\n\twidth: 72px;\n\theight: 72px;\n\tmargin-top: 3px;\n\tmargin-right: 10px;\n`;\n\nconst marginTopStyles = css`\n\tmargin-top: 4px;\n`;\n\ntype Props = {\n\ttrail: TrailType;\n\tmostViewedItemIndex: number;\n};\n\nexport const MostViewedRightItem = ({ trail, mostViewedItemIndex }: Props) => {\n\tconst [hoverRef, isHovered] = useHover<HTMLAnchorElement>();\n\n\treturn (\n\t\t<li\n\t\t\tcss={listItemStyles}\n\t\t\tdata-link-name={`trail | ${mostViewedItemIndex + 1}`}\n\t\t>\n\t\t\t<a css={linkTagStyles} href={trail.url} ref={hoverRef}>\n\t\t\t\t<div css={lineWrapperStyles}>\n\t\t\t\t\t{!!trail.image && (\n\t\t\t\t\t\t<div css={imageWrapperStyles}>\n\t\t\t\t\t\t\t<Avatar\n\t\t\t\t\t\t\t\tsrc={trail.image}\n\t\t\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t\t\t\tformat={trail.format}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t<div css={headlineWrapperStyles}>\n\t\t\t\t\t\t{trail.format.design === ArticleDesign.LiveBlog ? (\n\t\t\t\t\t\t\t<LinkHeadline\n\t\t\t\t\t\t\t\theadlineText={trail.headline}\n\t\t\t\t\t\t\t\tformat={trail.format}\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tshowUnderline={isHovered}\n\t\t\t\t\t\t\t\tkickerText=\"Live\"\n\t\t\t\t\t\t\t\thideLineBreak={true}\n\t\t\t\t\t\t\t\tbyline={\n\t\t\t\t\t\t\t\t\ttrail.showByline ? trail.byline : undefined\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<LinkHeadline\n\t\t\t\t\t\t\t\theadlineText={trail.headline}\n\t\t\t\t\t\t\t\tformat={trail.format}\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tshowUnderline={isHovered}\n\t\t\t\t\t\t\t\tbyline={\n\t\t\t\t\t\t\t\t\ttrail.showByline ? trail.byline : undefined\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<div css={marginTopStyles}>\n\t\t\t\t\t\t\t{!!trail.ageWarning && (\n\t\t\t\t\t\t\t\t<AgeWarning\n\t\t\t\t\t\t\t\t\tage={trail.ageWarning}\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</a>\n\t\t</li>\n\t);\n};\n","import type { MutableRefObject } from 'react';\nimport { useEffect, useRef, useState } from 'react';\n\nexport function useHover<T>(): [MutableRefObject<T>, boolean] {\n\tconst [value, setValue] = useState(false);\n\n\tconst ref = useRef<any>(null);\n\n\tconst handleMouseOver = () => setValue(true);\n\tconst handleMouseOut = () => setValue(false);\n\n\tuseEffect(() => {\n\t\tconst node: HTMLElement | undefined = ref.current;\n\t\tif (node) {\n\t\t\tnode.addEventListener('mouseover', handleMouseOver);\n\t\t\tnode.addEventListener('mouseout', handleMouseOut);\n\n\t\t\treturn () => {\n\t\t\t\tnode.removeEventListener('mouseover', handleMouseOver);\n\t\t\t\tnode.removeEventListener('mouseout', handleMouseOut);\n\t\t\t};\n\t\t}\n\t\treturn () => {};\n\t}, []);\n\n\treturn [ref, value];\n}\n","import { css } from '@emotion/react';\nimport { headline } from '@guardian/source-foundations';\nimport { StraightLines } from '@guardian/source-react-components-development-kitchen';\nimport type { FETrailTabType, TrailType } from '../../types/trails';\nimport { decideTrail } from '../lib/decideTrail';\nimport { useApi } from '../lib/useApi';\nimport { MostViewedRightItem } from './MostViewedRightItem';\n\nconst wrapperStyles = css`\n\tmargin-top: 24px;\n\tpadding-bottom: 48px;\n`;\n\n// We only stick most viewed when ads are not showing. We do this\n// to maximise right column space\nconst stickyStyles = css`\n\tposition: sticky;\n\ttop: 0;\n`;\n\nconst headingStyles = css`\n\t${headline.xxxsmall({ fontWeight: 'bold' })}\n\tmargin-bottom: 8px;\n`;\n\ninterface Props {\n\tlimitItems?: number;\n\tisAdFreeUser: boolean;\n\tadBlockerDetected: boolean;\n}\n\nexport const MostViewedRight = ({\n\tlimitItems = 5,\n\tisAdFreeUser,\n\tadBlockerDetected,\n}: Props) => {\n\tconst endpointUrl =\n\t\t'https://api.nextgen.guardianapps.co.uk/most-read-geo.json?dcr=true';\n\tconst { data, error } = useApi<FETrailTabType>(endpointUrl);\n\n\tif (error) {\n\t\twindow.guardian.modules.sentry.reportError(error, 'most-viewed-right');\n\t\treturn null;\n\t}\n\n\tif (data) {\n\t\tconst trails: TrailType[] = data.trails\n\t\t\t.slice(0, limitItems)\n\t\t\t.map(decideTrail);\n\t\tconst stickToTop = adBlockerDetected || isAdFreeUser;\n\t\t// Look I don't know why data-component is geo-most-popular either, but it is, ok? Ok.\n\t\treturn (\n\t\t\t<div\n\t\t\t\tcss={[wrapperStyles, stickToTop && stickyStyles]}\n\t\t\t\tdata-component=\"geo-most-popular\"\n\t\t\t>\n\t\t\t\t<StraightLines\n\t\t\t\t\tcssOverrides={css`\n\t\t\t\t\t\tdisplay: block;\n\t\t\t\t\t`}\n\t\t\t\t\tcount={4}\n\t\t\t\t/>\n\t\t\t\t<h3 css={headingStyles}>Most viewed</h3>\n\t\t\t\t<ul data-link-name=\"Right hand most popular geo GB\">\n\t\t\t\t\t{trails.map((trail, index) => (\n\t\t\t\t\t\t<MostViewedRightItem\n\t\t\t\t\t\t\tkey={trail.url}\n\t\t\t\t\t\t\ttrail={trail}\n\t\t\t\t\t\t\tmostViewedItemIndex={index}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn null;\n};\n","import { css } from '@emotion/react';\nimport type { RefObject } from 'react';\nimport { useEffect, useRef, useState } from 'react';\nimport { useAdBlockInUse } from '../lib/useAdBlockInUse';\nimport { MostViewedRight } from './MostViewedRight';\n\ntype Props = {\n\tlimitItems?: number;\n\tisAdFreeUser: boolean;\n};\n\n// Minimum height needed to render MostViewedRight is its own outer height.\nconst HEIGHT_REQUIRED = 482 + 24 + 24;\n\nconst SHADY_PIE_HEIGHT = 400;\nconst TOP_RIGHT_AD_HEIGHT = 1059;\n\n// Wrapping MostViewedRight so we can determine whether or not there's enough vertical space in the container to render it.\nexport const MostViewedRightWrapper = ({ limitItems, isAdFreeUser }: Props) => {\n\tconst adBlockerDetected = useAdBlockInUse();\n\tconst bodyRef = useRef<HTMLDivElement>(null);\n\tconst [heightIsAvailable, setHeightIsAvailable] = useState<boolean>(false);\n\n\tuseEffect(() => {\n\t\tconst checkHeight = (ref: RefObject<HTMLDivElement>) => {\n\t\t\tif (!heightIsAvailable) {\n\t\t\t\t// Don't bother checking if height already available\n\t\t\t\tif (ref.current) {\n\t\t\t\t\tconst { offsetHeight } = ref.current;\n\t\t\t\t\tsetHeightIsAvailable(offsetHeight > HEIGHT_REQUIRED);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t// Check if we have the available height\n\t\tcheckHeight(bodyRef);\n\n\t\t// setTimeout here lets us put another check at the end of the\n\t\t// event queue in case any in body elements still need to render\n\t\t// which could push the page down giving us the space we need\n\t\tsetTimeout(() => {\n\t\t\tcheckHeight(bodyRef);\n\t\t});\n\t}, [heightIsAvailable]);\n\n\tconst rightAdvertHeight = adBlockerDetected\n\t\t? SHADY_PIE_HEIGHT\n\t\t: TOP_RIGHT_AD_HEIGHT;\n\n\t// Styling the data island root so it stretches to cover the full height available in the container.\n\t// Requires us to subtract the height of its sibling in the container (Sticky top right ad slot).\n\tconst availableSpaceHeight = css`\n\t\theight: calc(100% - ${rightAdvertHeight}px);\n\t`;\n\n\tif (!heightIsAvailable) {\n\t\treturn <div ref={bodyRef} css={availableSpaceHeight} />;\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tref={bodyRef}\n\t\t\tcss={css`\n\t\t\t\theight: auto;\n\t\t\t`}\n\t\t>\n\t\t\t<MostViewedRight\n\t\t\t\tlimitItems={limitItems}\n\t\t\t\tisAdFreeUser={isAdFreeUser}\n\t\t\t\tadBlockerDetected={!!adBlockerDetected}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n","import { css } from '@emotion/react';\n\nexport const hiddenStyles = css`\n\t&.hidden {\n\t\tdisplay: none;\n\t}\n`;\n","import type { EditionLinkType } from '../../model/extract-nav';\n\nexport type EditionId = (typeof editionList)[number]['editionId'];\n\nexport const editionList = [\n\t{\n\t\turl: '/preference/edition/au',\n\t\teditionId: 'UK',\n\t\tlongTitle: 'UK edition',\n\t\ttitle: 'UK edition',\n\t\tlocale: 'en-gb',\n\t},\n\t{\n\t\turl: '/preference/edition/us',\n\t\teditionId: 'US',\n\t\tlongTitle: 'US edition',\n\t\ttitle: 'US edition',\n\t\tlocale: 'en-us',\n\t},\n\t{\n\t\turl: '/preference/edition/au',\n\t\teditionId: 'AU',\n\t\tlongTitle: 'Australia edition',\n\t\ttitle: 'AU edition',\n\t\tlocale: 'en-au',\n\t},\n\t{\n\t\turl: '/preference/edition/int',\n\t\teditionId: 'INT',\n\t\tlongTitle: 'International edition',\n\t\ttitle: 'International edition',\n\t\tlocale: 'en-gb',\n\t},\n\t{\n\t\turl: '/preference/edition/eur',\n\t\teditionId: 'EUR',\n\t\tlongTitle: 'Europe edition',\n\t\ttitle: 'Europe edition',\n\t\tlocale: 'en-gb',\n\t},\n] as const;\n\nexport const getEditionFromId = (editionId: EditionId): EditionLinkType => {\n\treturn (\n\t\teditionList.find((edition) => edition.editionId === editionId) ??\n\t\teditionList[0]\n\t);\n};\n\nexport const getRemainingEditions = (\n\teditionId: EditionId,\n): EditionLinkType[] => {\n\treturn editionList.filter((edition) => edition.editionId !== editionId);\n};\n\n/**\n * Determine if a string is one of the permitted edition strings\n *\n * @param s The string to test\n */\nexport const isEditionId = (s: string): s is EditionId =>\n\teditionList.map(({ editionId }) => String(editionId)).includes(s);\n","import { css } from '@emotion/react';\nimport {\n\tbody,\n\theadline,\n\tneutral,\n\tnews,\n\tspace,\n\tuntil,\n} from '@guardian/source-foundations';\nimport type { DCRContainerPalette } from '../../types/front';\nimport type { Colour } from '../../types/palette';\nimport { decideContainerOverrides } from '../lib/decideContainerOverrides';\nimport type { EditionId } from '../lib/edition';\nimport { getEditionFromId } from '../lib/edition';\n\ntype Props = {\n\ttitle?: string;\n\tfontColour?: string;\n\tdescription?: string;\n\turl?: string;\n\tcontainerPalette?: DCRContainerPalette;\n\tshowDateHeader?: boolean;\n\teditionId?: EditionId;\n};\n\nconst linkStyles = css`\n\ttext-decoration: none;\n\tcolor: ${neutral[7]};\n\n\t:hover {\n\t\ttext-decoration: underline;\n\t}\n`;\n\nconst headerStyles = (fontColour?: string) => css`\n\t${headline.xsmall({ fontWeight: 'bold' })};\n\tcolor: ${fontColour ?? neutral[7]};\n\tpadding-bottom: ${space[1]}px;\n\tpadding-top: 6px;\n\toverflow-wrap: break-word; /*if a single word is too long, this will break the word up rather than have the display be affected*/\n`;\n\nconst descriptionStyles = (fontColour?: string) => css`\n\t${body.xsmall({ fontWeight: 'medium' })};\n\tcolor: ${fontColour ?? neutral[46]};\n\tp {\n\t\t/* Handle paragraphs in the description */\n\t\tmargin-bottom: ${space[3]}px;\n\t}\n\ta {\n\t\tcolor: ${neutral[7]};\n\t\ttext-decoration: none;\n\t}\n`;\n\nconst bottomMargin = css`\n\tmargin-bottom: ${space[2]}px;\n`;\n\nconst marginStyles = css`\n\tmargin-left: 0;\n`;\n\nconst dateTextStyles = (color: Colour) => css`\n\t${headline.xxxsmall({ fontWeight: 'bold' })};\n\tcolor: ${color};\n\t${until.tablet} {\n\t\tdisplay: none;\n\t}\n`;\n\n/**\n * ContainerTitle\n *\n * For the date header to be shown, a valid editionId must be passed, as the\n * date is based off of the edition timezone.\n */\nexport const ContainerTitle = ({\n\ttitle,\n\tfontColour,\n\tdescription,\n\turl,\n\tcontainerPalette,\n\tshowDateHeader,\n\teditionId,\n}: Props) => {\n\tif (!title) return null;\n\n\tconst overrides =\n\t\tcontainerPalette && decideContainerOverrides(containerPalette);\n\n\tconst now = new Date();\n\tconst locale = editionId && getEditionFromId(editionId).locale;\n\treturn (\n\t\t<div css={marginStyles}>\n\t\t\t{url ? (\n\t\t\t\t<a css={[linkStyles, bottomMargin]} href={url}>\n\t\t\t\t\t<h2 css={headerStyles(fontColour)}>{title}</h2>\n\t\t\t\t</a>\n\t\t\t) : (\n\t\t\t\t<h2 css={headerStyles(fontColour)}>{title}</h2>\n\t\t\t)}\n\t\t\t{!!description && (\n\t\t\t\t<div\n\t\t\t\t\tcss={[descriptionStyles(fontColour), bottomMargin]}\n\t\t\t\t\tdangerouslySetInnerHTML={{ __html: description }}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t{showDateHeader && editionId && (\n\t\t\t\t<>\n\t\t\t\t\t<span\n\t\t\t\t\t\tcss={dateTextStyles(\n\t\t\t\t\t\t\toverrides?.text.containerDate ?? neutral[0],\n\t\t\t\t\t\t)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{now.toLocaleDateString(locale, { weekday: 'long' })}\n\t\t\t\t\t</span>\n\t\t\t\t\t<span\n\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\tcss`\n\t\t\t\t\t\t\t\tdisplay: block;\n\t\t\t\t\t\t\t`,\n\t\t\t\t\t\t\tdateTextStyles(\n\t\t\t\t\t\t\t\toverrides?.text.containerDate ?? news[400],\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tbottomMargin,\n\t\t\t\t\t\t]}\n\t\t\t\t\t>\n\t\t\t\t\t\t{now.toLocaleDateString(locale, {\n\t\t\t\t\t\t\tday: 'numeric',\n\t\t\t\t\t\t\tmonth: 'long',\n\t\t\t\t\t\t\tyear: 'numeric',\n\t\t\t\t\t\t})}\n\t\t\t\t\t</span>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n","import { ClassNames, css as emoCss } from '@emotion/react';\nimport { border, from, space } from '@guardian/source-foundations';\n// @ts-expect-error\nimport { jsx as _jsx } from 'react/jsx-runtime';\nimport { center } from '../lib/center';\n\nconst sidePadding = emoCss`\n\tpadding-left: 10px;\n\tpadding-right: 10px;\n\n\t${from.mobileLandscape} {\n\t\tpadding-left: 20px;\n\t\tpadding-right: 20px;\n\t}\n`;\n\nconst bottomPadding = emoCss`\n\tpadding-bottom: ${space[9]}px;\n`;\n\nconst sideBorderStyles = (colour: string) => emoCss`\n\t${from.tablet} {\n\t\tborder-left: 1px solid ${colour};\n\t\tborder-right: 1px solid ${colour};\n\t}\n`;\n\nconst topBorderStyles = (colour: string) => emoCss`\n\tborder-top: 1px solid ${colour};\n`;\n\nconst setBackgroundColour = (colour: string) => emoCss`\n\tbackground-color: ${colour};\n`;\n\ntype Props = {\n\tsectionId?: string;\n\tshowSideBorders?: boolean;\n\tshowTopBorder?: boolean;\n\tpadSides?: boolean;\n\tpadBottom?: boolean;\n\tbackgroundColour?: string;\n\tinnerBackgroundColour?: string;\n\tborderColour?: string;\n\tchildren?: React.ReactNode;\n\tshouldCenter?: boolean;\n\telement?:\n\t\t| 'div'\n\t\t| 'article'\n\t\t| 'aside'\n\t\t| 'nav'\n\t\t| 'main'\n\t\t| 'header'\n\t\t| 'section'\n\t\t| 'footer'; // ElementContainer is generally a top-level wrapper\n\tclassName?: string;\n\tophanComponentName?: string;\n\tophanComponentLink?: string;\n\tcontainerName?: string;\n};\n\n/**\n * @deprecated please use Section fullWidth={true}  instead\n */\nexport const ElementContainer = ({\n\tsectionId,\n\tshowSideBorders = true,\n\tshowTopBorder = true,\n\tpadSides = true,\n\tpadBottom = false,\n\tborderColour = border.secondary,\n\tbackgroundColour,\n\tinnerBackgroundColour,\n\tshouldCenter = true,\n\tchildren,\n\telement = 'div',\n\tclassName,\n\tophanComponentName,\n\tophanComponentLink,\n\tcontainerName,\n}: Props) => (\n\t<ClassNames>\n\t\t{({ css }) => {\n\t\t\tconst child = (\n\t\t\t\t<div\n\t\t\t\t\t/**\n\t\t\t\t\t * id is being used to set the containerId in @see {ShowMore.importable.tsx}\n\t\t\t\t\t * this id pre-existed showMore so is probably also being used for something else.\n\t\t\t\t\t */\n\t\t\t\t\tid={sectionId}\n\t\t\t\t\tcss={[\n\t\t\t\t\t\tshouldCenter && center,\n\t\t\t\t\t\tshowSideBorders && sideBorderStyles(borderColour),\n\t\t\t\t\t\tshowTopBorder && topBorderStyles(borderColour),\n\t\t\t\t\t\tinnerBackgroundColour &&\n\t\t\t\t\t\t\tsetBackgroundColour(innerBackgroundColour),\n\t\t\t\t\t\tpadSides && sidePadding,\n\t\t\t\t\t\tpadBottom && bottomPadding,\n\t\t\t\t\t]}\n\t\t\t\t>\n\t\t\t\t\t{children}\n\t\t\t\t</div>\n\t\t\t);\n\t\t\tconst style = css`\n\t\t\t\t${backgroundColour && setBackgroundColour(backgroundColour)};\n\t\t\t`;\n\t\t\t// Create a react element from the tagName passed in OR\n\t\t\t// default to <div>\n\t\t\treturn _jsx(`${element}`, {\n\t\t\t\t'data-link-name': ophanComponentLink,\n\t\t\t\t'data-component': ophanComponentName,\n\t\t\t\t'data-container-name': containerName,\n\t\t\t\tclassName: className ? `${style} ${className}` : style,\n\t\t\t\tchildren: child,\n\t\t\t});\n\t\t}}\n\t</ClassNames>\n);\n","import { jsx } from '@emotion/react/jsx-runtime';\nimport { linkContents } from './shared.js';\nimport { linkStyles } from './styles.js';\n\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/story/source-react-components_buttonlink--primary-button-link-default-theme) •\n * [Design System](https://theguardian.design/2a1e5182b/p/43c26b-link/b/048fd1) •\n * [GitHub](https://github.com/guardian/csnx/tree/main/libs/@guardian/source-react-components/src/link/ButtonLink.tsx) •\n * [NPM](https://www.npmjs.com/package/@guardian/source-react-components)\n *\n * Links are used as navigational aids. They may appear inline in a paragraph, as items in a list or as stand alone text elements.\n *\n * The following themes are supported: `light`, `brand`, `brandYellow`\n */\nconst ButtonLink = ({ priority = 'primary', icon: iconSvg, iconSide = 'left', cssOverrides, children, ...props }) => {\n    return (jsx(\"button\", { css: linkStyles({\n            isButton: true,\n            priority,\n            iconSvg,\n            iconSide,\n            cssOverrides,\n        }), ...props, children: linkContents({ children, iconSvg, iconSide }) }));\n};\n\nexport { ButtonLink };\n//# sourceMappingURL=ButtonLink.js.map\n","import { css } from '@emotion/react';\nimport { neutral, space, textSans } from '@guardian/source-foundations';\nimport { ButtonLink } from '@guardian/source-react-components';\n\ntype Props = {\n\tsectionId: string;\n\toverrideContainerToggleColour?: string;\n};\n\nconst showHideButtonCss = (\n\toverrideContainerToggleColour: string | undefined,\n) => css`\n\tcolor: ${overrideContainerToggleColour ?? neutral[46]};\n\t${textSans.xsmall()};\n\n\tmargin-top: ${space[2]}px;\n\tmargin-right: 10px;\n\tmargin-bottom: ${space[2]}px;\n\tposition: relative;\n\talign-items: bottom;\n\ttext-decoration: none;\n`;\n\n/**\n * This component creates the styled button for showing & hiding a container,\n * The functionality for this is implemented in a single island 'ShownHideContainers.importable'\n **/\nexport const ShowHideButton = ({\n\tsectionId,\n\toverrideContainerToggleColour,\n}: Props) => {\n\treturn (\n\t\t<ButtonLink\n\t\t\tpriority=\"secondary\"\n\t\t\tcssOverrides={showHideButtonCss(overrideContainerToggleColour)}\n\t\t\tdata-link-name=\"Hide\"\n\t\t\tdata-show-hide-button={sectionId}\n\t\t\taria-controls={sectionId}\n\t\t\taria-expanded={true}\n\t\t>\n\t\t\tHide\n\t\t</ButtonLink>\n\t);\n};\n","export const SvgCrossword = () => (\n\t<svg viewBox=\"0, 0, 106, 106\" width=\"106px\" height=\"106px\">\n\t\t<rect x=\"0\" y=\"0\" fill=\"#000000\" width=\"106\" height=\"106\"></rect>\n\t\t<rect x=\"16\" y=\"61\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"61\" y=\"1\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"91\" y=\"46\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"1\" y=\"61\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"61\" y=\"31\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"46\" y=\"91\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"1\" y=\"46\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"76\" y=\"1\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"61\" y=\"46\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"46\" y=\"31\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"31\" y=\"91\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"31\" y=\"46\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"76\" y=\"61\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"1\" y=\"76\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"91\" y=\"31\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"31\" y=\"31\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"1\" y=\"31\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"31\" y=\"61\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"31\" y=\"16\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"61\" y=\"16\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"91\" y=\"76\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"91\" y=\"16\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"16\" y=\"91\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"61\" y=\"91\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"91\" y=\"1\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"1\" y=\"91\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"46\" y=\"61\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"76\" y=\"91\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"31\" y=\"1\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"91\" y=\"61\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"46\" y=\"1\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"1\" y=\"16\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"16\" y=\"31\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"61\" y=\"61\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"61\" y=\"76\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"91\" y=\"91\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t</svg>\n);\n","import { css } from '@emotion/react';\nimport { ArticleDesign, ArticleDisplay } from '@guardian/libs';\nimport {\n\tfrom,\n\theadline,\n\tneutral,\n\tspace,\n\ttextSans,\n} from '@guardian/source-foundations';\nimport { Link } from '@guardian/source-react-components';\nimport { Fragment } from 'react';\nimport type { TreatType } from '../../types/front';\nimport { decidePalette } from '../lib/decidePalette';\nimport { generateSources, getFallbackSource } from './Picture';\nimport { SvgCrossword } from './SvgCrossword';\n\nconst TextTreat = ({\n\ttext,\n\tlinkTo,\n\tborderColour,\n}: {\n\ttext: string;\n\tlinkTo: string;\n\tborderColour?: string;\n}) => (\n\t<li\n\t\tcss={css`\n\t\t\tmargin-top: ${space[3]}px;\n\t\t\tborder-left: 1px solid ${borderColour ?? neutral[86]};\n\t\t\tborder-top: 1px solid ${borderColour ?? neutral[86]};\n\t\t\tpadding-top: ${space[1]}px;\n\t\t\tpadding-left: ${space[2]}px;\n\t\t`}\n\t>\n\t\t<Link\n\t\t\tpriority=\"secondary\"\n\t\t\tsubdued={true}\n\t\t\tcssOverrides={css`\n\t\t\t\t${textSans.xxsmall()}\n\t\t\t\ttext-decoration: none;\n\t\t\t`}\n\t\t\thref={linkTo}\n\t\t>\n\t\t\t{text}\n\t\t</Link>\n\t</li>\n);\n\nconst ImageTreat = ({\n\timageUrl,\n\tlinks,\n\taltText,\n\tbackgroundColour,\n}: {\n\timageUrl: string;\n\tlinks: { text: string; title?: string; linkTo: string }[];\n\taltText?: string;\n\tbackgroundColour: string;\n}) => {\n\tconst sources = generateSources(imageUrl, [\n\t\t{ breakpoint: 320, width: 130 },\n\t]);\n\tconst fallbackSource = getFallbackSource(sources);\n\n\treturn (\n\t\t<li>\n\t\t\t<div\n\t\t\t\tcss={css`\n\t\t\t\t\t${from.wide} {\n\t\t\t\t\t\tmargin-bottom: -10px;\n\t\t\t\t\t}\n\t\t\t\t\t${from.leftCol} {\n\t\t\t\t\t\tmargin-bottom: -25px;\n\t\t\t\t\t}\n\t\t\t\t`}\n\t\t\t>\n\t\t\t\t<picture>\n\t\t\t\t\t{sources.map((source) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Fragment key={source.breakpoint}>\n\t\t\t\t\t\t\t\t{/* High resolution (HDPI) sources*/}\n\t\t\t\t\t\t\t\t<source\n\t\t\t\t\t\t\t\t\tsrcSet={source.hiResUrl}\n\t\t\t\t\t\t\t\t\tmedia={`(min-width: ${source.breakpoint}px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: ${source.breakpoint}px) and (min-resolution: 120dpi)`}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{/* Low resolution (MDPI) source*/}\n\t\t\t\t\t\t\t\t<source\n\t\t\t\t\t\t\t\t\tsrcSet={source.lowResUrl}\n\t\t\t\t\t\t\t\t\tmedia={`(min-width: ${source.breakpoint}px)`}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={fallbackSource.lowResUrl}\n\t\t\t\t\t\talt={altText}\n\t\t\t\t\t\twidth=\"130px\"\n\t\t\t\t\t\theight=\"auto\"\n\t\t\t\t\t/>\n\t\t\t\t</picture>\n\t\t\t</div>\n\t\t\t{links.map((link, index) => {\n\t\t\t\treturn (\n\t\t\t\t\t<a\n\t\t\t\t\t\tkey={link.linkTo}\n\t\t\t\t\t\thref={link.linkTo}\n\t\t\t\t\t\tdata-ignore=\"global-link-styling\"\n\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\ttext-decoration: none;\n\t\t\t\t\t\t`}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\t\tmargin-bottom: 8px;\n\t\t\t\t\t\t\t\tdisplay: block;\n\t\t\t\t\t\t\t\twidth: 253px;\n\t\t\t\t\t\t\t\tmargin-top: 6px;\n\t\t\t\t\t\t\t\tmargin-left: 10px;\n\t\t\t\t\t\t\t\t${from.leftCol} {\n\t\t\t\t\t\t\t\t\tmargin-left: 0;\n\t\t\t\t\t\t\t\t\twidth: 140px;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t${from.wide} {\n\t\t\t\t\t\t\t\t\twidth: 168px;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\t\t\t${headline.xxxsmall()};\n\t\t\t\t\t\t\t\t\tfont-size: 16px;\n\t\t\t\t\t\t\t\t\tbackground-color: ${index % 2 === 0\n\t\t\t\t\t\t\t\t\t\t? neutral[0]\n\t\t\t\t\t\t\t\t\t\t: backgroundColour};\n\t\t\t\t\t\t\t\t\tpadding: 0 5px 4px;\n\t\t\t\t\t\t\t\t\tbox-decoration-break: clone;\n\t\t\t\t\t\t\t\t\tposition: relative;\n\t\t\t\t\t\t\t\t\tcolor: ${neutral[100]};\n\t\t\t\t\t\t\t\t\ttext-decoration: none;\n\t\t\t\t\t\t\t\t\t:hover {\n\t\t\t\t\t\t\t\t\t\ttext-decoration: underline;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{link.title}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t{link.text}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</a>\n\t\t\t\t);\n\t\t\t})}\n\t\t</li>\n\t);\n};\n\nexport const Treats = ({\n\ttreats,\n\tborderColour,\n}: {\n\ttreats: TreatType[];\n\tborderColour?: string;\n}) => {\n\tif (treats.length === 0) return null;\n\treturn (\n\t\t<ul\n\t\t\tcss={css`\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t`}\n\t\t>\n\t\t\t{treats.map((treat) => {\n\t\t\t\tconst [link] = treat.links;\n\t\t\t\tif (link?.linkTo === '/crosswords' && link.text) {\n\t\t\t\t\t// Treats that link to /crosswords are special. If any\n\t\t\t\t\t// treat has this exact url then an svg of a crossword\n\t\t\t\t\t// is displayed above the text\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Fragment key={link.linkTo}>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<a href={link.linkTo}>\n\t\t\t\t\t\t\t\t\t<SvgCrossword />\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t{treat.links.map(({ linkTo, text }) => (\n\t\t\t\t\t\t\t\t<TextTreat\n\t\t\t\t\t\t\t\t\tkey={linkTo}\n\t\t\t\t\t\t\t\t\ttext={text}\n\t\t\t\t\t\t\t\t\tlinkTo={linkTo}\n\t\t\t\t\t\t\t\t\tborderColour={borderColour}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\ttreat.imageUrl &&\n\t\t\t\t\ttreat.altText &&\n\t\t\t\t\ttreat.theme !== undefined\n\t\t\t\t) {\n\t\t\t\t\tconst palette = decidePalette({\n\t\t\t\t\t\tdisplay: ArticleDisplay.Standard,\n\t\t\t\t\t\tdesign: ArticleDesign.Standard,\n\t\t\t\t\t\ttheme: treat.theme,\n\t\t\t\t\t});\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<ImageTreat\n\t\t\t\t\t\t\tkey={treat.imageUrl}\n\t\t\t\t\t\t\timageUrl={treat.imageUrl}\n\t\t\t\t\t\t\tlinks={treat.links}\n\t\t\t\t\t\t\taltText={treat.altText}\n\t\t\t\t\t\t\tbackgroundColour={palette.background.treat}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn (\n\t\t\t\t\t<>\n\t\t\t\t\t\t{treat.links.map(({ text, linkTo }) => (\n\t\t\t\t\t\t\t<TextTreat\n\t\t\t\t\t\t\t\tkey={linkTo}\n\t\t\t\t\t\t\t\ttext={text}\n\t\t\t\t\t\t\t\tlinkTo={linkTo}\n\t\t\t\t\t\t\t\tborderColour={borderColour}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</>\n\t\t\t\t);\n\t\t\t})}\n\t\t</ul>\n\t);\n};\n","import { css } from '@emotion/react';\nimport type { ArticleFormat } from '@guardian/libs';\nimport { ArticleDesign } from '@guardian/libs';\nimport { from, space, until } from '@guardian/source-foundations';\nimport type { DCRContainerPalette, TreatType } from '../../types/front';\nimport { decideContainerOverrides } from '../lib/decideContainerOverrides';\nimport type { EditionId } from '../lib/edition';\nimport { hiddenStyles } from '../lib/hiddenStyles';\nimport { ContainerTitle } from './ContainerTitle';\nimport { ElementContainer } from './ElementContainer';\nimport { Flex } from './Flex';\nimport { Hide } from './Hide';\nimport { LeftColumn } from './LeftColumn';\nimport { ShowHideButton } from './ShowHideButton';\nimport { Treats } from './Treats';\n\n/**\n * ----- First time here? -----\n * If you're unsure how to use this component, check out `Section.stories.tsx` and\n * try running it in storybook to get an idea of how this component is used!\n */\ntype Props = {\n\t/** This text will be used as the h2 shown in the left column for the section */\n\ttitle?: string;\n\t/** Allows the colour of the title to be changed */\n\tfontColour?: string;\n\t/** This text shows below the title */\n\tdescription?: string;\n\t/** The title can be made into a link using this property */\n\turl?: string;\n\t/** The html `id` property of the element */\n\tsectionId?: string;\n\t/** Defaults to `true`. If we should render the left and right borders */\n\tshowSideBorders?: boolean;\n\tcentralBorder?: 'partial' | 'full';\n\t/** Defaults to `true`. If we should render the top border */\n\tshowTopBorder?: boolean;\n\t/** Defaults to `true`. If we should add padding around the outer left and right edges */\n\tpadSides?: boolean;\n\t/** Defaults to `true`. If we should add padding around the outer left and right edges */\n\tpadBottom?: boolean;\n\t/** Defaults to `false`. If we should add padding to the bottom of `children` */\n\tpadContent?: boolean;\n\t/** The html tag used by Section defaults to `section` but can be overridden here */\n\telement?:\n\t\t| 'div'\n\t\t| 'article'\n\t\t| 'aside'\n\t\t| 'nav'\n\t\t| 'main'\n\t\t| 'header'\n\t\t| 'section'\n\t\t| 'footer';\n\t/** Sets a max width and margin auto to center children */\n\tshouldCenter?: boolean;\n\t/** Defaults to `true`. Adds margins to the top and bottom */\n\tverticalMargins?: boolean;\n\t/** Applies a background colour to the entire width */\n\tbackgroundColour?: string;\n\t/** The colour of borders can be overriden */\n\tborderColour?: string;\n\t/** A React component can be passed to be inserted inside the left column */\n\tleftContent?: React.ReactNode;\n\tchildren?: React.ReactNode;\n\t/** Defaults to `false`. If true, `children` is rendered all the way right */\n\tstretchRight?: boolean;\n\t/** Some page types have a different left column width */\n\tleftColSize?: LeftColSize;\n\tformat?: ArticleFormat;\n\t/** The string used to set the `data-component` Ophan attribute */\n\tophanComponentName?: string;\n\t/** The string used to set the `data-link-name` Ophan attribute */\n\tophanComponentLink?: string;\n\t/**\n\t * 🛠️ DEBUG ONLY 🛠️\n\t * Used to highlight the name of a container when DCR debug mode is enabled\n\t *\n\t * @see https://github.com/guardian/dotcom-rendering/blob/main/dotcom-rendering/src/web/browser/debug/README.md\n\t */\n\tcontainerName?: string;\n\t/** Fronts containers can have their styling overridden using a `containerPalette` */\n\tcontainerPalette?: DCRContainerPalette;\n\t/** Defaults to `false`. If true a Hide button is show top right allowing this section\n\t * to be collapsed\n\t */\n\ttoggleable?: boolean;\n\t/** Applies a background colour only to the content inside the left and right borders */\n\tinnerBackgroundColour?: string;\n\t/** Defaults to `false`. If true and `editionId` is also passed, then a date string is\n\t * shown under the title. Typically only used on Headlines containers on fronts\n\t */\n\tshowDateHeader?: boolean;\n\t/** Used in parnership with `showDateHeader` to localise the date string */\n\teditionId?: EditionId;\n\t/** A list of related links that appear in the bottom of the left column on fronts */\n\ttreats?: TreatType[];\n\t/** Defaults to `false`. If true, a simplified version of the section is rendered\n\t * without a left column\n\t */\n\tfullWidth?: boolean;\n\t/**\n\t * @deprecated Do not use\n\t *\n\t * Legacy className prop only used for supporting old interactives\n\t */\n\tclassName?: string;\n};\n\nconst containerStyles = css`\n\tdisplay: flex;\n\tflex-grow: 1;\n\tflex-direction: column;\n\twidth: 100%;\n`;\n\nconst headlineContainerStyles = css`\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\n\t${until.leftCol} {\n\t\tjustify-content: space-between;\n\t}\n`;\n\nconst margins = css`\n\tmargin-top: ${space[2]}px;\n\t/*\n\t\tKeep spacing at the bottom of the container consistent at 36px, regardless of\n\t\tbreakpoint, based on chat with Harry Fisher\n\t*/\n\tmargin-bottom: ${space[9]}px;\n`;\n\nconst rightMargin = css`\n\t${from.wide} {\n\t\tmargin-right: 68px;\n\t}\n`;\n\nconst padding = (format?: ArticleFormat) => {\n\tswitch (format?.design) {\n\t\tcase ArticleDesign.LiveBlog:\n\t\tcase ArticleDesign.DeadBlog:\n\t\t\treturn css`\n\t\t\t\tpadding: 0;\n\n\t\t\t\t${from.desktop} {\n\t\t\t\t\tpadding: 0 10px;\n\t\t\t\t}\n\t\t\t`;\n\t\tdefault:\n\t\t\treturn css`\n\t\t\t\tpadding: 0 10px;\n\t\t\t`;\n\t}\n};\n\nconst Content = ({\n\tchildren,\n\tpadded,\n\tverticalMargins,\n\tstretchRight,\n\tformat,\n}: {\n\tchildren: React.ReactNode;\n\tpadded: boolean;\n\tverticalMargins: boolean;\n\tstretchRight: boolean;\n\tformat?: ArticleFormat;\n}) => (\n\t<div\n\t\tcss={[\n\t\t\tcontainerStyles,\n\t\t\tpadded && padding(format),\n\t\t\tverticalMargins && margins,\n\t\t\t!stretchRight && rightMargin,\n\t\t]}\n\t>\n\t\t{children}\n\t</div>\n);\n\n/**\n *\n * A Section component represents a horizontal slice of a page. It defaults to\n * a html section tag but this can be overridden using the `element` prop\n *\n *\n * It provides borders, spacing, colours, a title and also some front specific\n * features like showing a hide button. By default `children` is placed in the center\n * with a leftCol and spacing on the right - this represents a classic Guardian\n * page - but if `fullWidth={true}` is passed then both the leftCol and right spacing\n * are omitted\n */\nexport const Section = ({\n\ttitle,\n\tfontColour,\n\tdescription,\n\turl,\n\tsectionId,\n\tshowSideBorders = true,\n\tcentralBorder,\n\tshowTopBorder = true,\n\tpadSides = true,\n\tpadBottom = false,\n\tpadContent = true,\n\tverticalMargins = true,\n\tborderColour,\n\tbackgroundColour,\n\tchildren,\n\tleftContent,\n\tstretchRight = false,\n\tleftColSize,\n\tformat,\n\tophanComponentLink,\n\tophanComponentName,\n\tcontainerPalette,\n\ttoggleable = false,\n\tinnerBackgroundColour,\n\tshowDateHeader = false,\n\teditionId,\n\tcontainerName,\n\ttreats,\n\tfullWidth = false,\n\telement = 'section',\n\tshouldCenter,\n\tclassName,\n}: Props) => {\n\tconst overrides =\n\t\tcontainerPalette && decideContainerOverrides(containerPalette);\n\n\tif (fullWidth) {\n\t\treturn (\n\t\t\t<ElementContainer\n\t\t\t\tsectionId={sectionId}\n\t\t\t\tshowSideBorders={showSideBorders}\n\t\t\t\tshowTopBorder={showTopBorder}\n\t\t\t\tpadSides={padSides}\n\t\t\t\tpadBottom={padBottom}\n\t\t\t\tborderColour={borderColour ?? overrides?.border.container}\n\t\t\t\tbackgroundColour={\n\t\t\t\t\tbackgroundColour ?? overrides?.background.container\n\t\t\t\t}\n\t\t\t\tophanComponentLink={ophanComponentLink}\n\t\t\t\tophanComponentName={ophanComponentName}\n\t\t\t\tcontainerName={containerName}\n\t\t\t\tinnerBackgroundColour={innerBackgroundColour}\n\t\t\t\tclassName={className}\n\t\t\t\telement={element}\n\t\t\t\tshouldCenter={shouldCenter}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</ElementContainer>\n\t\t);\n\t}\n\n\treturn (\n\t\t<ElementContainer\n\t\t\tsectionId={sectionId}\n\t\t\tshowSideBorders={showSideBorders}\n\t\t\tshowTopBorder={showTopBorder}\n\t\t\tpadSides={padSides}\n\t\t\tborderColour={borderColour ?? overrides?.border.container}\n\t\t\tbackgroundColour={\n\t\t\t\tbackgroundColour ?? overrides?.background.container\n\t\t\t}\n\t\t\telement=\"section\"\n\t\t\tophanComponentLink={ophanComponentLink}\n\t\t\tophanComponentName={ophanComponentName}\n\t\t\tcontainerName={containerName}\n\t\t\tinnerBackgroundColour={innerBackgroundColour}\n\t\t>\n\t\t\t<Flex>\n\t\t\t\t<LeftColumn\n\t\t\t\t\tborderType={centralBorder}\n\t\t\t\t\tborderColour={borderColour ?? overrides?.border.container}\n\t\t\t\t\tsize={leftColSize}\n\t\t\t\t\tverticalMargins={verticalMargins}\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\t\tflex-direction: column;\n\t\t\t\t\t\t\tjustify-content: space-between;\n\t\t\t\t\t\t`}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<ContainerTitle\n\t\t\t\t\t\t\t\ttitle={title}\n\t\t\t\t\t\t\t\tfontColour={\n\t\t\t\t\t\t\t\t\tfontColour ?? overrides?.text.container\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tdescription={description}\n\t\t\t\t\t\t\t\turl={url}\n\t\t\t\t\t\t\t\tcontainerPalette={containerPalette}\n\t\t\t\t\t\t\t\tshowDateHeader={showDateHeader}\n\t\t\t\t\t\t\t\teditionId={editionId}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{leftContent}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{treats && (\n\t\t\t\t\t\t\t<Treats\n\t\t\t\t\t\t\t\ttreats={treats}\n\t\t\t\t\t\t\t\tborderColour={\n\t\t\t\t\t\t\t\t\tborderColour ?? overrides?.border.container\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</LeftColumn>\n\t\t\t\t<Content\n\t\t\t\t\tpadded={padContent}\n\t\t\t\t\tverticalMargins={verticalMargins}\n\t\t\t\t\tstretchRight={stretchRight}\n\t\t\t\t\tformat={format}\n\t\t\t\t>\n\t\t\t\t\t<div css={headlineContainerStyles}>\n\t\t\t\t\t\t<Hide when=\"above\" breakpoint=\"leftCol\">\n\t\t\t\t\t\t\t<ContainerTitle\n\t\t\t\t\t\t\t\ttitle={title}\n\t\t\t\t\t\t\t\tfontColour={\n\t\t\t\t\t\t\t\t\tfontColour ?? overrides?.text.container\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tdescription={description}\n\t\t\t\t\t\t\t\turl={url}\n\t\t\t\t\t\t\t\tcontainerPalette={containerPalette}\n\t\t\t\t\t\t\t\tshowDateHeader={showDateHeader}\n\t\t\t\t\t\t\t\teditionId={editionId}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Hide>\n\t\t\t\t\t\t{toggleable && !!sectionId && (\n\t\t\t\t\t\t\t<ShowHideButton\n\t\t\t\t\t\t\t\tsectionId={sectionId}\n\t\t\t\t\t\t\t\toverrideContainerToggleColour={\n\t\t\t\t\t\t\t\t\toverrides?.text.containerToggle\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t{toggleable && sectionId ? (\n\t\t\t\t\t\t<div css={hiddenStyles} id={`container-${sectionId}`}>\n\t\t\t\t\t\t\t{children}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\tchildren\n\t\t\t\t\t)}\n\t\t\t\t</Content>\n\t\t\t</Flex>\n\t\t</ElementContainer>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { ArticlePillar, joinUrl } from '@guardian/libs';\nimport type { OnwardsSource } from '../../types/onwards';\nimport type { TagType } from '../../types/tag';\nimport type { EditionId } from '../lib/edition';\nimport { FetchOnwardsData } from './FetchOnwardsData.importable';\nimport { Section } from './Section';\n\ntype PillarForContainer =\n\t| 'headlines'\n\t| 'sport'\n\t| 'opinion'\n\t| 'culture'\n\t| 'lifestyle';\n\n/**\n * This list is a direct copy from [`frontend`](https://github.com/guardian/frontend/blob/6da0b3d8bfd58e8e20f80fc738b070fb23ed154e/static/src/javascripts/projects/common/modules/onward/related.js#L27).\n * If you change this list then you should also update `frontend`.\n *\n * Order matters here (first match wins).\n */\nconst ALLOWED_TAGS = [\n\t// sport tags\n\t'sport/cricket',\n\t'sport/rugby-union',\n\t'sport/rugbyleague',\n\t'sport/formulaone',\n\t'sport/tennis',\n\t'sport/cycling',\n\t'sport/motorsports',\n\t'sport/golf',\n\t'sport/horse-racing',\n\t'sport/boxing',\n\t'sport/us-sport',\n\t'sport/australia-sport',\n\n\t// football tags\n\t'football/championsleague',\n\t'football/premierleague',\n\t'football/championship',\n\t'football/europeanfootball',\n\t'football/world-cup-2014',\n\n\t// football team tags\n\t'football/manchester-united',\n\t'football/chelsea',\n\t'football/arsenal',\n\t'football/manchestercity',\n\t'football/tottenham-hotspur',\n\t'football/liverpool',\n] as const;\n\n/** This function looks for item in our allowlist that is present in our keywordIds */\nconst firstPopularTag = (keywordIds: string, isPaidContent: boolean) => {\n\tconst tags = keywordIds.split(',');\n\n\t// For paid content we just return the first tag,\n\t// otherwise we find the allowlist tag that matches\n\treturn isPaidContent\n\t\t? tags[0]\n\t\t: ALLOWED_TAGS.find((tag) => tags.includes(tag));\n};\n\nconst onwardsWrapper = css`\n\twidth: 100%;\n`;\n\n// TODO: EUR edition urls are currently pointing to INT edition\n// containers, once the europe edition is live, we may want to change this\nconst containerUrls = {\n\theadlines: {\n\t\tUK: 'uk-alpha/news/regular-stories',\n\t\tUS: 'c5cad9ee-584d-4e85-85cd-bf8ee481b026',\n\t\tAU: '36b9cf13-bf8b-4cf0-b882-5c5d4feac0a2',\n\t\tINT: '10f21d96-18f6-426f-821b-19df55dfb831',\n\t\tEUR: '10f21d96-18f6-426f-821b-19df55dfb831',\n\t},\n\tsport: {\n\t\tUK: '754c-8e8c-fad9-a927',\n\t\tUS: 'f6dd-d7b1-0e85-4650',\n\t\tAU: 'c45d-318f-896c-3a85',\n\t\tINT: 'd1ad8ec3-5ee2-4673-94c8-cc3f8d261e52',\n\t\tEUR: 'd1ad8ec3-5ee2-4673-94c8-cc3f8d261e52',\n\t},\n\topinion: {\n\t\tUK: '3ff78b30-52f5-4d30-ace8-c887113cbe0d',\n\t\tUS: '98df412d-b0e7-4d9a-98c2-062642823e94',\n\t\tAU: 'au-alpha/contributors/feature-stories',\n\t\tINT: 'ee3386bb-9430-4a6d-8bca-b99d65790f3b',\n\t\tEUR: 'ee3386bb-9430-4a6d-8bca-b99d65790f3b',\n\t},\n\tculture: {\n\t\tUK: 'ae511a89-ef38-4ec9-aab1-3a5ebc96d118',\n\t\tUS: 'fb59c1f8-72a7-41d5-8365-a4d574809bed',\n\t\tAU: '22262088-4bce-4290-9810-cb50bbead8db',\n\t\tINT: 'c7154e22-7292-4d93-a14d-22fd4b6b693d',\n\t\tEUR: 'c7154e22-7292-4d93-a14d-22fd4b6b693d',\n\t},\n\tlifestyle: {\n\t\tUK: 'uk-alpha/features/feature-stories',\n\t\tUS: 'us-alpha/features/feature-stories',\n\t\tAU: '13636104-51ce-4264-bb6b-556c80227331',\n\t\tINT: '7b297ef5-a3f9-45e5-b915-b54951d7f6ec',\n\t\tEUR: '7b297ef5-a3f9-45e5-b915-b54951d7f6ec',\n\t},\n};\n\nconst getContainer = (pillar: PillarForContainer, editionId: EditionId) => {\n\treturn containerUrls[pillar][editionId];\n};\n\nconst getContainerDataUrl = (\n\tpillar: ArticleTheme,\n\teditionId: EditionId,\n\tajaxUrl: string,\n) => {\n\tswitch (pillar) {\n\t\tcase ArticlePillar.Sport:\n\t\t\treturn joinUrl(\n\t\t\t\tajaxUrl,\n\t\t\t\t'container/data',\n\t\t\t\t`${getContainer('sport', editionId)}.json`,\n\t\t\t);\n\t\tcase ArticlePillar.News:\n\t\t\treturn joinUrl(\n\t\t\t\tajaxUrl,\n\t\t\t\t'container/data',\n\t\t\t\t`${getContainer('headlines', editionId)}.json`,\n\t\t\t);\n\t\tcase ArticlePillar.Culture:\n\t\t\treturn joinUrl(\n\t\t\t\tajaxUrl,\n\t\t\t\t'container/data',\n\t\t\t\t`${getContainer('culture', editionId)}.json`,\n\t\t\t);\n\t\tcase ArticlePillar.Lifestyle:\n\t\t\treturn joinUrl(\n\t\t\t\tajaxUrl,\n\t\t\t\t'container/data',\n\t\t\t\t`${getContainer('lifestyle', editionId)}.json`,\n\t\t\t);\n\t\tcase ArticlePillar.Opinion:\n\t\t\treturn joinUrl(\n\t\t\t\tajaxUrl,\n\t\t\t\t'container/data',\n\t\t\t\t`${getContainer('opinion', editionId)}.json`,\n\t\t\t);\n\t\tdefault:\n\t\t\treturn joinUrl(\n\t\t\t\tajaxUrl,\n\t\t\t\t'container/data',\n\t\t\t\t`${getContainer('headlines', editionId)}.json`,\n\t\t\t);\n\t}\n};\n\ntype Props = {\n\tajaxUrl: string;\n\thasRelated: boolean;\n\thasStoryPackage: boolean;\n\tisAdFreeUser: boolean;\n\tpageId: string;\n\tisPaidContent: boolean;\n\tshowRelatedContent: boolean;\n\tkeywordIds: string;\n\tcontentType: string;\n\ttags: TagType[];\n\tformat: ArticleFormat;\n\teditionId: EditionId;\n\tpillar: ArticleTheme;\n\tshortUrlId: string;\n};\n\n/**\n * # Onwards Upper\n *\n * A wrapper around `Carousel` for showing related articles at the bottom\n * of an article. This contains the logic around which articles to show,\n * depending on a series of factors (story package, paid content, series tag, …)\n *\n * ## Why does this need to be an Island?\n *\n * It is a client-side only component, which cannot be rendered on the server,\n * as none of the relevant information comes from the CAPI response.\n *\n * ---\n *\n * [`Carousel` on Chromatic](https://www.chromatic.com/component?appId=63e251470cfbe61776b0ef19&csfId=components-carousel)\n *\n */\nexport const OnwardsUpper = ({\n\tajaxUrl,\n\thasRelated,\n\thasStoryPackage,\n\tisAdFreeUser,\n\tpageId,\n\tisPaidContent,\n\tshowRelatedContent,\n\tkeywordIds,\n\tcontentType,\n\ttags,\n\tformat,\n\tpillar,\n\teditionId,\n\tshortUrlId,\n}: Props) => {\n\t// Related content can be a collection of articles based on\n\t// two things, 1: A popular tag, or 2: A generic text match\n\tconst tagToFilterBy = firstPopularTag(keywordIds, isPaidContent);\n\n\t// In this context, Blog tags are treated the same as Series tags\n\tconst seriesTag = tags.find(\n\t\t(tag) => tag.type === 'Series' || tag.type === 'Blog',\n\t);\n\n\tlet url;\n\tlet onwardsSource: OnwardsSource = 'unknown-source';\n\n\tif (!showRelatedContent) {\n\t\t// Then don't show related content\n\t\t// This is the first priority for deciding whether to include related content\n\t} else if (hasStoryPackage) {\n\t\t// We server render story packages so do nothing\n\t} else if (isAdFreeUser && isPaidContent) {\n\t\t// Don't show any related content (other than story packages) for\n\t\t// adfree users when the content is paid for\n\t} else if (seriesTag) {\n\t\t// Use the series tag to get other data in the same series\n\t\t// Example: {\n\t\t//              id: \"cities/series/the-illustrated-city\",\n\t\t//              title: \"The illustrated city\",\n\t\t//              type: \"Series\",\n\t\t//          }\n\t\t//\n\t\turl = joinUrl(\n\t\t\tajaxUrl,\n\t\t\t'series',\n\t\t\t`${seriesTag.id}.json?dcr&shortUrl=${shortUrlId}`,\n\t\t);\n\t\tonwardsSource = 'series';\n\t} else if (!hasRelated) {\n\t\t// There is no related content to show\n\t} else if (tagToFilterBy) {\n\t\t// Use popular in tag endpoint\n\t\tlet popularInTagUrl = `/popular-in-tag/${tagToFilterBy}.json?dcr=true`;\n\n\t\t// --- Tag excludes --- //\n\t\tconst tagsToExclude = [];\n\t\t// Exclude ad features from non-ad feature content\n\t\tif (!isPaidContent) {\n\t\t\ttagsToExclude.push('tone/advertisement-features');\n\t\t}\n\t\t// We don't want to show professional network content on videos or interactives\n\t\tif (\n\t\t\tcontentType.toLowerCase() === 'video' ||\n\t\t\tcontentType.toLowerCase() === 'interactive'\n\t\t) {\n\t\t\ttagsToExclude.push('guardian-professional/guardian-professional');\n\t\t}\n\n\t\t// Add any exclude tags to the url\n\t\tif (tagsToExclude.length > 0) {\n\t\t\tconst queryParams = tagsToExclude.map(\n\t\t\t\t(tag) => `exclude-tag=${tag}`,\n\t\t\t);\n\t\t\tpopularInTagUrl += `&${queryParams.join('&')}`;\n\t\t}\n\n\t\turl = joinUrl(ajaxUrl, popularInTagUrl);\n\t\tonwardsSource = 'related-content';\n\t} else {\n\t\t// Default to generic related endpoint\n\t\tconst relatedUrl = `/related/${pageId}.json?dcr=true`;\n\n\t\turl = joinUrl(ajaxUrl, relatedUrl);\n\t\tonwardsSource = 'related-stories';\n\t}\n\n\tconst curatedDataUrl = showRelatedContent\n\t\t? getContainerDataUrl(pillar, editionId, ajaxUrl)\n\t\t: undefined;\n\n\treturn (\n\t\t<div css={onwardsWrapper}>\n\t\t\t{!!url && (\n\t\t\t\t<Section fullWidth={true}>\n\t\t\t\t\t<FetchOnwardsData\n\t\t\t\t\t\turl={url}\n\t\t\t\t\t\tlimit={8}\n\t\t\t\t\t\tonwardsSource={onwardsSource}\n\t\t\t\t\t\tformat={format}\n\t\t\t\t\t/>\n\t\t\t\t</Section>\n\t\t\t)}\n\t\t\t{!!(!isPaidContent && curatedDataUrl) && (\n\t\t\t\t<Section fullWidth={true}>\n\t\t\t\t\t<FetchOnwardsData\n\t\t\t\t\t\turl={curatedDataUrl}\n\t\t\t\t\t\tlimit={20}\n\t\t\t\t\t\tonwardsSource=\"curated-content\"\n\t\t\t\t\t\tformat={format}\n\t\t\t\t\t/>\n\t\t\t\t</Section>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport { firstPopularTag };\n","import { PersonalityQuizAtom } from '@guardian/atoms-rendering';\nimport { QuizAtomType } from '../../types/content';\n\nexport const PersonalityQuizAtomWrapper = (props: QuizAtomType) => {\n\treturn <PersonalityQuizAtom {...props} />;\n};\n","import { css } from '@emotion/react';\nimport { ArticleDesign, ArticleDisplay } from '@guardian/libs';\nimport { breakpoints } from '@guardian/source-foundations';\nimport React from 'react';\nimport type { RoleType } from '../../types/content';\n\n/**\n * Working on this file? Checkout out 027-pictures.md & 029-signing-image-urls.md for background information & context\n **/\n\ntype Props = {\n\trole: RoleType;\n\tformat: ArticleFormat;\n\tmaster: string;\n\talt: string;\n\theight: string;\n\twidth: string;\n\tisMainMedia?: boolean;\n\tisLazy?: boolean;\n};\n\nexport type ImageWidthType = { breakpoint: number; width: number };\n\n/**\n * All business logic for image sizing is contained in this one function. This\n * is the source of truth.\n *\n * Based on image role, if it's main media or not and the format of the article\n * it is in, this function decides the width the image should have at different\n * breakpoints.\n *\n * Previously, this logic was set [in this Frontend file](https://github.com/guardian/frontend/blob/oliver/immersives-for-all/common/app/layout/ContentWidths.scala)\n *\n * Order is not important because the resulting array is sorted by breakpoint\n * prior to use.\n *\n */\nconst decideImageWidths = ({\n\trole,\n\tisMainMedia,\n\tformat,\n}: {\n\trole: RoleType;\n\tisMainMedia?: boolean;\n\tformat: ArticleFormat;\n}): [ImageWidthType, ...ImageWidthType[]] => {\n\tif (isMainMedia) {\n\t\tswitch (format.display) {\n\t\t\tcase ArticleDisplay.Immersive: {\n\t\t\t\t// If display is Immersive then main media should *always*\n\t\t\t\t// use these larger image sources\n\t\t\t\treturn [\n\t\t\t\t\t{ breakpoint: breakpoints.mobile, width: 480 },\n\t\t\t\t\t{ breakpoint: breakpoints.mobileLandscape, width: 660 },\n\t\t\t\t\t{ breakpoint: breakpoints.phablet, width: 740 },\n\t\t\t\t\t{ breakpoint: breakpoints.tablet, width: 980 },\n\t\t\t\t\t{ breakpoint: breakpoints.desktop, width: 1140 },\n\t\t\t\t\t{ breakpoint: breakpoints.leftCol, width: 1300 },\n\t\t\t\t\t{ breakpoint: breakpoints.wide, width: 1900 },\n\t\t\t\t];\n\t\t\t}\n\t\t\tcase ArticleDisplay.Showcase:\n\t\t\tcase ArticleDisplay.NumberedList: {\n\t\t\t\tif (format.design === ArticleDesign.Feature) {\n\t\t\t\t\t// The main image on feature articles gets larger sources when showcase\n\t\t\t\t\t// e.g.: http://www.theguardian.com/politics/2015/may/02/nicola-sturgeon-im-the-boss-now\n\t\t\t\t\treturn [\n\t\t\t\t\t\t{ breakpoint: breakpoints.mobile, width: 465 },\n\t\t\t\t\t\t{ breakpoint: breakpoints.mobileLandscape, width: 645 },\n\t\t\t\t\t\t{ breakpoint: breakpoints.phablet, width: 725 },\n\t\t\t\t\t\t{ breakpoint: breakpoints.tablet, width: 965 },\n\t\t\t\t\t\t{ breakpoint: breakpoints.desktop, width: 1125 },\n\t\t\t\t\t\t{ breakpoint: breakpoints.leftCol, width: 1140 },\n\t\t\t\t\t\t{ breakpoint: breakpoints.wide, width: 1300 },\n\t\t\t\t\t];\n\t\t\t\t} else {\n\t\t\t\t\treturn [\n\t\t\t\t\t\t{ breakpoint: breakpoints.mobile, width: 465 },\n\t\t\t\t\t\t{ breakpoint: breakpoints.mobileLandscape, width: 645 },\n\t\t\t\t\t\t{ breakpoint: breakpoints.phablet, width: 660 },\n\t\t\t\t\t\t{ breakpoint: breakpoints.tablet, width: 700 }, // desktop is also 700px\n\t\t\t\t\t\t{ breakpoint: breakpoints.leftCol, width: 940 },\n\t\t\t\t\t\t{ breakpoint: breakpoints.wide, width: 1020 },\n\t\t\t\t\t];\n\t\t\t\t}\n\t\t\t}\n\t\t\tdefault:\n\t\t\t\treturn [\n\t\t\t\t\t{ breakpoint: breakpoints.mobile, width: 465 },\n\t\t\t\t\t{ breakpoint: breakpoints.mobileLandscape, width: 645 },\n\t\t\t\t\t{ breakpoint: breakpoints.phablet, width: 620 },\n\t\t\t\t\t{ breakpoint: breakpoints.tablet, width: 700 },\n\t\t\t\t\t{ breakpoint: breakpoints.desktop, width: 620 },\n\t\t\t\t];\n\t\t}\n\t} else if (\n\t\tformat.design === ArticleDesign.LiveBlog ||\n\t\tformat.design === ArticleDesign.DeadBlog\n\t) {\n\t\tswitch (role) {\n\t\t\tcase 'thumbnail':\n\t\t\t\treturn [\n\t\t\t\t\t{ breakpoint: breakpoints.mobile, width: 120 }, // mobileLandscape and tablet are also 120px\n\t\t\t\t\t{ breakpoint: breakpoints.tablet, width: 140 }, // desktop, leftCol and wide are also 140px\n\t\t\t\t];\n\t\t\tcase 'showcase':\n\t\t\tcase 'immersive':\n\t\t\tcase 'supporting':\n\t\t\tcase 'halfWidth':\n\t\t\t\treturn [{ breakpoint: breakpoints.mobile, width: 445 }];\n\t\t\tcase 'inline':\n\t\t\tdefault:\n\t\t\t\treturn [\n\t\t\t\t\t{ breakpoint: breakpoints.mobile, width: 465 },\n\t\t\t\t\t{ breakpoint: breakpoints.phablet, width: 700 },\n\t\t\t\t];\n\t\t}\n\t} else {\n\t\tswitch (role) {\n\t\t\tcase 'showcase':\n\t\t\t\treturn [\n\t\t\t\t\t{ breakpoint: breakpoints.mobile, width: 445 },\n\t\t\t\t\t{ breakpoint: breakpoints.mobileLandscape, width: 605 },\n\t\t\t\t\t{ breakpoint: breakpoints.phablet, width: 620 }, // tablet is also 620px\n\t\t\t\t\t{ breakpoint: breakpoints.desktop, width: 640 },\n\t\t\t\t\t{ breakpoint: breakpoints.leftCol, width: 800 },\n\t\t\t\t\t{ breakpoint: breakpoints.wide, width: 880 },\n\t\t\t\t];\n\t\t\tcase 'supporting':\n\t\t\t\treturn [\n\t\t\t\t\t{ breakpoint: breakpoints.mobile, width: 445 },\n\t\t\t\t\t{ breakpoint: breakpoints.mobileLandscape, width: 605 },\n\t\t\t\t\t{ breakpoint: breakpoints.phablet, width: 620 }, // tablet is also 620px\n\t\t\t\t\t{ breakpoint: breakpoints.desktop, width: 300 }, // leftCol is also 300px\n\t\t\t\t\t{ breakpoint: breakpoints.wide, width: 380 },\n\t\t\t\t];\n\t\t\tcase 'thumbnail':\n\t\t\t\treturn [\n\t\t\t\t\t{ breakpoint: breakpoints.mobile, width: 120 }, // mobileLandscape and tablet are also 120px\n\t\t\t\t\t{ breakpoint: breakpoints.tablet, width: 140 }, // desktop, leftCol and wide are also 140px\n\t\t\t\t];\n\t\t\tcase 'immersive':\n\t\t\t\treturn [\n\t\t\t\t\t{ breakpoint: breakpoints.mobile, width: 465 },\n\t\t\t\t\t{ breakpoint: breakpoints.mobileLandscape, width: 645 },\n\t\t\t\t\t{ breakpoint: breakpoints.phablet, width: 725 },\n\t\t\t\t\t{ breakpoint: breakpoints.tablet, width: 965 },\n\t\t\t\t\t{ breakpoint: breakpoints.desktop, width: 1125 },\n\t\t\t\t\t{ breakpoint: breakpoints.leftCol, width: 1140 },\n\t\t\t\t\t{ breakpoint: breakpoints.wide, width: 1300 },\n\t\t\t\t];\n\t\t\tcase 'halfWidth':\n\t\t\t\treturn [{ breakpoint: breakpoints.mobile, width: 445 }];\n\t\t\tcase 'inline':\n\t\t\tdefault:\n\t\t\t\treturn [\n\t\t\t\t\t{ breakpoint: breakpoints.mobile, width: 445 },\n\t\t\t\t\t{ breakpoint: breakpoints.mobileLandscape, width: 605 },\n\t\t\t\t\t{ breakpoint: breakpoints.phablet, width: 620 },\n\t\t\t\t];\n\t\t}\n\t}\n};\n\n/**\n * Generates a URL for calling the Fastly Image Optimiser.\n *\n * @see https://developer.fastly.com/reference/io/\n * @see https://github.com/guardian/fastly-image-service/blob/main/fastly-io_guim_co_uk/src/main/resources/varnish/main.vcl\n *\n */\nconst generateImageURL = ({\n\tmaster,\n\timageWidth,\n\tresolution,\n}: {\n\tmaster: string;\n\timageWidth: number;\n\tresolution: 'low' | 'high';\n}): string => {\n\tconst url = new URL(master);\n\n\t// In CODE, we do not generate optimised replacement images\n\tif (url.hostname === 's3-eu-west-1.amazonaws.com') return url.href;\n\n\tconst service = url.hostname.split('.')[0] ?? '';\n\n\tconst params = new URLSearchParams({\n\t\twidth: imageWidth.toString(),\n\t\t// Why 45 and 85?\n\t\t// This numbers have been picked in 2018 as the right\n\t\t// balance between image fidelity and file size\n\t\t// https://github.com/guardian/fastly-image-service/pull/35\n\t\t...(resolution === 'high'\n\t\t\t? { quality: '45', dpr: '2' }\n\t\t\t: { quality: '85', dpr: '1' }),\n\t\ts: 'none',\n\t});\n\n\treturn `https://i.guim.co.uk/img/${service}${\n\t\turl.pathname\n\t}?${params.toString()}`;\n};\n\nconst descendingByBreakpoint = (a: ImageWidthType, b: ImageWidthType) => {\n\t// We need to list the largest images first as browsers read top down and stop\n\t// as soon as they hit a matching media query\n\treturn b.breakpoint - a.breakpoint;\n};\n\n/**\n * Used on `picture` and `img` to prevent having a line-height,\n * as these elements are which are `inline` by default.\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/HTML/Element/img#styling_with_css\n */\nconst block = css`\n\tdisplay: block;\n`;\n\ntype ImageSource = {\n\tbreakpoint: number;\n\twidth: number;\n\thiResUrl: string;\n\tlowResUrl: string;\n};\n\n/**\n * Generate image sources for an image.\n *\n * @param master source image URL\n * @param imageWidths list of image widths\n */\nexport const generateSources = (\n\tmaster: string,\n\timageWidths: [ImageWidthType, ...ImageWidthType[]],\n): ImageSource[] =>\n\timageWidths\n\t\t.slice()\n\t\t.sort(descendingByBreakpoint)\n\t\t.map(({ width: imageWidth, breakpoint }) => {\n\t\t\treturn {\n\t\t\t\tbreakpoint,\n\t\t\t\twidth: imageWidth,\n\t\t\t\thiResUrl: generateImageURL({\n\t\t\t\t\tmaster,\n\t\t\t\t\timageWidth,\n\t\t\t\t\tresolution: 'high',\n\t\t\t\t}),\n\t\t\t\tlowResUrl: generateImageURL({\n\t\t\t\t\tmaster,\n\t\t\t\t\timageWidth,\n\t\t\t\t\tresolution: 'low',\n\t\t\t\t}),\n\t\t\t};\n\t\t});\n\n/**\n * The assumption here is readers on devices that do not support srcset\n * are likely to be on poor network connections so we're going\n * to fallback to the smallest image.\n *\n * Sources are ordered in `descendingByBreakpoint` order,\n * so the last one is the smallest.\n */\nexport const getFallbackSource = (sources: ImageSource[]): ImageSource => {\n\tconst [fallback] = sources.slice(-1);\n\tif (!fallback) throw new Error('No fallback images found');\n\treturn fallback;\n};\n\nexport const Picture = ({\n\trole,\n\tformat,\n\tmaster,\n\talt,\n\theight,\n\twidth,\n\tisMainMedia = false,\n\tisLazy = true,\n}: Props) => {\n\tconst sources = generateSources(\n\t\tmaster,\n\t\tdecideImageWidths({ role, format, isMainMedia }),\n\t);\n\n\tconst ratio = parseInt(height, 10) / parseInt(width, 10);\n\n\tconst fallbackSource = getFallbackSource(sources);\n\n\treturn (\n\t\t<picture css={block}>\n\t\t\t{/* Immersive Main Media images get additional sources specifically for when in portrait orientation */}\n\t\t\t{format.display === ArticleDisplay.Immersive && isMainMedia && (\n\t\t\t\t<>\n\t\t\t\t\t{/*\n\t\t\t\t\t\tImmersive MainMedia elements fill the height of the viewport, meaning on mobile\n\t\t\t\t\t\tdevices even though the viewport width is small, we'll need a larger image to\n\t\t\t\t\t\tmaintain quality. To solve this problem we're using the viewport height (vh) to\n\t\t\t\t\t\tcalculate width. The value of 167vh relates to an assumed image ratio of 5:3\n\t\t\t\t\t\twhich is equal to 167 (viewport height) : 100 (viewport width)\n\n\t\t\t\t\t\tIf either of these media queries match then the browser will choose an image from the\n\t\t\t\t\t\tlist of sources in srcset based on the viewport list. If the media query doesn't match\n\t\t\t\t\t\tit continues checking using the standard sources underneath\n\t\t\t\t\t*/}\n\t\t\t\t\t{/* High resolution (HDPI) portrait sources*/}\n\t\t\t\t\t<source\n\t\t\t\t\t\tmedia=\"(orientation: portrait) and (-webkit-min-device-pixel-ratio: 1.25), (orientation: portrait) and (min-resolution: 120dpi)\"\n\t\t\t\t\t\tsizes=\"167vh\"\n\t\t\t\t\t\tsrcSet={sources\n\t\t\t\t\t\t\t.map(\n\t\t\t\t\t\t\t\t(source) =>\n\t\t\t\t\t\t\t\t\t`${source.hiResUrl} ${source.width}w`,\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t.join(',')}\n\t\t\t\t\t/>\n\t\t\t\t\t{/* Low resolution (MDPI) portrait sources*/}\n\t\t\t\t\t<source\n\t\t\t\t\t\tmedia=\"(orientation: portrait)\"\n\t\t\t\t\t\tsizes=\"167vh\"\n\t\t\t\t\t\tsrcSet={sources\n\t\t\t\t\t\t\t.map(\n\t\t\t\t\t\t\t\t(source) =>\n\t\t\t\t\t\t\t\t\t`${source.lowResUrl} ${source.width}w`,\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t.join(',')}\n\t\t\t\t\t/>\n\t\t\t\t</>\n\t\t\t)}\n\t\t\t{sources.map((source) => {\n\t\t\t\treturn (\n\t\t\t\t\t<React.Fragment key={source.breakpoint}>\n\t\t\t\t\t\t{/* High resolution (HDPI) sources*/}\n\t\t\t\t\t\t<source\n\t\t\t\t\t\t\tsrcSet={source.hiResUrl}\n\t\t\t\t\t\t\tmedia={`(min-width: ${source.breakpoint}px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: ${source.breakpoint}px) and (min-resolution: 120dpi)`}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{/* Low resolution (MDPI) source*/}\n\t\t\t\t\t\t<source\n\t\t\t\t\t\t\tsrcSet={source.lowResUrl}\n\t\t\t\t\t\t\tmedia={`(min-width: ${source.breakpoint}px)`}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</React.Fragment>\n\t\t\t\t);\n\t\t\t})}\n\n\t\t\t<img\n\t\t\t\talt={alt}\n\t\t\t\tsrc={fallbackSource.lowResUrl}\n\t\t\t\twidth={fallbackSource.width}\n\t\t\t\theight={fallbackSource.width * ratio}\n\t\t\t\tloading={\n\t\t\t\t\tisLazy && !Picture.disableLazyLoading ? 'lazy' : undefined\n\t\t\t\t}\n\t\t\t\tcss={block}\n\t\t\t/>\n\t\t</picture>\n\t);\n};\n\n// We use disableLazyLoading to decide if we want to turn off lazy loading of images site wide. We use this\n// to prevent false negatives on Chromatic snapshots (see /.storybook/config)\nPicture.disableLazyLoading = false;\n","import { css, keyframes } from '@emotion/react';\nimport { neutral, space } from '@guardian/source-foundations';\n\nconst BACKGROUND_COLOUR = neutral[93];\n\ntype Props = {\n\theight: number;\n\trootId?: string;\n\twidth?: number;\n\tspaceBelow?: 1 | 2 | 3 | 4 | 5 | 6 | 9;\n\tspaceLeft?: 1 | 2 | 3 | 4 | 5 | 6 | 9;\n\tshouldShimmer?: boolean;\n\tbackgroundColor?: string;\n};\n\nconst shimmer = keyframes`\n  0% {\n    background-position: -1500px 0;\n  }\n  100% {\n    background-position: 1500px 0;\n  }\n`;\n\nconst shimmerStyles = (backgroundColor: string) => css`\n\tanimation: ${shimmer} 2s infinite linear;\n\tbackground: linear-gradient(\n\t\tto right,\n\t\t${backgroundColor} 4%,\n\t\twhite 25%,\n\t\t${backgroundColor} 36%\n\t);\n\tbackground-size: 1500px 100%;\n`;\n\nexport const Placeholder = ({\n\theight,\n\trootId,\n\twidth,\n\tspaceBelow,\n\tspaceLeft,\n\tshouldShimmer = true,\n\tbackgroundColor = BACKGROUND_COLOUR,\n}: Props) => (\n\t<div\n\t\tid={rootId}\n\t\tcss={css`\n\t\t\tflex-grow: 1;\n\t\t`}\n\t\tdata-name=\"placeholder\"\n\t>\n\t\t<div\n\t\t\tcss={css`\n\t\t\t\theight: ${height}px;\n\t\t\t\twidth: ${width !== undefined ? `${width}px` : '100%'};\n\t\t\t\tmargin-bottom: ${spaceBelow && space[spaceBelow]}px;\n\t\t\t\tmargin-left: ${spaceLeft && space[spaceLeft]}px;\n\t\t\t\tbackground-color: ${backgroundColor};\n\n\t\t\t\t${shouldShimmer && shimmerStyles(backgroundColor)}\n\t\t\t`}\n\t\t/>\n\t</div>\n);\n","import { ProfileAtom } from '@guardian/atoms-rendering';\nimport type { ProfileAtomType } from '@guardian/atoms-rendering';\n\nexport const ProfileAtomWrapper = (props: ProfileAtomType) => {\n\treturn <ProfileAtom {...props} />;\n};\n","import { QandaAtom } from '@guardian/atoms-rendering';\nimport type { QandaAtomType } from '@guardian/atoms-rendering';\n\nexport const QandaAtomWrapper = (props: QandaAtomType) => {\n\treturn <QandaAtom {...props} />;\n};\n","import { css } from '@emotion/react';\n\nconst quoteStyles = (colour: string) => css`\n\theight: 1em;\n\twidth: 1.5em;\n\tmargin-right: 3px;\n\tvertical-align: baseline;\n\tfill: ${colour};\n`;\n\ntype Props = {\n\tcolour: string;\n};\n\n/**\n * An inline quote icon (“) sized to match the font size.\n */\nexport const QuoteIcon = ({ colour }: Props) => (\n\t/* This viewBox is narrower than Source’s SvgQuote */\n\t<svg viewBox=\"4 4 24 16\" css={quoteStyles(colour)}>\n\t\t<path d=\"M9.2776 8H14.0473C13.4732 12.5489 12.9653 17.0095 12.7445 22H4C4.79495 17.142 6.4511 12.5489 9.2776 8ZM20.3852 8H25.0887C24.5808 12.5489 24.0067 17.0095 23.7859 22H15.0635C15.9688 17.142 17.5587 12.5489 20.3852 8Z\" />\n\t</svg>\n);\n","import { useEffect } from 'react';\nimport type { ReaderRevenueDevUtils } from '../lib/readerRevenueDevUtils';\n\ntype Props = {\n\tshouldHideReaderRevenue: boolean;\n};\n\nexport const ReaderRevenueDev = ({ shouldHideReaderRevenue }: Props) => {\n\tuseEffect(() => {\n\t\t// Used internally only, so only import each function on demand\n\t\tconst loadAndRun =\n\t\t\t<K extends keyof ReaderRevenueDevUtils>(key: K) =>\n\t\t\t(asExistingSupporter: boolean) =>\n\t\t\t\timport(\n\t\t\t\t\t/* webpackChunkName: \"readerRevenueDevUtils\" */ '../lib/readerRevenueDevUtils'\n\t\t\t\t)\n\t\t\t\t\t.then((utils) =>\n\t\t\t\t\t\tutils[key](\n\t\t\t\t\t\t\tasExistingSupporter,\n\t\t\t\t\t\t\tshouldHideReaderRevenue,\n\t\t\t\t\t\t),\n\t\t\t\t\t)\n\n\t\t\t\t\t.catch((error) =>\n\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t'Error loading readerRevenueDevUtils',\n\t\t\t\t\t\t\terror,\n\t\t\t\t\t\t),\n\t\t\t\t\t);\n\n\t\t// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition, @typescript-eslint/strict-boolean-expressions -- window.guardian may be missing?\n\t\tif (window?.guardian) {\n\t\t\twindow.guardian.readerRevenue = {\n\t\t\t\tchangeGeolocation: loadAndRun('changeGeolocation'),\n\t\t\t\tshowMeTheEpic: loadAndRun('showMeTheEpic'),\n\t\t\t\tshowMeTheBanner: loadAndRun('showMeTheBanner'),\n\t\t\t\tshowNextVariant: loadAndRun('showNextVariant'),\n\t\t\t\tshowPreviousVariant: loadAndRun('showPreviousVariant'),\n\t\t\t};\n\t\t}\n\t}, [shouldHideReaderRevenue]);\n\n\treturn null;\n};\n","import { css } from '@emotion/react';\nimport type { OphanABTestMeta, OphanComponentEvent } from '@guardian/libs';\nimport { getCookie } from '@guardian/libs';\nimport {\n\tbrandAlt,\n\tbrandText,\n\tfrom,\n\theadline,\n\tneutral,\n\tspace,\n\ttextSans,\n\tuntil,\n} from '@guardian/source-foundations';\nimport { getHeader } from '@guardian/support-dotcom-components';\nimport type {\n\tHeaderPayload,\n\tModuleData,\n\tModuleDataResponse,\n} from '@guardian/support-dotcom-components/dist/dotcom/src/types';\nimport { useEffect, useState } from 'react';\nimport ArrowRightIcon from '../../static/icons/arrow-right.svg';\nimport type { OphanRecordFunction } from '../browser/ophan/ophan';\nimport {\n\tgetOphanRecordFunction,\n\tsendOphanComponentEvent,\n\tsubmitComponentEvent,\n} from '../browser/ophan/ophan';\nimport { addTrackingCodesToUrl } from '../lib/acquisitions';\nimport {\n\tgetLastOneOffContributionDate,\n\tgetPurchaseInfo,\n\tMODULES_VERSION,\n\tshouldHideSupportMessaging,\n} from '../lib/contributions';\nimport type { EditionId } from '../lib/edition';\nimport { getLocaleCode } from '../lib/getCountryCode';\nimport { setAutomat } from '../lib/setAutomat';\nimport { useIsInView } from '../lib/useIsInView';\nimport { useOnce } from '../lib/useOnce';\n\ntype Props = {\n\teditionId: EditionId;\n\tdataLinkNamePrefix: string;\n\tinHeader: boolean;\n\tremoteHeader: boolean;\n\tcontributionsServiceUrl: string;\n\turls: {\n\t\tsubscribe: string;\n\t\tsupport: string;\n\t\tcontribute: string;\n\t};\n};\n\nconst headerStyles = css`\n\tpadding-top: 39px;\n\tpadding-left: 10px;\n\tmax-width: 310px;\n\n\t${from.mobileMedium} {\n\t\tpadding-top: 44px;\n\t}\n\n\t${from.mobileLandscape} {\n\t\tpadding-left: ${space[5]}px;\n\t}\n\n\t${from.tablet} {\n\t\tpadding-top: ${space[1]}px;\n\t\tpadding-bottom: ${space[5]}px;\n\t\tpadding-left: ${space[5]}px;\n\t\tmax-width: 340px;\n\t}\n\n\t${from.desktop} {\n\t\tmax-width: none;\n\t}\n`;\n\nconst messageStyles = (isThankYouMessage: boolean) => css`\n\tcolor: ${brandAlt[400]};\n\t${headline.xxsmall({ fontWeight: 'bold' })};\n\tpadding-top: 3px;\n\tmargin-bottom: 3px;\n\n\t${from.desktop} {\n\t\t${headline.xsmall({ fontWeight: 'bold' })}\n\t}\n\n\t${from.leftCol} {\n\t\t${isThankYouMessage\n\t\t\t? headline.small({ fontWeight: 'bold' })\n\t\t\t: headline.medium({ fontWeight: 'bold' })}\n\t}\n`;\n\nconst linkStyles = css`\n\tbackground: ${brandAlt[400]};\n\tborder-radius: 16px;\n\tbox-sizing: border-box;\n\tcolor: ${neutral[7]};\n\tfloat: left;\n\t${textSans.small()};\n\tfont-weight: 700;\n\theight: 32px;\n\ttext-decoration: none;\n\tpadding: 6px 12px 0 12px;\n\tline-height: 18px;\n\tposition: relative;\n\tmargin-right: 10px;\n\tmargin-bottom: 6px;\n\n\t${from.mobileMedium} {\n\t\tpadding-right: 34px;\n\t}\n\n\tsvg {\n\t\tfill: currentColor;\n\t\tposition: absolute;\n\t\tright: 3px;\n\t\ttop: 50%;\n\t\theight: 32px;\n\t\twidth: 32px;\n\t\ttransform: translate(0, -50%);\n\t\ttransition: transform 0.3s ease-in-out;\n\n\t\t${until.mobileMedium} {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t:hover svg {\n\t\ttransform: translate(3px, -50%);\n\t}\n`;\n\nconst hidden = css`\n\tdisplay: none;\n`;\n\nconst hiddenUntilTablet = css`\n\t${until.tablet} {\n\t\tdisplay: none;\n\t}\n`;\n\nconst hiddenFromTablet = css`\n\t${from.tablet} {\n\t\tdisplay: none;\n\t}\n`;\n\nconst subMessageStyles = css`\n\tcolor: ${brandText.primary};\n\t${textSans.medium()};\n\tmargin: 5px 0;\n`;\n\ntype SupportHeaderType = React.ElementType<\n\tModuleData['props'] & {\n\t\tsubmitComponentEvent: (componentEvent: OphanComponentEvent) => void;\n\t}\n>;\n\ntype ReaderRevenueLinksRemoteProps = {\n\tcountryCode: string;\n\tpageViewId: string;\n\tcontributionsServiceUrl: string;\n\tophanRecord: OphanRecordFunction;\n};\n\nconst ReaderRevenueLinksRemote = ({\n\tcountryCode,\n\tpageViewId,\n\tcontributionsServiceUrl,\n\tophanRecord,\n}: ReaderRevenueLinksRemoteProps) => {\n\tconst [supportHeaderResponse, setSupportHeaderResponse] =\n\t\tuseState<ModuleData | null>(null);\n\tconst [SupportHeader, setSupportHeader] =\n\t\tuseState<SupportHeaderType | null>(null);\n\n\tuseOnce((): void => {\n\t\tsetAutomat();\n\n\t\tconst isSignedIn = !!getCookie({ name: 'GU_U', shouldMemoize: true });\n\t\tconst requestData: HeaderPayload = {\n\t\t\ttracking: {\n\t\t\t\tophanPageId: pageViewId,\n\t\t\t\tplatformId: 'GUARDIAN_WEB',\n\t\t\t\treferrerUrl: window.location.origin + window.location.pathname,\n\t\t\t\tclientName: 'dcr',\n\t\t\t},\n\t\t\ttargeting: {\n\t\t\t\tshowSupportMessaging: !shouldHideSupportMessaging(),\n\t\t\t\tcountryCode,\n\t\t\t\tmodulesVersion: MODULES_VERSION,\n\t\t\t\tmvtId: Number(\n\t\t\t\t\tgetCookie({ name: 'GU_mvt_id', shouldMemoize: true }),\n\t\t\t\t),\n\t\t\t\tlastOneOffContributionDate: getLastOneOffContributionDate(),\n\t\t\t\tpurchaseInfo: getPurchaseInfo(),\n\t\t\t\tisSignedIn,\n\t\t\t},\n\t\t};\n\t\tgetHeader(contributionsServiceUrl, requestData)\n\t\t\t.then((response: ModuleDataResponse) => {\n\t\t\t\tif (!response.data) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\tconst { module } = response.data;\n\t\t\t\tsetSupportHeaderResponse(module);\n\n\t\t\t\treturn window\n\t\t\t\t\t.guardianPolyfilledImport(module.url)\n\t\t\t\t\t.then(\n\t\t\t\t\t\t(headerModule: {\n\t\t\t\t\t\t\t[key: string]: SupportHeaderType;\n\t\t\t\t\t\t}) => {\n\t\t\t\t\t\t\tsetSupportHeader(\n\t\t\t\t\t\t\t\t() => headerModule[module.name] ?? null,\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t},\n\t\t\t\t\t);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconst msg = `Error importing RR header links: ${String(error)}`;\n\n\t\t\t\tconsole.log(msg);\n\t\t\t\twindow.guardian.modules.sentry.reportError(\n\t\t\t\t\tnew Error(msg),\n\t\t\t\t\t'rr-header-links',\n\t\t\t\t);\n\t\t\t});\n\t}, [countryCode]);\n\n\tif (SupportHeader !== null && supportHeaderResponse) {\n\t\treturn (\n\t\t\t<div css={headerStyles}>\n\t\t\t\t{}\n\t\t\t\t<SupportHeader\n\t\t\t\t\tsubmitComponentEvent={(\n\t\t\t\t\t\tcomponentEvent: OphanComponentEvent,\n\t\t\t\t\t) => submitComponentEvent(componentEvent, ophanRecord)}\n\t\t\t\t\t{...supportHeaderResponse.props}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn null;\n};\n\ntype ReaderRevenueLinksNativeProps = {\n\teditionId: EditionId;\n\tdataLinkNamePrefix: string;\n\tinHeader: boolean;\n\turls: {\n\t\tsubscribe: string;\n\t\tsupport: string;\n\t\tcontribute: string;\n\t};\n\tophanRecord: OphanRecordFunction;\n\tpageViewId: string;\n};\n\nconst ReaderRevenueLinksNative = ({\n\teditionId,\n\tdataLinkNamePrefix,\n\tinHeader,\n\turls,\n\tophanRecord,\n\tpageViewId,\n}: ReaderRevenueLinksNativeProps) => {\n\tconst hideSupportMessaging = shouldHideSupportMessaging();\n\n\t// Only the header component is in the AB test\n\tconst testName = inHeader ? 'RRHeaderLinks' : 'RRFooterLinks';\n\tconst campaignCode = `${testName}_control`;\n\tconst tracking: OphanABTestMeta = {\n\t\tabTestName: testName,\n\t\tabTestVariant: 'control',\n\t\tcomponentType: inHeader ? 'ACQUISITIONS_HEADER' : 'ACQUISITIONS_FOOTER',\n\t\tcampaignCode,\n\t};\n\n\tconst [hasBeenSeen, setNode] = useIsInView({\n\t\tthreshold: 0,\n\t\tdebounce: true,\n\t});\n\n\tuseEffect(() => {\n\t\tif (!hideSupportMessaging && inHeader) {\n\t\t\tsendOphanComponentEvent('INSERT', tracking, ophanRecord);\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif (hasBeenSeen && inHeader) {\n\t\t\tsendOphanComponentEvent('VIEW', tracking, ophanRecord);\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [hasBeenSeen]);\n\n\tconst getUrl = (rrType: 'contribute' | 'subscribe'): string => {\n\t\tif (inHeader) {\n\t\t\treturn addTrackingCodesToUrl({\n\t\t\t\tbase: `https://support.theguardian.com/${rrType}`,\n\t\t\t\tcomponentType: 'ACQUISITIONS_HEADER',\n\t\t\t\tcomponentId: campaignCode,\n\t\t\t\tcampaignCode,\n\t\t\t\tabTest: {\n\t\t\t\t\tname: testName,\n\t\t\t\t\tvariant: 'control',\n\t\t\t\t},\n\t\t\t\tpageViewId,\n\t\t\t\treferrerUrl: window.location.origin + window.location.pathname,\n\t\t\t});\n\t\t}\n\t\treturn urls[rrType];\n\t};\n\n\tif (hideSupportMessaging) {\n\t\treturn (\n\t\t\t<div css={inHeader && headerStyles}>\n\t\t\t\t<div css={inHeader && hiddenUntilTablet}>\n\t\t\t\t\t<div css={messageStyles(true)}> Thank you </div>\n\t\t\t\t\t<div css={subMessageStyles}>\n\t\t\t\t\t\tYour support powers our independent journalism\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tconst ContributeButton = () => (\n\t\t<a\n\t\t\tcss={linkStyles}\n\t\t\thref={getUrl('contribute')}\n\t\t\tdata-link-name={`${dataLinkNamePrefix}contribute-cta`}\n\t\t>\n\t\t\tContribute <ArrowRightIcon />\n\t\t</a>\n\t);\n\tconst SubscribeButton = () => (\n\t\t<a\n\t\t\tcss={linkStyles}\n\t\t\thref={getUrl('subscribe')}\n\t\t\tdata-link-name={`${dataLinkNamePrefix}subscribe-cta`}\n\t\t>\n\t\t\tSubscribe <ArrowRightIcon />\n\t\t</a>\n\t);\n\tconst SupportButton = () => (\n\t\t<a\n\t\t\tcss={linkStyles}\n\t\t\thref={getUrl('contribute')}\n\t\t\tdata-link-name={`${dataLinkNamePrefix}subscribe-cta`}\n\t\t>\n\t\t\tSupport us <ArrowRightIcon />\n\t\t</a>\n\t);\n\tconst PrimaryButton =\n\t\teditionId === 'UK' ? SubscribeButton : ContributeButton;\n\tconst SecondaryButton =\n\t\teditionId === 'UK' ? ContributeButton : SubscribeButton;\n\n\treturn (\n\t\t<div ref={setNode} css={inHeader && headerStyles}>\n\t\t\t<div css={inHeader && hiddenUntilTablet}>\n\t\t\t\t<div css={messageStyles(false)}>\n\t\t\t\t\t<span>Support the&nbsp;Guardian</span>\n\t\t\t\t</div>\n\t\t\t\t<div css={subMessageStyles}>\n\t\t\t\t\t<div>Available for everyone, funded by readers</div>\n\t\t\t\t</div>\n\t\t\t\t{/* When in the header, we can assume a remote header is being pulled in */}\n\t\t\t\t{inHeader ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<PrimaryButton />\n\t\t\t\t\t\t<SecondaryButton />\n\t\t\t\t\t</>\n\t\t\t\t) : (\n\t\t\t\t\t<SupportButton />\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t<div css={inHeader ? hiddenFromTablet : hidden}>\n\t\t\t\t<PrimaryButton />\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport const ReaderRevenueLinks = ({\n\teditionId,\n\tdataLinkNamePrefix,\n\tinHeader,\n\tremoteHeader,\n\turls,\n\tcontributionsServiceUrl,\n}: Props) => {\n\tconst [countryCode, setCountryCode] = useState<string>();\n\tconst pageViewId = window.guardian.config.ophan.pageViewId;\n\tconst ophanRecord = getOphanRecordFunction();\n\n\tuseEffect(() => {\n\t\tconst callFetch = () => {\n\t\t\tgetLocaleCode()\n\t\t\t\t.then((cc) => {\n\t\t\t\t\tsetCountryCode(cc ?? '');\n\t\t\t\t})\n\t\t\t\t.catch((e) =>\n\t\t\t\t\tconsole.error(`countryCodePromise - error: ${String(e)}`),\n\t\t\t\t);\n\t\t};\n\t\tcallFetch();\n\t}, []);\n\n\tif (countryCode) {\n\t\tif (inHeader && remoteHeader) {\n\t\t\treturn (\n\t\t\t\t<ReaderRevenueLinksRemote\n\t\t\t\t\tcountryCode={countryCode}\n\t\t\t\t\tpageViewId={pageViewId}\n\t\t\t\t\tcontributionsServiceUrl={contributionsServiceUrl}\n\t\t\t\t\tophanRecord={ophanRecord}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<ReaderRevenueLinksNative\n\t\t\t\teditionId={editionId}\n\t\t\t\tdataLinkNamePrefix={dataLinkNamePrefix}\n\t\t\t\tinHeader={inHeader}\n\t\t\t\turls={urls}\n\t\t\t\tophanRecord={ophanRecord}\n\t\t\t\tpageViewId={pageViewId}\n\t\t\t/>\n\t\t);\n\t}\n\n\treturn null;\n};\n","import { css } from '@emotion/react';\nimport { isString, isUndefined, log } from '@guardian/libs';\nimport { lifestyle, space, textSans } from '@guardian/source-foundations';\nimport { Button, SvgMinus, SvgPlus } from '@guardian/source-react-components';\nimport type { ChangeEventHandler } from 'react';\nimport { useEffect, useState } from 'react';\nimport { useOnce } from '../lib/useOnce';\n\nconst colours = `\ngu-recipe {\n\tcolor: ${lifestyle[100]};\n\tbackground-color: ${lifestyle[800]};\n\tfont-weight: bold;\n}\n`;\n\nconst styles = css`\n\t${textSans.small()}\n\tposition: sticky;\n\tz-index: 1;\n\tdisplay: grid;\n\tgrid-template-columns: 6fr repeat(3, 1fr);\n\ttop: 0;\n\tcolor: ${lifestyle[100]};\n\tbackground-color: ${lifestyle[800]};\n\tpadding: ${space[2]}px;\n`;\n\nconst min = 0.5;\nconst max = 24;\n\nconst units = ['g', 'l'] as const;\nconst isUnit = (unit: string): unit is (typeof units)[number] =>\n\t//@ts-expect-error -- custom type guard\n\tunits.includes(unit);\n\nconst isServer = typeof document === 'undefined';\n\n/** These values should not update based on servings  */\nconst constants = [\n\t's',\n\t'second',\n\t'seconds',\n\t'min',\n\t'minute',\n\t'minutes',\n\t'hr',\n\t'hour',\n\t'hours',\n\t'C',\n\t'c',\n\t'cm',\n\t'mm',\n] as const;\nconst isConstant = (time?: string): time is (typeof constants)[number] =>\n\tisString(time) &&\n\t//@ts-expect-error -- custom type guard\n\tconstants.includes(time);\n\nconst fractions = new Map([\n\t['½', 0.5],\n\t['⅓', 0.3333],\n\t['⅔', 0.6667],\n\t['¼', 0.25],\n\t['¾', 0.75],\n\t['⅕', 0.2],\n\t['⅖', 0.4],\n\t['⅗', 0.6],\n\t['⅘', 0.8],\n\t['⅙', 0.1667],\n\t['⅚', 0.8333],\n\t['⅐', 0.1429],\n\t['⅛', 0.125],\n\t['⅜', 0.375],\n\t['⅝', 0.625],\n\t['⅞', 0.875],\n\t['⅑', 0.1111],\n\t['⅒', 0.1],\n]);\n\n/** Pick any numeric value or range, followed by its unit */\nconst RECIPE_ELEMENTS = new RegExp(\n\t[\n\t\t// Start after a word is broken, or Makes / Serves\n\t\t`(?:${['', 'Serves ', 'Makes '].join('|')})`,\n\t\t// `value` capturing group\n\t\t`(?<value>${[\n\t\t\t'\\\\d+',\n\t\t\t'\\\\d+-\\\\d+',\n\t\t\t'\\\\d+/\\\\d+',\n\t\t\t...fractions.keys(),\n\t\t].join('|')})`,\n\t\t// `separator` capturing group\n\t\t'(?:(?<separator> ?)',\n\t\t// `unit` capturing group\n\t\t'(?<unit>[a-z]+?\\\\b)|(?=<))',\n\t].join(''),\n\t'i',\n);\n\nconst serves = isServer\n\t? 1\n\t: parseFloat(\n\t\t\tdocument.querySelector<HTMLElement>('gu-recipe[serves]')?.dataset\n\t\t\t\t.value ?? '1',\n\t  );\n\nconst transform = ({\n\tvalue,\n\tseparator,\n\tunit,\n}: {\n\tvalue: number[];\n\tseparator: string;\n\tunit: string;\n}) => {\n\tconst [from, to] = value;\n\tif (from === undefined) return `Invalid value`;\n\tif (to !== undefined) {\n\t\treturn `${from}-${to}${separator}${unit}`;\n\t}\n\n\tif (isUnit(unit)) {\n\t\tconst round = Math.round(from / 5) * 5;\n\t\treturn `${round}${separator}${unit}`;\n\t}\n\n\tconst round = from > 1 ? Math.round(from) : Math.round(from * 100) / 100;\n\treturn `${round}${separator}${unit}`;\n};\n\nexport const RecipeMultiplier = () => {\n\tconst [servings, setServings] = useState<number>(serves);\n\tconst [multiplier, setMultiplier] = useState(1);\n\n\tuseOnce(() => {\n\t\tlog('dotcom', 'Injecting multiplier');\n\t\tconst style = document.createElement('style');\n\t\tstyle.innerHTML = colours;\n\t\tdocument.body.appendChild(style);\n\n\t\tconst root = document.querySelector(\n\t\t\t'gu-island[name=RecipeMultiplier]',\n\t\t)?.nextSibling;\n\n\t\tif (root instanceof HTMLElement) {\n\t\t\tconst walker = document.createTreeWalker(\n\t\t\t\troot,\n\t\t\t\tNodeFilter.SHOW_TEXT,\n\t\t\t\tnull,\n\t\t\t);\n\n\t\t\tlet node: Node | null;\n\n\t\t\twhile ((node = walker.nextNode())) {\n\t\t\t\tif (!(node instanceof Text)) continue;\n\n\t\t\t\tconst match =\n\t\t\t\t\tnode.nodeValue?.match(RECIPE_ELEMENTS) ?? undefined;\n\n\t\t\t\tif (!match) continue;\n\n\t\t\t\tconst { index, groups } = match;\n\t\t\t\tconst length = match[0].length;\n\n\t\t\t\tswitch (index) {\n\t\t\t\t\tcase undefined:\n\t\t\t\t\tcase -1: {\n\t\t\t\t\t\t// Do nothing\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tcase 0: {\n\t\t\t\t\t\t// Tom explained to me truthiness of 0 in JS. Ta.\n\t\t\t\t\t\tif (length) node.splitText(length);\n\t\t\t\t\t\tconst recipeElement =\n\t\t\t\t\t\t\tdocument.createElement('gu-recipe');\n\t\t\t\t\t\trecipeElement.textContent = node.textContent;\n\n\t\t\t\t\t\tif (isConstant(groups?.unit)) continue;\n\n\t\t\t\t\t\tObject.entries(groups ?? {})\n\t\t\t\t\t\t\t.map(([key, value]) => {\n\t\t\t\t\t\t\t\tconst [numerator, denominator] = value\n\t\t\t\t\t\t\t\t\t.split('/')\n\t\t\t\t\t\t\t\t\t.map(parseFloat);\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\tkey === 'value' &&\n\t\t\t\t\t\t\t\t\tvalue.includes('/') &&\n\t\t\t\t\t\t\t\t\tnumerator !== undefined &&\n\t\t\t\t\t\t\t\t\tdenominator !== undefined\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\treturn [\n\t\t\t\t\t\t\t\t\t\tkey,\n\t\t\t\t\t\t\t\t\t\t(numerator / denominator).toString(),\n\t\t\t\t\t\t\t\t\t] as const;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn [\n\t\t\t\t\t\t\t\t\tkey,\n\t\t\t\t\t\t\t\t\tfractions.get(value)?.toString() ?? value,\n\t\t\t\t\t\t\t\t] as const;\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.forEach(([key, value]) => {\n\t\t\t\t\t\t\t\trecipeElement.setAttribute(\n\t\t\t\t\t\t\t\t\t`data-${key}`,\n\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\tnode.parentNode?.insertBefore(recipeElement, node);\n\n\t\t\t\t\t\tnode.textContent = null;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tdefault: {\n\t\t\t\t\t\tnode.splitText(index);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlog('design', index, length, node.textContent);\n\t\t\t}\n\t\t}\n\t}, []);\n\n\tuseEffect(() => {\n\t\tconst element =\n\t\t\tdocument.querySelector<HTMLElement>('gu-recipe[serves]');\n\t\tif (element) element.innerText = servings.toString();\n\t\tsetMultiplier(servings / serves);\n\t}, [servings]);\n\n\tuseEffect(() => {\n\t\tdocument\n\t\t\t.querySelectorAll<HTMLElement>('gu-recipe')\n\t\t\t.forEach((element) => {\n\t\t\t\tconst { value, separator, unit } = element.dataset;\n\n\t\t\t\tif (isUndefined(value) || isUndefined(separator)) return;\n\n\t\t\t\tif (isUndefined(unit)) return;\n\n\t\t\t\telement.innerText = transform({\n\t\t\t\t\tvalue: value\n\t\t\t\t\t\t.split('-')\n\t\t\t\t\t\t.map(parseFloat)\n\t\t\t\t\t\t.map((v) => v * multiplier),\n\t\t\t\t\tseparator,\n\t\t\t\t\tunit,\n\t\t\t\t});\n\t\t\t});\n\t}, [multiplier]);\n\n\tconst handleChange: ChangeEventHandler<HTMLInputElement> = ({\n\t\ttarget: { value },\n\t}) => {\n\t\tconst float = Number.parseFloat(value);\n\n\t\tif (!Number.isNaN(float)) setServings(float);\n\t};\n\n\treturn (\n\t\t<ul css={styles}>\n\t\t\t<li>Serves {servings}</li>\n\t\t\t<li css={{ textAlign: 'center' }}>\n\t\t\t\t<Button\n\t\t\t\t\ticon={<SvgMinus />}\n\t\t\t\t\thideLabel={true}\n\t\t\t\t\tsize=\"xsmall\"\n\t\t\t\t\tdisabled={servings - 1 < min}\n\t\t\t\t\tcssOverrides={css`\n\t\t\t\t\t\tbackground-color: ${lifestyle[300]};\n\t\t\t\t\t`}\n\t\t\t\t\tonClick={() => setServings(servings - 1)}\n\t\t\t\t>\n\t\t\t\t\tsubtract 1 serving\n\t\t\t\t</Button>\n\t\t\t</li>\n\t\t\t<li\n\t\t\t\tcss={{\n\t\t\t\t\tfontWeight: 'bold',\n\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{servings}\n\t\t\t</li>\n\t\t\t<li css={{ textAlign: 'center' }}>\n\t\t\t\t<Button\n\t\t\t\t\ticon={<SvgPlus />}\n\t\t\t\t\thideLabel={true}\n\t\t\t\t\tsize=\"xsmall\"\n\t\t\t\t\tdisabled={servings + 1 > max}\n\t\t\t\t\tcssOverrides={css`\n\t\t\t\t\t\tbackground-color: ${lifestyle[300]};\n\t\t\t\t\t`}\n\t\t\t\t\tonClick={() => setServings(servings + 1)}\n\t\t\t\t>\n\t\t\t\t\tadd 1 serving\n\t\t\t\t</Button>\n\t\t\t</li>\n\t\t\t<li css={{ gridColumn: '1 / -1', accentColor: lifestyle[300] }}>\n\t\t\t\t<input\n\t\t\t\t\tcss={{ width: '100%', margin: 0 }}\n\t\t\t\t\ttype=\"range\"\n\t\t\t\t\tname=\"\"\n\t\t\t\t\tmin={min}\n\t\t\t\t\tmax={max}\n\t\t\t\t\tstep={0.5}\n\t\t\t\t\tvalue={servings}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t/>\n\t\t\t</li>\n\t\t</ul>\n\t);\n};\n","// the lodash way https://github.com/lodash/lodash/blob/master/isUndefined.js\nconst isUndefined = (_) => _ === undefined;\n\nexport { isUndefined };\n//# sourceMappingURL=isUndefined.js.map\n","import { css } from '@emotion/react';\nimport type { ArticleFormat } from '@guardian/libs';\nimport { ArticleDesign, ArticleSpecial } from '@guardian/libs';\nimport {\n\tbrandAltBackground,\n\tfrom,\n\theadline,\n\tneutral,\n\ttext,\n\ttextSans,\n} from '@guardian/source-foundations';\nimport ArrowInCircle from '../../static/icons/arrow-in-circle.svg';\nimport type { Palette } from '../../types/palette';\nimport type { TagType } from '../../types/tag';\nimport { decidePalette } from '../lib/decidePalette';\nimport { Avatar } from './Avatar';\nimport { Hide } from './Hide';\nimport { QuoteIcon } from './QuoteIcon';\nimport { StarRating } from './StarRating/StarRating';\n\ninterface Props {\n\trichLinkIndex: number;\n\tcardStyle: RichLinkCardType;\n\timageData: RichLinkImageData;\n\theadlineText: string;\n\tcontentType: ContentType;\n\turl: string;\n\tstarRating?: number;\n\tlinkFormat: ArticleFormat;\n\tformat: ArticleFormat;\n\ttags: TagType[];\n\tsponsorName: string;\n\tcontributorImage?: string;\n\tisPlaceholder?: boolean; // use 'true' for server-side default prior to client-side enrichment\n}\nexport interface RichLinkImageData {\n\tthumbnailUrl: string;\n\taltText: string;\n\twidth: string;\n\theight: string;\n}\n\nconst neutralBackground = (format: ArticleFormat, palette: Palette) => {\n\t// One off colours to match the analysis background colour\n\tconst background =\n\t\tformat.design === ArticleDesign.Analysis\n\t\t\t? palette.background.analysisContrast\n\t\t\t: neutral[97];\n\tconst backgroundHover =\n\t\tformat.design === ArticleDesign.Analysis\n\t\t\t? palette.background.analysisContrastHover\n\t\t\t: neutral[93];\n\treturn css`\n\t\tbackground-color: ${background};\n\t\ta {\n\t\t\tcolor: inherit;\n\t\t}\n\t\t:hover {\n\t\t\tbackground-color: ${backgroundHover};\n\t\t}\n\t`;\n};\n\nconst pillarBackground = (palette: Palette) => {\n\treturn css`\n\t\tbackground-color: ${palette.background.richLink};\n\t`;\n};\n\nconst textColour = (palette: Palette) => {\n\treturn css`\n\t\tcolor: ${palette.text.richLink};\n\t`;\n};\n\nconst richLinkTopBorder = (palette: Palette) => {\n\treturn css`\n\t\tborder-top: 1px;\n\t\tborder-top-style: solid;\n\t\tborder-top-color: ${palette.border.richLink};\n\t`;\n};\n\nconst richLinkLink = css`\n\ttext-decoration: none;\n`;\n\nconst richLinkElements = css`\n\tpadding-top: 2px;\n\tpadding-right: 5px;\n\tpadding-left: 5px;\n\tpadding-bottom: 5px;\n`;\n\nconst richLinkHeader = css`\n\tpadding-bottom: 10px;\n\tcolor: ${neutral[0]};\n`;\n\nconst richLinkTitle = (parentIsBlog: boolean) => css`\n\t${headline.xxxsmall()};\n\t${!parentIsBlog && 'font-size: 14px'};\n\tpadding-top: 1px;\n\tpadding-bottom: 1px;\n\tfont-weight: 400;\n\t${from.wide} {\n\t\t${headline.xxsmall()};\n\t\tpadding-bottom: 5px;\n\t}\n`;\n\nconst labsRichLinkTitle = css`\n\t${from.wide} {\n\t\t${textSans.medium({ fontWeight: 'bold', lineHeight: 'regular' })}\n\t}\n\t${textSans.small({ fontWeight: 'bold', lineHeight: 'regular' })}\n`;\n\nconst richLinkReadMore = (palette: Palette) => {\n\treturn css`\n\t\tfill: ${palette.fill.richLink};\n\t\tcolor: ${palette.text.richLink};\n\t\tpadding-top: 2px;\n\t`;\n};\n\nconst readMoreTextStyle = css`\n\t${headline.xxxsmall()};\n\tfont-size: 14px;\n\t${from.wide} {\n\t\t${headline.xxxsmall()}\n\t\tline-height: 25px;\n\t}\n\tdisplay: inline-block;\n\theight: 30px;\n\tline-height: 25px;\n\tpadding-left: 4px;\n\tvertical-align: top;\n\tfont-weight: 500;\n\ttext-decoration: none;\n`;\n\nconst labsReadMoreTextStyle = css`\n\t${textSans.medium({ fontWeight: 'regular' })}\n\tdisplay: inline-block;\n\theight: 30px;\n\tline-height: 25px;\n\tpadding-left: 4px;\n\tvertical-align: top;\n\ttext-decoration: none;\n\tcolor: ${neutral[7]};\n`;\n\nconst byline = css`\n\t${headline.xxxsmall()};\n\tfont-size: 14px;\n\tfont-style: italic;\n\t${from.wide} {\n\t\t${headline.xxsmall()};\n\t}\n`;\n\nconst contributorImageWrapper = css`\n\twidth: 5rem;\n\theight: 5rem;\n\tmargin-left: auto;\n\tmargin-right: 0.3rem;\n\t${from.wide} {\n\t\twidth: 8.5rem;\n\t\theight: 8.5rem;\n\t}\n\n\t/* TODO remove the default img styling in ArticleBody.tsx - do we need direct element styling? */\n\timg {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n`;\n\nconst paidForBranding = css`\n\t${textSans.xxsmall()};\n\tfont-weight: bold;\n\tcolor: ${text.supporting};\n`;\n\nconst starWrapper = css`\n\tbackground-color: ${brandAltBackground.primary};\n\tdisplay: inline-block;\n`;\n\nconst readMoreText: (contentType: string) => string = (contentType) => {\n\tswitch (contentType) {\n\t\tcase 'audio':\n\t\t\treturn 'Listen';\n\t\tcase 'gallery':\n\t\t\treturn 'View Gallery';\n\t\tcase 'video':\n\t\t\treturn 'Watch';\n\t\tdefault:\n\t\t\treturn 'Read more';\n\t}\n};\n\nconst getMainContributor: (tags: TagType[]) => string = (tags) => {\n\tconst [firstContributorTag] = tags.filter((t) => t.type === 'Contributor');\n\treturn firstContributorTag ? firstContributorTag.title : '';\n};\n\nconst imageStyles = css`\n\twidth: 100%;\n\theight: auto;\n`;\n\nexport const RichLink = ({\n\trichLinkIndex,\n\tcardStyle,\n\timageData,\n\theadlineText,\n\tcontentType,\n\turl,\n\tstarRating,\n\tlinkFormat,\n\tformat,\n\ttags,\n\tsponsorName,\n\tcontributorImage,\n\tisPlaceholder,\n}: Props) => {\n\tconst palette = decidePalette(linkFormat);\n\tconst linkText =\n\t\tcardStyle === 'letters' ? `${headlineText} | Letters ` : headlineText;\n\n\tconst imageCardStyles = ['news', 'letters', 'media', 'feature'];\n\tconst parentIsBlog =\n\t\tformat.design === ArticleDesign.LiveBlog ||\n\t\tformat.design === ArticleDesign.DeadBlog;\n\n\tconst showImage =\n\t\timageData.thumbnailUrl !== '' &&\n\t\timageCardStyles.includes(cardStyle) &&\n\t\t!parentIsBlog;\n\tconst isPaidContent = !!tags.find(\n\t\t({ id }) => id === 'tone/advertisement-features',\n\t);\n\tconst isOpinion = cardStyle === 'comment';\n\tconst mainContributor = getMainContributor(tags);\n\tconst isLabs = linkFormat.theme === ArticleSpecial.Labs;\n\n\tconst richLinkTitlePicker = isLabs\n\t\t? labsRichLinkTitle\n\t\t: richLinkTitle(parentIsBlog);\n\n\treturn (\n\t\t<div\n\t\t\tdata-print-layout=\"hide\"\n\t\t\tdata-link-name={`rich-link-${richLinkIndex} | ${richLinkIndex}`}\n\t\t\tdata-component=\"rich-link\"\n\t\t\tcss={pillarBackground(palette)}\n\t\t\tdata-name={isPlaceholder ? 'placeholder' : ''}\n\t\t>\n\t\t\t<div css={neutralBackground(format, palette)}>\n\t\t\t\t<a css={richLinkLink} href={url}>\n\t\t\t\t\t<div css={richLinkTopBorder(palette)} />\n\t\t\t\t\t{showImage && (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tcss={imageStyles}\n\t\t\t\t\t\t\t\tsrc={imageData.thumbnailUrl}\n\t\t\t\t\t\t\t\talt={imageData.altText}\n\t\t\t\t\t\t\t\twidth={imageData.width}\n\t\t\t\t\t\t\t\theight={imageData.height}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t<div css={richLinkElements}>\n\t\t\t\t\t\t<div css={richLinkHeader}>\n\t\t\t\t\t\t\t<div css={richLinkTitlePicker}>\n\t\t\t\t\t\t\t\t{isOpinion && (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<Hide when=\"above\" breakpoint=\"wide\">\n\t\t\t\t\t\t\t\t\t\t\t<QuoteIcon\n\t\t\t\t\t\t\t\t\t\t\t\tcolour={palette.fill.quoteIcon}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Hide>\n\t\t\t\t\t\t\t\t\t\t<Hide when=\"below\" breakpoint=\"wide\">\n\t\t\t\t\t\t\t\t\t\t\t<QuoteIcon\n\t\t\t\t\t\t\t\t\t\t\t\tcolour={palette.fill.quoteIcon}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Hide>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{linkText}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{isOpinion && (\n\t\t\t\t\t\t\t\t<div css={[byline, textColour(palette)]}>\n\t\t\t\t\t\t\t\t\t{mainContributor}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{starRating !== undefined && (\n\t\t\t\t\t\t\t\t<div css={starWrapper}>\n\t\t\t\t\t\t\t\t\t<StarRating\n\t\t\t\t\t\t\t\t\t\trating={starRating}\n\t\t\t\t\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{!!(isPaidContent && sponsorName) && (\n\t\t\t\t\t\t\t\t<div css={paidForBranding}>\n\t\t\t\t\t\t\t\t\tPaid for by {sponsorName}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{!!(isOpinion && contributorImage) && (\n\t\t\t\t\t\t\t<div css={contributorImageWrapper}>\n\t\t\t\t\t\t\t\t<Avatar\n\t\t\t\t\t\t\t\t\tsrc={contributorImage}\n\t\t\t\t\t\t\t\t\talt={mainContributor}\n\t\t\t\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<div css={richLinkReadMore(palette)}>\n\t\t\t\t\t\t\t<ArrowInCircle />\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tcss={\n\t\t\t\t\t\t\t\t\tisLabs\n\t\t\t\t\t\t\t\t\t\t? labsReadMoreTextStyle\n\t\t\t\t\t\t\t\t\t\t: readMoreTextStyle\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{readMoreText(contentType)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import { ArticleDesign, ArticleDisplay, ArticleSpecial } from '@guardian/libs';\nimport type { RichLinkBlockElement } from '../../types/content';\nimport type { TagType } from '../../types/tag';\nimport { decideFormat } from '../lib/decideFormat';\nimport { useApi } from '../lib/useApi';\nimport type { RichLinkImageData } from './RichLink';\nimport { RichLink } from './RichLink';\n\ntype Props = {\n\telement: RichLinkBlockElement;\n\tajaxUrl: string;\n\trichLinkIndex: number;\n\tformat: ArticleFormat;\n};\n\ninterface FERichLinkType {\n\tcardStyle: RichLinkCardType;\n\tthumbnailUrl: string;\n\theadline: string;\n\tcontentType: ContentType;\n\turl: string;\n\ttags: TagType[];\n\tsponsorName: string;\n\tformat: FEFormat;\n\tstarRating?: number;\n\tcontributorImage?: string;\n\timageAsset?: ImageAsset;\n}\ninterface ImageAsset {\n\tindex: number;\n\tfields: ImageAssetFields;\n\tmediaType: string;\n\turl: string;\n}\ninterface ImageAssetFields {\n\tdisplayCredit: string;\n\tsource: string;\n\tphotographer: string;\n\tisMaster: string;\n\taltText: string;\n\theight: string;\n\tcredit: string;\n\tmediaId: string;\n\twidth: string;\n}\n\nconst buildUrl: (element: RichLinkBlockElement, ajaxUrl: string) => string = (\n\telement,\n\tajaxUrl,\n) => {\n\tconst path = new URL(element.url).pathname;\n\treturn `${ajaxUrl}/embed/card${path}.json?dcr=true`;\n};\n\n/**\n * # Rich Link Component\n *\n * Wrapper around `RichLink` which fetches the rich links’ images.\n *\n * ## Why does this need to be an Island?\n *\n * Rich links’ images and formats are not available on the CAPI response,\n * so they have to be fetched client-side, via the card embed endpoint;\n * e.g. <https://api.nextgen.guardianapps.co.uk/embed/card/football/2023/feb/08/erik-ten-hag-blasts-manchester-uniteds-start-as-unacceptable-against-leeds.json?dcr=true>\n *\n * This enables to have a richer look for these links, rather than simply their\n * headline and a grey “Read More” unaware of the pillar or design.\n *\n * ---\n *\n * [`RichLink` on Chromatic](https://www.chromatic.com/component?appId=63e251470cfbe61776b0ef19&csfId=components-richlink)\n */\nexport const RichLinkComponent = ({\n\telement,\n\tajaxUrl,\n\trichLinkIndex,\n\tformat,\n}: Props) => {\n\tconst url = buildUrl(element, ajaxUrl);\n\tconst { data, error } = useApi<FERichLinkType>(url);\n\n\tif (error) {\n\t\t// Send the error to Sentry\n\t\twindow.guardian.modules.sentry.reportError(error, 'rich-link');\n\t}\n\n\tif (data?.imageAsset) {\n\t\tconst richLinkImageData: RichLinkImageData = {\n\t\t\tthumbnailUrl: data.thumbnailUrl,\n\t\t\taltText: data.imageAsset.fields.altText,\n\t\t\twidth: data.imageAsset.fields.width,\n\t\t\theight: data.imageAsset.fields.height,\n\t\t};\n\n\t\treturn (\n\t\t\t// This is the enhanced rich link rendered on the client\n\t\t\t<RichLink\n\t\t\t\trichLinkIndex={richLinkIndex}\n\t\t\t\tcardStyle={data.cardStyle}\n\t\t\t\timageData={richLinkImageData}\n\t\t\t\theadlineText={data.headline}\n\t\t\t\tcontentType={data.contentType}\n\t\t\t\turl={data.url}\n\t\t\t\tstarRating={data.starRating}\n\t\t\t\tlinkFormat={decideFormat(data.format)}\n\t\t\t\tformat={format}\n\t\t\t\ttags={data.tags}\n\t\t\t\tsponsorName={data.sponsorName}\n\t\t\t\tcontributorImage={data.contributorImage}\n\t\t\t/>\n\t\t);\n\t}\n\n\tconst defaultFormat = {\n\t\tdisplay: ArticleDisplay.Standard,\n\t\tdesign: ArticleDesign.Standard,\n\t\t// We default to SpecialReport here purely because the greys of this theme\n\t\t// look better as the defaults\n\t\ttheme: ArticleSpecial.SpecialReport,\n\t};\n\n\treturn (\n\t\t// Render a default (basic) rich link on the server\n\t\t<RichLink\n\t\t\trichLinkIndex={richLinkIndex}\n\t\t\tcardStyle=\"news\"\n\t\t\timageData={{\n\t\t\t\tthumbnailUrl: '',\n\t\t\t\taltText: '',\n\t\t\t\twidth: '',\n\t\t\t\theight: '',\n\t\t\t}}\n\t\t\theadlineText={element.text}\n\t\t\tcontentType=\"article\"\n\t\t\turl={element.url}\n\t\t\tlinkFormat={defaultFormat}\n\t\t\tformat={defaultFormat}\n\t\t\ttags={[]}\n\t\t\tsponsorName=\"\"\n\t\t\tisPlaceholder={true}\n\t\t/>\n\t);\n};\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden, iconSize } from '@guardian/source-foundations';\n\nconst Svg = ({ size }) => (jsx(\"svg\", { width: size ? iconSize[size] : undefined, height: undefined, viewBox: \"-3 -3 30 30\", xmlns: \"http://www.w3.org/2000/svg\", focusable: false, \"aria-hidden\": true, children: jsx(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M11.588 1a10.928 10.928 0 0 0-9.045 4.786l.125.676.877.527.677-.176C5.85 4.508 8.506 2.98 11.588 2.98c4.937 0 8.996 4.059 8.996 9.045 0 4.961-4.06 8.995-8.996 8.995-2.831 0-5.262-1.252-6.94-3.257l3.633-.601v-1.253H1.866l-.476.476V23h1.228l.626-3.784C5.25 21.546 8.206 23 11.588 23c6.09 0 11.025-4.911 11.025-10.975A11.01 11.01 0 0 0 11.588 1Z\" }) }));\nconst SvgReload = ({ size, isAnnouncedByScreenReader = false, }) => (jsxs(Fragment, { children: [jsx(Svg, { size: size }), isAnnouncedByScreenReader ? (jsx(\"span\", { css: css `\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`, children: \"Reload\" })) : ('')] }));\n\nexport { SvgReload };\n//# sourceMappingURL=SvgReload.js.map\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\nvar ReCAPTCHA =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(ReCAPTCHA, _React$Component);\n\n  function ReCAPTCHA() {\n    var _this;\n\n    _this = _React$Component.call(this) || this;\n    _this.handleExpired = _this.handleExpired.bind(_assertThisInitialized(_this));\n    _this.handleErrored = _this.handleErrored.bind(_assertThisInitialized(_this));\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    _this.handleRecaptchaRef = _this.handleRecaptchaRef.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  var _proto = ReCAPTCHA.prototype;\n\n  _proto.getValue = function getValue() {\n    if (this.props.grecaptcha && this._widgetId !== undefined) {\n      return this.props.grecaptcha.getResponse(this._widgetId);\n    }\n\n    return null;\n  };\n\n  _proto.getWidgetId = function getWidgetId() {\n    if (this.props.grecaptcha && this._widgetId !== undefined) {\n      return this._widgetId;\n    }\n\n    return null;\n  };\n\n  _proto.execute = function execute() {\n    var grecaptcha = this.props.grecaptcha;\n\n    if (grecaptcha && this._widgetId !== undefined) {\n      return grecaptcha.execute(this._widgetId);\n    } else {\n      this._executeRequested = true;\n    }\n  };\n\n  _proto.executeAsync = function executeAsync() {\n    var _this2 = this;\n\n    return new Promise(function (resolve, reject) {\n      _this2.executionResolve = resolve;\n      _this2.executionReject = reject;\n\n      _this2.execute();\n    });\n  };\n\n  _proto.reset = function reset() {\n    if (this.props.grecaptcha && this._widgetId !== undefined) {\n      this.props.grecaptcha.reset(this._widgetId);\n    }\n  };\n\n  _proto.handleExpired = function handleExpired() {\n    if (this.props.onExpired) {\n      this.props.onExpired();\n    } else {\n      this.handleChange(null);\n    }\n  };\n\n  _proto.handleErrored = function handleErrored() {\n    if (this.props.onErrored) {\n      this.props.onErrored();\n    }\n\n    if (this.executionReject) {\n      this.executionReject();\n      delete this.executionResolve;\n      delete this.executionReject;\n    }\n  };\n\n  _proto.handleChange = function handleChange(token) {\n    if (this.props.onChange) {\n      this.props.onChange(token);\n    }\n\n    if (this.executionResolve) {\n      this.executionResolve(token);\n      delete this.executionReject;\n      delete this.executionResolve;\n    }\n  };\n\n  _proto.explicitRender = function explicitRender() {\n    if (this.props.grecaptcha && this.props.grecaptcha.render && this._widgetId === undefined) {\n      var wrapper = document.createElement(\"div\");\n      this._widgetId = this.props.grecaptcha.render(wrapper, {\n        sitekey: this.props.sitekey,\n        callback: this.handleChange,\n        theme: this.props.theme,\n        type: this.props.type,\n        tabindex: this.props.tabindex,\n        \"expired-callback\": this.handleExpired,\n        \"error-callback\": this.handleErrored,\n        size: this.props.size,\n        stoken: this.props.stoken,\n        hl: this.props.hl,\n        badge: this.props.badge\n      });\n      this.captcha.appendChild(wrapper);\n    }\n\n    if (this._executeRequested && this.props.grecaptcha && this._widgetId !== undefined) {\n      this._executeRequested = false;\n      this.execute();\n    }\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.explicitRender();\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    this.explicitRender();\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this._widgetId !== undefined) {\n      this.delayOfCaptchaIframeRemoving();\n      this.reset();\n    }\n  };\n\n  _proto.delayOfCaptchaIframeRemoving = function delayOfCaptchaIframeRemoving() {\n    var temporaryNode = document.createElement(\"div\");\n    document.body.appendChild(temporaryNode);\n    temporaryNode.style.display = \"none\"; // move of the recaptcha to a temporary node\n\n    while (this.captcha.firstChild) {\n      temporaryNode.appendChild(this.captcha.firstChild);\n    } // delete the temporary node after reset will be done\n\n\n    setTimeout(function () {\n      document.body.removeChild(temporaryNode);\n    }, 5000);\n  };\n\n  _proto.handleRecaptchaRef = function handleRecaptchaRef(elem) {\n    this.captcha = elem;\n  };\n\n  _proto.render = function render() {\n    // consume properties owned by the reCATPCHA, pass the rest to the div so the user can style it.\n\n    /* eslint-disable no-unused-vars */\n    var _this$props = this.props,\n        sitekey = _this$props.sitekey,\n        onChange = _this$props.onChange,\n        theme = _this$props.theme,\n        type = _this$props.type,\n        tabindex = _this$props.tabindex,\n        onExpired = _this$props.onExpired,\n        onErrored = _this$props.onErrored,\n        size = _this$props.size,\n        stoken = _this$props.stoken,\n        grecaptcha = _this$props.grecaptcha,\n        badge = _this$props.badge,\n        hl = _this$props.hl,\n        childProps = _objectWithoutPropertiesLoose(_this$props, [\"sitekey\", \"onChange\", \"theme\", \"type\", \"tabindex\", \"onExpired\", \"onErrored\", \"size\", \"stoken\", \"grecaptcha\", \"badge\", \"hl\"]);\n    /* eslint-enable no-unused-vars */\n\n\n    return React.createElement(\"div\", _extends({}, childProps, {\n      ref: this.handleRecaptchaRef\n    }));\n  };\n\n  return ReCAPTCHA;\n}(React.Component);\n\nexport { ReCAPTCHA as default };\nReCAPTCHA.displayName = \"ReCAPTCHA\";\nReCAPTCHA.propTypes = {\n  sitekey: PropTypes.string.isRequired,\n  onChange: PropTypes.func,\n  grecaptcha: PropTypes.object,\n  theme: PropTypes.oneOf([\"dark\", \"light\"]),\n  type: PropTypes.oneOf([\"image\", \"audio\"]),\n  tabindex: PropTypes.number,\n  onExpired: PropTypes.func,\n  onErrored: PropTypes.func,\n  size: PropTypes.oneOf([\"compact\", \"normal\", \"invisible\"]),\n  stoken: PropTypes.string,\n  hl: PropTypes.string,\n  badge: PropTypes.oneOf([\"bottomright\", \"bottomleft\", \"inline\"])\n};\nReCAPTCHA.defaultProps = {\n  onChange: function onChange() {},\n  theme: \"light\",\n  type: \"image\",\n  tabindex: 0,\n  size: \"normal\",\n  badge: \"bottomright\"\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nimport { Component, createElement, forwardRef } from \"react\";\nimport PropTypes from \"prop-types\";\nimport hoistStatics from \"hoist-non-react-statics\";\nvar SCRIPT_MAP = {}; // A counter used to generate a unique id for each component that uses the function\n\nvar idCount = 0;\nexport default function makeAsyncScript(getScriptURL, options) {\n  options = options || {};\n  return function wrapWithAsyncScript(WrappedComponent) {\n    var wrappedComponentName = WrappedComponent.displayName || WrappedComponent.name || \"Component\";\n\n    var AsyncScriptLoader =\n    /*#__PURE__*/\n    function (_Component) {\n      _inheritsLoose(AsyncScriptLoader, _Component);\n\n      function AsyncScriptLoader(props, context) {\n        var _this;\n\n        _this = _Component.call(this, props, context) || this;\n        _this.state = {};\n        _this.__scriptURL = \"\";\n        return _this;\n      }\n\n      var _proto = AsyncScriptLoader.prototype;\n\n      _proto.asyncScriptLoaderGetScriptLoaderID = function asyncScriptLoaderGetScriptLoaderID() {\n        if (!this.__scriptLoaderID) {\n          this.__scriptLoaderID = \"async-script-loader-\" + idCount++;\n        }\n\n        return this.__scriptLoaderID;\n      };\n\n      _proto.setupScriptURL = function setupScriptURL() {\n        this.__scriptURL = typeof getScriptURL === \"function\" ? getScriptURL() : getScriptURL;\n        return this.__scriptURL;\n      };\n\n      _proto.asyncScriptLoaderHandleLoad = function asyncScriptLoaderHandleLoad(state) {\n        var _this2 = this;\n\n        // use reacts setState callback to fire props.asyncScriptOnLoad with new state/entry\n        this.setState(state, function () {\n          return _this2.props.asyncScriptOnLoad && _this2.props.asyncScriptOnLoad(_this2.state);\n        });\n      };\n\n      _proto.asyncScriptLoaderTriggerOnScriptLoaded = function asyncScriptLoaderTriggerOnScriptLoaded() {\n        var mapEntry = SCRIPT_MAP[this.__scriptURL];\n\n        if (!mapEntry || !mapEntry.loaded) {\n          throw new Error(\"Script is not loaded.\");\n        }\n\n        for (var obsKey in mapEntry.observers) {\n          mapEntry.observers[obsKey](mapEntry);\n        }\n\n        delete window[options.callbackName];\n      };\n\n      _proto.componentDidMount = function componentDidMount() {\n        var _this3 = this;\n\n        var scriptURL = this.setupScriptURL();\n        var key = this.asyncScriptLoaderGetScriptLoaderID();\n        var _options = options,\n            globalName = _options.globalName,\n            callbackName = _options.callbackName,\n            scriptId = _options.scriptId; // check if global object already attached to window\n\n        if (globalName && typeof window[globalName] !== \"undefined\") {\n          SCRIPT_MAP[scriptURL] = {\n            loaded: true,\n            observers: {}\n          };\n        } // check if script loading already\n\n\n        if (SCRIPT_MAP[scriptURL]) {\n          var entry = SCRIPT_MAP[scriptURL]; // if loaded or errored then \"finish\"\n\n          if (entry && (entry.loaded || entry.errored)) {\n            this.asyncScriptLoaderHandleLoad(entry);\n            return;\n          } // if still loading then callback to observer queue\n\n\n          entry.observers[key] = function (entry) {\n            return _this3.asyncScriptLoaderHandleLoad(entry);\n          };\n\n          return;\n        }\n        /*\n         * hasn't started loading\n         * start the \"magic\"\n         * setup script to load and observers\n         */\n\n\n        var observers = {};\n\n        observers[key] = function (entry) {\n          return _this3.asyncScriptLoaderHandleLoad(entry);\n        };\n\n        SCRIPT_MAP[scriptURL] = {\n          loaded: false,\n          observers: observers\n        };\n        var script = document.createElement(\"script\");\n        script.src = scriptURL;\n        script.async = true;\n\n        for (var attribute in options.attributes) {\n          script.setAttribute(attribute, options.attributes[attribute]);\n        }\n\n        if (scriptId) {\n          script.id = scriptId;\n        }\n\n        var callObserverFuncAndRemoveObserver = function callObserverFuncAndRemoveObserver(func) {\n          if (SCRIPT_MAP[scriptURL]) {\n            var mapEntry = SCRIPT_MAP[scriptURL];\n            var observersMap = mapEntry.observers;\n\n            for (var obsKey in observersMap) {\n              if (func(observersMap[obsKey])) {\n                delete observersMap[obsKey];\n              }\n            }\n          }\n        };\n\n        if (callbackName && typeof window !== \"undefined\") {\n          window[callbackName] = function () {\n            return _this3.asyncScriptLoaderTriggerOnScriptLoaded();\n          };\n        }\n\n        script.onload = function () {\n          var mapEntry = SCRIPT_MAP[scriptURL];\n\n          if (mapEntry) {\n            mapEntry.loaded = true;\n            callObserverFuncAndRemoveObserver(function (observer) {\n              if (callbackName) {\n                return false;\n              }\n\n              observer(mapEntry);\n              return true;\n            });\n          }\n        };\n\n        script.onerror = function () {\n          var mapEntry = SCRIPT_MAP[scriptURL];\n\n          if (mapEntry) {\n            mapEntry.errored = true;\n            callObserverFuncAndRemoveObserver(function (observer) {\n              observer(mapEntry);\n              return true;\n            });\n          }\n        };\n\n        document.body.appendChild(script);\n      };\n\n      _proto.componentWillUnmount = function componentWillUnmount() {\n        // Remove tag script\n        var scriptURL = this.__scriptURL;\n\n        if (options.removeOnUnmount === true) {\n          var allScripts = document.getElementsByTagName(\"script\");\n\n          for (var i = 0; i < allScripts.length; i += 1) {\n            if (allScripts[i].src.indexOf(scriptURL) > -1) {\n              if (allScripts[i].parentNode) {\n                allScripts[i].parentNode.removeChild(allScripts[i]);\n              }\n            }\n          }\n        } // Clean the observer entry\n\n\n        var mapEntry = SCRIPT_MAP[scriptURL];\n\n        if (mapEntry) {\n          delete mapEntry.observers[this.asyncScriptLoaderGetScriptLoaderID()];\n\n          if (options.removeOnUnmount === true) {\n            delete SCRIPT_MAP[scriptURL];\n          }\n        }\n      };\n\n      _proto.render = function render() {\n        var globalName = options.globalName; // remove asyncScriptOnLoad from childProps\n\n        var _this$props = this.props,\n            asyncScriptOnLoad = _this$props.asyncScriptOnLoad,\n            forwardedRef = _this$props.forwardedRef,\n            childProps = _objectWithoutPropertiesLoose(_this$props, [\"asyncScriptOnLoad\", \"forwardedRef\"]); // eslint-disable-line no-unused-vars\n\n\n        if (globalName && typeof window !== \"undefined\") {\n          childProps[globalName] = typeof window[globalName] !== \"undefined\" ? window[globalName] : undefined;\n        }\n\n        childProps.ref = forwardedRef;\n        return createElement(WrappedComponent, childProps);\n      };\n\n      return AsyncScriptLoader;\n    }(Component); // Note the second param \"ref\" provided by React.forwardRef.\n    // We can pass it along to AsyncScriptLoader as a regular prop, e.g. \"forwardedRef\"\n    // And it can then be attached to the Component.\n\n\n    var ForwardedComponent = forwardRef(function (props, ref) {\n      return createElement(AsyncScriptLoader, _extends({}, props, {\n        forwardedRef: ref\n      }));\n    });\n    ForwardedComponent.displayName = \"AsyncScriptLoader(\" + wrappedComponentName + \")\";\n    ForwardedComponent.propTypes = {\n      asyncScriptOnLoad: PropTypes.func\n    };\n    return hoistStatics(ForwardedComponent, WrappedComponent);\n  };\n}","import ReCAPTCHA from \"./recaptcha\";\nimport makeAsyncScriptLoader from \"react-async-script\";\nvar callbackName = \"onloadcallback\";\nvar globalName = \"grecaptcha\";\n\nfunction getOptions() {\n  return typeof window !== \"undefined\" && window.recaptchaOptions || {};\n}\n\nfunction getURL() {\n  var dynamicOptions = getOptions();\n  var hostname = dynamicOptions.useRecaptchaNet ? \"recaptcha.net\" : \"www.google.com\";\n  return \"https://\" + hostname + \"/recaptcha/api.js?onload=\" + callbackName + \"&render=explicit\";\n}\n\nexport default makeAsyncScriptLoader(getURL, {\n  callbackName: callbackName,\n  globalName: globalName\n})(ReCAPTCHA);","import RecaptchaWrapper from \"./recaptcha-wrapper\";\nimport ReCAPTCHA from \"./recaptcha\";\nexport default RecaptchaWrapper;\nexport { ReCAPTCHA };","import { css } from '@emotion/react';\nimport type { OphanAction } from '@guardian/libs';\nimport { neutral, space, until } from '@guardian/source-foundations';\nimport {\n\tButton,\n\tInlineError,\n\tInlineSuccess,\n\tLink,\n\tSvgReload,\n\tSvgSpinner,\n} from '@guardian/source-react-components';\nimport type { ReactEventHandler } from 'react';\nimport { useRef, useState } from 'react';\nimport ReCAPTCHA from 'react-google-recaptcha';\nimport {\n\tgetOphanRecordFunction,\n\tsubmitComponentEvent,\n} from '../browser/ophan/ophan';\n\nconst isServer = typeof window === 'undefined';\n\n// The Google documentation specifies that if the 'recaptcha-badge' is hidden,\n// their T+C's must be displayed instead. While this component hides the\n// badge, its parent must include the T+C along side it.\n// The T+C are not included in this componet directly to reduce layout shift\n// from the island hydrating (placeholder height for the text can't\n// be accurately predicated for every breakpoint).\n// https://developers.google.com/recaptcha/docs/faq#id-like-to-hide-the-recaptcha-badge.-what-is-allowed\n\ntype Props = {\n\tname: string;\n\tstyles: string;\n\thtml: string;\n\tnewsletterId: string;\n\tsuccessDescription: string;\n};\n\n// The ts.dom interface for FontFaceSet does not contain the .add method\ntype FontFaceSetWithAdd = FontFaceSet & {\n\tadd?: { (font: FontFace): void };\n};\n\nconst ErrorMessageWithAdvice = ({ text }: { text?: string }) => (\n\t<InlineError>\n\t\t<span>\n\t\t\t{text} Please try again or contact{' '}\n\t\t\t<Link\n\t\t\t\thref=\"mailto:customer.help@theguardian.com\"\n\t\t\t\ttarget=\"_blank\"\n\t\t\t\trel=\"noreferrer\"\n\t\t\t>\n\t\t\t\tcustomer.help@theguardian.com\n\t\t\t</Link>\n\t\t</span>\n\t</InlineError>\n);\n\nconst SuccessMessage = ({ text }: { text?: string }) => (\n\t<InlineSuccess>\n\t\t<span>\n\t\t\t<b>Subscription Confirmed.&nbsp;</b>\n\t\t\t<span>{text}</span>\n\t\t</span>\n\t</InlineSuccess>\n);\n\nconst buildFormData = (\n\temailAddress: string,\n\tnewsletterId: string,\n\ttoken: string,\n): FormData => {\n\tconst pageRef = window.location.origin + window.location.pathname;\n\tconst refViewId = window.guardian.ophan?.pageViewId ?? '';\n\n\tconst formData = new FormData();\n\tformData.append('email', emailAddress);\n\tformData.append('csrfToken', ''); // TO DO - PR on form handlers in frontend/identity to see how/if this is needed\n\tformData.append('listName', newsletterId);\n\tformData.append('ref', pageRef);\n\tformData.append('refViewId', refViewId);\n\tformData.append('name', '');\n\tif (window.guardian.config.switches.emailSignupRecaptcha) {\n\t\tformData.append('g-recaptcha-response', token); // TO DO - PR on form handlers - is the token verified?\n\t}\n\n\treturn formData;\n};\n\nconst postFormData = async (\n\tendpoint: string,\n\tformData: FormData,\n): Promise<Response> => {\n\tconst requestBodyStrings: string[] = [];\n\n\tformData.forEach((value, key) => {\n\t\trequestBodyStrings.push(\n\t\t\t`${encodeURIComponent(key)}=${encodeURIComponent(\n\t\t\t\tvalue.toString(),\n\t\t\t)}`,\n\t\t);\n\t});\n\n\treturn fetch(endpoint, {\n\t\tmethod: 'POST',\n\t\tbody: requestBodyStrings.join('&'),\n\t\theaders: {\n\t\t\tAccept: 'application/json',\n\t\t\t'Content-Type': 'application/x-www-form-urlencoded',\n\t\t},\n\t});\n};\n\ntype EventDescription =\n\t| 'click-button'\n\t| 'form-submission'\n\t| 'submission-confirmed'\n\t| 'submission-failed'\n\t| 'open-captcha'\n\t| 'captcha-load-error'\n\t| 'form-submit-error'\n\t| 'captcha-not-passed'\n\t| 'captcha-passed';\n\nconst sendTracking = (\n\tnewsletterId: string,\n\teventDescription: EventDescription,\n): void => {\n\tconst ophanRecord = getOphanRecordFunction();\n\n\tlet action: OphanAction = 'CLICK';\n\n\tswitch (eventDescription) {\n\t\tcase 'form-submission':\n\t\tcase 'captcha-not-passed':\n\t\tcase 'captcha-passed':\n\t\t\taction = 'ANSWER';\n\t\t\tbreak;\n\t\tcase 'submission-confirmed':\n\t\t\taction = 'SUBSCRIBE';\n\t\t\tbreak;\n\t\tcase 'captcha-load-error':\n\t\tcase 'form-submit-error':\n\t\tcase 'submission-failed':\n\t\t\taction = 'CLOSE';\n\t\t\tbreak;\n\t\tcase 'open-captcha':\n\t\t\taction = 'EXPAND';\n\t\t\tbreak;\n\t\tcase 'click-button':\n\t\tdefault:\n\t\t\taction = 'CLICK';\n\t\t\tbreak;\n\t}\n\n\t// The data team use a custom date format for timestamps,\n\t// (yyy-MM-dd hh:mm:ss.ssssss UTC)\n\t// and will cast the integer value  to this\n\t// format at their end\n\tconst value = JSON.stringify({\n\t\teventDescription,\n\t\tnewsletterId,\n\t\ttimestamp: Date.now(),\n\t});\n\n\tsubmitComponentEvent(\n\t\t{\n\t\t\taction,\n\t\t\tvalue,\n\t\t\tcomponent: {\n\t\t\t\tcomponentType: 'NEWSLETTER_SUBSCRIPTION',\n\t\t\t\tid: `DCR SecureSignupIframe ${newsletterId}`,\n\t\t\t},\n\t\t},\n\t\tophanRecord,\n\t);\n};\n\n/**\n * # Secure Signup iFrame\n *\n * A descendent of `EmailSignup` used to prevent users from entering their email\n * on the same page as the one we run third-party scripts on.\n *\n * ## Why does this need to be an Island?\n *\n * We can only inject ReCAPTCHA client-side, and need to respond to user input.\n *\n * ---\n *\n * [`EmailSignup` on Chromatic](https://www.chromatic.com/component?appId=63e251470cfbe61776b0ef19&csfId=components-emailsignup)\n */\nexport const SecureSignupIframe = ({\n\tname,\n\tstyles,\n\thtml,\n\tnewsletterId,\n\tsuccessDescription,\n}: Props) => {\n\tconst iframeRef = useRef<HTMLIFrameElement>(null);\n\tconst recaptchaRef = useRef<ReCAPTCHA>(null);\n\n\tconst [iframeHeight, setIFrameHeight] = useState<number>(0);\n\tconst [isWaitingForResponse, setIsWaitingForResponse] =\n\t\tuseState<boolean>(false);\n\tconst [responseOk, setResponseOk] = useState<boolean | undefined>(\n\t\tundefined,\n\t);\n\tconst [errorMessage, setErrorMessage] = useState<string | undefined>(\n\t\tundefined,\n\t);\n\n\tconst hasResponse = typeof responseOk === 'boolean';\n\n\tconst submitForm = async (token: string): Promise<void> => {\n\t\tconst { current: iframe } = iframeRef;\n\t\tconst input: HTMLInputElement | null =\n\t\t\tiframe?.contentDocument?.querySelector('input[type=\"email\"]') ??\n\t\t\tnull;\n\t\tconst emailAddress: string = input?.value ?? '';\n\n\t\tsendTracking(newsletterId, 'form-submission');\n\t\tconst response = await postFormData(\n\t\t\twindow.guardian.config.page.ajaxUrl + '/email',\n\t\t\tbuildFormData(emailAddress, newsletterId, token),\n\t\t);\n\n\t\t// The response body could be accessed with await response.text()\n\t\t// here and added to state but the response is not informative\n\t\t// enough to convey the actualreason for a failure to the user,\n\t\t// so a generic failure message is used.\n\t\tsetIsWaitingForResponse(false);\n\t\tsetResponseOk(response.ok);\n\n\t\tsendTracking(\n\t\t\tnewsletterId,\n\t\t\tresponse.ok ? 'submission-confirmed' : 'submission-failed',\n\t\t);\n\t};\n\n\tconst resetForm: ReactEventHandler<HTMLButtonElement> = () => {\n\t\tsetErrorMessage(undefined);\n\t\tsetResponseOk(undefined);\n\t\trecaptchaRef.current?.reset();\n\t};\n\n\tconst handleCaptchaLoadError: ReactEventHandler<HTMLDivElement> = () => {\n\t\tsendTracking(newsletterId, 'captcha-load-error');\n\t\tsetErrorMessage(`Sorry, the reCAPTCHA failed to load.`);\n\t\trecaptchaRef.current?.reset();\n\t};\n\n\tconst handleCaptchaComplete = (token: string | null) => {\n\t\tif (!token) {\n\t\t\tsendTracking(newsletterId, 'captcha-not-passed');\n\t\t\treturn;\n\t\t}\n\t\tsendTracking(newsletterId, 'captcha-passed');\n\t\tsetIsWaitingForResponse(true);\n\t\tsubmitForm(token).catch((error) => {\n\t\t\t// eslint-disable-next-line no-console -- unexpected error\n\t\t\tconsole.error(error);\n\t\t\tsendTracking(newsletterId, 'form-submit-error');\n\t\t\tsetErrorMessage(`Sorry, there was an error signing you up.`);\n\t\t\tsetIsWaitingForResponse(false);\n\t\t});\n\t};\n\n\tconst resizeIframe = (requestedHeight = 0): void => {\n\t\tconst { current: iframe } = iframeRef;\n\t\tif (!iframe) {\n\t\t\treturn;\n\t\t}\n\t\t// verifiying the body is present before accessing the scrollHeight is necessary\n\t\t// iframe.contentDocument?.body.scrollHeight can cause a TypeError\n\t\t// the typing assumes body is always present on a Document but the use of\n\t\t// srcDoc seems to allow the document to exist without the body.\n\n\t\tconst body = iframe.contentDocument?.body;\n\t\tconst scrollHeight = body ? body.scrollHeight : 0;\n\t\tsetIFrameHeight(Math.max(0, requestedHeight, scrollHeight));\n\t};\n\n\tconst resetIframeHeight = (): void => {\n\t\tresizeIframe();\n\t};\n\n\tconst handleClickInIFrame = (): void => {\n\t\tsendTracking(newsletterId, 'click-button');\n\t};\n\n\tconst handleSubmitInIFrame = (event: Event): void => {\n\t\tevent.preventDefault();\n\t\tif (isWaitingForResponse) {\n\t\t\treturn;\n\t\t}\n\t\tsetErrorMessage(undefined);\n\t\tsendTracking(newsletterId, 'open-captcha');\n\t\trecaptchaRef.current?.execute();\n\t};\n\n\tconst attachListenersToIframe = () => {\n\t\tconst { current: iframe } = iframeRef;\n\t\tiframe?.contentWindow?.addEventListener('resize', resetIframeHeight);\n\t\tconst form = iframe?.contentDocument?.querySelector('form');\n\t\tconst button = iframe?.contentDocument?.querySelector('button');\n\t\tbutton?.addEventListener('click', handleClickInIFrame);\n\t\tform?.addEventListener('submit', handleSubmitInIFrame);\n\t\tresetIframeHeight();\n\t};\n\n\tconst addFontsToIframe = (requiredFontNames: string[]) => {\n\t\tconst { current: iframe } = iframeRef;\n\n\t\t// FontFace.add is not supported (IE), allow fallback to system fonts\n\t\tconst iframeFontFaceSet = iframe?.contentDocument?.fonts as\n\t\t\t| undefined\n\t\t\t| FontFaceSetWithAdd;\n\t\tif (!iframeFontFaceSet?.add) {\n\t\t\treturn;\n\t\t}\n\n\t\t// get all the fontFaces on the parent matching the list of font names\n\t\tconst requiredFonts: FontFace[] = [];\n\t\tdocument.fonts.forEach((fontFace) => {\n\t\t\tif (requiredFontNames.includes(fontFace.family)) {\n\t\t\t\trequiredFonts.push(fontFace);\n\t\t\t}\n\t\t});\n\n\t\t// add the fonts to the iframe\n\t\trequiredFonts.forEach((font) => {\n\t\t\ttry {\n\t\t\t\tiframeFontFaceSet.add(font);\n\t\t\t} catch (error) {\n\t\t\t\t// Safari throws an InvalidModificationError\n\t\t\t\t// https://developer.mozilla.org/en-US/docs/Web/API/FontFaceSet/add#exceptions\n\t\t\t}\n\t\t});\n\t};\n\n\tconst onIFrameLoad = (): void => {\n\t\tattachListenersToIframe();\n\t\taddFontsToIframe(['GuardianTextSans']);\n\t};\n\n\tconst captchaSiteKey = isServer\n\t\t? undefined\n\t\t: window.guardian.config.page.googleRecaptchaSiteKey;\n\n\treturn (\n\t\t<>\n\t\t\t<iframe\n\t\t\t\ttitle={`Sign up to ${name}`}\n\t\t\t\tref={iframeRef}\n\t\t\t\tcss={css`\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\tmin-height: 65px;\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t`}\n\t\t\t\tstyle={{\n\t\t\t\t\theight: iframeHeight,\n\t\t\t\t\tdisplay:\n\t\t\t\t\t\thasResponse || isWaitingForResponse ? 'none' : 'block',\n\t\t\t\t}}\n\t\t\t\tsrcDoc={`\n\t\t\t\t<html>\n\t\t\t\t\t<head>\n\t\t\t\t\t\t${styles}\n\t\t\t\t\t</head>\n\t\t\t\t\t<body style=\"margin: 0; overflow:hidden;\">${html}</body>\n\t\t\t\t</html>`}\n\t\t\t\tonLoad={onIFrameLoad}\n\t\t\t/>\n\n\t\t\t{isWaitingForResponse && (\n\t\t\t\t<div>\n\t\t\t\t\t<SvgSpinner isAnnouncedByScreenReader={true} size=\"small\" />\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{!!errorMessage && <ErrorMessageWithAdvice text={errorMessage} />}\n\n\t\t\t{hasResponse &&\n\t\t\t\t(responseOk ? (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<SuccessMessage text={successDescription} />\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<div\n\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\talign-items: flex-start;\n\t\t\t\t\t\t\t${until.tablet} {\n\t\t\t\t\t\t\t\tflex-wrap: wrap;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbutton {\n\t\t\t\t\t\t\t\tmargin-left: ${space[1]}px;\n\t\t\t\t\t\t\t\tbackground-color: ${neutral[0]};\n\t\t\t\t\t\t\t\t:hover {\n\t\t\t\t\t\t\t\t\tbackground-color: ${neutral[20]};\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t`}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ErrorMessageWithAdvice text={`Sign up failed.`} />\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\ticon={<SvgReload />}\n\t\t\t\t\t\t\ticonSide={'right'}\n\t\t\t\t\t\t\tonClick={resetForm}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tTry again\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\n\t\t\t{!!captchaSiteKey && (\n\t\t\t\t<div\n\t\t\t\t\tcss={css`\n\t\t\t\t\t\t.grecaptcha-badge {\n\t\t\t\t\t\t\tvisibility: hidden;\n\t\t\t\t\t\t}\n\t\t\t\t\t`}\n\t\t\t\t>\n\t\t\t\t\t<ReCAPTCHA\n\t\t\t\t\t\tsitekey={captchaSiteKey}\n\t\t\t\t\t\tref={recaptchaRef}\n\t\t\t\t\t\tonChange={handleCaptchaComplete}\n\t\t\t\t\t\tonError={handleCaptchaLoadError}\n\t\t\t\t\t\tsize=\"invisible\"\n\t\t\t\t\t\t// Note - the component supports an onExpired callback\n\t\t\t\t\t\t// (for when the user completed a challenge, but did\n\t\t\t\t\t\t// not submit the form before the token expired.\n\t\t\t\t\t\t// We don't need that here as completing the captcha\n\t\t\t\t\t\t// (onChange callback) triggers the submission\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</>\n\t);\n};\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden, iconSize } from '@guardian/source-foundations';\n\nconst Svg = ({ size }) => (jsx(\"svg\", { width: size ? iconSize[size] : undefined, height: undefined, viewBox: \"-3 -3 30 30\", xmlns: \"http://www.w3.org/2000/svg\", focusable: false, \"aria-hidden\": true, children: jsx(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10Zm3.336-14.444v1.27H7.558v-1.27h7.778Zm-2.699 2.54v1.27h-5.08v-1.27h5.08Zm3.81 2.539v1.27h-8.89v-1.27h8.89Zm-2.223 2.54v1.27H7.558v-1.27h6.666Z\" }) }));\nconst SvgMessageRound = ({ size, isAnnouncedByScreenReader = false, }) => (jsxs(Fragment, { children: [jsx(Svg, { size: size }), isAnnouncedByScreenReader ? (jsx(\"span\", { css: css `\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`, children: \"Message\" })) : ('')] }));\n\nexport { SvgMessageRound };\n//# sourceMappingURL=SvgMessageRound.js.map\n","import type { SerializedStyles } from '@emotion/react';\nimport { css } from '@emotion/react';\nimport {\n\tfocusHalo,\n\tfrom,\n\tneutral,\n\tpalette,\n\tspace,\n\tsuccess,\n\ttextSans,\n\tuntil,\n} from '@guardian/source-foundations';\nimport {\n\tButton,\n\tSvgChevronDownSingle,\n\tSvgChevronUpSingle,\n\tSvgMessageRound,\n\tSvgTickRound,\n} from '@guardian/source-react-components';\nimport { ErrorSummary } from '@guardian/source-react-components-development-kitchen';\nimport { useState } from 'react';\nimport type { MessageUsFieldType } from '../../types/content';\nimport { decidePalette } from '../lib/decidePalette';\nimport { FormField } from './Callout/FormField';\n\nconst CALLOUT_URL =\n\t'https://callouts.code.dev-guardianapis.com/formstack-campaign/submit';\n\nconst containerStyles = (format: ArticleFormat) => css`\n\t${until.desktop} {\n\t\tbackground-color: ${decidePalette(format).background.messageForm};\n\t\tcolor: ${neutral[100]};\n\t}\n\tbackground-color: ${neutral[86]};\n\tpadding: ${space[3]}px;\n`;\nconst textStyles = css`\n\t${textSans.xsmall()};\n\tpadding-bottom: ${space[4]}px;\n`;\n\nconst successStyles = css`\n\t${textSans.xsmall()};\n\t${until.desktop} {\n\t\tcolor: ${neutral[100]};\n\t}\n`;\n\nconst tickBoxStyles = css`\n\tfill: ${success[400]};\n\twidth: ${space[12]}px;\n\tmargin-left: -${space[2]}px;\n`;\nconst errorTextStyles = css`\n\tcolor: ${palette.error[400]};\n\t${textSans.medium({ fontWeight: 'bold' })};\n\tdisplay: flex;\n\tpadding-bottom: ${space[2]}px;\n`;\n\nconst formStyles = css`\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: space-between;\n`;\n\nconst formFieldWrapperStyles = css`\n\tdisplay: flex;\n\tflex-direction: column;\n\tmargin-bottom: ${space[4]}px;\n\t${until.desktop} {\n\t\tlabel > div,\n\t\tlabel > div > span {\n\t\t\tcolor: ${neutral[100]};\n\t\t}\n\t}\n`;\n\nconst submitButtonStyles = css`\n\tbackground-color: ${neutral[100]};\n\tcolor: ${neutral[0]};\n\t:hover,\n\t:active {\n\t\tbackground-color: ${neutral[86]};\n\t}\n\t${until.phablet} {\n\t\twidth: 100%;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t}\n\t${until.desktop} {\n\t\talign-self: flex-start;\n\t}\n\t${from.desktop} {\n\t\tcolor: ${neutral[100]};\n\t\tbackground-color: ${neutral[7]};\n\t\talign-self: center;\n\t\t:hover,\n\t\t:active {\n\t\t\tbackground-color: ${neutral[20]};\n\t\t}\n\t}\n`;\n\nconst footerPaddingStyles = css`\n\tdisplay: flex;\n\tflex-direction: row;\n\t${until.desktop} {\n\t\tjustify-content: flex-start;\n\t}\n\tjustify-content: space-around;\n\tpadding-bottom: ${space[4]}px;\n`;\n\nconst prefaceStyles = css`\n\t${textSans.xsmall()};\n\tcolor: ${neutral[100]};\n\tpadding-bottom: ${space[4]}px;\n\t${from.desktop} {\n\t\tcolor: ${neutral[0]};\n\t}\n`;\n\ntype FormDataType = { [key in string]: any };\n\ntype Props = {\n\tformFields: MessageUsFieldType[];\n\tformId: string;\n\tformat: ArticleFormat;\n\tpageId: string;\n};\n\ninterface FormProps extends Props {\n\tsubmissionURL: string;\n}\n\nconst Form = ({\n\tformFields,\n\tsubmissionURL,\n\tformId,\n\tformat,\n\tpageId,\n}: FormProps) => {\n\tconst [formData, setFormData] = useState<FormDataType>({});\n\tconst [validationErrors, setValidationErrors] = useState<{\n\t\t[key in string]: string;\n\t}>({});\n\n\tconst [networkError, setNetworkError] = useState('');\n\tconst [submissionSuccess, setSubmissionSuccess] = useState(false);\n\tconst [twitterHandle, setTwitterHandle] = useState('');\n\n\tconst setFieldInFormData = (\n\t\tid: string,\n\t\tdata: string | string[] | undefined,\n\t): void => {\n\t\tconst currentErrors = validationErrors;\n\t\tcurrentErrors[id] = '';\n\t\tsetValidationErrors(currentErrors);\n\n\t\tsetFormData({\n\t\t\t...formData,\n\t\t\t[id]: data,\n\t\t});\n\t};\n\n\tconst validateForm = (): boolean => {\n\t\tconst errors: { [key in string]: string } = {};\n\t\tlet isValid = true;\n\t\tformFields.forEach((field: MessageUsFieldType) => {\n\t\t\tif (field.required && !formData[field.id]) {\n\t\t\t\terrors[field.id] = 'This field is required';\n\t\t\t\tisValid = false;\n\t\t\t}\n\t\t\tif (field.type === 'email' && formData[field.id]) {\n\t\t\t\tconst emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n\t\t\t\tif (!emailRegex.test(formData[field.id] as string)) {\n\t\t\t\t\terrors[field.id] = 'Please enter a valid email address';\n\t\t\t\t\tisValid = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (\n\t\t\t\t['number', 'phone'].includes(field.type) &&\n\t\t\t\tformData[field.id]\n\t\t\t) {\n\t\t\t\tconst numberRegex = /^[\\d ()+-]+$/;\n\t\t\t\tif (!numberRegex.test(formData[field.id] as string)) {\n\t\t\t\t\terrors[field.id] = 'Please enter a valid number';\n\t\t\t\t\tisValid = false;\n\t\t\t\t}\n\t\t\t\tconst noWhiteSpace = formData[field.id] as string;\n\t\t\t\tif (noWhiteSpace.length < 10) {\n\t\t\t\t\terrors[field.id] = 'Please include your dialling/area code';\n\t\t\t\t\tisValid = false;\n\t\t\t\t}\n\t\t\t\t// We should have checks here for min length and max length - this work is ticketed here https://trello.com/c/7sYM6Zzd/822-add-validation-for-max-min-length-on-the-message-us-work\n\t\t\t}\n\t\t\treturn isValid;\n\t\t});\n\t\tsetValidationErrors(errors);\n\t\treturn Object.keys(errors).length === 0;\n\t};\n\n\tconst submitForm = async (form: FormDataType) => {\n\t\tsetNetworkError('');\n\n\t\tif (formData.twitterHandle) {\n\t\t\tsetNetworkError('Sorry we think you are a robot.');\n\t\t\treturn;\n\t\t}\n\t\t// need to add prefix `field_` to all keys in form, required by formstack\n\t\tconst formDataWithFieldPrefix = Object.keys(formData).reduce(\n\t\t\t(acc, cur) => ({\n\t\t\t\t...acc,\n\t\t\t\t[`field_${cur}`]: form[cur],\n\t\t\t}),\n\t\t\t{},\n\t\t);\n\t\treturn fetch(submissionURL, {\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\tformId,\n\t\t\t\t...formDataWithFieldPrefix,\n\t\t\t}),\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/x-www-form-urlencoded',\n\t\t\t},\n\t\t})\n\t\t\t.then((resp) => {\n\t\t\t\tif (resp.status === 201) {\n\t\t\t\t\tsetSubmissionSuccess(true);\n\t\t\t\t} else {\n\t\t\t\t\tsetNetworkError(\n\t\t\t\t\t\t'Sorry, there was a problem submitting your form. Please try again later.',\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((respError) => {\n\t\t\t\twindow.guardian.modules.sentry.reportError(\n\t\t\t\t\trespError,\n\t\t\t\t\t'message-us-submission',\n\t\t\t\t);\n\n\t\t\t\tsetNetworkError(\n\t\t\t\t\t'Sorry, there was a problem submitting your message. Please try again later.',\n\t\t\t\t);\n\t\t\t});\n\t};\n\n\tif (submissionSuccess) {\n\t\treturn (\n\t\t\t<div css={containerStyles(format)}>\n\t\t\t\t<div css={tickBoxStyles}>\n\t\t\t\t\t<SvgTickRound />\n\t\t\t\t</div>\n\t\t\t\t<div css={successStyles}>\n\t\t\t\t\tThank you for submitting your message.\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div css={containerStyles(format)}>\n\t\t\t<div css={prefaceStyles}>\n\t\t\t\t<span css={{ fontWeight: 'bold' }}>Please note: </span>This is\n\t\t\t\tnot a public comment – only the Guardian can see your message.\n\t\t\t\tOur writers will monitor these messages and respond to some in\n\t\t\t\tthis live blog, but unfortunately they will not be able to\n\t\t\t\trespond to every message.\n\t\t\t</div>\n\t\t\t<form\n\t\t\t\tcss={formStyles}\n\t\t\t\tnoValidate={true}\n\t\t\t\tonSubmit={(e) => {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tconst isValid = validateForm();\n\t\t\t\t\tif (!isValid) {\n\t\t\t\t\t\tconst firstInvalidFormElement: HTMLInputElement =\n\t\t\t\t\t\t\tdocument.querySelectorAll(\n\t\t\t\t\t\t\t\t':invalid',\n\t\t\t\t\t\t\t)[1] as HTMLInputElement;\n\t\t\t\t\t\tfirstInvalidFormElement.focus();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tvoid submitForm(formData);\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{Object.values(validationErrors).filter((err) => err !== '')\n\t\t\t\t\t.length > 0 && (\n\t\t\t\t\t<ErrorSummary\n\t\t\t\t\t\tmessage=\"Some information is missing.\"\n\t\t\t\t\t\tcontext=\"Please complete all required fields.\"\n\t\t\t\t\t\tcssOverrides={css`\n\t\t\t\t\t\t\twidth: fit-content;\n\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\tmargin-bottom: ${space[4]}px;\n\t\t\t\t\t\t`}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\t{formFields.map((formField) => (\n\t\t\t\t\t<div css={formFieldWrapperStyles} key={formField.id}>\n\t\t\t\t\t\t<FormField\n\t\t\t\t\t\t\tformField={formField}\n\t\t\t\t\t\t\tformData={formData}\n\t\t\t\t\t\t\tsetFieldInFormData={setFieldInFormData}\n\t\t\t\t\t\t\tvalidationErrors={validationErrors}\n\t\t\t\t\t\t\tpageId={pageId}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t\t<div css={textStyles}>\n\t\t\t\t\tYou must be 18 or over to fill in this form. We will only\n\t\t\t\t\tuse this data for the purpose of improving our live blogs.\n\t\t\t\t\tFor more information please read our terms of service and\n\t\t\t\t\tprivacy policy. If you have something sensitive to share\n\t\t\t\t\twith us, contact the Guardian securely. By submitting your\n\t\t\t\t\tmessage, you are agreeing to share your details with us,\n\t\t\t\t\twhich we may use in this blog.\n\t\t\t\t</div>\n\t\t\t\t{/* this element is a H O N £ Y - P 0 T */}\n\t\t\t\t<div\n\t\t\t\t\tcss={css`\n\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\tleft: -62.5rem;\n\t\t\t\t\t`}\n\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t>\n\t\t\t\t\t<input\n\t\t\t\t\t\tname=\"twitter-handle\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tid=\"twitter-handle\"\n\t\t\t\t\t\ttabIndex={-1}\n\t\t\t\t\t\tplaceholder=\"@mytwitterhandle\"\n\t\t\t\t\t\tvalue={twitterHandle}\n\t\t\t\t\t\tonChange={(e) => setTwitterHandle(e.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t{!!networkError && (\n\t\t\t\t\t<div css={errorTextStyles}>{networkError}</div>\n\t\t\t\t)}\n\t\t\t\t<div css={footerPaddingStyles}>\n\t\t\t\t\t<Button type=\"submit\" cssOverrides={submitButtonStyles}>\n\t\t\t\t\t\tSend to the Guardian\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</div>\n\t);\n};\n\nconst detailsStyles: SerializedStyles = css`\n\t&:not([open]) .is-open,\n\t&[open] .is-closed {\n\t\tdisplay: none;\n\t}\n\n\t&[open] summary {\n\t\ttext-decoration: underline;\n\t}\n\n\t/* removes toggle triangle from webkit browsers such as Safari */\n\tsummary::-webkit-details-marker {\n\t\tdisplay: none;\n\t}\n`;\n\nconst summaryStyles = css`\n\tcursor: pointer;\n\t&:focus {\n\t\t${focusHalo};\n\t}\n\t&:first-child {\n\t\tmargin-left: -4px;\n\t}\n\tpath {\n\t\t${until.desktop} {\n\t\t\tfill: white;\n\t\t}\n\t}\n\t.is-open,\n\t.is-closed {\n\t\tsvg {\n\t\t\theight: ${space[3]}px;\n\t\t}\n\t}\n\t${textSans.small({ fontWeight: 'bold' })};\n\tdisplay: flex;\n\talign-items: center;\n\tmargin-bottom: ${space[2]}px;\n\t${until.desktop} {\n\t\tcolor: white;\n\t}\n`;\n\n/**\n * # Send a Message Component\n *\n * A callout for readers to get in touch with a liveblogger directly.\n *\n * ## Why does this need to be an Island?\n *\n * We are responding to user interactions on the page,\n * and submitting a form.\n *\n */\n\nexport const SendAMessage = ({ formFields, formId, format, pageId }: Props) => {\n\treturn (\n\t\t<details css={detailsStyles}>\n\t\t\t<summary css={summaryStyles}>\n\t\t\t\t<SvgMessageRound size=\"medium\" />\n\t\t\t\tSend us a message\n\t\t\t\t<span className=\"is-open\">\n\t\t\t\t\t<SvgChevronUpSingle size=\"xsmall\" />\n\t\t\t\t</span>\n\t\t\t\t<span className=\"is-closed\">\n\t\t\t\t\t<SvgChevronDownSingle size=\"xsmall\" />\n\t\t\t\t</span>\n\t\t\t</summary>\n\t\t\t<Form\n\t\t\t\tformFields={formFields}\n\t\t\t\tsubmissionURL={CALLOUT_URL}\n\t\t\t\tformId={formId}\n\t\t\t\tformat={format}\n\t\t\t\tpageId={pageId}\n\t\t\t/>\n\t\t</details>\n\t);\n};\n","import { isExpired } from './time.js';\n\nconst initCore = (config) => {\n    const { mvtMaxValue = 1000000, mvtId, pageIsSensitive, abTestSwitches, forcedTestVariants, forcedTestException, arrayOfTestObjects = [], } = config;\n    /**\n     * We only take account of a variant's canRun function if it's defined.\n     * If it's not, assume the variant can be run.\n     */\n    const variantCanBeRun = (variant) => {\n        const isInTest = variant.id !== 'notintest';\n        if (variant.canRun) {\n            return variant.canRun() && isInTest;\n        }\n        else {\n            return isInTest;\n        }\n    };\n    const testCanBeRun = (test) => {\n        const expired = isExpired(test.expiry);\n        const testShouldShowForSensitive = !!test.showForSensitive;\n        const isTestOn = abTestSwitches[`ab${test.id}`] && !!abTestSwitches[`ab${test.id}`];\n        const canTestBeRun = test.canRun();\n        return ((pageIsSensitive ? testShouldShowForSensitive : true) &&\n            !!isTestOn &&\n            !expired &&\n            canTestBeRun);\n    };\n    /**\n     *\n     * Determine whether the user is in the test or not\n     * and return the associated variant ID, based on the MVT id segmentation.\n     *\n     * The test population is just a subset of MVT ids. A test population must\n     * begin from a specific value. Overlapping test ranges are permitted.\n     */\n    const computeVariantFromMvtCookie = (test) => {\n        const smallestTestId = mvtMaxValue * test.audienceOffset;\n        const largestTestId = smallestTestId + mvtMaxValue * test.audience;\n        if (mvtId && mvtId > smallestTestId && mvtId <= largestTestId) {\n            // This mvt test id is in the test range, so allocate it to a test variant.\n            return test.variants[mvtId % test.variants.length] ?? null;\n        }\n        // We return null if there is no variant that matches the test and variant fot the mvtId\n        return null;\n    };\n    const getForcedTestVariant = (test, forcedTestVariants) => {\n        const testId = test.id;\n        const getVariantFromIds = (test, variantId) => test.variants.find((variant) => variant.id === variantId) ?? false;\n        const forcedTest = forcedTestVariants?.[testId]?.variant;\n        return forcedTest ? getVariantFromIds(test, forcedTest) : false;\n    };\n    /**\n     * This is the heart of the A/B testing framework.\n     * It turns an `ABTest` into a `Runnable<ABTest>`,\n     * if indeed the test actually has a variant which could run\n     * on this page view.\n     *\n     * This function can be called at any time,\n     * it should always give the same result for a given page view.\n     */\n    const runnableTest = (test) => {\n        const fromCookie = computeVariantFromMvtCookie(test);\n        const variantFromForcedTest = getForcedTestVariant(test, forcedTestVariants);\n        const forcedOutOfTest = forcedTestException === test.id;\n        const variantToRun = variantFromForcedTest || fromCookie;\n        if (!forcedOutOfTest &&\n            (variantFromForcedTest || testCanBeRun(test)) && // We ignore the test's canRun if the test is forced\n            variantToRun &&\n            (variantFromForcedTest || variantCanBeRun(variantToRun)) // We ignore the variant canRun if the test is forced\n        ) {\n            return {\n                ...test,\n                variantToRun,\n            };\n        }\n        // The test and variant isn't runnable, sorry\n        return null;\n    };\n    const allRunnableTests = (tests) => tests.reduce((prev, currentValue) => {\n        const rt = runnableTest(currentValue);\n        return rt ? [...prev, rt] : prev;\n    }, []);\n    const firstRunnableTest = (tests) => tests\n        .map((test) => runnableTest(test))\n        .find((rt) => rt !== null) ?? null;\n    const isUserInVariant = (testId, variantId) => allRunnableTests(arrayOfTestObjects).some((runnableTest) => {\n        return (runnableTest.id === testId &&\n            runnableTest.variantToRun.id === variantId);\n    });\n    return {\n        allRunnableTests,\n        runnableTest,\n        firstRunnableTest,\n        isUserInVariant,\n    };\n};\n\nexport { initCore };\n//# sourceMappingURL=core.js.map\n","/** TODO: add to shared libs folder */\nconst isExpired = (testExpiry) => {\n    // Get the current time, we check that right now is not after the end of the text expiry\n    const currentTime = new Date().valueOf();\n    // Take the test expiry date and set the hours to the last millisecond of the day\n    const theTestExpiry = new Date(testExpiry).setHours(23, 59, 59, 59);\n    // If the endOfToday at 23:59:59 is after the test expiry date at the same time\n    return currentTime > theTestExpiry;\n};\n\nexport { isExpired };\n//# sourceMappingURL=time.js.map\n","const noop = () => {\n    // Do nothing !\n};\nconst submit = (payload, ophanRecord) => ophanRecord({\n    abTestRegister: payload,\n});\n/**\n * generate an A/B event for Ophan\n */\nconst makeABEvent = (variant, complete) => {\n    const event = {\n        variantName: variant.id,\n        complete,\n    };\n    // TODO Test me\n    if (variant.campaignCode) {\n        event.campaignCodes = [variant.campaignCode];\n    }\n    return event;\n};\n/**\n * Checks if this test will defer its impression by providing its own impression function.\n *\n * If it does, the test won't be included in the Ophan call that happens at pageload, and must fire the impression\n * itself via the callback passed to the `impression` property in the variant.\n */\nconst defersImpression = (test) => test.variants.every((variant) => typeof variant.impression === 'function');\n/**\n * Create a function that will fire an A/B test to Ophan\n */\nconst buildOphanSubmitter = (test, variant, complete, ophanRecord) => {\n    const data = {\n        [test.id]: makeABEvent(variant, complete),\n    };\n    return () => submit(data, ophanRecord);\n};\n/**\n * Create a function that sets up listener to fire an Ophan `complete` event. This is used in the `success` and\n * `impression` properties of test variants to allow test authors to control when these events are sent out.\n */\nconst registerCompleteEvent = (complete, errorReporter, ophanRecord) => (test) => {\n    const variant = test.variantToRun;\n    const listener = (complete ? variant.success : variant.impression) ?? noop;\n    try {\n        listener(buildOphanSubmitter(test, variant, complete, ophanRecord));\n    }\n    catch (err) {\n        errorReporter(err, {}, false);\n    }\n};\nconst buildOphanPayload = (tests, errorReporter, serverSideTestObj) => {\n    try {\n        const log = {};\n        const serverSideTests = Object.keys(serverSideTestObj).filter((test) => !!serverSideTestObj[test]);\n        // @TODO: Test tests vs server-side tests\n        tests\n            .filter((test) => !defersImpression(test))\n            .forEach((test) => {\n            log[test.id] = makeABEvent(test.variantToRun, false);\n        });\n        serverSideTests.forEach((test) => {\n            const serverSideVariant = {\n                id: 'inTest',\n                test: () => undefined,\n            };\n            log[`ab${test}`] = makeABEvent(serverSideVariant, false);\n        });\n        return log;\n    }\n    catch (error) {\n        // Encountering an error should invalidate the logging process.\n        errorReporter(error, {}, false);\n        return {};\n    }\n};\nconst initOphan = (config) => {\n    const { serverSideTests = {}, errorReporter = () => undefined, ophanRecord = () => undefined, } = config;\n    const registerCompleteEvents = (tests) => {\n        return tests.forEach(registerCompleteEvent(true, errorReporter, ophanRecord));\n    };\n    const registerImpressionEvents = (tests) => {\n        tests\n            .filter(defersImpression)\n            .forEach(registerCompleteEvent(false, errorReporter, ophanRecord));\n    };\n    const trackABTests = (tests) => submit(buildOphanPayload(tests, errorReporter, serverSideTests), ophanRecord);\n    return { registerCompleteEvents, registerImpressionEvents, trackABTests };\n};\n\nexport { initOphan };\n//# sourceMappingURL=ophan.js.map\n","import { initCore } from './core.js';\nimport { initOphan } from './ophan.js';\n\nclass AB {\n    _allRunnableTests;\n    _isUserInVariant;\n    _firstRunnableTest;\n    _runnableTest;\n    _registerCompleteEvents;\n    _registerImpressionEvents;\n    _trackABTests;\n    constructor(config) {\n        const { mvtMaxValue, mvtId, pageIsSensitive, abTestSwitches, serverSideTests, forcedTestVariants, forcedTestException, errorReporter, ophanRecord, arrayOfTestObjects, } = config;\n        const core = initCore({\n            mvtMaxValue,\n            mvtId,\n            pageIsSensitive,\n            abTestSwitches,\n            forcedTestVariants,\n            forcedTestException,\n            arrayOfTestObjects,\n        });\n        const ophan = initOphan({\n            serverSideTests,\n            errorReporter,\n            ophanRecord,\n        });\n        this._allRunnableTests = core.allRunnableTests;\n        this._firstRunnableTest = core.firstRunnableTest;\n        this._runnableTest = core.runnableTest;\n        this._isUserInVariant = core.isUserInVariant;\n        this._registerCompleteEvents = ophan.registerCompleteEvents;\n        this._registerImpressionEvents = ophan.registerImpressionEvents;\n        this._trackABTests = ophan.trackABTests;\n    }\n    // CoreAPI\n    get allRunnableTests() {\n        return this._allRunnableTests;\n    }\n    get firstRunnableTest() {\n        return this._firstRunnableTest;\n    }\n    get runnableTest() {\n        return this._runnableTest;\n    }\n    get isUserInVariant() {\n        return this._isUserInVariant;\n    }\n    // OphanAPI\n    get registerCompleteEvents() {\n        return this._registerCompleteEvents;\n    }\n    get registerImpressionEvents() {\n        return this._registerImpressionEvents;\n    }\n    get trackABTests() {\n        return this._trackABTests;\n    }\n}\n\nexport { AB };\n//# sourceMappingURL=ab.js.map\n","import type { ABTest } from '@guardian/ab-core';\nimport { abTestTest } from './tests/ab-test-test';\nimport { billboardsInMerch } from './tests/billboards-in-merch';\nimport { consentlessAds } from './tests/consentless-ads';\nimport { elementsManager } from './tests/elements-manager';\nimport { integrateIma } from './tests/integrate-ima';\nimport {\n\tnewsletterMerchUnitLighthouseControl,\n\tnewsletterMerchUnitLighthouseVariants,\n} from './tests/newsletter-merch-unit-test';\nimport { signInGateCopyTestJan2023 } from './tests/sign-in-gate-copy-test-variants';\nimport { signInGateMainControl } from './tests/sign-in-gate-main-control';\nimport { signInGateMainVariant } from './tests/sign-in-gate-main-variant';\n\n// keep in sync with ab-tests in frontend\n// https://github.com/guardian/frontend/tree/main/static/src/javascripts/projects/common/modules/experiments/ab-tests.ts\nexport const tests: ABTest[] = [\n\tabTestTest,\n\tsignInGateMainVariant,\n\tsignInGateMainControl,\n\tsignInGateCopyTestJan2023,\n\tnewsletterMerchUnitLighthouseControl,\n\tnewsletterMerchUnitLighthouseVariants,\n\tconsentlessAds,\n\tintegrateIma,\n\tbillboardsInMerch,\n\telementsManager,\n];\n","import type { ABTest } from '@guardian/ab-core';\n\nexport const newsletterMerchUnitLighthouseControl: ABTest = {\n\tid: 'NewsletterMerchUnitLighthouseControl',\n\tstart: '2020-11-11',\n\texpiry: '2020-12-08',\n\tauthor: 'Josh Buckland & Alex Dufournet',\n\tdescription:\n\t\t'Show BAU merch unit to 50% of users. This is the control for the NewsletterMerchUnitLighthouseVariants test.',\n\taudience: 0.5,\n\taudienceOffset: 0.0,\n\tsuccessMeasure:\n\t\t'We see increased engagement from users shown the Newsletters ad unit',\n\taudienceCriteria: 'Website users only.',\n\tidealOutcome: 'Investigate lighthouse segment engagement via newsletters',\n\tshowForSensitive: false,\n\tcanRun: () => true,\n\tvariants: [\n\t\t{\n\t\t\tid: 'control',\n\t\t\ttest: (): void => {},\n\t\t},\n\t],\n};\n\nexport const newsletterMerchUnitLighthouseVariants: ABTest = {\n\tid: 'NewsletterMerchUnitLighthouseVariants',\n\tstart: '2020-11-11',\n\texpiry: '2020-12-08',\n\tauthor: 'Josh Buckland & Alex Dufournet',\n\tdescription:\n\t\t'Show a newsletter advert in the merchandising unit to 25% of users and reader revenue' +\n\t\t'to another 25%. The remaining 50% are covered by NewsletterMerchUnitLighthouseControl ' +\n\t\t'which needs to run at the same time. These two variants test the value of showing ' +\n\t\t'newsletter merch units instead of reader revenue ones. ',\n\taudience: 0.5,\n\taudienceOffset: 0.5,\n\tsuccessMeasure:\n\t\t'We see increased engagement from users shown the Newsletters ad unit',\n\taudienceCriteria: 'Website users only.',\n\tidealOutcome: 'Investigate lighthouse segment engagement via newsletters',\n\tshowForSensitive: false,\n\tcanRun: () => true,\n\tvariants: [\n\t\t{\n\t\t\tid: 'newsletter',\n\t\t\ttest: (): void => {},\n\t\t},\n\t\t{\n\t\t\tid: 'reader-revenue',\n\t\t\ttest: (): void => {},\n\t\t},\n\t],\n};\n","import type { ABTest } from '@guardian/ab-core';\n\nexport const consentlessAds: ABTest = {\n\tid: 'ConsentlessAds',\n\tauthor: '@guardian/commercial-dev',\n\tstart: '2022-08-11',\n\texpiry: '2023-06-01',\n\taudience: 0 / 100,\n\taudienceOffset: 0 / 100,\n\taudienceCriteria: 'All pageviews',\n\tsuccessMeasure: 'Testing Opt Out ads in production',\n\tdescription: 'Use consentless ad stack rather than consented / standalone',\n\tvariants: [\n\t\t{ id: 'control', test: (): void => {} },\n\t\t{ id: 'variant', test: (): void => {} },\n\t],\n\tcanRun: () => true,\n};\n","import type { ABTest } from '@guardian/ab-core';\n\nexport const billboardsInMerch: ABTest = {\n\tid: 'BillboardsInMerch',\n\tauthor: '@commercial-dev',\n\tstart: '2022-12-07',\n\texpiry: '2023-02-31',\n\taudience: 0 / 100,\n\taudienceOffset: 0 / 100,\n\taudienceCriteria: 'Opt in only',\n\tsuccessMeasure:\n\t\t'Test the commercial impact of showing billboard adverts in merchandising slots',\n\tdescription:\n\t\t'Show billboard adverts in merchandising slots to browsers in the variant',\n\tvariants: [\n\t\t// TODO Bypass metrics sampling once we increase audience size\n\t\t{ id: 'control', test: (): void => {} },\n\t\t// TODO Bypass metrics sampling once we increase audience size\n\t\t{ id: 'variant', test: (): void => {} },\n\t],\n\tcanRun: () => true,\n};\n","import type { ABTest } from '@guardian/ab-core';\n\nexport const elementsManager: ABTest = {\n\tid: 'ElementsManager',\n\tauthor: '@commercial-dev',\n\tstart: '2023-02-23',\n\texpiry: '2023-06-30',\n\taudience: 0 / 100,\n\taudienceOffset: 0 / 100,\n\taudienceCriteria: 'Opt in only',\n\tsuccessMeasure: 'Able to serve GEM assets in ad slots on page',\n\tdescription: 'Test serving GEM assets in ad slots on page',\n\tvariants: [\n\t\t{ id: 'control', test: (): void => {} },\n\t\t{ id: 'variant', test: (): void => {} },\n\t],\n\tcanRun: () => true,\n};\n","// Forced AB Test Switches for Cypress testing\n\n// AB test switches are defined in Frontend and required to be \"ON\" for Cypress E2E Tests to successfully run and pass.\n// However, it is useful to be able to switch an AB test on/off in Frontend Admin UI without breaking tests that rely\n// on those switches in another repo (DCR).\n\n// By adding the switches here, and the state we want them to be in when we run Cypress tests, we no longer have to\n// worry about the state of the switch in Frontend. In turn allowing tests to pass even if a switch has changed state\n// in Frontend, e.g. a switch has been set to \"OFF\".\n\n// Add switches to be a specific state in Cypress to this object\nconst cypressSwitches = {\n\tabAbTestTest: true, // Test switch, used for Cypress integration test\n\tabSignInGateMainControl: true,\n\tabSignInGateMainVariant: true,\n\tabSignInGateAusMandatory: true,\n};\n\n// Function to retrieve the switches if running in Cypress\nexport const getCypressSwitches = (): Record<string, boolean> => {\n\t// If running within cypress, return the forced switches\n\tif (window.Cypress) return cypressSwitches;\n\t// Otherwise just return empty object\n\treturn {};\n};\n","import type { Participations } from '@guardian/ab-core';\n\nexport const getForcedParticipationsFromUrl = (\n\twindowHash: string,\n): Participations => {\n\tif (windowHash.startsWith('#ab')) {\n\t\tconst tokens = windowHash.replace('#ab-', '').split(',');\n\t\treturn tokens.reduce<Participations>((obj, token) => {\n\t\t\tconst [testId, variantId] = token.split('=');\n\n\t\t\tif (testId && variantId) {\n\t\t\t\treturn {\n\t\t\t\t\t...obj,\n\t\t\t\t\t[testId]: { variant: variantId },\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn obj;\n\t\t}, {});\n\t}\n\n\treturn {};\n};\n","import { AB } from '@guardian/ab-core';\nimport type { CoreAPIConfig } from '@guardian/ab-core';\nimport { getCookie, log } from '@guardian/libs';\nimport type { ABTestSwitches } from '../../model/enhance-switches';\nimport { getOphanRecordFunction } from '../browser/ophan/ophan';\nimport { tests } from '../experiments/ab-tests';\nimport { getCypressSwitches } from '../experiments/cypress-switches';\nimport { runnableTestsToParticipations } from '../experiments/lib/ab-participations';\nimport { getForcedParticipationsFromUrl } from '../lib/getAbUrlHash';\nimport { setABTests } from '../lib/useAB';\n\ntype Props = {\n\tabTestSwitches: ABTestSwitches;\n\tforcedTestVariants?: CoreAPIConfig['forcedTestVariants'];\n\tisDev: boolean;\n\tpageIsSensitive: CoreAPIConfig['pageIsSensitive'];\n};\n\nexport const SetABTests = ({\n\tisDev,\n\tpageIsSensitive,\n\tabTestSwitches,\n\tforcedTestVariants,\n}: Props) => {\n\tconst mvtId = Number(\n\t\t(isDev &&\n\t\t\tgetCookie({ name: 'GU_mvt_id_local', shouldMemoize: true })) || // Simplify localhost testing by creating a different mvt id\n\t\t\tgetCookie({ name: 'GU_mvt_id', shouldMemoize: true }),\n\t);\n\tif (!mvtId) {\n\t\t// 0 is default and falsy here\n\t\tconsole.log('There is no MVT ID set, see SetABTests.importable.tsx');\n\t}\n\n\tconst ophanRecord = getOphanRecordFunction();\n\n\t// Get the forced switches to use for when running within cypress\n\t// Is empty object if not in cypress\n\tconst cypressAbSwitches = getCypressSwitches();\n\n\tconst allForcedTestVariants = {\n\t\t...forcedTestVariants,\n\t\t...getForcedParticipationsFromUrl(window.location.hash),\n\t};\n\n\tconst ab = new AB({\n\t\tmvtId,\n\t\tpageIsSensitive,\n\t\tabTestSwitches: {\n\t\t\t...abTestSwitches,\n\t\t\t...cypressAbSwitches, // by adding cypress switches below CAPI, we can override any production switch in Cypress\n\t\t},\n\t\tarrayOfTestObjects: tests,\n\t\tophanRecord,\n\t\tforcedTestVariants: allForcedTestVariants,\n\t});\n\n\tconst allRunnableTests = ab.allRunnableTests(tests);\n\tconst participations = runnableTestsToParticipations(allRunnableTests);\n\n\tsetABTests({\n\t\tapi: ab,\n\t\tparticipations,\n\t});\n\n\tab.trackABTests(allRunnableTests);\n\tab.registerImpressionEvents(allRunnableTests);\n\tab.registerCompleteEvents(allRunnableTests);\n\tlog('dotcom', 'AB tests initialised');\n\n\t// we don’t render anything\n\treturn null;\n};\n","import type { ABTest, Participations, Runnable } from '@guardian/ab-core';\nimport { isObject, isString } from '@guardian/libs';\n\nconst isParticipations = (\n\tparticipations: unknown,\n): participations is Participations =>\n\tisObject(participations) &&\n\tObject.values(participations).every(\n\t\t(participation) =>\n\t\t\tisObject(participation) && isString(participation.variant),\n\t);\n\nconst runnableTestsToParticipations = (\n\trunnableTests: readonly Runnable<ABTest>[],\n): Participations =>\n\trunnableTests.reduce(\n\t\t(participations: Participations, { id: testId, variantToRun }) => ({\n\t\t\t...participations,\n\t\t\t...{\n\t\t\t\t[testId]: {\n\t\t\t\t\tvariant: variantToRun.id,\n\t\t\t\t},\n\t\t\t},\n\t\t}),\n\t\t{},\n\t);\n\nexport { isParticipations, runnableTestsToParticipations };\n","import { css } from '@emotion/react';\nimport { joinUrl } from '@guardian/libs';\nimport { between, textSans, until } from '@guardian/source-foundations';\nimport ShareIcon from '../../static/icons/share.svg';\nimport type { Palette } from '../../types/palette';\nimport { decidePalette } from '../lib/decidePalette';\nimport { formatCount } from '../lib/formatCount';\nimport { useApi } from '../lib/useApi';\n\ntype Props = {\n\tajaxUrl: string;\n\tpageId: string;\n\tformat: ArticleFormat;\n};\n\ntype ShareCountType = {\n\tpath: string;\n\tshare_count: number;\n\trefreshStatus: boolean;\n};\n\nconst containerStyles = (palette: Palette) => css`\n\tdisplay: flex;\n\talign-self: flex-end;\n\tflex-direction: column;\n\t${textSans.medium()};\n\tfont-weight: bold;\n\tcolor: ${palette.text.shareCount};\n\n\t${until.desktop} {\n\t\tcolor: ${palette.text.shareCountUntilDesktop};\n\t}\n`;\n\nconst iconContainerStyles = css`\n\theight: 15px;\n\tmargin: 0;\n\ttext-align: right;\n\tmargin-bottom: 3px;\n`;\n\nconst iconStyles = (palette: Palette) => css`\n\tfill: ${palette.fill.shareCountIcon};\n\t${until.desktop} {\n\t\tfill: ${palette.fill.shareCountIconUntilDesktop};\n\t}\n`;\n\nconst longStyles = css`\n\tdisplay: block;\n\n\t${between.leftCol.and.wide} {\n\t\tdisplay: none;\n\t}\n`;\n\nconst shortStyles = css`\n\tdisplay: none;\n\n\t${between.leftCol.and.wide} {\n\t\tdisplay: block;\n\t}\n`;\n\nexport const ShareCount = ({ ajaxUrl, pageId, format }: Props) => {\n\tconst shareUrl = joinUrl(ajaxUrl, 'sharecount', `${pageId}.json`);\n\tconst palette = decidePalette(format);\n\tconst { data: shareData, error: shareError } =\n\t\tuseApi<ShareCountType>(shareUrl);\n\tif (shareError) {\n\t\twindow.guardian.modules.sentry.reportError(shareError, 'share-count');\n\t}\n\n\tconst shareCount = shareData?.share_count;\n\tif (shareCount === undefined || shareCount === 0) return null;\n\n\tconst { short, long } = formatCount(shareCount);\n\n\treturn (\n\t\t<div\n\t\t\tcss={containerStyles(palette)}\n\t\t\taria-label={`${short} Shares`}\n\t\t\tdata-cy=\"share-counts\"\n\t\t>\n\t\t\t<div css={iconContainerStyles}>\n\t\t\t\t<ShareIcon css={iconStyles(palette)} />\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tdata-testid=\"long-share-count\"\n\t\t\t\tcss={longStyles}\n\t\t\t\taria-hidden=\"true\"\n\t\t\t>\n\t\t\t\t{long}\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tdata-testid=\"short-share-count\"\n\t\t\t\tcss={shortStyles}\n\t\t\t\taria-hidden=\"true\"\n\t\t\t>\n\t\t\t\t{short}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import { isObject, isString, storage } from '@guardian/libs';\nimport { useOnce } from '../lib/useOnce';\n\ntype ContainerStates = { [id: string]: string };\n\nconst isContainerStates = (item: unknown): item is ContainerStates => {\n\tif (!isObject(item)) return false;\n\tif (!Object.keys(item).every(isString)) return false;\n\tif (!Object.values(item).every(isString)) return false;\n\treturn true;\n};\n\nconst getContainerStates = (): ContainerStates => {\n\tconst item = storage.local.get(`gu.prefs.container-states`);\n\n\tif (!isContainerStates(item)) return {};\n\n\treturn item;\n};\n\nexport const ShowHideContainers = () => {\n\tuseOnce(() => {\n\t\tconst containerStates = getContainerStates();\n\n\t\tconst toggleContainer = (sectionId: string, element: HTMLElement) => {\n\t\t\tconst isExpanded = element.getAttribute('aria-expanded') === 'true';\n\n\t\t\tconst section: Element | null =\n\t\t\t\twindow.document.getElementById(sectionId);\n\n\t\t\tif (isExpanded) {\n\t\t\t\tcontainerStates[sectionId] = 'closed';\n\t\t\t\tsection?.classList.add('hidden');\n\t\t\t\telement.innerHTML = 'Show';\n\t\t\t\telement.setAttribute('aria-expanded', 'false');\n\t\t\t\telement.setAttribute('data-link-name', 'Show');\n\t\t\t} else {\n\t\t\t\tcontainerStates[sectionId] = 'opened';\n\t\t\t\tsection?.classList.remove('hidden');\n\t\t\t\telement.innerHTML = 'Hide';\n\t\t\t\telement.setAttribute('aria-expanded', 'true');\n\t\t\t\telement.setAttribute('data-link-name', 'Hide');\n\t\t\t}\n\n\t\t\tstorage.local.set(`gu.prefs.container-states`, containerStates);\n\t\t};\n\n\t\twindow.document\n\t\t\t.querySelectorAll<HTMLElement>('[data-show-hide-button]')\n\t\t\t.forEach((e) => {\n\t\t\t\tconst sectionId = e.getAttribute('data-show-hide-button');\n\t\t\t\tif (!sectionId) return;\n\n\t\t\t\te.onclick = () => toggleContainer(sectionId, e);\n\n\t\t\t\tif (containerStates[sectionId] === 'closed') {\n\t\t\t\t\ttoggleContainer(sectionId, e);\n\t\t\t\t}\n\t\t\t});\n\t}, []);\n\n\treturn <></>;\n};\n","import { ArticleDesign, ArticlePillar, ArticleSpecial } from '@guardian/libs';\nimport { getSoleContributor } from '../lib/byline';\nimport type {\n\tDCRContainerPalette,\n\tDCRFrontCard,\n\tDCRSupportingContent,\n\tFEFrontCard,\n\tFESupportingContent,\n} from '../types/front';\nimport type { FETagType, TagType } from '../types/tag';\nimport { decideFormat } from '../web/lib/decideFormat';\nimport { getDataLinkNameCard } from '../web/lib/getDataLinkName';\nimport { enhanceSnaps } from './enhanceSnaps';\n\n/**\n *\n * This function makes the decision about when we use the parent's (the\n * container's) format property to override the styling of a sublink, and\n * when we allow the sublink to express its own styling.\n *\n * Eg. If you had a sublink to a lifestyle article, when should it use pink for\n * the kicker and when would that not look right\n *\n * @returns the format property that we will use to style the sublink\n */\nconst decidePresentationFormat = ({\n\tlinkFormat,\n\tcontainerFormat,\n\tcontainerPalette,\n}: {\n\tlinkFormat?: ArticleFormat;\n\tcontainerFormat: ArticleFormat;\n\tcontainerPalette?: DCRContainerPalette;\n}): ArticleFormat => {\n\t// Some sublinks are to fronts and so don't have a `format` property\n\tif (!linkFormat) return containerFormat;\n\t// If the container has a special palette, use the container format\n\tif (containerPalette) return containerFormat;\n\t// These types of article styles have background styles that sublinks\n\t// need to respect so we use the container format here\n\tif (\n\t\tcontainerFormat.design === ArticleDesign.LiveBlog ||\n\t\tcontainerFormat.design === ArticleDesign.Gallery ||\n\t\tcontainerFormat.design === ArticleDesign.Audio ||\n\t\tcontainerFormat.design === ArticleDesign.Video ||\n\t\tcontainerFormat.theme === ArticleSpecial.SpecialReport ||\n\t\tcontainerFormat.design === ArticleDesign.Analysis\n\t)\n\t\treturn containerFormat;\n\n\t// These types of link format designs mean the headline could render\n\t// poorly (e.g.: white) so we use the container format\n\tif (\n\t\tlinkFormat.design === ArticleDesign.LiveBlog ||\n\t\tlinkFormat.design === ArticleDesign.Gallery ||\n\t\tlinkFormat.design === ArticleDesign.Audio ||\n\t\tlinkFormat.theme === ArticleSpecial.SpecialReport ||\n\t\tlinkFormat.design === ArticleDesign.Video\n\t)\n\t\treturn { ...containerFormat, theme: ArticlePillar.News };\n\n\t// Otherwise, we can allow the sublink to express its own styling\n\treturn linkFormat;\n};\n\nconst enhanceSupportingContent = (\n\tsupportingContent: FESupportingContent[],\n\tformat: ArticleFormat,\n\tcontainerPalette?: DCRContainerPalette,\n): DCRSupportingContent[] => {\n\treturn supportingContent.map((subLink) => {\n\t\t// This is the actual DCR format for this sublink\n\t\tconst linkFormat = subLink.format\n\t\t\t? decideFormat(subLink.format)\n\t\t\t: undefined;\n\t\t// This is the format used to decide how the sublink looks (we vary this based\n\t\t// on the container background colour)\n\t\tconst presentationFormat = decidePresentationFormat({\n\t\t\tlinkFormat,\n\t\t\tcontainerFormat: format,\n\t\t\tcontainerPalette,\n\t\t});\n\n\t\tconst supportingContentIsLive =\n\t\t\tsubLink.format?.design === 'LiveBlogDesign';\n\n\t\treturn {\n\t\t\tformat: presentationFormat,\n\t\t\theadline: subLink.header?.headline ?? '',\n\t\t\turl: subLink.properties.href ?? subLink.header?.url,\n\t\t\tkickerText: supportingContentIsLive\n\t\t\t\t? 'Live'\n\t\t\t\t: subLink.header?.kicker?.item?.properties.kickerText,\n\t\t};\n\t});\n};\n\nconst decideAvatarUrl = (\n\ttags: TagType[] = [],\n\tbyline?: string,\n): string | undefined => {\n\tconst soleContributor = getSoleContributor(tags, byline);\n\treturn soleContributor?.bylineLargeImageUrl ?? undefined;\n};\n\nconst decideImage = (trail: FEFrontCard) => {\n\tif (\n\t\ttrail.type === 'LinkSnap' ||\n\t\ttrail.properties.image?.type === 'Replace'\n\t) {\n\t\treturn trail.properties.image?.item.imageSrc;\n\t}\n\n\tif (trail.display.imageHide) return undefined;\n\n\tif (trail.properties.isCrossword && trail.properties.maybeContentId) {\n\t\treturn `https://api.nextgen.guardianapps.co.uk/${trail.properties.maybeContentId}.svg`;\n\t}\n\n\treturn trail.properties.maybeContent?.trail.trailPicture?.allImages[0]?.url;\n};\n\nconst decideMediaType = (format: ArticleFormat): MediaType | undefined => {\n\tswitch (format.design) {\n\t\tcase ArticleDesign.Gallery:\n\t\t\treturn 'Gallery';\n\t\tcase ArticleDesign.Video:\n\t\t\treturn 'Video';\n\t\tcase ArticleDesign.Audio:\n\t\t\treturn 'Audio';\n\t\tdefault:\n\t\t\treturn undefined;\n\t}\n};\n\nconst decideKicker = (trail: FEFrontCard) => {\n\treturn trail.properties.isBreaking\n\t\t? 'Breaking news'\n\t\t: trail.header.kicker?.item?.properties.kickerText;\n};\n\nconst enhanceTags = (tags: FETagType[]): TagType[] => {\n\treturn tags.map(({ properties }) => {\n\t\tconst {\n\t\t\tid,\n\t\t\ttagType,\n\t\t\twebTitle,\n\t\t\ttwitterHandle,\n\t\t\tbylineImageUrl,\n\t\t\tcontributorLargeImagePath,\n\t\t} = properties;\n\n\t\treturn {\n\t\t\tid,\n\t\t\ttype: tagType,\n\t\t\ttitle: webTitle,\n\t\t\ttwitterHandle,\n\t\t\tbylineImageUrl,\n\t\t\tbylineLargeImageUrl: contributorLargeImagePath,\n\t\t};\n\t});\n};\n\nexport const enhanceCards = (\n\tcollections: FEFrontCard[],\n\tcontainerPalette?: DCRContainerPalette,\n): DCRFrontCard[] =>\n\tcollections.map((faciaCard, index) => {\n\t\t// Snap cards may not have a format, default to a standard format if that's the case.\n\t\tconst format = decideFormat(\n\t\t\tfaciaCard.format ?? {\n\t\t\t\tdesign: 'ArticleDesign',\n\t\t\t\ttheme: 'NewsPillar',\n\t\t\t\tdisplay: 'StandardDisplay',\n\t\t\t},\n\t\t);\n\t\tconst group = `${faciaCard.card.group}${\n\t\t\tfaciaCard.display.isBoosted ? '+' : ''\n\t\t}`;\n\t\tconst dataLinkName = getDataLinkNameCard(format, group, index + 1);\n\n\t\tconst tags = faciaCard.properties.maybeContent?.tags.tags\n\t\t\t? enhanceTags(faciaCard.properties.maybeContent.tags.tags)\n\t\t\t: [];\n\n\t\t/**\n\t\t * The URL parameter on a Snap header will be a link to the Snap itself, there is a second href\n\t\t * property which contains what the snap is actually linking to. This is commonly used in the\n\t\t * NavList container for linking to non-article pages.\n\t\t * @see NavList\n\t\t */\n\t\tconst url =\n\t\t\tfaciaCard.type === 'LinkSnap' && faciaCard.properties.href\n\t\t\t\t? faciaCard.properties.href\n\t\t\t\t: faciaCard.header.url;\n\n\t\treturn {\n\t\t\tformat,\n\t\t\tdataLinkName,\n\t\t\turl,\n\t\t\theadline: faciaCard.header.headline,\n\t\t\ttrailText: faciaCard.card.trailText,\n\t\t\tstarRating: faciaCard.card.starRating,\n\t\t\twebPublicationDate:\n\t\t\t\tfaciaCard.card.webPublicationDateOption !== undefined\n\t\t\t\t\t? new Date(\n\t\t\t\t\t\t\tfaciaCard.card.webPublicationDateOption,\n\t\t\t\t\t  ).toISOString()\n\t\t\t\t\t: undefined,\n\t\t\timage: decideImage(faciaCard),\n\t\t\tkickerText: decideKicker(faciaCard),\n\t\t\tsupportingContent: faciaCard.supportingContent\n\t\t\t\t? enhanceSupportingContent(\n\t\t\t\t\t\tfaciaCard.supportingContent,\n\t\t\t\t\t\tformat,\n\t\t\t\t\t\tcontainerPalette,\n\t\t\t\t  )\n\t\t\t\t: undefined,\n\t\t\tdiscussionId: faciaCard.discussion.isCommentable\n\t\t\t\t? faciaCard.discussion.discussionId\n\t\t\t\t: undefined,\n\t\t\t// nb. there is a distinct 'byline' property on FEFrontCard, at\n\t\t\t// card.properties.byline\n\t\t\tbyline:\n\t\t\t\tfaciaCard.properties.maybeContent?.trail.byline ?? undefined,\n\t\t\tshowByline: faciaCard.properties.showByline,\n\t\t\tsnapData: enhanceSnaps(faciaCard.enriched),\n\t\t\tisBoosted: faciaCard.display.isBoosted,\n\t\t\tisCrossword: faciaCard.properties.isCrossword,\n\t\t\tshowQuotedHeadline: faciaCard.display.showQuotedHeadline,\n\t\t\tavatarUrl:\n\t\t\t\tfaciaCard.properties.maybeContent?.tags.tags &&\n\t\t\t\tfaciaCard.properties.image?.type === 'Cutout'\n\t\t\t\t\t? decideAvatarUrl(\n\t\t\t\t\t\t\ttags,\n\t\t\t\t\t\t\tfaciaCard.properties.maybeContent.trail.byline,\n\t\t\t\t\t  )\n\t\t\t\t\t: undefined,\n\t\t\tmediaType: decideMediaType(format),\n\t\t\tmediaDuration:\n\t\t\t\tfaciaCard.properties.maybeContent?.elements.mediaAtoms[0]\n\t\t\t\t\t?.duration,\n\t\t\tshowMainVideo: faciaCard.properties.showMainVideo,\n\t\t\tisExternalLink: faciaCard.card.cardStyle.type === 'ExternalLink',\n\t\t};\n\t});\n","import { css } from '@emotion/react';\nimport { from, space, until } from '@guardian/source-foundations';\nimport type { DCRContainerPalette } from '../../../../types/front';\nimport { verticalDivider } from '../../../lib/verticalDivider';\n\ntype Direction = 'row' | 'column' | 'row-reverse';\n\nconst ulStyles = (direction: Direction) => css`\n\tposition: relative;\n\tdisplay: flex;\n\tflex-direction: ${direction};\n\trow-gap: 12px;\n\t${until.tablet} {\n\t\tflex-direction: column;\n\t\twidth: 100%;\n\t}\n`;\n\nconst wrapStyles = css`\n\t${from.tablet} {\n\t\tflex-wrap: wrap;\n\t}\n`;\n\nconst marginBottomStyles = css`\n\tmargin-bottom: ${space[3]}px;\n`;\n\ntype Props = {\n\tchildren: React.ReactNode;\n\t/** Passed to flex-direction */\n\tdirection?: Direction;\n\t/** If this UL is a column and not the left most column */\n\tshowDivider?: boolean;\n\t/** If this UL is a row, add spacing below */\n\tpadBottom?: boolean;\n\t/** Used to keep cards aligned in adjacent columns */\n\twrapCards?: boolean;\n\tcontainerPalette?: DCRContainerPalette;\n};\n\nexport const UL = ({\n\tchildren,\n\tdirection = 'column',\n\tshowDivider = false,\n\tpadBottom = false,\n\twrapCards = false,\n\tcontainerPalette,\n}: Props) => {\n\treturn (\n\t\t<ul\n\t\t\tcss={[\n\t\t\t\tulStyles(direction),\n\t\t\t\tshowDivider && verticalDivider(containerPalette),\n\t\t\t\tpadBottom && marginBottomStyles,\n\t\t\t\twrapCards && wrapStyles,\n\t\t\t]}\n\t\t>\n\t\t\t{children}\n\t\t</ul>\n\t);\n};\n","import { ArticleDesign } from '@guardian/libs';\nimport type { DCRFrontCard } from '../../types/front';\nimport type { Props as CardProps } from './Card/Card';\nimport { Card } from './Card/Card';\n\ntype Props = {\n\ttrail: DCRFrontCard;\n} & Partial<CardProps>;\n\n/**\n * A wrapper around the normal Card component providing sensible defaults for Cards on front containers.\n *\n * Any prop used by the original Card can be used in FrontCard to override the defaults.\n *\n * Note: Below parameters are not an exhaustive list of params used by FrontCard, rather they are a list of\n * commonly overridden params to make it easier for a developer to know if they actually need to override these values.\n *\n * @param props\n * @param [props.headlineSize] - Defaults to \"medium\"\n * @param [props.imagePosition] - Defaults to \"top\"\n * @param [props.imagePositionOnMobile] - Defaults to \"left\"\n * @param [props.imageSize] - Defaults to \"small\"\n * @param [props.supportingContent] - Defaults to undefined, set to trail.supportingContent if you want this card to show sublinks.\n * @param [props.trailText] - Defaults to undefined, set to `trail.trailText` if you want this card to show trail text.\n */\nexport const FrontCard = (props: Props) => {\n\tconst { trail, ...cardProps } = props;\n\tconst defaultProps: CardProps = {\n\t\tlinkTo: trail.url,\n\t\tformat: trail.format,\n\t\theadlineText: trail.headline,\n\t\tbyline: trail.byline,\n\t\tshowByline: trail.showByline,\n\t\tshowQuotedHeadline: trail.showQuotedHeadline,\n\t\twebPublicationDate: trail.webPublicationDate,\n\t\tkickerText: trail.kickerText,\n\t\tshowPulsingDot: trail.format.design === ArticleDesign.LiveBlog,\n\t\tshowClock: false,\n\t\timageUrl: trail.image,\n\t\tisCrossword: trail.isCrossword,\n\t\tmediaType: trail.mediaType,\n\t\tmediaDuration: trail.mediaDuration,\n\t\tstarRating: trail.starRating,\n\t\tdataLinkName: trail.dataLinkName,\n\t\tsnapData: trail.snapData,\n\t\tdiscussionId: trail.discussionId,\n\t\tavatarUrl: trail.avatarUrl,\n\t\tshowMainVideo: trail.showMainVideo,\n\t\tisExternalLink: trail.isExternalLink,\n\t};\n\n\treturn Card({ ...defaultProps, ...cardProps });\n};\n","import { css } from '@emotion/react';\nimport {\n\tfrom,\n\tneutral,\n\tspace,\n\tvisuallyHidden,\n} from '@guardian/source-foundations';\nimport {\n\tButton,\n\tInlineError,\n\tSvgCross,\n\tSvgPlus,\n} from '@guardian/source-react-components';\nimport { useEffect, useState } from 'react';\nimport { enhanceCards } from '../../model/enhanceCards';\nimport type { DCRContainerPalette, FEFrontCard } from '../../types/front';\nimport { shouldPadWrappableRows } from '../lib/dynamicSlices';\nimport { useApi } from '../lib/useApi';\nimport { useOnce } from '../lib/useOnce';\nimport { LI } from './Card/components/LI';\nimport { UL } from './Card/components/UL';\nimport { FrontCard } from './FrontCard';\n\nfunction decideButtonText({\n\tisOpen,\n\tloading,\n\ttitle,\n}: {\n\tisOpen: boolean;\n\tloading: boolean;\n\ttitle: string;\n}) {\n\tif (isOpen && loading) return 'Loading';\n\tif (isOpen) return `Less ${title}`;\n\treturn `More ${title}`;\n}\n\ntype Props = {\n\ttitle: string;\n\tpageId: string;\n\t/**\n\t * `collectionId` is the id of the collection as it figures in the fronts\n\t * config. It is used to generate the URL for the show-more API endpoint.\n\t */\n\tcollectionId: string;\n\t/**\n\t * The value of the `id` attribute on the container element that this 'show more'\n\t * button sits beneath. The main container is server-side rendered, so this show more\n\t * button needs to access its contents on the client side so that we can check whether\n\t * any of the stories received from the `show-more` endpoint are already being displayed\n\t * in the main container. (This can happen due to a lag between when the page is SSRd\n\t * and when the user clicks the 'show more' button.)\n\t */\n\tsectionId: string;\n\tshowAge: boolean;\n\tajaxUrl: string;\n\tcontainerPalette?: DCRContainerPalette;\n};\n\nexport const ShowMore = ({\n\ttitle,\n\tpageId,\n\tsectionId,\n\tcollectionId,\n\tshowAge,\n\tajaxUrl,\n\tcontainerPalette,\n}: Props) => {\n\tconst [existingCardLinks, setExistingCardLinks] = useState<string[]>([]);\n\tconst [isOpen, setIsOpen] = useState(false);\n\n\t/**\n\t * Store the URLs of the cards in the main container for this button, to\n\t * allow us to filter out duplicated stories when we load them from the\n\t * 'show-more' endpoint.\n\t */\n\tuseOnce(() => {\n\t\tconst container = document.getElementById(`container-${sectionId}`);\n\t\tconst containerLinks = Array.from(\n\t\t\tcontainer?.querySelectorAll('a') ?? [],\n\t\t)\n\t\t\t.map((element) => element.attributes.getNamedItem('href')?.value)\n\t\t\t// Remove values that are not strings and coerce the type to a string[]\n\t\t\t.filter((item): item is string => !!item);\n\n\t\tsetExistingCardLinks(containerLinks);\n\t}, []);\n\n\t/** We only pass an actual URL to SWR when 'showMore' is true.\n\t * Toggling 'isOpen' will trigger a re-render\n\t *   @see https://swr.vercel.app/docs/conditional-fetching#conditional\n\t */\n\tconst url = isOpen\n\t\t? `${ajaxUrl}/${pageId}/show-more/${collectionId}.json?dcr=true`\n\t\t: undefined;\n\tconst { data, error, loading } = useApi<FEFrontCard[]>(url);\n\n\tconst cards =\n\t\tdata &&\n\t\tenhanceCards(data).filter(\n\t\t\t(card) => !existingCardLinks.includes(card.url),\n\t\t);\n\n\tconst showMoreContainerId = `show-more-${collectionId}`;\n\n\tuseEffect(() => {\n\t\t/**\n\t\t * Focus the first of the new cards when they're loaded in.\n\t\t * There's no need to check `isOpen` here because if `isOpen` is\n\t\t * `false` then `filteredData` will be `undefined`.\n\t\t * */\n\n\t\tconst [card] = cards ?? [];\n\t\tif (card) {\n\t\t\tconst maybeFirstCard = document.querySelector(\n\t\t\t\t`#${showMoreContainerId} [data-link-name=\"${card.dataLinkName}\"]`,\n\t\t\t);\n\t\t\tif (maybeFirstCard instanceof HTMLElement) {\n\t\t\t\tmaybeFirstCard.focus();\n\t\t\t}\n\t\t}\n\t}, [cards, showMoreContainerId]);\n\n\treturn (\n\t\t<>\n\t\t\t<div id={showMoreContainerId} aria-live=\"polite\">\n\t\t\t\t{cards && (\n\t\t\t\t\t<div\n\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\tpadding-top: ${space[2]}px;\n\t\t\t\t\t\t`}\n\t\t\t\t\t>\n\t\t\t\t\t\t<UL direction=\"row\" wrapCards={true}>\n\t\t\t\t\t\t\t{cards.map((card, cardIndex) => {\n\t\t\t\t\t\t\t\tconst columns = 3;\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<LI\n\t\t\t\t\t\t\t\t\t\tkey={card.url}\n\t\t\t\t\t\t\t\t\t\tpercentage=\"33.333%\"\n\t\t\t\t\t\t\t\t\t\tstretch={cards.length % columns !== 1}\n\t\t\t\t\t\t\t\t\t\tpadSides={true}\n\t\t\t\t\t\t\t\t\t\tshowDivider={cardIndex % columns !== 0}\n\t\t\t\t\t\t\t\t\t\toffsetBottomPaddingOnDivider={shouldPadWrappableRows(\n\t\t\t\t\t\t\t\t\t\t\tcardIndex,\n\t\t\t\t\t\t\t\t\t\t\tcards.length -\n\t\t\t\t\t\t\t\t\t\t\t\t(cards.length % columns),\n\t\t\t\t\t\t\t\t\t\t\tcolumns,\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<FrontCard\n\t\t\t\t\t\t\t\t\t\t\ttrail={card}\n\t\t\t\t\t\t\t\t\t\t\timageUrl={undefined}\n\t\t\t\t\t\t\t\t\t\t\tavatarUrl={undefined}\n\t\t\t\t\t\t\t\t\t\t\tcontainerPalette={containerPalette}\n\t\t\t\t\t\t\t\t\t\t\tshowAge={showAge}\n\t\t\t\t\t\t\t\t\t\t\theadlineSize=\"small\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</LI>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</UL>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tcss={[\n\t\t\t\t\tcss`\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t`,\n\t\t\t\t]}\n\t\t\t>\n\t\t\t\t<Button\n\t\t\t\t\tsize=\"xsmall\"\n\t\t\t\t\ticon={isOpen ? <SvgCross /> : <SvgPlus />}\n\t\t\t\t\tisLoading={loading}\n\t\t\t\t\ticonSide=\"left\"\n\t\t\t\t\tonClick={() => setIsOpen(!isOpen)}\n\t\t\t\t\tcssOverrides={css`\n\t\t\t\t\t\tmargin-top: ${space[4]}px;\n\t\t\t\t\t\tmargin-right: 10px;\n\t\t\t\t\t\tcolor: ${neutral[100]};\n\t\t\t\t\t\tbackground-color: ${neutral[7]};\n\t\t\t\t\t\tborder-color: ${neutral[7]};\n\t\t\t\t\t\t&:hover {\n\t\t\t\t\t\t\tbackground-color: ${neutral[46]};\n\t\t\t\t\t\t\tborder-color: ${neutral[46]};\n\t\t\t\t\t\t}\n\t\t\t\t\t\t${from.tablet} {\n\t\t\t\t\t\t\tmargin-left: 10px;\n\t\t\t\t\t\t}\n\t\t\t\t\t`}\n\t\t\t\t\taria-controls={showMoreContainerId}\n\t\t\t\t\taria-expanded={isOpen && !loading}\n\t\t\t\t\taria-describedby={`show-more-button-${collectionId}-description`}\n\t\t\t\t>\n\t\t\t\t\t{decideButtonText({\n\t\t\t\t\t\tisOpen,\n\t\t\t\t\t\tloading,\n\t\t\t\t\t\ttitle,\n\t\t\t\t\t})}\n\t\t\t\t</Button>\n\t\t\t\t<span\n\t\t\t\t\tid={`show-more-button-${collectionId}-description`}\n\t\t\t\t\tcss={css`\n\t\t\t\t\t\t${visuallyHidden}\n\t\t\t\t\t`}\n\t\t\t\t>\n\t\t\t\t\tLoads more stories and moves focus to first new story.\n\t\t\t\t</span>\n\t\t\t\t{error && (\n\t\t\t\t\t<InlineError\n\t\t\t\t\t\tcssOverrides={css`\n\t\t\t\t\t\t\tfont-size: 14px;\n\t\t\t\t\t\t\tpadding-top: 18px;\n\t\t\t\t\t\t`}\n\t\t\t\t\t>\n\t\t\t\t\t\tSorry, failed to load more stories. Retrying in a few\n\t\t\t\t\t\tseconds.\n\t\t\t\t\t</InlineError>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</>\n\t);\n};\n","import type { DCRSnapType, FESnapType } from '../types/front';\n\n/**\n *\n * This function takes a `FESnapType` and turns it into a `DCRSnapType`. It mutates\n * certain properties such as embedCss to work with Emotion.\n *\n * @returns the DCR snap with its properties mutated\n */\nexport const enhanceSnaps = (\n\tsnap: FESnapType | undefined,\n): DCRSnapType | undefined => {\n\tconst dcrSnap = snap;\n\n\t// Emotion doesn't parse this conditional CSS correctly which is used by some thrashers to check\n\t// if there’s a page skin. This regex fixes the vast majority of these cases should allow future snaps\n\t// to be built with DCR in mind.\n\tif (dcrSnap?.embedCss) {\n\t\tdcrSnap.embedCss = dcrSnap.embedCss.replace(\n\t\t\t/body:not\\(\\.has-active-pageskin\\)(?! &)/g,\n\t\t\t'body:not(.has-active-pageskin) &',\n\t\t);\n\t}\n\n\treturn dcrSnap;\n};\n","import type {\n\tDCRContainerPalette,\n\tDCRFrontCard,\n\tDCRGroupedTrails,\n} from '../../types/front';\nimport type { TrailType } from '../../types/trails';\nimport { LI } from '../components/Card/components/LI';\nimport { UL } from '../components/Card/components/UL';\nimport {\n\tCard100Media100,\n\tCard100Media75,\n\tCard25Media25,\n\tCard25Media25Tall,\n\tCard50Media50,\n\tCard50Media50Tall,\n\tCard75Media50Left,\n\tCard75Media50Right,\n} from './cardWrappers';\n\n/**\n * A place for shared slices which are used across multiple dynamic/ containers\n *\n * ASCII Art Guide:\n * '#'            => Image\n * ' ' | '_'      => text / trail / supporting content\n */\n\n/* ._________________._________________.\n * |#################|#################|\n * |#################|#################|\n * |_________________|_________________|\n */\nexport const Card50_Card50 = ({\n\tcards,\n\tcontainerPalette,\n\tshowAge,\n}: {\n\tcards: DCRFrontCard[];\n\tcontainerPalette?: DCRContainerPalette;\n\tshowAge?: boolean;\n}) => {\n\tconst cards50 = cards.slice(0, 2);\n\n\treturn (\n\t\t<UL direction=\"row\" padBottom={true}>\n\t\t\t{cards50.map((trail, index) => (\n\t\t\t\t<LI\n\t\t\t\t\tkey={trail.url}\n\t\t\t\t\tpercentage=\"50%\"\n\t\t\t\t\tpadSides={true}\n\t\t\t\t\tshowDivider={index !== 0}\n\t\t\t\t\tcontainerPalette={containerPalette}\n\t\t\t\t>\n\t\t\t\t\t<Card50Media50Tall\n\t\t\t\t\t\ttrail={trail}\n\t\t\t\t\t\tcontainerPalette={containerPalette}\n\t\t\t\t\t\tshowAge={showAge}\n\t\t\t\t\t/>\n\t\t\t\t</LI>\n\t\t\t))}\n\t\t</UL>\n\t);\n};\n\n/* ._________________________._________.\n * |         ################|#########|\n * |         ################|#########|\n * |_________################|_________|\n */\nexport const Card75_Card25 = ({\n\tcards,\n\tcontainerPalette,\n\tshowAge,\n}: {\n\tcards: DCRFrontCard[];\n\tcontainerPalette?: DCRContainerPalette;\n\tshowAge?: boolean;\n}) => {\n\tconst card75 = cards.slice(0, 1);\n\tconst card25 = cards.slice(1, 2);\n\n\treturn (\n\t\t<UL direction=\"row\" padBottom={true}>\n\t\t\t{card75.map((trail) => (\n\t\t\t\t<LI key={trail.url} percentage=\"75%\" padSides={true}>\n\t\t\t\t\t<Card75Media50Right\n\t\t\t\t\t\ttrail={trail}\n\t\t\t\t\t\tshowAge={showAge}\n\t\t\t\t\t\tcontainerPalette={containerPalette}\n\t\t\t\t\t/>\n\t\t\t\t</LI>\n\t\t\t))}\n\t\t\t{card25.map((trail) => (\n\t\t\t\t<LI\n\t\t\t\t\tkey={trail.url}\n\t\t\t\t\tpercentage=\"25%\"\n\t\t\t\t\tpadSides={true}\n\t\t\t\t\tshowDivider={true}\n\t\t\t\t\tcontainerPalette={containerPalette}\n\t\t\t\t>\n\t\t\t\t\t<Card25Media25\n\t\t\t\t\t\ttrail={trail}\n\t\t\t\t\t\tshowAge={showAge}\n\t\t\t\t\t\tcontainerPalette={containerPalette}\n\t\t\t\t\t/>\n\t\t\t\t</LI>\n\t\t\t))}\n\t\t</UL>\n\t);\n};\n\n/* ._________________________._________.\n * |#########|###############          |\n * |#########|###############          |\n * |_________|###############__________|\n */\nexport const Card25_Card75 = ({\n\tcards,\n\tcontainerPalette,\n\tshowAge,\n}: {\n\tcards: DCRFrontCard[];\n\tcontainerPalette?: DCRContainerPalette;\n\tshowAge?: boolean;\n}) => {\n\tconst card25 = cards.slice(0, 1);\n\tconst card75 = cards.slice(1, 2);\n\n\treturn (\n\t\t<UL direction=\"row\" padBottom={true}>\n\t\t\t{card25.map((trail) => (\n\t\t\t\t<LI key={trail.url} percentage=\"25%\" padSides={true}>\n\t\t\t\t\t<Card25Media25\n\t\t\t\t\t\ttrail={trail}\n\t\t\t\t\t\tshowAge={showAge}\n\t\t\t\t\t\tcontainerPalette={containerPalette}\n\t\t\t\t\t/>\n\t\t\t\t</LI>\n\t\t\t))}\n\t\t\t{card75.map((trail) => (\n\t\t\t\t<LI\n\t\t\t\t\tkey={trail.url}\n\t\t\t\t\tpercentage=\"75%\"\n\t\t\t\t\tpadSides={true}\n\t\t\t\t\tshowDivider={true}\n\t\t\t\t\tcontainerPalette={containerPalette}\n\t\t\t\t>\n\t\t\t\t\t<Card75Media50Left\n\t\t\t\t\t\ttrail={trail}\n\t\t\t\t\t\tshowAge={showAge}\n\t\t\t\t\t\tcontainerPalette={containerPalette}\n\t\t\t\t\t/>\n\t\t\t\t</LI>\n\t\t\t))}\n\t\t</UL>\n\t);\n};\n\n/* ._________________.________.________.\n * |#################|########|########|\n * |                 |        |        |\n * |_________________|________|________|\n */\nexport const Card50_Card25_Card25 = ({\n\tcards,\n\tcontainerPalette,\n\tshowAge,\n}: {\n\tcards: DCRFrontCard[];\n\tcontainerPalette?: DCRContainerPalette;\n\tshowAge?: boolean;\n}) => {\n\tconst card50 = cards.slice(0, 1);\n\tconst cards25 = cards.slice(1, 3);\n\n\treturn (\n\t\t<UL direction=\"row\" padBottom={true}>\n\t\t\t{card50.map((trail) => (\n\t\t\t\t<LI key={trail.url} percentage=\"50%\" padSides={true}>\n\t\t\t\t\t<Card50Media50\n\t\t\t\t\t\ttrail={trail}\n\t\t\t\t\t\tcontainerPalette={containerPalette}\n\t\t\t\t\t\tshowAge={showAge}\n\t\t\t\t\t/>\n\t\t\t\t</LI>\n\t\t\t))}\n\n\t\t\t{cards25.map((trail) => (\n\t\t\t\t<LI\n\t\t\t\t\tkey={trail.url}\n\t\t\t\t\tpercentage=\"25%\"\n\t\t\t\t\tpadSides={true}\n\t\t\t\t\tshowDivider={true}\n\t\t\t\t\tcontainerPalette={containerPalette}\n\t\t\t\t>\n\t\t\t\t\t<Card25Media25Tall\n\t\t\t\t\t\ttrail={trail}\n\t\t\t\t\t\tcontainerPalette={containerPalette}\n\t\t\t\t\t\tshowAge={showAge}\n\t\t\t\t\t/>\n\t\t\t\t</LI>\n\t\t\t))}\n\t\t</UL>\n\t);\n};\n\n/* ._________________.\n * |#################|\n * |#################|\n * |#################|\n * |_________________|\n */\nexport const Card100PictureTop = ({\n\tcards,\n\tshowAge,\n\tcontainerPalette,\n}: {\n\tcards: DCRFrontCard[];\n\tshowAge?: boolean;\n\tcontainerPalette?: DCRContainerPalette;\n}) => {\n\tconst card100 = cards.slice(0, 1);\n\n\treturn (\n\t\t<UL padBottom={true}>\n\t\t\t{card100.map((card) => (\n\t\t\t\t<LI key={card.url} percentage=\"100%\" padSides={true}>\n\t\t\t\t\t<Card100Media100\n\t\t\t\t\t\ttrail={card}\n\t\t\t\t\t\tshowAge={showAge}\n\t\t\t\t\t\tcontainerPalette={containerPalette}\n\t\t\t\t\t/>\n\t\t\t\t</LI>\n\t\t\t))}\n\t\t</UL>\n\t);\n};\n\n/* .___________________________________.\n * |       ############################|\n * |       ############################|\n * |       ############################|\n * |_______############################|\n */\nexport const Card100PictureRight = ({\n\tcards,\n\tshowAge,\n\tcontainerPalette,\n}: {\n\tcards: DCRFrontCard[];\n\tshowAge?: boolean;\n\tcontainerPalette?: DCRContainerPalette;\n}) => {\n\tconst card100 = cards.slice(0, 1);\n\n\treturn (\n\t\t<UL padBottom={true}>\n\t\t\t{card100.map((card) => (\n\t\t\t\t<LI key={card.url} percentage=\"100%\" padSides={true}>\n\t\t\t\t\t<Card100Media75\n\t\t\t\t\t\ttrail={card}\n\t\t\t\t\t\tcontainerPalette={containerPalette}\n\t\t\t\t\t\tshowAge={showAge}\n\t\t\t\t\t/>\n\t\t\t\t</LI>\n\t\t\t))}\n\t\t</UL>\n\t);\n};\n\n/**\n * Abstraction to decide whether to show padding on wrapped rows of cards.\n *\n * For three columns, We have different results with 5 or 9 cards\n *\n * @example - All but last 2\n * ```\n * ┌───┐ ┌───┐ ┌───┐\n * │Pad│ │Pad│ │Pad│\n * └───┘ └───┘ └───┘\n * ┌───┐ ┌───┐\n * │No!│ │No!│\n * └───┘ └───┘\n * ```\n * - All but last 3\n * ```\n * ┌───┐ ┌───┐ ┌───┐\n * │Pad│ │Pad│ │Pad│\n * └───┘ └───┘ └───┘\n * ┌───┐ ┌───┐ ┌───┐\n * │Pad│ │Pad│ │Pad│\n * └───┘ └───┘ └───┘\n * ┌───┐ ┌───┐ ┌───┐\n * │No!│ │No!│ │No!│\n * └───┘ └───┘ └───┘\n * ```\n *\n * @param index - Index of the current card\n * @param totalCards - Total number of cards being shown\n * @param cardsPerRow - No. of cards in each row (if full)\n */\nexport const shouldPadWrappableRows = (\n\tindex: number,\n\ttotalCards: number,\n\tcardsPerRow: number,\n): boolean => index < totalCards - (totalCards % cardsPerRow || cardsPerRow);\n\n/**\n * Filter trails an object of grouped trails, removing any trails included in the\n * 'filter' array\n *\n * @param opts.groupedTrails Object of grouped trails we want to filter cards from\n * @param opts.filter Array of cards we want to filter against\n * @returns grouped trails object filtered against the 'filter' array\n */\nexport const filterGroupedTrails = ({\n\tgroupedTrails,\n\tfilter,\n}: {\n\tgroupedTrails: DCRGroupedTrails;\n\tfilter: TrailType[];\n}): DCRGroupedTrails => {\n\tconst shouldFilterCard = (card: TrailType) =>\n\t\tfilter.findIndex((filterCard) => filterCard.url === card.url) === -1;\n\treturn {\n\t\tsnap: groupedTrails.snap.filter(shouldFilterCard),\n\t\thuge: groupedTrails.huge.filter(shouldFilterCard),\n\t\tveryBig: groupedTrails.veryBig.filter(shouldFilterCard),\n\t\tbig: groupedTrails.big.filter(shouldFilterCard),\n\t\tstandard: groupedTrails.standard.filter(shouldFilterCard),\n\t};\n};\n","import type { OphanComponent, OphanComponentEvent } from '@guardian/libs';\nimport type { CurrentSignInGateABTest } from './types';\n\nconst isServer = typeof window === 'undefined';\n\nexport type ComponentEventParams = {\n\tcomponentType: string;\n\tcomponentId?: string;\n\tabTestName: string;\n\tabTestVariant: string;\n\tviewId?: string;\n\tbrowserId?: string;\n\tvisitId?: string;\n};\n\nconst ophan = isServer ? undefined : window.guardian.ophan;\n\n// ophan helper methods\nconst submitComponentEventTracking = (componentEvent: OphanComponentEvent) => {\n\tophan?.record({ componentEvent });\n};\n\nexport const submitViewEventTracking = (\n\tcomponentEvent: Omit<OphanComponentEvent, 'action'>,\n) =>\n\tsubmitComponentEventTracking({\n\t\t...componentEvent,\n\t\taction: 'VIEW',\n\t});\n\nconst submitClickEventTracking = (\n\tcomponentEvent: Omit<OphanComponentEvent, 'action'>,\n) =>\n\tsubmitComponentEventTracking({\n\t\t...componentEvent,\n\t\taction: 'CLICK',\n\t});\n\nexport const withComponentId: (id: string) => OphanComponent = (id = '') => ({\n\tcomponentType: 'SIGN_IN_GATE',\n\tid,\n});\n\nexport const trackLink = (\n\tcomponentId: string,\n\tvalue: string,\n\tabTest?: CurrentSignInGateABTest,\n): void => {\n\tconst component = withComponentId(componentId);\n\n\tsubmitClickEventTracking({\n\t\tcomponent,\n\t\tabTest,\n\t\tvalue,\n\t});\n};\n","// TODO: Add localstorage lib from https://github.com/guardian/libs/pull/1 when it is merged\nconst localStorageKey = `gu.prefs.sign-in-gate`;\n\n// We use this key for storing the date the gate was dismissed against\nconst localStorageDismissedDateKey = (\n\tvariant: string,\n\tname: string,\n): string => {\n\treturn `${name}-${variant}`;\n};\n\n// We use this key for storing the gate dismissed count against\nconst localStorageDismissedCountKey = (\n\tvariant: string,\n\tname: string,\n): string => {\n\treturn `gate-dismissed-count-${name}-${variant}`;\n};\n\n// Invalid json stored against `localStorageKey` should not break signin gate for a user forever\nconst getSigninGatePrefsSafely = (): { [key: string]: any } => {\n\ttry {\n\t\tconst prefs: { [key: string]: any } = JSON.parse(\n\t\t\tlocalStorage.getItem(localStorageKey) ?? '{}',\n\t\t);\n\n\t\tif (typeof prefs === 'object' && typeof prefs.value === 'object') {\n\t\t\treturn prefs.value;\n\t\t}\n\t\treturn {};\n\t} catch (e) {\n\t\treturn {};\n\t}\n};\n\nconst setSigninGatePrefs = (prefs: any) => {\n\tlocalStorage.setItem(localStorageKey, JSON.stringify({ value: prefs }));\n};\n\n// set in user preferences that the user has dismissed the gate, set the value to the current ISO date string\n// name is optional, but can be used to differentiate between multiple sign in gate tests\n//\n//\n// This is set in local storage with the following shape:\n//\n// key:   gu.prefs.sign-in-gate\n// value: {\"testVariantName\":\"2020-07-01T10:55:09.085Z\"}\n//\n// We set the value using the key, which remains constant\n// and add an entry to the object with the testname and variant, and use current ISO date string as the value\nexport const setUserDismissedGate = (variant: string, name: string): void => {\n\ttry {\n\t\tconst prefs = getSigninGatePrefsSafely();\n\t\tprefs[localStorageDismissedDateKey(variant, name)] =\n\t\t\tnew Date().toISOString();\n\t\tsetSigninGatePrefs(prefs);\n\t} catch (error) {\n\t\t// Alas, sometimes localstorage isn't available\n\t}\n};\n\nexport const unsetUserDismissedGate = (variant: string, name: string): void => {\n\ttry {\n\t\tconst prefs = getSigninGatePrefsSafely();\n\t\tdelete prefs[localStorageDismissedDateKey(variant, name)];\n\t\tsetSigninGatePrefs(prefs);\n\t} catch (error) {\n\t\t// Alas, sometimes localstorage isn't available\n\t}\n};\n\n// Check if the user has dismissed the gate by checking the user preferences,\n// name is optional, but can be used to differentiate between multiple sign in gate tests\n//\n// This is set in local storage with the following shape:\n//\n// key:   gu.prefs.sign-in-gate\n// value: {\"testVariantName\":\"2020-07-01T10:55:09.085Z\"}\n//\n// We extract the value using the key, which remains constant\n// and the from within the value object we look up the variant we are looking for\nexport const hasUserDismissedGate = (\n\tvariant: string,\n\tname: string,\n\twindow?: number, // represents hours - only use if the gate should reshow after X hrs (dismissal window)\n): boolean => {\n\ttry {\n\t\tconst prefs = getSigninGatePrefsSafely();\n\t\t// checks if a dismissal occurred within a given window timeframe in hours\n\t\tif (window !== undefined) {\n\t\t\t// checks if prefs is empty, ie. the user has not dismissed gate before.\n\t\t\tif (!prefs[localStorageDismissedDateKey(variant, name)]) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tconst dismissalTZ = Date.parse(\n\t\t\t\tprefs[localStorageDismissedDateKey(variant, name)],\n\t\t\t);\n\t\t\tconst hours = (Date.now() - dismissalTZ) / 36e5; //  36e5 is the scientific notation for 60*60*1000, which converts the milliseconds difference into hours.\n\n\t\t\tif (hours >= window) {\n\t\t\t\tunsetUserDismissedGate(variant, name);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\treturn !!prefs[localStorageDismissedDateKey(variant, name)];\n\t} catch (error) {\n\t\t// Alas, sometimes localstorage isn't available. Please have a sign in gate as an apology\n\t\treturn false;\n\t}\n};\n\nconst retrieveDismissedCount = (variant: string, name: string): number => {\n\ttry {\n\t\tconst prefs = getSigninGatePrefsSafely();\n\t\tconst dismissed: any =\n\t\t\tprefs[localStorageDismissedCountKey(variant, name)];\n\n\t\tif (Number.isFinite(dismissed)) {\n\t\t\treturn dismissed;\n\t\t}\n\t\treturn 0;\n\t} catch (error) {\n\t\treturn 0;\n\t}\n};\n\n// Test whether the user has dismissed the gate variant more than `count` times\nexport const hasUserDismissedGateMoreThanCount = (\n\tvariant: string,\n\tname: string,\n\tcount: number,\n): boolean => {\n\treturn retrieveDismissedCount(variant, name) > count;\n};\n\n// Increment the number of times a user has dismissed this gate variant\nexport const incrementUserDismissedGateCount = (\n\tvariant: string,\n\tname: string,\n): void => {\n\ttry {\n\t\tconst prefs = getSigninGatePrefsSafely();\n\t\tprefs[localStorageDismissedCountKey(variant, name)] =\n\t\t\tretrieveDismissedCount(variant, name) + 1;\n\t\tsetSigninGatePrefs(prefs);\n\t} catch (error) {\n\t\t// localstorage isn't available so show the gate\n\t}\n};\n","import { cmp } from '@guardian/consent-management-platform';\nimport { Button, Link, LinkButton } from '@guardian/source-react-components';\nimport { trackLink } from '../componentEventTracking';\nimport type { SignInGateProps } from '../types';\nimport {\n\tactionButtons,\n\tbodyBold,\n\tbodySeparator,\n\tbodyText,\n\tfaq,\n\tfirstParagraphOverlay,\n\theadingStyles,\n\thideElementsCss,\n\tlaterButton,\n\tprivacyLink,\n\tregisterButton,\n\tsignInGateContainer,\n\tsignInHeader,\n\tsignInLink,\n} from './shared';\n\nexport const SignInGateCopyTestJan2023 = ({\n\tsignInUrl,\n\tguUrl,\n\tdismissGate,\n\tabTest,\n\tophanComponentId,\n\tisMandatory = false,\n}: SignInGateProps) => {\n\tconst getCopyTextFromVariant: (abVariant: string | undefined) => string = (\n\t\tabVariant,\n\t) => {\n\t\tswitch (abVariant) {\n\t\t\tcase 'quick-and-easy': {\n\t\t\t\treturn 'Register: it’s quick and easy';\n\t\t\t}\n\t\t\tcase 'take-a-moment': {\n\t\t\t\treturn 'Take a moment to register';\n\t\t\t}\n\t\t\tdefault: {\n\t\t\t\treturn 'You need to register to keep reading';\n\t\t\t}\n\t\t}\n\t};\n\treturn (\n\t\t<div css={signInGateContainer} data-cy=\"sign-in-gate-main\">\n\t\t\t<style>{hideElementsCss}</style>\n\t\t\t<div css={firstParagraphOverlay} />\n\t\t\t<h1 css={headingStyles}>\n\t\t\t\t{getCopyTextFromVariant(abTest?.variant)}\n\t\t\t</h1>\n\t\t\t<p css={bodyBold}>\n\t\t\t\tIt’s still free to read – this is not a paywall\n\t\t\t</p>\n\t\t\t<p css={bodyText}>\n\t\t\t\tWe’re committed to keeping our quality reporting open. By\n\t\t\t\tregistering and providing us with insight into your preferences,\n\t\t\t\tyou’re helping us to engage with you more deeply, and that\n\t\t\t\tallows us to keep our journalism free for all. You’ll always be\n\t\t\t\table to control your own{' '}\n\t\t\t\t<button\n\t\t\t\t\tdata-cy=\"sign-in-gate-main_privacy\"\n\t\t\t\t\tcss={privacyLink}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tcmp.showPrivacyManager();\n\t\t\t\t\t\ttrackLink(ophanComponentId, 'privacy', abTest);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tprivacy settings\n\t\t\t\t</button>\n\t\t\t\t.\n\t\t\t</p>\n\t\t\t<div css={actionButtons}>\n\t\t\t\t<LinkButton\n\t\t\t\t\tdata-cy=\"sign-in-gate-main_register\"\n\t\t\t\t\tdata-ignore=\"global-link-styling\"\n\t\t\t\t\tcss={registerButton}\n\t\t\t\t\tpriority=\"primary\"\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\thref={signInUrl}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\ttrackLink(ophanComponentId, 'register-link', abTest);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tRegister for free\n\t\t\t\t</LinkButton>\n\t\t\t\t{!isMandatory && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tdata-cy=\"sign-in-gate-main_dismiss\"\n\t\t\t\t\t\tdata-ignore=\"global-link-styling\"\n\t\t\t\t\t\tcss={laterButton}\n\t\t\t\t\t\tpriority=\"subdued\"\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tdismissGate();\n\t\t\t\t\t\t\ttrackLink(ophanComponentId, 'not-now', abTest);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\tI’ll do it later\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t<p css={[bodySeparator, bodyBold, signInHeader]}>\n\t\t\t\tHave a subscription? Made a contribution? Already registered?\n\t\t\t</p>\n\n\t\t\t<Link\n\t\t\t\tdata-cy=\"sign-in-gate-main_signin\"\n\t\t\t\tdata-ignore=\"global-link-styling\"\n\t\t\t\tcss={signInLink}\n\t\t\t\thref={signInUrl}\n\t\t\t\tonClick={() => {\n\t\t\t\t\ttrackLink(ophanComponentId, 'sign-in-link', abTest);\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\tSign In\n\t\t\t</Link>\n\n\t\t\t<div css={faq}>\n\t\t\t\t<Link\n\t\t\t\t\tdata-ignore=\"global-link-styling\"\n\t\t\t\t\thref={`${guUrl}/membership/2019/dec/20/signing-in-to-the-guardian`}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\ttrackLink(ophanComponentId, 'how-link', abTest);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tWhy register & how does it help?\n\t\t\t\t</Link>\n\n\t\t\t\t<Link\n\t\t\t\t\tdata-ignore=\"global-link-styling\"\n\t\t\t\t\thref={`${guUrl}/info/2014/nov/03/why-your-data-matters-to-us-full-text`}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\ttrackLink(ophanComponentId, 'why-link', abTest);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tHow will my information & data be used?\n\t\t\t\t</Link>\n\n\t\t\t\t<Link\n\t\t\t\t\tdata-ignore=\"global-link-styling\"\n\t\t\t\t\thref={`${guUrl}/help/identity-faq`}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\ttrackLink(ophanComponentId, 'help-link', abTest);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tGet help with registering or signing in\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import { cmp } from '@guardian/consent-management-platform';\nimport { Button, Link, LinkButton } from '@guardian/source-react-components';\nimport { trackLink } from '../componentEventTracking';\nimport type { SignInGateProps } from '../types';\nimport {\n\tactionButtons,\n\tbodyBold,\n\tbodySeparator,\n\tbodyText,\n\tfaq,\n\tfirstParagraphOverlay,\n\theadingStyles,\n\thideElementsCss,\n\tlaterButton,\n\tprivacyLink,\n\tregisterButton,\n\tsignInGateContainer,\n\tsignInHeader,\n\tsignInLink,\n} from './shared';\n\nexport const SignInGateMain = ({\n\tsignInUrl,\n\tguUrl,\n\tdismissGate,\n\tabTest,\n\tophanComponentId,\n\tisMandatory = false,\n}: SignInGateProps) => {\n\treturn (\n\t\t<div css={signInGateContainer} data-cy=\"sign-in-gate-main\">\n\t\t\t<style>{hideElementsCss}</style>\n\t\t\t<div css={firstParagraphOverlay} />\n\t\t\t<h1 css={headingStyles}>You need to register to keep reading</h1>\n\t\t\t<p css={bodyBold}>\n\t\t\t\tIt’s still free to read – this is not a paywall\n\t\t\t</p>\n\t\t\t<p css={bodyText}>\n\t\t\t\tWe’re committed to keeping our quality reporting open. By\n\t\t\t\tregistering and providing us with insight into your preferences,\n\t\t\t\tyou’re helping us to engage with you more deeply, and that\n\t\t\t\tallows us to keep our journalism free for all. You’ll always be\n\t\t\t\table to control your own{' '}\n\t\t\t\t<button\n\t\t\t\t\tdata-cy=\"sign-in-gate-main_privacy\"\n\t\t\t\t\tcss={privacyLink}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tcmp.showPrivacyManager();\n\t\t\t\t\t\ttrackLink(ophanComponentId, 'privacy', abTest);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tprivacy settings\n\t\t\t\t</button>\n\t\t\t\t.\n\t\t\t</p>\n\t\t\t<div css={actionButtons}>\n\t\t\t\t<LinkButton\n\t\t\t\t\tdata-cy=\"sign-in-gate-main_register\"\n\t\t\t\t\tdata-ignore=\"global-link-styling\"\n\t\t\t\t\tcss={registerButton}\n\t\t\t\t\tpriority=\"primary\"\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\thref={signInUrl}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\ttrackLink(ophanComponentId, 'register-link', abTest);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tRegister for free\n\t\t\t\t</LinkButton>\n\t\t\t\t{!isMandatory && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tdata-cy=\"sign-in-gate-main_dismiss\"\n\t\t\t\t\t\tdata-ignore=\"global-link-styling\"\n\t\t\t\t\t\tcss={laterButton}\n\t\t\t\t\t\tpriority=\"subdued\"\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tdismissGate();\n\t\t\t\t\t\t\ttrackLink(ophanComponentId, 'not-now', abTest);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\tI’ll do it later\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t<p css={[bodySeparator, bodyBold, signInHeader]}>\n\t\t\t\tHave a subscription? Made a contribution? Already registered?\n\t\t\t</p>\n\n\t\t\t<Link\n\t\t\t\tdata-cy=\"sign-in-gate-main_signin\"\n\t\t\t\tdata-ignore=\"global-link-styling\"\n\t\t\t\tcss={signInLink}\n\t\t\t\thref={signInUrl}\n\t\t\t\tonClick={() => {\n\t\t\t\t\ttrackLink(ophanComponentId, 'sign-in-link', abTest);\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\tSign In\n\t\t\t</Link>\n\n\t\t\t<div css={faq}>\n\t\t\t\t<Link\n\t\t\t\t\tdata-ignore=\"global-link-styling\"\n\t\t\t\t\thref={`${guUrl}/membership/2019/dec/20/signing-in-to-the-guardian`}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\ttrackLink(ophanComponentId, 'how-link', abTest);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tWhy register & how does it help?\n\t\t\t\t</Link>\n\n\t\t\t\t<Link\n\t\t\t\t\tdata-ignore=\"global-link-styling\"\n\t\t\t\t\thref={`${guUrl}/info/2014/nov/03/why-your-data-matters-to-us-full-text`}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\ttrackLink(ophanComponentId, 'why-link', abTest);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tHow will my information & data be used?\n\t\t\t\t</Link>\n\n\t\t\t\t<Link\n\t\t\t\t\tdata-ignore=\"global-link-styling\"\n\t\t\t\t\thref={`${guUrl}/help/identity-faq`}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\ttrackLink(ophanComponentId, 'help-link', abTest);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tGet help with registering or signing in\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import { css } from '@emotion/react';\nimport {\n\tbody,\n\tbrand,\n\tfrom,\n\theadline,\n\tneutral,\n\tspace,\n} from '@guardian/source-foundations';\nimport { Button, Link, LinkButton } from '@guardian/source-react-components';\nimport { trackLink } from '../componentEventTracking';\nimport type { Product, SignInGateProps, UserType } from '../types';\nimport {\n\tfirstParagraphOverlay,\n\thideElementsCss,\n\tregisterButton,\n\tsignInGateContainer,\n} from './shared';\nimport { SignInGateMain } from './SignInGateMain';\n\nconst personalisedHeadingStyles = css`\n\t${headline.small({ fontWeight: 'bold' })};\n\tborder-top: 2px ${brand[400]} solid;\n\t${from.phablet} {\n\t\tpadding-right: 160px;\n\t\t${headline.medium({ fontWeight: 'bold' })};\n\t}\n\tpadding-bottom: ${space[2]}px;\n`;\n\nconst personalisedBodyBold = css`\n\t${body.medium({ fontWeight: 'bold' })}\n\t${from.phablet} {\n\t\tpadding-right: 130px;\n\t}\n\tcolor: ${brand[400]};\n`;\n\nconst bulletStyles = css`\n\ttext-indent: -30px; /* second line indentation */\n\tmargin-left: 30px; /* second line indentation */\n\tcolor: ${neutral[100]};\n\tdisplay: flex;\n\tflex-direction: column;\n\tli:not(:first-of-type) {\n\t\tmargin-top: ${space[1]}px;\n\t}\n\tli::before {\n\t\tcontent: '';\n\t\tdisplay: inline-block;\n\t\twidth: 12px;\n\t\theight: 12px;\n\t\tmargin-right: ${space[4]}px;\n\t\tbackground: ${brand[400]};\n\t\tborder-radius: 50%;\n\t}\n`;\n\nconst personalisedBodyTextList = css`\n\t${body.medium({ fontWeight: 'medium' })};\n\tcolor: black;\n`;\n\nconst personalisedActionButtons = css`\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: flex-start;\n\tmargin-top: 20px;\n\tmargin-bottom: 20px;\n\n\t> a {\n\t\t/* stylelint-disable-next-line declaration-no-important */\n\t\tmargin-right: ${space[4]}px !important;\n\n\t\t${from.mobileMedium} {\n\t\t\t/* stylelint-disable-next-line declaration-no-important */\n\t\t\tmargin-right: ${space[9]}px !important;\n\t\t}\n\n\t\t/* stylelint-disable-next-line declaration-no-important */\n\t\ttext-decoration: none !important;\n\t}\n`;\n\nconst notNowButton = css`\n\t/* stylelint-disable-next-line declaration-no-important */\n\tcolor: ${brand[400]} !important;\n\ttext-decoration: none;\n`;\n\nconst faqPersonalised = css`\n\tpadding-bottom: 18px;\n\tmargin-top: ${space[3]}px;\n\t& a {\n\t\tdisplay: block;\n\t\tmargin-top: ${space[6]}px;\n\t\tmargin-bottom: ${space[4]}px;\n\t\tcolor: ${brand[500]};\n\t\ttext-decoration-color: ${brand[500]};\n\t\ttext-underline-position: under;\n\t}\n\n\t& a:hover {\n\t\tcolor: ${brand[500]};\n\t\ttext-decoration-color: ${brand[500]};\n\t}\n`;\n\nexport const bodySpacing = css`\n\tpadding-top: ${space[2]}px;\n\tpadding-bottom: ${space[2]}px;\n`;\n\n// HEADER TEXT\nconst SUBSCRIPTION_HEADER = 'Thank you for subscribing';\nconst SUPPORTER_HEADER = 'Thank you for your support';\n\n// SUBHEADER TEXT\nconst SIGN_IN_PROMPT = 'Remember to sign in for a better experience.';\n\n// BODY TEXT\nconst SIGN_IN_INCENTIVES_DIGITAL = [\n\t'Supporter rewards – unlock the benefits of your support',\n\t'Incisive analysis and original reporting direct to your inbox, with our newsletters',\n\t'Get involved in the discussion – comment on stories',\n];\n\nconst SIGN_IN_INCENTIVES_NON_DIGITAL = [\n\t'Fewer interruptions',\n\t'Incisive analysis and original reporting direct to your inbox, with our newsletters',\n\t'Get involved in the discussion – comment on stories',\n];\n\n// BUTTON TEXT\nconst COMPLETE_REGISTRATION_BUTTON = 'Complete registration';\nconst SIGN_IN_BUTTON = 'Sign in';\n\nconst getHeadingText: (product: Product) => string = (product) => {\n\tconst headingMap: Record<Product, string> = {\n\t\tSupporterPlus: SUBSCRIPTION_HEADER,\n\t\tPaper: SUBSCRIPTION_HEADER,\n\t\tGuardianWeekly: SUBSCRIPTION_HEADER,\n\t\tContribution: SUPPORTER_HEADER,\n\t};\n\treturn headingMap[product];\n};\n\nconst getButtonText: (userType: UserType) => string = (userType) => {\n\tconst buttonMap: Record<UserType, string> = {\n\t\tnew: COMPLETE_REGISTRATION_BUTTON,\n\t\tguest: COMPLETE_REGISTRATION_BUTTON,\n\t\tcurrent: SIGN_IN_BUTTON,\n\t};\n\treturn buttonMap[userType];\n};\n\nconst getBodyText: (product: Product) => string[] = (product) => {\n\tconst bodyTextMap: Record<Product, string[]> = {\n\t\tSupporterPlus: SIGN_IN_INCENTIVES_DIGITAL,\n\t\tPaper: SIGN_IN_INCENTIVES_NON_DIGITAL,\n\t\tGuardianWeekly: SIGN_IN_INCENTIVES_NON_DIGITAL,\n\t\tContribution: SIGN_IN_INCENTIVES_NON_DIGITAL,\n\t};\n\treturn bodyTextMap[product];\n};\n\nexport const SignInGateMainCheckoutComplete = ({\n\tsignInUrl,\n\tguUrl,\n\tdismissGate,\n\tabTest,\n\tophanComponentId,\n\tisMandatory = false,\n\tcheckoutCompleteCookieData,\n}: SignInGateProps) => {\n\t// There is a type check above which means this shouldn't be\n\t// possible to be undefined here, so this is just handling\n\t// the fact that the type is optional.\n\t// It's an optional type because `SignInGateProps` is shared\n\t// with other components that don't use this type\n\tif (checkoutCompleteCookieData === undefined) {\n\t\treturn (\n\t\t\t<SignInGateMain\n\t\t\t\tsignInUrl={signInUrl}\n\t\t\t\tguUrl={guUrl}\n\t\t\t\tdismissGate={dismissGate}\n\t\t\t\tabTest={abTest}\n\t\t\t\tophanComponentId={ophanComponentId}\n\t\t\t\tisMandatory={false}\n\t\t\t/>\n\t\t);\n\t}\n\tconst { userType, product } = checkoutCompleteCookieData;\n\n\t// send new/guest userType to the /register page instead of /signin\n\tconst personaliseSignInURl = (url: string): string => {\n\t\tif (userType === 'new' || userType == 'guest') {\n\t\t\tconst regex = /\\/(signin)/;\n\t\t\tconst substitution = `/register`;\n\t\t\treturn url.replace(regex, substitution);\n\t\t}\n\t\treturn url;\n\t};\n\n\treturn (\n\t\t<div css={signInGateContainer} data-cy=\"sign-in-gate-main\">\n\t\t\t<style>{hideElementsCss}</style>\n\t\t\t<div css={firstParagraphOverlay} />\n\t\t\t<h1 css={personalisedHeadingStyles}>{getHeadingText(product)}</h1>\n\t\t\t<div css={bodySpacing}>\n\t\t\t\t<p css={personalisedBodyBold}>{SIGN_IN_PROMPT}</p>\n\t\t\t\t<p css={personalisedBodyBold}>This includes: </p>\n\t\t\t</div>\n\t\t\t<ul css={bulletStyles}>\n\t\t\t\t{getBodyText(product).map((item) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<li css={personalisedBodyTextList} key={item}>\n\t\t\t\t\t\t\t{item}\n\t\t\t\t\t\t</li>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</ul>\n\t\t\t<div css={personalisedActionButtons}>\n\t\t\t\t<LinkButton\n\t\t\t\t\tdata-cy=\"sign-in-gate-main_register\"\n\t\t\t\t\tdata-ignore=\"global-link-styling\"\n\t\t\t\t\tcss={registerButton}\n\t\t\t\t\tpriority=\"primary\"\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\thref={personaliseSignInURl(signInUrl)}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\ttrackLink(ophanComponentId, 'register-link', abTest);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{getButtonText(userType)}\n\t\t\t\t</LinkButton>\n\t\t\t\t{!isMandatory && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tdata-cy=\"sign-in-gate-main_dismiss\"\n\t\t\t\t\t\tdata-ignore=\"global-link-styling\"\n\t\t\t\t\t\tcss={notNowButton}\n\t\t\t\t\t\tpriority=\"subdued\"\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tdismissGate();\n\t\t\t\t\t\t\ttrackLink(ophanComponentId, 'not-now', abTest);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\tNot now\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t<div css={faqPersonalised}>\n\t\t\t\t<Link\n\t\t\t\t\tdata-ignore=\"global-link-styling\"\n\t\t\t\t\thref={`${guUrl}/info/2014/nov/03/why-your-data-matters-to-us-full-text`}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\ttrackLink(ophanComponentId, 'why-link', abTest);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tHow will my information & data be used?\n\t\t\t\t</Link>\n\n\t\t\t\t<Link\n\t\t\t\t\tdata-ignore=\"global-link-styling\"\n\t\t\t\t\thref={`${guUrl}/help/identity-faq`}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\ttrackLink(ophanComponentId, 'help-link', abTest);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tGet help with registering or signing in\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import { css } from '@emotion/react';\nimport {\n\tbrand,\n\tfrom,\n\theadline,\n\tline,\n\tspace,\n\ttext,\n\ttextSans,\n} from '@guardian/source-foundations';\n\nexport const signInGateContainer = css`\n\tmax-width: 617px;\n\n\t${from.desktop} {\n\t\tmin-height: 600px;\n\t}\n`;\n\nexport const headingStyles = css`\n\t${headline.small({ fontWeight: 'bold' })};\n\tborder-top: 2px black solid;\n\tpadding-bottom: ${space[12]}px;\n\n\t${from.phablet} {\n\t\tpadding-right: 160px;\n\t\t${headline.medium({ fontWeight: 'bold' })};\n\t}\n`;\n\nexport const bodySeparator = css`\n\tborder-top: 1px ${line.primary} solid;\n`;\n\nexport const bodyBold = css`\n\t${textSans.medium({ fontWeight: 'bold' })}\n\tpadding-bottom: 20px;\n\t${from.phablet} {\n\t\tpadding-right: 130px;\n\t}\n`;\n\nexport const bodyText = css`\n\t${textSans.medium({ lineHeight: 'regular' })}\n\tpadding-bottom: ${space[6]}px;\n\n\t${from.phablet} {\n\t\tpadding-right: 160px;\n\t}\n`;\n\nexport const signInHeader = css`\n\tpadding-bottom: 0;\n`;\n\nexport const actionButtons = css`\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: flex-start;\n\tmargin-bottom: 42px;\n\n\t> a {\n\t\t/* stylelint-disable-next-line declaration-no-important */\n\t\tmargin-right: ${space[4]}px !important;\n\n\t\t${from.mobileMedium} {\n\t\t\t/* stylelint-disable-next-line declaration-no-important */\n\t\t\tmargin-right: ${space[9]}px !important;\n\t\t}\n\n\t\t/* stylelint-disable-next-line declaration-no-important */\n\t\ttext-decoration: none !important;\n\t}\n`;\n\nexport const registerButton = css`\n\t/* stylelint-disable-next-line declaration-no-important */\n\tcolor: ${text.ctaPrimary} !important;\n`;\n\nexport const laterButton = css`\n\t/* stylelint-disable-next-line declaration-no-important */\n\tcolor: ${brand[400]} !important;\n`;\n\nexport const signInLink = css`\n\t/* stylelint-disable-next-line declaration-no-important */\n\tcolor: ${text.anchorPrimary} !important;\n\t/* stylelint-disable-next-line declaration-no-important */\n\ttext-decoration-color: ${line.primary} !important;\n\ttext-underline-position: under;\n`;\n\nexport const faq = css`\n\tpadding-top: ${space[3]}px;\n\tpadding-bottom: 18px;\n\tmargin-top: ${space[5]}px;\n\n\t& a {\n\t\tcolor: ${text.anchorPrimary};\n\t\tdisplay: block;\n\t\tmargin-bottom: ${space[4]}px;\n\t\ttext-decoration-color: ${line.primary};\n\t\ttext-underline-position: under;\n\t}\n\n\t& a:hover {\n\t\tcolor: ${text.anchorPrimary};\n\t}\n`;\n\nexport const privacyLink = css`\n\tcolor: ${text.anchorPrimary};\n\ttext-decoration: underline;\n\ttext-decoration-color: ${line.primary};\n\ttext-underline-position: under;\n\tborder: 0;\n\tbackground: transparent;\n\t/* stylelint-disable-next-line property-disallowed-list */\n\tfont-family: inherit;\n\tfont-size: inherit;\n\tpadding: 0;\n\tcursor: pointer;\n`;\n\nexport const firstParagraphOverlay = css`\n\tmargin-top: -250px;\n\twidth: 100%;\n\theight: 250px;\n\tposition: absolute;\n`;\n\n/**\n * This CSS hides everything in an article, except the first two paragraphs and\n * the sign-in gate. The order in which rules are laid out matters.\n */\nexport const hideElementsCss = [\n\t// 1. hide all article content\n\t`.article-body-commercial-selector > * {\n        display: none;\n    }`,\n\t// 2. make the sign in gate and the first 2 paragraphs of the article visible\n\t`#sign-in-gate, .article-body-commercial-selector p:nth-of-type(-n + 3) {\n        display: block;\n    }`,\n\t// 3. mask the first and second with a gradient overlay\n\t`.article-body-commercial-selector > p:nth-of-type(1) {\n        -webkit-mask-image: linear-gradient(black, rgba(0, 0, 0, 0.5));\n        mask-image: linear-gradient(black, rgba(0, 0, 0, 0.5));\n    }\n\t.article-body-commercial-selector > p:nth-of-type(2) {\n        -webkit-mask-image: linear-gradient(rgba(0, 0, 0, 0.5), transparent);\n        mask-image: linear-gradient(rgba(0, 0, 0, 0.5), transparent);\n    }\n\t`,\n\t// 4. hide any siblings after the sign in gate in case a paragraph\n\t// is still visible because of the CSS in 2\n\t`#sign-in-gate ~ * {\n        display: none;\n    }`,\n\t`#slot-body-end {\n        display: none;\n    }`,\n].join('\\n');\n","// use the dailyArticleCount from the local storage to see how many articles the user has viewed in a day\nimport { onConsent } from '@guardian/consent-management-platform';\nimport type { ConsentState } from '@guardian/consent-management-platform/dist/types';\nimport type { TagType } from '../../../types/tag';\nimport type { DailyArticle } from '../../lib/dailyArticleCount';\nimport { getDailyArticleCount } from '../../lib/dailyArticleCount';\nimport { hasUserDismissedGateMoreThanCount } from './dismissGate';\nimport type { CanShowGateProps } from './types';\n\n// in our case if this is the n-numbered article or higher the user has viewed then set the gate\nexport const isNPageOrHigherPageView = (n = 2): boolean => {\n\t// get daily read article count array from local storage\n\tconst [dailyCount = {} as DailyArticle] = getDailyArticleCount() ?? [];\n\n\tconst { count = 0 } = dailyCount;\n\n\treturn count >= n;\n};\n\n// determine if the useragent is running iOS 9 (known to be buggy for sign in flow)\nexport const isIOS9 = (): boolean => {\n\t// get the browser user agent\n\tconst ua = navigator.userAgent;\n\t// check useragent if the device is an iOS device\n\tconst appleDevice = /(iPhone|iPod|iPad)/i.test(ua);\n\t// check useragent if the os is version 9\n\tconst os = /(CPU OS 9_)/i.test(ua);\n\n\t// if both true, then it's an apple ios 9 device\n\treturn appleDevice && os;\n};\n\n// hide the sign in gate on article types that are not supported\nexport const isValidContentType = (contentType: string): boolean => {\n\t// It's safer to definitively *include* types as we\n\t// know new types will not break the sign-in-gate going forward\n\tconst validTypes = ['Article'];\n\n\treturn validTypes.some((type: string): boolean => contentType === type);\n};\n\n// hide the sign in gate on certain sections of the site, e.g info, about, help etc.\nexport const isValidSection = (sectionName?: string): boolean => {\n\tconst invalidSections = [\n\t\t'about',\n\t\t'info',\n\t\t'membership',\n\t\t'help',\n\t\t'guardian-live-australia',\n\t\t'gnm-archive',\n\t];\n\n\t// we check for invalid section by reducing the above array, and then NOT the result so we know\n\t// its a valid section\n\treturn !invalidSections.some(\n\t\t(section: string): boolean => sectionName === section,\n\t);\n};\n\n// hide the sign in gate for certain tags on the site\nexport const isValidTag = (tags: TagType[]): boolean => {\n\tconst invalidTags = ['info/newsletter-sign-up'];\n\n\treturn !invalidTags.some((invalidTag) =>\n\t\ttags.map((tag) => tag.id).includes(invalidTag),\n\t);\n};\n\n// check CMP banner consents\nexport const hasRequiredConsents = (): Promise<boolean> =>\n\tonConsent()\n\t\t.then(({ canTarget }: ConsentState) => canTarget)\n\t\t.catch(() => false);\n\nexport const canShowSignInGate = ({\n\tisSignedIn,\n\tcurrentTest,\n\tcontentType,\n\tsectionName,\n\ttags,\n\tisPaidContent,\n\tisPreview,\n}: CanShowGateProps): Promise<boolean> =>\n\tPromise.resolve(\n\t\t!isSignedIn &&\n\t\t\t!hasUserDismissedGateMoreThanCount(\n\t\t\t\tcurrentTest.variant,\n\t\t\t\tcurrentTest.name,\n\t\t\t\t5,\n\t\t\t) &&\n\t\t\tisNPageOrHigherPageView(3) &&\n\t\t\tisValidContentType(contentType) &&\n\t\t\tisValidSection(sectionName) &&\n\t\t\tisValidTag(tags) &&\n\t\t\t// hide the sign in gate on isPaidContent\n\t\t\t!isPaidContent &&\n\t\t\t// hide the sign in gate on internal tools preview &&\n\t\t\t!isPreview &&\n\t\t\t!isIOS9(),\n\t);\n\nexport const canShowSignInGateMandatory: ({\n\tisSignedIn,\n\tcurrentTest,\n\tcontentType,\n\tsectionName,\n\ttags,\n\tisPaidContent,\n\tisPreview,\n}: CanShowGateProps) => Promise<boolean> = async ({\n\tisSignedIn,\n\tcurrentTest,\n\tcontentType,\n\tsectionName,\n\ttags,\n\tisPaidContent,\n\tisPreview,\n}: CanShowGateProps) => {\n\treturn (\n\t\t(await hasRequiredConsents()) &&\n\t\t(await canShowSignInGate({\n\t\t\tisSignedIn,\n\t\t\tcurrentTest,\n\t\t\tcontentType,\n\t\t\tsectionName,\n\t\t\ttags,\n\t\t\tisPaidContent,\n\t\t\tisPreview,\n\t\t}))\n\t);\n};\n","import { hasUserDismissedGate } from '../dismissGate';\nimport {\n\tisIOS9,\n\tisNPageOrHigherPageView,\n\tisValidContentType,\n\tisValidSection,\n\tisValidTag,\n} from '../displayRule';\nimport type { CanShowGateProps, SignInGateComponent } from '../types';\n\nconst canShow = ({\n\tisSignedIn,\n\tcurrentTest,\n\tcontentType,\n\tsectionName,\n\ttags,\n\tisPaidContent,\n\tisPreview,\n}: CanShowGateProps): Promise<boolean> =>\n\tPromise.resolve(\n\t\t!isSignedIn &&\n\t\t\t!hasUserDismissedGate(currentTest.variant, currentTest.name) &&\n\t\t\tisNPageOrHigherPageView(3) &&\n\t\t\tisValidContentType(contentType) &&\n\t\t\tisValidSection(sectionName) &&\n\t\t\tisValidTag(tags) &&\n\t\t\t// hide the sign in gate on isPaidContent\n\t\t\t!isPaidContent &&\n\t\t\t// hide the sign in gate on internal tools preview\n\t\t\t!isPreview &&\n\t\t\t!isIOS9(),\n\t);\n\nexport const signInGateComponent: SignInGateComponent = {\n\tcanShow,\n};\n","import { css } from '@emotion/react';\nimport { useIsInView } from '../lib/useIsInView';\n\ntype Props = {\n\tchildren: JSX.Element;\n\tmargin: number;\n\tdisableFlexStyles?: boolean;\n};\n\n// Ensure the ref wrapper expands. This is used for componenents like\n// MostViewedRightWrapper that needs to check it's parent's height\nconst flexGrowStyles = css`\n\tdisplay: flex;\n\tflex-grow: 1;\n`;\n\nexport const Lazy = ({ children, margin, disableFlexStyles }: Props) => {\n\tconst [hasBeenSeen, setRef] = useIsInView({\n\t\trootMargin: `${margin}px`,\n\t});\n\n\t// Without this check below typescript complains because it thinks\n\t// setRef could be false.\n\tif (typeof setRef !== 'function') {\n\t\treturn null;\n\t}\n\n\t// Why do we check to see if we're disabled here? Because we\n\t// use this as a flag to know when a component is\n\t// being loaded as part of a Chromatic story or not so that\n\t// we can prevent lazy loading our storybook snapshots that we\n\t// use for visual regression\n\tconst renderChildren = hasBeenSeen || Lazy.disabled;\n\treturn (\n\t\t<div ref={setRef} css={!disableFlexStyles && flexGrowStyles}>\n\t\t\t{renderChildren && <>{children}</>}\n\t\t</div>\n\t);\n};\n\nLazy.disabled = false;\n","import React, { Suspense } from 'react';\nimport { initPerf } from '../../../browser/initPerf';\nimport { Lazy } from '../../Lazy';\nimport { canShowSignInGate } from '../displayRule';\nimport type { SignInGateComponent } from '../types';\n\nconst SignInGateMain = React.lazy(() => {\n\tconst { start, end } = initPerf('SignInGateMain');\n\tstart();\n\treturn import(\n\t\t/* webpackChunkName: \"SignInGateMain\" */ '../gateDesigns/SignInGateMain'\n\t).then((module) => {\n\t\tend();\n\t\treturn { default: module.SignInGateMain };\n\t});\n});\n\nconst SignInGateMainCheckoutComplete = React.lazy(() => {\n\tconst { start, end } = initPerf('SignInGateMainCheckoutComplete');\n\tstart();\n\treturn import(\n\t\t/* webpackChunkName: \"SignInGateMainCheckoutComplete\" */ '../gateDesigns/SignInGateMainCheckoutComplete'\n\t).then((module) => {\n\t\tend();\n\t\treturn { default: module.SignInGateMainCheckoutComplete };\n\t});\n});\n\n/**\n * GATE PERSONALISATION:\n *\n * If the GU_CO_COMPLETE cookie is present, personalise the sign in gate based on the userType\n * and product information in the cookie value.\n * AB tracking will be registered as part of the main gate AB test, but the component Id string\n * in Ophan ComponentEventTracking will have `_personalised_${userType}_${product}` appended.\n * This occurs in the SignInGateSelector.importable.tsx file\n * There is a feature switch called `personaliseSignInGateAfterCheckout` which can be set in the\n * admin tools, and depending on the state of that switch will determine which variant of the\n * gate to show.\n */\nexport const signInGateComponent: SignInGateComponent = {\n\tgate: ({\n\t\tophanComponentId,\n\t\tdismissGate,\n\t\tguUrl,\n\t\tsignInUrl,\n\t\tabTest,\n\t\tcheckoutCompleteCookieData,\n\t\tpersonaliseSignInGateAfterCheckoutSwitch,\n\t}) => {\n\t\treturn (\n\t\t\t<Lazy margin={300}>\n\t\t\t\t<Suspense fallback={<></>}>\n\t\t\t\t\t{personaliseSignInGateAfterCheckoutSwitch &&\n\t\t\t\t\tcheckoutCompleteCookieData !== undefined ? (\n\t\t\t\t\t\t<SignInGateMainCheckoutComplete\n\t\t\t\t\t\t\tophanComponentId={ophanComponentId}\n\t\t\t\t\t\t\tdismissGate={dismissGate}\n\t\t\t\t\t\t\tguUrl={guUrl}\n\t\t\t\t\t\t\tsignInUrl={signInUrl}\n\t\t\t\t\t\t\tabTest={abTest}\n\t\t\t\t\t\t\tcheckoutCompleteCookieData={\n\t\t\t\t\t\t\t\tcheckoutCompleteCookieData\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<SignInGateMain\n\t\t\t\t\t\t\tophanComponentId={ophanComponentId}\n\t\t\t\t\t\t\tdismissGate={dismissGate}\n\t\t\t\t\t\t\tguUrl={guUrl}\n\t\t\t\t\t\t\tsignInUrl={signInUrl}\n\t\t\t\t\t\t\tabTest={abTest}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</Suspense>\n\t\t\t</Lazy>\n\t\t);\n\t},\n\tcanShow: canShowSignInGate,\n};\n","import React, { Suspense } from 'react';\nimport { initPerf } from '../../../browser/initPerf';\nimport { Lazy } from '../../Lazy';\nimport { canShowSignInGate } from '../displayRule';\nimport type { SignInGateComponent } from '../types';\n\nconst SignInGateCopyTestJan2023 = React.lazy(() => {\n\tconst { start, end } = initPerf('SignInGateCopyTestJan2023');\n\tstart();\n\treturn import(\n\t\t/* webpackChunkName: \"SignInGateMain\" */ '../gateDesigns/SignInGateCopyTestJan2023'\n\t).then((module) => {\n\t\tend();\n\t\treturn { default: module.SignInGateCopyTestJan2023 };\n\t});\n});\n\nexport const signInGateCopyTestJan2023Component: SignInGateComponent = {\n\tgate: ({ ophanComponentId, dismissGate, guUrl, signInUrl, abTest }) => (\n\t\t<Lazy margin={300}>\n\t\t\t<Suspense fallback={<></>}>\n\t\t\t\t<SignInGateCopyTestJan2023\n\t\t\t\t\tophanComponentId={ophanComponentId}\n\t\t\t\t\tdismissGate={dismissGate}\n\t\t\t\t\tguUrl={guUrl}\n\t\t\t\t\tsignInUrl={signInUrl}\n\t\t\t\t\tabTest={abTest}\n\t\t\t\t/>\n\t\t\t</Suspense>\n\t\t</Lazy>\n\t),\n\tcanShow: canShowSignInGate,\n};\n","import type { ABTest } from '@guardian/ab-core';\n// Sign in Gate A/B Tests\nimport { signInGateCopyTestJan2023 } from '../../experiments/tests/sign-in-gate-copy-test-variants';\nimport { signInGateMainControl } from '../../experiments/tests/sign-in-gate-main-control';\nimport { signInGateMainVariant } from '../../experiments/tests/sign-in-gate-main-variant';\n// Sign in Gate Types\nimport { signInGateComponent as gateMainControl } from './gates/main-control';\nimport { signInGateComponent as gateMainVariant } from './gates/main-variant';\nimport { signInGateCopyTestJan2023Component } from './gates/sign-in-gate-copy-test-jan2023';\nimport type { SignInGateTestMap } from './types';\n\n/* When adding a new test, you need to add the test name to the tests array below,\n   and add a entry for each variant that maps it to a SignInGateComponent in\n   signInGateTestVariantToGateMapping, and in turn match each test id to an component\n   id in signInGateTestIdToComponentId\n*/\nexport const signInGateTests: ReadonlyArray<ABTest> = [\n\tsignInGateMainVariant,\n\tsignInGateMainControl,\n\tsignInGateCopyTestJan2023,\n];\n\nexport const signInGateTestVariantToGateMapping: SignInGateTestMap = {\n\t'main-control-4': gateMainControl,\n\t'main-variant-4': gateMainVariant,\n\t'quick-and-easy': signInGateCopyTestJan2023Component,\n\t'take-a-moment': signInGateCopyTestJan2023Component,\n\t'sign-in-copy-control': gateMainVariant,\n};\n\n// Component Id does not need to match gate test name, as ab test info passed separately to ophan\n// Consider Id name relevant to the gate component or design. Use snake_case\nexport const signInGateTestIdToComponentId: { [key: string]: string } = {\n\tSignInGateMainVariant: 'main_variant_4',\n\tSignInGateMainControl: 'main_control_4',\n\tSignInGateCopyTestJan2023: 'sign_in_gate_copy_test_jan2023',\n};\n","const isBoolean = (_) => {\n    return typeof _ === 'boolean';\n};\n\nexport { isBoolean };\n//# sourceMappingURL=isBoolean.js.map\n","import { isBoolean } from '../isBoolean/isBoolean.js';\nimport { isObject } from '../isObject/isObject.js';\n\nconst URL = 'https://www.theguardian.com/switches.json';\nconst validate = (switches) => isObject(switches) && Object.values(switches).every(isBoolean);\nconst fetchSwitches = () => fetch(URL)\n    .then((response) => response.json())\n    .then((switches) => validate(switches)\n    ? switches\n    : Promise.reject(new Error('Error getting remote switches – config is malformed')));\n// cache to store any retrieved switches\nlet switches;\n/**\n * Get the active guardian switch config\n */\nconst getSwitches = async () => (switches ||= window.guardian?.config?.switches ?? (await fetchSwitches()));\n\nexport { getSwitches };\n//# sourceMappingURL=getSwitches.js.map\n","import { isObject } from '@guardian/libs';\nimport type { TagType } from '../../../types/tag';\n\nexport type CanShowGateProps = {\n\tisSignedIn: boolean;\n\tcurrentTest: CurrentSignInGateABTest;\n\tcontentType: string;\n\tsectionName?: string;\n\ttags: TagType[];\n\tisPaidContent: boolean;\n\tisPreview?: boolean;\n};\n\nexport type SignInGateComponent = {\n\tgate?: (props: SignInGateProps) => JSX.Element;\n\tcanShow: ({\n\t\tisSignedIn,\n\t\tcurrentTest,\n\t}: CanShowGateProps) => Promise<boolean>;\n};\n\nexport const ALL_USER_TYPES = ['new', 'guest', 'current'] as const;\ntype UserTypeTuple = typeof ALL_USER_TYPES;\nexport type UserType = UserTypeTuple[number];\n\nexport const isUserType = (value: unknown): value is UserType =>\n\tALL_USER_TYPES.includes(value as UserType);\n\nexport const ALL_PRODUCTS = [\n\t'Contribution',\n\t'SupporterPlus',\n\t'Paper',\n\t'GuardianWeekly',\n] as const;\ntype ProductTuple = typeof ALL_PRODUCTS;\nexport type Product = ProductTuple[number];\n\nexport const isProduct = (value: unknown): value is Product =>\n\tALL_PRODUCTS.includes(value as Product);\nexport interface CheckoutCompleteCookieData {\n\tuserType: UserType;\n\tproduct: Product;\n}\n\nexport function isCheckoutCompleteCookieData(\n\tobj: unknown,\n): obj is CheckoutCompleteCookieData {\n\treturn isObject(obj) && isUserType(obj.userType) && isProduct(obj.product);\n}\nexport type SignInGateProps = {\n\tsignInUrl: string;\n\tguUrl: string;\n\tdismissGate: () => void;\n\tophanComponentId: string;\n\tabTest?: CurrentSignInGateABTest;\n\tisMandatory?: boolean;\n\tcheckoutCompleteCookieData?: CheckoutCompleteCookieData;\n\tpersonaliseSignInGateAfterCheckoutSwitch?: boolean;\n};\n\nexport type CurrentSignInGateABTest = {\n\tname: string;\n\tvariant: string;\n\tid: string;\n};\n\nexport type SignInGateTestMap = { [name: string]: SignInGateComponent };\n","export const safeJsonParse =\n\t<T>(guard: (o: unknown) => o is T) =>\n\t(text: string): ParseResult<T> => {\n\t\ttry {\n\t\t\tconst parsed = JSON.parse(text) as unknown;\n\t\t\treturn guard(parsed)\n\t\t\t\t? { parsed, hasError: false }\n\t\t\t\t: { hasError: true };\n\t\t} catch (_) {\n\t\t\treturn { hasError: true };\n\t\t}\n\t};\n\ntype ParseResult<T> =\n\t| { parsed: T; hasError: false }\n\t| { parsed?: undefined; hasError: true };\n","import { getCookie, getSwitches } from '@guardian/libs';\nimport { useEffect, useState } from 'react';\nimport { constructQuery } from '../../lib/querystring';\nimport type { TagType } from '../../types/tag';\nimport { parseCheckoutCompleteCookieData } from '../lib/parser/parseCheckoutOutCookieData';\nimport { useOnce } from '../lib/useOnce';\nimport { useSignInGateSelector } from '../lib/useSignInGateSelector';\nimport type { ComponentEventParams } from './SignInGate/componentEventTracking';\nimport {\n\tsubmitViewEventTracking,\n\twithComponentId,\n} from './SignInGate/componentEventTracking';\nimport {\n\tincrementUserDismissedGateCount,\n\tsetUserDismissedGate,\n} from './SignInGate/dismissGate';\nimport { signInGateTestIdToComponentId } from './SignInGate/signInGate';\nimport type {\n\tCheckoutCompleteCookieData,\n\tCurrentSignInGateABTest,\n\tSignInGateComponent,\n} from './SignInGate/types';\n\ntype Props = {\n\tformat: ArticleFormat;\n\tcontentType: string;\n\tsectionName?: string;\n\ttags: TagType[];\n\tisPaidContent: boolean;\n\tisPreview: boolean;\n\thost?: string;\n\tpageId: string;\n\tidUrl?: string;\n};\n\n// interface for the component which shows the sign in gate\ninterface ShowSignInGateProps {\n\tsetShowGate: React.Dispatch<React.SetStateAction<boolean>>;\n\tabTest: CurrentSignInGateABTest;\n\tcomponentId: string;\n\tformat: ArticleFormat;\n\tsignInUrl: string;\n\tgateVariant: SignInGateComponent;\n\thost: string;\n\tcheckoutCompleteCookieData?: CheckoutCompleteCookieData;\n\tpersonaliseSignInGateAfterCheckoutSwitch?: boolean;\n}\n\nconst dismissGate = (\n\tsetShowGate: React.Dispatch<React.SetStateAction<boolean>>,\n\tcurrentAbTestValue: CurrentSignInGateABTest,\n) => {\n\tsetShowGate(false);\n\tsetUserDismissedGate(currentAbTestValue.variant, currentAbTestValue.name);\n\tincrementUserDismissedGateCount(\n\t\tcurrentAbTestValue.variant,\n\t\tcurrentAbTestValue.name,\n\t);\n};\n\n// function to generate the profile.theguardian.com url with tracking params\n// and the return url (link to current article page)\nconst generateSignInUrl = ({\n\tpageId,\n\tpageViewId,\n\tidUrl,\n\thost,\n\tcurrentTest,\n\tcomponentId,\n}: {\n\tpageId: string;\n\tpageViewId: string;\n\tidUrl: string;\n\thost: string;\n\tcurrentTest: CurrentSignInGateABTest;\n\tcomponentId?: string;\n}) => {\n\t// url of the article, return user here after sign in/registration\n\tconst returnUrl = `${host}/${pageId}`;\n\n\t// set the component event params to be included in the query\n\tconst queryParams: ComponentEventParams = {\n\t\tcomponentType: 'signingate',\n\t\tcomponentId,\n\t\tabTestName: currentTest.name,\n\t\tabTestVariant: currentTest.variant,\n\t\tbrowserId:\n\t\t\tgetCookie({ name: 'bwid', shouldMemoize: true }) ?? undefined,\n\t\tvisitId: getCookie({ name: 'vsid' }) ?? undefined,\n\t\tviewId: pageViewId,\n\t};\n\n\treturn `${idUrl}/signin?returnUrl=${returnUrl}&componentEventParams=${encodeURIComponent(\n\t\tconstructQuery(queryParams),\n\t)}`;\n};\n\n// component which shows the sign in gate\n// fires a VIEW ophan component event\n// and show the gate component if it exists\nconst ShowSignInGate = ({\n\tabTest,\n\tcomponentId,\n\tsetShowGate,\n\tsignInUrl,\n\tgateVariant,\n\thost,\n\tcheckoutCompleteCookieData,\n\tpersonaliseSignInGateAfterCheckoutSwitch,\n}: ShowSignInGateProps) => {\n\t// use effect hook to fire view event tracking only on initial render\n\tuseEffect(() => {\n\t\tsubmitViewEventTracking({\n\t\t\tcomponent: withComponentId(componentId),\n\t\t\tabTest,\n\t\t});\n\t}, [abTest, componentId]);\n\n\t// some sign in gate ab test variants may not need to show a gate\n\t// therefore the gate is optional\n\t// this is because we want a section of the audience to never see the gate\n\t// but still fire a view event if they are eligible to see the gate\n\tif (gateVariant.gate) {\n\t\treturn gateVariant.gate({\n\t\t\tguUrl: host,\n\t\t\tsignInUrl,\n\t\t\tdismissGate: () => {\n\t\t\t\tdismissGate(setShowGate, abTest);\n\t\t\t},\n\t\t\tabTest,\n\t\t\tophanComponentId: componentId,\n\t\t\tcheckoutCompleteCookieData,\n\t\t\tpersonaliseSignInGateAfterCheckoutSwitch,\n\t\t});\n\t}\n\t// return nothing if no gate needs to be shown\n\treturn <></>;\n};\n\n// component with conditional logic which determines if a sign in gate\n// should be shown on the current page\nexport const SignInGateSelector = ({\n\tformat,\n\tcontentType,\n\tsectionName = '',\n\ttags,\n\tisPaidContent,\n\tisPreview,\n\thost = 'https://theguardian.com/',\n\tpageId,\n\tidUrl = 'https://profile.theguardian.com',\n}: Props) => {\n\tconst isSignedIn = !!getCookie({ name: 'GU_U', shouldMemoize: true });\n\tconst [isGateDismissed, setIsGateDismissed] = useState<boolean | undefined>(\n\t\tundefined,\n\t);\n\tconst [gateVariant, setGateVariant] = useState<\n\t\tSignInGateComponent | undefined\n\t>(undefined);\n\tconst [currentTest, setCurrentTest] = useState<\n\t\tCurrentSignInGateABTest | undefined\n\t>(undefined);\n\tconst [canShowGate, setCanShowGate] = useState(false);\n\n\tconst gateSelector = useSignInGateSelector();\n\tconst { pageViewId } = window.guardian.config.ophan;\n\n\t// START: Checkout Complete Personalisation\n\tconst [personaliseSwitch, setPersonaliseSwitch] = useState(false);\n\tconst checkOutCompleteString = getCookie({\n\t\tname: 'GU_CO_COMPLETE',\n\t\tshouldMemoize: true,\n\t});\n\tconst checkoutCompleteCookieData: CheckoutCompleteCookieData | undefined =\n\t\tcheckOutCompleteString !== null\n\t\t\t? parseCheckoutCompleteCookieData(checkOutCompleteString)\n\t\t\t: undefined;\n\n\tconst personaliseComponentId = (\n\t\tcurrentComponentId: string | undefined,\n\t): string | undefined => {\n\t\tif (!currentComponentId) return undefined;\n\t\tif (!checkoutCompleteCookieData) return currentComponentId;\n\t\tconst { userType, product } = checkoutCompleteCookieData;\n\t\treturn `${currentComponentId}_personalised_${userType}_${product}`;\n\t};\n\tconst shouldPersonaliseComponentId = (): boolean => {\n\t\treturn personaliseSwitch && !!checkoutCompleteCookieData;\n\t};\n\t// END: Checkout Complete Personalisation\n\n\tuseOnce(() => {\n\t\t// this hook will fire when the sign in gate is dismissed\n\t\t// which will happen when the showGate state is set to false\n\t\t// this only happens within the dismissGate method\n\t\tif (isGateDismissed) {\n\t\t\tdocument.dispatchEvent(\n\t\t\t\tnew CustomEvent('article:sign-in-gate-dismissed'),\n\t\t\t);\n\t\t}\n\t}, [isGateDismissed]);\n\n\tuseOnce(() => {\n\t\tconst [gateSelectorVariant, gateSelectorTest] = gateSelector as [\n\t\t\tSignInGateComponent | null,\n\t\t\tCurrentSignInGateABTest | null,\n\t\t];\n\t\tif (gateSelectorVariant && gateSelectorTest) {\n\t\t\tsetGateVariant(gateSelectorVariant);\n\t\t\tsetCurrentTest(gateSelectorTest);\n\t\t}\n\t}, [gateSelector]);\n\n\tuseOnce(() => {\n\t\tvoid getSwitches().then((switches) => {\n\t\t\tif (switches.personaliseSignInGateAfterCheckout) {\n\t\t\t\tsetPersonaliseSwitch(\n\t\t\t\t\tswitches.personaliseSignInGateAfterCheckout,\n\t\t\t\t);\n\t\t\t} else setPersonaliseSwitch(false);\n\t\t});\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif (gateVariant && currentTest) {\n\t\t\tvoid gateVariant\n\t\t\t\t.canShow({\n\t\t\t\t\tisSignedIn: !!isSignedIn,\n\t\t\t\t\tcurrentTest,\n\t\t\t\t\tcontentType,\n\t\t\t\t\tsectionName,\n\t\t\t\t\ttags,\n\t\t\t\t\tisPaidContent,\n\t\t\t\t\tisPreview,\n\t\t\t\t})\n\t\t\t\t.then(setCanShowGate);\n\t\t}\n\t}, [\n\t\tcurrentTest,\n\t\tgateVariant,\n\t\tisSignedIn,\n\t\tcontentType,\n\t\tsectionName,\n\t\ttags,\n\t\tisPaidContent,\n\t\tisPreview,\n\t]);\n\n\tif (!currentTest || !gateVariant) {\n\t\treturn null;\n\t}\n\tconst signInGateComponentId = signInGateTestIdToComponentId[currentTest.id];\n\n\tconst componentId = shouldPersonaliseComponentId()\n\t\t? personaliseComponentId(signInGateComponentId)\n\t\t: signInGateComponentId;\n\n\tconst signInUrl = generateSignInUrl({\n\t\tpageId,\n\t\thost,\n\t\tpageViewId,\n\t\tidUrl,\n\t\tcurrentTest,\n\t\tcomponentId,\n\t});\n\n\treturn (\n\t\t<>\n\t\t\t{/* Sign In Gate Display Logic */}\n\t\t\t{!isGateDismissed && canShowGate && !!componentId && (\n\t\t\t\t<ShowSignInGate\n\t\t\t\t\tformat={format}\n\t\t\t\t\tabTest={currentTest}\n\t\t\t\t\tcomponentId={componentId}\n\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/strict-boolean-expressions -- Odd react types, should review\n\t\t\t\t\tsetShowGate={(show) => setIsGateDismissed(!show)}\n\t\t\t\t\tsignInUrl={signInUrl}\n\t\t\t\t\tgateVariant={gateVariant}\n\t\t\t\t\thost={host}\n\t\t\t\t\tcheckoutCompleteCookieData={checkoutCompleteCookieData}\n\t\t\t\t\tpersonaliseSignInGateAfterCheckoutSwitch={personaliseSwitch}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</>\n\t);\n};\n","import type { CheckoutCompleteCookieData } from '../../components/SignInGate/types';\nimport { isCheckoutCompleteCookieData } from '../../components/SignInGate/types';\nimport { safeJsonParse } from './jsonParser';\n\nexport const parseCheckoutCompleteCookieData = (\n\tcheckoutCompleteStr: string,\n): CheckoutCompleteCookieData | undefined => {\n\tconst decodedCookieString = decodeURIComponent(checkoutCompleteStr);\n\tif (decodedCookieString === checkoutCompleteStr) return undefined;\n\tconst parseResult = safeJsonParse(isCheckoutCompleteCookieData)(\n\t\tdecodeURIComponent(checkoutCompleteStr),\n\t);\n\treturn !parseResult.hasError ? parseResult.parsed : undefined;\n};\n","import { css } from '@emotion/react';\nimport {\n\tborder,\n\theadline,\n\tneutral,\n\tnews,\n\tspace,\n\ttext,\n\ttextSans,\n\tuntil,\n} from '@guardian/source-foundations';\nimport { createAuthenticationEventParams } from '../../lib/identity-component-event';\nimport type { Palette } from '../../types/palette';\n\ntype Props = {\n\tcommentCount?: number;\n\tpalette: Palette;\n\tenableDiscussionSwitch: boolean;\n\tuser?: UserProfile;\n\tisClosedForComments?: boolean;\n};\n\nconst containerStyles = css`\n\tpadding-top: ${space[1]}px;\n\tpadding-bottom: ${space[1]}px;\n`;\n\nconst imageStyles = css`\n\tborder-radius: 70px;\n\twidth: 60px;\n\theight: 60px;\n\t${until.desktop} {\n\t\twidth: 36px;\n\t\theight: 36px;\n\t}\n`;\n\nconst imageWrapper = css`\n\tpadding-bottom: ${space[1]}px;\n\tpadding-right: ${space[2]}px;\n`;\n\nconst headingStyles = css`\n\t${headline.xxsmall({ fontWeight: 'bold' })};\n\tpadding-bottom: ${space[1]}px;\n`;\n\nconst textStyles = css`\n\t${textSans.small()}\n\t${until.desktop} {\n\t\t${textSans.xxsmall()}\n\t}\n\tcolor: ${text.supporting};\n\tpadding-bottom: ${space[1]}px;\n`;\n\nconst headlineStyles = css`\n\t${headline.xxxsmall()}\n\tcolor: ${text.supporting};\n\tpadding-bottom: ${space[1]}px;\n`;\n\nconst usernameStyles = css`\n\tfont-weight: 700;\n\tcolor: ${text.primary};\n`;\n\nconst linkStyles = (palette: Palette) => css`\n\tcolor: ${palette.text.signInLink};\n\ttext-decoration: none;\n\tborder-bottom: 1px solid ${border.secondary};\n\ttransition: border-color 0.15s ease-out;\n\t:hover {\n\t\tborder-color: ${news[300]};\n\t}\n`;\n\nconst rowUntilDesktop = css`\n\tdisplay: flex;\n\tflex-direction: column;\n\t${until.desktop} {\n\t\tflex-direction: row;\n\t}\n`;\n\nconst Heading = ({ count }: { count?: number }) => {\n\treturn (\n\t\t<h2 css={headingStyles}>\n\t\t\tcomments{' '}\n\t\t\t<span\n\t\t\t\tcss={css`\n\t\t\t\t\tcolor: ${neutral[60]};\n\t\t\t\t`}\n\t\t\t>\n\t\t\t\t({count ?? '…'})\n\t\t\t</span>\n\t\t</h2>\n\t);\n};\n\nexport const SignedInAs = ({\n\tcommentCount,\n\tpalette,\n\tenableDiscussionSwitch,\n\tuser,\n\tisClosedForComments,\n}: Props) => {\n\tconst isBanned = user?.privateFields && !user.privateFields.canPostComment;\n\n\tif (!enableDiscussionSwitch) {\n\t\t// Discussion is disabled sitewide and user is signed in\n\t\tif (user) {\n\t\t\treturn (\n\t\t\t\t<div css={containerStyles}>\n\t\t\t\t\t<Heading count={commentCount} />\n\t\t\t\t\t<span css={headlineStyles}>\n\t\t\t\t\t\tCommenting has been disabled at this time\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\t// Discussion disabled sitewide and user logged out\n\t\treturn (\n\t\t\t<div css={containerStyles}>\n\t\t\t\t<Heading count={commentCount} />\n\t\t\t\t<span css={headlineStyles}>\n\t\t\t\t\tCommenting has been disabled at this time but you can still{' '}\n\t\t\t\t\t<a\n\t\t\t\t\t\thref={`https://profile.theguardian.com/signin?INTCMP=DOTCOM_COMMENTS_SIGNIN&${createAuthenticationEventParams(\n\t\t\t\t\t\t\t'signin_to_comment',\n\t\t\t\t\t\t)}`}\n\t\t\t\t\t\tcss={linkStyles(palette)}\n\t\t\t\t\t>\n\t\t\t\t\t\tsign in\n\t\t\t\t\t</a>{' '}\n\t\t\t\t\tor{' '}\n\t\t\t\t\t<a\n\t\t\t\t\t\thref={`https://profile.theguardian.com/register?INTCMP=DOTCOM_COMMENTS_REG&${createAuthenticationEventParams(\n\t\t\t\t\t\t\t'register_to_comment',\n\t\t\t\t\t\t)}`}\n\t\t\t\t\t\tcss={linkStyles(palette)}\n\t\t\t\t\t>\n\t\t\t\t\t\tcreate your Guardian account\n\t\t\t\t\t</a>{' '}\n\t\t\t\t\tto join the discussion when it&apos;s back\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tif (isBanned) {\n\t\t// User is banned\n\t\treturn (\n\t\t\t<div css={containerStyles}>\n\t\t\t\t<Heading count={commentCount} />\n\t\t\t\t<span css={headlineStyles}>\n\t\t\t\t\tCommenting has been disabled for this account (\n\t\t\t\t\t<a\n\t\t\t\t\t\thref=\"https://www.theguardian.com/community-faqs#321a\"\n\t\t\t\t\t\tcss={linkStyles(palette)}\n\t\t\t\t\t>\n\t\t\t\t\t\twhy?\n\t\t\t\t\t</a>{' '}\n\t\t\t\t\t)\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tif (user && isClosedForComments) {\n\t\t// The reader is logged in but the discussion is closed\n\t\treturn (\n\t\t\t<div css={containerStyles}>\n\t\t\t\t<Heading count={commentCount} />\n\t\t\t\t<span css={headlineStyles}>\n\t\t\t\t\tThis discussion is closed for comments\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tif (!user && isClosedForComments) {\n\t\t// The discussion is closed and the reader is not logged in\n\t\treturn (\n\t\t\t<div css={containerStyles}>\n\t\t\t\t<Heading count={commentCount} />\n\t\t\t\t<span css={headlineStyles}>\n\t\t\t\t\tThis discussion is now closed for comments but you can still{' '}\n\t\t\t\t\t<a\n\t\t\t\t\t\thref={`https://profile.theguardian.com/signin?INTCMP=DOTCOM_COMMENTS_SIGNIN&${createAuthenticationEventParams(\n\t\t\t\t\t\t\t'signin_to_comment',\n\t\t\t\t\t\t)}`}\n\t\t\t\t\t\tcss={linkStyles(palette)}\n\t\t\t\t\t>\n\t\t\t\t\t\tsign in\n\t\t\t\t\t</a>{' '}\n\t\t\t\t\tor{' '}\n\t\t\t\t\t<a\n\t\t\t\t\t\thref={`https://profile.theguardian.com/register?INTCMP=DOTCOM_COMMENTS_REG&${createAuthenticationEventParams(\n\t\t\t\t\t\t\t'register_to_comment',\n\t\t\t\t\t\t)}`}\n\t\t\t\t\t\tcss={linkStyles(palette)}\n\t\t\t\t\t>\n\t\t\t\t\t\tcreate your Guardian account\n\t\t\t\t\t</a>{' '}\n\t\t\t\t\tto join the discussion next time\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tif (!user) {\n\t\t// The discussion is open but the reader is not logged in\n\t\treturn (\n\t\t\t<div css={containerStyles}>\n\t\t\t\t<Heading count={commentCount} />\n\t\t\t\t<span css={headlineStyles}>\n\t\t\t\t\t<a\n\t\t\t\t\t\thref={`https://profile.theguardian.com/signin?INTCMP=DOTCOM_COMMENTS_SIGNIN&${createAuthenticationEventParams(\n\t\t\t\t\t\t\t'signin_to_comment',\n\t\t\t\t\t\t)}`}\n\t\t\t\t\t\tcss={linkStyles(palette)}\n\t\t\t\t\t>\n\t\t\t\t\t\tSign in\n\t\t\t\t\t</a>{' '}\n\t\t\t\t\tor{' '}\n\t\t\t\t\t<a\n\t\t\t\t\t\thref={`https://profile.theguardian.com/register?INTCMP=DOTCOM_COMMENTS_REG&${createAuthenticationEventParams(\n\t\t\t\t\t\t\t'register_to_comment',\n\t\t\t\t\t\t)}`}\n\t\t\t\t\t\tcss={linkStyles(palette)}\n\t\t\t\t\t>\n\t\t\t\t\t\tcreate your Guardian account\n\t\t\t\t\t</a>{' '}\n\t\t\t\t\tto join the discussion\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t// Discussion open and user logged in\n\treturn (\n\t\t<div css={containerStyles}>\n\t\t\t<Heading count={commentCount} />\n\t\t\t<div css={rowUntilDesktop}>\n\t\t\t\t<div css={imageWrapper}>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={\n\t\t\t\t\t\t\tuser.secureAvatarUrl ||\n\t\t\t\t\t\t\t'https://avatar.guim.co.uk/no-user-image.gif'\n\t\t\t\t\t\t}\n\t\t\t\t\t\talt={user.displayName || 'Guardian User'}\n\t\t\t\t\t\tcss={imageStyles}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div css={textStyles}>\n\t\t\t\t\tSigned in as\n\t\t\t\t\t<div css={usernameStyles}>\n\t\t\t\t\t\t{user.displayName || 'Guardian User'}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import { css } from '@emotion/react';\nimport type { BrazeEndOfArticleComponent } from '@guardian/braze-components/end-of-article';\nimport type {\n\tBrazeArticleContext,\n\tBrazeMessagesInterface,\n} from '@guardian/braze-components/logic';\nimport { useEffect, useRef, useState } from 'react';\nimport { submitComponentEvent } from '../../browser/ophan/ophan';\nimport { getBrazeMetaFromUrlFragment } from '../../lib/braze/forceBrazeMessage';\nimport type { CanShowResult } from '../../lib/messagePicker';\nimport { useIsInView } from '../../lib/useIsInView';\nimport { useOnce } from '../../lib/useOnce';\nimport { suppressForTaylorReport } from '../../lib/braze/taylorReport';\nimport { TagType } from '../../../types/tag';\n\nconst wrapperMargins = css`\n\tmargin: 18px 0;\n`;\n\nconst COMPONENT_TYPE = 'RETENTION_EPIC';\n\ntype Meta = {\n\tdataFromBraze: { [key: string]: string };\n\tlogImpressionWithBraze: () => void;\n\tlogButtonClickWithBraze: (id: number) => void;\n};\n\ntype EpicConfig = {\n\tmeta: Meta;\n\tcountryCode: string;\n\tidApiUrl: string;\n};\n\nexport const canShowBrazeEpic = async (\n\tbrazeMessages: BrazeMessagesInterface,\n\tbrazeArticleContext: BrazeArticleContext,\n\tcontentType: string,\n\ttags: TagType[],\n): Promise<CanShowResult<Meta>> => {\n\tif (contentType.toLowerCase() === 'interactive') {\n\t\treturn { show: false };\n\t}\n\n\tconst forcedBrazeMeta = getBrazeMetaFromUrlFragment();\n\tif (forcedBrazeMeta) {\n\t\treturn {\n\t\t\tshow: true,\n\t\t\tmeta: forcedBrazeMeta,\n\t\t};\n\t}\n\n\tif (suppressForTaylorReport(tags)) {\n\t\treturn { show: false };\n\t}\n\n\ttry {\n\t\tconst message = await brazeMessages.getMessageForEndOfArticle(\n\t\t\tbrazeArticleContext,\n\t\t);\n\n\t\tif (message.extras) {\n\t\t\treturn {\n\t\t\t\tshow: true,\n\t\t\t\tmeta: {\n\t\t\t\t\tdataFromBraze: message.extras,\n\t\t\t\t\tlogImpressionWithBraze: () => {\n\t\t\t\t\t\tmessage.logImpression();\n\t\t\t\t\t},\n\t\t\t\t\tlogButtonClickWithBraze: (internalButtonId: number) => {\n\t\t\t\t\t\tmessage.logButtonClick(internalButtonId);\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\n\t\treturn { show: false };\n\t} catch (e) {\n\t\treturn { show: false };\n\t}\n};\n\ntype InnerProps = {\n\tmeta: Meta;\n\tcountryCode: string;\n\tBrazeComponent: typeof BrazeEndOfArticleComponent;\n\tidApiUrl: string;\n};\n\nconst BrazeEpicWithSatisfiedDependencies = ({\n\tBrazeComponent,\n\tmeta,\n\tcountryCode,\n\tidApiUrl,\n}: InnerProps) => {\n\tconst [hasBeenSeen, setNode] = useIsInView({\n\t\trootMargin: '-18px',\n\t\tthreshold: 0,\n\t\tdebounce: true,\n\t});\n\n\tconst epicRef = useRef(null);\n\n\tuseOnce(() => {\n\t\tsubmitComponentEvent({\n\t\t\tcomponent: {\n\t\t\t\tcomponentType: COMPONENT_TYPE,\n\t\t\t\tid: meta.dataFromBraze.ophanComponentId,\n\t\t\t},\n\t\t\taction: 'INSERT',\n\t\t});\n\t}, [meta.dataFromBraze, epicRef.current]);\n\n\tuseEffect(() => {\n\t\tif (hasBeenSeen) {\n\t\t\tmeta.logImpressionWithBraze();\n\n\t\t\t// Log VIEW event with Ophan\n\t\t\tsubmitComponentEvent({\n\t\t\t\tcomponent: {\n\t\t\t\t\tcomponentType: COMPONENT_TYPE,\n\t\t\t\t\tid: meta.dataFromBraze.ophanComponentId,\n\t\t\t\t},\n\t\t\t\taction: 'VIEW',\n\t\t\t});\n\t\t}\n\t}, [hasBeenSeen, meta]);\n\n\tconst componentName = meta.dataFromBraze.componentName;\n\tif (!componentName) return null;\n\n\treturn (\n\t\t<div ref={setNode} css={wrapperMargins}>\n\t\t\t<div ref={epicRef}>\n\t\t\t\t<BrazeComponent\n\t\t\t\t\tcomponentName={componentName}\n\t\t\t\t\tbrazeMessageProps={meta.dataFromBraze}\n\t\t\t\t\tsubscribeToNewsletter={async (newsletterId) => {\n\t\t\t\t\t\tawait fetch(`${idApiUrl}/users/me/newsletters`, {\n\t\t\t\t\t\t\tmethod: 'PATCH',\n\t\t\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\t\t\tid: newsletterId,\n\t\t\t\t\t\t\t\tsubscribed: true,\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tcredentials: 'include',\n\t\t\t\t\t\t});\n\t\t\t\t\t}}\n\t\t\t\t\tcountryCode={countryCode}\n\t\t\t\t\tlogButtonClickWithBraze={meta.logButtonClickWithBraze}\n\t\t\t\t\tsubmitComponentEvent={submitComponentEvent}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport const MaybeBrazeEpic = ({ meta, countryCode, idApiUrl }: EpicConfig) => {\n\tconst [BrazeComponent, setBrazeComponent] =\n\t\tuseState<typeof BrazeEndOfArticleComponent>();\n\n\tuseEffect(() => {\n\t\timport(\n\t\t\t/* webpackChunkName: \"guardian-braze-components-end-of-article\" */ '@guardian/braze-components/end-of-article'\n\t\t)\n\t\t\t.then((module) => {\n\t\t\t\tsetBrazeComponent(() => module.BrazeEndOfArticleComponent);\n\t\t\t})\n\t\t\t.catch((error) =>\n\t\t\t\twindow.guardian.modules.sentry.reportError(error, 'braze-epic'),\n\t\t\t);\n\t}, []);\n\n\treturn (\n\t\t<>\n\t\t\t{BrazeComponent ? (\n\t\t\t\t<BrazeEpicWithSatisfiedDependencies\n\t\t\t\t\tBrazeComponent={BrazeComponent}\n\t\t\t\t\tmeta={meta}\n\t\t\t\t\tcountryCode={countryCode}\n\t\t\t\t\tidApiUrl={idApiUrl}\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<div />\n\t\t\t)}\n\t\t</>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { cmp } from '@guardian/consent-management-platform';\nimport type { OphanComponentEvent } from '@guardian/libs';\nimport { getCookie, storage } from '@guardian/libs';\nimport { getEpic, getEpicViewLog } from '@guardian/support-dotcom-components';\nimport type {\n\tEpicPayload,\n\tModuleData,\n\tModuleDataResponse,\n\tWeeklyArticleHistory,\n} from '@guardian/support-dotcom-components/dist/dotcom/src/types';\nimport { useEffect, useState } from 'react';\nimport type { TagType } from '../../../types/tag';\nimport { initPerf } from '../../browser/initPerf';\nimport { submitComponentEvent } from '../../browser/ophan/ophan';\nimport {\n\tgetLastOneOffContributionTimestamp,\n\thasCmpConsentForArticleCount,\n\thasCmpConsentForBrowserId,\n\thasOptedOutOfArticleCount,\n\tisRecurringContributor,\n\tlazyFetchEmailWithTimeout,\n\tMODULES_VERSION,\n\tshouldHideSupportMessaging,\n} from '../../lib/contributions';\nimport type { CanShowResult } from '../../lib/messagePicker';\nimport { setAutomat } from '../../lib/setAutomat';\n\nexport type EpicConfig = {\n\tmodule: ModuleData;\n\tfetchEmail?: () => Promise<string | null>;\n\thasConsentForArticleCount: boolean;\n\tstage: string;\n};\n\ntype EpicProps = {\n\tfetchEmail?: () => Promise<string | null>;\n\tsubmitComponentEvent?: (componentEvent: OphanComponentEvent) => void;\n\topenCmp: () => void;\n\thasConsentForArticleCount: boolean;\n\tstage: string;\n\t// Also anything specified by support-dotcom-components\n};\n\ntype EpicType = React.ElementType<EpicProps>;\n\nconst wrapperMargins = css`\n\tmargin: 18px 0;\n\tclear: both;\n`;\n\nexport type CanShowData = {\n\tisSignedIn?: boolean;\n\tcountryCode?: string;\n\tcontentType: string;\n\tsectionId: string;\n\tshouldHideReaderRevenue: boolean;\n\tisMinuteArticle: boolean;\n\tisPaidContent: boolean;\n\ttags: TagType[];\n\tcontributionsServiceUrl: string;\n\tidApiUrl: string;\n\tstage: string;\n\tasyncArticleCount: Promise<WeeklyArticleHistory | undefined>;\n\tbrowserId?: string;\n};\n\nconst buildPayload = async (data: CanShowData): Promise<EpicPayload> => ({\n\ttracking: {\n\t\tophanPageId: window.guardian.config.ophan.pageViewId,\n\t\tplatformId: 'GUARDIAN_WEB',\n\t\tclientName: 'dcr',\n\t\treferrerUrl: window.location.origin + window.location.pathname,\n\t},\n\ttargeting: {\n\t\tcontentType: data.contentType,\n\t\tsectionId: data.sectionId,\n\t\tshouldHideReaderRevenue: data.shouldHideReaderRevenue,\n\t\tisMinuteArticle: data.isMinuteArticle,\n\t\tisPaidContent: data.isPaidContent,\n\t\ttags: data.tags,\n\t\tshowSupportMessaging: !shouldHideSupportMessaging(\n\t\t\tdata.isSignedIn ?? false,\n\t\t),\n\t\tisRecurringContributor: isRecurringContributor(\n\t\t\tdata.isSignedIn ?? false,\n\t\t),\n\t\tlastOneOffContributionDate: getLastOneOffContributionTimestamp(),\n\t\tepicViewLog: getEpicViewLog(storage.local),\n\t\tweeklyArticleHistory: await data.asyncArticleCount,\n\t\thasOptedOutOfArticleCount: await hasOptedOutOfArticleCount(),\n\t\tmvtId: Number(getCookie({ name: 'GU_mvt_id', shouldMemoize: true })),\n\t\tcountryCode: data.countryCode,\n\t\tmodulesVersion: MODULES_VERSION,\n\t\turl: window.location.origin + window.location.pathname,\n\t\tbrowserId: (await hasCmpConsentForBrowserId())\n\t\t\t? data.browserId\n\t\t\t: undefined,\n\t\tisSignedIn: data.isSignedIn,\n\t},\n});\n\nexport const canShowReaderRevenueEpic = async (\n\tdata: CanShowData,\n): Promise<CanShowResult<EpicConfig>> => {\n\tconst {\n\t\tisSignedIn,\n\t\tshouldHideReaderRevenue,\n\t\tisPaidContent,\n\t\tcontributionsServiceUrl,\n\t\tidApiUrl,\n\t\tstage,\n\t} = data;\n\n\tif (shouldHideReaderRevenue || isPaidContent) {\n\t\t// We never serve Reader Revenue epics in this case\n\t\treturn Promise.resolve({ show: false });\n\t}\n\tconst dataPerf = initPerf('contributions-epic-data');\n\tdataPerf.start();\n\n\tconst contributionsPayload = await buildPayload(data);\n\n\tconst response: ModuleDataResponse = await getEpic(\n\t\tcontributionsServiceUrl,\n\t\tcontributionsPayload,\n\t);\n\tconst module: ModuleData | undefined = response.data?.module;\n\n\tif (!module) {\n\t\treturn { show: false };\n\t}\n\n\tconst fetchEmail: (() => Promise<string | null>) | undefined = isSignedIn\n\t\t? lazyFetchEmailWithTimeout(idApiUrl)\n\t\t: undefined;\n\n\tconst hasConsentForArticleCount = await hasCmpConsentForArticleCount();\n\n\treturn {\n\t\tshow: true,\n\t\tmeta: {\n\t\t\tmodule,\n\t\t\tfetchEmail,\n\t\t\thasConsentForArticleCount,\n\t\t\tstage,\n\t\t},\n\t};\n};\n\nexport const ReaderRevenueEpic = ({\n\tmodule,\n\tfetchEmail,\n\thasConsentForArticleCount,\n\tstage,\n}: EpicConfig) => {\n\tconst [Epic, setEpic] = useState<EpicType>();\n\n\tconst openCmp = () => {\n\t\tcmp.showPrivacyManager();\n\t};\n\n\tuseEffect(() => {\n\t\tsetAutomat();\n\n\t\tconst modulePerf = initPerf('contributions-epic-module');\n\t\tmodulePerf.start();\n\n\t\twindow\n\t\t\t.guardianPolyfilledImport(module.url)\n\t\t\t.then((epicModule: { ContributionsEpic: EpicType }) => {\n\t\t\t\tmodulePerf.end();\n\t\t\t\tsetEpic(() => epicModule.ContributionsEpic); // useState requires functions to be wrapped\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconst msg =\n\t\t\t\t\terror instanceof Error\n\t\t\t\t\t\t? `Error importing RR epic: ${error.message}`\n\t\t\t\t\t\t: 'Unknown error';\n\n\t\t\t\tconsole.log(msg);\n\t\t\t\twindow.guardian.modules.sentry.reportError(\n\t\t\t\t\tnew Error(msg),\n\t\t\t\t\t'rr-epic',\n\t\t\t\t);\n\t\t\t});\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, []);\n\n\tif (Epic !== undefined) {\n\t\treturn (\n\t\t\t<div css={wrapperMargins}>\n\t\t\t\t{}\n\t\t\t\t<Epic\n\t\t\t\t\t{...module.props}\n\t\t\t\t\tfetchEmail={fetchEmail}\n\t\t\t\t\tsubmitComponentEvent={submitComponentEvent}\n\t\t\t\t\topenCmp={openCmp}\n\t\t\t\t\thasConsentForArticleCount={hasConsentForArticleCount}\n\t\t\t\t\tstage={stage}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn null;\n};\n","import type {\n\tBrazeArticleContext,\n\tBrazeMessagesInterface,\n} from '@guardian/braze-components/logic';\nimport { getCookie } from '@guardian/libs';\nimport type { WeeklyArticleHistory } from '@guardian/support-dotcom-components/dist/dotcom/src/types';\nimport { useEffect, useState } from 'react';\nimport { getArticleCounts } from '../../lib/articleCount';\nimport type { TagType } from '../../types/tag';\nimport { getLocaleCode } from '../lib/getCountryCode';\nimport type {\n\tCandidateConfig,\n\tMaybeFC,\n\tSlotConfig,\n} from '../lib/messagePicker';\nimport { pickMessage } from '../lib/messagePicker';\nimport { useBraze } from '../lib/useBraze';\nimport { useOnce } from '../lib/useOnce';\nimport { canShowBrazeEpic, MaybeBrazeEpic } from './SlotBodyEnd/BrazeEpic';\nimport {\n\tcanShowReaderRevenueEpic,\n\tReaderRevenueEpic,\n} from './SlotBodyEnd/ReaderRevenueEpic';\nimport type {\n\tCanShowData as RRCanShowData,\n\tEpicConfig as RREpicConfig,\n} from './SlotBodyEnd/ReaderRevenueEpic';\n\ntype Props = {\n\tcontentType: string;\n\tsectionName?: string;\n\tsectionId: string;\n\tshouldHideReaderRevenue: boolean;\n\tisMinuteArticle: boolean;\n\tisPaidContent: boolean;\n\ttags: TagType[];\n\tcontributionsServiceUrl: string;\n\tidApiUrl: string;\n\tstage: string;\n\tpageId: string;\n\tkeywordIds: string;\n};\n\nconst buildReaderRevenueEpicConfig = (\n\tcanShowData: RRCanShowData,\n): CandidateConfig<RREpicConfig> => {\n\treturn {\n\t\tcandidate: {\n\t\t\tid: 'reader-revenue-banner',\n\t\t\tcanShow: () => canShowReaderRevenueEpic(canShowData),\n\t\t\tshow: (meta: RREpicConfig) => () => {\n\t\t\t\treturn <ReaderRevenueEpic {...meta} />;\n\t\t\t},\n\t\t},\n\t\ttimeoutMillis: null,\n\t};\n};\n\nconst buildBrazeEpicConfig = (\n\tbrazeMessages: BrazeMessagesInterface,\n\tcountryCode: string,\n\tidApiUrl: string,\n\tcontentType: string,\n\tbrazeArticleContext: BrazeArticleContext,\n\ttags: TagType[],\n): CandidateConfig<any> => {\n\treturn {\n\t\tcandidate: {\n\t\t\tid: 'braze-epic',\n\t\t\tcanShow: () =>\n\t\t\t\tcanShowBrazeEpic(\n\t\t\t\t\tbrazeMessages,\n\t\t\t\t\tbrazeArticleContext,\n\t\t\t\t\tcontentType,\n\t\t\t\t\ttags,\n\t\t\t\t),\n\t\t\tshow: (meta: any) => () =>\n\t\t\t\t(\n\t\t\t\t\t<MaybeBrazeEpic\n\t\t\t\t\t\tmeta={meta}\n\t\t\t\t\t\tcountryCode={countryCode}\n\t\t\t\t\t\tidApiUrl={idApiUrl}\n\t\t\t\t\t/>\n\t\t\t\t),\n\t\t},\n\t\ttimeoutMillis: 2000,\n\t};\n};\n\nexport const SlotBodyEnd = ({\n\tcontentType,\n\tsectionName,\n\tsectionId,\n\tshouldHideReaderRevenue,\n\tisMinuteArticle,\n\tisPaidContent,\n\ttags,\n\tcontributionsServiceUrl,\n\tidApiUrl,\n\tstage,\n\tpageId,\n\tkeywordIds,\n}: Props) => {\n\tconst { brazeMessages } = useBraze(idApiUrl);\n\n\tconst [countryCode, setCountryCode] = useState<string>();\n\tconst isSignedIn = !!getCookie({ name: 'GU_U', shouldMemoize: true });\n\tconst browserId = getCookie({ name: 'bwid', shouldMemoize: true });\n\tconst [SelectedEpic, setSelectedEpic] = useState<React.ElementType | null>(\n\t\tnull,\n\t);\n\tconst [asyncArticleCount, setAsyncArticleCount] =\n\t\tuseState<Promise<WeeklyArticleHistory | undefined>>();\n\n\tuseEffect(() => {\n\t\tconst callFetch = () => {\n\t\t\tgetLocaleCode()\n\t\t\t\t.then((cc) => {\n\t\t\t\t\tsetCountryCode(cc ?? '');\n\t\t\t\t})\n\t\t\t\t.catch((e) =>\n\t\t\t\t\tconsole.error(`countryCodePromise - error: ${String(e)}`),\n\t\t\t\t);\n\t\t};\n\t\tcallFetch();\n\t}, []);\n\n\tuseEffect(() => {\n\t\tsetAsyncArticleCount(\n\t\t\tgetArticleCounts(pageId, keywordIds).then(\n\t\t\t\t(counts) => counts?.weeklyArticleHistory,\n\t\t\t),\n\t\t);\n\t}, [pageId, keywordIds]);\n\n\tuseOnce(() => {\n\t\tconst readerRevenueEpic = buildReaderRevenueEpicConfig({\n\t\t\tisSignedIn,\n\t\t\tcountryCode,\n\t\t\tcontentType,\n\t\t\tsectionId,\n\t\t\tshouldHideReaderRevenue,\n\t\t\tisMinuteArticle,\n\t\t\tisPaidContent,\n\t\t\ttags,\n\t\t\tcontributionsServiceUrl,\n\t\t\tidApiUrl,\n\t\t\tstage,\n\t\t\tasyncArticleCount: asyncArticleCount as Promise<\n\t\t\t\tWeeklyArticleHistory | undefined\n\t\t\t>,\n\t\t\tbrowserId: browserId ?? undefined,\n\t\t});\n\t\tconst brazeArticleContext: BrazeArticleContext = {\n\t\t\tsection: sectionName,\n\t\t};\n\t\tconst brazeEpic = buildBrazeEpicConfig(\n\t\t\tbrazeMessages as BrazeMessagesInterface,\n\t\t\tcountryCode as string,\n\t\t\tidApiUrl,\n\t\t\tcontentType,\n\t\t\tbrazeArticleContext,\n\t\t\ttags,\n\t\t);\n\t\tconst epicConfig: SlotConfig = {\n\t\t\tcandidates: [brazeEpic, readerRevenueEpic],\n\t\t\tname: 'slotBodyEnd',\n\t\t};\n\n\t\tpickMessage(epicConfig)\n\t\t\t.then((PickedEpic: () => MaybeFC) => setSelectedEpic(PickedEpic))\n\t\t\t.catch((e) =>\n\t\t\t\tconsole.error(`SlotBodyEnd pickMessage - error: ${String(e)}`),\n\t\t\t);\n\t}, [isSignedIn, countryCode, brazeMessages, asyncArticleCount]);\n\n\tif (SelectedEpic !== null) {\n\t\treturn (\n\t\t\t<div id=\"slot-body-end\">\n\t\t\t\t<SelectedEpic />\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn null;\n};\n","import { css } from '@emotion/react';\nimport { body, neutral } from '@guardian/source-foundations';\nimport { Link, SvgChevronDownSingle } from '@guardian/source-react-components';\nimport { useCallback, useEffect, useMemo, useRef, useState } from 'react';\n\ntype Flake = {\n\tx: number;\n\ty: number;\n\tradius: number;\n\tvelocity: number;\n\tname: string;\n};\n\ntype Snowflakes = { [name: string]: Flake };\n\nconst Snowflake = ({ name, radius }: { name: string; radius: number }) => {\n\treturn (\n\t\t<div\n\t\t\tclassName=\"snowflake\"\n\t\t\tdata-name={name}\n\t\t\tcss={{\n\t\t\t\twidth: radius,\n\t\t\t\theight: radius,\n\t\t\t\tbackgroundColor: 'white',\n\t\t\t\tborderRadius: '100%',\n\t\t\t\tposition: 'absolute',\n\t\t\t\toverflow: 'hidden',\n\t\t\t}}\n\t\t></div>\n\t);\n};\n\nconst linkStyle = css`\n\tcolor: ${neutral[100]};\n\t:hover {\n\t\tcolor: ${neutral[100]};\n\t}\n`;\n\nconst showMoreTextStyles = (open = false) => css`\n\tdisplay: block;\n\theight: 100%;\n\tsvg {\n\t\tposition: absolute;\n\t\tright: -25px;\n\t\ttop: 6px;\n\t\tfill: currentColor;\n\t\theight: 16px;\n\t\twidth: 16px;\n\t\ttransition: transform 250ms ease-out;\n\t\ttransform: ${open ? undefined : 'translateY(-2px) rotate(-180deg)'};\n\t}\n`;\n\nconst newFlake = (x: number, y: number, radius = 2, velocity = 1.0): Flake => ({\n\tx,\n\ty,\n\tradius,\n\tvelocity,\n\tname: Math.random().toString(36).substring(7),\n});\n\nconst generateFlake = () => {\n\treturn newFlake(\n\t\tMath.random() * 100,\n\t\tMath.random() * 1,\n\t\tMath.random() * 15 + 2.0,\n\t\tMath.random() * 0.05 + 0.05,\n\t);\n};\n\nexport const Snow = () => {\n\tconst [flakes, setFlakes] = useState<Snowflakes>(() => {\n\t\tconst initial: Snowflakes = {};\n\t\tfor (let i = 0; i < 10; i++) {\n\t\t\tconst generatedFlake = generateFlake();\n\t\t\tinitial[generatedFlake.name] = generatedFlake;\n\t\t}\n\t\treturn initial;\n\t});\n\n\t// Use useRef for mutable variables that we want to persist\n\t// without triggering a re-render on their change\n\tconst requestRef = useRef<number>();\n\tconst previousTimeRef = useRef<number>();\n\tconst drift = useRef(2);\n\n\tconst renderLoop = (time: number) => {\n\t\tif (previousTimeRef.current != undefined) {\n\t\t\tconst deltaTime = time - previousTimeRef.current;\n\n\t\t\t// Decide a small random change in the direction of the wind.\n\t\t\tconst newDf = Math.random() * 0.1 - 0.05;\n\n\t\t\t// A small chance each frame of the random change in wind direction being applied.\n\t\t\tif (Math.random() * 0.5 < 0.05) {\n\t\t\t\tdrift.current += newDf;\n\t\t\t}\n\n\t\t\tsetFlakes((previousFlakes) => {\n\t\t\t\tfor (const flakeName in previousFlakes) {\n\t\t\t\t\tconst flake = flakes[flakeName];\n\n\t\t\t\t\tif (!flake) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst updatedFlake = { ...flake };\n\t\t\t\t\t// Apply the change in x and y coordinate for each snowflake.\n\t\t\t\t\tupdatedFlake.x +=\n\t\t\t\t\t\tdrift.current * (1 / flake.radius) * 0.04 * deltaTime;\n\t\t\t\t\tupdatedFlake.y += flake.velocity * deltaTime;\n\n\t\t\t\t\t// 'teleport' each snowflake to the opposite side of the canvas\n\t\t\t\t\t// when it reaches a border.\n\t\t\t\t\tif (updatedFlake.x <= 0) {\n\t\t\t\t\t\tupdatedFlake.x = 100;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tupdatedFlake.x %= 100;\n\t\t\t\t\t}\n\t\t\t\t\tupdatedFlake.y %= 200;\n\n\t\t\t\t\tpreviousFlakes[flakeName] = updatedFlake;\n\t\t\t\t}\n\n\t\t\t\tdocument\n\t\t\t\t\t.querySelectorAll<HTMLElement>('.snowflake')\n\t\t\t\t\t.forEach((flake) => {\n\t\t\t\t\t\tconst previousFlake = flake.dataset.name\n\t\t\t\t\t\t\t? previousFlakes[flake.dataset.name]\n\t\t\t\t\t\t\t: undefined;\n\t\t\t\t\t\tif (previousFlake !== undefined) {\n\t\t\t\t\t\t\tflake.style.transform = `translate3d(${previousFlake.x}vw, ${previousFlake.y}px, 0.0)`;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\treturn previousFlakes;\n\t\t\t});\n\t\t}\n\t\tpreviousTimeRef.current = time;\n\t\trequestRef.current = requestAnimationFrame(renderLoop);\n\t};\n\n\tuseEffect(() => {\n\t\trequestRef.current = requestAnimationFrame(renderLoop);\n\t\treturn () => cancelAnimationFrame(requestRef.current ?? 0);\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps -- We only want to start the animation loop once.\n\t}, []);\n\n\tconst [seeMoreSnowInfo, setSeeMoreSnowInfo] = useState(false);\n\tconst showHider = useCallback(() => {\n\t\tsetSeeMoreSnowInfo(!seeMoreSnowInfo);\n\t}, [seeMoreSnowInfo]);\n\n\t// Get the flakes to render.\n\tconst snowflakes = useMemo(() => {\n\t\treturn Object.values(flakes).map((flake) => (\n\t\t\t<Snowflake\n\t\t\t\tkey={flake.name}\n\t\t\t\tradius={flake.radius}\n\t\t\t\tname={flake.name}\n\t\t\t/>\n\t\t));\n\t}, [flakes]);\n\n\treturn (\n\t\t<div\n\t\t\tcss={[\n\t\t\t\t{\n\t\t\t\t\tmarginBottom: '12px',\n\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t},\n\t\t\t]}\n\t\t>\n\t\t\t{snowflakes}\n\t\t\t<div\n\t\t\t\tcss={css`\n\t\t\t\t\tmax-width: 400px;\n\t\t\t\t\tpadding-left: 20px;\n\t\t\t\t\tpadding-top: 4px;\n\t\t\t\t`}\n\t\t\t>\n\t\t\t\t<Link\n\t\t\t\t\thref=\"#Snow\"\n\t\t\t\t\tcssOverrides={[\n\t\t\t\t\t\tlinkStyle,\n\t\t\t\t\t\tcss`\n\t\t\t\t\t\t\tmargin-bottom: 12px;\n\t\t\t\t\t\t`,\n\t\t\t\t\t]}\n\t\t\t\t\tonClick={showHider}\n\t\t\t\t>\n\t\t\t\t\tWhy is it snowing?\n\t\t\t\t\t<span css={showMoreTextStyles(seeMoreSnowInfo)}>\n\t\t\t\t\t\t<SvgChevronDownSingle />\n\t\t\t\t\t</span>\n\t\t\t\t</Link>\n\t\t\t\t{seeMoreSnowInfo && (\n\t\t\t\t\t<p\n\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\tbody.medium,\n\t\t\t\t\t\t\t{ color: 'white', marginTop: '4px' },\n\t\t\t\t\t\t]}\n\t\t\t\t\t>\n\t\t\t\t\t\tWhile this is meant to brighten your day, we're aware a\n\t\t\t\t\t\tlot of people are struggling with the cost of living\n\t\t\t\t\t\tcrisis and many families are sitting freezing in the\n\t\t\t\t\t\tcold. We hope we can still persuade you to give to our{' '}\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\thref=\"https://www.theguardian.com/society/2022/dec/09/help-us-support-local-communities-to-tackle-cost-of-living-crisis\"\n\t\t\t\t\t\t\tcssOverrides={linkStyle}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tcharity appeal.\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</p>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import { css } from '@emotion/react';\nimport type { RoleType } from '../../types/content';\nimport { Caption } from './Caption';\nimport { ClickToView } from './ClickToView';\n\n/**\n * Example article\n * https://www.theguardian.com/music/2020/jun/15/pet-shop-boys-where-to-start-in-their-back-catalogue\n */\n\ntype Props = {\n\tembedUrl?: string;\n\theight?: number;\n\twidth?: number;\n\ttitle?: string;\n\tformat: ArticleFormat;\n\tcaption?: string;\n\tcredit?: string;\n\trole?: RoleType;\n\tisTracking: boolean;\n\tisMainMedia: boolean;\n\tsource?: string;\n\tsourceDomain?: string;\n};\n\nexport const SpotifyBlockComponent = ({\n\tembedUrl,\n\twidth,\n\theight,\n\ttitle,\n\tformat,\n\tcaption,\n\tcredit,\n\trole,\n\tisTracking,\n\tisMainMedia,\n\tsource,\n\tsourceDomain,\n}: Props) => {\n\tif (!embedUrl || !title || width === undefined || height === undefined)\n\t\treturn null;\n\n\tconst embedContainer = css`\n\t\tiframe {\n\t\t\twidth: 100%;\n\t\t}\n\t\tmargin-bottom: 16px;\n\t`;\n\n\treturn (\n\t\t<ClickToView\n\t\t\trole={role}\n\t\t\tisTracking={isTracking}\n\t\t\tisMainMedia={isMainMedia}\n\t\t\tsource={source}\n\t\t\tsourceDomain={sourceDomain}\n\t\t>\n\t\t\t<div css={embedContainer} data-cy=\"spotify-embed\">\n\t\t\t\t<iframe\n\t\t\t\t\tsrc={embedUrl}\n\t\t\t\t\ttitle={title}\n\t\t\t\t\theight={height}\n\t\t\t\t\twidth={width}\n\t\t\t\t\tallowFullScreen={true}\n\t\t\t\t/>\n\t\t\t\t{!!caption && (\n\t\t\t\t\t<Caption\n\t\t\t\t\t\tcaptionText={caption}\n\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\tcredit={credit}\n\t\t\t\t\t\tisMainMedia={isMainMedia}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</ClickToView>\n\t);\n};\n","import { neutral } from '@guardian/source-foundations';\n\nexport const Star = ({\n\tstarId,\n\tisEmpty,\n}: {\n\tstarId: string;\n\tisEmpty: boolean;\n}) => {\n\tif (isEmpty)\n\t\treturn (\n\t\t\t<svg width=\"14\" height=\"13\" viewBox=\"0 0 14 13\">\n\t\t\t\t<path\n\t\t\t\t\tid={`star-${starId}`}\n\t\t\t\t\tclipPath={`url(#clip-${starId})`}\n\t\t\t\t\tstrokeWidth=\"2\"\n\t\t\t\t\tstroke={neutral[7]}\n\t\t\t\t\tfill=\"transparent\"\n\t\t\t\t\td=\"M0 5.2L3.7 8l-1.4 4.6.5.4 3.7-2.8 3.7 2.8.5-.4L9.3 8 13 5.2l-.2-.6H8.2L6.8 0h-.6L4.8 4.6H.2l-.2.6z\"\n\t\t\t\t/>\n\t\t\t\t<clipPath id={`clip-${starId}`}>\n\t\t\t\t\t<use xlinkHref={`#star-${starId}`} stroke=\"none\" />\n\t\t\t\t</clipPath>\n\t\t\t</svg>\n\t\t);\n\n\treturn (\n\t\t<svg width=\"14\" height=\"13\" viewBox=\"0 0 14 13\">\n\t\t\t<path\n\t\t\t\tfill={neutral[7]}\n\t\t\t\tstrokeWidth=\"0\"\n\t\t\t\td=\"M0 5.2L3.7 8l-1.4 4.6.5.4 3.7-2.8 3.7 2.8.5-.4L9.3 8 13 5.2l-.2-.6H8.2L6.8 0h-.6L4.8 4.6H.2l-.2.6z\"\n\t\t\t/>\n\t\t</svg>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { Star } from '../../../static/icons/Star';\nimport type { RatingSizeType } from '../../../types/content';\nimport { Breakpoint } from '@guardian/source-foundations';\n\nconst starWrapper = css`\n\tdisplay: inline-block;\n\tpadding: 1px;\n`;\n\nconst determineSize = (size: RatingSizeType) => {\n\tswitch (size) {\n\t\tcase 'small':\n\t\t\treturn css`\n\t\t\t\tpadding: 0 2px;\n\t\t\t\tsvg {\n\t\t\t\t\twidth: 12px;\n\t\t\t\t\theight: 12px;\n\t\t\t\t}\n\t\t\t`;\n\t\tcase 'medium':\n\t\t\treturn css`\n\t\t\t\tpadding: 1px;\n\t\t\t\tsvg {\n\t\t\t\t\twidth: 16px;\n\t\t\t\t\theight: 16px;\n\t\t\t\t}\n\t\t\t`;\n\t\tcase 'large':\n\t\t\treturn css`\n\t\t\t\tpadding: 2px 1px 2px 2px;\n\t\t\t\tsvg {\n\t\t\t\t\twidth: 20px;\n\t\t\t\t\theight: 20px;\n\t\t\t\t}\n\t\t\t`;\n\t}\n};\n\nconst determineBreakpoint = (breakpoint: Breakpoint | undefined) =>\n\tbreakpoint === undefined ? 'all-breakpoints' : breakpoint;\n\ntype Props = {\n\trating: number;\n\tsize: RatingSizeType;\n\tbreakpoint?: Breakpoint;\n};\n\nexport const StarRating = ({ rating, size, breakpoint }: Props) => (\n\t<div css={determineSize(size)}>\n\t\t<div css={starWrapper}>\n\t\t\t<Star\n\t\t\t\tstarId={`${size}1-${determineBreakpoint(breakpoint)}`}\n\t\t\t\tisEmpty={rating < 1}\n\t\t\t/>\n\t\t</div>\n\t\t<div css={starWrapper}>\n\t\t\t<Star\n\t\t\t\tstarId={`${size}2-${determineBreakpoint(breakpoint)}`}\n\t\t\t\tisEmpty={rating < 2}\n\t\t\t/>\n\t\t</div>\n\t\t<div css={starWrapper}>\n\t\t\t<Star\n\t\t\t\tstarId={`${size}3-${determineBreakpoint(breakpoint)}`}\n\t\t\t\tisEmpty={rating < 3}\n\t\t\t/>\n\t\t</div>\n\t\t<div css={starWrapper}>\n\t\t\t<Star\n\t\t\t\tstarId={`${size}4-${determineBreakpoint(breakpoint)}`}\n\t\t\t\tisEmpty={rating < 4}\n\t\t\t/>\n\t\t</div>\n\t\t<div css={starWrapper}>\n\t\t\t<Star\n\t\t\t\tstarId={`${size}5-${determineBreakpoint(breakpoint)}`}\n\t\t\t\tisEmpty={rating < 5}\n\t\t\t/>\n\t\t</div>\n\t</div>\n);\n","import { useEffect, useState } from 'react';\nimport type { TagType } from '../../types/tag';\nimport type {\n\tCurrentSignInGateABTest,\n\tSignInGateComponent,\n} from '../components/SignInGate/types';\nimport { useOnce } from './useOnce';\nimport { useSignInGateSelector } from './useSignInGateSelector';\n\ntype Props = {\n\tisSignedIn?: boolean;\n\tcontentType: string;\n\tsectionName?: string;\n\ttags: TagType[];\n\tisPaidContent: boolean;\n\tisPreview: boolean;\n};\n/**\n * @description\n * A custom hook to determine if a sign in gate will show on the current page\n * @param {Boolean} isSignedIn - Is the user signed in to the guardian\n * */\nexport const useSignInGateWillShow = ({\n\tisSignedIn,\n\tcontentType,\n\tsectionName,\n\ttags,\n\tisPaidContent,\n\tisPreview,\n}: Props): boolean | undefined => {\n\tconst [gateVariant, setGateVariant] = useState<\n\t\tSignInGateComponent | null | undefined\n\t>(undefined);\n\tconst [currentTest, setCurrentTest] = useState<\n\t\tCurrentSignInGateABTest | null | undefined\n\t>(undefined);\n\tconst [canShowGate, setCanShowGate] = useState(false);\n\tconst gateSelector = useSignInGateSelector();\n\n\tuseOnce(() => {\n\t\tconst [gateSelectorVariant, gateSelectorTest] = gateSelector as [\n\t\t\tSignInGateComponent | null,\n\t\t\tCurrentSignInGateABTest | null,\n\t\t];\n\t\tsetGateVariant(gateSelectorVariant);\n\t\tsetCurrentTest(gateSelectorTest);\n\t}, [gateSelector]);\n\n\tuseEffect(() => {\n\t\tif (gateVariant && currentTest) {\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-floating-promises\n\t\t\tgateVariant\n\t\t\t\t.canShow({\n\t\t\t\t\tisSignedIn: !!isSignedIn,\n\t\t\t\t\tcurrentTest,\n\t\t\t\t\tcontentType,\n\t\t\t\t\tsectionName,\n\t\t\t\t\ttags,\n\t\t\t\t\tisPaidContent,\n\t\t\t\t\tisPreview,\n\t\t\t\t})\n\t\t\t\t.then(setCanShowGate);\n\t\t}\n\t}, [\n\t\tcurrentTest,\n\t\tgateVariant,\n\t\tisSignedIn,\n\t\tcontentType,\n\t\tsectionName,\n\t\ttags,\n\t\tisPaidContent,\n\t\tisPreview,\n\t]);\n\n\treturn canShowGate && !!gateVariant && !!gateVariant.gate;\n};\n","import { css } from '@emotion/react';\nimport type { BrazeBannerComponent } from '@guardian/braze-components/banner';\nimport type {\n\tBrazeArticleContext,\n\tBrazeMessagesInterface,\n} from '@guardian/braze-components/logic';\nimport { useEffect, useState } from 'react';\nimport { submitComponentEvent } from '../../browser/ophan/ophan';\nimport { getBrazeMetaFromUrlFragment } from '../../lib/braze/forceBrazeMessage';\nimport { getZIndex } from '../../lib/getZIndex';\nimport type { CanShowResult } from '../../lib/messagePicker';\nimport { suppressForTaylorReport } from '../../lib/braze/taylorReport';\nimport { TagType } from '../../../types/tag';\n\ntype Meta = {\n\tdataFromBraze: { [key: string]: string };\n\tlogImpressionWithBraze: () => void;\n\tlogButtonClickWithBraze: (id: number) => void;\n};\n\ntype Props = {\n\tmeta: Meta;\n\tidApiUrl: string;\n};\n\nconst containerStyles = css`\n\tposition: fixed;\n\tbottom: -1px;\n\twidth: 100%;\n\t${getZIndex('banner')}\n`;\n\n// We can show a Braze banner if:\n// - The Braze switch is on\n// - We have a Braze API key\n// - The user should have support messaging hidden, implying they are a contributor or subscriber\n// - We're not on a Glabs paid content page\n// - We've got a Braze UUID from the API, given a user's ID Creds\n// - The user has given Consent via CCPA or TCFV2\n// - The Braze websdk appboy initialisation does not throw an error\n// - The Braze app Boy subscription to in app message returns meta info\n// OR\n// - The force-braze-message query string arg is passed\nexport const canShowBrazeBanner = async (\n\tbrazeMessages: BrazeMessagesInterface,\n\tbrazeArticleContext: BrazeArticleContext,\n\ttags: TagType[],\n): Promise<CanShowResult<Meta>> => {\n\tconst forcedBrazeMeta = getBrazeMetaFromUrlFragment();\n\tif (forcedBrazeMeta) {\n\t\treturn {\n\t\t\tshow: true,\n\t\t\tmeta: forcedBrazeMeta,\n\t\t};\n\t}\n\n\tif (suppressForTaylorReport(tags)) {\n\t\treturn { show: false };\n\t}\n\n\ttry {\n\t\tconst message = await brazeMessages.getMessageForBanner(\n\t\t\tbrazeArticleContext,\n\t\t);\n\n\t\tconst logButtonClickWithBraze = (internalButtonId: number) => {\n\t\t\tmessage.logButtonClick(internalButtonId);\n\t\t};\n\n\t\tconst logImpressionWithBraze = () => {\n\t\t\t// Log the impression with Braze\n\t\t\tmessage.logImpression();\n\t\t};\n\n\t\tif (message.extras) {\n\t\t\tconst meta = {\n\t\t\t\tdataFromBraze: message.extras,\n\t\t\t\tlogImpressionWithBraze,\n\t\t\t\tlogButtonClickWithBraze,\n\t\t\t};\n\n\t\t\treturn { show: true, meta };\n\t\t}\n\n\t\treturn { show: false };\n\t} catch (e) {\n\t\treturn { show: false };\n\t}\n};\n\ntype InnerProps = {\n\tmeta: Meta;\n\tBrazeComponent: typeof BrazeBannerComponent;\n\tidApiUrl: string;\n};\n\nconst BrazeBannerWithSatisfiedDependencies = ({\n\tBrazeComponent,\n\tmeta,\n\tidApiUrl,\n}: InnerProps) => {\n\tuseEffect(() => {\n\t\t// Log the impression with Braze\n\t\tmeta.logImpressionWithBraze();\n\n\t\t// Log VIEW event with Ophan\n\t\tsubmitComponentEvent({\n\t\t\tcomponent: {\n\t\t\t\tcomponentType: 'RETENTION_ENGAGEMENT_BANNER',\n\t\t\t\tid:\n\t\t\t\t\tmeta.dataFromBraze.ophanComponentId ??\n\t\t\t\t\tmeta.dataFromBraze.componentName,\n\t\t\t},\n\t\t\taction: 'VIEW',\n\t\t});\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, []);\n\n\tconst componentName = meta.dataFromBraze.componentName;\n\tif (!componentName) return null;\n\n\treturn (\n\t\t<div css={containerStyles}>\n\t\t\t<BrazeComponent\n\t\t\t\tlogButtonClickWithBraze={meta.logButtonClickWithBraze}\n\t\t\t\tsubmitComponentEvent={submitComponentEvent}\n\t\t\t\tcomponentName={componentName}\n\t\t\t\tbrazeMessageProps={meta.dataFromBraze}\n\t\t\t\tsubscribeToNewsletter={async (newsletterId: string) => {\n\t\t\t\t\tawait fetch(`${idApiUrl}/users/me/newsletters`, {\n\t\t\t\t\t\tmethod: 'PATCH',\n\t\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\t\tid: newsletterId,\n\t\t\t\t\t\t\tsubscribed: true,\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tcredentials: 'include',\n\t\t\t\t\t});\n\t\t\t\t}}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nexport const BrazeBanner = ({ meta, idApiUrl }: Props) => {\n\tconst [BrazeComponent, setBrazeComponent] =\n\t\tuseState<typeof BrazeBannerComponent>();\n\n\tuseEffect(() => {\n\t\timport(\n\t\t\t/* webpackChunkName: \"guardian-braze-components-banner\" */ '@guardian/braze-components/banner'\n\t\t)\n\t\t\t.then((module) => {\n\t\t\t\tsetBrazeComponent(() => module.BrazeBannerComponent);\n\t\t\t})\n\t\t\t.catch((error) =>\n\t\t\t\twindow.guardian.modules.sentry.reportError(\n\t\t\t\t\terror,\n\t\t\t\t\t'braze-banner',\n\t\t\t\t),\n\t\t\t);\n\t}, []);\n\n\treturn (\n\t\t<>\n\t\t\t{BrazeComponent ? (\n\t\t\t\t<BrazeBannerWithSatisfiedDependencies\n\t\t\t\t\tBrazeComponent={BrazeComponent}\n\t\t\t\t\tmeta={meta}\n\t\t\t\t\tidApiUrl={idApiUrl}\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<div />\n\t\t\t)}\n\t\t</>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { getCookie } from '@guardian/libs';\nimport {\n\tgetBanner,\n\tgetPuzzlesBanner,\n} from '@guardian/support-dotcom-components';\nimport type {\n\tBannerPayload,\n\tModuleData,\n\tModuleDataResponse,\n} from '@guardian/support-dotcom-components/dist/dotcom/src/types';\nimport { useState } from 'react';\nimport type { ArticleCounts } from '../../../lib/articleCount';\nimport type { TagType } from '../../../types/tag';\nimport { trackNonClickInteraction } from '../../browser/ga/ga';\nimport { submitComponentEvent } from '../../browser/ophan/ophan';\nimport {\n\tgetLastOneOffContributionDate,\n\tgetPurchaseInfo,\n\thasCmpConsentForBrowserId,\n\thasOptedOutOfArticleCount,\n\tlazyFetchEmailWithTimeout,\n\tMODULES_VERSION,\n\tsetLocalNoBannerCachePeriod,\n\tshouldHideSupportMessaging,\n\twithinLocalNoBannerCachePeriod,\n} from '../../lib/contributions';\nimport { getToday } from '../../lib/dailyArticleCount';\nimport { getZIndex } from '../../lib/getZIndex';\nimport type { CanShowResult } from '../../lib/messagePicker';\nimport { setAutomat } from '../../lib/setAutomat';\nimport { useIsInView } from '../../lib/useIsInView';\nimport { useOnce } from '../../lib/useOnce';\n\ntype BaseProps = {\n\tisSignedIn: boolean;\n\tcontentType: string;\n\tsectionId?: string;\n\tshouldHideReaderRevenue: boolean;\n\tisMinuteArticle: boolean;\n\tisPaidContent: boolean;\n\tisSensitive: boolean;\n\ttags: TagType[];\n\tcontributionsServiceUrl: string;\n\talreadyVisitedCount: number;\n\tengagementBannerLastClosedAt?: string;\n\tsubscriptionBannerLastClosedAt?: string;\n\tsignInBannerLastClosedAt?: string;\n};\n\ntype BuildPayloadProps = BaseProps & {\n\tcountryCode: string;\n\toptedOutOfArticleCount: boolean;\n\tasyncArticleCounts: Promise<ArticleCounts | undefined>;\n};\n\ntype CanShowProps = BaseProps & {\n\tasyncCountryCode: Promise<string>;\n\tremoteBannerConfig: boolean;\n\tsection: string;\n\tisPreview: boolean;\n\tidApiUrl: string;\n\tsignInGateWillShow: boolean;\n\tasyncArticleCounts: Promise<ArticleCounts | undefined>;\n};\n\ntype ReaderRevenueComponentType =\n\t| 'ACQUISITIONS_SUBSCRIPTIONS_BANNER'\n\t| 'ACQUISITIONS_OTHER';\n\nexport type CanShowFunctionType<T> = (\n\tprops: CanShowProps,\n) => Promise<CanShowResult<T>>;\n\nconst getArticleCountToday = (\n\tarticleCounts: ArticleCounts | undefined,\n): number | undefined => {\n\tconst latest = articleCounts?.dailyArticleHistory[0];\n\tif (latest) {\n\t\tif (latest.day === getToday()) {\n\t\t\treturn latest.count;\n\t\t}\n\t\t// article counting is enabled, but none so far today\n\t\treturn 0;\n\t}\n\treturn undefined;\n};\n\nconst buildPayload = async ({\n\tisSignedIn,\n\tshouldHideReaderRevenue,\n\tisPaidContent,\n\talreadyVisitedCount,\n\tengagementBannerLastClosedAt,\n\tsubscriptionBannerLastClosedAt,\n\tsignInBannerLastClosedAt,\n\tcountryCode,\n\toptedOutOfArticleCount,\n\tasyncArticleCounts,\n\tsectionId,\n\ttags,\n\tcontentType,\n}: BuildPayloadProps): Promise<BannerPayload> => {\n\tconst articleCounts = await asyncArticleCounts;\n\tconst weeklyArticleHistory = articleCounts?.weeklyArticleHistory;\n\tconst articleCountToday = getArticleCountToday(articleCounts);\n\n\tconst browserId = getCookie({ name: 'bwid', shouldMemoize: true });\n\n\treturn {\n\t\ttracking: {\n\t\t\tophanPageId: window.guardian.config.ophan.pageViewId,\n\t\t\tplatformId: 'GUARDIAN_WEB',\n\t\t\tclientName: 'dcr',\n\t\t\treferrerUrl: window.location.origin + window.location.pathname,\n\t\t},\n\t\ttargeting: {\n\t\t\talreadyVisitedCount,\n\t\t\tshouldHideReaderRevenue,\n\t\t\tisPaidContent,\n\t\t\tshowSupportMessaging: !shouldHideSupportMessaging(isSignedIn),\n\t\t\tengagementBannerLastClosedAt,\n\t\t\tsubscriptionBannerLastClosedAt,\n\t\t\tsignInBannerLastClosedAt,\n\t\t\tmvtId: Number(\n\t\t\t\tgetCookie({ name: 'GU_mvt_id', shouldMemoize: true }),\n\t\t\t),\n\t\t\tcountryCode,\n\t\t\tweeklyArticleHistory,\n\t\t\tarticleCountToday,\n\t\t\thasOptedOutOfArticleCount: optedOutOfArticleCount,\n\t\t\tmodulesVersion: MODULES_VERSION,\n\t\t\tsectionId,\n\t\t\ttagIds: tags.map((tag) => tag.id),\n\t\t\tcontentType,\n\t\t\tbrowserId: (await hasCmpConsentForBrowserId())\n\t\t\t\t? browserId ?? undefined\n\t\t\t\t: undefined,\n\t\t\tpurchaseInfo: getPurchaseInfo(),\n\t\t\tisSignedIn,\n\t\t\tlastOneOffContributionDate: getLastOneOffContributionDate(),\n\t\t},\n\t};\n};\n\nexport const canShowRRBanner: CanShowFunctionType<BannerProps> = async ({\n\tremoteBannerConfig,\n\tisSignedIn,\n\tasyncCountryCode,\n\tcontentType,\n\tsectionId,\n\tshouldHideReaderRevenue,\n\tisMinuteArticle,\n\tisPaidContent,\n\tisSensitive,\n\ttags,\n\tcontributionsServiceUrl,\n\talreadyVisitedCount,\n\tengagementBannerLastClosedAt,\n\tsubscriptionBannerLastClosedAt,\n\tsignInBannerLastClosedAt,\n\tisPreview,\n\tidApiUrl,\n\tsignInGateWillShow,\n\tasyncArticleCounts,\n}) => {\n\tif (!remoteBannerConfig) return { show: false };\n\n\tif (\n\t\tshouldHideReaderRevenue ||\n\t\tisPaidContent ||\n\t\tisPreview ||\n\t\tsignInGateWillShow\n\t) {\n\t\t// We never serve Reader Revenue banners in this case\n\t\treturn { show: false };\n\t}\n\n\tconst purchaseInfo = getPurchaseInfo();\n\tconst showSignInPrompt =\n\t\tpurchaseInfo && !isSignedIn && !signInBannerLastClosedAt;\n\n\tconst hasForceBannerParam = window.location.search.includes('force-banner');\n\n\tif (\n\t\t!showSignInPrompt &&\n\t\t!hasForceBannerParam &&\n\t\tengagementBannerLastClosedAt &&\n\t\tsubscriptionBannerLastClosedAt &&\n\t\twithinLocalNoBannerCachePeriod()\n\t) {\n\t\treturn { show: false };\n\t}\n\n\tconst countryCode = await asyncCountryCode;\n\tconst optedOutOfArticleCount = await hasOptedOutOfArticleCount();\n\tconst bannerPayload = await buildPayload({\n\t\tisSignedIn,\n\t\tcountryCode,\n\t\tcontentType,\n\t\tsectionId,\n\t\tshouldHideReaderRevenue,\n\t\tisMinuteArticle,\n\t\tisPaidContent,\n\t\ttags,\n\t\tcontributionsServiceUrl,\n\t\tisSensitive,\n\t\talreadyVisitedCount,\n\t\tengagementBannerLastClosedAt,\n\t\tsubscriptionBannerLastClosedAt,\n\t\tsignInBannerLastClosedAt,\n\t\toptedOutOfArticleCount,\n\t\tasyncArticleCounts,\n\t});\n\n\tconst response: ModuleDataResponse = await getBanner(\n\t\tcontributionsServiceUrl,\n\t\tbannerPayload,\n\t);\n\tif (!response.data) {\n\t\tif (engagementBannerLastClosedAt && subscriptionBannerLastClosedAt) {\n\t\t\tsetLocalNoBannerCachePeriod();\n\t\t}\n\t\treturn { show: false };\n\t}\n\n\tconst { module, meta } = response.data;\n\n\tconst fetchEmail = isSignedIn\n\t\t? lazyFetchEmailWithTimeout(idApiUrl)\n\t\t: undefined;\n\n\treturn { show: true, meta: { module, meta, fetchEmail } };\n};\n\nexport const canShowPuzzlesBanner: CanShowFunctionType<BannerProps> = async ({\n\tremoteBannerConfig,\n\tisSignedIn,\n\tasyncCountryCode,\n\tcontentType,\n\tsectionId,\n\tshouldHideReaderRevenue,\n\tisMinuteArticle,\n\tisPaidContent,\n\tisSensitive,\n\ttags,\n\tcontributionsServiceUrl,\n\talreadyVisitedCount,\n\tengagementBannerLastClosedAt,\n\tsubscriptionBannerLastClosedAt,\n\tsection,\n\tasyncArticleCounts,\n}) => {\n\tconst isPuzzlesPage =\n\t\tsection === 'crosswords' ||\n\t\ttags.some((tag) => tag.type === 'Series' && tag.title === 'Sudoku');\n\n\tif (shouldHideReaderRevenue) {\n\t\t// We never serve Reader Revenue banners in this case\n\t\treturn { show: false };\n\t}\n\n\tif (isPuzzlesPage && remoteBannerConfig) {\n\t\tconst countryCode = await asyncCountryCode;\n\t\tconst optedOutOfArticleCount = await hasOptedOutOfArticleCount();\n\t\tconst bannerPayload = await buildPayload({\n\t\t\tisSignedIn,\n\t\t\tcountryCode,\n\t\t\tcontentType,\n\t\t\tsectionId,\n\t\t\tshouldHideReaderRevenue,\n\t\t\tisMinuteArticle,\n\t\t\tisPaidContent,\n\t\t\ttags,\n\t\t\tcontributionsServiceUrl,\n\t\t\tisSensitive,\n\t\t\talreadyVisitedCount,\n\t\t\tengagementBannerLastClosedAt,\n\t\t\tsubscriptionBannerLastClosedAt,\n\t\t\toptedOutOfArticleCount,\n\t\t\tasyncArticleCounts,\n\t\t});\n\t\treturn getPuzzlesBanner(contributionsServiceUrl, bannerPayload).then(\n\t\t\t(response: ModuleDataResponse) => {\n\t\t\t\tif (!response.data) {\n\t\t\t\t\treturn { show: false };\n\t\t\t\t}\n\n\t\t\t\tconst { module, meta } = response.data;\n\t\t\t\treturn { show: true, meta: { module, meta } };\n\t\t\t},\n\t\t);\n\t}\n\n\treturn { show: false };\n};\n\nexport type BannerProps = {\n\tmeta: any;\n\tmodule: ModuleData;\n\tfetchEmail?: () => Promise<string | null>;\n};\n\ntype RemoteBannerProps = BannerProps & {\n\tcomponentTypeName: ReaderRevenueComponentType;\n\tdisplayEvent: string;\n};\n\nconst RemoteBanner = ({\n\tcomponentTypeName,\n\tdisplayEvent,\n\tmeta,\n\tmodule,\n\tfetchEmail,\n}: RemoteBannerProps) => {\n\tconst [Banner, setBanner] = useState<React.ElementType>();\n\n\tconst [hasBeenSeen, setNode] = useIsInView({\n\t\tthreshold: 0,\n\t\tdebounce: true,\n\t});\n\n\tuseOnce(() => {\n\t\tif (module === undefined || meta === undefined) {\n\t\t\treturn;\n\t\t}\n\n\t\tsetAutomat();\n\n\t\twindow\n\t\t\t.guardianPolyfilledImport(module.url)\n\t\t\t.then((bannerModule: { [key: string]: JSX.Element }) => {\n\t\t\t\tsetBanner(() => bannerModule[module.name] ?? null); // useState requires functions to be wrapped\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconst msg = `Error importing RR banner: ${String(error)}`;\n\n\t\t\t\tconsole.log(msg);\n\t\t\t\twindow.guardian.modules.sentry.reportError(\n\t\t\t\t\tnew Error(msg),\n\t\t\t\t\t'rr-banner',\n\t\t\t\t);\n\t\t\t});\n\t}, []);\n\n\tuseOnce(() => {\n\t\tconst { componentType } = meta;\n\n\t\t// track banner view event in Google Analytics for subscriptions banner\n\t\tif (componentType === componentTypeName) {\n\t\t\ttrackNonClickInteraction(displayEvent);\n\t\t}\n\t}, [hasBeenSeen, meta]);\n\n\tif (Banner !== undefined) {\n\t\treturn (\n\t\t\t// The css here is necessary to put the container div in view, so that we can track the view\n\t\t\t<div\n\t\t\t\tref={setNode}\n\t\t\t\tcss={css`\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\t${getZIndex('banner')}\n\t\t\t\t`}\n\t\t\t>\n\t\t\t\t{}\n\t\t\t\t<Banner\n\t\t\t\t\t{...module.props}\n\t\t\t\t\tsubmitComponentEvent={submitComponentEvent}\n\t\t\t\t\tfetchEmail={fetchEmail}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn null;\n};\n\nexport const ReaderRevenueBanner = ({\n\tmeta,\n\tmodule,\n\tfetchEmail,\n}: BannerProps) => (\n\t<RemoteBanner\n\t\tcomponentTypeName=\"ACQUISITIONS_SUBSCRIPTIONS_BANNER\"\n\t\tdisplayEvent=\"subscription-banner : display\"\n\t\tmeta={meta}\n\t\tmodule={module}\n\t\tfetchEmail={fetchEmail}\n\t/>\n);\n\nexport const PuzzlesBanner = ({ meta, module }: BannerProps) => (\n\t<RemoteBanner\n\t\tcomponentTypeName=\"ACQUISITIONS_OTHER\"\n\t\tdisplayEvent=\"puzzles-banner : display\"\n\t\tmeta={meta}\n\t\tmodule={module}\n\t/>\n);\n","import type {\n\tBrazeArticleContext,\n\tBrazeMessagesInterface,\n} from '@guardian/braze-components/logic';\nimport { cmp } from '@guardian/consent-management-platform';\nimport { getCookie } from '@guardian/libs';\nimport { useEffect, useState } from 'react';\nimport type { ArticleCounts } from '../../lib/articleCount';\nimport { getArticleCounts } from '../../lib/articleCount';\nimport type { TagType } from '../../types/tag';\nimport { getAlreadyVisitedCount } from '../lib/alreadyVisited';\nimport { getLocaleCode } from '../lib/getCountryCode';\nimport type {\n\tCandidateConfig,\n\tMaybeFC,\n\tSlotConfig,\n} from '../lib/messagePicker';\nimport { pickMessage } from '../lib/messagePicker';\nimport { useBraze } from '../lib/useBraze';\nimport { useOnce } from '../lib/useOnce';\nimport { useSignInGateWillShow } from '../lib/useSignInGateWillShow';\nimport {\n\tBrazeBanner,\n\tcanShowBrazeBanner,\n} from './StickyBottomBanner/BrazeBanner';\nimport {\n\tcanShowPuzzlesBanner,\n\tcanShowRRBanner,\n\tPuzzlesBanner,\n\tReaderRevenueBanner,\n} from './StickyBottomBanner/ReaderRevenueBanner';\nimport type {\n\tBannerProps,\n\tCanShowFunctionType,\n} from './StickyBottomBanner/ReaderRevenueBanner';\n\ntype Props = {\n\tcontentType: string;\n\tsectionName?: string;\n\tsection: string;\n\ttags: TagType[];\n\tisPaidContent: boolean;\n\tisPreview: boolean;\n\tshouldHideReaderRevenue: boolean;\n\tisMinuteArticle: boolean;\n\n\tcontributionsServiceUrl: string;\n\tidApiUrl: string;\n\n\tpageId: string;\n\tkeywordIds: string;\n};\n\ntype RRBannerConfig = {\n\tid: string;\n\tBannerComponent: typeof ReaderRevenueBanner;\n\tcanShowFn: CanShowFunctionType<BannerProps>;\n\tisEnabled: boolean;\n};\n\nconst getBannerLastClosedAt = (key: string): string | undefined => {\n\tconst item = localStorage.getItem(`gu.prefs.${key}`) as undefined | string;\n\n\tif (item) {\n\t\tconst parsedItem = JSON.parse(item) as Record<string, any>;\n\t\treturn parsedItem.value;\n\t}\n\treturn item;\n};\n\nconst DEFAULT_BANNER_TIMEOUT_MILLIS = 2000;\n\nconst buildCmpBannerConfig = (): CandidateConfig<void> => ({\n\tcandidate: {\n\t\tid: 'cmpUi',\n\t\tcanShow: () =>\n\t\t\tcmp\n\t\t\t\t.willShowPrivacyMessage()\n\t\t\t\t.then((result) =>\n\t\t\t\t\tresult ? { show: true, meta: undefined } : { show: false },\n\t\t\t\t),\n\t\tshow: () => {\n\t\t\t// New CMP is not a react component and is shown outside of react's world\n\t\t\t// so render nothing if it will show\n\t\t\treturn null;\n\t\t},\n\t},\n\ttimeoutMillis: null,\n});\n\nconst buildRRBannerConfigWith = ({\n\tid,\n\tBannerComponent,\n\tcanShowFn,\n\tisEnabled,\n}: RRBannerConfig) => {\n\treturn ({\n\t\tisSignedIn,\n\t\tasyncCountryCode,\n\t\tisPreview,\n\t\tasyncArticleCounts,\n\t\tsignInGateWillShow = false,\n\t\tcontentType,\n\t\tsection,\n\t\tshouldHideReaderRevenue,\n\t\tisMinuteArticle,\n\t\tisPaidContent,\n\t\tisSensitive,\n\t\ttags,\n\t\tcontributionsServiceUrl,\n\t\tidApiUrl,\n\t}: {\n\t\tisSignedIn: boolean;\n\t\tasyncCountryCode: Promise<string>;\n\t\tisPreview: boolean;\n\t\tasyncArticleCounts: Promise<ArticleCounts | undefined>;\n\t\tsignInGateWillShow?: boolean;\n\t\tcontentType: string;\n\t\tsection: string;\n\t\tshouldHideReaderRevenue: boolean;\n\t\tisMinuteArticle: boolean;\n\t\tisPaidContent: boolean;\n\t\tisSensitive: boolean;\n\t\ttags: TagType[];\n\t\tcontributionsServiceUrl: string;\n\t\tidApiUrl: string;\n\t}): CandidateConfig<BannerProps> => {\n\t\treturn {\n\t\t\tcandidate: {\n\t\t\t\tid,\n\t\t\t\tcanShow: () =>\n\t\t\t\t\tcanShowFn({\n\t\t\t\t\t\tremoteBannerConfig: isEnabled,\n\t\t\t\t\t\tisSignedIn,\n\t\t\t\t\t\tasyncCountryCode,\n\t\t\t\t\t\tcontentType,\n\t\t\t\t\t\tsectionId: section,\n\t\t\t\t\t\tshouldHideReaderRevenue,\n\t\t\t\t\t\tisMinuteArticle,\n\t\t\t\t\t\tisPaidContent,\n\t\t\t\t\t\tisSensitive,\n\t\t\t\t\t\ttags,\n\t\t\t\t\t\tcontributionsServiceUrl,\n\t\t\t\t\t\talreadyVisitedCount: getAlreadyVisitedCount(),\n\t\t\t\t\t\tengagementBannerLastClosedAt: getBannerLastClosedAt(\n\t\t\t\t\t\t\t'engagementBannerLastClosedAt',\n\t\t\t\t\t\t),\n\t\t\t\t\t\tsubscriptionBannerLastClosedAt: getBannerLastClosedAt(\n\t\t\t\t\t\t\t'subscriptionBannerLastClosedAt',\n\t\t\t\t\t\t),\n\t\t\t\t\t\tsignInBannerLastClosedAt: getBannerLastClosedAt(\n\t\t\t\t\t\t\t'signInBannerLastClosedAt',\n\t\t\t\t\t\t),\n\t\t\t\t\t\tsection,\n\t\t\t\t\t\tisPreview,\n\t\t\t\t\t\tidApiUrl,\n\t\t\t\t\t\tsignInGateWillShow,\n\t\t\t\t\t\tasyncArticleCounts,\n\t\t\t\t\t}),\n\t\t\t\tshow:\n\t\t\t\t\t({ meta, module, fetchEmail }: BannerProps) =>\n\t\t\t\t\t() =>\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\t<BannerComponent\n\t\t\t\t\t\t\t\tmeta={meta}\n\t\t\t\t\t\t\t\tmodule={module}\n\t\t\t\t\t\t\t\tfetchEmail={fetchEmail}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t),\n\t\t\t},\n\t\t\ttimeoutMillis: DEFAULT_BANNER_TIMEOUT_MILLIS,\n\t\t};\n\t};\n};\n\nconst buildPuzzlesBannerConfig = (isEnabled: boolean) =>\n\tbuildRRBannerConfigWith({\n\t\tid: 'puzzles-banner',\n\t\tBannerComponent: PuzzlesBanner,\n\t\tcanShowFn: canShowPuzzlesBanner,\n\t\tisEnabled,\n\t});\n\nconst buildReaderRevenueBannerConfig = (isEnabled: boolean) =>\n\tbuildRRBannerConfigWith({\n\t\tid: 'reader-revenue-banner',\n\t\tBannerComponent: ReaderRevenueBanner,\n\t\tcanShowFn: canShowRRBanner,\n\t\tisEnabled,\n\t});\n\nconst buildBrazeBanner = (\n\tbrazeMessages: BrazeMessagesInterface,\n\tbrazeArticleContext: BrazeArticleContext,\n\tidApiUrl: string,\n\ttags: TagType[],\n): CandidateConfig<any> => ({\n\tcandidate: {\n\t\tid: 'braze-banner',\n\t\tcanShow: () =>\n\t\t\tcanShowBrazeBanner(brazeMessages, brazeArticleContext, tags),\n\t\tshow: (meta: any) => () =>\n\t\t\t<BrazeBanner meta={meta} idApiUrl={idApiUrl} />,\n\t},\n\ttimeoutMillis: DEFAULT_BANNER_TIMEOUT_MILLIS,\n});\n\nexport const StickyBottomBanner = ({\n\tcontentType,\n\tsectionName,\n\tsection,\n\ttags,\n\tisPaidContent,\n\tisPreview,\n\tshouldHideReaderRevenue,\n\tisMinuteArticle,\n\tisSensitive,\n\tcontributionsServiceUrl,\n\tidApiUrl,\n\tpageId,\n\tkeywordIds,\n\tremoteBannerSwitch,\n\tpuzzleBannerSwitch,\n}: Props & {\n\tremoteBannerSwitch: boolean;\n\tpuzzleBannerSwitch: boolean;\n\tisSensitive: boolean;\n}) => {\n\tconst { brazeMessages } = useBraze(idApiUrl);\n\n\tconst asyncCountryCode = getLocaleCode();\n\tconst isSignedIn = !!getCookie({ name: 'GU_U', shouldMemoize: true });\n\tconst [SelectedBanner, setSelectedBanner] = useState<MaybeFC | null>(null);\n\tconst [asyncArticleCounts, setAsyncArticleCounts] =\n\t\tuseState<Promise<ArticleCounts | undefined>>();\n\tconst signInGateWillShow = useSignInGateWillShow({\n\t\tisSignedIn,\n\t\tcontentType,\n\t\tsectionName,\n\t\ttags,\n\t\tisPaidContent,\n\t\tisPreview,\n\t});\n\n\tuseEffect(() => {\n\t\tsetAsyncArticleCounts(getArticleCounts(pageId, keywordIds));\n\t}, [pageId, keywordIds]);\n\n\tuseOnce(() => {\n\t\tconst CMP = buildCmpBannerConfig();\n\t\tconst puzzlesBanner = buildPuzzlesBannerConfig(puzzleBannerSwitch)({\n\t\t\tisSignedIn,\n\t\t\tasyncCountryCode: asyncCountryCode as Promise<string>,\n\t\t\tisPreview,\n\t\t\tasyncArticleCounts: asyncArticleCounts as Promise<\n\t\t\t\tArticleCounts | undefined\n\t\t\t>,\n\t\t\tcontentType,\n\t\t\tsection,\n\t\t\tshouldHideReaderRevenue,\n\t\t\tisMinuteArticle,\n\t\t\tisPaidContent,\n\t\t\tisSensitive,\n\t\t\ttags,\n\t\t\tcontributionsServiceUrl,\n\t\t\tidApiUrl,\n\t\t});\n\t\tconst readerRevenue = buildReaderRevenueBannerConfig(\n\t\t\tremoteBannerSwitch,\n\t\t)({\n\t\t\tisSignedIn,\n\t\t\tasyncCountryCode: asyncCountryCode as Promise<string>,\n\t\t\tisPreview,\n\t\t\tasyncArticleCounts: asyncArticleCounts as Promise<\n\t\t\t\tArticleCounts | undefined\n\t\t\t>,\n\t\t\tsignInGateWillShow,\n\t\t\tcontentType,\n\t\t\tsection,\n\t\t\tshouldHideReaderRevenue,\n\t\t\tisMinuteArticle,\n\t\t\tisPaidContent,\n\t\t\tisSensitive,\n\t\t\ttags,\n\t\t\tcontributionsServiceUrl,\n\t\t\tidApiUrl,\n\t\t});\n\t\tconst brazeArticleContext: BrazeArticleContext = {\n\t\t\tsection: sectionName,\n\t\t};\n\t\tconst brazeBanner = buildBrazeBanner(\n\t\t\tbrazeMessages as BrazeMessagesInterface,\n\t\t\tbrazeArticleContext,\n\t\t\tidApiUrl,\n\t\t\ttags,\n\t\t);\n\t\tconst bannerConfig: SlotConfig = {\n\t\t\tcandidates: [CMP, puzzlesBanner, readerRevenue, brazeBanner],\n\t\t\tname: 'banner',\n\t\t};\n\n\t\tpickMessage(bannerConfig)\n\t\t\t.then((PickedBanner: () => MaybeFC) =>\n\t\t\t\tsetSelectedBanner(PickedBanner),\n\t\t\t)\n\t\t\t.catch((e) =>\n\t\t\t\tconsole.error(\n\t\t\t\t\t`StickyBottomBanner pickMessage - error: ${String(e)}`,\n\t\t\t\t),\n\t\t\t);\n\t}, [isSignedIn, asyncCountryCode, brazeMessages, asyncArticleCounts]);\n\n\tif (SelectedBanner) {\n\t\treturn <SelectedBanner />;\n\t}\n\n\treturn null;\n};\n","import { css } from '@emotion/react';\nimport {\n\tfrom,\n\tneutral,\n\tnews,\n\ttext,\n\ttextSans,\n} from '@guardian/source-foundations';\nimport { useEffect, useRef, useState } from 'react';\nimport type { SubNavType } from '../../model/extract-nav';\nimport type { Palette } from '../../types/palette';\nimport { decidePalette } from '../lib/decidePalette';\n\ntype Props = {\n\tsubNavSections: SubNavType;\n\tcurrentNavLink: string;\n\tformat: ArticleFormat;\n};\n\nconst wrapperCollapsedStyles = css`\n\theight: 36px;\n\toverflow: hidden;\n\n\t${from.tablet} {\n\t\theight: 42px;\n\t}\n`;\n\nconst rootSubnavStyles = css`\n\tlist-style: none;\n\t/* https://developer.mozilla.org/en-US/docs/Web/CSS/list-style#accessibility_concerns */\n\tpadding: 0 5px;\n\n\t${from.mobileLandscape} {\n\t\tpadding: 0 15px;\n\t}\n\n\tli {\n\t\tfloat: left;\n\t\tdisplay: block;\n\t}\n`;\n\nconst expandedStyles = css`\n\t${rootSubnavStyles};\n`;\n\nconst collapsedStyles = css`\n\t${rootSubnavStyles};\n\tmax-width: calc(100% - 60px);\n\n\t${from.mobileLandscape} {\n\t\tmax-width: calc(100% - 70px);\n\t}\n`;\n\nconst fontStyle = css`\n\t${textSans.small()};\n\tfont-size: 14px;\n\t${from.tablet} {\n\t\t${textSans.medium()};\n\t\tfont-size: 16px;\n\t}\n\tfont-weight: 500;\n\tcolor: ${neutral[7]};\n\tpadding: 0 5px;\n\theight: 36px;\n\t/* Design System: Line height is being used here for centering layout, we need the primitives */\n\tline-height: 36px;\n\n\t${from.tablet} {\n\t\theight: 42px;\n\t\t/* Design System: Line height is being used here for centering layout, we need the primitives */\n\t\tline-height: 42px;\n\t}\n`;\n\nconst linkStyle = (palette: Palette) => css`\n\t${fontStyle};\n\tfloat: left;\n\ttext-decoration: none;\n\n\t:hover {\n\t\tcolor: ${palette.text.articleLinkHover};\n\t}\n\n\t:focus {\n\t\tline-height: 26px;\n\t\theight: 26px;\n\t\tmargin-top: 5px;\n\n\t\t${from.tablet} {\n\t\t\theight: 32px;\n\t\t\tline-height: 32px;\n\t\t}\n\t}\n`;\n\nconst selected = css`\n\tfont-weight: 700;\n`;\n\nconst spaceBetween = css`\n\tdisplay: flex;\n\tjustify-content: space-between;\n`;\n\nconst showMoreStyle = css`\n\t${fontStyle};\n\n\tpadding-left: 10px;\n\tpadding-right: 10px;\n\n\tcursor: pointer;\n\tborder: none;\n\tbackground-color: transparent;\n\tcolor: ${text.supporting};\n\n\t:hover {\n\t\tcolor: ${news[400]};\n\t}\n\n\t${from.desktop} {\n\t\tdisplay: none;\n\t}\n`;\n\nconst listItemStyles = (palette: Palette) => css`\n\t:after {\n\t\tcontent: '';\n\t\tdisplay: inline-block;\n\t\twidth: 0;\n\t\theight: 0;\n\t\tborder-top: 6px solid transparent;\n\t\tborder-bottom: 6px solid transparent;\n\t\tborder-left: 10px solid ${neutral[7]};\n\t\tmargin-top: 12px;\n\t\tmargin-left: 2px;\n\t\tborder-left-color: ${palette.border.subNav};\n\n\t\t${from.tablet} {\n\t\t\tmargin-top: 16px;\n\t\t}\n\t}\n`;\n\nconst trimLeadingSlash = (url: string): string =>\n\turl.startsWith('/') ? url.slice(1) : url;\n\nexport const SubNav = ({ subNavSections, currentNavLink, format }: Props) => {\n\tconst [showMore, setShowMore] = useState(false);\n\tconst [isExpanded, setIsExpanded] = useState(false);\n\tconst ulRef = useRef<HTMLUListElement>(null);\n\tconst palette = decidePalette(format);\n\n\tuseEffect(() => {\n\t\tconst ulEl = ulRef.current;\n\n\t\tconst lis = ulEl?.querySelectorAll('li');\n\t\tconst lastLi = lis && lis[lis.length - 1];\n\n\t\tif (ulEl && lastLi) {\n\t\t\tconst ulTop = ulEl.getBoundingClientRect().top;\n\t\t\tconst liTop = lastLi.getBoundingClientRect().top;\n\n\t\t\tsetShowMore(ulTop !== liTop);\n\t\t} else {\n\t\t\tsetShowMore(false);\n\t\t}\n\t}, []);\n\n\tconst collapseWrapper = !showMore || !isExpanded;\n\tconst expandSubNav = !showMore || isExpanded;\n\n\treturn (\n\t\t<div\n\t\t\tdata-print-layout=\"hide\"\n\t\t\tcss={[collapseWrapper && wrapperCollapsedStyles, spaceBetween]}\n\t\t\tdata-cy=\"sub-nav\"\n\t\t\tdata-component=\"sub-nav\"\n\t\t>\n\t\t\t{/* eslint-disable jsx-a11y/no-redundant-roles -- A11y fix for Safari {@see https://github.com/guardian/dotcom-rendering/pull/5041} */}\n\t\t\t<ul\n\t\t\t\tref={ulRef}\n\t\t\t\tcss={[expandSubNav ? expandedStyles : collapsedStyles]}\n\t\t\t\trole=\"list\"\n\t\t\t>\n\t\t\t\t{/* eslint-enable jsx-a11y/no-redundant-roles */}\n\t\t\t\t{subNavSections.parent && (\n\t\t\t\t\t<li\n\t\t\t\t\t\tkey={subNavSections.parent.url}\n\t\t\t\t\t\tcss={listItemStyles(palette)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tdata-src-focus-disabled={true}\n\t\t\t\t\t\t\tcss={linkStyle(palette)}\n\t\t\t\t\t\t\thref={subNavSections.parent.url}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{subNavSections.parent.title}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t)}\n\t\t\t\t{subNavSections.links.map((link) => (\n\t\t\t\t\t<li\n\t\t\t\t\t\tkey={link.url}\n\t\t\t\t\t\t/**\n\t\t\t\t\t\t * We’ve getting many false positive on changes to Obituaries.\n\t\t\t\t\t\t * Let’s try ignoring it for now.\n\t\t\t\t\t\t *\n\t\t\t\t\t\t * @see https://www.chromatic.com/docs/ignoring-elements#ignore-dom-elements\n\t\t\t\t\t\t */\n\t\t\t\t\t\tdata-chromatic={\n\t\t\t\t\t\t\tlink.title === 'Obituaries' ? 'ignore' : undefined\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tcss={linkStyle(palette)}\n\t\t\t\t\t\t\tdata-src-focus-disabled={true}\n\t\t\t\t\t\t\thref={link.url}\n\t\t\t\t\t\t\tdata-link-name={`nav2 : subnav : ${trimLeadingSlash(\n\t\t\t\t\t\t\t\tlink.url,\n\t\t\t\t\t\t\t)}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{link.title === currentNavLink ? (\n\t\t\t\t\t\t\t\t<span css={selected}>{link.title}</span>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\tlink.title\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t\t{showMore && (\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => setIsExpanded(!isExpanded)}\n\t\t\t\t\tcss={showMoreStyle}\n\t\t\t\t\tdata-link-name=\"nav2 : subnav-toggle\"\n\t\t\t\t\tdata-cy=\"subnav-toggle\"\n\t\t\t\t>\n\t\t\t\t\t{isExpanded ? 'Less' : 'More'}\n\t\t\t\t</button>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n","import { css } from '@emotion/react';\nimport type { OphanABTestMeta, OphanComponentEvent } from '@guardian/libs';\nimport { getCookie } from '@guardian/libs';\nimport {\n\tbrandAlt,\n\tbrandText,\n\tfrom,\n\theadline,\n\tneutral,\n\tspace,\n\ttextSans,\n\tuntil,\n} from '@guardian/source-foundations';\nimport { getHeader } from '@guardian/support-dotcom-components';\nimport type {\n\tHeaderPayload,\n\tModuleData,\n\tModuleDataResponse,\n} from '@guardian/support-dotcom-components/dist/dotcom/src/types';\nimport { useEffect, useState } from 'react';\nimport ArrowRightIcon from '../../static/icons/arrow-right.svg';\nimport type { OphanRecordFunction } from '../browser/ophan/ophan';\nimport {\n\tgetOphanRecordFunction,\n\tsendOphanComponentEvent,\n\tsubmitComponentEvent,\n} from '../browser/ophan/ophan';\nimport { addTrackingCodesToUrl } from '../lib/acquisitions';\nimport {\n\tgetLastOneOffContributionDate,\n\tgetPurchaseInfo,\n\tMODULES_VERSION,\n\tshouldHideSupportMessaging,\n} from '../lib/contributions';\nimport type { EditionId } from '../lib/edition';\nimport { getLocaleCode } from '../lib/getCountryCode';\nimport { setAutomat } from '../lib/setAutomat';\nimport { useIsInView } from '../lib/useIsInView';\nimport { useOnce } from '../lib/useOnce';\n\ntype Props = {\n\teditionId: EditionId;\n\tdataLinkNamePrefix: string;\n\tinHeader: boolean;\n\tremoteHeader: boolean;\n\tcontributionsServiceUrl: string;\n\turls: {\n\t\tsubscribe: string;\n\t\tsupport: string;\n\t\tcontribute: string;\n\t};\n};\n\nconst headerStyles = css`\n\tpadding-top: 39px;\n\tpadding-left: 10px;\n\tmax-width: 310px;\n\n\t${from.mobileMedium} {\n\t\tpadding-top: 44px;\n\t}\n\n\t${from.mobileLandscape} {\n\t\tpadding-left: ${space[5]}px;\n\t}\n\n\t${from.tablet} {\n\t\tpadding-top: ${space[1]}px;\n\t\tpadding-bottom: ${space[3]}px;\n\t\tpadding-left: ${space[5]}px;\n\t\tmax-width: 340px;\n\t}\n\n\t${from.desktop} {\n\t\tmax-width: none;\n\t}\n`;\n\nconst messageStyles = (isThankYouMessage: boolean) => css`\n\tcolor: ${brandAlt[400]};\n\t${headline.xxsmall({ fontWeight: 'bold' })}\n\tpadding-top: 3px;\n\tmargin-bottom: 3px;\n\n\t${from.desktop} {\n\t\t${headline.xsmall({ fontWeight: 'bold' })}\n\t}\n\n\t${from.leftCol} {\n\t\t${isThankYouMessage\n\t\t\t? headline.small({ fontWeight: 'bold' })\n\t\t\t: headline.medium({ fontWeight: 'bold' })}\n\t}\n`;\n\nconst linkStyles = css`\n\tbackground: ${brandAlt[400]};\n\tborder-radius: 16px;\n\tbox-sizing: border-box;\n\tcolor: ${neutral[7]};\n\tfloat: left;\n\t${textSans.small()};\n\tfont-weight: 700;\n\theight: 32px;\n\ttext-decoration: none;\n\tpadding: 6px 12px 0 12px;\n\tline-height: 18px;\n\tposition: relative;\n\tmargin-right: 10px;\n\tmargin-bottom: 6px;\n\n\t${from.mobileMedium} {\n\t\tpadding-right: 34px;\n\t}\n\n\tsvg {\n\t\tfill: currentColor;\n\t\tposition: absolute;\n\t\tright: 3px;\n\t\ttop: 50%;\n\t\theight: 32px;\n\t\twidth: 32px;\n\t\ttransform: translate(0, -50%);\n\t\ttransition: transform 0.3s ease-in-out;\n\n\t\t${until.mobileMedium} {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t:hover svg {\n\t\ttransform: translate(3px, -50%);\n\t}\n`;\n\nconst hidden = css`\n\tdisplay: none;\n`;\n\nconst hiddenUntilTablet = css`\n\t${until.tablet} {\n\t\tdisplay: none;\n\t}\n`;\n\nconst hiddenFromTablet = css`\n\t${from.tablet} {\n\t\tdisplay: none;\n\t}\n`;\n\nconst subMessageStyles = css`\n\tcolor: ${brandText.primary};\n\t${textSans.medium()};\n\tmargin: 5px 0;\n`;\n\ntype ReaderRevenueLinksRemoteProps = {\n\tcountryCode: string;\n\tpageViewId: string;\n\tcontributionsServiceUrl: string;\n\tophanRecord: OphanRecordFunction;\n};\n\nconst ReaderRevenueLinksRemote = ({\n\tcountryCode,\n\tpageViewId,\n\tcontributionsServiceUrl,\n\tophanRecord,\n}: ReaderRevenueLinksRemoteProps) => {\n\tconst [supportHeaderResponse, setSupportHeaderResponse] =\n\t\tuseState<ModuleData | null>(null);\n\tconst [SupportHeader, setSupportHeader] =\n\t\tuseState<React.ElementType | null>(null);\n\n\tuseOnce((): void => {\n\t\tsetAutomat();\n\n\t\tconst isSignedIn = !!getCookie({ name: 'GU_U', shouldMemoize: true });\n\t\tconst requestData: HeaderPayload = {\n\t\t\ttracking: {\n\t\t\t\tophanPageId: pageViewId,\n\t\t\t\tplatformId: 'GUARDIAN_WEB',\n\t\t\t\treferrerUrl: window.location.origin + window.location.pathname,\n\t\t\t\tclientName: 'dcr',\n\t\t\t},\n\t\t\ttargeting: {\n\t\t\t\tshowSupportMessaging: !shouldHideSupportMessaging(),\n\t\t\t\tcountryCode,\n\t\t\t\tmodulesVersion: MODULES_VERSION,\n\t\t\t\tmvtId: Number(\n\t\t\t\t\tgetCookie({ name: 'GU_mvt_id', shouldMemoize: true }),\n\t\t\t\t),\n\t\t\t\tlastOneOffContributionDate: getLastOneOffContributionDate(),\n\t\t\t\tpurchaseInfo: getPurchaseInfo(),\n\t\t\t\tisSignedIn,\n\t\t\t},\n\t\t};\n\t\tgetHeader(contributionsServiceUrl, requestData)\n\t\t\t.then((response: ModuleDataResponse) => {\n\t\t\t\tif (!response.data) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\tconst { module } = response.data;\n\t\t\t\tsetSupportHeaderResponse(module);\n\n\t\t\t\treturn window\n\t\t\t\t\t.guardianPolyfilledImport(module.url)\n\t\t\t\t\t.then(\n\t\t\t\t\t\t(headerModule: {\n\t\t\t\t\t\t\t[key: string]: React.ElementType;\n\t\t\t\t\t\t}) => {\n\t\t\t\t\t\t\tsetSupportHeader(\n\t\t\t\t\t\t\t\t() => headerModule[module.name] ?? null,\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t},\n\t\t\t\t\t);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconst msg = `Error importing RR header links: ${String(error)}`;\n\n\t\t\t\tconsole.log(msg);\n\t\t\t\twindow.guardian.modules.sentry.reportError(\n\t\t\t\t\tnew Error(msg),\n\t\t\t\t\t'rr-header-links',\n\t\t\t\t);\n\t\t\t});\n\t}, [countryCode]);\n\n\tif (SupportHeader !== null && supportHeaderResponse) {\n\t\treturn (\n\t\t\t<div css={headerStyles}>\n\t\t\t\t{}\n\t\t\t\t<SupportHeader\n\t\t\t\t\tsubmitComponentEvent={(\n\t\t\t\t\t\tcomponentEvent: OphanComponentEvent,\n\t\t\t\t\t) => submitComponentEvent(componentEvent, ophanRecord)}\n\t\t\t\t\t{...supportHeaderResponse.props}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn null;\n};\n\ntype ReaderRevenueLinksNativeProps = {\n\teditionId: EditionId;\n\tdataLinkNamePrefix: string;\n\tinHeader: boolean;\n\turls: {\n\t\tsubscribe: string;\n\t\tsupport: string;\n\t\tcontribute: string;\n\t};\n\tophanRecord: OphanRecordFunction;\n\tpageViewId: string;\n};\n\nconst ReaderRevenueLinksNative = ({\n\teditionId,\n\tdataLinkNamePrefix,\n\tinHeader,\n\turls,\n\tophanRecord,\n\tpageViewId,\n}: ReaderRevenueLinksNativeProps) => {\n\tconst hideSupportMessaging = shouldHideSupportMessaging();\n\n\t// Only the header component is in the AB test\n\tconst testName = inHeader ? 'RRHeaderLinks' : 'RRFooterLinks';\n\tconst campaignCode = `${testName}_control`;\n\tconst tracking: OphanABTestMeta = {\n\t\tabTestName: testName,\n\t\tabTestVariant: 'control',\n\t\tcomponentType: inHeader ? 'ACQUISITIONS_HEADER' : 'ACQUISITIONS_FOOTER',\n\t\tcampaignCode,\n\t};\n\n\tconst [hasBeenSeen, setNode] = useIsInView({\n\t\tthreshold: 0,\n\t\tdebounce: true,\n\t});\n\n\tuseEffect(() => {\n\t\tif (!hideSupportMessaging && inHeader) {\n\t\t\tsendOphanComponentEvent('INSERT', tracking, ophanRecord);\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif (hasBeenSeen && inHeader) {\n\t\t\tsendOphanComponentEvent('VIEW', tracking, ophanRecord);\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [hasBeenSeen]);\n\n\tconst getUrl = (rrType: 'contribute' | 'subscribe'): string => {\n\t\tif (inHeader) {\n\t\t\treturn addTrackingCodesToUrl({\n\t\t\t\tbase: `https://support.theguardian.com/${rrType}`,\n\t\t\t\tcomponentType: 'ACQUISITIONS_HEADER',\n\t\t\t\tcomponentId: campaignCode,\n\t\t\t\tcampaignCode,\n\t\t\t\tabTest: {\n\t\t\t\t\tname: testName,\n\t\t\t\t\tvariant: 'control',\n\t\t\t\t},\n\t\t\t\tpageViewId,\n\t\t\t\treferrerUrl: window.location.origin + window.location.pathname,\n\t\t\t});\n\t\t}\n\t\treturn urls[rrType];\n\t};\n\n\tif (hideSupportMessaging) {\n\t\treturn (\n\t\t\t<div css={inHeader && headerStyles}>\n\t\t\t\t<div css={inHeader && hiddenUntilTablet}>\n\t\t\t\t\t<div css={messageStyles(true)}> Thank you </div>\n\t\t\t\t\t<div css={subMessageStyles}>\n\t\t\t\t\t\tYour support powers our independent journalism\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tconst ContributeButton = () => (\n\t\t<a\n\t\t\tcss={linkStyles}\n\t\t\thref={getUrl('contribute')}\n\t\t\tdata-link-name={`${dataLinkNamePrefix}contribute-cta`}\n\t\t>\n\t\t\tContribute <ArrowRightIcon />\n\t\t</a>\n\t);\n\tconst SubscribeButton = () => (\n\t\t<a\n\t\t\tcss={linkStyles}\n\t\t\thref={getUrl('subscribe')}\n\t\t\tdata-link-name={`${dataLinkNamePrefix}subscribe-cta`}\n\t\t>\n\t\t\tSubscribe <ArrowRightIcon />\n\t\t</a>\n\t);\n\tconst PrimaryButton =\n\t\teditionId === 'UK' ? SubscribeButton : ContributeButton;\n\tconst SecondaryButton =\n\t\teditionId === 'UK' ? ContributeButton : SubscribeButton;\n\n\treturn (\n\t\t<div ref={setNode} css={inHeader && headerStyles}>\n\t\t\t<div css={inHeader && hiddenUntilTablet}>\n\t\t\t\t<div css={messageStyles(false)}>\n\t\t\t\t\t<span>Support the&nbsp;Guardian</span>\n\t\t\t\t</div>\n\t\t\t\t<div css={subMessageStyles}>\n\t\t\t\t\t<div>Available for everyone, funded by readers</div>\n\t\t\t\t</div>\n\t\t\t\t<PrimaryButton />\n\t\t\t\t<SecondaryButton />\n\t\t\t</div>\n\n\t\t\t<div css={inHeader ? hiddenFromTablet : hidden}>\n\t\t\t\t<PrimaryButton />\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport const SupportTheG = ({\n\teditionId,\n\tdataLinkNamePrefix,\n\tinHeader,\n\tremoteHeader,\n\turls,\n\tcontributionsServiceUrl,\n}: Props) => {\n\tconst [countryCode, setCountryCode] = useState<string>();\n\tconst pageViewId = window.guardian.config.ophan.pageViewId;\n\tconst ophanRecord = getOphanRecordFunction();\n\n\tuseEffect(() => {\n\t\tconst callFetch = () => {\n\t\t\tgetLocaleCode()\n\t\t\t\t.then((cc) => {\n\t\t\t\t\tsetCountryCode(cc ?? '');\n\t\t\t\t})\n\t\t\t\t.catch((e) =>\n\t\t\t\t\tconsole.error(`countryCodePromise - error: ${String(e)}`),\n\t\t\t\t);\n\t\t};\n\t\tcallFetch();\n\t}, []);\n\n\tif (countryCode) {\n\t\tif (inHeader && remoteHeader) {\n\t\t\treturn (\n\t\t\t\t<ReaderRevenueLinksRemote\n\t\t\t\t\tcountryCode={countryCode}\n\t\t\t\t\tpageViewId={pageViewId}\n\t\t\t\t\tcontributionsServiceUrl={contributionsServiceUrl}\n\t\t\t\t\tophanRecord={ophanRecord}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<ReaderRevenueLinksNative\n\t\t\t\teditionId={editionId}\n\t\t\t\tdataLinkNamePrefix={dataLinkNamePrefix}\n\t\t\t\tinHeader={inHeader}\n\t\t\t\turls={urls}\n\t\t\t\tophanRecord={ophanRecord}\n\t\t\t\tpageViewId={pageViewId}\n\t\t\t/>\n\t\t);\n\t}\n\n\treturn null;\n};\n","import { css } from '@emotion/react';\nimport { ArticleDisplay } from '@guardian/libs';\nimport {\n\theadline,\n\tneutral,\n\tspace,\n\ttextSans,\n} from '@guardian/source-foundations';\nimport {\n\tSvgChevronDownSingle,\n\tSvgChevronUpSingle,\n} from '@guardian/source-react-components';\nimport { useState } from 'react';\nimport type { TableOfContentsItem } from '../../types/frontend';\nimport type { Palette } from '../../types/palette';\nimport { decidePalette } from '../lib/decidePalette';\n\ninterface Props {\n\ttableOfContents: TableOfContentsItem[];\n\tformat: ArticleFormat;\n}\n\nconst anchorStyles = (palette: Palette) => css`\n\tcolor: ${palette.text.tableOfContents};\n\ttext-decoration: none;\n\tdisplay: block;\n`;\n\nconst listItemStyles = (format: ArticleFormat, palette: Palette) => {\n\tconst fontWeight =\n\t\tformat.display === ArticleDisplay.Immersive ? 'light' : 'bold';\n\treturn css`\n\t\t${headline.xxxsmall({ fontWeight })};\n\t\tbox-sizing: border-box;\n\t\tborder-top: 1px solid ${neutral[86]};\n\t\tpadding-bottom: ${space[4]}px;\n\t\tpadding-top: ${space[1]}px;\n\t\tdisplay: flex;\n\t\tposition: relative;\n\n\t\t&::before {\n\t\t\tcontent: '';\n\t\t\tposition: absolute;\n\t\t\tbackground-color: ${palette.text.tableOfContents};\n\t\t\twidth: 100%;\n\t\t\theight: 0;\n\t\t\ttransition: height 0.2s ease;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t}\n\n\t\t&:hover::before {\n\t\t\theight: ${space[1]}px;\n\t\t}\n\t`;\n};\n\nconst detailsStyles = css`\n\tmargin: ${space[4]}px 0 ${space[6]}px 0;\n\t&:not([open]) .is-open,\n\t&[open] .is-closed {\n\t\tdisplay: none;\n\t}\n\t&:not([open]) {\n\t\tborder-bottom: 1px solid ${neutral[86]};\n\t}\n\t/* removes toggle triangle from webkit browsers such as Safari */\n\tsummary::-webkit-details-marker {\n\t\tdisplay: none;\n\t}\n`;\n\nconst summaryStyles = (palette: Palette) => css`\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tcursor: pointer;\n\tposition: relative;\n\tlist-style: none;\n\n\tpadding: ${space[1]}px 0;\n\tborder-top: 1px solid ${neutral[86]};\n\n\t&:hover {\n\t\ttext-decoration: underline;\n\t}\n\n\tpath {\n\t\tfill: ${palette.text.tableOfContents};\n\t}\n`;\n\nconst titleStyle = (palette: Palette) => css`\n\t${textSans.xsmall({ lineHeight: 'regular' })}\n\tcolor: ${palette.text.tableOfContents};\n`;\n\nconst indexStyle = css`\n\tmargin-right: 18px;\n`;\n\nconst verticalStyle = css`\n\tposition: absolute;\n\tleft: ${space[4]}px;\n\tborder-left: 1px solid ${neutral[86]};\n\theight: 22px;\n\ttop: 0;\n\ttransition: 0.3s all ease;\n`;\n\n/**\n * # Table of Contents Component\n *\n * A table of contents, shown at the top of an article\n * to allow readers to quickly navigate though articles.\n *\n * ## Why does this need to be an Island?\n *\n * We are responding to user interactions on the page.\n *\n */\n\nexport const TableOfContents = ({ tableOfContents, format }: Props) => {\n\tconst palette = decidePalette(format);\n\tconst [open, setOpen] = useState(tableOfContents.length < 5);\n\n\treturn (\n\t\t<details\n\t\t\topen={open}\n\t\t\tcss={detailsStyles}\n\t\t\tdata-component=\"table-of-contents\"\n\t\t>\n\t\t\t<summary\n\t\t\t\tonClick={(e): void => {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tsetOpen(!open);\n\t\t\t\t}}\n\t\t\t\tdata-link-name={\n\t\t\t\t\topen ? 'table-of-contents-close' : 'table-of-contents-open'\n\t\t\t\t}\n\t\t\t\tcss={summaryStyles(palette)}\n\t\t\t>\n\t\t\t\t<h2 css={titleStyle(palette)}>Jump to</h2>\n\t\t\t\t<span className=\"is-closed\">\n\t\t\t\t\t<SvgChevronDownSingle size=\"xsmall\" />\n\t\t\t\t</span>\n\t\t\t\t<span className=\"is-open\">\n\t\t\t\t\t<SvgChevronUpSingle size=\"xsmall\" />\n\t\t\t\t</span>\n\t\t\t</summary>\n\n\t\t\t<ul>\n\t\t\t\t{tableOfContents.map((item, index) => (\n\t\t\t\t\t<li\n\t\t\t\t\t\tkey={item.id}\n\t\t\t\t\t\tcss={listItemStyles(format, palette)}\n\t\t\t\t\t\tdata-link-name={`table-of-contents-item-${index}-${item.id}`}\n\t\t\t\t\t>\n\t\t\t\t\t\t{format.display === ArticleDisplay.NumberedList && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<span css={indexStyle}>{index + 1}</span>\n\t\t\t\t\t\t\t\t<div css={verticalStyle}></div>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t<a href={`#${item.id}`} css={anchorStyles(palette)}>\n\t\t\t\t\t\t\t{item.title}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t</details>\n\t);\n};\n","import { TimelineAtom } from '@guardian/atoms-rendering';\nimport type { TimelineAtomType } from '@guardian/atoms-rendering';\n\nexport const TimelineAtomWrapper = (props: TimelineAtomType) => {\n\treturn <TimelineAtom {...props} />;\n};\n","import type { SerializedStyles } from '@emotion/react';\nimport { css } from '@emotion/react';\nimport { LABS_HEADER_HEIGHT } from '../lib/labs-constants';\n\nconst MOSTVIEWED_STICKY_HEIGHT = 1059;\n\n/**\n * # Top Right Ad Slot\n *\n * This component NORMALLY decides if we should render the `ShadyPie` or not.\n *\n * **Currently**, `ShadyPie` is  disabled, pending the rollout\n * of the new supporter plus product.\n *\n * ## Why does this need to be an Island?\n *\n * It relies on running `useAdBlockInUse` on the client.\n *\n * **Currently**, it does not need to be.\n *\n * ---\n *\n * (No visual story exists)\n */\nexport const TopRightAdSlot = ({\n\tadStyles,\n\tisPaidContent,\n}: {\n\tadStyles: SerializedStyles[];\n\tisPaidContent: boolean;\n}) => {\n\treturn (\n\t\t<div\n\t\t\tid=\"top-right-ad-slot\"\n\t\t\tclassName=\"ad-slot-container\"\n\t\t\tcss={[\n\t\t\t\tcss`\n\t\t\t\t\tposition: static;\n\t\t\t\t\theight: ${MOSTVIEWED_STICKY_HEIGHT}px;\n\t\t\t\t`,\n\t\t\t\tadStyles,\n\t\t\t]}\n\t\t>\n\t\t\t<div\n\t\t\t\tid=\"dfp-ad--right\"\n\t\t\t\tclassName={[\n\t\t\t\t\t'js-ad-slot',\n\t\t\t\t\t'ad-slot',\n\t\t\t\t\t'ad-slot--right',\n\t\t\t\t\t'ad-slot--mpu-banner-ad',\n\t\t\t\t\t'ad-slot--rendered',\n\t\t\t\t\t'js-sticky-mpu',\n\t\t\t\t].join(' ')}\n\t\t\t\tcss={[\n\t\t\t\t\tcss`\n\t\t\t\t\t\tposition: sticky;\n\t\t\t\t\t\t/* Possibly account for the sticky Labs header and 6px of padding */\n\t\t\t\t\t\ttop: ${isPaidContent ? LABS_HEADER_HEIGHT + 6 : 0}px;\n\t\t\t\t\t`,\n\t\t\t\t\tadStyles,\n\t\t\t\t]}\n\t\t\t\tdata-link-name=\"ad slot right\"\n\t\t\t\tdata-name=\"right\"\n\t\t\t\taria-hidden=\"true\"\n\t\t\t/>\n\t\t</div>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { body, border } from '@guardian/source-foundations';\nimport { useEffect } from 'react';\nimport { unescapeData } from '../../lib/escapeData';\nimport type { TweetBlockElement } from '../../types/content';\n\ntype Props = {\n\telement: TweetBlockElement;\n};\n\n// fallback styling for when JS is disabled\nconst noJSStyling = css`\n\t.nojs-tweet:not(.nojs-tweet-rendered) {\n\t\tborder: 1px solid ${border.secondary};\n\t\tborder-radius: 4px;\n\t\tpadding: 20px;\n\t\twidth: 100%;\n\t\tmargin-bottom: 16px;\n\t\t${body.small()};\n\t}\n\n\t.nojs-tweet iframe {\n\t\t/* Unfortunately due to how Twitter embeds work setting !important is the only way to overwrite tweet CSS */\n\t\t/* stylelint-disable-next-line declaration-no-important */\n\t\twidth: 100% !important;\n\t}\n\n\t.nojs-tweet p {\n\t\tpadding-bottom: 10px;\n\t}\n\n\ta {\n\t\t/* stylelint-disable-next-line color-no-hex */\n\t\tcolor: #2b7bb9;\n\t}\n`;\n\n/**\n * loadTweet takes the nojs default version of a Twitter tweet embed\n * and enhances it using Twitter's platform api script\n *\n * This code should only execute if switches.enhanceTweets is true (see\n * renderElements)\n *\n * @param element TweetBlockElement - The tweet element we want to enhance\n */\nconst loadTweet = (element: TweetBlockElement) => {\n\tconst tweetContainer = document.getElementById(\n\t\t`tweet-container-${element.elementId}`,\n\t);\n\tconst tweet = document.querySelector(\n\t\t`#tweet-container-${element.elementId} > blockquote.nojs-tweet`,\n\t);\n\n\tif (tweetContainer && tweet && typeof twttr !== 'undefined') {\n\t\t// We need this classname to exist as this is what Twitter uses\n\t\t// to find the tweet on the page. We *remove* this class in\n\t\t// enhanceTweets()\n\t\ttweet.classList.add('twitter-tweet');\n\t\ttwttr.ready((twitter) => {\n\t\t\ttwitter.widgets.load(tweetContainer);\n\t\t});\n\t}\n};\n\nexport const TweetBlockComponent = ({ element }: Props) => {\n\tuseEffect(() => {\n\t\t// This code only runs if this component is hydrated, which\n\t\t// only happens if the enhanceTweets switch is on\n\t\tloadTweet(element);\n\t}, [element]);\n\n\treturn (\n\t\t<div\n\t\t\tid={`tweet-container-${element.elementId}`}\n\t\t\tcss={noJSStyling}\n\t\t\tdangerouslySetInnerHTML={{ __html: unescapeData(element.html) }}\n\t\t/>\n\t);\n};\n","import { css } from '@emotion/react';\nimport type { RoleType } from '../../types/content';\nimport { updateIframeHeight } from '../browser/updateIframeHeight';\nimport { ClickToView } from './ClickToView';\n\ntype Props = {\n\thtml: string;\n\talt: string;\n\tindex: number;\n\trole?: RoleType;\n\tisTracking: boolean;\n\tisMainMedia?: boolean;\n\tsource?: string;\n\tsourceDomain?: string;\n\tisPinnedPost?: boolean;\n};\n\nconst fullWidthStyles = css`\n\twidth: 100%;\n`;\n\nexport const UnsafeEmbedBlockComponent = ({\n\thtml,\n\talt,\n\tindex,\n\trole,\n\tisTracking,\n\tisMainMedia,\n\tsource,\n\tsourceDomain,\n\tisPinnedPost,\n}: Props) => {\n\t// This allows for when a block is duplicated on a live blog inside a pinned post\n\tconst uniqueIndex = isPinnedPost ? `${index}-pinned` : index;\n\treturn (\n\t\t<ClickToView\n\t\t\trole={role}\n\t\t\tisTracking={isTracking}\n\t\t\tisMainMedia={isMainMedia}\n\t\t\tsource={source}\n\t\t\tsourceDomain={sourceDomain}\n\t\t\tonAccept={() =>\n\t\t\t\tupdateIframeHeight(`iframe[name=\"unsafe-embed-${uniqueIndex}\"]`)\n\t\t\t}\n\t\t>\n\t\t\t<iframe\n\t\t\t\tcss={fullWidthStyles}\n\t\t\t\tclassName=\"js-embed__iframe\"\n\t\t\t\ttitle={alt}\n\t\t\t\t// name is used to identify each unique iframe on the page to resize\n\t\t\t\t// we therefore use the \"unsafe-embed-\" prefix followed by index to\n\t\t\t\t// construct a unique ID\n\t\t\t\tname={`unsafe-embed-${uniqueIndex}`}\n\t\t\t\tdata-cy=\"embed-block\"\n\t\t\t\tsrcDoc={`${html}\n            <script src=\"https://interactive.guim.co.uk/libs/iframe-messenger/iframeMessenger.js\"></script>\n            <gu-script>iframeMessenger.enableAutoResize();</gu-script>`}\n\t\t\t/>\n\t\t</ClickToView>\n\t);\n};\n","import { css } from '@emotion/react';\nimport type { RoleType } from '../../types/content';\nimport { Caption } from './Caption';\nimport { ClickToView } from './ClickToView';\nimport { MaintainAspectRatio } from './MaintainAspectRatio';\n\ntype Props = {\n\tisMainMedia: boolean;\n\tisTracking: boolean;\n\trole?: RoleType;\n\tsource?: string;\n\tsourceDomain?: string;\n\tformat: ArticleFormat;\n\tembedUrl?: string;\n\theight: number;\n\twidth: number;\n\tcaption?: string;\n\tcredit?: string;\n\ttitle?: string;\n};\n\nexport const VideoFacebookBlockComponent = ({\n\tisMainMedia,\n\tisTracking,\n\trole,\n\tsource,\n\tsourceDomain,\n\tembedUrl,\n\tcaption,\n\ttitle,\n\tformat,\n\twidth,\n\theight,\n\tcredit,\n}: Props) => {\n\t// 812 is the full height on an iphone X. This ensures that the embed doesn't display any larger than the available viewport\n\t// Constrain iframe embeds with a width to their natural width\n\t// rather than stretch them to the container using\n\t// a max that would prevent portrait videos from being taller than an iphone X (baseline)\n\t// More context: https://github.com/guardian/frontend/pull/17902\n\tconst maxHeight = 812;\n\tconst aspectRatio = width / height;\n\tconst maxWidth = maxHeight * aspectRatio;\n\n\tconst embedContainer = css`\n\t\tmax-width: ${maxWidth}px;\n\t\twidth: 100%;\n\t\tmargin-bottom: ${caption ? `0px` : `6px`};\n\t`;\n\n\treturn (\n\t\t<ClickToView\n\t\t\trole={role}\n\t\t\tisTracking={isTracking}\n\t\t\tisMainMedia={isMainMedia}\n\t\t\tsource={source}\n\t\t\tsourceDomain={sourceDomain}\n\t\t>\n\t\t\t<div css={embedContainer}>\n\t\t\t\t<MaintainAspectRatio height={height} width={width}>\n\t\t\t\t\t<iframe\n\t\t\t\t\t\tsrc={embedUrl}\n\t\t\t\t\t\ttitle={title}\n\t\t\t\t\t\theight={height}\n\t\t\t\t\t\twidth={width}\n\t\t\t\t\t\tallowFullScreen={true}\n\t\t\t\t\t/>\n\t\t\t\t</MaintainAspectRatio>\n\t\t\t\t{!!caption && (\n\t\t\t\t\t<Caption\n\t\t\t\t\t\tcaptionText={caption}\n\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\tcredit={credit}\n\t\t\t\t\t\tmediaType=\"Video\"\n\t\t\t\t\t\tisMainMedia={isMainMedia}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</ClickToView>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { textSans } from '@guardian/source-foundations';\nimport type { RoleType, VineBlockElement } from '../../types/content';\nimport { ClickToView } from './ClickToView';\nimport { MaintainAspectRatio } from './MaintainAspectRatio';\n\nconst titleStyle = css`\n\tp {\n\t\t${textSans.large()};\n\t\tfont-weight: bold;\n\t}\n`;\n\ntype Props = {\n\telement: VineBlockElement;\n\trole: RoleType;\n\tisTracking: boolean;\n\tsource?: string;\n\tsourceDomain?: string;\n};\n\nexport const VineBlockComponent = ({\n\telement,\n\trole,\n\tisTracking,\n\tsource,\n\tsourceDomain,\n}: Props) => {\n\treturn (\n\t\t<ClickToView\n\t\t\trole={role}\n\t\t\tisTracking={isTracking}\n\t\t\tsource={source}\n\t\t\tsourceDomain={sourceDomain}\n\t\t>\n\t\t\t{!!(element.url && element.width && element.height) && (\n\t\t\t\t<div>\n\t\t\t\t\t<div css={titleStyle}>\n\t\t\t\t\t\t<p>{element.title}</p>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<MaintainAspectRatio\n\t\t\t\t\t\theight={element.height}\n\t\t\t\t\t\twidth={element.width}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div css=\"element-vine\">\n\t\t\t\t\t\t\t<iframe\n\t\t\t\t\t\t\t\ttitle=\"vine-embed\"\n\t\t\t\t\t\t\t\tsrc={element.url}\n\t\t\t\t\t\t\t\theight={element.height}\n\t\t\t\t\t\t\t\twidth={element.width}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<script\n\t\t\t\t\t\t\t\tasync={true}\n\t\t\t\t\t\t\t\tsrc=\"https://platform.vine.co/static/scripts/embed.js\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</MaintainAspectRatio>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</ClickToView>\n\t);\n};\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden, iconSize } from '@guardian/source-foundations';\n\nconst Svg = ({ size }) => (jsx(\"svg\", { width: size ? iconSize[size] : undefined, height: undefined, viewBox: \"-3 -3 30 30\", xmlns: \"http://www.w3.org/2000/svg\", focusable: false, \"aria-hidden\": true, children: jsx(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M22 12c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10Zm-10.704 1.818h1.386l.659-8.636-.91-.91h-.885l-.91.91.66 8.636Zm2.068 3.637c0-.75-.614-1.364-1.364-1.364-.75 0-1.364.614-1.364 1.364 0 .75.614 1.363 1.364 1.363.75 0 1.364-.613 1.364-1.363Z\" }) }));\nconst SvgAlertRound = ({ size, isAnnouncedByScreenReader = false, }) => (jsxs(Fragment, { children: [jsx(Svg, { size: size }), isAnnouncedByScreenReader ? (jsx(\"span\", { css: css `\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`, children: \"Warning\" })) : ('')] }));\n\nexport { SvgAlertRound };\n//# sourceMappingURL=SvgAlertRound.js.map\n","import { css } from '@emotion/react';\nimport { YoutubeAtom } from '@guardian/atoms-rendering';\nimport type { ConsentState } from '@guardian/consent-management-platform/dist/types';\nimport { body, neutral, space } from '@guardian/source-foundations';\nimport { SvgAlertRound } from '@guardian/source-react-components';\nimport { useEffect, useState } from 'react';\nimport type { RoleType } from '../../types/content';\nimport { trackVideoInteraction } from '../browser/ga/ga';\nimport { record } from '../browser/ophan/ophan';\nimport { useAB } from '../lib/useAB';\nimport { Caption } from './Caption';\n\ntype Props = {\n\tid: string;\n\telementId: string;\n\tmediaTitle?: string;\n\taltText?: string;\n\tassetId: string;\n\texpired: boolean;\n\tformat: ArticleFormat;\n\trole: RoleType;\n\thideCaption?: boolean;\n\toverrideImage?: string;\n\tposterImage?: {\n\t\turl: string;\n\t\twidth: number;\n\t}[];\n\tadTargeting?: AdTargeting;\n\tisMainMedia?: boolean;\n\theight?: number;\n\twidth?: number;\n\tduration?: number; // in seconds\n\torigin?: string;\n\tstickyVideos: boolean;\n};\n\nconst expiredOverlayStyles = (overrideImage?: string) =>\n\toverrideImage\n\t\t? css`\n\t\t\t\theight: 0px;\n\t\t\t\tposition: relative;\n\t\t\t\tbackground-image: url(${overrideImage});\n\t\t\t\tbackground-size: cover;\n\t\t\t\tbackground-position: 49% 49%;\n\t\t\t\tbackground-repeat: no-repeat;\n\t\t\t\tpadding-bottom: 56%;\n\t\t\t\tcolor: ${neutral[100]};\n\t\t\t\tbackground-color: ${neutral[20]};\n\t\t  `\n\t\t: undefined;\n\nconst expiredTextWrapperStyles = css`\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-items: center;\n\n\tpadding-top: ${space[4]}px;\n\tpadding-bottom: ${space[4]}px;\n\tpadding-left: ${space[1]}px;\n\tpadding-right: ${space[12]}px;\n\tcolor: ${neutral[100]};\n\tbackground-color: ${neutral[20]};\n`;\n\nconst expiredSVGWrapperStyles = css`\n\tpadding-right: ${space[1]}px;\n\tsvg {\n\t\twidth: ${space[12]}px;\n\t\theight: ${space[12]}px;\n\t\tfill: ${neutral[100]};\n\t}\n`;\n\nexport const YoutubeBlockComponent = ({\n\tid,\n\telementId,\n\tassetId,\n\tmediaTitle,\n\taltText,\n\tformat,\n\thideCaption,\n\toverrideImage,\n\tposterImage,\n\texpired,\n\trole,\n\tadTargeting,\n\tisMainMedia,\n\theight = 259,\n\twidth = 460,\n\tduration,\n\torigin,\n\tstickyVideos,\n}: Props) => {\n\tconst [consentState, setConsentState] = useState<ConsentState | undefined>(\n\t\tundefined,\n\t);\n\n\tconst abTests = useAB();\n\tconst abTestsApi = abTests?.api;\n\tconst imaEnabled =\n\t\tabTestsApi?.isUserInVariant('IntegrateIma', 'variant') ?? false;\n\tconst abTestParticipations = abTests?.participations ?? {};\n\n\tuseEffect(() => {\n\t\tconst defineConsentState = async () => {\n\t\t\tconst { onConsentChange } = await import(\n\t\t\t\t'@guardian/consent-management-platform'\n\t\t\t);\n\t\t\tonConsentChange((newConsent: ConsentState) => {\n\t\t\t\tsetConsentState(newConsent);\n\t\t\t});\n\t\t};\n\n\t\tdefineConsentState().catch((error) => {\n\t\t\twindow.guardian.modules.sentry.reportError(\n\t\t\t\terror instanceof Error ? error : new Error(`Error: unknown`),\n\t\t\t\t'youtube-consent',\n\t\t\t);\n\t\t});\n\t}, []);\n\n\tconst shouldLimitWidth =\n\t\t!isMainMedia &&\n\t\t(role === 'showcase' || role === 'supporting' || role === 'immersive');\n\n\tif (expired) {\n\t\treturn (\n\t\t\t<figure\n\t\t\t\tcss={css`\n\t\t\t\t\tmargin-top: 16px;\n\t\t\t\t\tmargin-bottom: 16px;\n\t\t\t\t`}\n\t\t\t>\n\t\t\t\t<div css={expiredOverlayStyles(overrideImage)}>\n\t\t\t\t\t<div css={expiredTextWrapperStyles}>\n\t\t\t\t\t\t<div css={expiredSVGWrapperStyles}>\n\t\t\t\t\t\t\t<SvgAlertRound />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<p\n\t\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\t\t${body.medium({\n\t\t\t\t\t\t\t\t\tlineHeight: 'tight',\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tThis video has been removed. This could be because\n\t\t\t\t\t\t\tit launched early, our rights have expired, there\n\t\t\t\t\t\t\twas a legal issue, or for another reason.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{!hideCaption && (\n\t\t\t\t\t<Caption\n\t\t\t\t\t\tcaptionText={mediaTitle ?? ''}\n\t\t\t\t\t\tformat={format}\n\t\t\t\t\t\tdisplayCredit={false}\n\t\t\t\t\t\tshouldLimitWidth={shouldLimitWidth}\n\t\t\t\t\t\tmediaType=\"Video\"\n\t\t\t\t\t\tisMainMedia={isMainMedia}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</figure>\n\t\t);\n\t}\n\n\tconst ophanTracking = (trackingEvent: string) => {\n\t\tif (!id) return;\n\t\trecord({\n\t\t\tvideo: {\n\t\t\t\tid: `gu-video-youtube-${id}`,\n\t\t\t\teventType: `video:content:${trackingEvent}`,\n\t\t\t},\n\t\t});\n\t};\n\n\tconst gaTracking = (trackingEvent: string) => {\n\t\tif (!id) return;\n\t\ttrackVideoInteraction({\n\t\t\ttrackingEvent,\n\t\t\telementId: id,\n\t\t});\n\t};\n\n\treturn (\n\t\t<div data-chromatic=\"ignore\" data-component=\"youtube-atom\">\n\t\t\t<YoutubeAtom\n\t\t\t\telementId={elementId}\n\t\t\t\tvideoId={assetId}\n\t\t\t\toverrideImage={\n\t\t\t\t\toverrideImage\n\t\t\t\t\t\t? [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tsrcSet: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tsrc: overrideImage,\n\t\t\t\t\t\t\t\t\t\t\twidth: 500, // we do not have width for overlayImage so set a random number\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t  ]\n\t\t\t\t\t\t: undefined\n\t\t\t\t}\n\t\t\t\tposterImage={\n\t\t\t\t\tposterImage\n\t\t\t\t\t\t? [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tsrcSet: posterImage.map((img) => ({\n\t\t\t\t\t\t\t\t\t\tsrc: img.url,\n\t\t\t\t\t\t\t\t\t\twidth: img.width,\n\t\t\t\t\t\t\t\t\t})),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t  ]\n\t\t\t\t\t\t: undefined\n\t\t\t\t}\n\t\t\t\trole={role}\n\t\t\t\talt={altText ?? mediaTitle ?? ''}\n\t\t\t\tadTargeting={adTargeting}\n\t\t\t\tconsentState={consentState}\n\t\t\t\theight={height}\n\t\t\t\twidth={width}\n\t\t\t\ttitle={mediaTitle}\n\t\t\t\tduration={duration}\n\t\t\t\teventEmitters={[ophanTracking, gaTracking]}\n\t\t\t\tpillar={format.theme}\n\t\t\t\torigin={process.env.NODE_ENV === 'development' ? '' : origin}\n\t\t\t\tshouldStick={stickyVideos}\n\t\t\t\tisMainMedia={isMainMedia}\n\t\t\t\timaEnabled={imaEnabled}\n\t\t\t\tabTestParticipations={abTestParticipations}\n\t\t\t/>\n\t\t\t{!hideCaption && (\n\t\t\t\t<Caption\n\t\t\t\t\tcaptionText={mediaTitle ?? ''}\n\t\t\t\t\tformat={format}\n\t\t\t\t\tdisplayCredit={false}\n\t\t\t\t\tshouldLimitWidth={shouldLimitWidth}\n\t\t\t\t\tmediaType=\"Video\"\n\t\t\t\t\tisMainMedia={isMainMedia}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n","import type { ABTest } from '@guardian/ab-core';\n\nexport const abTestTest: ABTest = {\n\tid: 'AbTestTest',\n\tstart: '2020-05-20',\n\texpiry: '2023-12-01',\n\tauthor: 'gtrufitt',\n\tdescription: 'This Test',\n\taudience: 0.0001, // 0.01%\n\taudienceOffset: 0,\n\tsuccessMeasure: 'It works',\n\taudienceCriteria: 'Everyone',\n\tidealOutcome: 'It works',\n\tshowForSensitive: true,\n\tcanRun: () => true,\n\tvariants: [\n\t\t{\n\t\t\tid: 'control',\n\t\t\ttest: (): void => {},\n\t\t\timpression: (impression: () => void): void => {\n\t\t\t\timpression();\n\t\t\t},\n\t\t\tsuccess: (success: () => void): void => {\n\t\t\t\tsuccess();\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tid: 'variant',\n\t\t\ttest: (): void => {},\n\t\t\timpression: (impression: () => void): void => {\n\t\t\t\timpression();\n\t\t\t},\n\t\t\tsuccess: (success: () => void): void => {\n\t\t\t\tsuccess();\n\t\t\t},\n\t\t},\n\t],\n};\n","import type { ABTest } from '@guardian/ab-core';\n\nexport const integrateIma: ABTest = {\n\tid: 'IntegrateIma',\n\tstart: '2022-07-14',\n\texpiry: '2023-04-04',\n\tauthor: 'Zeke Hunter-Green',\n\tdescription:\n\t\t'Test the commercial impact of replacing YouTube ads with Interactive Media Ads on first-party videos',\n\taudience: 0,\n\taudienceOffset: 0,\n\taudienceCriteria: 'Opt in',\n\tsuccessMeasure:\n\t\t'IMA integration works as expected without adversely affecting pages with videos',\n\tcanRun: () => true,\n\tvariants: [\n\t\t{ id: 'control', test: (): void => {} },\n\t\t{ id: 'variant', test: (): void => {} },\n\t],\n};\n","import type { ABTest } from '@guardian/ab-core';\n\nexport const signInGateCopyTestJan2023: ABTest = {\n\tid: 'SignInGateCopyTestJan2023',\n\tstart: '2023-01-23',\n\texpiry: '2025-12-01',\n\tauthor: 'Lindsey Dew',\n\tdescription: 'Test varying the copy in the call to action for sign in gate',\n\taudience: 0.0,\n\taudienceOffset: 0.0,\n\tsuccessMeasure: 'Users sign in or create a Guardian account',\n\taudienceCriteria:\n\t\t'3rd article of the day, lower priority than consent banner, simple articles (not gallery, live etc.), not signed in, not shown after dismiss, not on help, info sections etc. Exclude iOS 9 and guardian-live-australia. Suppresses other banners, and appears over epics',\n\tdataLinkNames: 'SignInGateCopyTest',\n\tidealOutcome:\n\t\t'One variants performs at least 2% better than the control and/OR 10% better than the other variant. Neither variant performs 5% worse than the control',\n\tshowForSensitive: false,\n\tcanRun: () => true,\n\tvariants: [\n\t\t{\n\t\t\tid: 'quick-and-easy',\n\t\t\ttest: (): void => {},\n\t\t},\n\t\t{\n\t\t\tid: 'take-a-moment',\n\t\t\ttest: (): void => {},\n\t\t},\n\t\t{\n\t\t\tid: 'sign-in-copy-control',\n\t\t\ttest: (): void => {},\n\t\t},\n\t],\n};\n","import type { ABTest } from '@guardian/ab-core';\n\nexport const signInGateMainControl: ABTest = {\n\tid: 'SignInGateMainControl',\n\tstart: '2020-05-20',\n\texpiry: '2025-12-01',\n\tauthor: 'Mahesh Makani',\n\tdescription:\n\t\t'Show sign in gate to 100% of users on 3rd article view of simple article templates, and show a further 5 times after the first dismissal, with higher priority over banners and epic. Control Audience.',\n\taudience: 0.1,\n\taudienceOffset: 0.9,\n\tsuccessMeasure: 'N/A - User does not see gate, only to compare to variant.',\n\taudienceCriteria:\n\t\t'3rd article of the day, lower priority than consent banner, simple articles (not gallery, live etc.), not signed in, not shown after dismiss, not on help, info sections etc. Exclude iOS 9 and guardian-live-australia. Suppresses other banners, and appears over epics',\n\tdataLinkNames: 'SignInGateMain',\n\tidealOutcome:\n\t\t'Increase the number of users signed in whilst running at a reasonable scale',\n\tshowForSensitive: false,\n\tcanRun: () => true,\n\tvariants: [\n\t\t{\n\t\t\tid: 'main-control-4',\n\t\t\ttest: (): void => {},\n\t\t},\n\t],\n};\n","import type { ABTest } from '@guardian/ab-core';\n\nexport const signInGateMainVariant: ABTest = {\n\tid: 'SignInGateMainVariant',\n\tstart: '2020-06-09',\n\texpiry: '2025-12-01',\n\tauthor: 'Mahesh Makani',\n\tdescription:\n\t\t'Show sign in gate to 100% of users on 3rd article view of simple article templates, and show a further 5 times after the first dismissal, with higher priority over banners and epic. Main/Variant Audience.',\n\taudience: 0.9,\n\taudienceOffset: 0.0,\n\tsuccessMeasure: 'Users sign in or create a Guardian account',\n\taudienceCriteria:\n\t\t'3rd article of the day, lower priority than consent banner, simple articles (not gallery, live etc.), not signed in, not shown after dismiss, not on help, info sections etc. Exclude iOS 9 and guardian-live-australia. Suppresses other banners, and appears over epics',\n\tdataLinkNames: 'SignInGateMain',\n\tidealOutcome:\n\t\t'Increase the number of users signed in whilst running at a reasonable scale',\n\tshowForSensitive: false,\n\tcanRun: () => true,\n\tvariants: [\n\t\t{\n\t\t\tid: 'main-variant-4',\n\t\t\ttest: (): void => {},\n\t\t},\n\t],\n};\n","import { css } from '@emotion/react';\nimport { ArticleDesign } from '@guardian/libs';\nimport { from, until } from '@guardian/source-foundations';\nimport type { RoleType } from '../../../types/content';\nimport { center } from '../../lib/center';\n\nexport const isInteractive = (design: ArticleDesign): boolean =>\n\tdesign === ArticleDesign.Interactive;\n\nexport const interactiveLegacyFigureClasses = (\n\telementType: string,\n\trole?: RoleType,\n): string => {\n\tconst elementClasses: { [key: string]: string } = {\n\t\t'model.dotcomrendering.pageElements.InteractiveAtomBlockElement':\n\t\t\t'element-atom',\n\t\t'model.dotcomrendering.pageElements.InteractiveBlockElement':\n\t\t\t'element-interactive',\n\t};\n\n\tconst roleClass = role ? ` element-${role}` : '';\n\tconst elementClass = elementClasses[elementType] ?? '';\n\tconst legacyRoleClass = role ? ` element--${role}` : '';\n\treturn `element ${elementClass}${legacyRoleClass}${roleClass}`;\n};\n\n// Classes present in Frontend that we add for legacy interactives.\nexport const interactiveLegacyClasses = {\n\tcontentInteractive: 'content--interactive',\n\tcontentLabels: 'content__labels',\n\tcontentLabelsNotImmersive: 'content__labels--not-immersive',\n\tcontentMainColumn: 'content__main-column--interactive',\n\theadline: 'content__headline',\n\tlabelLink: 'content__label__link',\n\tmetaContainer: 'content__meta-container_dcr',\n\tstandFirst: 'content__standfirst',\n\tbyline: 'byline',\n\tshareIcons: 'meta__social',\n\tshareAndCommentCounts: 'meta__comment',\n\n\t// some legacy interactives do not use the content--interactive container\n\t// to ensure all editorial content has correct font, we need to target this too\n\tinteractiveWrapper: 'interactive-wrapper',\n};\n\n// Styles expected by interactives from the Frontend days. These shouldn't be\n// used for new interactives though.\nexport const interactiveGlobalStyles = css`\n\t/* Scope this as tightly as possible. Otherwise, e.g. box-model will break\n\tfooter. */\n\tbody article {\n\t\t*:before,\n\t\t*:after {\n\t\t\tbox-sizing: content-box;\n\t\t}\n\n\t\t.fc-container__inner,\n\t\t.gs-container {\n\t\t\t${center}\n\t\t}\n\n\t\t/* There is room for better solution where we don't have to load global styles onto the body.\n\t\t\tFor now this works, but we shouldn't support for it for newly made interactives. */\n\t\t.${interactiveLegacyClasses.contentInteractive},\n\t\t\t.${interactiveLegacyClasses.interactiveWrapper} {\n\t\t\tmargin-bottom: 1rem;\n\n\t\t\t/* stylelint-disable */\n\t\t\tfont-family: GuardianTextEgyptian, Guardian Text Egyptian Web,\n\t\t\t\tGeorgia, serif;\n\t\t\t/* stylelint-enable */\n\n\t\t\tfont-size: 1.0625rem;\n\t\t\tline-height: 1.5;\n\t\t\tfont-weight: 400;\n\t\t}\n\n\t\tbutton,\n\t\tinput,\n\t\toptgroup,\n\t\tselect,\n\t\ttextarea {\n\t\t\tcolor: inherit;\n\t\t}\n\n\t\tbutton,\n\t\thtml input[type='button'],\n\t\tinput[type='reset'],\n\t\tinput[type='submit'] {\n\t\t\tcursor: pointer;\n\t\t}\n\n\t\t/* Start social icon support */\n\t\t.meta__social {\n\t\t\tpadding-top: 0.375rem;\n\t\t}\n\n\t\t.social__item {\n\t\t\tfloat: left;\n\t\t\tmin-width: 2rem;\n\t\t\tpadding: 0 0.1875rem 0.375rem 0;\n\t\t\tcursor: pointer;\n\n\t\t\t.inline-icon__fallback {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\n\t\t\t.inline-icon {\n\t\t\t\tbackground-color: transparent;\n\t\t\t\tborder: 1px solid #dcdcdc; /* stylelint-disable-line */\n\t\t\t\ttransition: fill 0.3s ease, background-color 0.3s ease;\n\t\t\t}\n\n\t\t\t.social-icon {\n\t\t\t\twhite-space: nowrap;\n\t\t\t\toverflow: hidden;\n\t\t\t\ttext-overflow: ellipsis;\n\t\t\t\tborder: 0;\n\t\t\t\tmin-width: 2rem;\n\t\t\t\tmax-width: 100%;\n\t\t\t\twidth: auto;\n\t\t\t\theight: 2rem;\n\t\t\t\tsvg {\n\t\t\t\t\theight: 88%;\n\t\t\t\t\twidth: 88%;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t.rounded-icon {\n\t\t\t\tborder-radius: 62.5rem;\n\t\t\t\tdisplay: inline-block;\n\t\t\t\tvertical-align: middle;\n\t\t\t\tposition: relative;\n\t\t\t}\n\n\t\t\t.centered-icon svg {\n\t\t\t\ttop: 0;\n\t\t\t\tbottom: 0;\n\t\t\t\tright: 0;\n\t\t\t\tleft: 0;\n\t\t\t\tmargin: auto;\n\t\t\t\tposition: absolute;\n\t\t\t}\n\t\t}\n\n\t\t.content__dateline {\n\t\t\tfont-size: 0.75rem;\n\t\t\tline-height: 1rem;\n\t\t\tposition: relative;\n\t\t\tbox-sizing: border-box;\n\t\t\tpadding-top: 0.125rem;\n\t\t\tmargin-bottom: 0.375rem;\n\t\t}\n\t\t/* End social icon support */\n\n\t\t/* Typically required for ad display. */\n\t\t${until.tablet} {\n\t\t\t.hide-until-tablet {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\n\t\t${from.tablet} {\n\t\t\t.mobile-only {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\n\t\t.interactive-atom {\n\t\t\tposition: relative;\n\t\t}\n\n\t\tol,\n\t\tul {\n\t\t\tpadding: 0;\n\t\t\tmargin-left: 1.5625rem;\n\t\t}\n\t}\n`;\n","import type { OphanComponentType } from '@guardian/libs';\nimport { constructQuery } from '../../lib/querystring';\n\ntype AcquisitionLinkParams = {\n\tbase: string;\n\tcomponentType: OphanComponentType;\n\tcomponentId: string;\n\tcampaignCode?: string;\n\tabTest?: { name: string; variant: string };\n\tpageViewId: string;\n\treferrerUrl: string;\n};\n\n// Adds acquisition tracking codes if it is a support url\nexport const addTrackingCodesToUrl = ({\n\tbase,\n\tcomponentType,\n\tcomponentId,\n\tcampaignCode,\n\tabTest,\n\tpageViewId,\n\treferrerUrl,\n}: AcquisitionLinkParams): string => {\n\tconst isSupportUrl =\n\t\tbase.search(\n\t\t\t/(support.theguardian.com)(\\/[a-z]*)?\\/(contribute|subscribe)/,\n\t\t) >= 0;\n\n\tif (isSupportUrl) {\n\t\tconst acquisitionData = {\n\t\t\tsource: 'GUARDIAN_WEB',\n\t\t\tcomponentId,\n\t\t\tcomponentType,\n\t\t\tcampaignCode,\n\t\t\tabTest,\n\t\t\treferrerPageviewId: pageViewId,\n\t\t\treferrerUrl,\n\t\t};\n\n\t\tconst params = {\n\t\t\tREFPVID: pageViewId,\n\t\t\tINTCMP: campaignCode,\n\t\t\tacquisitionData: JSON.stringify(acquisitionData),\n\t\t};\n\n\t\treturn `${base}${base.includes('?') ? '&' : '?'}${constructQuery(\n\t\t\tparams,\n\t\t)}`;\n\t}\n\n\treturn base;\n};\n","const AlreadyVisitedKey = 'gu.alreadyVisited';\n\nexport const getAlreadyVisitedCount = (): number => {\n\tconst alreadyVisited = parseInt(\n\t\tlocalStorage.getItem(AlreadyVisitedKey) ?? '',\n\t\t10,\n\t);\n\treturn !Number.isNaN(alreadyVisited) ? alreadyVisited : 0;\n};\n\nexport const setAlreadyVisited = (count: number): void => {\n\tlocalStorage.setItem(AlreadyVisitedKey, count.toString());\n};\n\nexport const incrementAlreadyVisited = (): void => {\n\tconst alreadyVisited = getAlreadyVisitedCount();\n\tsetAlreadyVisited(alreadyVisited + 1);\n};\n","const FORCE_BRAZE_ALLOWLIST = [\n\t'preview.gutools.co.uk',\n\t'preview.code.dev-gutools.co.uk',\n\tprocess.env.HOSTNAME ?? 'localhost',\n\t'm.thegulocal.com',\n];\n\ntype Meta = {\n\tdataFromBraze: {\n\t\t[key: string]: string;\n\t};\n\tlogImpressionWithBraze: () => void;\n\tlogButtonClickWithBraze: (id: number) => void;\n};\n\nexport const getBrazeMetaFromUrlFragment = (): Meta | null => {\n\tif (window.location.hash) {\n\t\t// This is intended for use on development domains for preview purposes.\n\t\t// It won't run in PROD.\n\n\t\tconst key = 'force-braze-message';\n\n\t\tconst hashString = window.location.hash;\n\n\t\tif (hashString.includes(key)) {\n\t\t\tif (!FORCE_BRAZE_ALLOWLIST.includes(window.location.hostname)) {\n\t\t\t\tconsole.log(`${key} is not supported on this domain`);\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst forcedMessage = hashString.slice(\n\t\t\t\thashString.indexOf(`${key}=`) + key.length + 1,\n\t\t\t\thashString.length,\n\t\t\t);\n\n\t\t\ttry {\n\t\t\t\tconst dataFromBraze = JSON.parse(\n\t\t\t\t\tdecodeURIComponent(forcedMessage),\n\t\t\t\t);\n\n\t\t\t\treturn {\n\t\t\t\t\tdataFromBraze,\n\t\t\t\t\tlogImpressionWithBraze: () => {},\n\t\t\t\t\tlogButtonClickWithBraze: () => {},\n\t\t\t\t};\n\t\t\t} catch (e) {\n\t\t\t\tconst error = e as Error;\n\t\t\t\t// Parsing failed. Log a message and fall through.\n\n\t\t\t\tconsole.log(`There was an error with ${key}: `, error.message);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn null;\n};\n","import { TagType } from '../../../types/tag';\n\nconst tagId = 'news/series/cotton-capital';\n\nexport const suppressForTaylorReport = (tags: TagType[]): boolean =>\n\twindow.guardian.config.switches.brazeTaylorReport === true &&\n\t!tags.find((tag) => tag.id === tagId);\n","import { css } from '@emotion/react';\nimport { from } from '@guardian/source-foundations';\n\nexport const center = css`\n\tposition: relative;\n\tmargin: auto;\n\n\t${from.tablet} {\n\t\tmax-width: 740px;\n\t}\n\n\t${from.desktop} {\n\t\tmax-width: 980px;\n\t}\n\n\t${from.leftCol} {\n\t\tmax-width: 1140px;\n\t}\n\n\t${from.wide} {\n\t\tmax-width: 1300px;\n\t}\n`;\n","import { onConsentChange } from '@guardian/consent-management-platform';\nimport { getCookie } from '@guardian/libs';\nimport type { HeaderPayload } from '@guardian/support-dotcom-components/dist/dotcom/src/types';\nimport { useState } from 'react';\nimport type { FEArticleType } from '../../types/frontend';\nimport type { IdApiUserData } from './getIdapiUserData';\nimport { getIdApiUserData } from './getIdapiUserData';\nimport { useOnce } from './useOnce';\n\n// User Atributes API cookies (dropped on sign-in)\nexport const HIDE_SUPPORT_MESSAGING_COOKIE = 'gu_hide_support_messaging';\nexport const RECURRING_CONTRIBUTOR_COOKIE = 'gu_recurring_contributor';\nexport const ONE_OFF_CONTRIBUTION_DATE_COOKIE = 'gu_one_off_contribution_date';\nexport const OPT_OUT_OF_ARTICLE_COUNT_COOKIE = 'gu_article_count_opt_out';\n\n// Support Frontend cookies (dropped when contribution is made)\nexport const SUPPORT_RECURRING_CONTRIBUTOR_MONTHLY_COOKIE =\n\t'gu.contributions.recurring.contrib-timestamp.Monthly';\nexport const SUPPORT_RECURRING_CONTRIBUTOR_ANNUAL_COOKIE =\n\t'gu.contributions.recurring.contrib-timestamp.Annual';\nexport const SUPPORT_ONE_OFF_CONTRIBUTION_COOKIE =\n\t'gu.contributions.contrib-timestamp';\n\n//  Local storage keys\nconst DAILY_ARTICLE_COUNT_KEY = 'gu.history.dailyArticleCount';\nconst WEEKLY_ARTICLE_COUNT_KEY = 'gu.history.weeklyArticleCount';\nexport const NO_RR_BANNER_TIMESTAMP_KEY = 'gu.noRRBannerTimestamp'; // timestamp of when we were last told not to show a RR banner\n\n// See https://github.com/guardian/support-dotcom-components/blob/main/module-versions.md\nexport const MODULES_VERSION = 'v3';\n\n// Cookie set by the User Attributes API upon signing in.\n// Value computed server-side and looks at all of the user's active products,\n// including but not limited to recurring & one-off contributions,\n// paper & digital subscriptions, as well as user tiers (GU supporters/staff/partners/patrons).\n// https://github.com/guardian/members-data-api/blob/3a72dc00b9389968d91e5930686aaf34d8040c52/membership-attribute-service/app/models/Attributes.scala\nconst shouldShowSupportMessaging = (): boolean => {\n\tconst hideSupportMessaging =\n\t\tgetCookie({ name: HIDE_SUPPORT_MESSAGING_COOKIE }) === 'true';\n\n\treturn !hideSupportMessaging;\n};\n\n// Determine if user is a recurring contributor by checking if they are signed in\n// AND have at least one of the relevant cookies.\n// We need to look at both User Attributes and Frontend Support cookies\n// as the former might not reflect the latest contributor status, since it's set upon signing in.\n// Frontend Support cookies are set when a contribution is made.\nexport const isRecurringContributor = (isSignedIn: boolean): boolean => {\n\t// Attributes cookie - we want this to have a specific value\n\tconst isRecurringContributorFromAttrs =\n\t\tgetCookie({ name: RECURRING_CONTRIBUTOR_COOKIE }) === 'true';\n\n\t// Support cookies - we only care whether these exist\n\tconst hasMonthlyContributionCookie =\n\t\tgetCookie({\n\t\t\tname: SUPPORT_RECURRING_CONTRIBUTOR_MONTHLY_COOKIE,\n\t\t\tshouldMemoize: true,\n\t\t}) !== null;\n\tconst hasAnnualContributionCookie =\n\t\tgetCookie({\n\t\t\tname: SUPPORT_RECURRING_CONTRIBUTOR_ANNUAL_COOKIE,\n\t\t\tshouldMemoize: true,\n\t\t}) !== null;\n\n\treturn (\n\t\tisSignedIn &&\n\t\t(isRecurringContributorFromAttrs ||\n\t\t\thasMonthlyContributionCookie ||\n\t\t\thasAnnualContributionCookie)\n\t);\n};\n\n// looks at attribute and support cookies\n// ONE_OFF_CONTRIBUTION_DATE_COOKIE (attributes cookie, when loggin in)\n// SUPPORT_ONE_OFF_CONTRIBUTION_COOKIE (support cookie, when making one-off contribution)\n// Get the date of the latest one-off contribution by looking at the two relevant cookies\n// and returning a Unix epoch string of the latest date found.\nexport const getLastOneOffContributionTimestamp = (): number | undefined => {\n\t// Attributes cookie - expects YYYY-MM-DD\n\tconst contributionDateFromAttributes = getCookie({\n\t\tname: ONE_OFF_CONTRIBUTION_DATE_COOKIE,\n\t});\n\n\t// Support cookies - expects Unix epoch\n\tconst contributionDateFromSupport = getCookie({\n\t\tname: SUPPORT_ONE_OFF_CONTRIBUTION_COOKIE,\n\t});\n\n\tif (!contributionDateFromAttributes && !contributionDateFromSupport) {\n\t\treturn undefined;\n\t}\n\n\t// Parse dates into common format so they can be compared\n\tconst parsedDateFromAttributes = contributionDateFromAttributes\n\t\t? Date.parse(contributionDateFromAttributes)\n\t\t: 0;\n\tconst parsedDateFromSupport = contributionDateFromSupport\n\t\t? parseInt(contributionDateFromSupport, 10)\n\t\t: 0;\n\n\t// Return most recent date\n\t// Condition only passed if 'parsedDateFromAttributes' is NOT NaN\n\tif (parsedDateFromAttributes > parsedDateFromSupport) {\n\t\treturn parsedDateFromAttributes;\n\t}\n\n\treturn parsedDateFromSupport || undefined; // This guards against 'parsedDateFromSupport' being NaN\n};\n\nexport const getLastOneOffContributionDate = (): string | undefined => {\n\tconst timestamp = getLastOneOffContributionTimestamp();\n\n\tif (timestamp === undefined) {\n\t\treturn undefined;\n\t}\n\n\tconst date = new Date(timestamp);\n\tconst year = date.getFullYear();\n\tconst month = (date.getMonth() + 1).toString().padStart(2, '0');\n\tconst day = date.getDate().toString().padStart(2, '0');\n\n\treturn `${year}-${month}-${day}`;\n};\n\nconst dateDiffDays = (from: number, to: number): number => {\n\tconst oneDayMs = 1000 * 60 * 60 * 24;\n\tconst diffMs = to - from;\n\treturn Math.floor(diffMs / oneDayMs);\n};\n\nconst AskPauseDays = 90;\n\nexport const isRecentOneOffContributor = (): boolean => {\n\tconst lastContributionDate = getLastOneOffContributionTimestamp();\n\tif (lastContributionDate !== undefined) {\n\t\tconst now = Date.now();\n\t\treturn dateDiffDays(lastContributionDate, now) <= AskPauseDays;\n\t}\n\n\treturn false;\n};\n\nexport const shouldHideSupportMessaging = (isSignedIn = false): boolean =>\n\t!shouldShowSupportMessaging() ||\n\tisRecurringContributor(isSignedIn) ||\n\tisRecentOneOffContributor();\n\nexport const REQUIRED_CONSENTS_FOR_ARTICLE_COUNT = [1, 3, 7];\nconst REQUIRED_CONSENTS_FOR_BROWSER_ID = [1, 3, 5, 7];\n\nexport const hasArticleCountOptOutCookie = (): boolean =>\n\tgetCookie({ name: OPT_OUT_OF_ARTICLE_COUNT_COOKIE }) !== null;\n\nconst removeArticleCountsFromLocalStorage = () => {\n\twindow.localStorage.removeItem(DAILY_ARTICLE_COUNT_KEY);\n\twindow.localStorage.removeItem(WEEKLY_ARTICLE_COUNT_KEY);\n};\n\nexport const hasCmpConsentForArticleCount = (): Promise<boolean> => {\n\treturn new Promise((resolve) => {\n\t\tif (getCookie({ name: 'gu-cmp-disabled', shouldMemoize: true })) {\n\t\t\tresolve(true);\n\t\t}\n\t\tonConsentChange(({ ccpa, tcfv2, aus }) => {\n\t\t\tif (ccpa || aus) {\n\t\t\t\tresolve(true);\n\t\t\t} else if (tcfv2) {\n\t\t\t\tconst hasRequiredConsents =\n\t\t\t\t\tREQUIRED_CONSENTS_FOR_ARTICLE_COUNT.every(\n\t\t\t\t\t\t(consent) => tcfv2.consents[consent],\n\t\t\t\t\t);\n\n\t\t\t\tif (!hasRequiredConsents) {\n\t\t\t\t\tremoveArticleCountsFromLocalStorage();\n\t\t\t\t}\n\t\t\t\tresolve(hasRequiredConsents);\n\t\t\t}\n\t\t});\n\t});\n};\n\nexport const hasOptedOutOfArticleCount = async (): Promise<boolean> => {\n\tconst hasCmpConsent = await hasCmpConsentForArticleCount();\n\treturn !hasCmpConsent || hasArticleCountOptOutCookie();\n};\n\n// A hook to find out if a user has opted out of article counting\nexport const useHasOptedOutOfArticleCount = (): boolean | 'Pending' => {\n\tconst [hasOptedOut, setHasOptedOut] = useState<boolean | 'Pending'>(\n\t\t'Pending',\n\t);\n\n\tuseOnce(() => {\n\t\thasOptedOutOfArticleCount()\n\t\t\t.then(setHasOptedOut)\n\t\t\t.catch(() => setHasOptedOut(true));\n\t}, []);\n\n\treturn hasOptedOut;\n};\n\nexport const hasCmpConsentForBrowserId = (): Promise<boolean> =>\n\tnew Promise((resolve) => {\n\t\tif (getCookie({ name: 'gu-cmp-disabled', shouldMemoize: true })) {\n\t\t\tresolve(true);\n\t\t}\n\t\tonConsentChange(({ ccpa, tcfv2, aus }) => {\n\t\t\tif (ccpa || aus) {\n\t\t\t\tresolve(true);\n\t\t\t} else if (tcfv2) {\n\t\t\t\tconst hasRequiredConsents =\n\t\t\t\t\tREQUIRED_CONSENTS_FOR_BROWSER_ID.every(\n\t\t\t\t\t\t(consent) => tcfv2.consents[consent],\n\t\t\t\t\t);\n\t\t\t\tresolve(hasRequiredConsents);\n\t\t\t}\n\t\t});\n\t});\n\nconst twentyMins = 20 * 60000;\nexport const withinLocalNoBannerCachePeriod = (): boolean => {\n\tconst item = window.localStorage.getItem(NO_RR_BANNER_TIMESTAMP_KEY);\n\tif (item && !Number.isNaN(parseInt(item, 10))) {\n\t\tconst withinCachePeriod = parseInt(item, 10) + twentyMins > Date.now();\n\t\tif (!withinCachePeriod) {\n\t\t\t// Expired\n\t\t\twindow.localStorage.removeItem(NO_RR_BANNER_TIMESTAMP_KEY);\n\t\t}\n\t\treturn withinCachePeriod;\n\t}\n\treturn false;\n};\n\nexport const setLocalNoBannerCachePeriod = (): void =>\n\twindow.localStorage.setItem(NO_RR_BANNER_TIMESTAMP_KEY, `${Date.now()}`);\n\nconst getEmail = (ajaxUrl: string): Promise<string | undefined> => {\n\treturn getIdApiUserData(ajaxUrl)\n\t\t.then((data: IdApiUserData) => data.user?.primaryEmailAddress)\n\t\t.catch((error) => {\n\t\t\twindow.guardian.modules.sentry.reportError(error, 'getEmail');\n\t\t\treturn undefined;\n\t\t});\n};\n\nexport const lazyFetchEmailWithTimeout =\n\t(idapiUrl: string): (() => Promise<string | null>) =>\n\t() => {\n\t\treturn new Promise((resolve) => {\n\t\t\tsetTimeout(() => resolve(null), 1000);\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-floating-promises\n\t\t\tgetEmail(idapiUrl).then((email) => {\n\t\t\t\tif (email) {\n\t\t\t\t\tresolve(email);\n\t\t\t\t} else {\n\t\t\t\t\tresolve(null);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t};\n\nexport const getContributionsServiceUrl = (article: FEArticleType): string =>\n\tprocess.env.SDC_URL ?? article.contributionsServiceUrl;\n\ntype PurchaseInfo = HeaderPayload['targeting']['purchaseInfo'];\nexport const getPurchaseInfo = (): PurchaseInfo => {\n\tconst purchaseInfoRaw = getCookie({\n\t\tname: 'GU_CO_COMPLETE',\n\t\tshouldMemoize: true,\n\t});\n\n\tif (!purchaseInfoRaw) {\n\t\treturn undefined;\n\t}\n\n\tlet purchaseInfo: PurchaseInfo;\n\n\ttry {\n\t\tpurchaseInfo = JSON.parse(decodeURIComponent(purchaseInfoRaw));\n\t} catch {} // eslint-disable-line no-empty -- silently handle error\n\n\treturn purchaseInfo;\n};\n","export interface DailyArticle {\n\tday: number;\n\tcount: number;\n}\n\nexport type DailyArticleHistory = Array<DailyArticle>;\n\n// in localStorage, has format {\"value\":[{\"day\":18459,\"count\":1},{\"day\":18457,\"count\":1},{\"day\":18446,\"count\":1}]} to match frontend\ninterface DailyArticleCountLocalStorage {\n\tvalue: DailyArticleHistory;\n}\n\nexport const DailyArticleCountKey = 'gu.history.dailyArticleCount';\n\n// Returns undefined if no daily article count in local storage\nexport const getDailyArticleCount = (): DailyArticleHistory | undefined => {\n\tconst dailyCount = localStorage.getItem(DailyArticleCountKey);\n\n\tif (!dailyCount) {\n\t\treturn undefined;\n\t}\n\n\ttry {\n\t\tconst { value }: DailyArticleCountLocalStorage = JSON.parse(dailyCount);\n\n\t\t// check if value parsed correctly\n\t\tif (!value.length) {\n\t\t\tthrow new Error('Invalid gu.history.dailyArticleCount value');\n\t\t}\n\n\t\treturn value;\n\t} catch (e) {\n\t\t// error parsing the string, so remove the key\n\t\tlocalStorage.removeItem(DailyArticleCountKey);\n\t\treturn undefined;\n\t}\n};\n\nexport const getToday = (): number => Math.floor(Date.now() / 86_400_000);\n\nexport const incrementDailyArticleCount = (): void => {\n\t// get the daily article count from local storage\n\tconst dailyArticleCount = getDailyArticleCount() ?? [];\n\n\t// calculate days since unix epoch for today date\n\tconst today = getToday();\n\n\t// check if latest day is today and increment if so\n\tif (dailyArticleCount[0]?.day === today) {\n\t\tdailyArticleCount[0].count += 1;\n\t} else {\n\t\t// else set new day\n\t\tdailyArticleCount.unshift({ day: today, count: 1 });\n\n\t\t// remove any days older than 60\n\t\tconst cutOff = today - 60;\n\n\t\tconst firstOldDayIndex = dailyArticleCount.findIndex(\n\t\t\t(dailyCount) => dailyCount.day && dailyCount.day < cutOff,\n\t\t);\n\n\t\tif (firstOldDayIndex > 0) {\n\t\t\tdailyArticleCount.splice(firstOldDayIndex);\n\t\t}\n\t}\n\n\t// set the latest article count\n\tlocalStorage.setItem(\n\t\tDailyArticleCountKey,\n\t\tJSON.stringify({\n\t\t\tvalue: dailyArticleCount,\n\t\t} as DailyArticleCountLocalStorage),\n\t);\n};\n","import { palette } from '@guardian/source-foundations';\nimport type { DCRContainerPalette } from '../../types/front';\nimport type { ContainerOverrides } from '../../types/palette';\nimport { transparentColour } from './transparentColour';\n\nconst {\n\tbrand,\n\tbrandAlt,\n\tculture,\n\tnews,\n\tneutral,\n\tspecialReport,\n\tspecialReportAlt,\n\tsport,\n} = palette;\n\nconst textCardHeadline = (containerPalette: DCRContainerPalette): string => {\n\tswitch (containerPalette) {\n\t\tcase 'LongRunningPalette':\n\t\t\treturn neutral[100];\n\t\tcase 'LongRunningAltPalette':\n\t\t\treturn neutral[7];\n\t\tcase 'SombrePalette':\n\t\t\treturn neutral[100];\n\t\tcase 'SombreAltPalette':\n\t\t\treturn neutral[100];\n\t\tcase 'InvestigationPalette':\n\t\t\treturn neutral[100];\n\t\tcase 'BreakingPalette':\n\t\t\treturn neutral[100];\n\t\tcase 'EventPalette':\n\t\t\treturn brand[300];\n\t\tcase 'EventAltPalette':\n\t\t\treturn brand[300];\n\t\tcase 'SpecialReportAltPalette':\n\t\t\treturn specialReportAlt[100];\n\t}\n};\n\nconst textCardStandfirst = textCardHeadline;\nconst textCardFooter = textCardHeadline;\n\nconst textCardKicker = (containerPalette: DCRContainerPalette): string => {\n\tswitch (containerPalette) {\n\t\tcase 'LongRunningPalette':\n\t\t\treturn news[550];\n\t\tcase 'LongRunningAltPalette':\n\t\t\treturn news[200];\n\t\tcase 'SombrePalette':\n\t\t\treturn brand[800];\n\t\tcase 'SombreAltPalette':\n\t\t\treturn news[500];\n\t\tcase 'InvestigationPalette':\n\t\t\treturn brandAlt[400];\n\t\tcase 'BreakingPalette':\n\t\t\treturn news[600];\n\t\tcase 'EventPalette':\n\t\t\treturn news[400];\n\t\tcase 'EventAltPalette':\n\t\t\treturn '#e2352d';\n\t\tcase 'SpecialReportAltPalette':\n\t\t\treturn specialReportAlt[100];\n\t}\n};\n\nconst textCardByline = textCardKicker;\n\nconst textContainerDate = (containerPalette: DCRContainerPalette): string => {\n\tswitch (containerPalette) {\n\t\tcase 'LongRunningPalette':\n\t\t\treturn news[400];\n\t\tcase 'LongRunningAltPalette':\n\t\t\treturn news[200];\n\t\tcase 'SombrePalette':\n\t\t\treturn brand[800];\n\t\tcase 'SombreAltPalette':\n\t\t\treturn news[500];\n\t\tcase 'InvestigationPalette':\n\t\t\treturn brandAlt[400];\n\t\tcase 'BreakingPalette':\n\t\t\treturn news[200];\n\t\tcase 'EventPalette':\n\t\t\treturn news[400];\n\t\tcase 'EventAltPalette':\n\t\t\treturn news[400];\n\t\tcase 'SpecialReportAltPalette':\n\t\t\treturn specialReportAlt[100];\n\t}\n};\n\nconst textCardCommentCount = (\n\tcontainerPalette: DCRContainerPalette,\n): string => {\n\tswitch (containerPalette) {\n\t\tcase 'LongRunningPalette':\n\t\t\treturn neutral[86];\n\t\tcase 'LongRunningAltPalette':\n\t\t\treturn neutral[46];\n\t\tcase 'SombrePalette':\n\t\t\treturn neutral[86];\n\t\tcase 'SombreAltPalette':\n\t\t\treturn neutral[60];\n\t\tcase 'InvestigationPalette':\n\t\t\treturn neutral[86];\n\t\tcase 'BreakingPalette':\n\t\t\treturn neutral[86];\n\t\tcase 'EventPalette':\n\t\t\treturn neutral[46];\n\t\tcase 'EventAltPalette':\n\t\t\treturn neutral[20];\n\t\tcase 'SpecialReportAltPalette':\n\t\t\treturn specialReportAlt[100];\n\t}\n};\n\nconst textDynamoHeadline = (containerPalette: DCRContainerPalette): string => {\n\tswitch (containerPalette) {\n\t\tcase 'LongRunningPalette':\n\t\t\treturn brand[400];\n\t\tcase 'LongRunningAltPalette':\n\t\t\treturn neutral[7];\n\t\tcase 'SombrePalette':\n\t\t\treturn neutral[100];\n\t\tcase 'SombreAltPalette':\n\t\t\treturn neutral[100];\n\t\tcase 'InvestigationPalette':\n\t\t\treturn neutral[100];\n\t\tcase 'BreakingPalette':\n\t\t\treturn neutral[7];\n\t\tcase 'EventPalette':\n\t\t\treturn brand[300];\n\t\tcase 'EventAltPalette':\n\t\t\treturn brand[300];\n\t\tcase 'SpecialReportAltPalette':\n\t\t\treturn specialReportAlt[100];\n\t}\n};\n\nconst textDynamoKicker = (containerPalette: DCRContainerPalette): string => {\n\tswitch (containerPalette) {\n\t\tcase 'LongRunningPalette':\n\t\t\treturn news[400];\n\t\tcase 'LongRunningAltPalette':\n\t\t\treturn news[200];\n\t\tcase 'SombrePalette':\n\t\t\treturn brand[800];\n\t\tcase 'SombreAltPalette':\n\t\t\treturn news[500];\n\t\tcase 'InvestigationPalette':\n\t\t\treturn brandAlt[400];\n\t\tcase 'BreakingPalette':\n\t\t\treturn news[200];\n\t\tcase 'EventPalette':\n\t\t\treturn news[400];\n\t\tcase 'EventAltPalette':\n\t\t\treturn news[400];\n\t\tcase 'SpecialReportAltPalette':\n\t\t\treturn neutral[7];\n\t}\n};\n\nconst textDynamoSublinkKicker = (\n\tcontainerPalette: DCRContainerPalette,\n): string => {\n\tswitch (containerPalette) {\n\t\tcase 'LongRunningPalette':\n\t\t\treturn news[550];\n\t\tcase 'LongRunningAltPalette':\n\t\t\treturn news[200];\n\t\tcase 'SombrePalette':\n\t\t\treturn brand[800];\n\t\tcase 'SombreAltPalette':\n\t\t\treturn news[500];\n\t\tcase 'InvestigationPalette':\n\t\t\treturn brandAlt[400];\n\t\tcase 'BreakingPalette':\n\t\t\treturn news[200];\n\t\tcase 'EventPalette':\n\t\t\treturn news[400];\n\t\tcase 'EventAltPalette':\n\t\t\treturn news[400];\n\t\tcase 'SpecialReportAltPalette':\n\t\t\treturn neutral[7];\n\t}\n};\n\nconst textDynamoMeta = (containerPalette: DCRContainerPalette): string => {\n\tswitch (containerPalette) {\n\t\tcase 'LongRunningPalette':\n\t\t\treturn brand[400];\n\t\tcase 'LongRunningAltPalette':\n\t\t\treturn neutral[86];\n\t\tcase 'SombrePalette':\n\t\t\treturn specialReport[300];\n\t\tcase 'SombreAltPalette':\n\t\t\treturn specialReport[100];\n\t\tcase 'InvestigationPalette':\n\t\t\treturn specialReport[300];\n\t\tcase 'BreakingPalette':\n\t\t\treturn news[200];\n\t\tcase 'EventPalette':\n\t\t\treturn neutral[93];\n\t\tcase 'EventAltPalette':\n\t\t\treturn neutral[93];\n\t\tcase 'SpecialReportAltPalette':\n\t\t\treturn specialReportAlt[800];\n\t}\n};\n\nconst textContainer = (containerPalette: DCRContainerPalette): string => {\n\tswitch (containerPalette) {\n\t\tcase 'LongRunningPalette':\n\t\t\treturn brand[400];\n\t\tcase 'LongRunningAltPalette':\n\t\t\treturn neutral[7];\n\t\tcase 'SombrePalette':\n\t\t\treturn neutral[100];\n\t\tcase 'SombreAltPalette':\n\t\t\treturn neutral[100];\n\t\tcase 'InvestigationPalette':\n\t\t\treturn neutral[100];\n\t\tcase 'BreakingPalette':\n\t\t\treturn neutral[7];\n\t\tcase 'EventPalette':\n\t\t\treturn brand[300];\n\t\tcase 'EventAltPalette':\n\t\t\treturn brand[300];\n\t\tcase 'SpecialReportAltPalette':\n\t\t\treturn specialReportAlt[100];\n\t}\n};\n\nconst textContainerToggle = (containerPalette: DCRContainerPalette): string => {\n\tswitch (containerPalette) {\n\t\tcase 'LongRunningPalette':\n\t\t\treturn neutral[20];\n\t\tcase 'LongRunningAltPalette':\n\t\t\treturn neutral[20];\n\t\tcase 'SombrePalette':\n\t\t\treturn neutral[86];\n\t\tcase 'SombreAltPalette':\n\t\t\treturn neutral[86];\n\t\tcase 'InvestigationPalette':\n\t\t\treturn neutral[97];\n\t\tcase 'BreakingPalette':\n\t\t\treturn neutral[46];\n\t\tcase 'EventPalette':\n\t\t\treturn neutral[46];\n\t\tcase 'EventAltPalette':\n\t\t\treturn neutral[46];\n\t\tcase 'SpecialReportAltPalette':\n\t\t\treturn neutral[60];\n\t}\n};\n\nconst borderContainer = (containerPalette: DCRContainerPalette): string => {\n\tswitch (containerPalette) {\n\t\tcase 'LongRunningPalette':\n\t\t\treturn transparentColour(neutral[60], 0.4);\n\t\tcase 'LongRunningAltPalette':\n\t\t\treturn transparentColour(neutral[60], 0.4);\n\t\tcase 'SombrePalette':\n\t\t\treturn neutral[60];\n\t\tcase 'SombreAltPalette':\n\t\t\treturn neutral[46];\n\t\tcase 'InvestigationPalette':\n\t\t\treturn neutral[60];\n\t\tcase 'BreakingPalette':\n\t\t\treturn neutral[86];\n\t\tcase 'EventPalette':\n\t\t\treturn neutral[86];\n\t\tcase 'EventAltPalette':\n\t\t\treturn neutral[86];\n\t\tcase 'SpecialReportAltPalette':\n\t\t\treturn transparentColour(neutral[60], 0.3);\n\t}\n};\n\nconst borderLines = textCardHeadline;\n\nconst backgroundContainer = (containerPalette: DCRContainerPalette): string => {\n\tswitch (containerPalette) {\n\t\tcase 'LongRunningPalette':\n\t\t\treturn specialReport[700];\n\t\tcase 'LongRunningAltPalette':\n\t\t\treturn '#f2f2f2';\n\t\tcase 'SombrePalette':\n\t\t\treturn specialReport[400];\n\t\tcase 'SombreAltPalette':\n\t\t\treturn specialReport[300];\n\t\tcase 'InvestigationPalette':\n\t\t\treturn specialReport[400];\n\t\tcase 'BreakingPalette':\n\t\t\treturn neutral[100];\n\t\tcase 'EventPalette':\n\t\t\treturn sport[800];\n\t\tcase 'EventAltPalette':\n\t\t\treturn culture[800];\n\t\tcase 'SpecialReportAltPalette':\n\t\t\treturn specialReportAlt[800];\n\t}\n};\n\nconst backgroundCard = (containerPalette: DCRContainerPalette): string => {\n\tswitch (containerPalette) {\n\t\tcase 'LongRunningPalette':\n\t\t\treturn brand[400];\n\t\tcase 'LongRunningAltPalette':\n\t\t\treturn neutral[86];\n\t\tcase 'SombrePalette':\n\t\t\treturn specialReport[300];\n\t\tcase 'SombreAltPalette':\n\t\t\treturn specialReport[100];\n\t\tcase 'InvestigationPalette':\n\t\t\treturn specialReport[300];\n\t\tcase 'BreakingPalette':\n\t\t\treturn news[200];\n\t\tcase 'EventPalette':\n\t\t\treturn neutral[93];\n\t\tcase 'EventAltPalette':\n\t\t\treturn culture[700];\n\t\tcase 'SpecialReportAltPalette':\n\t\t\treturn specialReportAlt[700];\n\t}\n};\n\nconst topBarCard = textCardKicker;\n\n/**\n * When a container is given a special `containerPalette` then this function decides the override colours to be used\n * for it and its cards\n *\n * @see {@link https://github.com/guardian/interactive-atom-container-colours/blob/master/shared/css/_variables.scss Frontend code}\n * @param {DCRContainerPalette} containerPalette\n * @returns {ContainerOverrides} an object with the overrides set as properties\n */\nexport const decideContainerOverrides = (\n\tcontainerPalette: DCRContainerPalette,\n): ContainerOverrides => {\n\treturn {\n\t\ttext: {\n\t\t\tcardHeadline: textCardHeadline(containerPalette),\n\t\t\tcardStandfirst: textCardStandfirst(containerPalette),\n\t\t\tcardKicker: textCardKicker(containerPalette),\n\t\t\tcardByline: textCardByline(containerPalette),\n\t\t\tcardFooter: textCardFooter(containerPalette),\n\t\t\tcardCommentCount: textCardCommentCount(containerPalette),\n\t\t\tdynamoHeadline: textDynamoHeadline(containerPalette),\n\t\t\tdynamoKicker: textDynamoKicker(containerPalette),\n\t\t\tdynamoSublinkKicker: textDynamoSublinkKicker(containerPalette),\n\t\t\tdynamoMeta: textDynamoMeta(containerPalette),\n\t\t\tcontainer: textContainer(containerPalette),\n\t\t\tcontainerToggle: textContainerToggle(containerPalette),\n\t\t\tcontainerDate: textContainerDate(containerPalette),\n\t\t},\n\t\tborder: {\n\t\t\tcontainer: borderContainer(containerPalette),\n\t\t\tlines: borderLines(containerPalette),\n\t\t},\n\t\tbackground: {\n\t\t\tcontainer: backgroundContainer(containerPalette),\n\t\t\tcard: backgroundCard(containerPalette),\n\t\t},\n\t\ttopBar: {\n\t\t\tcard: topBarCard(containerPalette),\n\t\t},\n\t};\n};\n","import { ArticleDesign } from '@guardian/libs';\n\n/**\n * NOTE: Immersive Opinion pieces are not supported,\n * i.e. when `CommentDesign` and `ImmersiveDisplay` are used jointly.\n */\nexport const decideDesign = ({\n\tdesign,\n\tdisplay,\n}: Partial<FEFormat>): ArticleDesign => {\n\tswitch (design) {\n\t\tcase 'ArticleDesign':\n\t\t\treturn ArticleDesign.Standard;\n\t\tcase 'GalleryDesign':\n\t\t\treturn ArticleDesign.Gallery;\n\t\tcase 'AudioDesign':\n\t\t\treturn ArticleDesign.Audio;\n\t\tcase 'VideoDesign':\n\t\t\treturn ArticleDesign.Video;\n\t\tcase 'ReviewDesign':\n\t\t\treturn ArticleDesign.Review;\n\t\tcase 'AnalysisDesign':\n\t\t\treturn ArticleDesign.Analysis;\n\t\tcase 'CommentDesign':\n\t\t\t// Temporary hack until we can handle Immersive Opinion pieces\n\t\t\treturn display === 'ImmersiveDisplay'\n\t\t\t\t? ArticleDesign.Standard\n\t\t\t\t: ArticleDesign.Comment;\n\t\tcase 'LetterDesign':\n\t\t\treturn ArticleDesign.Letter;\n\t\tcase 'FeatureDesign':\n\t\t\treturn ArticleDesign.Feature;\n\t\tcase 'LiveBlogDesign':\n\t\t\treturn ArticleDesign.LiveBlog;\n\t\tcase 'DeadBlogDesign':\n\t\t\treturn ArticleDesign.DeadBlog;\n\t\tcase 'RecipeDesign':\n\t\t\treturn ArticleDesign.Recipe;\n\t\tcase 'MatchReportDesign':\n\t\t\treturn ArticleDesign.MatchReport;\n\t\tcase 'InterviewDesign':\n\t\t\treturn ArticleDesign.Interview;\n\t\tcase 'EditorialDesign':\n\t\t\treturn ArticleDesign.Editorial;\n\t\tcase 'QuizDesign':\n\t\t\treturn ArticleDesign.Quiz;\n\t\tcase 'InteractiveDesign':\n\t\t\treturn ArticleDesign.Interactive;\n\t\tcase 'PhotoEssayDesign':\n\t\t\treturn ArticleDesign.PhotoEssay;\n\t\tcase 'PrintShopDesign':\n\t\t\treturn ArticleDesign.PrintShop;\n\t\tcase 'ObituaryDesign':\n\t\t\treturn ArticleDesign.Obituary;\n\t\tcase 'FullPageInteractiveDesign':\n\t\t\treturn ArticleDesign.FullPageInteractive;\n\t\tcase 'NewsletterSignupDesign':\n\t\t\treturn ArticleDesign.NewsletterSignup;\n\t\tcase 'ExplainerDesign':\n\t\t\treturn ArticleDesign.Explainer;\n\t\tcase 'TimelineDesign':\n\t\t\treturn ArticleDesign.Timeline;\n\t\tcase 'ProfileDesign':\n\t\t\treturn ArticleDesign.Profile;\n\t\tdefault:\n\t\t\treturn ArticleDesign.Standard;\n\t}\n};\n","import { ArticleDisplay } from '@guardian/libs';\n\nexport const decideDisplay = ({\n\tdisplay,\n}: Partial<FEFormat>): ArticleDisplay => {\n\tswitch (display) {\n\t\tcase 'StandardDisplay':\n\t\t\treturn ArticleDisplay.Standard;\n\t\tcase 'ImmersiveDisplay':\n\t\t\treturn ArticleDisplay.Immersive;\n\t\tcase 'ShowcaseDisplay':\n\t\t\treturn ArticleDisplay.Showcase;\n\t\tcase 'NumberedListDisplay':\n\t\t\treturn ArticleDisplay.NumberedList;\n\t\tdefault:\n\t\t\treturn ArticleDisplay.Standard;\n\t}\n};\n","import { ArticlePillar, ArticleSpecial } from '@guardian/libs';\n\nexport const decideTheme = ({ theme }: Partial<FEFormat>): ArticleTheme => {\n\tswitch (theme) {\n\t\tcase 'NewsPillar':\n\t\t\treturn ArticlePillar.News;\n\t\tcase 'OpinionPillar':\n\t\t\treturn ArticlePillar.Opinion;\n\t\tcase 'SportPillar':\n\t\t\treturn ArticlePillar.Sport;\n\t\tcase 'CulturePillar':\n\t\t\treturn ArticlePillar.Culture;\n\t\tcase 'LifestylePillar':\n\t\t\treturn ArticlePillar.Lifestyle;\n\t\tcase 'SpecialReportTheme':\n\t\t\treturn ArticleSpecial.SpecialReport;\n\t\tcase 'SpecialReportAltTheme':\n\t\t\treturn ArticleSpecial.SpecialReportAlt;\n\t\tcase 'Labs':\n\t\t\treturn ArticleSpecial.Labs;\n\t\tdefault:\n\t\t\treturn ArticlePillar.News;\n\t}\n};\n","import { decideDesign } from './decideDesign';\nimport { decideDisplay } from './decideDisplay';\nimport { decideTheme } from './decideTheme';\n\nexport const decideFormat = (format: Partial<FEFormat>): ArticleFormat => ({\n\tdisplay: decideDisplay(format),\n\ttheme: decideTheme(format),\n\tdesign: decideDesign(format),\n});\n","import { ArticlePillar, ArticleSpecial } from '@guardian/libs';\nimport type { ArticleTheme } from '@guardian/libs';\nimport {\n\tborder,\n\tculture,\n\tlabs,\n\tlifestyle,\n\tnews,\n\topinion,\n\tpalette,\n\tspecialReport,\n\tsport,\n} from '@guardian/source-foundations';\n\ntype ColourType = string;\n\ntype PillarPalette = {\n\tdark: ColourType;\n\tmain: ColourType;\n\tbright: ColourType;\n\tpastel: ColourType;\n\tfaded: ColourType;\n\t300: ColourType;\n\t400: ColourType;\n\t500: ColourType;\n\t600: ColourType;\n\t800: ColourType;\n};\n\ntype SpecialPalette = {\n\tdark: ColourType;\n\tmain: ColourType;\n\tbright: ColourType;\n\tfaded: ColourType;\n\t300: ColourType;\n\t400: ColourType;\n\t500: ColourType;\n\t800: ColourType;\n};\n\ntype LabsPalette = {\n\tdark: ColourType;\n\tmain: ColourType;\n\tbright: ColourType;\n\tfaded: ColourType;\n\t300: ColourType;\n\t400: ColourType;\n\t500: ColourType;\n\t800: ColourType;\n};\n\ntype SpecialAltPalette = {\n\tdark: ColourType;\n\tmain: ColourType;\n\tbright: ColourType;\n\tpastel: ColourType;\n\tfaded: ColourType;\n\t100: ColourType;\n\t200: ColourType;\n\t300: ColourType;\n\t700: ColourType;\n\t800: ColourType;\n};\n\n// pillarPalette_DO_NOT_USE should no longer be used. Use palette from  decidePalette instead\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport const pillarPalette_DO_NOT_USE: Record<\n\tArticleTheme,\n\tPillarPalette | SpecialPalette | LabsPalette | SpecialAltPalette\n> = {\n\t[ArticlePillar.News]: {\n\t\tdark: news[300],\n\t\tmain: news[400],\n\t\tbright: news[500],\n\t\tpastel: news[600],\n\t\tfaded: news[800],\n\t\t300: news[300],\n\t\t400: news[400],\n\t\t500: news[500],\n\t\t600: news[600],\n\t\t800: news[800],\n\t},\n\t[ArticlePillar.Opinion]: {\n\t\tdark: opinion[300],\n\t\tmain: opinion[300],\n\t\tbright: opinion[500],\n\t\tpastel: opinion[600],\n\t\tfaded: opinion[800],\n\t\t300: opinion[300],\n\t\t400: opinion[400],\n\t\t500: opinion[500],\n\t\t600: opinion[600],\n\t\t800: opinion[800],\n\t},\n\t[ArticlePillar.Sport]: {\n\t\tdark: sport[300],\n\t\tmain: sport[400],\n\t\tbright: sport[500],\n\t\tpastel: sport[600],\n\t\tfaded: sport[800],\n\t\t300: sport[300],\n\t\t400: sport[400],\n\t\t500: sport[500],\n\t\t600: sport[600],\n\t\t800: sport[800],\n\t},\n\t[ArticlePillar.Culture]: {\n\t\tdark: culture[300],\n\t\tmain: culture[400],\n\t\tbright: culture[500],\n\t\tpastel: culture[600],\n\t\tfaded: culture[800],\n\t\t300: culture[300],\n\t\t400: culture[400],\n\t\t500: culture[500],\n\t\t600: culture[600],\n\t\t800: culture[800],\n\t},\n\t[ArticlePillar.Lifestyle]: {\n\t\tdark: lifestyle[300],\n\t\tmain: lifestyle[400],\n\t\tbright: lifestyle[500],\n\t\tpastel: lifestyle[600],\n\t\tfaded: lifestyle[800],\n\t\t300: lifestyle[300],\n\t\t400: lifestyle[400],\n\t\t500: lifestyle[500],\n\t\t600: lifestyle[600],\n\t\t800: lifestyle[800],\n\t},\n\t[ArticleSpecial.Labs]: {\n\t\tdark: labs[300],\n\t\tmain: labs[400],\n\t\tbright: '#69d1ca', // bright teal\n\t\tfaded: '#65a897', // dark teal\n\t\t300: labs[300],\n\t\t400: labs[400],\n\t\t500: '#69d1ca', // bright teal\n\t\t800: '#65a897', // dark teal\n\t},\n\t[ArticleSpecial.SpecialReport]: {\n\t\tdark: specialReport[300],\n\t\tmain: specialReport[400],\n\t\tbright: specialReport[500],\n\t\tfaded: specialReport[800],\n\t\t300: specialReport[300],\n\t\t400: specialReport[400],\n\t\t500: specialReport[500],\n\t\t800: specialReport[800],\n\t},\n\t[ArticleSpecial.SpecialReportAlt]: {\n\t\tdark: palette.specialReportAlt[100],\n\t\tmain: palette.specialReportAlt[200],\n\t\tbright: palette.specialReportAlt[300],\n\t\tpastel: palette.specialReportAlt[700],\n\t\tfaded: palette.specialReportAlt[800],\n\t\t100: palette.specialReportAlt[100],\n\t\t200: palette.specialReportAlt[200],\n\t\t300: palette.specialReportAlt[300],\n\t\t700: palette.specialReportAlt[700],\n\t\t800: palette.specialReportAlt[800],\n\t},\n};\n\n/*\nThis takes a function, f, and applies it to all pillars.\nIt returns an object with each pillar as the keys and f('pillar') as the value\n*/\nexport const pillarMap: <T>(f: (name: ArticleTheme) => T) => {\n\t[K in ArticleTheme]: T;\n} = (f) => ({\n\t[ArticlePillar.News]: f(ArticlePillar.News),\n\t[ArticlePillar.Opinion]: f(ArticlePillar.Opinion),\n\t[ArticlePillar.Sport]: f(ArticlePillar.Sport),\n\t[ArticlePillar.Culture]: f(ArticlePillar.Culture),\n\t[ArticlePillar.Lifestyle]: f(ArticlePillar.Lifestyle),\n\t[ArticleSpecial.Labs]: f(ArticleSpecial.Labs),\n\t[ArticleSpecial.SpecialReport]: f(ArticleSpecial.SpecialReport),\n\t[ArticleSpecial.SpecialReportAlt]: f(ArticleSpecial.SpecialReportAlt),\n});\n/*\nFurther notes on this function:\n\t- It maps by hand because it's easy to lose track of types when you use Object.assign()\n\t- Where the function parameter f returns type T, pillarMap will return an object with\n\t  a key for each pillar and values of type T.\n */\n\nexport const neutralBorder = (pillar: ArticleTheme): ColourType => {\n\tswitch (pillar) {\n\t\tcase ArticleSpecial.Labs:\n\t\t\treturn border.primary; // 'dark' theme\n\t\tdefault:\n\t\t\treturn border.secondary;\n\t}\n};\n","import type { ArticleFormat } from '@guardian/libs';\nimport {\n\tArticleDesign,\n\tArticleDisplay,\n\tArticlePillar,\n\tArticleSpecial,\n} from '@guardian/libs';\nimport {\n\tborder,\n\tbrandAlt,\n\tbrandAltBackground,\n\tculture,\n\tlabs,\n\tlifestyle,\n\tneutral,\n\tnews,\n\topinion,\n\tpalette,\n\tspecialReport,\n\tsport,\n\ttext,\n} from '@guardian/source-foundations';\n// Here is the one place where we use `pillarPalette`\nimport { pillarPalette_DO_NOT_USE as pillarPalette } from '../../lib/pillars';\nimport type { DCRContainerPalette } from '../../types/front';\nimport type { Palette } from '../../types/palette';\nimport { decideContainerOverrides } from './decideContainerOverrides';\nimport { transparentColour } from './transparentColour';\n\nconst WHITE = neutral[100];\nconst BLACK = neutral[7];\n\nconst blogsGrayBackgroundPalette = (format: ArticleFormat): string => {\n\tswitch (format.theme) {\n\t\tcase ArticlePillar.News:\n\t\t\treturn news[400];\n\t\tcase ArticlePillar.Opinion:\n\t\t\treturn opinion[300];\n\t\tcase ArticlePillar.Sport:\n\t\t\treturn sport[300];\n\t\tcase ArticlePillar.Culture:\n\t\t\treturn culture[300];\n\t\tcase ArticlePillar.Lifestyle:\n\t\t\treturn lifestyle[300];\n\t\tcase ArticleSpecial.SpecialReport:\n\t\t\treturn specialReport[300];\n\t\tcase ArticleSpecial.SpecialReportAlt:\n\t\t\treturn news[400];\n\t\tcase ArticleSpecial.Labs:\n\t\t\treturn labs[300];\n\t}\n};\n\nconst textHeadline = (format: ArticleFormat): string => {\n\tswitch (format.display) {\n\t\tcase ArticleDisplay.Immersive:\n\t\t\tif (format.theme === ArticleSpecial.SpecialReport) return WHITE;\n\t\t\tswitch (format.design) {\n\t\t\t\tcase ArticleDesign.PrintShop:\n\t\t\t\t\treturn BLACK;\n\t\t\t\tdefault:\n\t\t\t\t\treturn WHITE;\n\t\t\t}\n\t\tcase ArticleDisplay.Showcase:\n\t\tcase ArticleDisplay.NumberedList:\n\t\tcase ArticleDisplay.Standard: {\n\t\t\tif (\n\t\t\t\tformat.theme === ArticleSpecial.SpecialReport &&\n\t\t\t\tformat.design !== ArticleDesign.Interview\n\t\t\t)\n\t\t\t\treturn specialReport[100];\n\n\t\t\tif (format.theme === ArticleSpecial.SpecialReportAlt) {\n\t\t\t\tif (format.design === ArticleDesign.Interview)\n\t\t\t\t\treturn palette.specialReportAlt[800];\n\n\t\t\t\tif (\n\t\t\t\t\tformat.design !== ArticleDesign.LiveBlog &&\n\t\t\t\t\tformat.design !== ArticleDesign.DeadBlog\n\t\t\t\t)\n\t\t\t\t\treturn neutral[7];\n\t\t\t}\n\n\t\t\tswitch (format.design) {\n\t\t\t\tcase ArticleDesign.Review:\n\t\t\t\tcase ArticleDesign.Recipe:\n\t\t\t\tcase ArticleDesign.Feature:\n\t\t\t\t\treturn pillarPalette[format.theme].dark;\n\t\t\t\tcase ArticleDesign.Interview:\n\t\t\t\tcase ArticleDesign.LiveBlog:\n\t\t\t\t\treturn WHITE;\n\t\t\t\tdefault:\n\t\t\t\t\treturn BLACK;\n\t\t\t}\n\t\t}\n\t\tdefault:\n\t\t\treturn BLACK;\n\t}\n};\n\nconst textSeriesTitle = (format: ArticleFormat): string => {\n\tif (\n\t\tformat.theme === ArticleSpecial.Labs &&\n\t\tformat.design !== ArticleDesign.LiveBlog\n\t) {\n\t\treturn BLACK;\n\t}\n\n\tif (\n\t\tformat.theme === ArticleSpecial.SpecialReportAlt &&\n\t\tformat.design !== ArticleDesign.LiveBlog &&\n\t\tformat.design !== ArticleDesign.DeadBlog\n\t)\n\t\treturn palette.specialReportAlt[100];\n\n\tif (format.theme === ArticleSpecial.SpecialReport)\n\t\treturn specialReport[300];\n\tswitch (format.display) {\n\t\tcase ArticleDisplay.Immersive:\n\t\t\treturn WHITE;\n\t\tcase ArticleDisplay.Showcase:\n\t\tcase ArticleDisplay.NumberedList:\n\t\tcase ArticleDisplay.Standard:\n\t\t\tswitch (format.design) {\n\t\t\t\tcase ArticleDesign.Analysis: {\n\t\t\t\t\tswitch (format.theme) {\n\t\t\t\t\t\tcase ArticlePillar.News:\n\t\t\t\t\t\t\treturn news[300];\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\treturn pillarPalette[format.theme].main;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcase ArticleDesign.LiveBlog:\n\t\t\t\t\tswitch (format.theme) {\n\t\t\t\t\t\tcase ArticlePillar.News:\n\t\t\t\t\t\t\treturn news[600];\n\t\t\t\t\t\tcase ArticlePillar.Sport:\n\t\t\t\t\t\tcase ArticlePillar.Lifestyle:\n\t\t\t\t\t\tcase ArticlePillar.Culture:\n\t\t\t\t\t\tcase ArticlePillar.Opinion:\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\treturn WHITE;\n\t\t\t\t\t}\n\t\t\t\tcase ArticleDesign.DeadBlog:\n\t\t\t\t\treturn blogsGrayBackgroundPalette(format);\n\t\t\t\tcase ArticleDesign.MatchReport:\n\t\t\t\t\treturn BLACK;\n\t\t\t\tdefault:\n\t\t\t\t\treturn pillarPalette[format.theme].main;\n\t\t\t}\n\t\tdefault:\n\t\t\treturn BLACK;\n\t}\n};\n\nconst textSeriesTitleWhenMatch = (format: ArticleFormat): string => {\n\tswitch (format.design) {\n\t\tcase ArticleDesign.MatchReport:\n\t\tcase ArticleDesign.LiveBlog:\n\t\t\treturn BLACK;\n\t\tdefault:\n\t\t\treturn textSeriesTitle(format);\n\t}\n};\n\nconst textHeadlineWhenMatch = (format: ArticleFormat): string => {\n\tswitch (format.design) {\n\t\tcase ArticleDesign.MatchReport:\n\t\tcase ArticleDesign.LiveBlog:\n\t\t\treturn BLACK;\n\t\tdefault:\n\t\t\treturn textSeriesTitle(format);\n\t}\n};\n\nconst textSectionTitle = textSeriesTitle;\n\nconst textByline = (format: ArticleFormat): string => {\n\tif (\n\t\tformat.design === ArticleDesign.LiveBlog ||\n\t\tformat.design === ArticleDesign.DeadBlog\n\t)\n\t\treturn blogsGrayBackgroundPalette(format);\n\n\tif (format.theme === ArticleSpecial.Labs) return BLACK;\n\n\tif (format.theme === ArticleSpecial.SpecialReport)\n\t\treturn specialReport[300];\n\n\tif (format.theme === ArticleSpecial.SpecialReportAlt)\n\t\treturn palette.specialReportAlt[100];\n\n\tswitch (format.display) {\n\t\tcase ArticleDisplay.Immersive:\n\t\t\treturn WHITE;\n\t\tcase ArticleDisplay.Showcase:\n\t\tcase ArticleDisplay.NumberedList:\n\t\tcase ArticleDisplay.Standard:\n\t\t\tswitch (format.design) {\n\t\t\t\tcase ArticleDesign.Analysis: {\n\t\t\t\t\tswitch (format.theme) {\n\t\t\t\t\t\tcase ArticlePillar.News:\n\t\t\t\t\t\t\treturn news[300];\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\treturn pillarPalette[format.theme].main;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcase ArticleDesign.Interview:\n\t\t\t\t\treturn BLACK;\n\t\t\t\tdefault:\n\t\t\t\t\treturn pillarPalette[format.theme].main;\n\t\t\t}\n\t\tdefault:\n\t\t\treturn pillarPalette[format.theme].main;\n\t}\n};\n\nconst textHeadlineByline = (format: ArticleFormat): string => {\n\tif (format.design === ArticleDesign.Analysis) {\n\t\tswitch (format.theme) {\n\t\t\tcase ArticlePillar.News:\n\t\t\t\treturn news[300];\n\t\t\tcase ArticlePillar.Sport:\n\t\t\t\treturn sport[400];\n\t\t\tcase ArticlePillar.Opinion:\n\t\t\t\treturn opinion[400];\n\t\t\tcase ArticlePillar.Culture:\n\t\t\t\treturn culture[400];\n\t\t\tcase ArticlePillar.Lifestyle:\n\t\t\t\treturn lifestyle[400];\n\t\t\tcase ArticleSpecial.Labs:\n\t\t\t\treturn labs[400];\n\t\t\tcase ArticleSpecial.SpecialReport:\n\t\t\t\treturn specialReport[400];\n\t\t\tcase ArticleSpecial.SpecialReportAlt:\n\t\t\t\treturn palette.specialReportAlt[100];\n\t\t}\n\t}\n\n\tif (format.theme === ArticleSpecial.SpecialReport)\n\t\treturn specialReport[300];\n\n\tif (format.theme === ArticleSpecial.Labs) return BLACK;\n\n\tswitch (format.theme) {\n\t\tcase ArticlePillar.News:\n\t\t\treturn news[400];\n\t\tcase ArticlePillar.Opinion:\n\t\t\treturn opinion[400];\n\t\tcase ArticlePillar.Sport:\n\t\t\treturn sport[400];\n\t\tcase ArticlePillar.Culture:\n\t\t\treturn culture[400];\n\t\tcase ArticlePillar.Lifestyle:\n\t\t\treturn lifestyle[400];\n\t\tcase ArticleSpecial.SpecialReportAlt:\n\t\t\treturn palette.specialReportAlt[100];\n\t}\n};\n\nconst textStandfirst = (format: ArticleFormat): string => {\n\tif (format.design === ArticleDesign.LiveBlog) return WHITE;\n\tif (\n\t\tformat.theme === ArticleSpecial.SpecialReportAlt &&\n\t\tformat.design !== ArticleDesign.DeadBlog\n\t)\n\t\treturn palette.specialReportAlt[100];\n\n\treturn BLACK;\n};\n\nconst textLastUpdated = (format: ArticleFormat): string => {\n\tif (format.design === ArticleDesign.LiveBlog) {\n\t\tswitch (format.theme) {\n\t\t\tcase ArticlePillar.News:\n\t\t\t\treturn news[600];\n\t\t\tcase ArticlePillar.Culture:\n\t\t\t\treturn culture[600];\n\t\t\tcase ArticlePillar.Lifestyle:\n\t\t\t\treturn lifestyle[600];\n\t\t\tcase ArticlePillar.Sport:\n\t\t\t\treturn sport[600];\n\t\t\tcase ArticlePillar.Opinion:\n\t\t\t\treturn opinion[600];\n\t\t\tcase ArticleSpecial.Labs:\n\t\t\t\treturn news[600];\n\t\t\tcase ArticleSpecial.SpecialReport:\n\t\t\t\treturn specialReport[700];\n\t\t\tcase ArticleSpecial.SpecialReportAlt:\n\t\t\t\treturn news[600];\n\t\t}\n\t}\n\treturn BLACK;\n};\n\nconst textTwitterHandle = (format: ArticleFormat): string => {\n\tif (format.theme === ArticleSpecial.Labs) return BLACK;\n\tif (format.theme === ArticleSpecial.SpecialReport)\n\t\treturn specialReport[300];\n\tif (format.theme === ArticleSpecial.SpecialReportAlt)\n\t\treturn palette.specialReportAlt[100];\n\n\treturn text.supporting;\n};\n\nconst textTwitterHandleBelowDesktop = (format: ArticleFormat): string => {\n\tif (format.design === ArticleDesign.LiveBlog) return WHITE;\n\n\treturn textTwitterHandle(format);\n};\n\nconst textCaption = (format: ArticleFormat): string => {\n\tif (format.theme === ArticleSpecial.SpecialReport)\n\t\treturn specialReport[100];\n\tif (\n\t\tformat.theme === ArticleSpecial.SpecialReportAlt &&\n\t\tformat.design !== ArticleDesign.LiveBlog &&\n\t\tformat.design !== ArticleDesign.DeadBlog\n\t)\n\t\treturn neutral[7];\n\n\tif (format.theme === ArticleSpecial.Labs) return neutral[20];\n\n\tswitch (format.design) {\n\t\tcase ArticleDesign.PhotoEssay:\n\t\t\treturn pillarPalette[format.theme].dark;\n\t\tdefault:\n\t\t\treturn text.supporting;\n\t}\n};\n\nconst textCaptionLink = (format: ArticleFormat): string => {\n\tif (format.theme === ArticleSpecial.SpecialReport)\n\t\treturn specialReport[300];\n\tif (format.design === ArticleDesign.NewsletterSignup) return BLACK;\n\tif (format.design === ArticleDesign.Analysis) {\n\t\tswitch (format.theme) {\n\t\t\tcase ArticlePillar.News:\n\t\t\t\treturn news[300];\n\t\t\tdefault:\n\t\t\t\treturn pillarPalette[format.theme].main;\n\t\t}\n\t}\n\treturn pillarPalette[format.theme].main;\n};\n\nconst textSubMeta = (format: ArticleFormat): string => {\n\tif (format.theme === ArticleSpecial.Labs) return BLACK;\n\tif (format.theme === ArticleSpecial.SpecialReport)\n\t\treturn specialReport[100];\n\tif (\n\t\tformat.design === ArticleDesign.DeadBlog ||\n\t\tformat.design === ArticleDesign.LiveBlog\n\t)\n\t\treturn blogsGrayBackgroundPalette(format);\n\tif (format.design === ArticleDesign.Analysis) {\n\t\tswitch (format.theme) {\n\t\t\tcase ArticlePillar.News:\n\t\t\t\treturn news[300];\n\t\t\tdefault:\n\t\t\t\treturn pillarPalette[format.theme].main;\n\t\t}\n\t}\n\treturn pillarPalette[format.theme].main;\n};\n\nconst textSubMetaLabel = (format: ArticleFormat): string => {\n\tif (format.theme === ArticleSpecial.Labs) return BLACK;\n\tif (format.theme === ArticleSpecial.SpecialReport)\n\t\treturn specialReport[300];\n\tif (\n\t\tformat.theme === ArticleSpecial.SpecialReportAlt &&\n\t\tformat.design !== ArticleDesign.LiveBlog &&\n\t\tformat.design != ArticleDesign.DeadBlog\n\t)\n\t\treturn palette.specialReportAlt[100];\n\treturn text.supporting;\n};\n\nconst textSubMetaLink = (format: ArticleFormat): string => {\n\tif (format.theme === ArticleSpecial.Labs) return BLACK;\n\tif (format.theme === ArticleSpecial.SpecialReport)\n\t\treturn specialReport[300];\n\treturn text.supporting;\n};\n\nconst textSyndicationButton = (format: ArticleFormat): string => {\n\tif (format.theme === ArticleSpecial.Labs) return BLACK;\n\tif (format.theme === ArticleSpecial.SpecialReport)\n\t\treturn specialReport[100];\n\n\tif (\n\t\tformat.theme === ArticleSpecial.SpecialReportAlt &&\n\t\tformat.design !== ArticleDesign.LiveBlog &&\n\t\tformat.design !== ArticleDesign.DeadBlog\n\t)\n\t\treturn palette.specialReportAlt[100];\n\n\treturn text.supporting;\n};\n\nconst textArticleLink = (format: ArticleFormat): string => {\n\tif (format.design === ArticleDesign.DeadBlog) {\n\t\tswitch (format.theme) {\n\t\t\tcase ArticlePillar.News:\n\t\t\t\treturn news[400];\n\t\t\tcase ArticlePillar.Culture:\n\t\t\t\treturn culture[350];\n\t\t\tcase ArticlePillar.Lifestyle:\n\t\t\t\treturn lifestyle[400];\n\t\t\tcase ArticlePillar.Sport:\n\t\t\t\treturn sport[400];\n\t\t\tcase ArticlePillar.Opinion:\n\t\t\t\treturn opinion[300];\n\t\t\tcase ArticleSpecial.Labs:\n\t\t\t\treturn BLACK;\n\t\t\tcase ArticleSpecial.SpecialReport:\n\t\t\t\treturn specialReport[300];\n\t\t\tcase ArticleSpecial.SpecialReportAlt:\n\t\t\t\treturn news[400];\n\t\t}\n\t}\n\tif (format.design === ArticleDesign.Analysis) {\n\t\tswitch (format.theme) {\n\t\t\tcase ArticlePillar.News:\n\t\t\t\treturn news[300];\n\t\t\tcase ArticlePillar.Culture:\n\t\t\t\treturn culture[350];\n\t\t\tcase ArticlePillar.Lifestyle:\n\t\t\t\treturn lifestyle[400];\n\t\t\tcase ArticlePillar.Sport:\n\t\t\t\treturn sport[400];\n\t\t\tcase ArticlePillar.Opinion:\n\t\t\t\treturn opinion[300];\n\t\t\tcase ArticleSpecial.Labs:\n\t\t\t\treturn BLACK;\n\t\t\tcase ArticleSpecial.SpecialReport:\n\t\t\t\treturn specialReport[300];\n\t\t\tcase ArticleSpecial.SpecialReportAlt:\n\t\t\t\treturn palette.specialReportAlt[200];\n\t\t}\n\t}\n\tif (format.theme === ArticleSpecial.Labs) return BLACK;\n\tif (format.theme === ArticleSpecial.SpecialReport)\n\t\treturn specialReport[300];\n\n\tif (\n\t\tformat.theme === ArticleSpecial.SpecialReportAlt &&\n\t\tformat.design !== ArticleDesign.LiveBlog\n\t)\n\t\treturn palette.specialReportAlt[200];\n\n\tswitch (format.theme) {\n\t\tcase ArticlePillar.Opinion:\n\t\tcase ArticlePillar.Culture:\n\t\t\treturn pillarPalette[format.theme].dark;\n\t\tcase ArticlePillar.News:\n\t\t\treturn news[400];\n\t\tcase ArticlePillar.Sport:\n\t\t\treturn sport[400];\n\t\tcase ArticlePillar.Lifestyle:\n\t\t\treturn lifestyle[400];\n\t\tcase ArticleSpecial.SpecialReportAlt:\n\t\t\treturn news[400];\n\t}\n};\n\nconst textDisclaimerLink = (format: ArticleFormat): string =>\n\tpillarPalette[format.theme].dark;\n\nconst textWitnessIcon = (format: ArticleFormat): string =>\n\tpillarPalette[format.theme].main;\n\nconst textWitnessTitle = (format: ArticleFormat): string =>\n\tpillarPalette[format.theme].main;\n\nconst textWitnessAuthor = (format: ArticleFormat): string =>\n\tpillarPalette[format.theme].main;\n\nconst textPullQuote = (format: ArticleFormat): string => {\n\treturn pillarPalette[format.theme].dark;\n};\n\nconst textKeyEvent = (format: ArticleFormat): string => {\n\tswitch (format.theme) {\n\t\tcase ArticlePillar.News:\n\t\t\treturn news[300];\n\t\tcase ArticlePillar.Sport:\n\t\t\treturn sport[300];\n\t\tcase ArticlePillar.Lifestyle:\n\t\t\treturn lifestyle[300];\n\t\tcase ArticlePillar.Culture:\n\t\t\treturn culture[300];\n\t\tcase ArticlePillar.Opinion:\n\t\t\treturn opinion[300];\n\t\tcase ArticleSpecial.Labs:\n\t\t\treturn labs[300];\n\t\tcase ArticleSpecial.SpecialReport:\n\t\t\treturn specialReport[300];\n\t\tcase ArticleSpecial.SpecialReportAlt:\n\t\t\treturn news[300];\n\t}\n};\n\nconst textKeyEventFromDesktop = ({ theme }: ArticleFormat) => {\n\tswitch (theme) {\n\t\tcase ArticlePillar.News:\n\t\t\treturn news[400];\n\t\tcase ArticlePillar.Sport:\n\t\t\treturn sport[300];\n\t\tcase ArticlePillar.Lifestyle:\n\t\t\treturn lifestyle[300];\n\t\tcase ArticlePillar.Culture:\n\t\t\treturn culture[300];\n\t\tcase ArticlePillar.Opinion:\n\t\t\treturn opinion[300];\n\t\tcase ArticleSpecial.Labs:\n\t\t\treturn labs[300];\n\t\tcase ArticleSpecial.SpecialReport:\n\t\t\treturn specialReport[300];\n\t\tcase ArticleSpecial.SpecialReportAlt:\n\t\t\treturn news[400];\n\t}\n};\n\nconst textStandfirstLink = (format: ArticleFormat): string => {\n\tif (format.design === ArticleDesign.LiveBlog) return WHITE;\n\tif (format.design === ArticleDesign.DeadBlog) {\n\t\tswitch (format.theme) {\n\t\t\tcase ArticlePillar.Opinion:\n\t\t\t\treturn opinion[200];\n\t\t\tcase ArticlePillar.News:\n\t\t\t\treturn news[400];\n\t\t\tdefault:\n\t\t\t\treturn pillarPalette[format.theme].dark;\n\t\t}\n\t}\n\tif (format.design === ArticleDesign.Analysis) {\n\t\tswitch (format.theme) {\n\t\t\tcase ArticlePillar.Opinion:\n\t\t\t\treturn opinion[200];\n\t\t\tcase ArticlePillar.Culture:\n\t\t\tcase ArticlePillar.News:\n\t\t\t\treturn news[300];\n\t\t\tdefault:\n\t\t\t\treturn pillarPalette[format.theme].dark;\n\t\t}\n\t}\n\tif (format.theme === ArticleSpecial.SpecialReport)\n\t\treturn specialReport[400];\n\n\tif (format.theme === ArticleSpecial.SpecialReportAlt)\n\t\treturn palette.specialReportAlt[100];\n\n\tswitch (format.theme) {\n\t\tcase ArticlePillar.Opinion:\n\t\tcase ArticlePillar.Culture:\n\t\t\treturn pillarPalette[format.theme].dark;\n\t\tdefault:\n\t\t\treturn pillarPalette[format.theme].main;\n\t}\n};\n\nconst textBranding = (format: ArticleFormat): string => {\n\tif (format.theme === ArticleSpecial.Labs) return BLACK;\n\tif (format.design === ArticleDesign.Analysis) {\n\t\tswitch (format.theme) {\n\t\t\tcase ArticlePillar.News:\n\t\t\t\treturn news[300];\n\t\t\tdefault:\n\t\t\t\treturn pillarPalette[format.theme].main;\n\t\t}\n\t}\n\treturn pillarPalette[format.theme].main;\n};\n\nconst textArticleLinkHover = (format: ArticleFormat): string => {\n\tif (format.design === ArticleDesign.DeadBlog) {\n\t\tswitch (format.theme) {\n\t\t\tcase ArticlePillar.News:\n\t\t\t\treturn news[400];\n\t\t\tcase ArticlePillar.Culture:\n\t\t\t\treturn culture[350];\n\t\t\tcase ArticlePillar.Lifestyle:\n\t\t\t\treturn lifestyle[400];\n\t\t\tcase ArticlePillar.Sport:\n\t\t\t\treturn sport[400];\n\t\t\tcase ArticlePillar.Opinion:\n\t\t\t\treturn opinion[300];\n\t\t\tcase ArticleSpecial.Labs:\n\t\t\t\treturn BLACK;\n\t\t\tcase ArticleSpecial.SpecialReport:\n\t\t\t\treturn specialReport[100];\n\t\t\tcase ArticleSpecial.SpecialReportAlt:\n\t\t\t\treturn news[400];\n\t\t}\n\t}\n\tif (format.design === ArticleDesign.Analysis) {\n\t\tswitch (format.theme) {\n\t\t\tcase ArticlePillar.News:\n\t\t\t\treturn news[300];\n\t\t\tcase ArticlePillar.Culture:\n\t\t\t\treturn culture[350];\n\t\t\tcase ArticlePillar.Lifestyle:\n\t\t\t\treturn lifestyle[400];\n\t\t\tcase ArticlePillar.Sport:\n\t\t\t\treturn sport[400];\n\t\t\tcase ArticlePillar.Opinion:\n\t\t\t\treturn opinion[300];\n\t\t\tcase ArticleSpecial.Labs:\n\t\t\t\treturn BLACK;\n\t\t\tcase ArticleSpecial.SpecialReport:\n\t\t\t\treturn specialReport[100];\n\t\t\tcase ArticleSpecial.SpecialReportAlt:\n\t\t\t\treturn palette.specialReportAlt[200];\n\t\t}\n\t}\n\tif (format.theme === ArticleSpecial.Labs) return BLACK;\n\tif (format.theme === ArticleSpecial.SpecialReport)\n\t\treturn specialReport[100];\n\n\tif (\n\t\tformat.theme === ArticleSpecial.SpecialReportAlt &&\n\t\tformat.design !== ArticleDesign.LiveBlog\n\t)\n\t\treturn palette.specialReportAlt[200];\n\n\tswitch (format.theme) {\n\t\tcase ArticlePillar.Opinion:\n\t\tcase ArticlePillar.Culture:\n\t\t\treturn pillarPalette[format.theme].dark;\n\t\tdefault:\n\t\t\treturn pillarPalette[format.theme].main;\n\t}\n};\n\nconst textCardHeadline = (format: ArticleFormat): string => {\n\tif (format.theme === ArticleSpecial.SpecialReport) return WHITE;\n\n\tif (format.theme === ArticleSpecial.SpecialReportAlt)\n\t\treturn palette.specialReportAlt[100];\n\n\tif (format.display === ArticleDisplay.Immersive) return BLACK;\n\tswitch (format.design) {\n\t\tcase ArticleDesign.Gallery:\n\t\tcase ArticleDesign.Audio:\n\t\tcase ArticleDesign.Video:\n\t\t\treturn WHITE;\n\t\tcase ArticleDesign.LiveBlog:\n\t\t\tswitch (format.theme) {\n\t\t\t\tcase ArticleSpecial.Labs:\n\t\t\t\t\treturn BLACK;\n\t\t\t\tcase ArticlePillar.News:\n\t\t\t\tcase ArticlePillar.Sport:\n\t\t\t\tcase ArticlePillar.Opinion:\n\t\t\t\tcase ArticlePillar.Culture:\n\t\t\t\tcase ArticlePillar.Lifestyle:\n\t\t\t\tdefault:\n\t\t\t\t\treturn WHITE;\n\t\t\t}\n\t\tdefault:\n\t\t\treturn BLACK;\n\t}\n};\n\nconst textCardStandfirst = textCardHeadline;\n\n/** same as textByline except for SpecialReport */\nconst textCardByline = (format: ArticleFormat): string => {\n\tif (format.theme === ArticleSpecial.SpecialReport)\n\t\treturn specialReport[700];\n\n\treturn textByline(format);\n};\n\nconst textCardKicker = (format: ArticleFormat): string => {\n\tif (\n\t\tformat.theme === ArticleSpecial.SpecialReport &&\n\t\t(format.design === ArticleDesign.Comment ||\n\t\t\tformat.design === ArticleDesign.Letter)\n\t)\n\t\treturn brandAlt[400];\n\tif (format.theme === ArticleSpecial.SpecialReportAlt) return neutral[7];\n\n\tif (format.theme === ArticleSpecial.SpecialReport) return brandAlt[400];\n\tswitch (format.design) {\n\t\tcase ArticleDesign.LiveBlog:\n\t\t\tswitch (format.theme) {\n\t\t\t\tcase ArticleSpecial.Labs:\n\t\t\t\t\treturn BLACK;\n\t\t\t\tcase ArticlePillar.News:\n\t\t\t\t\treturn news[600];\n\t\t\t\tcase ArticlePillar.Sport:\n\t\t\t\t\treturn sport[600];\n\t\t\t\tdefault:\n\t\t\t\t\treturn neutral[100];\n\t\t\t}\n\t\tcase ArticleDesign.Gallery:\n\t\tcase ArticleDesign.Audio:\n\t\tcase ArticleDesign.Video:\n\t\t\tswitch (format.theme) {\n\t\t\t\tcase ArticlePillar.News:\n\t\t\t\t\treturn news[550];\n\t\t\t\tcase ArticlePillar.Sport:\n\t\t\t\t\treturn sport[600];\n\t\t\t\tcase ArticlePillar.Opinion:\n\t\t\t\t\treturn opinion[550];\n\t\t\t\tcase ArticlePillar.Lifestyle:\n\t\t\t\t\treturn lifestyle[500];\n\t\t\t\tcase ArticlePillar.Culture:\n\t\t\t\t\treturn culture[500];\n\t\t\t\tcase ArticleSpecial.Labs:\n\t\t\t\t\treturn labs[400];\n\t\t\t}\n\t\tdefault:\n\t\t\treturn pillarPalette[format.theme].main;\n\t}\n};\n\nconst textCardFooter = (format: ArticleFormat): string => {\n\tif (format.theme === ArticleSpecial.SpecialReportAlt)\n\t\treturn palette.specialReportAlt[100];\n\n\tswitch (format.design) {\n\t\tcase ArticleDesign.Comment:\n\t\tcase ArticleDesign.Letter:\n\t\t\tswitch (format.theme) {\n\t\t\t\tcase ArticleSpecial.SpecialReport:\n\t\t\t\t\treturn neutral[86];\n\t\t\t\tdefault:\n\t\t\t\t\treturn neutral[46];\n\t\t\t}\n\t\tcase ArticleDesign.LiveBlog:\n\t\t\tswitch (format.theme) {\n\t\t\t\tcase ArticleSpecial.Labs:\n\t\t\t\t\treturn BLACK;\n\t\t\t\tdefault:\n\t\t\t\t\treturn neutral[100];\n\t\t\t}\n\t\tcase ArticleDesign.Gallery:\n\t\tcase ArticleDesign.Audio:\n\t\tcase ArticleDesign.Video:\n\t\t\treturn neutral[86];\n\t\tdefault:\n\t\t\tswitch (format.theme) {\n\t\t\t\tcase ArticleSpecial.SpecialReport:\n\t\t\t\t\treturn brandAltBackground.primary;\n\t\t\t\tdefault:\n\t\t\t\t\treturn neutral[46];\n\t\t\t}\n\t}\n};\n\nconst textLinkKicker = (format: ArticleFormat): string => {\n\tif (format.design === ArticleDesign.Analysis) {\n\t\tswitch (format.theme) {\n\t\t\tcase ArticlePillar.News:\n\t\t\t\treturn news[300];\n\t\t\tdefault:\n\t\t\t\treturn pillarPalette[format.theme].main;\n\t\t}\n\t}\n\treturn pillarPalette[format.theme].main;\n};\n\nconst textCricketScoreboardLink = (): string => {\n\treturn sport[300];\n};\n\nconst backgroundArticle = (format: ArticleFormat): string => {\n\t// specialreport blogs should have specialreport background\n\tif (\n\t\t(format.design === ArticleDesign.LiveBlog ||\n\t\t\tformat.design === ArticleDesign.DeadBlog) &&\n\t\tformat.theme !== ArticleSpecial.SpecialReport\n\t)\n\t\treturn neutral[97];\n\t// Order matters. We want comment special report pieces to have the opinion background\n\tif (format.design === ArticleDesign.Letter) return opinion[800];\n\tif (format.design === ArticleDesign.Comment) {\n\t\tif (format.theme === ArticleSpecial.SpecialReportAlt)\n\t\t\treturn palette.specialReportAlt[800];\n\n\t\treturn opinion[800];\n\t}\n\tif (format.design === ArticleDesign.Editorial) return opinion[800];\n\n\tif (format.design === ArticleDesign.Analysis) {\n\t\tif (format.theme === ArticleSpecial.SpecialReportAlt)\n\t\t\treturn palette.specialReportAlt[800];\n\t\telse return news[800];\n\t}\n\n\tif (format.theme === ArticleSpecial.SpecialReport)\n\t\treturn specialReport[800]; // Note, check theme rather than design here\n\n\tif (format.theme === ArticleSpecial.SpecialReportAlt)\n\t\treturn palette.specialReportAlt[800];\n\n\tif (\n\t\tformat.theme === ArticleSpecial.Labs &&\n\t\tformat.display !== ArticleDisplay.Immersive\n\t)\n\t\treturn neutral[97];\n\n\treturn 'transparent';\n};\n\nconst backgroundSeriesTitle = (format: ArticleFormat): string => {\n\tif (format.theme === ArticleSpecial.SpecialReport)\n\t\treturn brandAltBackground.primary;\n\n\tswitch (format.display) {\n\t\tcase ArticleDisplay.Immersive: {\n\t\t\tif (format.theme === ArticleSpecial.SpecialReportAlt)\n\t\t\t\treturn palette.specialReportAlt[300];\n\n\t\t\treturn pillarPalette[format.theme].main;\n\t\t}\n\t\tcase ArticleDisplay.Showcase:\n\t\tcase ArticleDisplay.NumberedList:\n\t\tcase ArticleDisplay.Standard:\n\t\tdefault:\n\t\t\treturn 'transparent';\n\t}\n};\n\nconst backgroundSectionTitle = (format: ArticleFormat): string => {\n\tswitch (format.display) {\n\t\tcase ArticleDisplay.Immersive:\n\t\t\treturn pillarPalette[format.theme].main;\n\t\tcase ArticleDisplay.Showcase:\n\t\tcase ArticleDisplay.NumberedList:\n\t\tcase ArticleDisplay.Standard:\n\t\tdefault:\n\t\t\treturn 'transparent';\n\t}\n};\n\nconst backgroundAvatar = (format: ArticleFormat): string => {\n\tif (\n\t\tformat.theme === ArticleSpecial.SpecialReportAlt &&\n\t\tformat.design !== ArticleDesign.LiveBlog &&\n\t\tformat.design !== ArticleDesign.DeadBlog\n\t)\n\t\treturn palette.specialReportAlt[300];\n\n\tswitch (format.theme) {\n\t\tcase ArticleSpecial.SpecialReport:\n\t\t\treturn specialReport[800];\n\t\tcase ArticlePillar.Opinion:\n\t\t\treturn pillarPalette[ArticlePillar.Opinion].main;\n\t\tdefault:\n\t\t\treturn pillarPalette[format.theme].bright;\n\t}\n};\n\nconst backgroundCard = (format: ArticleFormat): string => {\n\tif (format.theme === ArticleSpecial.SpecialReportAlt)\n\t\treturn palette.specialReportAlt[700];\n\tif (format.theme === ArticleSpecial.SpecialReport)\n\t\treturn specialReport[300];\n\tswitch (format.design) {\n\t\tcase ArticleDesign.Editorial:\n\t\tcase ArticleDesign.Letter:\n\t\tcase ArticleDesign.Comment:\n\t\t\treturn opinion[800];\n\t\tcase ArticleDesign.Gallery:\n\t\tcase ArticleDesign.Audio:\n\t\tcase ArticleDesign.Video:\n\t\t\treturn neutral[20];\n\t\tcase ArticleDesign.LiveBlog:\n\t\t\tswitch (format.theme) {\n\t\t\t\tcase ArticleSpecial.Labs:\n\t\t\t\t\treturn labs[400];\n\t\t\t\tcase ArticlePillar.News:\n\t\t\t\tcase ArticlePillar.Sport:\n\t\t\t\tcase ArticlePillar.Opinion:\n\t\t\t\tcase ArticlePillar.Lifestyle:\n\t\t\t\tcase ArticlePillar.Culture:\n\t\t\t\tdefault:\n\t\t\t\t\treturn pillarPalette[format.theme][300];\n\t\t\t}\n\t\tdefault:\n\t\t\treturn neutral[97];\n\t}\n};\n\nconst backgroundHeadline = (format: ArticleFormat): string => {\n\tswitch (format.display) {\n\t\tcase ArticleDisplay.Immersive:\n\t\t\tif (format.theme === ArticleSpecial.SpecialReport)\n\t\t\t\treturn specialReport[300];\n\t\t\treturn BLACK;\n\t\tcase ArticleDisplay.Showcase:\n\t\tcase ArticleDisplay.NumberedList:\n\t\tcase ArticleDisplay.Standard:\n\t\t\tif (format.design === ArticleDesign.Interview) return BLACK;\n\t\t\treturn 'transparent';\n\t\tdefault:\n\t\t\treturn 'transparent';\n\t}\n};\n\nconst backgroundAgeWarning = (format: ArticleFormat): string => {\n\tswitch (format.design) {\n\t\tcase ArticleDesign.Interview:\n\t\t\treturn backgroundArticle(format);\n\t\tdefault:\n\t\t\treturn backgroundHeadline(format);\n\t}\n};\n\nconst backgroundHeadlineByline = (format: ArticleFormat): string => {\n\tif (format.design === ArticleDesign.Analysis) return 'transparent';\n\tif (format.theme === ArticleSpecial.SpecialReport)\n\t\treturn brandAltBackground.primary;\n\treturn 'transparent';\n};\n\nconst backgroundBullet = (format: ArticleFormat): string => {\n\tif (format.theme === ArticleSpecial.Labs) return BLACK;\n\tif (format.theme === ArticleSpecial.SpecialReport)\n\t\treturn specialReport[300];\n\tif (format.design === ArticleDesign.Analysis) {\n\t\tswitch (format.theme) {\n\t\t\tcase ArticlePillar.News:\n\t\t\t\treturn news[300];\n\t\t\tdefault:\n\t\t\t\treturn pillarPalette[format.theme].main;\n\t\t}\n\t}\n\treturn pillarPalette[format.theme].main;\n};\n\nconst backgroundBulletStandfirst = (format: ArticleFormat): string => {\n\tif (\n\t\tformat.design === ArticleDesign.DeadBlog ||\n\t\tformat.design === ArticleDesign.Analysis\n\t) {\n\t\treturn neutral[60];\n\t}\n\n\tif (format.design === ArticleDesign.LiveBlog) {\n\t\tswitch (format.theme) {\n\t\t\tcase ArticlePillar.News:\n\t\t\t\treturn news[600];\n\t\t\tcase ArticlePillar.Culture:\n\t\t\t\treturn culture[400];\n\t\t\tcase ArticlePillar.Lifestyle:\n\t\t\t\treturn lifestyle[500];\n\t\t\tcase ArticlePillar.Sport:\n\t\t\t\treturn sport[600];\n\t\t\tcase ArticlePillar.Opinion:\n\t\t\t\treturn opinion[500];\n\t\t\tcase ArticleSpecial.Labs:\n\t\t\t\treturn news[600];\n\t\t\tcase ArticleSpecial.SpecialReport:\n\t\t\t\treturn specialReport[700];\n\t\t\tcase ArticleSpecial.SpecialReportAlt:\n\t\t\t\treturn news[600];\n\t\t}\n\t}\n\n\tif (format.theme === ArticleSpecial.SpecialReportAlt)\n\t\treturn palette.specialReportAlt[100];\n\n\treturn neutral[86]; // default previously defined in Standfirst.tsx\n};\n\nconst backgroundHeader = (format: ArticleFormat): string => {\n\tswitch (format.design) {\n\t\tcase ArticleDesign.LiveBlog:\n\t\t\tswitch (format.theme) {\n\t\t\t\tcase ArticleSpecial.Labs:\n\t\t\t\t\treturn news[300];\n\t\t\t\tcase ArticleSpecial.SpecialReport:\n\t\t\t\t\treturn specialReport[700];\n\t\t\t\tcase ArticleSpecial.SpecialReportAlt:\n\t\t\t\t\treturn news[300];\n\t\t\t\tdefault:\n\t\t\t\t\treturn pillarPalette[format.theme][300];\n\t\t\t}\n\t\tdefault:\n\t\t\treturn backgroundArticle(format);\n\t}\n};\n\nconst backgroundStandfirst = (format: ArticleFormat): string => {\n\tswitch (format.design) {\n\t\tcase ArticleDesign.LiveBlog:\n\t\t\tswitch (format.theme) {\n\t\t\t\tcase ArticlePillar.News:\n\t\t\t\t\treturn news[200];\n\t\t\t\tcase ArticlePillar.Culture:\n\t\t\t\t\treturn culture[200];\n\t\t\t\tcase ArticlePillar.Sport:\n\t\t\t\t\treturn sport[100];\n\t\t\t\tcase ArticlePillar.Lifestyle:\n\t\t\t\t\treturn lifestyle[200];\n\t\t\t\tcase ArticlePillar.Opinion:\n\t\t\t\t\treturn opinion[200];\n\t\t\t\tcase ArticleSpecial.Labs:\n\t\t\t\t\treturn news[200];\n\t\t\t\tcase ArticleSpecial.SpecialReport:\n\t\t\t\t\treturn specialReport[300];\n\t\t\t\tcase ArticleSpecial.SpecialReportAlt:\n\t\t\t\t\treturn news[200];\n\t\t\t}\n\t\tcase ArticleDesign.DeadBlog:\n\t\t\tswitch (format.theme) {\n\t\t\t\tcase ArticleSpecial.SpecialReport:\n\t\t\t\t\treturn specialReport[700];\n\t\t\t\tdefault:\n\t\t\t\t\treturn neutral[93];\n\t\t\t}\n\n\t\tdefault:\n\t\t\treturn backgroundArticle(format);\n\t}\n};\n\nconst backgroundImageTitle = (format: ArticleFormat): string => {\n\tif (format.design === ArticleDesign.Analysis) {\n\t\tswitch (format.theme) {\n\t\t\tcase ArticlePillar.News:\n\t\t\t\treturn news[300];\n\t\t\tdefault:\n\t\t\t\treturn pillarPalette[format.theme].main;\n\t\t}\n\t}\n\treturn pillarPalette[format.theme].main;\n};\n\nconst backgroundSpeechBubble = (format: ArticleFormat): string => {\n\tif (format.design === ArticleDesign.Analysis) {\n\t\tswitch (format.theme) {\n\t\t\tcase ArticlePillar.News:\n\t\t\t\treturn news[300];\n\t\t\tdefault:\n\t\t\t\treturn pillarPalette[format.theme].main;\n\t\t}\n\t}\n\treturn pillarPalette[format.theme].main;\n};\n\nconst backgroundFilterButtonHover = (format: ArticleFormat): string => {\n\tswitch (format.theme) {\n\t\tcase ArticlePillar.News:\n\t\t\treturn news[200];\n\t\tcase ArticlePillar.Culture:\n\t\t\treturn culture[200];\n\t\tcase ArticlePillar.Lifestyle:\n\t\t\treturn lifestyle[200];\n\t\tcase ArticlePillar.Sport:\n\t\t\treturn sport[200];\n\t\tcase ArticlePillar.Opinion:\n\t\t\treturn opinion[200];\n\t\tcase ArticleSpecial.Labs:\n\t\t\treturn labs[200];\n\t\tcase ArticleSpecial.SpecialReport:\n\t\t\treturn specialReport[200];\n\t\tdefault:\n\t\t\treturn news[200];\n\t}\n};\n\nconst backgroundFilterButtonActive = (format: ArticleFormat): string => {\n\tswitch (format.theme) {\n\t\tcase ArticlePillar.News:\n\t\t\treturn news[300];\n\t\tcase ArticlePillar.Culture:\n\t\t\treturn culture[300];\n\t\tcase ArticlePillar.Lifestyle:\n\t\t\treturn lifestyle[300];\n\t\tcase ArticlePillar.Sport:\n\t\t\treturn sport[300];\n\t\tcase ArticlePillar.Opinion:\n\t\t\treturn opinion[300];\n\t\tcase ArticleSpecial.Labs:\n\t\t\treturn labs[300];\n\t\tcase ArticleSpecial.SpecialReport:\n\t\t\treturn specialReport[300];\n\t\tdefault:\n\t\t\treturn news[300];\n\t}\n};\n\nconst fillCommentCount = (format: ArticleFormat): string => {\n\tif (\n\t\tformat.design === ArticleDesign.LiveBlog ||\n\t\tformat.design === ArticleDesign.DeadBlog\n\t)\n\t\treturn neutral[46];\n\tif (format.theme === ArticleSpecial.Labs) return BLACK;\n\tif (format.theme === ArticleSpecial.SpecialReport)\n\t\treturn specialReport[300];\n\n\tif (format.theme === ArticleSpecial.SpecialReportAlt)\n\t\treturn palette.specialReportAlt[100];\n\n\tif (format.design === ArticleDesign.Analysis) {\n\t\tswitch (format.theme) {\n\t\t\tcase ArticlePillar.News:\n\t\t\t\treturn news[300];\n\t\t\tdefault:\n\t\t\t\treturn pillarPalette[format.theme].main;\n\t\t}\n\t}\n\treturn pillarPalette[format.theme].main;\n};\n\nconst fillCommentCountUntilDesktop = (format: ArticleFormat): string => {\n\tif (format.design === ArticleDesign.LiveBlog) return WHITE;\n\n\treturn fillCommentCount(format);\n};\n\nconst fillShareIcon = (format: ArticleFormat): string => {\n\tif (format.design === ArticleDesign.DeadBlog) {\n\t\tswitch (format.theme) {\n\t\t\tcase ArticlePillar.Culture:\n\t\t\t\treturn culture[350];\n\t\t\tcase ArticlePillar.News:\n\t\t\t\treturn news[400];\n\t\t\tcase ArticlePillar.Lifestyle:\n\t\t\t\treturn lifestyle[400];\n\t\t\tcase ArticlePillar.Sport:\n\t\t\t\treturn sport[400];\n\t\t\tcase ArticlePillar.Opinion:\n\t\t\t\treturn opinion[300];\n\t\t\tcase ArticleSpecial.Labs:\n\t\t\t\treturn BLACK;\n\t\t\tcase ArticleSpecial.SpecialReport:\n\t\t\t\treturn specialReport[300];\n\t\t\tcase ArticleSpecial.SpecialReportAlt:\n\t\t\t\treturn news[400];\n\t\t}\n\t}\n\tif (format.design === ArticleDesign.Analysis) {\n\t\tswitch (format.theme) {\n\t\t\tcase ArticlePillar.Culture:\n\t\t\t\treturn culture[350];\n\t\t\tcase ArticlePillar.News:\n\t\t\t\treturn news[300];\n\t\t\tcase ArticlePillar.Lifestyle:\n\t\t\t\treturn lifestyle[400];\n\t\t\tcase ArticlePillar.Sport:\n\t\t\t\treturn sport[400];\n\t\t\tcase ArticlePillar.Opinion:\n\t\t\t\treturn opinion[300];\n\t\t\tcase ArticleSpecial.Labs:\n\t\t\t\treturn BLACK;\n\t\t\tcase ArticleSpecial.SpecialReport:\n\t\t\t\treturn specialReport[300];\n\t\t\tcase ArticleSpecial.SpecialReportAlt:\n\t\t\t\treturn palette.specialReportAlt[100];\n\t\t}\n\t}\n\tif (\n\t\tformat.design === ArticleDesign.NewsletterSignup &&\n\t\tformat.display === ArticleDisplay.Standard\n\t)\n\t\treturn BLACK;\n\n\tif (format.theme === ArticleSpecial.Labs) return BLACK;\n\tif (format.theme === ArticleSpecial.SpecialReport)\n\t\treturn specialReport[300];\n\n\tif (\n\t\tformat.theme === ArticleSpecial.SpecialReportAlt &&\n\t\tformat.design !== ArticleDesign.LiveBlog\n\t)\n\t\treturn palette.specialReportAlt[100];\n\n\tswitch (format.theme) {\n\t\tcase ArticlePillar.News:\n\t\t\treturn news[400];\n\t\tcase ArticlePillar.Opinion:\n\t\t\treturn opinion[400];\n\t\tcase ArticlePillar.Sport:\n\t\t\treturn sport[400];\n\t\tcase ArticlePillar.Culture:\n\t\t\treturn culture[400];\n\t\tcase ArticlePillar.Lifestyle:\n\t\t\treturn lifestyle[400];\n\t\tcase ArticleSpecial.SpecialReportAlt:\n\t\t\treturn news[400];\n\t}\n};\n\nconst fillShareCountIcon = (format: ArticleFormat): string => {\n\tif (\n\t\tformat.theme === ArticleSpecial.SpecialReportAlt &&\n\t\tformat.design !== ArticleDesign.DeadBlog &&\n\t\tformat.design !== ArticleDesign.LiveBlog\n\t)\n\t\treturn palette.specialReportAlt[100];\n\n\treturn neutral[46];\n};\n\nconst fillShareCountIconUntilDesktop = (format: ArticleFormat): string => {\n\tif (format.design === ArticleDesign.LiveBlog) return WHITE;\n\treturn fillShareCountIcon(format);\n};\n\nconst fillShareIconGrayBackground = (format: ArticleFormat): string => {\n\tswitch (format.design) {\n\t\tcase ArticleDesign.LiveBlog:\n\t\tcase ArticleDesign.DeadBlog:\n\t\t\treturn blogsGrayBackgroundPalette(format);\n\t\tdefault:\n\t\t\treturn pillarPalette[format.theme].dark;\n\t}\n};\n\nconst fillCaptionCamera = (format: ArticleFormat): string =>\n\ttextCaption(format);\n\nconst fillBlockquoteIcon = (format: ArticleFormat): string => {\n\tif (format.design === ArticleDesign.Analysis) {\n\t\tswitch (format.theme) {\n\t\t\tcase ArticlePillar.News:\n\t\t\t\treturn news[300];\n\t\t\tdefault:\n\t\t\t\treturn pillarPalette[format.theme].main;\n\t\t}\n\t}\n\n\tif (\n\t\tformat.design === ArticleDesign.DeadBlog ||\n\t\tformat.design === ArticleDesign.LiveBlog\n\t) {\n\t\tswitch (format.theme) {\n\t\t\tcase ArticlePillar.News:\n\t\t\t\treturn news[400];\n\t\t\tcase ArticlePillar.Opinion:\n\t\t\t\treturn opinion[400];\n\t\t\tcase ArticlePillar.Sport:\n\t\t\t\treturn sport[400];\n\t\t\tcase ArticlePillar.Culture:\n\t\t\t\treturn culture[400];\n\t\t\tcase ArticlePillar.Lifestyle:\n\t\t\t\treturn lifestyle[400];\n\t\t\tcase ArticleSpecial.SpecialReport:\n\t\t\t\treturn specialReport[400];\n\t\t\tcase ArticleSpecial.SpecialReportAlt:\n\t\t\t\treturn news[400];\n\t\t\tcase ArticleSpecial.Labs:\n\t\t\t\treturn labs[400];\n\t\t}\n\t}\n\n\treturn pillarPalette[format.theme].main;\n};\n\nconst fillTwitterHandleBelowDesktop = (format: ArticleFormat): string => {\n\tif (format.design === ArticleDesign.LiveBlog) return WHITE;\n\n\tif (\n\t\tformat.theme === ArticleSpecial.SpecialReportAlt &&\n\t\tformat.design !== ArticleDesign.DeadBlog\n\t)\n\t\treturn palette.specialReportAlt[100];\n\n\treturn neutral[46];\n};\n\nconst fillGuardianLogo = (format: ArticleFormat): string => {\n\tif (format.design === ArticleDesign.NewsletterSignup) return WHITE;\n\n\treturn WHITE;\n};\n\nconst fillTwitterHandle = (format: ArticleFormat): string => {\n\tif (format.theme === ArticleSpecial.SpecialReportAlt)\n\t\treturn palette.specialReportAlt[100];\n\n\treturn neutral[46];\n};\n\nconst borderSyndicationButton = (format: ArticleFormat): string => {\n\tif (format.theme === ArticleSpecial.Labs) return neutral[60];\n\tif (\n\t\tformat.theme === ArticleSpecial.SpecialReportAlt &&\n\t\tformat.design !== ArticleDesign.DeadBlog &&\n\t\tformat.design !== ArticleDesign.LiveBlog\n\t)\n\t\treturn palette.specialReportAlt[100];\n\n\treturn border.secondary;\n};\n\nconst borderSubNav = (format: ArticleFormat): string => {\n\tif (format.design === ArticleDesign.Analysis) {\n\t\tswitch (format.theme) {\n\t\t\tcase ArticlePillar.News:\n\t\t\t\treturn news[300];\n\t\t\tdefault:\n\t\t\t\treturn pillarPalette[format.theme].main;\n\t\t}\n\t}\n\treturn pillarPalette[format.theme].main;\n};\n\nconst borderLiveBlock = (format: ArticleFormat): string => {\n\tif (format.design === ArticleDesign.DeadBlog) {\n\t\tswitch (format.theme) {\n\t\t\tcase ArticlePillar.News:\n\t\t\t\treturn news[400];\n\t\t\tcase ArticlePillar.Culture:\n\t\t\t\treturn culture[350];\n\t\t\tcase ArticlePillar.Lifestyle:\n\t\t\t\treturn lifestyle[400];\n\t\t\tcase ArticlePillar.Sport:\n\t\t\t\treturn sport[400];\n\t\t\tcase ArticlePillar.Opinion:\n\t\t\t\treturn opinion[300];\n\t\t\tcase ArticleSpecial.Labs:\n\t\t\t\treturn labs[400];\n\t\t\tcase ArticleSpecial.SpecialReport:\n\t\t\t\treturn specialReport[400];\n\t\t\tcase ArticleSpecial.SpecialReportAlt:\n\t\t\t\treturn news[400];\n\t\t}\n\t}\n\n\treturn pillarPalette[format.theme].main;\n};\n\nconst borderPinnedPost = (format: ArticleFormat): string => {\n\tswitch (format.theme) {\n\t\tcase ArticlePillar.News:\n\t\t\treturn news[300];\n\t\tcase ArticlePillar.Culture:\n\t\t\treturn culture[300];\n\t\tcase ArticlePillar.Lifestyle:\n\t\t\treturn lifestyle[300];\n\t\tcase ArticlePillar.Sport:\n\t\t\treturn sport[300];\n\t\tcase ArticlePillar.Opinion:\n\t\t\treturn opinion[300];\n\t\tcase ArticleSpecial.Labs:\n\t\t\treturn labs[300];\n\t\tcase ArticleSpecial.SpecialReport:\n\t\t\treturn specialReport[300];\n\t\tcase ArticleSpecial.SpecialReportAlt:\n\t\t\treturn news[300];\n\t}\n};\n\nconst borderArticleLink = (format: ArticleFormat): string => {\n\tif (format.theme === ArticleSpecial.Labs) return neutral[60];\n\n\tif (format.theme === ArticleSpecial.SpecialReport)\n\t\treturn specialReport[300];\n\n\tif (\n\t\tformat.theme === ArticleSpecial.SpecialReportAlt &&\n\t\tformat.design !== ArticleDesign.DeadBlog &&\n\t\tformat.design !== ArticleDesign.LiveBlog\n\t)\n\t\treturn transparentColour(neutral[60], 0.3);\n\n\treturn border.secondary;\n};\n\nconst borderStandfirstLink = (format: ArticleFormat): string => {\n\tif (format.design === ArticleDesign.LiveBlog) {\n\t\tswitch (format.theme) {\n\t\t\tcase ArticlePillar.News:\n\t\t\t\treturn news[600];\n\t\t\tcase ArticlePillar.Culture:\n\t\t\t\treturn culture[400];\n\t\t\tcase ArticlePillar.Lifestyle:\n\t\t\t\treturn lifestyle[500];\n\t\t\tcase ArticlePillar.Sport:\n\t\t\t\treturn sport[600];\n\t\t\tcase ArticlePillar.Opinion:\n\t\t\t\treturn opinion[500];\n\t\t\tcase ArticleSpecial.Labs:\n\t\t\t\treturn news[600];\n\t\t\tcase ArticleSpecial.SpecialReport:\n\t\t\t\treturn specialReport[450];\n\t\t\tcase ArticleSpecial.SpecialReportAlt:\n\t\t\t\treturn news[600];\n\t\t}\n\t}\n\tif (format.theme === ArticleSpecial.SpecialReport)\n\t\treturn specialReport[400];\n\n\tif (format.theme === ArticleSpecial.SpecialReportAlt)\n\t\treturn transparentColour(neutral[60], 0.3);\n\n\treturn border.secondary;\n};\n\nconst borderHeadline = (format: ArticleFormat): string => {\n\tif (format.design === ArticleDesign.LiveBlog) {\n\t\treturn 'rgba(255,255,255, 0.2)';\n\t}\n\tif (format.design === ArticleDesign.DeadBlog) return '#CDCDCD';\n\treturn border.secondary;\n};\n\nconst borderStandfirst = (format: ArticleFormat): string => {\n\tif (format.design === ArticleDesign.LiveBlog) {\n\t\treturn 'rgba(255,255,255, 0.2)';\n\t}\n\tif (format.design === ArticleDesign.DeadBlog) return '#BDBDBD';\n\treturn border.secondary;\n};\n\nconst matchTab = (): string => {\n\treturn border.secondary;\n};\n\nconst activeMatchTab = (): string => {\n\treturn sport[300];\n};\n\nconst borderCardSupporting = (format: ArticleFormat): string => {\n\tswitch (format.design) {\n\t\tcase ArticleDesign.Comment:\n\t\tcase ArticleDesign.Letter:\n\t\t\tswitch (format.theme) {\n\t\t\t\tcase ArticleSpecial.SpecialReport:\n\t\t\t\t\treturn opinion[550];\n\t\t\t\tdefault:\n\t\t\t\t\treturn neutral[46];\n\t\t\t}\n\t\tcase ArticleDesign.LiveBlog:\n\t\t\tswitch (format.theme) {\n\t\t\t\tcase ArticlePillar.News:\n\t\t\t\t\treturn news[600];\n\t\t\t\tcase ArticlePillar.Sport:\n\t\t\t\t\treturn sport[600];\n\t\t\t\tcase ArticlePillar.Opinion:\n\t\t\t\t\treturn WHITE;\n\t\t\t\tcase ArticlePillar.Culture:\n\t\t\t\t\treturn culture[600];\n\t\t\t\tcase ArticlePillar.Lifestyle:\n\t\t\t\t\treturn lifestyle[500];\n\t\t\t\tcase ArticleSpecial.SpecialReport:\n\t\t\t\t\treturn brandAlt[400];\n\t\t\t\tcase ArticleSpecial.Labs:\n\t\t\t\tdefault:\n\t\t\t\t\treturn BLACK;\n\t\t\t}\n\t\tcase ArticleDesign.Gallery:\n\t\tcase ArticleDesign.Audio:\n\t\tcase ArticleDesign.Video:\n\t\t\tswitch (format.theme) {\n\t\t\t\tcase ArticleSpecial.SpecialReport:\n\t\t\t\t\treturn brandAlt[400];\n\t\t\t\tcase ArticleSpecial.SpecialReportAlt:\n\t\t\t\t\treturn news[600];\n\t\t\t\tcase ArticlePillar.News:\n\t\t\t\t\treturn news[600];\n\t\t\t\tcase ArticlePillar.Sport:\n\t\t\t\t\treturn sport[600];\n\t\t\t\tcase ArticlePillar.Opinion:\n\t\t\t\t\treturn opinion[550];\n\t\t\t\tcase ArticlePillar.Lifestyle:\n\t\t\t\t\treturn lifestyle[500];\n\t\t\t\tcase ArticlePillar.Culture:\n\t\t\t\t\treturn culture[500];\n\t\t\t\tcase ArticleSpecial.Labs:\n\t\t\t\t\treturn labs[400];\n\t\t\t}\n\t\tdefault:\n\t\t\tswitch (format.theme) {\n\t\t\t\tcase ArticleSpecial.SpecialReport:\n\t\t\t\t\treturn brandAltBackground.primary;\n\t\t\t\tdefault:\n\t\t\t\t\treturn neutral[86];\n\t\t\t}\n\t}\n};\n\nconst backgroundMatchNav = (): string => {\n\treturn brandAlt[400];\n};\n\nconst backgroundUnderline = (format: ArticleFormat): string =>\n\ttransparentColour(textCardKicker(format));\n\nconst borderArticleLinkHover = (format: ArticleFormat): string => {\n\tif (format.theme === ArticleSpecial.Labs) return BLACK;\n\tif (format.theme === ArticleSpecial.SpecialReport)\n\t\treturn specialReport[100];\n\n\tif (\n\t\tformat.theme === ArticleSpecial.SpecialReportAlt &&\n\t\tformat.design !== ArticleDesign.LiveBlog &&\n\t\tformat.design !== ArticleDesign.DeadBlog\n\t)\n\t\treturn palette.specialReportAlt[200];\n\n\tif (format.design === ArticleDesign.Analysis) {\n\t\tswitch (format.theme) {\n\t\t\tcase ArticlePillar.News:\n\t\t\t\treturn news[300];\n\t\t\tdefault:\n\t\t\t\treturn pillarPalette[format.theme].main;\n\t\t}\n\t}\n\treturn pillarPalette[format.theme].main;\n};\n\nconst topBarCard = (format: ArticleFormat): string => {\n\tif (format.theme === ArticleSpecial.SpecialReportAlt) return neutral[60];\n\tif (format.theme === ArticleSpecial.SpecialReport)\n\t\treturn brandAltBackground.primary;\n\tif (format.design === ArticleDesign.Analysis) {\n\t\tswitch (format.theme) {\n\t\t\tcase ArticlePillar.News:\n\t\t\t\treturn news[300];\n\t\t\tdefault:\n\t\t\t\treturn pillarPalette[format.theme].main;\n\t\t}\n\t}\n\treturn pillarPalette[format.theme].main;\n};\n\nconst hoverHeadlineByline = (format: ArticleFormat): string => {\n\tif (format.theme === ArticleSpecial.Labs) return BLACK;\n\treturn pillarPalette[format.theme].dark;\n};\n\nconst textRichLink = (format: ArticleFormat): string => {\n\tif (format.design === ArticleDesign.Analysis) return news[300];\n\tswitch (format.theme) {\n\t\tcase ArticlePillar.News:\n\t\t\treturn news[400];\n\t\tcase ArticlePillar.Culture:\n\t\t\treturn culture[350];\n\t\tcase ArticlePillar.Lifestyle:\n\t\t\treturn lifestyle[300];\n\t\tcase ArticlePillar.Sport:\n\t\t\treturn sport[400];\n\t\tcase ArticlePillar.Opinion:\n\t\t\treturn opinion[300];\n\t\tcase ArticleSpecial.Labs:\n\t\t\treturn BLACK;\n\t\tcase ArticleSpecial.SpecialReport:\n\t\t\treturn specialReport[400];\n\t\tcase ArticleSpecial.SpecialReportAlt:\n\t\t\treturn news[400];\n\t}\n};\n\nconst textPagination = (format: ArticleFormat) => {\n\tswitch (format.theme) {\n\t\tcase ArticlePillar.News:\n\t\t\treturn news[400];\n\t\tcase ArticlePillar.Lifestyle:\n\t\t\treturn lifestyle[300];\n\t\tcase ArticlePillar.Sport:\n\t\t\treturn sport[300];\n\t\tcase ArticlePillar.Culture:\n\t\t\treturn culture[300];\n\t\tcase ArticlePillar.Opinion:\n\t\t\treturn opinion[300];\n\t\tcase ArticleSpecial.Labs:\n\t\t\treturn labs[300];\n\t\tcase ArticleSpecial.SpecialReport:\n\t\t\treturn specialReport[300];\n\t\tcase ArticleSpecial.SpecialReportAlt:\n\t\t\treturn news[400];\n\t}\n};\n\nconst hoverStandfirstLink = (format: ArticleFormat): string => {\n\treturn textStandfirstLink(format);\n};\n\nconst borderRichLink: (format: ArticleFormat) => string = (format) => {\n\tswitch (format.theme) {\n\t\tcase ArticlePillar.News:\n\t\t\treturn format.design === ArticleDesign.Analysis\n\t\t\t\t? news[300]\n\t\t\t\t: news[400];\n\t\tcase ArticlePillar.Culture:\n\t\t\treturn culture[350];\n\t\tcase ArticlePillar.Lifestyle:\n\t\t\treturn lifestyle[300];\n\t\tcase ArticlePillar.Sport:\n\t\t\treturn sport[400];\n\t\tcase ArticlePillar.Opinion:\n\t\t\treturn opinion[300];\n\t\tcase ArticleSpecial.Labs:\n\t\t\treturn labs[400];\n\t\tcase ArticleSpecial.SpecialReport:\n\t\t\treturn specialReport[400];\n\t\tcase ArticleSpecial.SpecialReportAlt:\n\t\t\treturn news[400];\n\t}\n};\n\nconst borderNavPillar: (format: ArticleFormat) => string = (format) =>\n\tpillarPalette[format.theme].bright;\n\nconst borderArticle: (format: ArticleFormat) => string = (format) => {\n\tif (format.theme === ArticleSpecial.SpecialReportAlt)\n\t\treturn transparentColour(neutral[60], 0.3);\n\n\tif (format.theme === ArticleSpecial.Labs) return neutral[60];\n\n\treturn neutral[86];\n};\n\nconst borderLines = (format: ArticleFormat): string => {\n\tif (format.theme === ArticleSpecial.Labs) return neutral[60];\n\tif (\n\t\tformat.theme === ArticleSpecial.SpecialReport &&\n\t\t(format.design === ArticleDesign.Comment ||\n\t\t\tformat.design === ArticleDesign.Letter)\n\t)\n\t\treturn neutral[46];\n\n\tif (\n\t\tformat.theme === ArticleSpecial.SpecialReportAlt &&\n\t\t(format.design === ArticleDesign.Comment ||\n\t\t\tformat.design === ArticleDesign.Letter)\n\t)\n\t\treturn transparentColour(neutral[60], 0.3);\n\n\treturn neutral[86];\n};\n\nconst backgroundRichLink = (format: ArticleFormat): string => {\n\tif (format.design === ArticleDesign.Analysis) {\n\t\tswitch (format.theme) {\n\t\t\tcase ArticlePillar.News:\n\t\t\t\treturn news[300];\n\t\t\tdefault:\n\t\t\t\treturn pillarPalette[format.theme].main;\n\t\t}\n\t}\n\treturn pillarPalette[format.theme].main;\n};\n\nconst borderCricketScoreboardTop = (): string => {\n\treturn sport[300];\n};\n\nconst borderCricketScoreboardDivider = (): string => {\n\treturn neutral[86];\n};\n\nconst borderKeyEvent = (): string => neutral[46];\n\nconst borderFilterButton = (): string => neutral[60];\n\nconst borderSecondary = (format: ArticleFormat) => {\n\tif (format.theme === ArticleSpecial.SpecialReportAlt)\n\t\treturn transparentColour(neutral[60], 0.3);\n\n\treturn neutral[86];\n};\n\nconst borderPagination = () => {\n\treturn neutral[86];\n};\n\nconst fillRichLink = (format: ArticleFormat): string => {\n\tif (format.design === ArticleDesign.Analysis) return news[400];\n\tswitch (format.theme) {\n\t\tcase ArticlePillar.News:\n\t\t\treturn news[400];\n\t\tcase ArticlePillar.Culture:\n\t\t\treturn culture[350];\n\t\tcase ArticlePillar.Lifestyle:\n\t\t\treturn lifestyle[300];\n\t\tcase ArticlePillar.Sport:\n\t\t\treturn sport[400];\n\t\tcase ArticlePillar.Opinion:\n\t\t\treturn opinion[300];\n\t\tcase ArticleSpecial.Labs:\n\t\t\treturn labs[400];\n\t\tcase ArticleSpecial.SpecialReport:\n\t\t\treturn specialReport[400];\n\t\tcase ArticleSpecial.SpecialReportAlt:\n\t\t\treturn news[400];\n\t}\n};\n\nconst fillQuoteIcon = (format: ArticleFormat): string => {\n\tif (format.design === ArticleDesign.Analysis) {\n\t\tswitch (format.theme) {\n\t\t\tcase ArticlePillar.News:\n\t\t\t\treturn news[300];\n\t\t\tdefault:\n\t\t\t\treturn pillarPalette[format.theme].main;\n\t\t}\n\t}\n\treturn pillarPalette[format.theme].main;\n};\n\nconst backgroundAnalysisContrastColour = (): string => '#F2E8E6';\nconst backgroundAnalysisContrastHoverColour = (): string => '#e9d9d5';\n\nconst backgroundPullQuote = (format: ArticleFormat): string => {\n\tif (format.theme === ArticleSpecial.SpecialReportAlt)\n\t\treturn palette.specialReportAlt[800];\n\n\tswitch (format.design) {\n\t\tcase ArticleDesign.Editorial:\n\t\tcase ArticleDesign.Letter:\n\t\tcase ArticleDesign.Comment:\n\t\t\treturn '#fbe6d5';\n\t\tcase ArticleDesign.Analysis:\n\t\t\treturn backgroundAnalysisContrastColour();\n\n\t\tdefault:\n\t\t\treturn neutral[97];\n\t}\n};\n\nconst backgroundMessageForm = (format: ArticleFormat): string => {\n\tswitch (format.theme) {\n\t\tcase ArticlePillar.News:\n\t\t\treturn news[100];\n\t\tcase ArticlePillar.Sport:\n\t\t\treturn sport[200];\n\t\tcase ArticlePillar.Lifestyle:\n\t\t\treturn lifestyle[100];\n\t\tcase ArticlePillar.Culture:\n\t\t\treturn culture[100];\n\t\tcase ArticlePillar.Opinion:\n\t\t\treturn opinion[100];\n\t\tcase ArticleSpecial.SpecialReport:\n\t\t\treturn specialReport[100];\n\t\tcase ArticleSpecial.SpecialReportAlt:\n\t\t\treturn news[100];\n\t\tdefault:\n\t\t\treturn news[100];\n\t}\n};\n\nconst textPullQuoteAttribution = (format: ArticleFormat): string =>\n\tfillQuoteIcon(format);\n\nconst textSignInLink = (format: ArticleFormat): string => {\n\treturn pillarPalette[format.theme].dark;\n};\n\nconst textCarouselTitle = (format: ArticleFormat): string => {\n\tif (format.theme === ArticleSpecial.SpecialReportAlt) return neutral[7];\n\n\tif (format.design === ArticleDesign.Analysis) {\n\t\tswitch (format.theme) {\n\t\t\tcase ArticlePillar.News:\n\t\t\t\treturn news[300];\n\t\t\tdefault:\n\t\t\t\treturn pillarPalette[format.theme].main;\n\t\t}\n\t}\n\treturn pillarPalette[format.theme].main;\n};\n\nconst textDropCap = (format: ArticleFormat): string => {\n\tswitch (format.design) {\n\t\tcase ArticleDesign.Analysis: {\n\t\t\tswitch (format.theme) {\n\t\t\t\tcase ArticlePillar.News:\n\t\t\t\t\treturn news[300];\n\t\t\t\tdefault:\n\t\t\t\t\treturn pillarPalette[format.theme].main;\n\t\t\t}\n\t\t}\n\t\tcase ArticleDesign.Editorial:\n\t\tcase ArticleDesign.Letter:\n\t\tcase ArticleDesign.Comment:\n\t\t\treturn format.theme === ArticlePillar.Opinion\n\t\t\t\t? pillarPalette[format.theme].main\n\t\t\t\t: pillarPalette[format.theme].dark;\n\t\tdefault:\n\t\t\treturn pillarPalette[format.theme].dark;\n\t}\n};\n\nconst textBetaLabel = (): string => neutral[46];\n\nconst textDesignTag = (format: ArticleFormat): string => {\n\tif (format.theme === ArticleSpecial.SpecialReportAlt)\n\t\treturn palette.specialReportAlt[800];\n\n\treturn neutral[100];\n};\n\nconst textDateLine = (format: ArticleFormat): string => {\n\tif (\n\t\tformat.theme === ArticleSpecial.SpecialReportAlt &&\n\t\tformat.design !== ArticleDesign.DeadBlog &&\n\t\tformat.design !== ArticleDesign.LiveBlog\n\t)\n\t\treturn palette.specialReportAlt[100];\n\n\treturn neutral[46];\n};\n\nconst textTableOfContents = (): string => {\n\treturn palette.neutral[7];\n};\n\nconst textBlockquote = (format: ArticleFormat): string => {\n\tif (format.theme === ArticleSpecial.SpecialReportAlt) return neutral[7];\n\n\tswitch (format.design) {\n\t\tcase ArticleDesign.LiveBlog:\n\t\tcase ArticleDesign.DeadBlog:\n\t\t\treturn BLACK;\n\t\tcase ArticleDesign.Analysis:\n\t\t\treturn neutral[7];\n\t\tdefault:\n\t\t\treturn neutral[46];\n\t}\n};\n\nconst textNumberedTitle = (format: ArticleFormat): string => {\n\treturn pillarPalette[format.theme].main;\n};\n\nconst textNumberedPosition = (): string => {\n\treturn text.supporting;\n};\n\nconst textOverlaid = (): string => {\n\treturn WHITE;\n};\n\nconst textKeyEventTime = (): string => neutral[7];\n\nconst textFilterButton = (): string => neutral[7];\n\nconst textFilterButtonHover = (): string => neutral[100];\n\nconst textFilterButtonActive = (): string => neutral[100];\n\nconst backgroundFilterButton = (): string => neutral[100];\n\nconst backgroundHeadlineTag = (format: ArticleFormat): string =>\n\tpillarPalette[format.theme].dark;\n\nconst backgroundCarouselDot = (format: ArticleFormat): string => {\n\tswitch (format.theme) {\n\t\tcase ArticlePillar.News:\n\t\t\treturn news[400];\n\t\tcase ArticlePillar.Sport:\n\t\t\treturn sport[400];\n\t\tcase ArticlePillar.Lifestyle:\n\t\t\treturn lifestyle[400];\n\t\tcase ArticlePillar.Culture:\n\t\t\treturn culture[400];\n\t\tcase ArticlePillar.Opinion:\n\t\t\treturn opinion[400];\n\t\tcase ArticleSpecial.Labs:\n\t\t\treturn labs[400];\n\t\tcase ArticleSpecial.SpecialReport:\n\t\t\treturn specialReport[400];\n\t\tcase ArticleSpecial.SpecialReportAlt:\n\t\t\treturn palette.specialReportAlt[100];\n\t}\n};\n\nconst backgroundCarouselDotFocus = (format: ArticleFormat): string => {\n\tif (format.design === ArticleDesign.Analysis) {\n\t\tswitch (format.theme) {\n\t\t\tcase ArticlePillar.News:\n\t\t\t\treturn news[300];\n\t\t\tdefault:\n\t\t\t\treturn pillarPalette[format.theme].main;\n\t\t}\n\t}\n\treturn pillarPalette[format.theme].main;\n};\n\nconst backgroundMostViewedTab = (format: ArticleFormat): string => {\n\treturn pillarPalette[format.theme].dark;\n};\n\nconst textShareCount = (format: ArticleFormat): string => {\n\tif (\n\t\tformat.theme === ArticleSpecial.SpecialReportAlt &&\n\t\tformat.design !== ArticleDesign.DeadBlog &&\n\t\tformat.design !== ArticleDesign.LiveBlog\n\t)\n\t\treturn palette.specialReportAlt[100];\n\n\treturn text.supporting;\n};\n\nconst textShareCountUntilDesktop = (format: ArticleFormat): string => {\n\tif (format.design === ArticleDesign.LiveBlog) return WHITE;\n\n\tif (\n\t\tformat.theme === ArticleSpecial.SpecialReportAlt &&\n\t\tformat.design !== ArticleDesign.DeadBlog\n\t)\n\t\treturn palette.specialReportAlt[100];\n\n\treturn text.supporting;\n};\n\nconst backgroundMatchStats = (format: ArticleFormat): string => {\n\tswitch (format.design) {\n\t\tcase ArticleDesign.LiveBlog:\n\t\tcase ArticleDesign.DeadBlog:\n\t\t\treturn neutral[97];\n\t\tdefault:\n\t\t\treturn '#d9edf6';\n\t}\n};\n\nconst backgroundKeyEventBullet = (): string => neutral[46];\n\nconst backgroundKeyEvent = (): string => neutral[97];\n\nconst backgroundKeyEventFromDesktop = (): string => neutral[93];\n\nconst backgroundSummaryEventBullet = (format: ArticleFormat): string => {\n\tswitch (format.theme) {\n\t\tcase ArticlePillar.News:\n\t\t\treturn news[400];\n\t\tcase ArticlePillar.Sport:\n\t\t\treturn sport[400];\n\t\tcase ArticlePillar.Lifestyle:\n\t\t\treturn lifestyle[400];\n\t\tcase ArticlePillar.Culture:\n\t\t\treturn culture[400];\n\t\tcase ArticlePillar.Opinion:\n\t\t\treturn opinion[400];\n\t\tcase ArticleSpecial.Labs:\n\t\t\treturn labs[400];\n\t\tcase ArticleSpecial.SpecialReport:\n\t\t\treturn specialReport[400];\n\t\tcase ArticleSpecial.SpecialReportAlt:\n\t\t\treturn news[400];\n\t}\n};\n\nconst backgroundTreat = (format: ArticleFormat): string => {\n\tswitch (format.theme) {\n\t\tcase ArticlePillar.News:\n\t\t\treturn news[300];\n\t\tcase ArticlePillar.Sport:\n\t\t\treturn sport[300];\n\t\tcase ArticlePillar.Lifestyle:\n\t\t\treturn lifestyle[300];\n\t\tcase ArticlePillar.Culture:\n\t\t\treturn culture[300];\n\t\tcase ArticlePillar.Opinion:\n\t\t\treturn opinion[300];\n\t\tcase ArticleSpecial.Labs:\n\t\t\treturn labs[300];\n\t\tcase ArticleSpecial.SpecialReport:\n\t\t\treturn specialReport[300];\n\t\tcase ArticleSpecial.SpecialReportAlt:\n\t\t\treturn news[300];\n\t}\n};\n\nconst backgroundDesignTag = (format: ArticleFormat): string => {\n\tswitch (format.theme) {\n\t\tcase ArticlePillar.News:\n\t\t\treturn news[300];\n\t\tcase ArticlePillar.Sport:\n\t\t\treturn sport[300];\n\t\tcase ArticlePillar.Lifestyle:\n\t\t\treturn lifestyle[300];\n\t\tcase ArticlePillar.Culture:\n\t\t\treturn culture[300];\n\t\tcase ArticlePillar.Opinion:\n\t\t\treturn opinion[300];\n\t\tcase ArticleSpecial.Labs:\n\t\t\treturn labs[300];\n\t\tcase ArticleSpecial.SpecialReport:\n\t\t\treturn specialReport[300];\n\t\tcase ArticleSpecial.SpecialReportAlt:\n\t\t\treturn palette.specialReportAlt[100];\n\t}\n};\n\nconst hoverKeyEventLink = (format: ArticleFormat): string => {\n\tswitch (format.theme) {\n\t\tcase ArticlePillar.News:\n\t\t\treturn news[400];\n\t\tcase ArticlePillar.Sport:\n\t\t\treturn sport[400];\n\t\tcase ArticlePillar.Lifestyle:\n\t\t\treturn lifestyle[400];\n\t\tcase ArticlePillar.Culture:\n\t\t\treturn culture[400];\n\t\tcase ArticlePillar.Opinion:\n\t\t\treturn opinion[400];\n\t\tcase ArticleSpecial.Labs:\n\t\t\treturn labs[400];\n\t\tcase ArticleSpecial.SpecialReport:\n\t\t\treturn specialReport[400];\n\t\tcase ArticleSpecial.SpecialReportAlt:\n\t\t\treturn news[400];\n\t}\n};\n\nconst hoverKeyEventBullet = (): string => neutral[0];\n\nconst hoverSummaryEventBullet = (format: ArticleFormat): string => {\n\tswitch (format.theme) {\n\t\tcase ArticlePillar.News:\n\t\t\treturn news[200];\n\t\tcase ArticlePillar.Sport:\n\t\t\treturn sport[200];\n\t\tcase ArticlePillar.Lifestyle:\n\t\t\treturn lifestyle[200];\n\t\tcase ArticlePillar.Culture:\n\t\t\treturn culture[200];\n\t\tcase ArticlePillar.Opinion:\n\t\t\treturn opinion[200];\n\t\tcase ArticleSpecial.Labs:\n\t\t\treturn labs[200];\n\t\tcase ArticleSpecial.SpecialReport:\n\t\t\treturn specialReport[200];\n\t\tcase ArticleSpecial.SpecialReportAlt:\n\t\t\treturn news[200];\n\t}\n};\n\nconst hoverPagination = (format: ArticleFormat) => {\n\tswitch (format.theme) {\n\t\tcase ArticlePillar.News:\n\t\t\treturn news[400];\n\t\tcase ArticlePillar.Lifestyle:\n\t\t\treturn lifestyle[300];\n\t\tcase ArticlePillar.Sport:\n\t\t\treturn sport[300];\n\t\tcase ArticlePillar.Culture:\n\t\t\treturn culture[300];\n\t\tcase ArticlePillar.Opinion:\n\t\t\treturn opinion[300];\n\t\tcase ArticleSpecial.Labs:\n\t\t\treturn labs[300];\n\t\tcase ArticleSpecial.SpecialReport:\n\t\t\treturn specialReport[300];\n\t\tcase ArticleSpecial.SpecialReportAlt:\n\t\t\treturn news[400];\n\t}\n};\n\nexport const decidePalette = (\n\tformat: ArticleFormat,\n\tcontainerPalette?: DCRContainerPalette,\n): Palette => {\n\tconst overrides =\n\t\tcontainerPalette && decideContainerOverrides(containerPalette);\n\treturn {\n\t\ttext: {\n\t\t\theadline: textHeadline(format),\n\t\t\theadlineWhenMatch: textHeadlineWhenMatch(format),\n\t\t\tseriesTitle: textSeriesTitle(format),\n\t\t\tseriesTitleWhenMatch: textSeriesTitleWhenMatch(format),\n\t\t\tsectionTitle: textSectionTitle(format),\n\t\t\tbyline: textByline(format),\n\t\t\ttwitterHandle: textTwitterHandle(format),\n\t\t\ttwitterHandleBelowDesktop: textTwitterHandleBelowDesktop(format),\n\t\t\tcaption: textCaption(format),\n\t\t\tcaptionLink: textCaptionLink(format),\n\t\t\tsubMeta: textSubMeta(format),\n\t\t\tsubMetaLabel: textSubMetaLabel(format),\n\t\t\tsubMetaLink: textSubMetaLink(format),\n\t\t\tsyndicationButton: textSyndicationButton(format),\n\t\t\tarticleLink: textArticleLink(format),\n\t\t\tarticleLinkHover: textArticleLinkHover(format),\n\t\t\tcardHeadline:\n\t\t\t\toverrides?.text.cardHeadline ?? textCardHeadline(format),\n\t\t\tdynamoHeadline:\n\t\t\t\toverrides?.text.dynamoHeadline ?? textCardHeadline(format),\n\t\t\tcardByline: overrides?.text.cardByline ?? textCardByline(format),\n\t\t\tcardKicker: overrides?.text.cardKicker ?? textCardKicker(format),\n\t\t\tdynamoKicker:\n\t\t\t\toverrides?.text.dynamoKicker ?? textCardKicker(format),\n\t\t\tlinkKicker: textLinkKicker(format),\n\t\t\tcardStandfirst:\n\t\t\t\toverrides?.text.cardStandfirst ?? textCardStandfirst(format),\n\t\t\tcardFooter: overrides?.text.cardFooter ?? textCardFooter(format),\n\t\t\tdynamoMeta: overrides?.text.dynamoMeta ?? textCardFooter(format),\n\t\t\theadlineByline: textHeadlineByline(format),\n\t\t\tstandfirst: textStandfirst(format),\n\t\t\tstandfirstLink: textStandfirstLink(format),\n\t\t\tlastUpdated: textLastUpdated(format),\n\t\t\tbranding: textBranding(format),\n\t\t\tdisclaimerLink: textDisclaimerLink(format),\n\t\t\tsignInLink: textSignInLink(format),\n\t\t\trichLink: textRichLink(format),\n\t\t\tpagination: textPagination(format),\n\t\t\tpullQuote: textPullQuote(format),\n\t\t\tpullQuoteAttribution: textPullQuoteAttribution(format),\n\t\t\twitnessIcon: textWitnessIcon(format),\n\t\t\twitnessAuthor: textWitnessAuthor(format),\n\t\t\twitnessTitle: textWitnessTitle(format),\n\t\t\tcarouselTitle: textCarouselTitle(format),\n\t\t\tdropCap: textDropCap(format),\n\t\t\tblockquote: textBlockquote(format),\n\t\t\tnumberedTitle: textNumberedTitle(format),\n\t\t\tnumberedPosition: textNumberedPosition(),\n\t\t\toverlaidCaption: textOverlaid(),\n\t\t\tshareCount: textShareCount(format),\n\t\t\tshareCountUntilDesktop: textShareCountUntilDesktop(format),\n\t\t\tcricketScoreboardLink: textCricketScoreboardLink(),\n\t\t\tkeyEvent: textKeyEvent(format),\n\t\t\tkeyEventFromDesktop: textKeyEventFromDesktop(format),\n\t\t\tkeyEventTime: textKeyEventTime(),\n\t\t\tfilterButton: textFilterButton(),\n\t\t\tfilterButtonHover: textFilterButtonHover(),\n\t\t\tfilterButtonActive: textFilterButtonActive(),\n\t\t\tbetaLabel: textBetaLabel(),\n\t\t\tdesignTag: textDesignTag(format),\n\t\t\tdateLine: textDateLine(format),\n\t\t\ttableOfContents: textTableOfContents(),\n\t\t},\n\t\tbackground: {\n\t\t\tarticle: backgroundArticle(format),\n\t\t\tanalysisContrast: backgroundAnalysisContrastColour(),\n\t\t\tanalysisContrastHover: backgroundAnalysisContrastHoverColour(),\n\t\t\tseriesTitle: backgroundSeriesTitle(format),\n\t\t\tsectionTitle: backgroundSectionTitle(format),\n\t\t\tavatar: backgroundAvatar(format),\n\t\t\tcard: overrides?.background.card ?? backgroundCard(format),\n\t\t\theadline: backgroundHeadline(format),\n\t\t\theadlineByline: backgroundHeadlineByline(format),\n\t\t\tbullet: backgroundBullet(format),\n\t\t\tbulletStandfirst: backgroundBulletStandfirst(format),\n\t\t\theader: backgroundHeader(format),\n\t\t\tstandfirst: backgroundStandfirst(format),\n\t\t\trichLink: backgroundRichLink(format),\n\t\t\timageTitle: backgroundImageTitle(format),\n\t\t\tspeechBubble: backgroundSpeechBubble(format),\n\t\t\tcarouselDot: backgroundCarouselDot(format),\n\t\t\tcarouselDotFocus: backgroundCarouselDotFocus(format),\n\t\t\theadlineTag: backgroundHeadlineTag(format),\n\t\t\tmostViewedTab: backgroundMostViewedTab(format),\n\t\t\tmatchNav: backgroundMatchNav(),\n\t\t\tanalysisUnderline: backgroundUnderline(format),\n\t\t\tmatchStats: backgroundMatchStats(format),\n\t\t\tageWarning: backgroundAgeWarning(format),\n\t\t\tkeyEventBullet: backgroundKeyEventBullet(),\n\t\t\tsummaryEventBullet: backgroundSummaryEventBullet(format),\n\t\t\tkeyEvent: backgroundKeyEvent(),\n\t\t\tkeyEventFromDesktop: backgroundKeyEventFromDesktop(),\n\t\t\tfilterButton: backgroundFilterButton(),\n\t\t\tfilterButtonHover: backgroundFilterButtonHover(format),\n\t\t\tfilterButtonActive: backgroundFilterButtonActive(format),\n\t\t\ttreat: backgroundTreat(format),\n\t\t\tdesignTag: backgroundDesignTag(format),\n\t\t\tpullQuote: backgroundPullQuote(format),\n\t\t\tmessageForm: backgroundMessageForm(format),\n\t\t},\n\t\tfill: {\n\t\t\tcommentCount: fillCommentCount(format),\n\t\t\tcommentCountUntilDesktop: fillCommentCountUntilDesktop(format),\n\t\t\tshareIcon: fillShareIcon(format),\n\t\t\tshareCountIcon: fillShareCountIcon(format),\n\t\t\tshareCountIconUntilDesktop: fillShareCountIconUntilDesktop(format),\n\t\t\tshareIconGrayBackground: fillShareIconGrayBackground(format),\n\t\t\tcameraCaptionIcon: fillCaptionCamera(format),\n\t\t\trichLink: fillRichLink(format),\n\t\t\tquoteIcon: fillQuoteIcon(format),\n\t\t\tblockquoteIcon: fillBlockquoteIcon(format),\n\t\t\ttwitterHandleBelowDesktop: fillTwitterHandleBelowDesktop(format),\n\t\t\ttwitterHandle: fillTwitterHandle(format),\n\t\t\tguardianLogo: fillGuardianLogo(format),\n\t\t},\n\t\tborder: {\n\t\t\tsyndicationButton: borderSyndicationButton(format),\n\t\t\tsubNav: borderSubNav(format),\n\t\t\tarticleLink: borderArticleLink(format),\n\t\t\tarticleLinkHover: borderArticleLinkHover(format),\n\t\t\tliveBlock: borderLiveBlock(format),\n\t\t\tpinnedPost: borderPinnedPost(format),\n\t\t\tstandfirstLink: borderStandfirstLink(format),\n\t\t\theadline: borderHeadline(format),\n\t\t\tstandfirst: borderStandfirst(format),\n\t\t\trichLink: borderRichLink(format),\n\t\t\tnavPillar: borderNavPillar(format),\n\t\t\tarticle: borderArticle(format),\n\t\t\tlines: overrides?.border.lines ?? borderLines(format),\n\t\t\tcricketScoreboardTop: borderCricketScoreboardTop(),\n\t\t\tcricketScoreboardDivider: borderCricketScoreboardDivider(),\n\t\t\tmatchTab: matchTab(),\n\t\t\tactiveMatchTab: activeMatchTab(),\n\t\t\tcardSupporting: borderCardSupporting(format),\n\t\t\tkeyEvent: borderKeyEvent(),\n\t\t\tfilterButton: borderFilterButton(),\n\t\t\tsecondary: borderSecondary(format),\n\t\t\tpagination: borderPagination(),\n\t\t},\n\t\ttopBar: {\n\t\t\tcard: overrides?.topBar.card ?? topBarCard(format),\n\t\t},\n\t\thover: {\n\t\t\theadlineByline: hoverHeadlineByline(format),\n\t\t\tstandfirstLink: hoverStandfirstLink(format),\n\t\t\tkeyEventLink: hoverKeyEventLink(format),\n\t\t\tkeyEventBullet: hoverKeyEventBullet(),\n\t\t\tsummaryEventBullet: hoverSummaryEventBullet(format),\n\t\t\tpagination: hoverPagination(format),\n\t\t},\n\t};\n};\n","import type { FETrailType, TrailType } from '../../types/trails';\nimport { decideFormat } from './decideFormat';\nimport { getDataLinkNameCard } from './getDataLinkName';\n\nexport const decideTrail = (trail: FETrailType, index = 0): TrailType => {\n\tconst format: ArticleFormat = decideFormat(trail.format);\n\n\treturn {\n\t\t...trail,\n\t\tformat,\n\t\tdataLinkName: getDataLinkNameCard(format, '0', index + 1),\n\t};\n};\n","const integerCommas = (val: number): string => {\n\tconst digits = val.toFixed(0).split('');\n\tconst len = digits.length;\n\n\tfor (let i = digits.length - 1; i >= 1; i -= 1) {\n\t\tif ((len - i) % 3 === 0) {\n\t\t\tdigits.splice(i, 0, ',');\n\t\t}\n\t}\n\n\treturn digits.join('');\n};\n\nexport { integerCommas };\n","import { integerCommas } from '../../lib/formatters';\n\nexport const formatCount = (\n\tcount?: number,\n): { short: string; long: string } => {\n\tif (count === undefined) return { short: '…', long: '…' };\n\tif (count === 0) return { short: '0', long: '0' };\n\n\tconst countAsInteger = parseInt(count.toFixed(0), 10);\n\tconst displayCountLong = integerCommas(countAsInteger);\n\tconst displayCountShort =\n\t\tcountAsInteger > 10000\n\t\t\t? `${Math.round(countAsInteger / 1000)}k`\n\t\t\t: countAsInteger.toString();\n\n\treturn {\n\t\tshort: displayCountShort,\n\t\tlong: displayCountLong,\n\t};\n};\n","import { ERR_INVALID_COOKIE } from './ERR_INVALID_COOKIE.js';\nimport { getCookieValues } from './getCookieValues.js';\nimport { getDomainAttribute } from './getDomainAttribute.js';\nimport { isValidCookie } from './isValidCookie.js';\nimport { memoizedCookies } from './memoizedCookies.js';\n\n/**\n * Set a session cookie. If it's been memoized it will replace memoized value\n * @param details Details about the cookie.\n * @param details.name - the cookie’s name.\n * @param details.value - the cookie’s value.\n */\nconst setSessionCookie = ({ name, value, }) => {\n    if (!isValidCookie(name, value)) {\n        throw new Error(`${ERR_INVALID_COOKIE} ${name}=${value}`);\n    }\n    document.cookie = `${name}=${value}; path=/;${getDomainAttribute()}`;\n    // If the cookie is already memoized we want to replace its value\n    if (memoizedCookies.has(name)) {\n        const [value] = getCookieValues(name);\n        if (value) {\n            memoizedCookies.set(name, value);\n        }\n    }\n};\n\nexport { setSessionCookie };\n//# sourceMappingURL=setSessionCookie.js.map\n","import { getCookie } from '../cookies/getCookie.js';\nimport { setSessionCookie } from '../cookies/setSessionCookie.js';\nimport { isString } from '../isString/isString.js';\nimport { storage } from '../storage/storage.js';\n\nconst KEY = 'GU_geo_country';\nconst KEY_OVERRIDE = 'gu.geo.override';\nconst URL = 'https://api.nextgen.guardianapps.co.uk/geolocation';\nconst COUNTRY_REGEX = /^[A-Z]{2}$/;\n// best guess that we have a valid code, without actually shipping the entire list\nconst isValidCountryCode = (country) => isString(country) && COUNTRY_REGEX.test(country);\n// we'll cache any successful lookups so we only have to do this once\nlet locale;\n/**\n * Fetches the user's current location as an ISO 3166-1 alpha-2 string e.g. 'GB', 'AU' etc\n */\nconst getLocale = async () => {\n    if (locale)\n        return locale;\n    // return overridden geo from localStorage, used for changing geo only for development purposes\n    const geoOverride = storage.local.get(KEY_OVERRIDE);\n    if (isValidCountryCode(geoOverride)) {\n        return (locale = geoOverride);\n    }\n    // return locale from cookie if it exists\n    const stored = getCookie({ name: 'GU_geo_country' });\n    if (stored && isValidCountryCode(stored)) {\n        return (locale = stored);\n    }\n    // use our API to get one\n    try {\n        const { country } = (await fetch(URL).then((response) => response.json()));\n        if (isValidCountryCode(country)) {\n            setSessionCookie({ name: KEY, value: country });\n            // return it\n            return (locale = country);\n        }\n    }\n    catch (e) {\n        // do nothing\n    }\n    return null;\n};\n\nexport { getLocale };\n//# sourceMappingURL=getLocale.js.map\n","import { getLocale } from '@guardian/libs';\nimport type { CountryCode } from '@guardian/libs';\n\n/**\n * Generally we see SecurityErrors when a users browser has restrictive privacy settings that prevent access to local storage.\n * We should avoid reporting these errors to Sentry as they're not very useful to us and create a lot of noise.\n */\nconst isSecurityError = (error: unknown) =>\n\terror instanceof Error && error.name === 'SecurityError';\n\n/*\n\tThis method returns the location of the user from guardian/libs getLocale\n\tIt will return fastly's 'GU_geo_country' if it exists,\n\tor an overridden geolocation from 'gu.geo.override' localStorage\n\tor if none of those exists, it will call the geo endpoint to fetch it and set it in `GU_geo_country`\n */\nexport const getLocaleCode = async (): Promise<CountryCode | null> => {\n\treturn getLocale().catch((error) => {\n\t\tif (isSecurityError(error)) return null;\n\n\t\tconsole.log(`Error getting location from libs/getLocale`);\n\t\twindow.guardian.modules.sentry.reportError(error, 'get-country-code');\n\t\treturn null;\n\t});\n};\n","import { ArticleDesign, ArticleSpecial } from '@guardian/libs';\n\n/**\n * TODO: missing \"podcast\" and \"external\"\n */\nconst getLinkType = ({ theme, design }: ArticleFormat): RichLinkCardType => {\n\tswitch (theme) {\n\t\tcase ArticleSpecial.SpecialReport:\n\t\t\treturn 'special-report';\n\t\tdefault:\n\t\t\tswitch (design) {\n\t\t\t\tcase ArticleDesign.Analysis:\n\t\t\t\t\treturn 'analysis';\n\t\t\t\tcase ArticleDesign.LiveBlog:\n\t\t\t\t\treturn 'live';\n\t\t\t\tcase ArticleDesign.DeadBlog:\n\t\t\t\t\treturn 'dead';\n\t\t\t\tcase ArticleDesign.Feature:\n\t\t\t\t\treturn 'feature';\n\t\t\t\tcase ArticleDesign.Editorial:\n\t\t\t\t\treturn 'editorial';\n\t\t\t\tcase ArticleDesign.Comment:\n\t\t\t\t\treturn 'comment';\n\t\t\t\tcase ArticleDesign.Gallery:\n\t\t\t\tcase ArticleDesign.Audio:\n\t\t\t\tcase ArticleDesign.Video:\n\t\t\t\t\treturn 'media';\n\t\t\t\tcase ArticleDesign.Review:\n\t\t\t\t\treturn 'review';\n\t\t\t\tcase ArticleDesign.Letter:\n\t\t\t\t\treturn 'letters';\n\n\t\t\t\tdefault:\n\t\t\t\t\treturn 'news';\n\t\t\t}\n\t}\n};\n\n/**\n * Get the `data-link-name` attribute for a card.\n * Used by Ophan for understanding reader journeys. E.g:\n * - `feature | card-2+ | card-@1`\n * - `news | group-0 | card-@5`\n *\n * @see {JSX.IntrinsicAttributes}\n */\nexport const getDataLinkNameCard = (\n\tformat: ArticleFormat,\n\tgroup: string | number,\n\tindex: number,\n): string =>\n\t[getLinkType(format), `group-${group}`, `card-@${index}`].join(' | ');\n","import { joinUrl } from '@guardian/libs';\n\nexport interface IdApiUserData {\n\tuser?: {\n\t\tprimaryEmailAddress?: string;\n\t\tprivateFields?: {\n\t\t\tbrazeUuid?: string;\n\t\t};\n\t};\n}\n\nexport interface IdApiUserIdentifiers {\n\tid: string;\n\tbrazeUuid: string;\n\tpuzzleId: string;\n\tgoogleTagId: string;\n}\n\nfunction checkForErrors(response: Response) {\n\tif (!response.ok) {\n\t\tthrow Error(\n\t\t\tresponse.statusText ||\n\t\t\t\t`getIdApiUserData | An api call returned HTTP status ${response.status}`,\n\t\t);\n\t}\n\treturn response;\n}\n\nconst callApi = (url: string) => {\n\treturn fetch(url, {\n\t\tcredentials: 'include',\n\t})\n\t\t.then(checkForErrors)\n\t\t.then((response) => response.json());\n};\n\nconst cache: {\n\tidapiUserMeResponse?: Promise<IdApiUserData>;\n\tidapiUserIdentifiersResponse?: Promise<IdApiUserIdentifiers>;\n} = {};\n\nexport const getIdApiUserData = (ajaxUrl: string): Promise<IdApiUserData> => {\n\tif (!cache.idapiUserMeResponse) {\n\t\tconst url = joinUrl(ajaxUrl, 'user/me');\n\t\tcache.idapiUserMeResponse = callApi(url);\n\t}\n\treturn cache.idapiUserMeResponse;\n};\n\nexport const getIdapiUserIdentifiers = (\n\tajaxUrl: string,\n): Promise<IdApiUserIdentifiers> => {\n\tif (!cache.idapiUserIdentifiersResponse) {\n\t\tconst url = joinUrl(ajaxUrl, 'user/me/identifiers');\n\t\tcache.idapiUserIdentifiersResponse = callApi(url);\n\t}\n\treturn cache.idapiUserIdentifiersResponse;\n};\n","/**\n * Temporary fix\n * =============\n *\n * Find the master URL for an image if has already been signed upstream.\n *\n * DCR can handle generating a signed image URL with `generateImageURL`,\n * so this method extracts source URLS from fully signed ones. _e.g.:_\n *\n * - from\n *   `https://i.guim.co.uk/img/media/c56c6217f8fa306d89320cc7915161203b5017b1/0_166_5000_3002/master/5000.jpg?width=300&quality=85&auto=format&fit=max&s=0d205d08639b4ad6e1b86758ab451abb`\n * \t to\n *   `https://media.guim.co.uk/img/media/c56c6217f8fa306d89320cc7915161203b5017b1/0_166_5000_3002/master/5000.jpg`\n *\n * - from\n *   `https://i.guim.co.uk/img/uploads/2017/10/06/George-Monbiot,-L.png?width=173&quality=85&auto=format&fit=max&s=be5b0d3f3aa55682e4930057fc3929a3`\n *   to\n *   `https://uploads.guim.co.uk/2017/10/06/George-Monbiot,-L.png`\n *\n * @deprecated Favour updating image paths sent from frontend to sources\n */\nexport const getSourceImageUrl = (source: string): string => {\n\tconst url = new URL(source);\n\n\tconst buckets = ['/img/media/', '/img/static/', '/img/uploads/'] as const;\n\tconst prefix = buckets.find((bucket) => url.pathname.startsWith(bucket));\n\n\tif (url.hostname === 'i.guim.co.uk' && prefix) {\n\t\tconst path = url.pathname.replace(prefix, '');\n\t\tswitch (prefix) {\n\t\t\tcase '/img/media/':\n\t\t\t\treturn `https://media.guim.co.uk/${path}`;\n\t\t\tcase '/img/static/':\n\t\t\t\treturn `https://static.guim.co.uk/${path}`;\n\t\t\tcase '/img/uploads/':\n\t\t\t\treturn `https://uploads.guim.co.uk/${path}`;\n\t\t}\n\t}\n\n\treturn source;\n};\n","/**\n * How do I get a z-index for my new item?\n *\n * Decide a meaningful name for your item and then insert it\n * in the indices array below. The higher up your item visually,\n * then the higher it will be in the z-index stack,\n * 'higher' means _earlier_ in the array.\n *\n * Eg. stickyAdWrapper will be given a higher z-index than bodyArea\n *\n * Once inserted in the array, use getZIndex() to return the css\n *\n * Eg.\n *\n * import { getZIndex } from './getZIndex';\n *\n * const myCss = css`\n *    color: blue;\n *    ${getZIndex('TheGuardian')}\n * `;\n *\n * As new items are added, all z-indexes are adjusted\n */\nconst indices = [\n\t// Modals will go here at the top\n\n\t// Sticky video and button need to be above everything\n\t'sticky-video-button',\n\t'sticky-video',\n\t'banner',\n\t'dropdown',\n\t'burger',\n\t'expanded-veggie-menu-wrapper',\n\t'expanded-veggie-menu',\n\n\t// Mobile sticky appears below banners\n\t'mobileSticky',\n\n\t// Headers with sticky ads\n\t'stickyAdWrapperLabsHeader',\n\t'stickyAdWrapper',\n\t'stickyAdWrapperNav',\n\n\t// Edition selector in nav - needs to be below stickyAdWrapper\n\t'editionDropdown',\n\n\t// Liveblog toast\n\t'toast',\n\n\t// Onwards Carousel (Related content etc)\n\t'onwardsCarousel',\n\n\t// Search link should be above The Guardian svg\n\t'myAccountDropdown',\n\t'searchHeaderLink',\n\t'TheGuardian',\n\n\t// Wrapper after nav stuff\n\t'headerWrapper',\n\n\t// Article headline (should be above main media)\n\t'articleHeadline',\n\t'immersiveBlackBox',\n\n\t// Body\n\t'bodyArea',\n\t'rightColumnArea',\n\n\t// Main media\n\t'mainMedia',\n\n\t// Nested links in cards should sit above the main card link\n\t// See: https://www.sarasoueidan.com/blog/nested-links/\n\t'card-nested-link',\n\t'card-link',\n] as const;\n\n// Implementation code - you don't need to change this to get a new index\nexport type ZIndex = (typeof indices)[number];\n\nconst decideIndex = (name: ZIndex): number => {\n\tconst index = indices.indexOf(name);\n\tif (index === -1) return -1; // indexOf returns -1 if there is no match\n\treturn indices.length - index; // reverse the indices: last item gets 1\n};\n\nexport const getZIndex = (zIndex: ZIndex): string =>\n\t`z-index: ${decideIndex(zIndex)};`;\n\nexport const getZIndexImportant = (zIndex: ZIndex): string =>\n\t`z-index: ${decideIndex(zIndex)} !important;`;\n","/**\n * Height of the Guardian Labs header\n *\n * Note this constant is stored separately so that it can be imported\n * into two distinct islands without polluting their bundles with extra\n * unecessary code.\n */\nexport const LABS_HEADER_HEIGHT = 55;\n","import { initPerf } from '../browser/initPerf';\nimport { record } from '../browser/ophan/ophan';\n\nexport type MaybeFC = React.FC | null;\ntype ShowMessage<T> = (meta: T) => MaybeFC;\n\ninterface ShouldShow<T> {\n\tshow: true;\n\tmeta: T;\n}\ninterface ShouldNotShow {\n\tshow: false;\n}\nexport type CanShowResult<T> = ShouldShow<T> | ShouldNotShow;\n\ntype Candidate<T> = {\n\tid: string;\n\tshow: ShowMessage<T>;\n\tcanShow: () => Promise<CanShowResult<T>>;\n};\n\nexport type CandidateConfig<T> = {\n\tcandidate: Candidate<T>;\n\ttimeoutMillis: number | null;\n\treportTiming?: boolean;\n};\n\ntype CandidateConfigWithTimeout<T> = CandidateConfig<T> & {\n\tcancelTimeout: () => void;\n};\n\nexport type SlotConfig = {\n\tcandidates: CandidateConfig<any>[];\n\tname: string;\n};\n\nconst recordMessageTimeoutInOphan = (candidateId: string, slotName: string) =>\n\trecord({\n\t\tcomponent: `${slotName}-picker-timeout-dcr`,\n\t\tvalue: candidateId,\n\t});\n\nconst timeoutify = <T>(\n\tcandidateConfig: CandidateConfig<T>,\n\tslotName: string,\n): CandidateConfigWithTimeout<T> => {\n\tlet timer: number | undefined;\n\n\tconst canShow = (): Promise<CanShowResult<T>> =>\n\t\tnew Promise((resolve) => {\n\t\t\tconst perfName = `messagePicker-canShow-${candidateConfig.candidate.id}`;\n\t\t\tconst canShowTiming = initPerf(perfName);\n\t\t\tcanShowTiming.start();\n\n\t\t\tif (candidateConfig.timeoutMillis !== null) {\n\t\t\t\ttimer = window.setTimeout(() => {\n\t\t\t\t\trecordMessageTimeoutInOphan(\n\t\t\t\t\t\tcandidateConfig.candidate.id,\n\t\t\t\t\t\tslotName,\n\t\t\t\t\t);\n\t\t\t\t\tresolve({ show: false });\n\t\t\t\t}, candidateConfig.timeoutMillis);\n\t\t\t}\n\n\t\t\tcandidateConfig.candidate\n\t\t\t\t.canShow()\n\t\t\t\t.then((result) => {\n\t\t\t\t\tresolve(result);\n\n\t\t\t\t\tconst canShowTimeTaken = canShowTiming.end();\n\n\t\t\t\t\tif (candidateConfig.reportTiming) {\n\t\t\t\t\t\trecord({\n\t\t\t\t\t\t\tcomponent: perfName,\n\t\t\t\t\t\t\tvalue: canShowTimeTaken,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((e) =>\n\t\t\t\t\tconsole.error(`timeoutify candidate - error: ${String(e)}`),\n\t\t\t\t);\n\t\t});\n\n\tconst cancelTimeout = () => timer !== undefined && clearTimeout(timer);\n\n\treturn {\n\t\t...candidateConfig,\n\t\tcandidate: {\n\t\t\t...candidateConfig.candidate,\n\t\t\tcanShow,\n\t\t},\n\t\tcancelTimeout,\n\t};\n};\n\nconst clearAllTimeouts = (messages: CandidateConfigWithTimeout<any>[]) =>\n\tmessages.map((m) => m.cancelTimeout());\n\nconst defaultShow = () => null;\n\ninterface PendingMessage<T> {\n\tcandidateConfig: CandidateConfigWithTimeout<T>;\n\tcanShow: Promise<CanShowResult<T>>;\n}\n\ninterface WinningMessage<T> {\n\tmeta: T;\n\tcandidate: Candidate<T>;\n}\n\nexport const pickMessage = ({\n\tcandidates,\n\tname,\n}: SlotConfig): Promise<() => MaybeFC> =>\n\tnew Promise((resolve) => {\n\t\tconst candidateConfigsWithTimeout = candidates.map((c) =>\n\t\t\ttimeoutify(c, name),\n\t\t);\n\t\tconst results: PendingMessage<any>[] = candidateConfigsWithTimeout.map(\n\t\t\t(candidateConfig) => ({\n\t\t\t\tcandidateConfig,\n\t\t\t\tcanShow: candidateConfig.candidate.canShow(),\n\t\t\t}),\n\t\t);\n\n\t\tconst winnerResult = results.reduce<\n\t\t\tPromise<WinningMessage<any> | null>\n\t\t>(async (winningMessageSoFar, { candidateConfig, canShow }) => {\n\t\t\tif (await winningMessageSoFar) {\n\t\t\t\treturn winningMessageSoFar;\n\t\t\t}\n\n\t\t\tconst result = await canShow;\n\t\t\tcandidateConfig.cancelTimeout();\n\t\t\tif (result.show) {\n\t\t\t\treturn {\n\t\t\t\t\tcandidate: candidateConfig.candidate,\n\t\t\t\t\tmeta: result.meta,\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn winningMessageSoFar;\n\t\t}, Promise.resolve(null));\n\n\t\twinnerResult\n\t\t\t.then((winner) => {\n\t\t\t\tclearAllTimeouts(candidateConfigsWithTimeout);\n\n\t\t\t\tif (winner === null) {\n\t\t\t\t\tresolve(defaultShow);\n\t\t\t\t} else {\n\t\t\t\t\tconst { candidate, meta } = winner;\n\t\t\t\t\tresolve(() => candidate.show(meta));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((e) =>\n\t\t\t\tconsole.error(`pickMessage winner - error: ${String(e)}`),\n\t\t\t);\n\t});\n","import { ERR_INVALID_COOKIE } from './ERR_INVALID_COOKIE.js';\nimport { getCookieValues } from './getCookieValues.js';\nimport { getDomainAttribute } from './getDomainAttribute.js';\nimport { isValidCookie } from './isValidCookie.js';\nimport { memoizedCookies } from './memoizedCookies.js';\n\n/**\n * Set a cookie. If it's been memoized it will replace it's memoized value\n * @param details Details about the cookie.\n * @param details.name - the cookie’s name.\n * @param details.value - the cookie’s value.\n * @param details.daysToLive - optional expiry date will be calculated based on the daysToLive\n * @param details.isCrossSubdomain - specify if it's a cross subdomain cookie, default false\n */\nconst setCookie = ({ name, value, daysToLive, isCrossSubdomain = false, }) => {\n    const expires = new Date();\n    if (!isValidCookie(name, value)) {\n        throw new Error(`${ERR_INVALID_COOKIE} ${name}=${value}`);\n    }\n    if (daysToLive) {\n        expires.setUTCDate(expires.getUTCDate() + daysToLive);\n    }\n    else {\n        expires.setUTCMonth(expires.getUTCMonth() + 5);\n        expires.setUTCDate(1);\n    }\n    document.cookie = `${name}=${value}; path=/; expires=${expires.toUTCString()};${getDomainAttribute({\n        isCrossSubdomain,\n    })}`;\n    // If the cookie is already memoized we want to replace its value\n    if (memoizedCookies.has(name)) {\n        const [value] = getCookieValues(name);\n        if (value) {\n            memoizedCookies.set(name, value);\n        }\n    }\n};\n\nexport { setCookie };\n//# sourceMappingURL=setCookie.js.map\n","import { getCookie, removeCookie, setCookie, storage } from '@guardian/libs';\nimport { setAlreadyVisited } from './alreadyVisited';\nimport {\n\tHIDE_SUPPORT_MESSAGING_COOKIE,\n\tRECURRING_CONTRIBUTOR_COOKIE,\n\tSUPPORT_ONE_OFF_CONTRIBUTION_COOKIE,\n\tSUPPORT_RECURRING_CONTRIBUTOR_ANNUAL_COOKIE,\n\tSUPPORT_RECURRING_CONTRIBUTOR_MONTHLY_COOKIE,\n} from './contributions';\nimport { getLocaleCode } from './getCountryCode';\n\nconst readerRevenueCookies = [\n\tHIDE_SUPPORT_MESSAGING_COOKIE,\n\tRECURRING_CONTRIBUTOR_COOKIE,\n\tSUPPORT_RECURRING_CONTRIBUTOR_MONTHLY_COOKIE,\n\tSUPPORT_RECURRING_CONTRIBUTOR_ANNUAL_COOKIE,\n\tSUPPORT_ONE_OFF_CONTRIBUTION_COOKIE,\n];\n\nconst clearEpicViewLog = (): void =>\n\tlocalStorage.removeItem('gu.contributions.views');\n\nconst clearBannerLastClosedAt = (): void => {\n\tlocalStorage.removeItem('gu.prefs.engagementBannerLastClosedAt');\n\tlocalStorage.removeItem('gu.prefs.subscriptionBannerLastClosedAt');\n\tlocalStorage.removeItem('gu.noRRBannerTimestamp');\n};\n\nconst fakeOneOffContributor = (): void =>\n\tsetCookie({\n\t\tname: SUPPORT_ONE_OFF_CONTRIBUTION_COOKIE,\n\t\tvalue: Date.now().toString(),\n\t});\n\nconst MULTIVARIATE_ID_COOKIE = 'GU_mvt_id';\nconst MAX_CLIENT_MVT_ID = 1000000;\nconst incrementMvtCookie = (): void => {\n\tconst mvtId = parseInt(\n\t\tgetCookie({ name: MULTIVARIATE_ID_COOKIE }) ?? '10',\n\t\t10,\n\t);\n\tif (mvtId) {\n\t\tif (mvtId === MAX_CLIENT_MVT_ID) {\n\t\t\t// Wrap back to 1 if it would exceed the max\n\t\t\tsetCookie({ name: MULTIVARIATE_ID_COOKIE, value: '1' });\n\t\t} else {\n\t\t\tsetCookie({ name: MULTIVARIATE_ID_COOKIE, value: `${mvtId + 1}` });\n\t\t}\n\t}\n};\nconst decrementMvtCookie = (): void => {\n\tconst mvtId = parseInt(\n\t\tgetCookie({ name: MULTIVARIATE_ID_COOKIE }) ?? '10',\n\t\t10,\n\t);\n\tif (mvtId) {\n\t\tif (mvtId === 0) {\n\t\t\t// Wrap back to max if it would be less than 0\n\t\t\tsetCookie({\n\t\t\t\tname: MULTIVARIATE_ID_COOKIE,\n\t\t\t\tvalue: MAX_CLIENT_MVT_ID.toString(),\n\t\t\t});\n\t\t} else {\n\t\t\tsetCookie({ name: MULTIVARIATE_ID_COOKIE, value: `${mvtId - 1}` });\n\t\t}\n\t}\n};\n\nconst clearCommonReaderRevenueStateAndReload = (\n\tasExistingSupporter: boolean,\n\tshouldHideReaderRevenue: boolean,\n): void => {\n\tif (shouldHideReaderRevenue) {\n\t\talert(\n\t\t\t'This page has \"Prevent membership/contribution appeals\" ticked in Composer. Please try a different page',\n\t\t);\n\t\treturn;\n\t}\n\n\treaderRevenueCookies.forEach((cookie) => removeCookie({ name: cookie }));\n\tclearEpicViewLog();\n\n\tif (asExistingSupporter) {\n\t\tfakeOneOffContributor();\n\t}\n\n\twindow.location.reload();\n};\n\nconst showMeTheEpic = (\n\tasExistingSupporter = false,\n\tshouldHideReaderRevenue: boolean,\n): void => {\n\tclearCommonReaderRevenueStateAndReload(\n\t\tasExistingSupporter,\n\t\tshouldHideReaderRevenue,\n\t);\n};\n\nconst showMeTheBanner = (\n\tasExistingSupporter = false,\n\tshouldHideReaderRevenue: boolean,\n): void => {\n\tclearBannerLastClosedAt();\n\tsetAlreadyVisited(2);\n\tclearCommonReaderRevenueStateAndReload(\n\t\tasExistingSupporter,\n\t\tshouldHideReaderRevenue,\n\t);\n};\n\nconst showNextVariant = (\n\tasExistingSupporter = false,\n\tshouldHideReaderRevenue: boolean,\n): void => {\n\tincrementMvtCookie();\n\tclearCommonReaderRevenueStateAndReload(\n\t\tasExistingSupporter,\n\t\tshouldHideReaderRevenue,\n\t);\n};\n\nconst showPreviousVariant = (\n\tasExistingSupporter = false,\n\tshouldHideReaderRevenue: boolean,\n): void => {\n\tdecrementMvtCookie();\n\tclearCommonReaderRevenueStateAndReload(\n\t\tasExistingSupporter,\n\t\tshouldHideReaderRevenue,\n\t);\n};\n\nconst changeGeolocation = (\n\tasExistingSupporter = false,\n\tshouldHideReaderRevenue: boolean,\n): void => {\n\tgetLocaleCode()\n\t\t.then((current) => {\n\t\t\tconst geo = window.prompt(\n\t\t\t\t`Enter two-letter geolocation code (e.g. GB, US, AU). Current is ${\n\t\t\t\t\tcurrent ?? 'null'\n\t\t\t\t}.`,\n\t\t\t);\n\t\t\tif (geo === 'UK') {\n\t\t\t\talert(\n\t\t\t\t\t`'UK' is not a valid geolocation - please use 'GB' instead!`,\n\t\t\t\t);\n\t\t\t} else if (geo) {\n\t\t\t\tstorage.local.set('gu.geo.override', geo);\n\t\t\t\tclearCommonReaderRevenueStateAndReload(\n\t\t\t\t\tasExistingSupporter,\n\t\t\t\t\tshouldHideReaderRevenue,\n\t\t\t\t);\n\t\t\t}\n\t\t})\n\t\t.catch((e) => {\n\t\t\tconsole.error(`changeGeolocation - error: ${String(e)}`);\n\t\t});\n};\n\ntype ReaderRevenueDevUtil = (\n\tasExistingSupporter: boolean,\n\tshouldHideReaderRevenue: boolean,\n) => void;\nexport interface ReaderRevenueDevUtils {\n\tchangeGeolocation: ReaderRevenueDevUtil;\n\tshowMeTheEpic: ReaderRevenueDevUtil;\n\tshowMeTheBanner: ReaderRevenueDevUtil;\n\tshowNextVariant: ReaderRevenueDevUtil;\n\tshowPreviousVariant: ReaderRevenueDevUtil;\n}\n\nconst getForcedVariant = (type: 'epic' | 'banner'): string | null => {\n\t// eslint-disable-next-line @typescript-eslint/strict-boolean-expressions, @typescript-eslint/no-unnecessary-condition -- Safety in global,\n\tif (URLSearchParams) {\n\t\tconst params = new URLSearchParams(window.location.search);\n\t\tconst value = params.get(`force-${type}`);\n\t\tif (value) {\n\t\t\treturn value;\n\t\t}\n\t}\n\n\treturn null;\n};\n\nexport {\n\tchangeGeolocation,\n\tshowMeTheEpic,\n\tshowMeTheBanner,\n\tshowNextVariant,\n\tshowPreviousVariant,\n\tgetForcedVariant,\n};\n","import { getShortDomain } from './getShortDomain.js';\n\n/**\n * Removes a cookie.\n * @param details Details about the cookie.\n * @param details.name - the cookie’s name.\n * @param details.currentDomainOnly - set to true if it's only for current domain\n */\nconst removeCookie = ({ name, currentDomainOnly = false, }) => {\n    const expires = 'expires=Thu, 01 Jan 1970 00:00:01 GMT;';\n    const path = 'path=/;';\n    // Remove cookie, implicitly using the document's domain.\n    document.cookie = `${name}=;${path}${expires}`;\n    if (!currentDomainOnly) {\n        // also remove from the short domain\n        document.cookie = `${name}=;${path}${expires} domain=${getShortDomain()};`;\n    }\n};\n\nexport { removeCookie };\n//# sourceMappingURL=removeCookie.js.map\n","import { css, keyframes } from '@emotion/react';\n\n/**\n * Sometimes we want to animate in new content using plain\n * javascript. We use these classes to do that.\n */\nexport const revealStyles = css`\n\t/* We're using classnames here because we add and remove these classes\n\t   using plain javascript */\n\t.reveal {\n\t\tanimation: ${keyframes`\n\t\t\t0% { opacity: 0; }\n\t\t\t100% { opacity: 1; }\n\t\t`} 1s ease-out;\n\t}\n\t.reveal-slowly {\n\t\tanimation: ${keyframes`\n\t\t\t0% { opacity: 0; }\n\t\t\t100% { opacity: 1; }\n\t\t`} 4s ease-out;\n\t}\n\t.pending {\n\t\tdisplay: none;\n\t}\n`;\n","import * as emotionReact from '@emotion/react';\nimport * as emotionReactJsxRuntime from '@emotion/react/jsx-runtime';\nimport React from 'react';\n\nlet hasAutomatBeenSet = false;\n\nexport const setAutomat = (): void => {\n\tif (!hasAutomatBeenSet) {\n\t\twindow.guardian.automat = {\n\t\t\temotionReact,\n\t\t\temotionReactJsxRuntime,\n\t\t\treact: React,\n\t\t};\n\t\thasAutomatBeenSet = true;\n\t}\n};\n","const getColour = (string: string) => {\n\tswitch (string.length) {\n\t\tcase 2:\n\t\t\treturn parseInt(string, 16);\n\t\tcase 1:\n\t\t\treturn parseInt(string + string, 16);\n\t\tdefault:\n\t\t\treturn 127;\n\t}\n};\n\nconst fallback = 'rgba(127, 127, 127, 0.5)';\n\n/**\n * Transforms a hex colour to a transparent one of the same colour.\n *\n * The alternative [#RRGGBBAA notation is not well supported][caniuse],\n * so we used the more widely supported rgba() notation.\n *\n * [caniuse]: https://caniuse.com/css-rrggbbaa\n *\n * @param colour the hex string, e.g. #C70000\n * @param opacity optional opacity 0-1. Defaults to 0.5 (50%)\n * @returns an functional colour string, e.g. rgba(199, 0, 0, 0.5)\n */\nexport const transparentColour = (\n\tcolour: string,\n\topacity = 0.5,\n): `rgba(${number}, ${number}, ${number}, ${number})` => {\n\t// if we have an invalid string,\n\tif (!colour.startsWith('#') || ![4, 7].includes(colour.length))\n\t\treturn fallback;\n\n\tconst hex = colour.length === 7 ? 2 : 1;\n\n\tconst r = getColour(colour.slice(1, 1 + hex));\n\tconst g = getColour(colour.slice(1 + hex, 1 + hex * 2));\n\tconst b = getColour(colour.slice(1 + hex * 2, 1 + hex * 3));\n\n\tif ([r, g, b].some(Number.isNaN)) return fallback;\n\n\treturn `rgba(${r}, ${g}, ${b}, ${opacity})`;\n};\n","import type { ABTestAPI, Participations } from '@guardian/ab-core';\nimport { mutate } from 'swr';\nimport useSWRImmutable from 'swr/immutable';\n\ntype ABTests = {\n\tapi: ABTestAPI;\n\tparticipations: Participations;\n};\n\nconst apiPromise = new Promise<ABTests>(() => {});\nconst key = 'ab-tests';\n\n/**\n * A hook which returns the AB Test Api when available,\n * or undefined otherwise.\n *\n * Leverages an immutable SWR to satisfy all requests to the\n * AB Core. As soon as the tests are available, all instances of\n * the useAB hook will render.\n */\nexport const useAB = (): ABTests | undefined => {\n\tconst { data } = useSWRImmutable(key, () => apiPromise);\n\treturn data;\n};\n\nexport const setABTests = ({ api, participations }: ABTests): void => {\n\tvoid mutate(key, { api, participations }, false);\n};\n","import { isAdBlockInUse } from '@guardian/commercial-core';\nimport { useEffect, useState } from 'react';\n\n/**\n * @description\n * useAdBlockInUse provides a custom hook to integrate the isAdBlockInUse\n * promise into a react component\n * */\nexport const useAdBlockInUse = (): boolean | undefined => {\n\tconst [isInUse, setIsInUse] = useState<boolean | undefined>();\n\tuseEffect(() => {\n\t\t// eslint-disable-next-line @typescript-eslint/no-floating-promises\n\t\tisAdBlockInUse().then((blockerDetected) => {\n\t\t\tsetIsInUse(blockerDetected);\n\t\t});\n\t}, []);\n\n\treturn isInUse;\n};\n","import type { SWRConfiguration } from 'swr';\nimport useSWR from 'swr';\n\nfunction checkForErrors(response: Response) {\n\tif (!response.ok) {\n\t\tthrow Error(\n\t\t\tresponse.statusText ||\n\t\t\t\t`useApi | An api call returned HTTP status ${response.status}`,\n\t\t);\n\t}\n\treturn response;\n}\n\nconst fetcher = (init?: RequestInit) => (url: string) =>\n\tfetch(url, init)\n\t\t.then(checkForErrors)\n\t\t.then((res) => res.json());\n\ninterface ApiResponse<T> {\n\tloading: boolean;\n\tdata?: T;\n\terror?: Error;\n}\n\n/**\n * @description\n * A custom hook to make a GET request using the given url using the SWR lib (https://swr.vercel.app/)\n * returns { loading, error, data }\n * @param {String} url - The url to fetch\n * @param {SWRConfiguration} options - The SWR config object - https://swr.vercel.app/docs/options\n * @param {RequestInit} init - The fetch init object - https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch#supplying_request_options\n * */\nexport const useApi = <T,>(\n\turl?: string,\n\toptions?: SWRConfiguration,\n\tinit?: RequestInit,\n): ApiResponse<T> => {\n\tconst { data, error } = useSWR(url, fetcher(init), options);\n\n\treturn {\n\t\tdata,\n\t\terror,\n\t\tloading: !!url && !error && !data,\n\t};\n};\n","import{storage as e}from\"@guardian/libs\";function r(e,r){if(!(e instanceof r))throw new TypeError(\"Cannot call a class as a function\")}function t(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}function o(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function a(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null==t)return;var n,o,a=[],i=!0,s=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(a.push(n.value),!r||a.length!==r);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==t.return||t.return()}finally{if(s)throw o}}return a}(e,r)||i(e,r)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function i(e,r){if(e){if(\"string\"==typeof e)return s(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===t&&e.constructor&&(t=e.constructor.name),\"Map\"===t||\"Set\"===t?Array.from(e):\"Arguments\"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?s(e,r):void 0}}function s(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var l,u,c,d=[\"https://media.guim.co.uk/\",\"https://i.guim.co.uk/\"],h=function(e){return d.some((function(r){return e.startsWith(r)}))},f=[\"%%CURRENCY_SYMBOL%%\",\"%%COUNTRY_NAME%%\"],g=/%%.*?%%/g,p=function(e){var r,t,n=e.buttonText,o=e.buttonUrl,a=e.ophanComponentId,i=e.highlightedText,s=m(e),l=(i||\"\")+\" \"+s.join(\" \"),u=!!(t=null===(r=l.match(g))||void 0===r?void 0:r.filter((function(e){return!f.includes(\"\".concat(e))})))&&t.length>0;return Boolean(n&&o&&a&&s.length>0&&!u)},m=function(e){var r,t=[],n=function(e,r){var t=\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(!t){if(Array.isArray(e)||(t=i(e))||r&&e&&\"number\"==typeof e.length){t&&(e=t);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var a,s=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==t.return||t.return()}finally{if(l)throw a}}}}(Object.keys(e).filter((function(e){return/^paragraph\\d$/.test(e)})).sort());try{for(n.s();!(r=n.n()).done;){var o=e[r.value];o&&t.push(o)}}catch(e){n.e(e)}finally{n.f()}return t},v=(o(l={},\"AppBanner\",(function(e){var r=e.header,t=e.body,n=e.cta,o=e.imageUrl;return!!(r&&t&&n&&o)&&(!!h(o)||(console.log(\"Image URL \".concat(o,\" is not allowed\")),!1))})),o(l,\"BannerWithLink\",(function(e){var r=e.header,t=e.body,n=e.buttonText,o=e.buttonUrl,a=e.imageUrl,i=e.ophanComponentId;return a&&!h(a)?(console.log(\"Image URL \".concat(a,\" is not allowed\")),!1):Boolean(r&&t&&n&&o&&a&&i)})),o(l,\"BannerNewsletter\",(function(e){var r=e.header,t=e.body,n=e.imageUrl,o=e.ophanComponentId,a=e.newsletterId,i=e.frequency;return n&&!h(n)?(console.log(\"Image URL \".concat(n,\" is not allowed\")),!1):Boolean(r&&t&&n&&o&&a&&i)})),o(l,\"Epic\",p),o(l,\"EpicWithSpecialHeader\",(function(e){var r=p(e);if(r){var t=e.authoredEpicImageUrl,n=e.authoredEpicImageAltText,o=e.authoredEpicBylineName;return Boolean(t&&n&&o)}return r})),o(l,\"NewsletterEpic\",(function(e){var r=e.header,t=e.frequency,n=e.paragraph1,o=e.imageUrl,a=e.newsletterId,i=e.ophanComponentId;return!!(r&&t&&n&&o&&a&&i)&&(!!h(o)||(console.log(\"Image URL \".concat(o,\" is not allowed\")),!1))})),o(l,\"USNewsletterEpic\",(function(e){var r=e.header,t=e.frequency,n=e.paragraph1,o=e.ophanComponentId;return Boolean(r&&t&&n&&o)})),o(l,\"AUNewsletterEpic\",(function(e){var r=e.header,t=e.frequency,n=e.paragraph1,o=e.ophanComponentId;return Boolean(r&&t&&n&&o)})),o(l,\"UKNewsletterEpic\",(function(e){var r=e.header,t=e.frequency,n=e.paragraph1,o=e.ophanComponentId;return Boolean(r&&t&&n&&o)})),o(l,\"DownToEarthNewsletterEpic\",(function(e){var r=e.header,t=e.frequency,n=e.paragraph1,o=e.ophanComponentId;return Boolean(r&&t&&n&&o)})),o(l,\"EpicNewsletter_AU_AfternoonUpdate\",(function(e){var r=e.header,t=e.frequency,n=e.paragraph1,o=e.ophanComponentId;return Boolean(r&&t&&n&&o)})),o(l,\"EpicNewsletter_TheGuide\",(function(e){var r=e.header,t=e.frequency,n=e.paragraph1,o=e.ophanComponentId;return Boolean(r&&t&&n&&o)})),l),y=function(){function e(t,n,o,a,i,s){r(this,e),this.id=void 0,this.appboy=void 0,this.message=void 0,this.slotName=void 0,this.cache=void 0,this.errorHandler=void 0,this.id=t,this.message=n,this.appboy=o,this.slotName=a,this.cache=i,this.errorHandler=s}return n(e,[{key:\"logImpression\",value:function(){try{this.appboy.logInAppMessageImpression(this.message)}catch(e){e instanceof Error&&this.errorHandler(e,\"BrazeMessage.logImpression\")}this.cache.remove(this.slotName,this.id,this.errorHandler)}},{key:\"logButtonClick\",value:function(e){var r=new this.appboy.InAppMessageButton(\"Button: ID \".concat(e),void 0,void 0,void 0,void 0,void 0,e);try{this.appboy.logInAppMessageButtonClick(r,this.message)}catch(e){e instanceof Error&&this.errorHandler(e,\"BrazeMessage.logButtonClick\")}}},{key:\"extras\",get:function(){return this.message.extras}}]),e}(),b=function(){function e(t,n,o){r(this,e),this.appboy=void 0,this.freshMessageBySlot=void 0,this.cache=void 0,this.errorHandler=void 0,this.appboy=t,this.cache=n,this.freshMessageBySlot={Banner:this.getFreshMessagesForSlot(\"Banner\"),EndOfArticle:this.getFreshMessagesForSlot(\"EndOfArticle\")},this.errorHandler=o}return n(e,[{key:\"getFreshMessagesForSlot\",value:function(e){var r=this;return new Promise((function(t){r.appboy.subscribeToInAppMessage((function(n){var o=n,a=o.extras;a&&a.slotName&&a.slotName===e&&(r.cache.push(e,{message:o,id:\"\".concat(Math.random().toString(16).slice(2),\"-\").concat((new Date).getTime())},r.errorHandler),t(o))}))}))}},{key:\"getMessageForBanner\",value:function(e){return this.getMessageForSlot(\"Banner\",e)}},{key:\"getMessageForEndOfArticle\",value:function(e){return this.getMessageForSlot(\"EndOfArticle\",e)}},{key:\"getMessageForSlot\",value:function(e,r){var t=this,n=this.getHighestPriorityMessageFromCache(e,r);return n?Promise.resolve(n):this.freshMessageBySlot[e].then((function(){var n=t.getHighestPriorityMessageFromCache(e,r);if(n)return Promise.resolve(n);throw new Error(\"No valid messages for \".concat(e,\" slot\"))}))}},{key:\"getHighestPriorityMessageFromCache\",value:function(e,r){var t,n=this.cache.all(e,this.appboy,this.errorHandler).filter((function(e){return!!(r=e.message.extras)&&!!v[r.componentName]&&v[r.componentName](r);var r})),o={messagesWithFilters:(t=n).filter((function(e){return Boolean(e.message.extras.section)})),messagesWithoutFilters:t.filter((function(e){return!Boolean(e.message.extras.section)}))},i=o.messagesWithoutFilters,s=a(o.messagesWithFilters.concat(i).filter((function(e){var t;if(!e.message.extras.section||\"string\"!=typeof e.message.extras.section)return!0;var n=null==r||null===(t=r.section)||void 0===t?void 0:t.toLowerCase();return!!n&&e.message.extras.section.split(\"|\").map((function(e){return e.toLowerCase()})).includes(n)})),1)[0];if(s)return new y(s.id,s.message,this.appboy,e,this.cache,this.errorHandler)}}]),e}(),C=function(){function e(){r(this,e)}return n(e,[{key:\"getMessageForBanner\",value:function(){return Promise.reject(new Error(\"No banner message\"))}},{key:\"getMessageForEndOfArticle\",value:function(){return Promise.reject(new Error(\"No end of article message\"))}}]),e}();!function(e){e.Banner=\"Banner\",e.EndOfArticle=\"EndOfArticle\"}(u||(u={})),function(e){e.ProfileBadge=\"ProfileBadge\"}(c||(c={}));var B=function(){function e(t,n,o,a,i){r(this,e),this.id=void 0,this.slotName=void 0,this.card=void 0,this.appboy=void 0,this.errorHandler=void 0,this.id=t,this.slotName=n,this.card=o,this.appboy=a,this.errorHandler=i}return n(e,[{key:\"logImpression\",value:function(){try{this.appboy.logCardImpressions([this.card],!0)||this.errorHandler(new Error(\"Failed to log card impression event\"),\"BrazeCard.logImpressions\")}catch(e){e instanceof Error&&this.errorHandler(e,\"BrazeCard.logImpressions\")}}},{key:\"logCardClick\",value:function(){try{this.appboy.logCardClick(this.card,!0)||this.errorHandler(new Error(\"Failed to log card click event\"),\"BrazeCard.logCardClick\")}catch(e){e instanceof Error&&this.errorHandler(e,\"BrazeCard.logCardClick\")}}},{key:\"logCardDismissal\",value:function(){try{this.appboy.logCardDismissal(this.card)||this.errorHandler(new Error(\"Failed to log card dismiss event\"),\"BrazeCard.logCardDismiss\")}catch(e){e instanceof Error&&this.errorHandler(e,\"BrazeCard.logCardDismiss\")}}},{key:\"extras\",get:function(){var e=this.card.extras;return void 0===e?{}:e}},{key:\"expiry\",get:function(){var e=this.card.expiresAt;return null===e?void 0:e}}]),e}(),w=function(){function e(t,n){r(this,e),this.appboy=void 0,this.errorHandler=void 0,this.appboy=t,this.errorHandler=n}return n(e,[{key:\"getCardsForProfileBadge\",value:function(){return this.getCardsForSlot(c.ProfileBadge)}},{key:\"getCardsForSlot\",value:function(e){var r=this;return this.appboy.getCachedContentCards().cards.flatMap((function(t){var n=t.extras;return n&&n.slotName&&n.slotName===e?void 0===t.id?(r.errorHandler(new Error(\"appboy card had no ID\"),\"BrazeCards.getCardsForSlot\"),[]):[new B(t.id,e,t,r.appboy,r.errorHandler)]:[]}))}},{key:\"lastUpdated\",get:function(){return this.appboy.getCachedContentCards().lastUpdated}}]),e}(),I=function(){function e(){r(this,e)}return n(e,[{key:\"getCardsForProfileBadge\",value:function(){return[]}}]),e}(),E=864e5,k=function(e){return\"\".concat(\"gu.brazeMessageCache\",\".\").concat(e)},F=function(r,t){var n=k(r);e.local.set(n,t)},M=function(e,r){return new r.HtmlMessage(e.message,e.extras,e.campaignId,e.cardId,e.triggerId,e.dismissType,e.duration,e.animateIn,e.animateOut,e.frameColor,e.htmlId,e.css,e.messageFields)},x=function(r,t){var n=function(r){var t=k(r),n=e.local.get(t);return Array.isArray(n)?n:[]}(r),o=n.filter((function(e){return r=e,Boolean((null==r?void 0:r.expires)&&Number.isFinite(null==r?void 0:r.expires)&&(null==r||null===(t=r.message)||void 0===t?void 0:t.id)&&(null==r||null===(n=r.message)||void 0===n||null===(o=n.message)||void 0===o?void 0:o.triggerId)&&(null==r||null===(a=r.message)||void 0===a||null===(i=a.message)||void 0===i?void 0:i.extras));var r,t,n,o,a,i})).filter((function(e){return e.expires>Date.now()}));if(n.length!==o.length){var a=n.length-o.length;t(Error(\"Removed \".concat(a,\" expired message\").concat(1===a?\"\":\"s\",\" from queue\")),\"LocalMessageCache\"),F(r,o)}return o},A=function(){function t(){r(this,t)}return n(t,null,[{key:\"peek\",value:function(e,r,t){var n=x(e,t)[0];if(n)return{id:n.message.id,message:M(n.message.message,r)}}},{key:\"all\",value:function(e,r,t){return x(e,t).map((function(e){return{id:e.message.id,message:M(e.message.message,r)}}))}},{key:\"remove\",value:function(e,r,t){var n=x(e,t),o=n.findIndex((function(e){return e.message.id===r}));if(o>=0&&n.splice(o,1))return F(e,n),!0;return!1}},{key:\"push\",value:function(e,r,t){var n=x(e,t);if(n.length<2){var o={message:r,expires:Date.now()+864e5};return n.push(o),F(e,n),!0}return t(new Error(\"Failed to add message to queue - queue full\"),\"LocalMessageCache\"),!1}},{key:\"clear\",value:function(){for(var r in u){var t=k(r);e.local.remove(t)}}}]),t}();export{B as BrazeCard,w as BrazeCards,y as BrazeMessage,b as BrazeMessages,A as LocalMessageCache,I as NullBrazeCards,C as NullBrazeMessages,M as hydrateMessage,E as millisecondsBeforeExpiry,F as setQueue};\n","const KEY = 'gu.brazeUserSet';\n\nconst hasCurrentBrazeUser = (): boolean => {\n\treturn localStorage.getItem(KEY) === 'true';\n};\n\nconst setHasCurrentBrazeUser = (): void => {\n\tlocalStorage.setItem(KEY, 'true');\n};\n\nconst clearHasCurrentBrazeUser = (): void => {\n\tlocalStorage.removeItem(KEY);\n};\n\nexport {\n\thasCurrentBrazeUser,\n\tsetHasCurrentBrazeUser,\n\tclearHasCurrentBrazeUser,\n};\n","import type { IdApiUserIdentifiers } from './getIdapiUserData';\nimport { getIdapiUserIdentifiers } from './getIdapiUserData';\n\nexport const getBrazeUuid = async (ajaxUrl: string): Promise<string | void> => {\n\treturn getIdapiUserIdentifiers(ajaxUrl)\n\t\t.then((data: IdApiUserIdentifiers) => data.brazeUuid)\n\t\t.catch((error) => {\n\t\t\twindow.guardian.modules.sentry.reportError(error, 'getBrazeUuid');\n\t\t});\n};\n","import { getBrazeUuid } from '../getBrazeUuid';\nimport { hasRequiredConsents } from './hasRequiredConsents';\n\ntype SuccessResult = {\n\tisSuccessful: true;\n\tdata: ResultData;\n};\n\ntype FailureResult = {\n\tisSuccessful: false;\n\tfailure: {\n\t\tfield: string;\n\t\tdata: any;\n\t};\n\tdata: ResultData;\n};\n\ntype DependenciesResult = SuccessResult | FailureResult;\n\ntype ResultData = { [key: string]: string | boolean };\n\ntype DependencyResult = {\n\tname: string;\n\tvalue: Promise<string | boolean | null | undefined | void>;\n};\nconst buildFailureResponse = (name: string, value: any, data: ResultData) => ({\n\tisSuccessful: false,\n\tfailure: {\n\t\tfield: name,\n\t\tdata: value,\n\t},\n\tdata,\n});\n\nconst buildDependencies = (\n\tisSignedIn: boolean,\n\tidApiUrl: string,\n): DependencyResult[] => {\n\treturn [\n\t\t{\n\t\t\tname: 'apiKey',\n\t\t\tvalue: Promise.resolve(window.guardian.config.page.brazeApiKey),\n\t\t},\n\t\t{\n\t\t\tname: 'brazeSwitch',\n\t\t\tvalue: Promise.resolve(window.guardian.config.switches.brazeSwitch),\n\t\t},\n\t\t{\n\t\t\tname: 'brazeUuid',\n\t\t\tvalue: isSignedIn ? getBrazeUuid(idApiUrl) : Promise.resolve(null),\n\t\t},\n\t\t{\n\t\t\tname: 'consent',\n\t\t\tvalue: hasRequiredConsents(),\n\t\t},\n\t\t{\n\t\t\tname: 'isNotPaidContent',\n\t\t\tvalue: Promise.resolve(!window.guardian.config.page.isPaidContent),\n\t\t},\n\t];\n};\n\nconst checkBrazeDependencies = async (\n\tisSignedIn: boolean,\n\tidApiUrl: string,\n): Promise<DependenciesResult> => {\n\tconst dependencies = buildDependencies(isSignedIn, idApiUrl);\n\n\tconst data: ResultData = {};\n\n\t// I think we could possibly clean this up a bit when we can use\n\t// Promise.allSettled reliably (it's not available in our current Node\n\t// version and polyfill.io doesn't have a polyfill yet).\n\tfor (const { name, value } of dependencies) {\n\t\ttry {\n\t\t\tconst result = await value;\n\n\t\t\t// eslint-disable-next-line @typescript-eslint/strict-boolean-expressions -- TODO: Complex types, look into this further\n\t\t\tif (result) {\n\t\t\t\tdata[name] = result;\n\t\t\t} else {\n\t\t\t\treturn buildFailureResponse(name, result, data);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\treturn buildFailureResponse(\n\t\t\t\tname,\n\t\t\t\te instanceof Error ? e.message : e,\n\t\t\t\tdata,\n\t\t\t);\n\t\t}\n\t}\n\n\treturn {\n\t\tisSuccessful: true,\n\t\tdata,\n\t};\n};\n\nexport { checkBrazeDependencies };\n","import {\n\tgetConsentFor,\n\tonConsentChange,\n} from '@guardian/consent-management-platform';\n\nconst hasRequiredConsents = (): Promise<boolean> =>\n\tnew Promise((resolve, reject) => {\n\t\tonConsentChange((state) => {\n\t\t\ttry {\n\t\t\t\tresolve(getConsentFor('braze', state));\n\t\t\t} catch (e) {\n\t\t\t\treject(e);\n\t\t\t}\n\t\t});\n\t});\n\nexport { hasRequiredConsents };\n","import type appboy from '@braze/web-sdk-core';\nimport { log } from '@guardian/libs';\n\nconst SDK_OPTIONS: appboy.InitializationOptions = {\n\tenableLogging: true,\n\tnoCookies: true,\n\tbaseUrl: 'https://sdk.fra-01.braze.eu/api/v3',\n\tsessionTimeoutInSeconds: 1,\n\tminimumIntervalBetweenTriggerActionsInSeconds: 0,\n\tdevicePropertyAllowlist: [],\n};\n\nconst initialiseAppboy = async (apiKey: string): Promise<typeof appboy> => {\n\tconst importedAppboy = (await import(\n\t\t/* webpackChunkName: \"braze-web-sdk-core\" */ '@braze/web-sdk-core'\n\t)) as unknown as typeof appboy;\n\n\timportedAppboy.setLogger((message) => log('tx', message));\n\timportedAppboy.initialize(apiKey, SDK_OPTIONS);\n\n\treturn importedAppboy;\n};\n\nconst getInitialisedAppboy = (() => {\n\tlet cache: Promise<typeof appboy>;\n\n\treturn (apiKey: string): Promise<typeof appboy> => {\n\t\tif (cache === undefined) {\n\t\t\tcache = initialiseAppboy(apiKey);\n\t\t}\n\n\t\treturn cache;\n\t};\n})();\n\nexport { getInitialisedAppboy };\n","import type {\n\tBrazeCardsInterface,\n\tBrazeMessagesInterface,\n} from '@guardian/braze-components/logic';\nimport {\n\tBrazeCards,\n\tBrazeMessages,\n\tLocalMessageCache,\n\tNullBrazeCards,\n\tNullBrazeMessages,\n} from '@guardian/braze-components/logic';\nimport { getCookie, log, storage } from '@guardian/libs';\nimport { initPerf } from '../../browser/initPerf';\nimport { record } from '../../browser/ophan/ophan';\nimport {\n\tclearHasCurrentBrazeUser,\n\thasCurrentBrazeUser,\n\tsetHasCurrentBrazeUser,\n} from '../hasCurrentBrazeUser';\nimport { checkBrazeDependencies } from './checkBrazeDependencies';\nimport { getInitialisedAppboy } from './initialiseAppboy';\n\nconst maybeWipeUserData = async (\n\tapiKey?: string,\n\tbrazeUuid?: null | string,\n\tconsent?: boolean,\n\tbrazeSwitch?: boolean,\n): Promise<void> => {\n\tconst hasCurrentBrazeUserValue = hasCurrentBrazeUser();\n\tconst userHasLoggedOut = !brazeUuid && hasCurrentBrazeUserValue;\n\tconst userHasRemovedConsent = !consent && hasCurrentBrazeUserValue;\n\tconst brazeHasBeenDisabled = !brazeSwitch && hasCurrentBrazeUserValue;\n\n\tif (userHasLoggedOut || userHasRemovedConsent || brazeHasBeenDisabled) {\n\t\ttry {\n\t\t\tif (apiKey) {\n\t\t\t\tconst appboy = await getInitialisedAppboy(apiKey);\n\t\t\t\tappboy.wipeData();\n\t\t\t}\n\t\t\tLocalMessageCache.clear();\n\t\t\tclearHasCurrentBrazeUser();\n\t\t} catch (error) {\n\t\t\twindow.guardian.modules.sentry.reportError(\n\t\t\t\t// @ts-expect-error\n\t\t\t\terror,\n\t\t\t\t'braze-maybeWipeUserData',\n\t\t\t);\n\t\t}\n\t}\n};\n\nexport const buildBrazeMessaging = async (\n\tidApiUrl: string,\n): Promise<{\n\tbrazeMessages: BrazeMessagesInterface;\n\tbrazeCards: BrazeCardsInterface;\n}> => {\n\tif (!storage.local.isAvailable()) {\n\t\t// we require local storage for using any message channel so that we know\n\t\t// when to clear up user data from the device on logout\n\t\treturn {\n\t\t\tbrazeMessages: new NullBrazeMessages(),\n\t\t\tbrazeCards: new NullBrazeCards(),\n\t\t};\n\t}\n\n\tconst isSignedIn = !!getCookie({ name: 'GU_U', shouldMemoize: true });\n\n\tconst dependenciesResult = await checkBrazeDependencies(\n\t\tisSignedIn,\n\t\tidApiUrl,\n\t);\n\n\tif (!dependenciesResult.isSuccessful) {\n\t\tconst { failure, data } = dependenciesResult;\n\n\t\tlog(\n\t\t\t'tx',\n\t\t\t`Not attempting to show Braze messages. Dependency ${\n\t\t\t\tfailure.field\n\t\t\t} failed with ${String(failure.data)}.`,\n\t\t);\n\n\t\tawait maybeWipeUserData(\n\t\t\tdata.apiKey as string | undefined,\n\t\t\tdata.brazeUuid as string | null | undefined,\n\t\t\tdata.consent as boolean | undefined,\n\t\t\tdata.brazeSwitch as boolean | undefined,\n\t\t);\n\n\t\treturn {\n\t\t\tbrazeMessages: new NullBrazeMessages(),\n\t\t\tbrazeCards: new NullBrazeCards(),\n\t\t};\n\t}\n\n\ttry {\n\t\tconst sdkLoadTiming = initPerf('braze-sdk-load');\n\t\tsdkLoadTiming.start();\n\n\t\tconst appboy = await getInitialisedAppboy(\n\t\t\tdependenciesResult.data.apiKey as string,\n\t\t);\n\n\t\tconst sdkLoadTimeTaken = sdkLoadTiming.end();\n\t\trecord({\n\t\t\tcomponent: 'braze-sdk-load-timing',\n\t\t\tvalue: sdkLoadTimeTaken,\n\t\t});\n\n\t\tconst errorHandler = (error: Error, desc: string) => {\n\t\t\twindow.guardian.modules.sentry.reportError(error, desc);\n\t\t};\n\n\t\tsetHasCurrentBrazeUser();\n\t\tappboy.changeUser(dependenciesResult.data.brazeUuid as string);\n\t\tappboy.openSession();\n\n\t\tconst brazeCards = window.guardian.config.switches.brazeContentCards\n\t\t\t? new BrazeCards(appboy, errorHandler)\n\t\t\t: new NullBrazeCards();\n\t\tconst brazeMessages = new BrazeMessages(\n\t\t\tappboy,\n\t\t\tLocalMessageCache,\n\t\t\terrorHandler,\n\t\t);\n\t\treturn { brazeMessages, brazeCards };\n\t} catch {\n\t\treturn {\n\t\t\tbrazeMessages: new NullBrazeMessages(),\n\t\t\tbrazeCards: new NullBrazeCards(),\n\t\t};\n\t}\n};\n","import type {\n\tBrazeCardsInterface,\n\tBrazeMessagesInterface,\n} from '@guardian/braze-components/logic';\nimport {\n\tNullBrazeCards,\n\tNullBrazeMessages,\n} from '@guardian/braze-components/logic';\nimport useSWRImmutable from 'swr/immutable';\nimport { buildBrazeMessaging } from './braze/buildBrazeMessaging';\n\n/**\n * Returns brazeMessaging as BrazeMessagesInterface and BrazeCardsInterface\n *\n * BrazeMessages is used to show single-impression messages (like ad impressions).\n * In contrast, BrazeCards can provide persistent user notifications.\n *\n * We're using useSWRImmutable to ensure this call is only made once\n * [doc]: https://swr.vercel.app/docs/revalidation#disable-automatic-revalidations\n */\nexport const useBraze = (\n\tidApiUrl: string,\n): {\n\tbrazeMessages: BrazeMessagesInterface | undefined;\n\tbrazeCards: BrazeCardsInterface | undefined;\n} => {\n\tconst { data, error } = useSWRImmutable('braze-message', () =>\n\t\tbuildBrazeMessaging(idApiUrl),\n\t);\n\n\tif (error) {\n\t\treturn {\n\t\t\tbrazeMessages: new NullBrazeMessages(),\n\t\t\tbrazeCards: new NullBrazeCards(),\n\t\t};\n\t}\n\n\treturn {\n\t\tbrazeMessages: data?.brazeMessages,\n\t\tbrazeCards: data?.brazeCards,\n\t};\n};\n","import { useApi } from './useApi';\n\ntype DiscussionResponse = {\n\tstatus: string;\n\tpage: number;\n\tpages: number;\n\tpageSize: number;\n\torderBy: string;\n\tdiscussion: {\n\t\tkey: string;\n\t\twebUrl: string;\n\t\tapiUrl: string;\n\t\tcommentCount: number;\n\t\ttopLevelCommentCount: number;\n\t\tisClosedForComments: boolean;\n\t\tisClosedForRecommendation: boolean;\n\t\tisThreaded: boolean;\n\t\ttitle: string;\n\t\tcomments: CommentType[];\n\t};\n};\n\ntype CommentType = {\n\tid: number;\n\tbody: string;\n\tdate: string;\n\tisoDateTime: string;\n\tstatus: string;\n\twebUrl: string;\n\tapiUrl: string;\n\tnumResponses?: number;\n\tnumRecommends: number;\n\tisHighlighted: boolean;\n\tuserProfile: UserProfile;\n\tresponseTo?: {\n\t\tdisplayName: string;\n\t\tcommentApiUrl: string;\n\t\tisoDateTime: string;\n\t\tdate: string;\n\t\tcommentId: number;\n\t\tcommentWebUrl: string;\n\t};\n\tresponses?: CommentType[];\n\tmetaData?: {\n\t\tcommentCount: number;\n\t\tstaffCommenterCount: number;\n\t\teditorsPickCount: number;\n\t\tblockedCount: number;\n\t\tresponseCount: number;\n\t};\n};\n\nexport const useDiscussion = (\n\turl: string,\n): { commentCount?: number; isClosedForComments?: boolean } => {\n\tconst { data } = useApi<DiscussionResponse>(url, {\n\t\t// The default for dedupingInterval is 2 seconds but we want to wait longer here because the cache time\n\t\t// for a discussion is at least 15 seconds\n\t\tdedupingInterval: 8000,\n\t});\n\n\treturn {\n\t\tcommentCount: data?.discussion.commentCount,\n\t\tisClosedForComments: data?.discussion.isClosedForComments,\n\t};\n};\n","import libDebounce from 'lodash.debounce';\nimport { useEffect, useRef, useState } from 'react';\n\n/**\n * Custom hook around the `IntersectionObserver`.\n *\n * @param options\n * @param {boolean} [options.debouce] If `true`, debounce triggers by 200ms.\n * By default, trigger instantaneously. Enabling debouncing ensures the target\n * element intersects for at least 200ms before the callback is executed\n * @param {boolean} [options.repeat] If `true`, trigger the hook on\n * all intersections. By default, only trigger on the first intersection.\n * @param {boolean} [options.node] Set the initial node, if known.\n * @returns a tuple containing [isInView, setNode];\n */\nconst useIsInView = (\n\toptions: IntersectionObserverInit & {\n\t\tdebounce?: true;\n\t\trepeat?: true;\n\t\tnode?: HTMLElement;\n\t},\n): [boolean, React.Dispatch<React.SetStateAction<HTMLElement | null>>] => {\n\tconst [isInView, setIsInView] = useState<boolean>(false);\n\tconst [node, setNode] = useState<HTMLElement | null>(options.node ?? null);\n\n\tconst observer = useRef<IntersectionObserver | null>(null);\n\n\tconst intersectionFn: IntersectionObserverCallback = ([entry]) => {\n\t\tif (!entry) return;\n\n\t\tif (entry.isIntersecting) {\n\t\t\tsetIsInView(true);\n\t\t} else if (options.repeat) {\n\t\t\tsetIsInView(false);\n\t\t}\n\t};\n\tconst intersectionCallback = options.debounce\n\t\t? libDebounce(intersectionFn, 200)\n\t\t: intersectionFn;\n\n\tuseEffect(() => {\n\t\t// TODO: can we remove this? It’s now always cleaned up\n\t\tif (observer.current) {\n\t\t\tobserver.current.disconnect();\n\t\t}\n\n\t\t// eslint-disable-next-line @typescript-eslint/strict-boolean-expressions, @typescript-eslint/no-unnecessary-condition -- Safety for browser support\n\t\tif (window.IntersectionObserver) {\n\t\t\tobserver.current = new window.IntersectionObserver(\n\t\t\t\tintersectionCallback,\n\t\t\t\toptions,\n\t\t\t);\n\n\t\t\tif (node) {\n\t\t\t\tobserver.current.observe(node);\n\t\t\t}\n\t\t}\n\n\t\treturn () => observer.current?.disconnect();\n\t}, [node, options, intersectionCallback]);\n\n\treturn [isInView, setNode];\n};\n\nexport { useIsInView };\n","import { useEffect, useState } from 'react';\n\n/**\n * Ensures that the given task is only run once and only after all items in waitFor are defined\n * @param {Function} task - The task to execute once\n * @param {Array} waitFor - An array of variables that must be defined before the task is executed\n * */\nexport const useOnce = (task: () => void, waitFor: unknown[]): void => {\n\tconst [alreadyRun, setAlreadyRun] = useState(false);\n\tconst isReady = waitFor.every((dep) => dep !== undefined);\n\tuseEffect(() => {\n\t\tif (!alreadyRun && isReady) {\n\t\t\ttask();\n\t\t\tsetAlreadyRun(true);\n\t\t}\n\t}, [alreadyRun, isReady, task]);\n};\n","import type { ABTest, Runnable } from '@guardian/ab-core';\nimport {\n\tsignInGateTests,\n\tsignInGateTestVariantToGateMapping,\n} from '../components/SignInGate/signInGate';\nimport type {\n\tCurrentSignInGateABTest,\n\tSignInGateComponent,\n} from '../components/SignInGate/types';\nimport { useAB } from './useAB';\n\n/**\n * @description\n * A custom hook to make which selects the sign in gate (component and ab test)\n * to be displayed on the current page\n * */\nexport const useSignInGateSelector = ():\n\t| undefined\n\t| [SignInGateComponent | null, CurrentSignInGateABTest | null] => {\n\tconst ab = useAB()?.api;\n\tif (!ab) return undefined;\n\n\tconst test: Runnable<ABTest> | null = ab.firstRunnableTest(signInGateTests);\n\n\tif (!test) {\n\t\treturn [null, null];\n\t}\n\n\tconst currentTest: CurrentSignInGateABTest = {\n\t\tname: test.dataLinkNames ?? test.id,\n\t\tvariant: test.variantToRun.id,\n\t\tid: test.id,\n\t};\n\n\tconst gateVariant = signInGateTestVariantToGateMapping[currentTest.variant];\n\n\tif (!gateVariant) {\n\t\treturn [null, null];\n\t}\n\n\treturn [gateVariant, currentTest];\n};\n","import type { SerializedStyles } from '@emotion/react';\nimport { css } from '@emotion/react';\nimport { border, from } from '@guardian/source-foundations';\nimport type { DCRContainerPalette } from '../../types/front';\nimport { decideContainerOverrides } from './decideContainerOverrides';\n\nexport const verticalDivider = (\n\tcontainerPalette?: DCRContainerPalette,\n): SerializedStyles => {\n\tconst containerOverrides =\n\t\tcontainerPalette && decideContainerOverrides(containerPalette);\n\n\treturn css`\n\t\t${from.tablet} {\n\t\t\t:before {\n\t\t\t\tcontent: '';\n\t\t\t\tdisplay: block;\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 0;\n\t\t\t\tbottom: 0;\n\t\t\t\tleft: 0;\n\t\t\t\twidth: 1px;\n\t\t\t\theight: 100%;\n\t\t\t\tborder-left: 1px solid\n\t\t\t\t\t${containerOverrides\n\t\t\t\t\t\t? containerOverrides.border.container\n\t\t\t\t\t\t: border.secondary};\n\t\t\t}\n\t\t}\n\t`;\n};\n","import { ArticlePillar, ArticleSpecial } from '@guardian/libs';\nimport { news, opinion, sport, culture, lifestyle } from '@guardian/source-foundations';\n\nconst pillarPalette = {\n    [ArticlePillar.News]: news,\n    [ArticlePillar.Opinion]: opinion,\n    [ArticlePillar.Sport]: sport,\n    [ArticlePillar.Culture]: culture,\n    [ArticlePillar.Lifestyle]: lifestyle,\n    [ArticleSpecial.Labs]: lifestyle,\n    [ArticleSpecial.SpecialReport]: news,\n    [ArticleSpecial.SpecialReportAlt]: news,\n};\n\nexport { pillarPalette };\n//# sourceMappingURL=pillarPalette.js.map\n","import { jsxs, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { neutral, headline, focusHalo, textSans } from '@guardian/source-foundations';\nimport { useRef, useState, useEffect } from 'react';\nimport { pillarPalette } from './lib/pillarPalette.js';\n\nconst wrapperStyles = css `\n\twidth: 100%;\n\tborder-image: repeating-linear-gradient(\n\t\t\tto bottom,\n\t\t\t${neutral[86]},\n\t\t\t${neutral[86]} 1px,\n\t\t\ttransparent 1px,\n\t\t\ttransparent 4px\n\t\t)\n\t\t13;\n\tborder-top: 13px solid black;\n\tbackground-color: ${neutral[97]};\n\tposition: relative;\n\tpadding-left: 5px;\n\tpadding-right: 5px;\n\tpadding-bottom: 1px;\n\tmargin: 16px 0 36px;\n`;\nconst kickerStyle = (pillar) => css `\n\tcolor: ${pillarPalette[pillar][400]};\n\t${headline.xxxsmall({ fontWeight: 'bold' })};\n`;\nconst titleStyle = css `\n\t${headline.xxxsmall()};\n`;\nconst audioBodyStyle = css `\n\tdisplay: flex;\n\toverflow: hidden;\n`;\nconst audioElementStyle = css `\n\theight: 0;\n\tvertical-align: baseline;\n\twidth: 300px;\n`;\nconst audioControlsStyle = css `\n\tbox-sizing: content-box;\n\tpadding: 5px;\n\twidth: 50px;\n\theight: 50px;\n`;\nconst buttonStyle = css `\n\tpadding: 0;\n\tborder: 0;\n\toutline: 0;\n\tcursor: pointer;\n\tbackground-color: transparent;\n\t:focus {\n\t\t${focusHalo}\n\t}\n\theight: 50px;\n`;\nconst svgPlayStyle = css `\n\tfill: currentColor;\n\toverflow: hidden;\n\twidth: 50px;\n\theight: auto;\n`;\nconst svgPauseStyle = css `\n\tfill: currentColor;\n\toverflow: hidden;\n\twidth: 50px;\n\theight: auto;\n`;\nconst timingStyle = css `\n\talign-items: center;\n\tdisplay: flex;\n\tflex: 1;\n`;\nconst timePlayedStyle = css `\n\tmin-width: 75px;\n\tpadding-top: 6px;\n\tdisplay: block;\n`;\nconst progressBarStyle = css `\n\tflex: 1;\n\tdisplay: block;\n`;\nconst progressBarInputStyle = (pillar) => css `\n\twidth: 100%;\n\tappearance: none;\n\tbackground-image: linear-gradient(\n\t\tto right,\n\t\t${pillarPalette[pillar][400]} 0%,\n\t\t${neutral[60]} 0%\n\t);\n\theight: 6px;\n\toutline: 0;\n\tcursor: pointer;\n\tmargin-left: 0;\n\tmargin-right: 0;\n\t:focus {\n\t\t${focusHalo}\n\t}\n\t// Use the pillar to style the colour of the range thumb\n\t&::-webkit-slider-thumb {\n\t\tbackground: ${pillarPalette[pillar][400]};\n\t\t-webkit-appearance: none;\n\t\twidth: 14px;\n\t\theight: 14px;\n\t\tborder-radius: 50px;\n\t}\n\t&::-moz-range-thumb {\n\t\tbackground: ${pillarPalette[pillar][400]};\n\t\twidth: 14px;\n\t\theight: 14px;\n\t\tborder: none;\n\t\tborder-radius: 50px;\n\t}\n\t&::-ms-thumb {\n\t\tbackground: ${pillarPalette[pillar][400]};\n\t\twidth: 14px;\n\t\theight: 14px;\n\t\tborder: none;\n\t\tborder-radius: 50px;\n\t}\n`;\nconst timeDurationStyle = css `\n\tmin-width: 65px;\n\tpadding-top: 6px;\n\tpadding-left: 10px;\n\tdisplay: block;\n`;\nconst timeStyles = css `\n\t${textSans.small()}\n`;\nconst format = (t) => t.toFixed(0).padStart(2, '0');\nconst formatTime = (t) => {\n    const second = Math.floor(t % 60);\n    const minute = Math.floor((t % 3600) / 60);\n    const hour = Math.floor(t / 3600);\n    return `${format(hour)}:${format(minute)}:${format(second)}`;\n};\nconst PauseSVG = ({ pillar }) => (jsx(\"svg\", { css: svgPauseStyle, width: \"30px\", height: \"30px\", viewBox: \"0 0 30 30\", children: jsxs(\"g\", { fill: \"none\", fillRule: \"evenodd\", children: [jsx(\"circle\", { fill: pillarPalette[pillar][400], cx: \"15\", cy: \"15\", r: \"15\" }), jsx(\"path\", { d: \"M9.429 7.286h3.429v15.429h-3.43zm7.286 0h3.429v15.429h-3.43z\", fill: neutral[100] })] }) }));\nconst PlaySVG = ({ pillar }) => (jsx(\"svg\", { css: svgPlayStyle, width: \"30px\", height: \"30px\", viewBox: \"0 0 30 30\", children: jsxs(\"g\", { fill: \"none\", fillRule: \"evenodd\", children: [jsx(\"circle\", { fill: pillarPalette[pillar][400], cx: \"15\", cy: \"15\", r: \"15\" }), jsx(\"path\", { fill: neutral[100], d: \"M10.113 8.571l-.47.366V20.01l.472.347 13.456-5.593v-.598z\" })] }) }));\nconst buildUrl = (basicUrl, shouldUseAcast) => {\n    return shouldUseAcast\n        ? basicUrl.replace('https://', 'https://flex.acast.com/')\n        : basicUrl;\n};\nconst AudioAtom = ({ id, trackUrl, kicker, title, pillar, shouldUseAcast, duration, }) => {\n    const audioEl = useRef(null);\n    const [isPlaying, setIsPlaying] = useState(false);\n    // update current time and progress bar position\n    const [currentTime, setCurrentTime] = useState(0);\n    const [percentPlayed, setPercentPlayed] = useState(0);\n    // url\n    const [urlToUse, setUrlToUse] = useState(buildUrl(trackUrl, shouldUseAcast));\n    useEffect(() => {\n        const updateCurrentTimeAndPosition = () => {\n            const currentTime = audioEl.current?.currentTime;\n            const duration = audioEl.current?.duration;\n            setPercentPlayed(currentTime && duration ? (currentTime / duration) * 100 : 0);\n            setCurrentTime(currentTime ?? 0);\n        };\n        audioEl.current?.addEventListener('timeupdate', updateCurrentTimeAndPosition);\n        return () => audioEl.current\n            ? audioEl.current.removeEventListener('timeupdate', updateCurrentTimeAndPosition)\n            : undefined;\n    }, [audioEl, setCurrentTime, shouldUseAcast]);\n    // update duration time\n    const [durationTime, setDurationTime] = useState(duration);\n    useEffect(() => {\n        const updateDurationTime = () => setDurationTime(audioEl.current ? audioEl.current.duration : duration);\n        audioEl.current?.addEventListener('loadeddata', updateDurationTime);\n        return () => audioEl.current?.removeEventListener('loadeddata', updateDurationTime);\n    }, [audioEl, setDurationTime]);\n    const updateAudioCurrentTime = (e) => {\n        if (audioEl.current) {\n            const percentagePositionClick = (e.nativeEvent.offsetX / e.currentTarget.offsetWidth) * 100;\n            // set the currentTime of the audio based on percentagePositionClick\n            audioEl.current.currentTime =\n                (audioEl.current.duration / 100) * percentagePositionClick;\n        }\n    };\n    // ***************************\n    // *     Accessibility       *\n    // ***************************\n    const progressBarEl = useRef(null);\n    useEffect(() => {\n        const rightArrowKeyCode = 39;\n        const leftArrowKeyCode = 37;\n        const keyListener = (e) => {\n            if (e.keyCode === rightArrowKeyCode &&\n                document.activeElement === progressBarEl.current) {\n                if (audioEl.current)\n                    audioEl.current.currentTime += 15;\n            }\n            if (e.keyCode === leftArrowKeyCode &&\n                document.activeElement === progressBarEl.current) {\n                if (audioEl.current)\n                    audioEl.current.currentTime -= 15;\n            }\n        };\n        document.addEventListener('keydown', keyListener);\n        return () => document.removeEventListener('keydown', keyListener);\n    }, [audioEl, progressBarEl]);\n    // If Acast is enabled, replace the default url with an ad enabled one\n    useEffect(() => {\n        setUrlToUse(buildUrl(trackUrl, shouldUseAcast));\n    }, [shouldUseAcast]);\n    const playAudio = () => {\n        setIsPlaying(true);\n        audioEl.current?.play();\n    };\n    const pauseAudio = () => {\n        setIsPlaying(false);\n        audioEl.current?.pause();\n    };\n    return (jsxs(\"div\", { css: wrapperStyles, \"data-atom-id\": id, \"data-atom-type\": \"audio\", children: [jsxs(\"div\", { css: css `\n\t\t\t\t\tpadding-left: 5px;\n\t\t\t\t`, children: [jsx(\"span\", { css: kickerStyle(pillar), children: kicker }), jsx(\"h4\", { css: titleStyle, children: title })] }), jsxs(\"div\", { css: audioBodyStyle, children: [jsx(\"audio\", { css: audioElementStyle, src: urlToUse, ref: audioEl, preload: \"none\", \"data-component\": \"inarticle audio\", \"data-duration\": durationTime, \"data-media-id\": id ?? '_no_ids', \"data-title\": titleStyle, children: jsx(\"p\", { children: \"Sorry your browser does not support audio - but you can download here and listen https://audio.guim.co.uk/2020/05/05-61553-gnl.fw.200505.jf.ch7DW.mp3\" }) }), jsx(\"div\", { css: audioControlsStyle, children: jsx(\"button\", { \"data-testid\": isPlaying ? 'pause-button' : 'play-button', onClick: () => (isPlaying ? pauseAudio() : playAudio()), css: buttonStyle, children: isPlaying ? (jsx(PauseSVG, { pillar: pillar })) : (jsx(PlaySVG, { pillar: pillar })) }) }), jsxs(\"div\", { css: timingStyle, children: [jsx(\"div\", { css: timePlayedStyle, children: jsx(\"span\", { css: timeStyles, children: formatTime(currentTime) }) }), jsx(\"div\", { css: progressBarStyle, children: jsx(\"input\", { css: progressBarInputStyle(pillar), ref: progressBarEl, type: \"range\", min: \"0\", max: \"100\", step: \"1\", value: percentPlayed, onClick: updateAudioCurrentTime, readOnly: true }) }), jsx(\"div\", { css: timeDurationStyle, children: jsx(\"span\", { css: timeStyles, children: formatTime(durationTime) }) })] })] })] }));\n};\n\nexport { AudioAtom };\n//# sourceMappingURL=AudioAtom.js.map\n","import { jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { space } from '@guardian/source-foundations';\n\nconst ChartAtom = ({ id, html }) => {\n    return (jsx(\"div\", { \"data-atom-id\": id, \"data-testid\": \"chart\", \"data-atom-type\": \"chart\", \"data-snippet-type\": \"chart\", css: css `\n\t\t\t\tpadding-bottom: ${space[1]}px;\n\t\t\t`, children: jsx(\"iframe\", { className: \"atom__iframe\", name: id, srcDoc: html, width: \"100%\", frameBorder: \"0\" }) }));\n};\n\nexport { ChartAtom };\n//# sourceMappingURL=ChartAtom.js.map\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden, iconSize } from '@guardian/source-foundations';\n\nconst Svg = ({ size }) => (jsx(\"svg\", { width: size ? iconSize[size] : undefined, height: undefined, viewBox: \"-3 -3 30 30\", xmlns: \"http://www.w3.org/2000/svg\", focusable: false, \"aria-hidden\": true, children: jsx(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M8.848 20.06c1 .304 2.061.455 3.152.455 5.515 0 10-4.151 10-9.242C22 6.152 17.515 2 12 2S2 6.152 2 11.273c0 2.606 1.182 4.97 3.06 6.636V22l3.788-1.94Zm1.637-8.302 2.576 2.666 5.454-5.727-4.97 2.727-2.575-2.666-5.455 5.727 4.97-2.727Z\" }) }));\nconst SvgFacebookMessenger = ({ size, isAnnouncedByScreenReader = false, }) => (jsxs(Fragment, { children: [jsx(Svg, { size: size }), isAnnouncedByScreenReader ? (jsx(\"span\", { css: css `\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`, children: \"Facebook Messenger logo\" })) : ('')] }));\n\nexport { SvgFacebookMessenger };\n//# sourceMappingURL=SvgFacebookMessenger.js.map\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden, iconSize } from '@guardian/source-foundations';\n\nconst Svg = ({ size }) => (jsx(\"svg\", { width: size ? iconSize[size] : undefined, height: undefined, viewBox: \"-3 -3 30 30\", xmlns: \"http://www.w3.org/2000/svg\", focusable: false, \"aria-hidden\": true, children: jsx(\"path\", { d: \"M12 2C6.467 2 2 6.467 2 12s4.467 10 10 10 10-4.467 10-10S17.533 2 12 2Zm1.133 13.933v.49c-.11.088-.266.155-.422.244a12.49 12.49 0 0 1-.511.2 2.347 2.347 0 0 1-.533.133 4.344 4.344 0 0 1-.511.044c-.356 0-.578-.066-.712-.2a.577.577 0 0 1-.222-.444c0-.178.022-.356.045-.533.022-.178.066-.356.11-.578l.934-4.245-.867-.2v-.466c.134-.045.312-.111.556-.178.222-.067.467-.111.733-.156.267-.044.511-.088.756-.11.244-.023.467-.045.667-.045l.244.155-1.244 5.89h.977Zm.423-7.466c-.2.177-.49.266-.823.266-.31 0-.577-.089-.8-.266a.878.878 0 0 1-.31-.69c0-.31.11-.555.31-.733.2-.177.467-.266.8-.266.356 0 .623.089.823.266.2.178.31.423.31.734-.022.289-.11.51-.31.689Z\" }) }));\nconst SvgInfoRound = ({ size, isAnnouncedByScreenReader = false, }) => (jsxs(Fragment, { children: [jsx(Svg, { size: size }), isAnnouncedByScreenReader ? (jsx(\"span\", { css: css `\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`, children: \"Information\" })) : ('')] }));\n\nexport { SvgInfoRound };\n//# sourceMappingURL=SvgInfoRound.js.map\n","import { SvgCrossedOutCloud } from '../vendor/icons/SvgCrossedOutCloud.js';\nimport { SvgExclamation } from '../vendor/icons/SvgExclamation.js';\nimport { SvgFacebookMessenger } from '../vendor/icons/SvgFacebookMessenger.js';\nimport { SvgInfoRound } from '../vendor/icons/SvgInfoRound.js';\nimport { SvgMediaControlsPlay } from '../vendor/icons/SvgMediaControlsPlay.js';\nimport { SvgPayPalBrand } from '../vendor/icons/SvgPayPalBrand.js';\n\n/**\n * DEPRECATED EXPORTS\n *\n * To be removed from the public interface in the next major version.\n */\n/** @deprecated Use `SvgCrossedOutCloud` instead. */\nconst SvgOfflineCloud = SvgCrossedOutCloud;\n/** @deprecated Use `SvgExclamation` instead. */\nconst SvgAlert = SvgExclamation;\n/** @deprecated Use `SvgFacebookMessenger` instead. */\nconst SvgMessenger = SvgFacebookMessenger;\n/** @deprecated Use `SvgInfoRound` instead. */\nconst SvgInfo = SvgInfoRound;\n/** @deprecated Use `SvgMediaControlsPlay` instead. */\nconst SvgPlay = SvgMediaControlsPlay;\n/** @deprecated Use `SvgPayPalBrand` instead. */\nconst SvgPayPal = SvgPayPalBrand;\n\nexport { SvgAlert, SvgInfo, SvgMessenger, SvgOfflineCloud, SvgPayPal, SvgPlay };\n//# sourceMappingURL=deprecated-exports.js.map\n","import { jsxs, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { textSans, neutral, body } from '@guardian/source-foundations';\nimport { SvgInfo } from '@guardian/source-react-components';\nimport { pillarPalette } from '../lib/pillarPalette.js';\n\nconst imageStyling = css `\n\tfloat: left;\n\tmargin-right: 16px;\n\tmargin-bottom: 6px;\n\tobject-fit: cover;\n\tborder-radius: 50%;\n\tdisplay: block;\n\tborder: 0px;\n\twidth: 100px;\n\theight: 100px;\n`;\nconst creditStyling = css `\n\t${textSans.xsmall()};\n\tmargin: 12px 0;\n\tdisplay: flex;\n\talign-items: center;\n\tsvg {\n\t\twidth: 30px;\n\t\tfill: ${neutral[60]};\n\t}\n`;\nconst bodyStyling = css `\n\t${body.medium()}\n\tp {\n\t\tmargin-bottom: 0.5rem;\n\t}\n\n\tol {\n\t\tlist-style: decimal;\n\t\tlist-style-position: inside;\n\t\tmargin-bottom: 1rem;\n\t}\n\n\tul {\n\t\tlist-style: none;\n\t\tmargin: 0 0 0.75rem;\n\t\tpadding: 0;\n\t\tmargin-bottom: 1rem;\n\t}\n\n\tul li {\n\t\tmargin-bottom: 0.375rem;\n\t\tpadding-left: 1.25rem;\n\t}\n\n\tul li:before {\n\t\tdisplay: inline-block;\n\t\tcontent: '';\n\t\tborder-radius: 0.375rem;\n\t\theight: 0.75rem;\n\t\twidth: 0.75rem;\n\t\tmargin-right: 0.5rem;\n\t\tbackground-color: ${neutral[86]};\n\t\tmargin-left: -1.25rem;\n\t}\n\n\t/* Without this bold elements are overridden */\n\tb {\n\t\tfont-weight: 700;\n\t}\n\n\ti {\n\t\tfont-style: italic;\n\t}\n`;\nconst linkStyling = (pillar) => css `\n\ta {\n\t\tcolor: ${pillarPalette[pillar][300]};\n\t\ttext-decoration: none;\n\t\tborder-bottom: 0.0625rem solid ${neutral[86]};\n\t\ttransition: border-color 0.15s ease-out;\n\t}\n\n\ta:hover {\n\t\tborder-bottom: solid 0.0625rem ${pillarPalette[pillar][400]};\n\t}\n`;\nconst Body = ({ html, image, credit, pillar, }) => {\n    return (jsxs(\"div\", { children: [image && jsx(\"img\", { css: imageStyling, src: image, alt: \"\" }), jsx(\"div\", { css: [bodyStyling, linkStyling(pillar)], dangerouslySetInnerHTML: {\n                    __html: html,\n                } }), credit && (jsxs(\"div\", { css: creditStyling, children: [jsx(SvgInfo, {}), credit] }))] }));\n};\n\nexport { Body };\n//# sourceMappingURL=Body.js.map\n","import { jsxs, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { headline, textSans, body, neutral } from '@guardian/source-foundations';\nimport { SvgPlus, SvgMinus } from '@guardian/source-react-components';\nimport { useState } from 'react';\nimport { pillarPalette } from '../lib/pillarPalette.js';\n\n/// SUMMARY ELEMENT\nconst titleStyling = css `\n\t${headline.xxxsmall({\n    fontWeight: 'medium',\n})};\n\tmargin: 0;\n\tline-height: 22px;\n`;\nconst plusStyling = css `\n\tmargin-right: 12px;\n\tmargin-bottom: 6px;\n\twidth: 33px;\n\tfill: white;\n\theight: 28px;\n`;\nconst minusStyling = css `\n\tmargin-right: 14px;\n\tmargin-bottom: 6px;\n\twidth: 30px;\n\tfill: white;\n\theight: 25px;\n\tpadding-left: 4px;\n`;\nconst iconSpacing = css `\n\tdisplay: inline-flex;\n\talign-items: center;\n\t${textSans.small()};\n`;\nconst Summary = ({ sectionTitle, title, pillar, expandCallback, }) => {\n    const atomTitleStyling = css `\n\t\tdisplay: block;\n\t\t${body.medium({\n        lineHeight: 'tight',\n        fontWeight: 'bold',\n    })};\n\t\tcolor: ${pillarPalette[pillar][400]};\n\t`;\n    const showHideStyling = css `\n\t\tbackground: ${neutral[7]};\n\t\tcolor: ${neutral[100]};\n\t\theight: 2rem;\n\t\tposition: absolute;\n\t\tbottom: 0;\n\t\ttransform: translate(0, 50%);\n\t\tpadding: 0 15px 0 7px;\n\t\tborder-radius: 100em;\n\t\tcursor: pointer;\n\t\tdisplay: inline-flex;\n\t\talign-items: center;\n\t\tborder: 0;\n\t\tmargin: 0;\n\t\t:hover {\n\t\t\tbackground: ${pillarPalette[pillar][400]};\n\t\t}\n\t`;\n    const [hasBeenExpanded, setHasBeenExpanded] = useState(false);\n    const [expandEventSent, setExpandEventFired] = useState(false);\n    return (jsxs(\"summary\", { onClick: () => {\n            if (!expandEventSent) {\n                expandCallback();\n                setExpandEventFired(true);\n            }\n            setHasBeenExpanded(!hasBeenExpanded);\n        }, children: [jsx(\"span\", { css: atomTitleStyling, children: sectionTitle }), jsx(\"h4\", { css: titleStyling, children: title }), jsx(\"span\", { css: showHideStyling, children: !hasBeenExpanded ? (jsxs(\"span\", { css: iconSpacing, children: [jsx(\"span\", { css: plusStyling, children: jsx(SvgPlus, {}) }), \"Show\"] })) : (jsxs(\"span\", { css: iconSpacing, children: [jsx(\"span\", { css: minusStyling, children: jsx(SvgMinus, {}) }), \"Hide\"] })) })] }));\n};\n\nexport { Summary };\n//# sourceMappingURL=Summary.js.map\n","import { jsx, jsxs } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { ArticleDesign } from '@guardian/libs';\nimport { neutral, text } from '@guardian/source-foundations';\nimport { Summary } from './Summary.js';\n\nconst containerStyling = css `\n\tdisplay: block;\n\tposition: relative;\n`;\nconst detailStyling = (design) => {\n    // One off background colour for analysis articles\n    const background = design === ArticleDesign.Analysis ? '#F2E8E6' : neutral[93];\n    return css `\n\t\tmargin: 16px 0 36px;\n\t\tbackground: ${background};\n\t\tcolor: ${text.primary};\n\t\tpadding: 0 5px 6px;\n\t\tborder-image: repeating-linear-gradient(\n\t\t\t\tto bottom,\n\t\t\t\t${neutral[86]},\n\t\t\t\t${neutral[86]} 1px,\n\t\t\t\ttransparent 1px,\n\t\t\t\ttransparent 4px\n\t\t\t)\n\t\t\t13;\n\t\tborder-top: 13px solid black;\n\t\tposition: relative;\n\t\tsummary {\n\t\t\tlist-style: none;\n\t\t\tmargin: 0 0 16px;\n\t\t}\n\n\t\t/* https://developer.mozilla.org/en-US/docs/Web/HTML/Element/details#Customizing_the_disclosure_widget */\n\t\tsummary::-webkit-details-marker {\n\t\t\tdisplay: none;\n\t\t}\n\n\t\tsummary:focus {\n\t\t\toutline: none;\n\t\t}\n\t`;\n};\nconst Container = ({ id, title, children, design, pillar, expandForStorybook, atomType, atomTypeTitle, expandCallback, }) => (jsx(\"div\", { css: containerStyling, \"data-atom-id\": id, \"data-atom-type\": atomType, children: jsxs(\"details\", { css: detailStyling(design), \"data-atom-id\": id, \"data-snippet-type\": atomType, open: expandForStorybook, children: [jsx(Summary, { sectionTitle: atomTypeTitle, pillar: pillar, title: title, expandCallback: expandCallback }), children] }) }));\n\nexport { Container, detailStyling };\n//# sourceMappingURL=Container.js.map\n","import { jsxs, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { textSans } from '@guardian/source-foundations';\nimport { useState } from 'react';\nimport { pillarPalette } from '../lib/pillarPalette.js';\n\n/// LIKE/DISLIKE FEEDBACK FOOTER\nconst footerStyling = css `\n\tfont-size: 13px;\n\tline-height: 16px;\n\tdisplay: flex;\n\tjustify-content: flex-end;\n`;\n// Currently no thumb icon in src-icons so a path is needed\nconst ThumbImage = () => {\n    return (jsx(\"svg\", { css: css `\n\t\t\t\twidth: 16px;\n\t\t\t\theight: 16px;\n\t\t\t`, viewBox: \"0 0 40 40\", children: jsx(\"path\", { fill: \"#FFF\", d: \"M33.78 22.437l-4.228 13.98L27.93 37.5 5.062 34.14V15.503l7.8-1.517L24.354 2.5h1.624L28.9 5.426l-4.548 8.67h.107l10.477 1.31\" }) }));\n};\nconst Footer = ({ pillar, likeHandler, dislikeHandler, }) => {\n    // This is defined here because adding the hover styling using cx breaks the text styling\n    const buttonStyling = css `\n\t\tdisplay: inline-flex;\n\t\tcursor: pointer;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tbackground: black;\n\t\tcolor: white;\n\t\tborder-style: hidden;\n\t\tborder-radius: 100%;\n\t\tmargin: 0 0 0 5px;\n\t\tpadding: 0;\n\t\twidth: 28px;\n\t\theight: 28px;\n\t\t:hover {\n\t\t\tbackground: ${pillarPalette[pillar][400]};\n\t\t}\n\t\t:focus {\n\t\t\tborder: none;\n\t\t}\n\t`;\n    const [showThankYou, setShowThankYou] = useState(false);\n    return (jsxs(\"footer\", { css: footerStyling, children: [jsx(\"div\", { hidden: showThankYou, children: jsxs(\"div\", { css: css `\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\t${textSans.xsmall()};\n\t\t\t\t\t`, children: [jsx(\"div\", { children: \"Was this helpful?\" }), jsx(\"button\", { \"aria-label\": \"yes, this was helpful\", \"data-testid\": \"like\", css: buttonStyling, onClick: () => {\n                                likeHandler();\n                                setShowThankYou(true);\n                            }, children: jsx(ThumbImage, {}) }), jsx(\"button\", { \"aria-label\": \"no, this was not helpful\", css: [\n                                buttonStyling,\n                                css `\n\t\t\t\t\t\t\t\ttransform: rotate(180deg);\n\t\t\t\t\t\t\t\t-webkit-transform: rotate(180deg);\n\t\t\t\t\t\t\t\t-moz-transform: rotate(180deg);\n\t\t\t\t\t\t\t\t-o-transform: rotate(180deg);\n\t\t\t\t\t\t\t`,\n                            ], \"data-testid\": \"dislike\", onClick: () => {\n                                dislikeHandler();\n                                setShowThankYou(true);\n                            }, children: jsx(ThumbImage, {}) })] }) }), jsx(\"div\", { css: css `\n\t\t\t\t\t${textSans.xsmall()};\n\t\t\t\t\theight: 28px;\n\t\t\t\t`, \"data-testid\": \"feedback\", hidden: !showThankYou, children: \"Thank you for your feedback.\" })] }));\n};\n\nexport { Footer };\n//# sourceMappingURL=Footer.js.map\n","const getOphanRecordFunction = () => {\n    const record = window?.guardian?.ophan?.record;\n    if (record) {\n        return record;\n    }\n    console.log('window.guardian.ophan.record is not available');\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    return () => { };\n};\nconst submitComponentEvent = (componentEvent) => {\n    const record = getOphanRecordFunction();\n    record({ componentEvent });\n};\n\nexport { submitComponentEvent };\n//# sourceMappingURL=ophan.js.map\n","import { jsxs, jsx } from '@emotion/react/jsx-runtime';\nimport { Body } from './expandableAtom/Body.js';\nimport { Container } from './expandableAtom/Container.js';\nimport { Footer } from './expandableAtom/Footer.js';\nimport { submitComponentEvent } from './lib/ophan.js';\n\nconst GuideAtom = ({ id, title, image, html, credit, design, pillar, expandForStorybook, likeHandler, dislikeHandler, expandCallback, }) => {\n    return (jsxs(Container, { id: id, title: title, design: design, pillar: pillar, atomType: \"guide\", atomTypeTitle: \"Quick Guide\", expandForStorybook: expandForStorybook, expandCallback: expandCallback ??\n            (() => submitComponentEvent({\n                component: {\n                    componentType: 'GUIDE_ATOM',\n                    id,\n                    products: [],\n                    labels: [],\n                },\n                action: 'EXPAND',\n            })), children: [jsx(Body, { html: html, image: image, credit: credit, pillar: pillar }), jsx(Footer, { pillar: pillar, dislikeHandler: dislikeHandler ??\n                    (() => submitComponentEvent({\n                        component: {\n                            componentType: 'GUIDE_ATOM',\n                            id,\n                            products: [],\n                            labels: [],\n                        },\n                        action: 'DISLIKE',\n                    })), likeHandler: likeHandler ??\n                    (() => submitComponentEvent({\n                        component: {\n                            componentType: 'GUIDE_ATOM',\n                            id,\n                            products: [],\n                            labels: [],\n                        },\n                        action: 'LIKE',\n                    })) })] }));\n};\n\nexport { GuideAtom };\n//# sourceMappingURL=GuideAtom.js.map\n","import{options as e,h as t,Fragment as r}from\"preact\";var o=/[\\s\\n\\\\/='\"\\0<>]/,a=/^xlink:?./,n=/[\"&<]/;function i(e){if(0===e.length||!1===n.test(e))return e;for(var t=0,r=0,o=\"\",a=\"\";r<e.length;r++){switch(e.charCodeAt(r)){case 34:a=\"&quot;\";break;case 38:a=\"&amp;\";break;case 60:a=\"&lt;\";break;default:continue}r!==t&&(o+=e.slice(t,r)),o+=a,t=r+1}return r!==t&&(o+=e.slice(t,r)),o}var s={},l=new Set([\"animation-iteration-count\",\"border-image-outset\",\"border-image-slice\",\"border-image-width\",\"box-flex\",\"box-flex-group\",\"box-ordinal-group\",\"column-count\",\"fill-opacity\",\"flex\",\"flex-grow\",\"flex-negative\",\"flex-order\",\"flex-positive\",\"flex-shrink\",\"flood-opacity\",\"font-weight\",\"grid-column\",\"grid-row\",\"line-clamp\",\"line-height\",\"opacity\",\"order\",\"orphans\",\"stop-opacity\",\"stroke-dasharray\",\"stroke-dashoffset\",\"stroke-miterlimit\",\"stroke-opacity\",\"stroke-width\",\"tab-size\",\"widows\",\"z-index\",\"zoom\"]),c=/[A-Z]/g;function u(e){var t=\"\";for(var r in e){var o=e[r];if(null!=o&&\"\"!==o){var a=\"-\"==r[0]?r:s[r]||(s[r]=r.replace(c,\"-$&\").toLowerCase()),n=\";\";\"number\"!=typeof o||a.startsWith(\"--\")||l.has(a)||(n=\"px;\"),t=t+a+\":\"+o+n}}return t||void 0}var f,_,p,d,v=[],h=Array.isArray,g=Object.assign;function y(o,a){var n=e.__s;e.__s=!0,f=e.__b,_=e.diffed,p=e.__r,d=e.unmount;var i=t(r,null);i.__k=[o];try{return x(o,a||b,!1,void 0,i)}finally{e.__c&&e.__c(o,v),e.__s=n,v.length=0}}function m(){this.__d=!0}var b={};function k(e,t){var r=e.type,o=new r(e.props,t);return e.__c=o,o.__v=e,o.props=e.props,o.context=t,o.__d=!0,null==o.state&&(o.state=b),null==o.__s&&(o.__s=o.state),r.getDerivedStateFromProps?o.state=g({},o.state,r.getDerivedStateFromProps(o.props,o.state)):o.componentWillMount&&(o.componentWillMount(),o.state=o.__s!==o.state?o.__s:o.state),p&&p(e),o.render(o.props,o.state,t)}function x(e,t,n,s,l){if(null==e||!0===e||!1===e||\"\"===e)return\"\";if(\"object\"!=typeof e)return\"function\"==typeof e?\"\":i(e+\"\");if(h(e)){var c=\"\";l.__k=e;for(var v=0;v<e.length;v++){var y=e[v];null!=y&&\"boolean\"!=typeof y&&(c+=x(y,t,n,s,l))}return c}if(void 0!==e.constructor)return\"\";e.__=l,f&&f(e);var b,S,j,A=e.type,L=e.props,M=t;if(\"function\"==typeof A){if(A===r)S=L.children;else{if(null!=(b=A.contextType)){var z=t[b.__c];M=z?z.props.value:b.__}if(A.prototype&&\"function\"==typeof A.prototype.render)S=k(e,M),j=e.__c;else{e.__c=j={__v:e,props:L,context:M,setState:m,forceUpdate:m,__d:!0,__h:[]};for(var F=0;j.__d&&F++<25;)j.__d=!1,p&&p(e),S=A.call(j,L,M);j.__d=!0}null!=j.getChildContext&&(t=g({},t,j.getChildContext()))}var T=x(S=null!=S&&S.type===r&&null==S.key?S.props.children:S,t,n,s,e);return _&&_(e),e.__=void 0,d&&d(e),T}var W,D=\"<\"+A,H=\"\";for(var O in L){var P=L[O];switch(O){case\"children\":W=P;continue;case\"key\":case\"ref\":case\"__self\":case\"__source\":continue;case\"htmlFor\":if(\"for\"in L)continue;O=\"for\";break;case\"className\":if(\"class\"in L)continue;O=\"class\";break;case\"defaultChecked\":O=\"checked\";break;case\"defaultSelected\":O=\"selected\";break;case\"defaultValue\":case\"value\":switch(O=\"value\",A){case\"textarea\":W=P;continue;case\"select\":s=P;continue;case\"option\":s!=P||\"selected\"in L||(D+=\" selected\")}break;case\"dangerouslySetInnerHTML\":H=P&&P.__html;continue;case\"style\":\"object\"==typeof P&&(P=u(P));break;default:if(n&&a.test(O))O=O.toLowerCase().replace(w,\"xlink:\");else{if(o.test(O))continue;\"-\"!==O[4]&&\"draggable\"!==O||null==P||(P+=\"\")}}null!=P&&!1!==P&&\"function\"!=typeof P&&(D=!0===P||\"\"===P?D+\" \"+O:D+\" \"+O+'=\"'+i(P+\"\")+'\"')}if(o.test(A))throw new Error(A+\" is not a valid HTML tag name in \"+D+\">\");return H||(\"string\"==typeof W?H=i(W):null!=W&&!1!==W&&!0!==W&&(H=x(W,t,\"svg\"===A||\"foreignObject\"!==A&&n,s,e))),_&&_(e),e.__=void 0,d&&d(e),!H&&C.has(A)?D+\"/>\":D+\">\"+H+\"</\"+A+\">\"}var w=/^xlink:?/,C=new Set([\"area\",\"base\",\"br\",\"col\",\"command\",\"embed\",\"hr\",\"img\",\"input\",\"keygen\",\"link\",\"meta\",\"param\",\"source\",\"track\",\"wbr\"]),S=y,j=y;export default y;export{S as render,j as renderToStaticMarkup,y as renderToString};\n//# sourceMappingURL=index.module.js.map\n","import { jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { ArticleDisplay } from '@guardian/libs';\nimport { unifyPageContent } from './lib/unifyPageContent.js';\n\nconst containerStyles = css `\n\tmargin: 0;\n`;\nconst fullWidthStyles = css `\n\twidth: 100%;\n`;\nconst fullHeightStyles = css `\n\theight: 100%;\n`;\nconst InteractiveAtom = ({ id, elementHtml, elementJs, elementCss, isMainMedia, format, }) => (jsx(\"div\", { css: [containerStyles, isMainMedia && fullHeightStyles], \"data-atom-id\": id, \"data-atom-type\": \"interactive\", children: jsx(\"iframe\", { css: [\n            fullWidthStyles,\n            isMainMedia &&\n                format.display === ArticleDisplay.Immersive &&\n                fullHeightStyles,\n        ], srcDoc: unifyPageContent({ elementJs, elementCss, elementHtml }), frameBorder: \"0\" }) }));\n\nexport { InteractiveAtom };\n//# sourceMappingURL=InteractiveAtom.js.map\n","import { jsxs, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\n\nconst containerStyles = css `\n\tmargin: 0;\n\tpadding: 0;\n`;\nconst InteractiveLayoutAtom = ({ id, elementHtml, elementJs, elementCss, }) => (jsxs(\"figure\", { className: \"interactive interactive-atom\", css: containerStyles, \"data-atom-id\": id, \"data-atom-type\": \"interactive-layout\", children: [elementCss && (jsx(\"style\", { \"data-testid\": \"style\", dangerouslySetInnerHTML: { __html: elementCss } })), elementHtml && (jsx(\"div\", { className: \"interactive-wrapper\", dangerouslySetInnerHTML: { __html: elementHtml } })), elementJs && (jsx(\"script\", { \"data-testid\": \"script\", dangerouslySetInnerHTML: { __html: elementJs } }))] }));\n\nexport { InteractiveLayoutAtom };\n//# sourceMappingURL=InteractiveLayoutAtom.js.map\n","import { jsxs, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { ArticleSpecial } from '@guardian/libs';\nimport { space, success, news, neutral, textSans, body } from '@guardian/source-foundations';\nimport { SvgCheckmark, SvgCross } from '@guardian/source-react-components';\n\n// We export Radio wrapper styles to override Source Radio buttons to align\n// with our custom answers for the quiz\nconst radioButtonWrapperStyles = (theme) => css `\n\tlabel {\n\t\tpadding-top: ${space[3]}px;\n\t\tpadding-bottom: ${space[3]}px;\n\t\tpadding-left: ${space[2]}px;\n\t\tpadding-right: ${space[2]}px;\n\n\t\tmargin-bottom: ${space[2]}px;\n\n\t\tbackground-color: ${neutral[97]};\n\n\t\t:hover {\n\t\t\tbackground-color: ${neutral[86]};\n\t\t}\n\t\t/* TODO: apply same styles on focus (requires source update) */\n\n\t\tdiv {\n\t\t\t${fontStyles(theme)};\n\t\t}\n\t}\n`;\nconst fontStyles = (theme) => theme === ArticleSpecial.Labs ? textSans.medium() : body.medium();\nconst answerWithSVGStyles = css `\n\tmargin-bottom: ${space[2]}px;\n\n\tpadding-top: ${space[2]}px;\n\tpadding-bottom: ${space[3]}px;\n\tpadding-right: ${space[4]}px;\n\tpadding-left: ${space[3]}px;\n`;\nconst WhiteCheckmark = () => (jsx(\"div\", { css: css `\n\t\t\tmargin-right: ${space[1]}px;\n\n\t\t\theight: ${space[6]}px;\n\t\t\tsvg {\n\t\t\t\tfill: ${neutral[100]};\n\t\t\t\theight: ${space[6]}px;\n\t\t\t\twidth: ${space[6]}px;\n\t\t\t}\n\t\t`, children: jsx(SvgCheckmark, {}) }));\nconst BlackCheckmark = () => (jsx(\"div\", { css: css `\n\t\t\tmargin-right: ${space[1]}px;\n\n\t\t\theight: ${space[6]}px;\n\t\t\tsvg {\n\t\t\t\tfill: ${neutral[0]};\n\t\t\t\theight: ${space[6]}px;\n\t\t\t\twidth: ${space[6]}px;\n\t\t\t}\n\t\t`, children: jsx(SvgCheckmark, {}) }));\nconst WhiteCross = () => (jsx(\"div\", { css: css `\n\t\t\tmargin-right: ${space[1]}px;\n\n\t\t\theight: ${space[6]}px;\n\t\t\tsvg {\n\t\t\t\tfill: ${neutral[100]};\n\t\t\t\theight: ${space[6]}px;\n\t\t\t\twidth: ${space[6]}px;\n\t\t\t}\n\t\t`, children: jsx(SvgCross, {}) }));\nconst WhiteText = ({ text, supplementText, id, answerType, theme, }) => (jsxs(\"label\", { css: css `\n\t\t\tcolor: ${neutral[100]};\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\n\t\t\t${fontStyles(theme)};\n\t\t`, \"data-testid\": id, \"data-answer-type\": answerType, children: [jsx(\"span\", { css: css `\n\t\t\t\t${fontStyles(theme)};\n\t\t\t`, children: text }), supplementText && (jsx(\"span\", { css: css `\n\t\t\t\t\t${textSans.xsmall()}\n\t\t\t\t`, children: supplementText }))] }));\nconst BlackText = ({ text, supplementText, id, answerType, theme, }) => (jsxs(\"label\", { css: css `\n\t\t\tcolor: ${neutral[0]};\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\n\t\t\t${fontStyles(theme)};\n\t\t`, \"data-testid\": id, \"data-answer-type\": answerType, children: [jsx(\"span\", { css: css `\n\t\t\t\t${fontStyles(theme)};\n\t\t\t`, children: text }), supplementText && (jsx(\"span\", { css: css `\n\t\t\t\t\t${textSans.xsmall()}\n\t\t\t\t`, children: supplementText }))] }));\nconst correctSelectedAnswerStyles = css `\n\tdisplay: flex;\n\tflex-direction: row;\n\n\tbackground-color: ${success[400]};\n`;\nconst CorrectSelectedAnswer = ({ answerText, explainerText, id, theme, }) => (jsxs(\"div\", { css: [answerWithSVGStyles, correctSelectedAnswerStyles], children: [jsx(WhiteCheckmark, {}), jsx(WhiteText, { id: id, text: answerText, supplementText: explainerText, answerType: \"correct-selected-answer\", theme: theme })] }));\nconst incorrectSelectedAnswerStyles = css `\n\tdisplay: flex;\n\tflex-direction: row;\n\n\tbackground-color: ${news[400]};\n`;\nconst IncorrectAnswer = ({ answerText, id, theme, }) => (jsxs(\"div\", { css: [answerWithSVGStyles, incorrectSelectedAnswerStyles], children: [jsx(WhiteCross, {}), jsx(WhiteText, { id: id, text: answerText, answerType: \"incorrect-answer\", theme: theme })] }));\nconst correctNonSelectedAnswerStyles = css `\n\tdisplay: flex;\n\tflex-direction: row;\n\tborder: 2px solid ${success[400]};\n\tpadding-left: 10px;\n\n\tbackground-color: ${neutral[97]};\n`;\nconst NonSelectedCorrectAnswer = ({ answerText, explainerText, id, theme, }) => (jsxs(\"div\", { css: [answerWithSVGStyles, correctNonSelectedAnswerStyles], children: [jsx(BlackCheckmark, {}), jsx(BlackText, { id: id, text: answerText, supplementText: explainerText, answerType: \"non-selected-correct-answer\", theme: theme })] }));\nconst unselectedAnswerStyles = css `\n\tbackground-color: ${neutral[97]};\n\tmargin-bottom: ${space[2]}px;\n\n\tpadding-top: ${space[2]}px;\n\tpadding-bottom: ${space[3]}px;\n\tpadding-right: ${space[2]}px;\n\tpadding-left: ${space[9]}px;\n`;\nconst UnselectedAnswer = ({ id, answerText, theme, }) => (jsx(\"div\", { css: unselectedAnswerStyles, children: jsx(BlackText, { id: id, text: answerText, answerType: \"unselected-disabled-answer\", theme: theme }) }));\n\nexport { CorrectSelectedAnswer, IncorrectAnswer, NonSelectedCorrectAnswer, UnselectedAnswer, radioButtonWrapperStyles };\n//# sourceMappingURL=Answers.js.map\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden, iconSize } from '@guardian/source-foundations';\n\nconst Svg = ({ size }) => (jsx(\"svg\", { width: size ? iconSize[size] : undefined, height: undefined, viewBox: \"-3 -3 30 30\", xmlns: \"http://www.w3.org/2000/svg\", focusable: false, \"aria-hidden\": true, children: jsx(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M9.575 6.125V9.25H6.15v3.45h3.425V23H13.7V12.7h3.375l.75-3.45H13.7V6.5c0-1.525.9-2.05 2.075-2.05h2.05L17.7 1.175c-1.025-.1-1.825-.175-3-.175-2.925 0-5.125 1.825-5.125 5.125Z\" }) }));\nconst SvgFacebook = ({ size, isAnnouncedByScreenReader = false, }) => (jsxs(Fragment, { children: [jsx(Svg, { size: size }), isAnnouncedByScreenReader ? (jsx(\"span\", { css: css `\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`, children: \"Facebook logo\" })) : ('')] }));\n\nexport { SvgFacebook };\n//# sourceMappingURL=SvgFacebook.js.map\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden, iconSize } from '@guardian/source-foundations';\n\nconst Svg = ({ size }) => (jsx(\"svg\", { width: size ? iconSize[size] : undefined, height: undefined, viewBox: \"-3 -3 30 30\", xmlns: \"http://www.w3.org/2000/svg\", focusable: false, \"aria-hidden\": true, children: jsx(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M24 6.1c-.875.375-1.65.6-2.625.725 1.025-.575 1.7-1.425 2.025-2.5-.875.425-1.9 1-2.875 1.075C19.7 4.575 18.6 4 17.2 4c-2.45 0-4.5 2.05-4.5 4.5 0 .275.025.75.125 1.025C9 9.325 5.875 7.575 3.5 4.8c-.325.675-.6 1.475-.6 2.275 0 1.5.8 3.025 2.025 3.75-.4.075-1.675-.325-2.075-.525 0 2.325 1.625 4 3.65 4.475-.775.2-1.375.25-2.05.075.625 1.8 2.2 3.1 4.2 3.1-1.5 1.275-3.475 1.95-5.575 1.975-.375-.075-.775 0-1.075-.075 1.925 1.275 4.425 1.975 6.925 1.975 8.275 0 12.85-6.85 12.85-12.8 0-.175-.05-.4-.05-.575A10.12 10.12 0 0 0 24 6.1Z\" }) }));\nconst SvgTwitter = ({ size, isAnnouncedByScreenReader = false, }) => (jsxs(Fragment, { children: [jsx(Svg, { size: size }), isAnnouncedByScreenReader ? (jsx(\"span\", { css: css `\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`, children: \"Twitter logo\" })) : ('')] }));\n\nexport { SvgTwitter };\n//# sourceMappingURL=SvgTwitter.js.map\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden, iconSize } from '@guardian/source-foundations';\n\nconst Svg = ({ size }) => (jsxs(\"svg\", { width: size ? iconSize[size] : undefined, height: undefined, viewBox: \"-3 -3 30 30\", xmlns: \"http://www.w3.org/2000/svg\", focusable: false, \"aria-hidden\": true, children: [jsx(\"path\", { d: \"M2.571 4 1 5.699l9.952 7.926h2.096L23 5.699 21.429 4H2.57Z\" }), jsx(\"path\", { d: \"M1 17.625v-9.5l9.952 7h2.096l9.952-7v9.5l-1.571 1.5H2.57L1 17.625Z\" })] }));\nconst SvgEnvelope = ({ size, isAnnouncedByScreenReader = false, }) => (jsxs(Fragment, { children: [jsx(Svg, { size: size }), isAnnouncedByScreenReader ? (jsx(\"span\", { css: css `\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`, children: \"Email\" })) : ('')] }));\n\nexport { SvgEnvelope };\n//# sourceMappingURL=SvgEnvelope.js.map\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden, iconSize } from '@guardian/source-foundations';\n\nconst Svg = ({ size }) => (jsx(\"svg\", { width: size ? iconSize[size] : undefined, height: undefined, viewBox: \"-3 -3 30 30\", xmlns: \"http://www.w3.org/2000/svg\", focusable: false, \"aria-hidden\": true, children: jsx(\"path\", { d: \"M19.09 4.52a9.9 9.9 0 0 0-7.05-2.92c-5.49 0-9.96 4.47-9.96 9.96 0 1.75.46 3.47 1.33 4.98L2 21.69l5.28-1.38c1.45.79 3.09 1.21 4.76 1.21 5.49 0 9.96-4.47 9.96-9.96a9.92 9.92 0 0 0-2.91-7.04Zm-7.05 15.32c-1.49 0-2.95-.4-4.22-1.15l-.3-.18-3.13.82.84-3.05-.2-.31a8.19 8.19 0 0 1-1.26-4.41c0-4.56 3.71-8.27 8.28-8.27 2.21 0 4.29.86 5.85 2.43a8.222 8.222 0 0 1 2.42 5.85c0 4.56-3.72 8.27-8.28 8.27Zm4.54-6.2c-.25-.12-1.47-.73-1.7-.81-.23-.08-.39-.12-.56.12-.17.25-.64.81-.79.97-.14.17-.29.19-.54.06-.25-.12-1.05-.39-2-1.23a7.283 7.283 0 0 1-1.38-1.72c-.15-.25-.02-.38.11-.51.11-.11.25-.29.37-.44.12-.15.17-.25.25-.42.08-.17.04-.31-.02-.44-.06-.12-.56-1.35-.77-1.85-.2-.49-.41-.42-.56-.43-.14-.01-.31-.01-.48-.01-.17 0-.44.06-.66.31-.22.25-.87.85-.87 2.08 0 1.22.89 2.41 1.02 2.57.12.17 1.75 2.68 4.25 3.76.59.26 1.06.41 1.42.52.6.19 1.14.16 1.57.1.48-.07 1.47-.6 1.68-1.18.21-.58.21-1.08.14-1.18-.06-.08-.23-.14-.48-.27Z\" }) }));\nconst SvgWhatsApp = ({ size, isAnnouncedByScreenReader = false, }) => (jsxs(Fragment, { children: [jsx(Svg, { size: size }), isAnnouncedByScreenReader ? (jsx(\"span\", { css: css `\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`, children: \"WhatsApp logo\" })) : ('')] }));\n\nexport { SvgWhatsApp };\n//# sourceMappingURL=SvgWhatsApp.js.map\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden, iconSize } from '@guardian/source-foundations';\n\nconst Svg = ({ size }) => (jsx(\"svg\", { width: size ? iconSize[size] : undefined, height: undefined, viewBox: \"-3 -3 30 30\", xmlns: \"http://www.w3.org/2000/svg\", focusable: false, \"aria-hidden\": true, children: jsx(\"path\", { d: \"M7.075 3.952c0 1.085-.785 1.95-2.08 1.95C3.786 5.902 3 5.037 3 3.952 3 2.843 3.81 2 5.05 2c1.242 0 2 .843 2.025 1.952ZM3.101 19.997V7.442H6.95v12.555H3.1ZM9.25 11.447c0-1.565-.05-2.868-.1-4.005h3.34l.179 1.746h.076c.5-.821 1.747-2.024 3.826-2.024 2.531 0 4.43 1.72 4.43 5.417v7.422H17.15V13.04c0-1.618-.558-2.721-1.95-2.721-1.063 0-1.696.743-1.974 1.462-.1.316-.143.646-.128.977v7.239H9.25v-8.55Z\" }) }));\nconst SvgLinkedIn = ({ size, isAnnouncedByScreenReader = false, }) => (jsxs(Fragment, { children: [jsx(Svg, { size: size }), isAnnouncedByScreenReader ? (jsx(\"span\", { css: css `\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`, children: \"LinkedIn logo\" })) : ('')] }));\n\nexport { SvgLinkedIn };\n//# sourceMappingURL=SvgLinkedIn.js.map\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden, iconSize } from '@guardian/source-foundations';\n\nconst Svg = ({ size }) => (jsx(\"svg\", { width: size ? iconSize[size] : undefined, height: undefined, viewBox: \"-3 -3 30 30\", xmlns: \"http://www.w3.org/2000/svg\", focusable: false, \"aria-hidden\": true, children: jsx(\"path\", { d: \"M10.577 15.303c-.54 2.831-1.2 5.546-3.153 6.963-.604-4.279.885-7.489 1.576-10.905-1.182-1.984.142-5.977 2.628-4.993 3.059 1.21-2.649 7.376 1.183 8.146 4 .804 5.634-6.941 3.153-9.46-3.584-3.637-10.434-.083-9.592 5.124.205 1.273 1.52 1.66.526 3.417-2.294-.509-2.979-2.318-2.89-4.73.141-3.942 3.547-6.713 6.963-7.096 4.32-.483 8.375 1.586 8.935 5.65.63 4.587-1.95 9.555-6.57 9.198-1.252-.098-1.777-.718-2.759-1.314Z\" }) }));\nconst SvgPinterest = ({ size, isAnnouncedByScreenReader = false, }) => (jsxs(Fragment, { children: [jsx(Svg, { size: size }), isAnnouncedByScreenReader ? (jsx(\"span\", { css: css `\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`, children: \"Pinterest logo\" })) : ('')] }));\n\nexport { SvgPinterest };\n//# sourceMappingURL=SvgPinterest.js.map\n","import { jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { from } from '@guardian/source-foundations';\nimport { LinkButton, SvgFacebook, SvgTwitter, SvgEnvelope, SvgWhatsApp, SvgMessenger, SvgLinkedIn, SvgPinterest } from '@guardian/source-react-components';\n\nconst shareIconList = css `\n\tdisplay: flex;\n\tflex-direction: row;\n\t${from.wide} {\n\t\tflex: auto;\n\t}\n\n\ta {\n\t\tmargin-right: 5px;\n\t}\n`;\nconst mobileOnlyShareIconsListItem = css `\n\t${from.phablet} {\n\t\tdisplay: none;\n\t}\n`;\nconst SharingIcons = ({ sharingUrls, displayIcons, }) => {\n    const icons = {\n        facebook: SvgFacebook,\n        twitter: SvgTwitter,\n        email: SvgEnvelope,\n        whatsApp: SvgWhatsApp,\n        messenger: SvgMessenger,\n        linkedIn: SvgLinkedIn,\n        pinterest: SvgPinterest,\n    };\n    const mobileOnlyIcons = ['whatsApp', 'messenger'];\n    const shareList = displayIcons.reduce((list, id) => {\n        const icon = icons[id];\n        const sharingUrl = sharingUrls[id];\n        if (icon && sharingUrl) {\n            const listItem = {\n                id,\n                Icon: icon,\n                mobileOnly: mobileOnlyIcons.includes(id),\n                ...sharingUrl,\n            };\n            list.push(listItem);\n        }\n        return list;\n    }, []);\n    return (jsx(\"div\", { css: shareIconList, children: shareList.map((shareListItem) => {\n            const { Icon, id, url, userMessage, mobileOnly } = shareListItem;\n            return (jsx(\"div\", { css: mobileOnly ? mobileOnlyShareIconsListItem : '', children: jsx(LinkButton, { hideLabel: true, href: url, role: \"button\", \"aria-label\": userMessage, target: \"_blank\", rel: \"noreferrer\", icon: jsx(Icon, {}), priority: \"tertiary\", size: \"small\", \"data-ignore\": \"global-link-styling\", children: userMessage }) }, `${id}Share`));\n        }) }));\n};\n\nexport { SharingIcons };\n//# sourceMappingURL=SharingIcons.js.map\n","import { jsxs, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { ArticleSpecial } from '@guardian/libs';\nimport { neutral, space, textSans, brand, body } from '@guardian/source-foundations';\nimport { Button, RadioGroup, Radio } from '@guardian/source-react-components';\nimport { useState, useEffect, Fragment } from 'react';\nimport { CorrectSelectedAnswer, IncorrectAnswer, NonSelectedCorrectAnswer, UnselectedAnswer, radioButtonWrapperStyles } from './Answers.js';\nimport { SharingIcons } from './SharingIcons.js';\n\nconst fieldsetStyle = css `\n\tmargin-bottom: 12px;\n\tborder: 0px;\n\tpadding: 0px;\n`;\nconst KnowledgeQuizAtom = ({ id, questions, resultGroups, sharingUrls, theme, }) => {\n    const [quizSelection, setQuizSelection] = useState({});\n    const haveAllQuestionsBeenAnswered = Object.keys(quizSelection).length === questions.length;\n    return (jsxs(\"form\", { \"data-atom-id\": id, \"data-atom-type\": \"knowledgequiz\", children: [haveAllQuestionsBeenAnswered && (jsx(\"div\", { \"data-testid\": \"quiz-results-block-top\", children: jsx(Result, { quizSelection: quizSelection, resultGroups: resultGroups, sharingUrls: sharingUrls }) })), jsx(\"ol\", { \"data-ignore\": \"global-ol-styling\", children: questions.map((question, idx) => (jsx(Question, { id: question.id, number: idx + 1, text: question.text, imageUrl: question.imageUrl, imageAlt: question.imageAlt, answers: question.answers, quizSelection: quizSelection, setQuizSelection: setQuizSelection, theme: theme }, question.id))) }), haveAllQuestionsBeenAnswered && (jsx(\"div\", { \"data-testid\": \"quiz-results-block-top\", children: jsx(Result, { quizSelection: quizSelection, resultGroups: resultGroups, sharingUrls: sharingUrls }) }))] }));\n};\nconst Question = ({ id, text, imageUrl, imageAlt, answers, number, quizSelection, setQuizSelection, theme, }) => {\n    const [selectedAnswerId, setSelectedAnswerId] = useState();\n    const [hasSubmitted, setHasSubmitted] = useState(false);\n    useEffect(() => {\n        if (selectedAnswerId && hasSubmitted) {\n            const selectedAnswer = answers.find((answer) => answer.id === selectedAnswerId);\n            selectedAnswer &&\n                setQuizSelection({\n                    ...quizSelection,\n                    [id]: selectedAnswer,\n                });\n        }\n    }, [selectedAnswerId, setQuizSelection, hasSubmitted, answers]);\n    return (jsx(\"li\", { css: css `\n\t\t\t\t${theme === ArticleSpecial.Labs ? textSans.medium() : body.medium()};\n\t\t\t`, children: jsxs(\"fieldset\", { css: fieldsetStyle, children: [jsxs(\"legend\", { css: css `\n\t\t\t\t\t\tmargin-bottom: 12px;\n\t\t\t\t\t`, children: [jsx(\"span\", { css: css `\n\t\t\t\t\t\t\tpadding-right: 12px;\n\t\t\t\t\t\t`, children: `${number}.` }), text] }), imageUrl && (jsx(\"img\", { css: css `\n\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t`, src: imageUrl, alt: imageAlt ?? '' })), jsx(Answers, { id: id, answers: answers, hasSubmitted: hasSubmitted, selectedAnswerId: selectedAnswerId, setSelectedAnswerId: setSelectedAnswerId, theme: theme }), jsx(\"div\", { css: css `\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\tflex-direction: row;\n\t\t\t\t\t\tmargin-bottom: 8px;\n\t\t\t\t\t\tbutton {\n\t\t\t\t\t\t\tmargin-right: 10px;\n\t\t\t\t\t\t}\n\t\t\t\t\t`, children: jsx(Button, { size: \"small\", \"data-testid\": `submit-question-${id}`, onClick: () => {\n                            setHasSubmitted(true);\n                        }, onKeyDown: (e) => {\n                            const spaceKey = 32;\n                            const enterKey = 13;\n                            if (e.keyCode === spaceKey ?? e.keyCode === enterKey) {\n                                setHasSubmitted(true);\n                            }\n                        }, children: \"Reveal\" }) })] }) }));\n};\nconst Answers = ({ answers, id: questionId, hasSubmitted, selectedAnswerId, setSelectedAnswerId, theme, }) => {\n    if (hasSubmitted) {\n        return (jsx(Fragment, { children: answers.map((answer) => {\n                const isSelected = selectedAnswerId === answer.id;\n                if (isSelected) {\n                    if (answer.isCorrect) {\n                        return (jsx(CorrectSelectedAnswer, { id: answer.id, answerText: answer.text, explainerText: answer.revealText ?? '', theme: theme }, answer.id));\n                    }\n                    if (!answer.isCorrect) {\n                        return (jsx(IncorrectAnswer, { id: answer.id, answerText: answer.text, theme: theme }, answer.id));\n                    }\n                }\n                if (answer.isCorrect) {\n                    return (jsx(NonSelectedCorrectAnswer, { id: answer.id, answerText: answer.text, explainerText: answer.revealText ?? '', theme: theme }, answer.id));\n                }\n                return (jsx(UnselectedAnswer, { id: answer.id, answerText: answer.text, theme: theme }, answer.id));\n            }) }));\n    }\n    return (jsx(\"div\", { css: radioButtonWrapperStyles(theme), children: jsx(RadioGroup, { name: questionId, children: answers.map((answer) => (jsx(Radio, { value: answer.text, \"data-testid\": answer.id, \"data-answer-type\": selectedAnswerId === answer.id\n                    ? 'selected-enabled-answer'\n                    : 'unselected-enabled-answer', name: questionId, label: answer.text, onChange: () => setSelectedAnswerId(answer.id), checked: selectedAnswerId === answer.id }, answer.id))) }) }));\n};\nconst resultWrapperStyles = css `\n\tbackground-color: ${neutral[93]};\n\tmargin-top: ${space[3]}px;\n\tmargin-bottom: ${space[3]}px;\n\tpadding: ${space[2]}px;\n`;\nconst resultDescriptionStyles = css `\n\t${textSans.medium()}\n\tdisplay: flex;\n\tflex-direction: column;\n`;\nconst resultsNumberStyles = css `\n\t${textSans.xxxlarge({ fontWeight: 'bold' })}\n\tcolor: ${brand[400]};\n`;\nconst resultHeaderStyles = css `\n\t${textSans.medium({ fontWeight: 'bold' })}\n\tcolor: ${neutral[20]};\n\tpadding-bottom: ${space[1]}px;\n`;\nconst Result = ({ quizSelection, resultGroups, sharingUrls, }) => {\n    const totalNumberOfQuestions = Object.keys(quizSelection).length;\n    const numberOfCorrectAnswers = Object.keys(quizSelection).filter((questionId) => quizSelection[questionId]?.isCorrect).length;\n    const totalResultGroups = resultGroups.length;\n    let bestResultGroup;\n    const resultBrackets = [];\n    let bracketIndex = 0;\n    // Sort the results by lowest score first\n    resultGroups.sort(function (a, b) {\n        return a.minScore - b.minScore;\n    });\n    // If there is a result group for each question return the matching score\n    if (totalNumberOfQuestions === totalResultGroups) {\n        resultGroups.forEach((resultGroup) => {\n            if (numberOfCorrectAnswers === resultGroup.minScore) {\n                bestResultGroup = resultGroup;\n            }\n        });\n    }\n    else {\n        // If there are less result groups than questions then answers are being put into brackets e.g. 1-5 correct, 6-10 correct\n        // Find the score ranges\n        // Decide which bracket the score is in\n        for (let i = 0; i < resultGroups.length; i++) {\n            const resultGroup = resultGroups[i];\n            if (resultGroup) {\n                resultBrackets[i] = resultGroup.minScore;\n            }\n        }\n        // The regular sort function doesn't sort numbers, it works alphabetically\n        resultBrackets.sort(function (a, b) {\n            return a - b;\n        });\n        for (let i = 0; i < resultBrackets.length; i++) {\n            const resultBracket = resultBrackets[i];\n            if (resultBracket && numberOfCorrectAnswers >= resultBracket) {\n                bracketIndex = i;\n            }\n        }\n    }\n    bestResultGroup = resultGroups[bracketIndex];\n    return (jsxs(\"div\", { css: resultWrapperStyles, children: [jsxs(\"div\", { css: resultDescriptionStyles, children: [jsx(\"span\", { children: \"You got...\" }), jsx(\"span\", { css: resultsNumberStyles, children: `${numberOfCorrectAnswers}/${totalNumberOfQuestions}` }), bestResultGroup && jsx(\"span\", { children: bestResultGroup.title })] }), jsx(\"hr\", {}), jsx(\"div\", { css: resultHeaderStyles, children: \"Challenge your friends\" }), jsx(SharingIcons, { sharingUrls: sharingUrls, displayIcons: [\n                    'facebook',\n                    'twitter',\n                    'email',\n                    'whatsApp',\n                    'messenger',\n                    'linkedIn',\n                    'pinterest',\n                ] })] }));\n};\n\nexport { KnowledgeQuizAtom, Question, Result };\n//# sourceMappingURL=KnowledgeQuiz.js.map\n","import { jsx, jsxs } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { ArticleSpecial } from '@guardian/libs';\nimport { neutral, textSans, space, text, body } from '@guardian/source-foundations';\nimport { RadioGroup, Radio, Button } from '@guardian/source-react-components';\nimport { memo, useState, useEffect } from 'react';\nimport { radioButtonWrapperStyles } from './Answers.js';\nimport { SharingIcons } from './SharingIcons.js';\n\nconst answersWrapperStyle = (theme) => css `\n\tmargin-bottom: 12px;\n\tborder: 0px;\n\tpadding: 0px;\n\t${theme === ArticleSpecial.Labs ? textSans.medium() : body.medium()};\n`;\nconst findMostReferredToBucketId = ({ selectedGlobalAnswers, questions, }) => {\n    const bucketCounter = {};\n    const answersFromQuestion = Object.keys(selectedGlobalAnswers)\n        .map((questionId) => {\n        const selectedQuestion = questions.find((question) => question.id === questionId);\n        const answerId = selectedGlobalAnswers[questionId];\n        const selectedAnswer = selectedQuestion?.answers.find((answer) => answer.id === answerId);\n        return selectedAnswer;\n    })\n        .filter((selectedAnswer) => selectedAnswer !== undefined);\n    answersFromQuestion.forEach((answerFromQuestion) => {\n        answerFromQuestion.answerBuckets.forEach((answerBucket) => {\n            if (answerBucket in bucketCounter) {\n                bucketCounter[answerBucket] += 1;\n            }\n            else {\n                bucketCounter[answerBucket] = 1;\n            }\n        });\n    });\n    let bucketIdWithHighestCount;\n    Object.keys(bucketCounter).forEach((bucketId) => {\n        if (!bucketIdWithHighestCount) {\n            bucketIdWithHighestCount = bucketId;\n            return;\n        }\n        const thisBucket = bucketCounter[bucketId];\n        const currentHighestBucket = bucketCounter[bucketIdWithHighestCount];\n        if (thisBucket && currentHighestBucket) {\n            bucketIdWithHighestCount =\n                thisBucket > currentHighestBucket ? bucketId : bucketIdWithHighestCount;\n        }\n    });\n    return bucketIdWithHighestCount;\n};\nconst PersonalityQuizAtom = ({ id, questions, resultBuckets, sharingUrls, theme, }) => {\n    const [selectedGlobalAnswers, setSelectedGlobalAnswers] = useState({});\n    const [hasSubmittedAnswers, setHasSubmittedAnswers] = useState(false);\n    const [hasMissingAnswers, setHasMissingAnswers] = useState(false);\n    const [topSelectedResult, setTopSelectedResult] = useState();\n    const onSubmit = (e) => {\n        e.preventDefault();\n        // check all answers have been selected\n        const missingAnswers = questions.some((question) => question.id in selectedGlobalAnswers ? false : true);\n        if (missingAnswers) {\n            setHasMissingAnswers(true);\n        }\n        else {\n            setHasSubmittedAnswers(true);\n        }\n    };\n    useEffect(() => {\n        if (hasSubmittedAnswers && Object.keys(selectedGlobalAnswers).length) {\n            const bucketIdWithHighestCount = findMostReferredToBucketId({\n                selectedGlobalAnswers,\n                questions,\n            });\n            setTopSelectedResult(resultBuckets.find((resultBucket) => resultBucket.id === bucketIdWithHighestCount));\n        }\n        else {\n            setTopSelectedResult(null);\n        }\n    }, [\n        hasSubmittedAnswers,\n        selectedGlobalAnswers,\n        setTopSelectedResult,\n        resultBuckets,\n    ]);\n    return (jsxs(\"form\", { \"data-atom-id\": id, \"data-atom-type\": \"personalityquiz\", children: [hasSubmittedAnswers && topSelectedResult && (jsx(\"div\", { \"data-testid\": \"quiz-results-block-top\", children: jsx(Result, { resultBuckets: topSelectedResult, sharingUrls: sharingUrls }) })), jsx(\"ol\", { children: questions.map((question, idx) => (jsx(PersonalityQuizAnswers, { id: question.id, questionNumber: idx + 1, text: question.text, imageUrl: question.imageUrl, imageAlt: question.imageAlt, answers: question.answers, updateSelectedAnswer: (selectedAnswerId) => {\n                        setHasMissingAnswers(false);\n                        setSelectedGlobalAnswers({\n                            ...selectedGlobalAnswers,\n                            [question.id]: selectedAnswerId,\n                        });\n                    }, globallySelectedAnswer: question.id in selectedGlobalAnswers\n                        ? selectedGlobalAnswers[question.id]\n                        : undefined, hasSubmittedAnswers: hasSubmittedAnswers, theme: theme }, question.id))) }), hasMissingAnswers && jsx(MissingAnswers, {}), hasSubmittedAnswers && topSelectedResult && (jsx(\"div\", { \"data-testid\": \"quiz-results-block-bottom\", children: jsx(Result, { resultBuckets: topSelectedResult, sharingUrls: sharingUrls }) })), jsxs(\"div\", { css: css `\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-direction: row;\n\t\t\t\t\tbutton {\n\t\t\t\t\t\tmargin-right: 10px;\n\t\t\t\t\t}\n\t\t\t\t`, children: [jsx(Button, { type: \"submit\", onClick: onSubmit, onKeyDown: (e) => {\n                            const spaceKey = 32;\n                            const enterKey = 13;\n                            if (e.keyCode === spaceKey ?? e.keyCode === enterKey) {\n                                onSubmit(e);\n                            }\n                        }, \"data-testid\": \"submit-quiz\", children: \"Submit\" }), jsx(Button, { priority: \"secondary\", onClick: () => {\n                            setSelectedGlobalAnswers({});\n                            setHasSubmittedAnswers(false);\n                            setTopSelectedResult(null);\n                        }, onKeyDown: (e) => {\n                            const spaceKey = 32;\n                            const enterKey = 13;\n                            if (e.keyCode === spaceKey ?? e.keyCode === enterKey) {\n                                setSelectedGlobalAnswers({});\n                                setHasSubmittedAnswers(false);\n                                setTopSelectedResult(null);\n                            }\n                        }, \"data-testid\": \"reset-quiz\", children: \"Reset\" })] })] }));\n};\nconst PersonalityQuizAnswers = ({ id: questionId, questionNumber, text, imageUrl, imageAlt, answers, updateSelectedAnswer, globallySelectedAnswer, hasSubmittedAnswers, theme, }) => {\n    // use local state to avoid re-renders of AnswersGroup from updates due to: updateSelectedAnswer & selectedAnswer\n    const [selectedAnswer, setSelectedAnswers] = useState();\n    useEffect(() => {\n        if (selectedAnswer && selectedAnswer !== globallySelectedAnswer) {\n            updateSelectedAnswer(selectedAnswer);\n        }\n    }, [updateSelectedAnswer, selectedAnswer]);\n    // in order to reset selection\n    useEffect(() => {\n        if (!globallySelectedAnswer)\n            setSelectedAnswers(undefined);\n    }, [globallySelectedAnswer, setSelectedAnswers]);\n    return (jsx(\"li\", { css: answersWrapperStyle(theme), children: jsxs(\"fieldset\", { children: [jsxs(\"legend\", { css: css `\n\t\t\t\t\t\tmargin-bottom: 12px;\n\t\t\t\t\t`, children: [jsx(\"span\", { css: css `\n\t\t\t\t\t\t\tpadding-right: 12px;\n\t\t\t\t\t\t`, children: `${questionNumber}.` }), text] }), imageUrl && (jsx(\"img\", { css: css `\n\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t`, src: imageUrl, alt: imageAlt ?? '' })), jsx(AnswersGroup, { hasSubmittedAnswers: hasSubmittedAnswers, questionId: questionId, answers: answers, selectedAnswer: selectedAnswer, setSelectedAnswers: setSelectedAnswers, theme: theme })] }) }));\n};\nconst AnswersGroup = memo(({ hasSubmittedAnswers, questionId, answers, selectedAnswer, setSelectedAnswers, theme, }) => (jsx(\"div\", { css: [\n        radioButtonWrapperStyles(theme),\n        css `\n\t\t\t\t\tlabel {\n\t\t\t\t\t\t:hover {\n\t\t\t\t\t\t\tbackground-color: ${hasSubmittedAnswers\n            ? neutral[97]\n            : neutral[86]};\n\t\t\t\t\t\t}\n\t\t\t\t\t\t/* TODO: apply same styles on focus (requires source update) */\n\t\t\t\t\t}\n\t\t\t\t`,\n    ], children: jsx(RadioGroup, { name: questionId, children: answers.map((answer) => (jsx(Radio, { value: answer.text, label: answer.text, \"data-testid\": answer.id, \"data-answer-type\": selectedAnswer === answer.id\n                ? 'selected-enabled-answer'\n                : 'unselected-enabled-answer', disabled: hasSubmittedAnswers, onChange: () => setSelectedAnswers(answer.id), checked: selectedAnswer === answer.id }, answer.id))) }) })));\nAnswersGroup.displayName = 'AnswersGroup';\nconst missingAnswersStyles = css `\n\t${textSans.medium({ fontWeight: 'bold' })}\n\tpadding-bottom: ${space[3]}px;\n\tcolor: ${text.error};\n`;\nconst MissingAnswers = () => (jsx(\"div\", { css: missingAnswersStyles, children: \"You have not answered all the questions.\" }));\nconst resultWrapperStyles = css `\n\tbackground-color: ${neutral[93]};\n\tmargin-top: ${space[3]}px;\n\tmargin-bottom: ${space[3]}px;\n\tpadding: ${space[2]}px;\n`;\nconst resultHeaderStyles = css `\n\t${textSans.medium({ fontWeight: 'bold' })}\n\tcolor: ${neutral[20]};\n\tpadding-bottom: ${space[1]}px;\n`;\nconst resultDescriptionStyles = css `\n\t${textSans.medium()}\n\tcolor: ${neutral[46]};\n`;\nconst Result = ({ resultBuckets, sharingUrls, }) => (jsxs(\"div\", { css: resultWrapperStyles, children: [jsx(\"div\", { css: resultHeaderStyles, children: resultBuckets.title }), jsx(\"div\", { css: resultDescriptionStyles, children: resultBuckets.description }), jsx(\"hr\", {}), jsx(\"div\", { css: resultHeaderStyles, children: \"Challenge your friends\" }), jsx(SharingIcons, { sharingUrls: sharingUrls, displayIcons: [\n                'facebook',\n                'twitter',\n                'email',\n                'whatsApp',\n                'messenger',\n                'linkedIn',\n                'pinterest',\n            ] })] }));\n\nexport { MissingAnswers, PersonalityQuizAtom, Result, findMostReferredToBucketId };\n//# sourceMappingURL=PersonalityQuiz.js.map\n","import { jsxs, jsx } from '@emotion/react/jsx-runtime';\nimport { Body } from './expandableAtom/Body.js';\nimport { Container } from './expandableAtom/Container.js';\nimport { Footer } from './expandableAtom/Footer.js';\nimport { submitComponentEvent } from './lib/ophan.js';\n\nconst ProfileAtom = ({ id, title, image, html, credit, pillar, expandForStorybook, likeHandler, dislikeHandler, expandCallback, }) => {\n    return (jsxs(Container, { id: id, title: title, pillar: pillar, atomType: \"profile\", atomTypeTitle: \"Profile\", expandForStorybook: expandForStorybook, expandCallback: expandCallback ??\n            (() => submitComponentEvent({\n                component: {\n                    componentType: 'PROFILE_ATOM',\n                    id,\n                    products: [],\n                    labels: [],\n                },\n                action: 'EXPAND',\n            })), children: [jsx(Body, { html: html, image: image, credit: credit, pillar: pillar }), jsx(Footer, { pillar: pillar, dislikeHandler: dislikeHandler ??\n                    (() => submitComponentEvent({\n                        component: {\n                            componentType: 'PROFILE_ATOM',\n                            id,\n                            products: [],\n                            labels: [],\n                        },\n                        action: 'DISLIKE',\n                    })), likeHandler: likeHandler ??\n                    (() => submitComponentEvent({\n                        component: {\n                            componentType: 'PROFILE_ATOM',\n                            id,\n                            products: [],\n                            labels: [],\n                        },\n                        action: 'LIKE',\n                    })) })] }));\n};\n\nexport { ProfileAtom };\n//# sourceMappingURL=ProfileAtom.js.map\n","import { jsxs, jsx } from '@emotion/react/jsx-runtime';\nimport { Body } from './expandableAtom/Body.js';\nimport { Container } from './expandableAtom/Container.js';\nimport { Footer } from './expandableAtom/Footer.js';\nimport { submitComponentEvent } from './lib/ophan.js';\n\nconst QandaAtom = ({ id, title, image, html, credit, pillar, expandForStorybook, likeHandler, dislikeHandler, expandCallback, }) => (jsxs(Container, { id: id, title: title, atomType: \"qanda\", atomTypeTitle: \"Q&A\", pillar: pillar, expandForStorybook: expandForStorybook, expandCallback: expandCallback ??\n        (() => submitComponentEvent({\n            component: {\n                componentType: 'QANDA_ATOM',\n                id,\n                products: [],\n                labels: [],\n            },\n            action: 'EXPAND',\n        })), children: [jsx(Body, { html: html, image: image, credit: credit, pillar: pillar }), jsx(Footer, { pillar: pillar, dislikeHandler: dislikeHandler ??\n                (() => submitComponentEvent({\n                    component: {\n                        componentType: 'QANDA_ATOM',\n                        id,\n                        products: [],\n                        labels: [],\n                    },\n                    action: 'DISLIKE',\n                })), likeHandler: likeHandler ??\n                (() => submitComponentEvent({\n                    component: {\n                        componentType: 'QANDA_ATOM',\n                        id,\n                        products: [],\n                        labels: [],\n                    },\n                    action: 'LIKE',\n                })) })] }));\n\nexport { QandaAtom };\n//# sourceMappingURL=QandaAtom.js.map\n","import { jsxs, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { neutral, remSpace, space, body, brandAlt } from '@guardian/source-foundations';\nimport { Body } from './expandableAtom/Body.js';\nimport { Container } from './expandableAtom/Container.js';\nimport { Footer } from './expandableAtom/Footer.js';\nimport { submitComponentEvent } from './lib/ophan.js';\n\nconst Snippet = css `\n\t:not(:last-child) {\n\t\tborder-left: 0.0625rem solid ${neutral[60]};\n\t\tpadding-bottom: ${remSpace[4]};\n\t}\n\tpadding-left: ${space[4]}px;\n\tmargin-left: ${space[2]}px;\n`;\nconst EventTitle = css `\n\t${body.medium({\n    lineHeight: 'tight',\n    fontWeight: 'bold',\n})};\n`;\nconst EventDateBullet = css `\n\tcontent: '';\n\twidth: ${space[4]}px;\n\theight: ${space[4]}px;\n\tborder-radius: 100%;\n\tfloat: left;\n\tposition: relative;\n\tleft: -24px;\n\tbackground-color: #121212;\n`;\nconst EventDate = css `\n\t::before {\n\t\t${EventDateBullet}\n\t}\n\tmargin-left: -16px;\n\tbackground: ${brandAlt[400]};\n\t${body.medium({\n    lineHeight: 'tight',\n    fontWeight: 'bold',\n})};\n`;\nconst EventToDate = css `\n\tbackground: ${brandAlt[400]};\n\t${body.medium({\n    lineHeight: 'tight',\n    fontWeight: 'bold',\n})};\n`;\nconst TimelineContents = ({ events, pillar, }) => {\n    return (jsx(\"div\", { children: events.map((event, index) => {\n            const time = new Date(event.unixDate).toISOString();\n            const toTime = event.toUnixDate\n                ? new Date(event.toUnixDate).toISOString()\n                : '';\n            return (jsxs(\"div\", { \"data-type\": \"event-snippet\", css: Snippet, children: [jsxs(\"div\", { children: [jsx(\"time\", { dateTime: time, css: EventDate, children: event.date }), event.toDate && (jsxs(\"span\", { children: [' ', \"-\", ' ', jsx(\"time\", { dateTime: toTime, css: EventToDate, children: event.toDate })] }))] }), event.title && jsx(\"div\", { css: EventTitle, children: event.title }), event.body && jsx(Body, { html: event.body, pillar: pillar })] }, index));\n        }) }));\n};\nconst TimelineAtom = ({ id, events, description, title, pillar, expandForStorybook, likeHandler, dislikeHandler, expandCallback, }) => {\n    return (jsxs(Container, { atomType: \"timeline\", atomTypeTitle: \"Timeline\", id: id, pillar: pillar, expandForStorybook: expandForStorybook, title: title, expandCallback: expandCallback ??\n            (() => submitComponentEvent({\n                component: {\n                    componentType: 'TIMELINE_ATOM',\n                    id,\n                    products: [],\n                    labels: [],\n                },\n                action: 'EXPAND',\n            })), children: [description && jsx(Body, { html: description, pillar: pillar }), events && jsx(TimelineContents, { events: events, pillar: pillar }), jsx(Footer, { pillar: pillar, dislikeHandler: dislikeHandler ??\n                    (() => submitComponentEvent({\n                        component: {\n                            componentType: 'TIMELINE_ATOM',\n                            id,\n                            products: [],\n                            labels: [],\n                        },\n                        action: 'DISLIKE',\n                    })), likeHandler: likeHandler ??\n                    (() => submitComponentEvent({\n                        component: {\n                            componentType: 'TIMELINE_ATOM',\n                            id,\n                            products: [],\n                            labels: [],\n                        },\n                        action: 'LIKE',\n                    })) })] }));\n};\n\nexport { TimelineAtom };\n//# sourceMappingURL=TimelineAtom.js.map\n","import { jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\n\nconst MaintainAspectRatio = ({ height, width, children, }) => (\n/* https://css-tricks.com/aspect-ratio-boxes/ */\njsx(\"div\", { css: css `\n\t\t\t/* position relative to contain the absolutely positioned iframe plus any Overlay image */\n\t\t\tposition: relative;\n\t\t\tpadding-bottom: ${(height / width) * 100}%;\n\n\t\t\tiframe {\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 100%;\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t}\n\n\t\t\t/* \n                The IMA script gives the following styles to the ad container element:\n                    width: [pixel value equal to the youtube iframe's width]\n                    height: [pixel value equal to the youtube iframe's height]\n                    position: relative;\n                    display: block;\n                We need to override these styles to make sure that the ad container overlays\n                the youtube player exactly and to avoid a player-sized white space underneath the ad.\n            */\n\t\t\t[data-atom-type='ima-ad-container'] {\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 100%;\n\t\t\t\tposition: absolute !important;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t`, children: children }));\n\nexport { MaintainAspectRatio };\n//# sourceMappingURL=MaintainAspectRatio.js.map\n","const enforceTwoDigitString = (number) => number >= 10 ? number : `0${number}`;\nconst formatTime = (videoDurationInSeconds) => {\n    const hours = Math.floor(videoDurationInSeconds / 3600);\n    const minutes = Math.floor((videoDurationInSeconds % 3600) / 60);\n    const seconds = videoDurationInSeconds % 60;\n    // We assume that videos are shorter than 1 hour, but handle incase one does arise\n    const hoursString = hours > 0 ? `${enforceTwoDigitString(hours)}:` : '';\n    const minutesString = minutes > 0 ? enforceTwoDigitString(minutes) : '00';\n    const secondsString = seconds > 0 ? enforceTwoDigitString(seconds) : '00';\n    return `${hoursString}${minutesString}:${secondsString}`;\n};\n\nexport { formatTime };\n//# sourceMappingURL=formatTime.js.map\n","import { jsxs, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { breakpoints } from '@guardian/source-foundations';\n\nconst getClosestSetForWidth = (desiredWidth, inlineSrcSets) => {\n    // For a desired width, find the SrcSetItem which is the closest match\n    const sorted = inlineSrcSets.sort((a, b) => b.width - a.width);\n    return sorted.reduce((best, current) => {\n        if (current.width < best.width && current.width >= desiredWidth) {\n            return current;\n        }\n        return best;\n    });\n};\nconst getSourcesForRoleAndResolution = (imageSources, resolution) => {\n    const srcSetItems = imageSources[0]?.srcSet ?? [];\n    return resolution === 'hdpi'\n        ? srcSetItems.filter((set) => set.src.includes('dpr=2'))\n        : srcSetItems.filter((set) => !set.src.includes('dpr=2'));\n};\nconst getFallback = (resolution, imageSources) => {\n    // Get the sources for this role and resolution\n    const sources = getSourcesForRoleAndResolution(imageSources, resolution);\n    if (sources.length === 0)\n        return undefined;\n    // The assumption here is readers on devices that do not support srcset are likely to be on poor\n    // network connections so we're going to fallback to a small image\n    return getClosestSetForWidth(300, sources).src;\n};\nconst getSources = (resolution, imageSources) => {\n    // Get the sources for this role and resolution\n    const sources = getSourcesForRoleAndResolution(imageSources, resolution);\n    return sources.map((srcSet) => `${srcSet.src} ${srcSet.width}w`).join(',');\n};\n/**\n *       mobile: 320\n *       mobileMedium: 375\n *       mobileLandscape: 480\n *       phablet: 660\n *       tablet: 740\n *       desktop: 980\n *       leftCol: 1140\n *       wide: 1300\n */\nconst getSizes = (role, isMainMedia) => {\n    switch (role) {\n        case 'inline':\n            return `(min-width: ${breakpoints.phablet}px) 620px, 100vw`;\n        case 'halfWidth':\n            return `(min-width: ${breakpoints.phablet}px) 300px, 50vw`;\n        case 'thumbnail':\n            return '140px';\n        case 'immersive':\n            // Immersive MainMedia elements fill the height of the viewport, meaning\n            // on mobile devices even though the viewport width is small, we'll need\n            // a larger image to maintain quality. To solve this problem we're using\n            // the viewport height (vh) to calculate width. The value of 167vh\n            // relates to an assumed image ratio of 5:3 which is equal to\n            // 167 (viewport height)  : 100 (viewport width).\n            // Immersive body images stretch the full viewport width below wide,\n            // but do not stretch beyond 1300px after that.\n            return isMainMedia\n                ? `(orientation: portrait) 167vh, 100vw`\n                : `(min-width: ${breakpoints.wide}px) 1300px, 100vw`;\n        case 'supporting':\n            return `(min-width: ${breakpoints.wide}px) 380px, 300px`;\n        case 'showcase':\n            return isMainMedia\n                ? `(min-width: ${breakpoints.wide}px) 1020px, (min-width: ${breakpoints.leftCol}px) 940px, (min-width: ${breakpoints.tablet}px) 700px, (min-width: ${breakpoints.phablet}px) 660px, 100vw`\n                : `(min-width: ${breakpoints.wide}px) 860px, (min-width: ${breakpoints.leftCol}px) 780px, (min-width: ${breakpoints.phablet}px) 620px, 100vw`;\n    }\n};\nconst Picture = ({ imageSources, role, alt, height, width, isMainMedia = false, }) => {\n    const hdpiSources = getSources('hdpi', imageSources);\n    const mdpiSources = getSources('mdpi', imageSources);\n    const fallbackSrc = getFallback('hdpi', imageSources);\n    const sizes = getSizes(role, isMainMedia);\n    return (jsxs(\"picture\", { itemProp: \"contentUrl\", children: [jsx(\"source\", { srcSet: hdpiSources, sizes: sizes, media: \"(-webkit-min-device-pixel-ratio: 1.25), (min-resolution: 120dpi)\" }), jsx(\"source\", { srcSet: mdpiSources, sizes: sizes }), jsx(\"img\", { alt: alt, src: fallbackSrc, height: height, width: width, \n                // https://stackoverflow.com/questions/10844205/html-5-strange-img-always-adds-3px-margin-at-bottom\n                // why did we add the css `vertical-align: middle;` to the img tag\n                css: css `\n\t\t\t\t\tvertical-align: middle;\n\t\t\t\t` })] }));\n};\n\nexport { Picture };\n//# sourceMappingURL=Picture.js.map\n","import { jsxs, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { focusHalo, space, neutral, textSans } from '@guardian/source-foundations';\nimport { SvgPlay } from '@guardian/source-react-components';\nimport { formatTime } from './lib/formatTime.js';\nimport { pillarPalette } from './lib/pillarPalette.js';\nimport { Picture } from './Picture.js';\n\nconst overlayStyles = css `\n\tbackground-size: cover;\n\tbackground-position: 49% 49%;\n\tbackground-repeat: no-repeat;\n\ttext-align: center;\n\theight: 100%;\n\twidth: 100%;\n\tposition: absolute;\n\tmax-height: 100vh;\n\tcursor: pointer;\n\tborder: 0;\n\tpadding: 0;\n\n\timg {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n\n\t/* hard code \"overlay-play-button\" to be able to give play button animation on focus/hover of overlay */\n\t:focus {\n\t\t${focusHalo}\n\t\t.overlay-play-button {\n\t\t\ttransform: scale(1.15);\n\t\t\ttransition-duration: 300ms;\n\t\t}\n\t}\n\t:hover {\n\t\t.overlay-play-button {\n\t\t\ttransform: scale(1.15);\n\t\t\ttransition-duration: 300ms;\n\t\t}\n\t}\n`;\nconst playButtonStyling = (pillar) => css `\n\tbackground-color: ${pillarPalette[pillar][500]};\n\tborder-radius: 100%;\n\theight: 60px;\n\twidth: 60px;\n\ttransform: scale(1);\n\ttransition-duration: 300ms;\n\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\n\tsvg {\n\t\tfill: ${neutral[100]};\n\t\twidth: 45px;\n\t\theight: 40px;\n\t}\n`;\nconst overlayInfoWrapperStyles = css `\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-items: center;\n\tposition: absolute;\n\tbottom: ${space[4]}px;\n\tleft: ${space[4]}px;\n`;\nconst videoDurationStyles = (pillar) => css `\n\t${textSans.medium({ fontWeight: 'bold' })};\n\tpadding-left: ${space[3]}px;\n\tcolor: ${pillarPalette[pillar][500]};\n`;\nconst YoutubeAtomOverlay = ({ uniqueId, overrideImage, posterImage, height, width, alt, role, duration, pillar, title, onClick, }) => {\n    const id = `youtube-overlay-${uniqueId}`;\n    return (jsxs(\"button\", { \"data-cy\": id, \"data-testid\": id, onClick: onClick, css: overlayStyles, \"aria-label\": title ? `Play video: ${title}` : `Play video`, children: [jsx(Picture, { imageSources: overrideImage ?? posterImage ?? [], role: role, alt: alt, height: height, width: width }), jsxs(\"div\", { css: overlayInfoWrapperStyles, children: [jsx(\"div\", { className: \"overlay-play-button\", css: css `\n\t\t\t\t\t\t${playButtonStyling(pillar)}\n\t\t\t\t\t`, children: jsx(SvgPlay, {}) }), duration !== undefined && duration > 0 && (jsx(\"div\", { css: videoDurationStyles(pillar), children: formatTime(duration) }))] })] }));\n};\n\nexport { YoutubeAtomOverlay };\n//# sourceMappingURL=YoutubeAtomOverlay.js.map\n","import { jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\n\nconst YoutubeAtomPlaceholder = ({ uniqueId, }) => {\n    const id = `youtube-placeholder-${uniqueId}`;\n    return (jsx(\"div\", { \"data-name\": id, \"data-testid\": id, css: [\n            css `\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 100%;\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\ttop: 0;\n\t\t\t\t\tleft: 0;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-grow: 1;\n\t\t\t\t\tbackground-color: black;\n\t\t\t\t`,\n        ] }));\n};\n\nexport { YoutubeAtomPlaceholder };\n//# sourceMappingURL=YoutubeAtomPlaceholder.js.map\n","import { log, loadScript } from '@guardian/libs';\n\nlet _scriptsPromise;\nlet _youtubeAPIReadyPromise;\nconst loadScripts = (enableIma = false) => {\n    /**\n     * Since loadScripts can be called multiple times on the same page for pages with more than one video,\n     * only attempt to load the scripts if this is the first call and return the same promise otherwise.\n     */\n    if (_scriptsPromise) {\n        return _scriptsPromise;\n    }\n    let scripts;\n    if (enableIma) {\n        log('dotcom', 'loadYT: loading YT & IMA script');\n        scripts = [\n            /**\n             * The IMA version of the iframe api script can only be fetched from\n             * a domain that is on YouTube's allow list (theguardian.com, thegulocal.com, gutools.co.uk).\n             * If the request is made from a domain that isn't on the list (e.g. localhost),\n             * the standard, non-IMA version will be returned and IMA functionality will fail silently.\n             */\n            loadScript('https://www.youtube.com/iframe_api?ima=1'),\n            loadScript('//imasdk.googleapis.com/js/sdkloader/ima3.js'),\n        ];\n    }\n    else {\n        log('dotcom', 'loadYT: loading YT script');\n        scripts = [loadScript('https://www.youtube.com/iframe_api')];\n    }\n    _scriptsPromise = Promise.all(scripts);\n    return _scriptsPromise;\n};\n/**\n * The YouTube IFrame API will call `window.onYouTubeIframeAPIReady`\n * when it has downloaded and is ready\n */\nconst youtubeAPIReady = () => {\n    /**\n     * Since youtubeAPIReady can be called multiple times on the same page for pages with more than one video,\n     * only overwrite window.onYouTubeIframeAPIReady if this is the first call and return the same promise otherwise.\n     */\n    if (_youtubeAPIReadyPromise) {\n        return _youtubeAPIReadyPromise;\n    }\n    _youtubeAPIReadyPromise = new Promise((resolve) => {\n        window.onYouTubeIframeAPIReady = () => {\n            log('dotcom', 'loadYT: resolving YTAPI promise');\n            resolve(window.YT);\n        };\n    });\n    return _youtubeAPIReadyPromise;\n};\nconst loadYouTubeAPI = (enableIma = false) => {\n    /* If another part of the code has already loaded youtube api, return early. */\n    if (window?.YT?.Player instanceof Function) {\n        log('dotcom', 'loadYT: returning window.YT');\n        return Promise.resolve(window.YT);\n    }\n    /* Create youtubeAPIReady promise before loading scripts so that\n     * window.onYouTubeIframeAPIReady is guaranteed to be defined\n     * by the time the youtube script calls it.\n     */\n    const youtubeAPIReadyPromise = youtubeAPIReady();\n    return loadScripts(enableIma).then(() => {\n        return youtubeAPIReadyPromise;\n    });\n};\n\nexport { loadYouTubeAPI };\n//# sourceMappingURL=loadYouTubeIframeApi.js.map\n","import { log } from '@guardian/libs';\nimport { loadYouTubeAPI } from './loadYouTubeIframeApi.js';\n\nclass YouTubePlayer {\n    playerPromise;\n    _player;\n    constructor(id, playerOptions) {\n        this.playerPromise = this.setPlayer(id, playerOptions);\n    }\n    async setPlayer(id, playerOptions) {\n        const YTAPI = await loadYouTubeAPI(playerOptions.embedConfig.enableIma);\n        const playerPromise = new Promise((resolve, reject) => {\n            try {\n                this._player = new YTAPI.Player(id, playerOptions);\n                resolve(this._player);\n            }\n            catch (e) {\n                this.logError(e);\n                reject(e);\n            }\n        });\n        return playerPromise;\n    }\n    logError(e) {\n        log('dotcom', `YouTubePlayer failed to load: ${e.message}`);\n    }\n    getPlayerState() {\n        return this.playerPromise\n            .then((player) => {\n            return player.getPlayerState();\n        })\n            .catch(this.logError);\n    }\n    playVideo() {\n        return this.playerPromise\n            .then((player) => {\n            player.playVideo();\n        })\n            .catch(this.logError);\n    }\n    pauseVideo() {\n        return this.playerPromise\n            .then((player) => {\n            player.pauseVideo();\n        })\n            .catch(this.logError);\n    }\n    stopVideo() {\n        return this.playerPromise\n            .then((player) => {\n            player.stopVideo();\n        })\n            .catch(this.logError);\n    }\n    removeEventListener(eventName, listener) {\n        /**\n         * If the YouTube API hasn't finished loading,\n         * this._player may be undefined in which case removeEventListener\n         * will fail silently.\n         */\n        this._player?.removeEventListener(eventName, listener);\n    }\n}\n\nexport { YouTubePlayer };\n//# sourceMappingURL=YouTubePlayer.js.map\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { disabledAds, buildAdsConfigWithConsent, buildImaAdTagUrl } from '@guardian/commercial-core';\nimport { log } from '@guardian/libs';\nimport { useRef, useState, useCallback, useEffect, useLayoutEffect } from 'react';\nimport { YouTubePlayer } from './YouTubePlayer.js';\n\nconst customPlayEventName = 'video:play';\nconst dispatchCustomPlayEvent = (uniqueId) => {\n    document.dispatchEvent(new CustomEvent(customPlayEventName, {\n        detail: { uniqueId },\n    }));\n};\n/**\n * ProgressEvents are a ref, see below\n */\nconst createOnStateChangeListener = (videoId, uniqueId, progressEvents, eventEmitters) => (event) => {\n    const loggerFrom = 'YoutubeAtomPlayer onStateChange';\n    log('dotcom', {\n        from: loggerFrom,\n        videoId,\n        event,\n    });\n    /**\n     * event.target is the actual underlying YT player\n     */\n    const player = event.target;\n    if (event.data === YT.PlayerState.PLAYING) {\n        /**\n         * Emit video play event so other components\n         * get aware when a video is played\n         */\n        dispatchCustomPlayEvent(uniqueId);\n        if (!progressEvents.hasSentPlayEvent) {\n            log('dotcom', {\n                from: loggerFrom,\n                videoId,\n                msg: 'start play',\n                event,\n            });\n            eventEmitters.forEach((eventEmitter) => eventEmitter('play'));\n            progressEvents.hasSentPlayEvent = true;\n            /**\n             * Set a timeout to check progress again in the future\n             */\n            setTimeout(() => {\n                checkProgress();\n            }, 3000);\n        }\n        else {\n            log('dotcom', {\n                from: loggerFrom,\n                videoId,\n                msg: 'resume',\n                event,\n            });\n            eventEmitters.forEach((eventEmitter) => eventEmitter('resume'));\n        }\n        const checkProgress = () => {\n            if (!player)\n                return null;\n            const currentTime = player?.getCurrentTime();\n            const duration = player?.getDuration();\n            if (!duration ?? !currentTime)\n                return;\n            const percentPlayed = (currentTime / duration) * 100;\n            if (!progressEvents.hasSent25Event && 25 < percentPlayed) {\n                log('dotcom', {\n                    from: loggerFrom,\n                    videoId,\n                    msg: 'played 25%',\n                    event,\n                });\n                eventEmitters.forEach((eventEmitter) => eventEmitter('25'));\n                progressEvents.hasSent25Event = true;\n            }\n            if (!progressEvents.hasSent50Event && 50 < percentPlayed) {\n                log('dotcom', {\n                    from: loggerFrom,\n                    videoId,\n                    msg: 'played 50%',\n                    event,\n                });\n                eventEmitters.forEach((eventEmitter) => eventEmitter('50'));\n                progressEvents.hasSent50Event = true;\n            }\n            if (!progressEvents.hasSent75Event && 75 < percentPlayed) {\n                log('dotcom', {\n                    from: loggerFrom,\n                    videoId,\n                    msg: 'played 75%',\n                    event,\n                });\n                eventEmitters.forEach((eventEmitter) => eventEmitter('75'));\n                progressEvents.hasSent75Event = true;\n            }\n            const currentPlayerState = player?.getPlayerState();\n            if (currentPlayerState !== YT.PlayerState.ENDED) {\n                /**\n                 * Set a timeout to check progress again in the future\n                 */\n                setTimeout(() => checkProgress(), 3000);\n            }\n            return null;\n        };\n    }\n    if (event.data === YT.PlayerState.PAUSED) {\n        log('dotcom', {\n            from: loggerFrom,\n            videoId,\n            msg: 'pause',\n            event,\n        });\n        eventEmitters.forEach((eventEmitter) => eventEmitter('pause'));\n    }\n    if (event.data === YT.PlayerState.CUED) {\n        log('dotcom', {\n            from: loggerFrom,\n            videoId,\n            msg: 'cued',\n            event,\n        });\n        eventEmitters.forEach((eventEmitter) => eventEmitter('cued'));\n        progressEvents.hasSentPlayEvent = false;\n    }\n    if (event.data === YT.PlayerState.ENDED &&\n        !progressEvents.hasSentEndEvent) {\n        log('dotcom', {\n            from: loggerFrom,\n            videoId,\n            msg: 'ended',\n            event,\n        });\n        eventEmitters.forEach((eventEmitter) => eventEmitter('end'));\n        progressEvents.hasSentEndEvent = true;\n        progressEvents.hasSentPlayEvent = false;\n    }\n};\n/**\n * returns an onReady listener\n */\nconst createOnReadyListener = (videoId, onReadyCallback, setPlayerReady, instantiateImaManager) => (event) => {\n    log('dotcom', {\n        from: 'YoutubeAtomPlayer onReady',\n        videoId,\n        msg: 'Ready',\n        event,\n    });\n    /**\n     * Callback to notify YoutubeAtom that the player is ready\n     */\n    onReadyCallback();\n    /**\n     * Callback to set value of playerReady ref\n     */\n    setPlayerReady();\n    /**\n     * instantiate IMA manager if IMA enabled\n     */\n    if (instantiateImaManager) {\n        try {\n            instantiateImaManager(event.target);\n        }\n        catch (e) {\n            log('commercial', 'error instantiating IMA manager:', e);\n        }\n    }\n};\nconst createInstantiateImaManager = (uniqueId, id, adContainerId, adTargeting, consentState, abTestParticipations, imaManager, adsManager) => (player) => {\n    const adTargetingEnabled = adTargeting && !adTargeting.disableAds;\n    const adUnit = adTargetingEnabled && adTargeting.adUnit ? adTargeting.adUnit : '';\n    const customParams = adTargetingEnabled && adTargeting.customParams\n        ? adTargeting.customParams\n        : {};\n    const makeAdsRequestCallback = (adsRequest, adsRenderingSettings) => {\n        adsRequest.adTagUrl = buildImaAdTagUrl({\n            adUnit,\n            customParams,\n            consentState,\n            clientSideParticipations: abTestParticipations,\n        });\n        adsRenderingSettings.uiElements = [\n            window.google.ima.UiElements.AdAttribution,\n        ];\n    };\n    if (typeof window.YT.ImaManager !== 'undefined') {\n        imaManager.current = new window.YT.ImaManager(player, id, adContainerId, makeAdsRequestCallback);\n        const adsLoader = imaManager.current.getAdsLoader();\n        const onAdsManagerLoaded = () => {\n            adsManager.current = imaManager.current?.getAdsManager();\n            adsManager.current?.addEventListener(window.google.ima.AdEvent.Type.Started, () => {\n                dispatchCustomPlayEvent(uniqueId);\n            });\n        };\n        adsLoader.addEventListener(window.google.ima.AdsManagerLoadedEvent.Type.AdsManagerLoaded, onAdsManagerLoaded, false);\n    }\n    else {\n        console.warn('YT.ImaManager is undefined, probably because the youtube iframe_api script was fetched from ' +\n            \"a domain that isn't allow-listed (theguardian.com, thegulocal.com, gutools.co.uk). \" +\n            'If you are running an app locally, use dev-nginx to proxy one of these domains to localhost.');\n    }\n};\nconst YoutubeAtomPlayer = ({ uniqueId, videoId, adTargeting, consentState, height, width, title, origin, eventEmitters, autoPlay, onReady, enableIma, pauseVideo, deactivateVideo, abTestParticipations, }) => {\n    /**\n     * useRef for player and progressEvents\n     * Provides mutable persistent state for the player across renders\n     * Does not cause re-renders on update\n     */\n    const player = useRef();\n    const progressEvents = useRef({\n        hasSentPlayEvent: false,\n        hasSent25Event: false,\n        hasSent50Event: false,\n        hasSent75Event: false,\n        hasSentEndEvent: false,\n    });\n    const [playerReady, setPlayerReady] = useState(false);\n    const playerReadyCallback = useCallback(() => setPlayerReady(true), []);\n    const playerListeners = useRef([]);\n    /**\n     * A map ref with a key of eventname and a value of eventHandler\n     */\n    const customListeners = useRef({});\n    const imaManager = useRef();\n    const adsManager = useRef();\n    const id = `youtube-video-${uniqueId}`;\n    const imaAdContainerId = `ima-ad-container-${uniqueId}`;\n    /**\n     * Initialise player useEffect\n     */\n    useEffect(() => {\n        if (!player.current) {\n            log('dotcom', {\n                from: 'YoutubeAtomPlayer initialise',\n                videoId,\n            });\n            const adsConfig = !adTargeting || adTargeting.disableAds || enableIma\n                ? disabledAds\n                : buildAdsConfigWithConsent({\n                    adUnit: adTargeting.adUnit,\n                    clientSideParticipations: abTestParticipations,\n                    consentState,\n                    customParams: adTargeting.customParams,\n                    isAdFreeUser: false,\n                });\n            const embedConfig = {\n                relatedChannels: [],\n                adsConfig,\n                enableIma,\n                /**\n                 * YouTube recommends disabling related videos when IMA is enabled\n                 */\n                disableRelatedVideos: enableIma,\n            };\n            const instantiateImaManager = enableIma\n                ? createInstantiateImaManager(uniqueId, id, imaAdContainerId, adTargeting, consentState, abTestParticipations, imaManager, adsManager)\n                : undefined;\n            const onReadyListener = createOnReadyListener(videoId, onReady, playerReadyCallback, instantiateImaManager);\n            const onStateChangeListener = createOnStateChangeListener(videoId, uniqueId, progressEvents.current, eventEmitters);\n            player.current = new YouTubePlayer(id, {\n                height,\n                width,\n                videoId,\n                playerVars: {\n                    modestbranding: 1,\n                    origin,\n                    playsinline: 1,\n                    rel: 0,\n                },\n                embedConfig,\n                events: {\n                    onReady: onReadyListener,\n                    onStateChange: onStateChangeListener,\n                },\n            });\n            /**\n             * Pause the current video when another video is played\n             */\n            const handleCustomPlayEvent = (event) => {\n                if (event instanceof CustomEvent) {\n                    const playedVideoId = event.detail.uniqueId;\n                    const thisVideoId = uniqueId;\n                    if (playedVideoId !== thisVideoId) {\n                        const playerStatePromise = player.current?.getPlayerState();\n                        playerStatePromise?.then((playerState) => {\n                            if (playerState && playerState === YT.PlayerState.PLAYING) {\n                                player.current?.pauseVideo();\n                            }\n                        });\n                        // pause ima ads playing on other videos\n                        adsManager.current?.pause();\n                        // mark player as inactive\n                        deactivateVideo();\n                    }\n                }\n            };\n            /**\n             * add listener for custom play event\n             */\n            document.addEventListener(customPlayEventName, handleCustomPlayEvent);\n            customListeners.current[customPlayEventName] = handleCustomPlayEvent;\n            playerListeners.current.push({ name: 'onReady', listener: onReadyListener }, { name: 'onStateChange', listener: onStateChangeListener });\n        }\n    }, \n    /**\n     * useEffect dependencies are mostly static but added to array for correctness\n     */\n    [\n        adTargeting,\n        autoPlay,\n        consentState,\n        eventEmitters,\n        height,\n        onReady,\n        origin,\n        videoId,\n        width,\n        enableIma,\n    ]);\n    /**\n     * Autoplay useEffect\n     */\n    useEffect(() => {\n        if (playerReady && autoPlay) {\n            /**\n             * Autoplay is determined by the parent\n             * Typically true when there is a preceding overlay\n             */\n            log('dotcom', {\n                from: 'YoutubeAtomPlayer autoplay',\n                videoId,\n                msg: 'Playing video',\n            });\n            player.current?.playVideo();\n        }\n    }, [playerReady, autoPlay]);\n    /**\n     * Player pause useEffect\n     */\n    useEffect(() => {\n        /**\n         * if the 'pauseVideo' prop is true this should pause the video\n         *\n         * 'pauseVideo' is controlled by the close sticky video button\n         */\n        if (pauseVideo) {\n            player.current?.pauseVideo();\n        }\n    }, [pauseVideo]);\n    /**\n     * Unregister listeners useLayoutEffect\n     */\n    useLayoutEffect(() => {\n        /**\n         * Unregister listeners before component unmount\n         *\n         * An empty dependency array will call its cleanup on unmount.\n         *\n         * Use useLayoutEffect to ensure the cleanup function is run\n         * before the component is removed from the DOM. Usually clean up\n         * functions will run after the render and commit phase.\n         *\n         * If we attempt to unregister listeners after the component is\n         * removed from the DOM the YouTube API logs a warning to the console.\n         */\n        return () => {\n            playerListeners.current.forEach((playerListener) => {\n                player.current?.removeEventListener(playerListener.name, playerListener.listener);\n            });\n            Object.entries(customListeners.current).forEach(([eventName, eventHandler]) => {\n                document.removeEventListener(eventName, eventHandler);\n            });\n        };\n    }, []);\n    /**\n     * An element for the YouTube iFrame to hook into the dom\n     */\n    return (jsxs(Fragment, { children: [jsx(\"div\", { id: id, \"data-atom-id\": id, \"data-testid\": id, \"data-atom-type\": \"youtube\", title: title }), enableIma && (jsx(\"div\", { id: imaAdContainerId, \"data-atom-type\": \"ima-ad-container\" }))] }));\n};\n\nexport { YoutubeAtomPlayer };\n//# sourceMappingURL=YoutubeAtomPlayer.js.map\n","import { jsx, jsxs, Fragment } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { log } from '@guardian/libs';\nimport { neutral, from, space } from '@guardian/source-foundations';\nimport { SvgCross } from '@guardian/source-react-components';\nimport detectMobile from 'is-mobile';\nimport { useState, useEffect } from 'react';\nimport { submitComponentEvent } from './lib/ophan.js';\nimport { useIsInView } from './lib/useIsInView.js';\n\nconst buttonStyles = css `\n\tposition: absolute;\n\tleft: -36px;\n\ttop: 0;\n\tz-index: 22;\n\tbackground-color: ${neutral[7]};\n\theight: 32px;\n\twidth: 32px;\n\tborder-radius: 50%;\n\tborder: 0;\n\tpadding: 0;\n\tcursor: pointer;\n\tdisplay: none;\n\tjustify-content: center;\n\talign-items: center;\n\ttransition: transform 0.2s;\n\n\t&:hover {\n\t\ttransform: scale(1.15);\n\t}\n\n\tsvg {\n\t\tfill: ${neutral[100]};\n\t}\n`;\n/**\n * This extended hover area allows users to click the close video button more easily\n */\nconst hoverAreaStyles = (fullWidthOverlay) => {\n    const hoverAreaWidth = 37;\n    return css `\n\t\tposition: absolute;\n\t\ttop: -4px;\n\t\tbottom: 0;\n\t\tleft: -${hoverAreaWidth}px;\n\t\twidth: ${hoverAreaWidth}px;\n\n\t\t&:hover button {\n\t\t\tdisplay: flex;\n\t\t}\n\n\t\twidth: ${fullWidthOverlay\n        ? `calc(100% + ${hoverAreaWidth}px)`\n        : `${hoverAreaWidth}px`};\n\t`;\n};\nconst stickyStyles = (showButton) => css `\n\t@keyframes fade-in-up {\n\t\tfrom {\n\t\t\ttransform: translateY(100%);\n\t\t\topacity: 0;\n\t\t}\n\n\t\tto {\n\t\t\ttransform: translateY(0%);\n\t\t\topacity: 1;\n\t\t}\n\t}\n\n\tposition: fixed;\n\tbottom: 20px;\n\twidth: 215px;\n\tz-index: 21;\n\tanimation: fade-in-up 1s ease both;\n\n\t${from.tablet} {\n\t\twidth: 300px;\n\t}\n\n\tfigcaption {\n\t\tdisplay: none;\n\t}\n\n\tbutton {\n\t\tdisplay: ${showButton ? 'flex' : 'none'};\n\t}\n\n\t&:hover button {\n\t\tdisplay: flex;\n\t}\n`;\nconst stickyContainerStyles = (isMainMedia) => {\n    return css `\n\t\theight: 192px;\n\t\tposition: relative;\n\t\tdisplay: flex;\n\t\tjustify-content: flex-end;\n\t\tpadding-right: ${isMainMedia ? `${space[5]}px` : 0};\n\n\t\t${from.phablet} {\n\t\t\theight: 349px;\n\t\t}\n\t`;\n};\nconst isMobile = detectMobile({ tablet: true });\nconst YoutubeAtomSticky = ({ uniqueId, videoId, eventEmitters, shouldStick, setPauseVideo, isActive, isMainMedia, children, isClosed, setIsClosed, }) => {\n    const [isSticky, setIsSticky] = useState(false);\n    const [stickEventSent, setStickEventSent] = useState(false);\n    const [showOverlay, setShowOverlay] = useState(isMobile);\n    const [isIntersecting, setRef] = useIsInView({\n        threshold: 0.5,\n        repeat: true,\n        debounce: true,\n    });\n    /**\n     * Click handler for the sticky video close button\n     */\n    const handleCloseClick = () => {\n        // unstick the video\n        setIsSticky(false);\n        // reset the sticky event sender\n        setStickEventSent(false);\n        // pause the video\n        setPauseVideo();\n        // set isClosed so that player won't restick\n        setIsClosed(true);\n        // log a 'close' event\n        log('dotcom', {\n            from: `YoutubeAtom handleCloseClick`,\n            videoId,\n            msg: 'Close',\n        });\n        // submit a 'close' event to Ophan\n        submitComponentEvent({\n            component: {\n                componentType: 'STICKY_VIDEO',\n                id: videoId,\n            },\n            action: 'CLOSE',\n        });\n    };\n    /**\n     * keydown event handler\n     *\n     * closes sticky video when Escape key is pressed\n     */\n    const handleKeydown = (e) => {\n        if (e.key === 'Escape') {\n            handleCloseClick();\n        }\n    };\n    /**\n     * useEffect to create keydown listener\n     */\n    useEffect(() => {\n        window.addEventListener('keydown', handleKeydown);\n        return () => window.removeEventListener('keydown', handleKeydown);\n    }, []);\n    /**\n     * useEffect for the sticky state\n     */\n    useEffect(() => {\n        if (shouldStick)\n            setIsSticky(isActive && !isIntersecting && !isClosed);\n    }, [isIntersecting, isActive, shouldStick, isClosed]);\n    /**\n     * useEffect for the stick events\n     */\n    useEffect(() => {\n        if (isSticky && !stickEventSent) {\n            setStickEventSent(true);\n            log('dotcom', {\n                from: 'YoutubeAtom stick useEffect',\n                videoId,\n                msg: 'Stick',\n            });\n            submitComponentEvent({\n                component: {\n                    componentType: 'STICKY_VIDEO',\n                    id: videoId,\n                },\n                action: 'STICK',\n            });\n        }\n    }, [isSticky, stickEventSent, videoId, eventEmitters]);\n    /**\n     * useEffect for mobile only sticky overlay\n     *\n     * this allows mobile uses to tap to reveal the close button\n     */\n    useEffect(() => {\n        setShowOverlay(isMobile && isSticky);\n    }, [isSticky, isMobile]);\n    const showCloseButton = !showOverlay && isMobile;\n    return (jsx(\"div\", { ref: setRef, css: isSticky && stickyContainerStyles(isMainMedia), \"data-cy\": `youtube-sticky-${uniqueId}`, \"data-is-sticky\": isSticky, children: jsxs(\"div\", { css: isSticky && stickyStyles(showCloseButton), children: [children, isSticky && (jsxs(Fragment, { children: [jsx(\"span\", { css: hoverAreaStyles(showOverlay), onClick: () => setShowOverlay(false) }), jsx(\"button\", { css: buttonStyles, onClick: handleCloseClick, \"data-cy\": `youtube-sticky-close-${uniqueId}`, children: jsx(SvgCross, { size: \"medium\" }) })] }))] }) }));\n};\n\nexport { YoutubeAtomSticky };\n//# sourceMappingURL=YoutubeAtomSticky.js.map\n","import libDebounce from 'lodash.debounce';\nimport { useState, useRef, useEffect } from 'react';\n\n/**\n * Intersection observer hook.\n *\n * @param {Number} threshold intersection threshold\n * @param {Boolean} repeat should the observer retrigger\n * @param {Boolean} debounce\n */\nconst useIsInView = (options) => {\n    const [isInView, setIsInView] = useState(false);\n    const [node, setNode] = useState(null);\n    const observer = useRef(null);\n    // Enabling debouncing ensures the target element intersects for at least\n    // 200ms before the callback is executed\n    const intersectionFn = ([entry]) => {\n        if (entry?.isIntersecting) {\n            setIsInView(true);\n        }\n        else if (options.repeat) {\n            setIsInView(false);\n        }\n    };\n    const intersectionCallback = options.debounce\n        ? libDebounce(intersectionFn, 300)\n        : intersectionFn;\n    useEffect(() => {\n        if (observer.current) {\n            observer.current.disconnect();\n        }\n        if (window.IntersectionObserver) {\n            observer.current = new window.IntersectionObserver(intersectionCallback, options);\n            const { current: currentObserver } = observer;\n            if (node) {\n                currentObserver.observe(node);\n            }\n            return () => currentObserver.disconnect();\n        }\n        return;\n    }, [node, options, intersectionCallback]);\n    return [isInView, setNode];\n};\n\nexport { useIsInView };\n//# sourceMappingURL=useIsInView.js.map\n","import { jsx, jsxs } from '@emotion/react/jsx-runtime';\nimport { useState, useCallback } from 'react';\nimport { MaintainAspectRatio } from './common/MaintainAspectRatio.js';\nimport { YoutubeAtomOverlay } from './YoutubeAtomOverlay.js';\nimport { YoutubeAtomPlaceholder } from './YoutubeAtomPlaceholder.js';\nimport { YoutubeAtomPlayer } from './YoutubeAtomPlayer.js';\nimport { YoutubeAtomSticky } from './YoutubeAtomSticky.js';\n\nconst YoutubeAtom = ({ elementId, videoId, overrideImage, posterImage, adTargeting, consentState, height = 259, width = 460, alt, role, title, duration, origin, eventEmitters, pillar, shouldStick, isMainMedia, imaEnabled, abTestParticipations, }) => {\n    const [overlayClicked, setOverlayClicked] = useState(false);\n    const [playerReady, setPlayerReady] = useState(false);\n    const [isActive, setIsActive] = useState(false);\n    const [isClosed, setIsClosed] = useState(false);\n    const [pauseVideo, setPauseVideo] = useState(false);\n    const uniqueId = `${videoId}-${elementId}`;\n    const enableIma = imaEnabled &&\n        !!adTargeting &&\n        !adTargeting.disableAds &&\n        !!consentState &&\n        consentState.canTarget;\n    /**\n     * Update the isActive state based on video events\n     *\n     * @param {VideoEventKey} videoEvent the video event which triggers the callback\n     */\n    const playerState = (videoEvent) => {\n        switch (videoEvent) {\n            case 'play':\n            case 'resume':\n                setPauseVideo(false);\n                setIsClosed(false);\n                setIsActive(true);\n                break;\n            case 'end':\n            case 'cued':\n                setIsActive(false);\n                break;\n        }\n    };\n    /**\n     * Combine the videoState and tracking event emitters\n     */\n    const compositeEventEmitters = [playerState, ...eventEmitters];\n    const hasOverlay = !!(overrideImage ?? posterImage);\n    /**\n     * Show an overlay if:\n     *\n     * - It exists\n     *\n     * AND\n     *\n     * - It hasn't been clicked\n     */\n    const showOverlay = hasOverlay && !overlayClicked;\n    /**\n     * Show a placeholder if:\n     *\n     * - We don't have an overlay OR the user has clicked the overlay\n     *\n     * AND\n     *\n     * - The player is not ready\n     */\n    const showPlaceholder = (!hasOverlay ?? overlayClicked) && !playerReady;\n    let loadPlayer;\n    if (!hasOverlay) {\n        // load the player if there is no overlay\n        loadPlayer = true;\n    }\n    else if (overlayClicked) {\n        // load the player if the overlay has been clicked\n        loadPlayer = true;\n    }\n    else {\n        loadPlayer = false;\n    }\n    /**\n     * Create a stable callback as it will be a useEffect dependency in YoutubeAtomPlayer\n     */\n    const playerReadyCallback = useCallback(() => setPlayerReady(true), []);\n    return (jsx(YoutubeAtomSticky, { uniqueId: uniqueId, videoId: videoId, shouldStick: shouldStick, isActive: isActive, eventEmitters: eventEmitters, setPauseVideo: () => setPauseVideo(true), isMainMedia: isMainMedia, isClosed: isClosed, setIsClosed: setIsClosed, children: jsxs(MaintainAspectRatio, { height: height, width: width, children: [loadPlayer && consentState && (jsx(YoutubeAtomPlayer, { videoId: videoId, uniqueId: uniqueId, adTargeting: adTargeting, consentState: consentState, height: height, width: width, title: title, origin: origin, eventEmitters: compositeEventEmitters, \n                    /**\n                     * If there is an overlay we want to autoplay\n                     * If there is not an overlay the user will use the YouTube player UI to play\n                     */\n                    autoPlay: hasOverlay, onReady: playerReadyCallback, enableIma: enableIma, pauseVideo: pauseVideo, deactivateVideo: () => {\n                        setIsActive(false);\n                    }, abTestParticipations: abTestParticipations })), showOverlay && (jsx(YoutubeAtomOverlay, { uniqueId: uniqueId, overrideImage: overrideImage, posterImage: posterImage, height: height, width: width, alt: alt, role: role, duration: duration, pillar: pillar, title: title, onClick: () => setOverlayClicked(true) })), showPlaceholder && jsx(YoutubeAtomPlaceholder, { uniqueId: uniqueId })] }) }));\n};\n\nexport { YoutubeAtom };\n//# sourceMappingURL=YoutubeAtom.js.map\n","import t,{useEffect as e,useState as n}from\"react\";import{jsx as o,css as a,ThemeProvider as i,keyframes as r}from\"@emotion/react\";import{buttonThemeReaderRevenueBrandAlt as l,Button as s,SvgCross as c,LinkButton as f,Link as p,SvgClock as d,buttonThemeBrandAlt as h}from\"@guardian/source-react-components\";import{neutral as u,from as m,space as g,headline as v,body as x,until as y,news as b,textSans as w}from\"@guardian/source-foundations\";function C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function k(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?C(Object(n),!0).forEach((function(e){M(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function M(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(null==n)return;var o,a,i=[],r=!0,l=!1;try{for(n=n.call(t);!(r=(o=n.next()).done)&&(i.push(o.value),!e||i.length!==e);r=!0);}catch(t){l=!0,a=t}finally{try{r||null==n.return||n.return()}finally{if(l)throw a}}return i}(t,e)||function(t,e){if(!t)return;if(\"string\"==typeof t)return I(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);\"Object\"===n&&t.constructor&&(n=t.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(t);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(t,e)}(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function I(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var A=function(t,e){try{e()}catch(e){e instanceof Error&&console.log(\"Error (\".concat(t,\"): \"),e.message)}};var Z=function(){return o(\"svg\",{id:\"livetype\",xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 120 40\",preserveAspectRatio:\"xMidYMid meet\"},o(\"title\",null,\"Download_on_the_App_Store_Badge_US-UK_RGB_blk_4SVG_092917\"),o(\"g\",null,o(\"g\",null,o(\"g\",null,o(\"path\",{d:\"M110.13477,0H9.53468c-.3667,0-.729,0-1.09473.002-.30615.002-.60986.00781-.91895.0127A13.21476,13.21476,0,0,0,5.5171.19141a6.66509,6.66509,0,0,0-1.90088.627A6.43779,6.43779,0,0,0,1.99757,1.99707,6.25844,6.25844,0,0,0,.81935,3.61816a6.60119,6.60119,0,0,0-.625,1.90332,12.993,12.993,0,0,0-.1792,2.002C.00587,7.83008.00489,8.1377,0,8.44434V31.5586c.00489.3105.00587.6113.01515.9219a12.99232,12.99232,0,0,0,.1792,2.0019,6.58756,6.58756,0,0,0,.625,1.9043A6.20778,6.20778,0,0,0,1.99757,38.001a6.27445,6.27445,0,0,0,1.61865,1.1787,6.70082,6.70082,0,0,0,1.90088.6308,13.45514,13.45514,0,0,0,2.0039.1768c.30909.0068.6128.0107.91895.0107C8.80567,40,9.168,40,9.53468,40H110.13477c.3594,0,.7246,0,1.084-.002.3047,0,.6172-.0039.9219-.0107a13.279,13.279,0,0,0,2-.1768,6.80432,6.80432,0,0,0,1.9082-.6308,6.27742,6.27742,0,0,0,1.6172-1.1787,6.39482,6.39482,0,0,0,1.1816-1.6143,6.60413,6.60413,0,0,0,.6191-1.9043,13.50643,13.50643,0,0,0,.1856-2.0019c.0039-.3106.0039-.6114.0039-.9219.0078-.3633.0078-.7246.0078-1.0938V9.53613c0-.36621,0-.72949-.0078-1.09179,0-.30664,0-.61426-.0039-.9209a13.5071,13.5071,0,0,0-.1856-2.002,6.6177,6.6177,0,0,0-.6191-1.90332,6.46619,6.46619,0,0,0-2.7988-2.7998,6.76754,6.76754,0,0,0-1.9082-.627,13.04394,13.04394,0,0,0-2-.17676c-.3047-.00488-.6172-.01074-.9219-.01269-.3594-.002-.7246-.002-1.084-.002Z\",style:{fill:\"#a6a6a6\"}}),o(\"path\",{d:\"M8.44483,39.125c-.30468,0-.602-.0039-.90429-.0107a12.68714,12.68714,0,0,1-1.86914-.1631,5.88381,5.88381,0,0,1-1.65674-.5479,5.40573,5.40573,0,0,1-1.397-1.0166,5.32082,5.32082,0,0,1-1.02051-1.3965,5.72186,5.72186,0,0,1-.543-1.6572,12.41351,12.41351,0,0,1-.1665-1.875c-.00634-.2109-.01464-.9131-.01464-.9131V8.44434S.88185,7.75293.8877,7.5498a12.37039,12.37039,0,0,1,.16553-1.87207,5.7555,5.7555,0,0,1,.54346-1.6621A5.37349,5.37349,0,0,1,2.61183,2.61768,5.56543,5.56543,0,0,1,4.01417,1.59521a5.82309,5.82309,0,0,1,1.65332-.54394A12.58589,12.58589,0,0,1,7.543.88721L8.44532.875H111.21387l.9131.0127a12.38493,12.38493,0,0,1,1.8584.16259,5.93833,5.93833,0,0,1,1.6709.54785,5.59374,5.59374,0,0,1,2.415,2.41993,5.76267,5.76267,0,0,1,.5352,1.64892,12.995,12.995,0,0,1,.1738,1.88721c.0029.2832.0029.5874.0029.89014.0079.375.0079.73193.0079,1.09179V30.4648c0,.3633,0,.7178-.0079,1.0752,0,.3252,0,.6231-.0039.9297a12.73126,12.73126,0,0,1-.1709,1.8535,5.739,5.739,0,0,1-.54,1.67,5.48029,5.48029,0,0,1-1.0156,1.3857,5.4129,5.4129,0,0,1-1.3994,1.0225,5.86168,5.86168,0,0,1-1.668.5498,12.54218,12.54218,0,0,1-1.8692.1631c-.2929.0068-.5996.0107-.8974.0107l-1.084.002Z\"})),o(\"g\",{id:\"_Group_\",\"data-name\":\"<Group>\"},o(\"g\",{id:\"_Group_2\",\"data-name\":\"<Group>\"},o(\"g\",{id:\"_Group_3\",\"data-name\":\"<Group>\"},o(\"path\",{id:\"_Path_\",\"data-name\":\"<Path>\",d:\"M24.76888,20.30068a4.94881,4.94881,0,0,1,2.35656-4.15206,5.06566,5.06566,0,0,0-3.99116-2.15768c-1.67924-.17626-3.30719,1.00483-4.1629,1.00483-.87227,0-2.18977-.98733-3.6085-.95814a5.31529,5.31529,0,0,0-4.47292,2.72787c-1.934,3.34842-.49141,8.26947,1.3612,10.97608.9269,1.32535,2.01018,2.8058,3.42763,2.7533,1.38706-.05753,1.9051-.88448,3.5794-.88448,1.65876,0,2.14479.88448,3.591.8511,1.48838-.02416,2.42613-1.33124,3.32051-2.66914a10.962,10.962,0,0,0,1.51842-3.09251A4.78205,4.78205,0,0,1,24.76888,20.30068Z\",style:{fill:\"#fff\"}}),o(\"path\",{id:\"_Path_2\",\"data-name\":\"<Path>\",d:\"M22.03725,12.21089a4.87248,4.87248,0,0,0,1.11452-3.49062,4.95746,4.95746,0,0,0-3.20758,1.65961,4.63634,4.63634,0,0,0-1.14371,3.36139A4.09905,4.09905,0,0,0,22.03725,12.21089Z\",style:{fill:\"#fff\"}}))),o(\"g\",null,o(\"path\",{d:\"M42.30227,27.13965h-4.7334l-1.13672,3.35645H34.42727l4.4834-12.418h2.083l4.4834,12.418H43.438ZM38.0591,25.59082h3.752l-1.84961-5.44727h-.05176Z\",style:{fill:\"#fff\"}}),o(\"path\",{d:\"M55.15969,25.96973c0,2.81348-1.50586,4.62109-3.77832,4.62109a3.0693,3.0693,0,0,1-2.84863-1.584h-.043v4.48438h-1.8584V21.44238H48.4302v1.50586h.03418a3.21162,3.21162,0,0,1,2.88281-1.60059C53.645,21.34766,55.15969,23.16406,55.15969,25.96973Zm-1.91016,0c0-1.833-.94727-3.03809-2.39258-3.03809-1.41992,0-2.375,1.23047-2.375,3.03809,0,1.82422.95508,3.0459,2.375,3.0459C52.30227,29.01563,53.24953,27.81934,53.24953,25.96973Z\",style:{fill:\"#fff\"}}),o(\"path\",{d:\"M65.12453,25.96973c0,2.81348-1.50586,4.62109-3.77832,4.62109a3.0693,3.0693,0,0,1-2.84863-1.584h-.043v4.48438h-1.8584V21.44238H58.395v1.50586h.03418A3.21162,3.21162,0,0,1,61.312,21.34766C63.60988,21.34766,65.12453,23.16406,65.12453,25.96973Zm-1.91016,0c0-1.833-.94727-3.03809-2.39258-3.03809-1.41992,0-2.375,1.23047-2.375,3.03809,0,1.82422.95508,3.0459,2.375,3.0459C62.26711,29.01563,63.21438,27.81934,63.21438,25.96973Z\",style:{fill:\"#fff\"}}),o(\"path\",{d:\"M71.71047,27.03613c.1377,1.23145,1.334,2.04,2.96875,2.04,1.56641,0,2.69336-.80859,2.69336-1.91895,0-.96387-.67969-1.541-2.28906-1.93652l-1.60937-.3877c-2.28027-.55078-3.33887-1.61719-3.33887-3.34766,0-2.14258,1.86719-3.61426,4.51855-3.61426,2.624,0,4.42285,1.47168,4.4834,3.61426h-1.876c-.1123-1.23926-1.13672-1.9873-2.63379-1.9873s-2.52148.75684-2.52148,1.8584c0,.87793.6543,1.39453,2.25488,1.79l1.36816.33594c2.54785.60254,3.60645,1.626,3.60645,3.44238,0,2.32324-1.85059,3.77832-4.79395,3.77832-2.75391,0-4.61328-1.4209-4.7334-3.667Z\",style:{fill:\"#fff\"}}),o(\"path\",{d:\"M83.34621,19.2998v2.14258h1.72168v1.47168H83.34621v4.99121c0,.77539.34473,1.13672,1.10156,1.13672a5.80752,5.80752,0,0,0,.61133-.043v1.46289a5.10351,5.10351,0,0,1-1.03223.08594c-1.833,0-2.54785-.68848-2.54785-2.44434V22.91406H80.16262V21.44238H81.479V19.2998Z\",style:{fill:\"#fff\"}}),o(\"path\",{d:\"M86.065,25.96973c0-2.84863,1.67773-4.63867,4.29395-4.63867,2.625,0,4.29492,1.79,4.29492,4.63867,0,2.85645-1.66113,4.63867-4.29492,4.63867C87.72609,30.6084,86.065,28.82617,86.065,25.96973Zm6.69531,0c0-1.9541-.89551-3.10742-2.40137-3.10742s-2.40039,1.16211-2.40039,3.10742c0,1.96191.89453,3.10645,2.40039,3.10645S92.76027,27.93164,92.76027,25.96973Z\",style:{fill:\"#fff\"}}),o(\"path\",{d:\"M96.18606,21.44238h1.77246v1.541h.043a2.1594,2.1594,0,0,1,2.17773-1.63574,2.86616,2.86616,0,0,1,.63672.06934v1.73828a2.59794,2.59794,0,0,0-.835-.1123,1.87264,1.87264,0,0,0-1.93652,2.083v5.37012h-1.8584Z\",style:{fill:\"#fff\"}}),o(\"path\",{d:\"M109.3843,27.83691c-.25,1.64355-1.85059,2.77148-3.89844,2.77148-2.63379,0-4.26855-1.76465-4.26855-4.5957,0-2.83984,1.64355-4.68164,4.19043-4.68164,2.50488,0,4.08008,1.7207,4.08008,4.46582v.63672h-6.39453v.1123a2.358,2.358,0,0,0,2.43555,2.56445,2.04834,2.04834,0,0,0,2.09082-1.27344Zm-6.28223-2.70215h4.52637a2.1773,2.1773,0,0,0-2.2207-2.29785A2.292,2.292,0,0,0,103.10207,25.13477Z\",style:{fill:\"#fff\"}})))),o(\"g\",{id:\"_Group_4\",\"data-name\":\"<Group>\"},o(\"g\",null,o(\"path\",{d:\"M37.82619,8.731a2.63964,2.63964,0,0,1,2.80762,2.96484c0,1.90625-1.03027,3.002-2.80762,3.002H35.67092V8.731Zm-1.22852,5.123h1.125a1.87588,1.87588,0,0,0,1.96777-2.146,1.881,1.881,0,0,0-1.96777-2.13379h-1.125Z\",style:{fill:\"#fff\"}}),o(\"path\",{d:\"M41.68068,12.44434a2.13323,2.13323,0,1,1,4.24707,0,2.13358,2.13358,0,1,1-4.24707,0Zm3.333,0c0-.97607-.43848-1.54687-1.208-1.54687-.77246,0-1.207.5708-1.207,1.54688,0,.98389.43457,1.55029,1.207,1.55029C44.57522,13.99463,45.01369,13.42432,45.01369,12.44434Z\",style:{fill:\"#fff\"}}),o(\"path\",{d:\"M51.57326,14.69775h-.92187l-.93066-3.31641h-.07031l-.92676,3.31641h-.91309l-1.24121-4.50293h.90137l.80664,3.436h.06641l.92578-3.436h.85254l.92578,3.436h.07031l.80273-3.436h.88867Z\",style:{fill:\"#fff\"}}),o(\"path\",{d:\"M53.85354,10.19482H54.709v.71533h.06641a1.348,1.348,0,0,1,1.34375-.80225,1.46456,1.46456,0,0,1,1.55859,1.6748v2.915h-.88867V12.00586c0-.72363-.31445-1.0835-.97168-1.0835a1.03294,1.03294,0,0,0-1.0752,1.14111v2.63428h-.88867Z\",style:{fill:\"#fff\"}}),o(\"path\",{d:\"M59.09377,8.437h.88867v6.26074h-.88867Z\",style:{fill:\"#fff\"}}),o(\"path\",{d:\"M61.21779,12.44434a2.13346,2.13346,0,1,1,4.24756,0,2.1338,2.1338,0,1,1-4.24756,0Zm3.333,0c0-.97607-.43848-1.54687-1.208-1.54687-.77246,0-1.207.5708-1.207,1.54688,0,.98389.43457,1.55029,1.207,1.55029C64.11232,13.99463,64.5508,13.42432,64.5508,12.44434Z\",style:{fill:\"#fff\"}}),o(\"path\",{d:\"M66.4009,13.42432c0-.81055.60352-1.27783,1.6748-1.34424l1.21973-.07031v-.38867c0-.47559-.31445-.74414-.92187-.74414-.49609,0-.83984.18213-.93848.50049h-.86035c.09082-.77344.81836-1.26953,1.83984-1.26953,1.12891,0,1.76563.562,1.76563,1.51318v3.07666h-.85547v-.63281h-.07031a1.515,1.515,0,0,1-1.35254.707A1.36026,1.36026,0,0,1,66.4009,13.42432Zm2.89453-.38477v-.37646l-1.09961.07031c-.62012.0415-.90137.25244-.90137.64941,0,.40527.35156.64111.835.64111A1.0615,1.0615,0,0,0,69.29543,13.03955Z\",style:{fill:\"#fff\"}}),o(\"path\",{d:\"M71.34816,12.44434c0-1.42285.73145-2.32422,1.86914-2.32422a1.484,1.484,0,0,1,1.38086.79h.06641V8.437h.88867v6.26074h-.85156v-.71143h-.07031a1.56284,1.56284,0,0,1-1.41406.78564C72.0718,14.772,71.34816,13.87061,71.34816,12.44434Zm.918,0c0,.95508.4502,1.52979,1.20313,1.52979.749,0,1.21191-.583,1.21191-1.52588,0-.93848-.46777-1.52979-1.21191-1.52979C72.72121,10.91846,72.26613,11.49707,72.26613,12.44434Z\",style:{fill:\"#fff\"}}),o(\"path\",{d:\"M79.23,12.44434a2.13323,2.13323,0,1,1,4.24707,0,2.13358,2.13358,0,1,1-4.24707,0Zm3.333,0c0-.97607-.43848-1.54687-1.208-1.54687-.77246,0-1.207.5708-1.207,1.54688,0,.98389.43457,1.55029,1.207,1.55029C82.12453,13.99463,82.563,13.42432,82.563,12.44434Z\",style:{fill:\"#fff\"}}),o(\"path\",{d:\"M84.66945,10.19482h.85547v.71533h.06641a1.348,1.348,0,0,1,1.34375-.80225,1.46456,1.46456,0,0,1,1.55859,1.6748v2.915H87.605V12.00586c0-.72363-.31445-1.0835-.97168-1.0835a1.03294,1.03294,0,0,0-1.0752,1.14111v2.63428h-.88867Z\",style:{fill:\"#fff\"}}),o(\"path\",{d:\"M93.51516,9.07373v1.1416h.97559v.74854h-.97559V13.2793c0,.47168.19434.67822.63672.67822a2.96657,2.96657,0,0,0,.33887-.02051v.74023a2.9155,2.9155,0,0,1-.4834.04541c-.98828,0-1.38184-.34766-1.38184-1.21582v-2.543h-.71484v-.74854h.71484V9.07373Z\",style:{fill:\"#fff\"}}),o(\"path\",{d:\"M95.70461,8.437h.88086v2.48145h.07031a1.3856,1.3856,0,0,1,1.373-.80664,1.48339,1.48339,0,0,1,1.55078,1.67871v2.90723H98.69v-2.688c0-.71924-.335-1.0835-.96289-1.0835a1.05194,1.05194,0,0,0-1.13379,1.1416v2.62988h-.88867Z\",style:{fill:\"#fff\"}}),o(\"path\",{d:\"M104.76125,13.48193a1.828,1.828,0,0,1-1.95117,1.30273A2.04531,2.04531,0,0,1,100.73,12.46045a2.07685,2.07685,0,0,1,2.07617-2.35254c1.25293,0,2.00879.856,2.00879,2.27V12.688h-3.17969v.0498a1.1902,1.1902,0,0,0,1.19922,1.29,1.07934,1.07934,0,0,0,1.07129-.5459Zm-3.126-1.45117h2.27441a1.08647,1.08647,0,0,0-1.1084-1.1665A1.15162,1.15162,0,0,0,101.63527,12.03076Z\",style:{fill:\"#fff\"}})))))},B=function(){return o(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"10 10 140 40\",preserveAspectRatio:\"xMidYMid meet\"},o(\"defs\",null,o(\"linearGradient\",{id:\"a\",x1:\"31.8\",y1:\"183.29\",x2:\"15.02\",y2:\"166.51\",gradientTransform:\"matrix(1 0 0 -1 0 202)\",gradientUnits:\"userSpaceOnUse\"},o(\"stop\",{offset:\"0\",stopColor:\"#00a0ff\"}),o(\"stop\",{offset:\".01\",stopColor:\"#00a1ff\"}),o(\"stop\",{offset:\".26\",stopColor:\"#00beff\"}),o(\"stop\",{offset:\".51\",stopColor:\"#00d2ff\"}),o(\"stop\",{offset:\".76\",stopColor:\"#00dfff\"}),o(\"stop\",{offset:\"1\",stopColor:\"#00e3ff\"})),o(\"linearGradient\",{id:\"b\",x1:\"43.83\",y1:\"172\",x2:\"19.64\",y2:\"172\",gradientTransform:\"matrix(1 0 0 -1 0 202)\",gradientUnits:\"userSpaceOnUse\"},o(\"stop\",{offset:\"0\",stopColor:\"#ffe000\"}),o(\"stop\",{offset:\".41\",stopColor:\"#ffbd00\"}),o(\"stop\",{offset:\".78\",stopColor:\"orange\"}),o(\"stop\",{offset:\"1\",stopColor:\"#ff9c00\"})),o(\"linearGradient\",{id:\"c\",x1:\"34.83\",y1:\"169.7\",x2:\"12.07\",y2:\"146.95\",gradientTransform:\"matrix(1 0 0 -1 0 202)\",gradientUnits:\"userSpaceOnUse\"},o(\"stop\",{offset:\"0\",stopColor:\"#ff3a44\"}),o(\"stop\",{offset:\"1\",stopColor:\"#c31162\"})),o(\"linearGradient\",{id:\"d\",x1:\"17.3\",y1:\"191.82\",x2:\"27.46\",y2:\"181.66\",gradientTransform:\"matrix(1 0 0 -1 0 202)\",gradientUnits:\"userSpaceOnUse\"},o(\"stop\",{offset:\"0\",stopColor:\"#32a071\"}),o(\"stop\",{offset:\".07\",stopColor:\"#2da771\"}),o(\"stop\",{offset:\".48\",stopColor:\"#15cf74\"}),o(\"stop\",{offset:\".8\",stopColor:\"#06e775\"}),o(\"stop\",{offset:\"1\",stopColor:\"#00f076\"}))),o(\"title\",null),o(\"path\",{fill:\"none\",d:\"M0 0h155v60H0z\"}),o(\"rect\",{x:\"10\",y:\"10\",width:\"135\",height:\"40\",rx:\"5\",ry:\"5\"}),o(\"path\",{d:\"M140 10.8a4.2 4.2 0 0 1 4.2 4.2v30a4.2 4.2 0 0 1-4.2 4.2H15a4.2 4.2 0 0 1-4.2-4.2V15a4.2 4.2 0 0 1 4.2-4.2h125m0-.8H15a5 5 0 0 0-5 5v30a5 5 0 0 0 5 5h125a5 5 0 0 0 5-5V15a5 5 0 0 0-5-5z\",fill:\"#a6a6a6\"}),o(\"path\",{d:\"M57.42 20.24a2.71 2.71 0 0 1-.75 2 2.91 2.91 0 0 1-2.2.89 3.15 3.15 0 0 1-2.21-5.37 3 3 0 0 1 2.21-.9 3.1 3.1 0 0 1 1.23.25 2.47 2.47 0 0 1 .94.67l-.53.53a2 2 0 0 0-1.64-.71 2.32 2.32 0 0 0-2.33 2.4 2.36 2.36 0 0 0 4 1.73 1.89 1.89 0 0 0 .5-1.22h-2.17v-.72h2.91a2.54 2.54 0 0 1 .04.45zM62 17.74h-2.7v1.9h2.46v.72H59.3v1.9H62V23h-3.5v-6H62zM65.28 23h-.77v-5.26h-1.68V17H67v.74h-1.72zM69.94 23v-6h.77v6zM74.13 23h-.77v-5.26h-1.68V17h4.12v.74h-1.67zM83.61 22.22a3.12 3.12 0 0 1-4.4 0 3.24 3.24 0 0 1 0-4.45 3.1 3.1 0 0 1 4.4 0 3.23 3.23 0 0 1 0 4.45zm-3.83-.5a2.31 2.31 0 0 0 3.26 0 2.56 2.56 0 0 0 0-3.44 2.31 2.31 0 0 0-3.26 0 2.56 2.56 0 0 0 0 3.44zM85.58 23v-6h.94l2.92 4.67V17h.77v6h-.8l-3.05-4.89V23z\",fill:\"#fff\",stroke:\"#fff\",strokeMiterlimit:\"10\",strokeWidth:\".2\"}),o(\"path\",{d:\"M78.14 31.75A4.25 4.25 0 1 0 82.41 36a4.19 4.19 0 0 0-4.27-4.25zm0 6.83a2.58 2.58 0 1 1 2.4-2.58 2.46 2.46 0 0 1-2.4 2.58zm-9.31-6.83A4.25 4.25 0 1 0 73.09 36a4.19 4.19 0 0 0-4.27-4.25zm0 6.83A2.58 2.58 0 1 1 71.22 36a2.46 2.46 0 0 1-2.4 2.58zm-11.09-5.52v1.8h4.32a3.77 3.77 0 0 1-1 2.27 4.42 4.42 0 0 1-3.33 1.32 4.8 4.8 0 0 1 0-9.6A4.6 4.6 0 0 1 61 30.14l1.27-1.27A6.29 6.29 0 0 0 57.74 27a6.61 6.61 0 1 0 0 13.21 6 6 0 0 0 4.61-1.85 6 6 0 0 0 1.56-4.22 5.87 5.87 0 0 0-.1-1.13zm45.31 1.4a4 4 0 0 0-3.64-2.71 4 4 0 0 0-4 4.25 4.16 4.16 0 0 0 4.22 4.25 4.23 4.23 0 0 0 3.54-1.88l-1.45-1a2.43 2.43 0 0 1-2.09 1.18 2.16 2.16 0 0 1-2.06-1.29l5.69-2.35zm-5.8 1.42a2.33 2.33 0 0 1 2.22-2.48 1.65 1.65 0 0 1 1.58.9zM92.63 40h1.87V27.5h-1.87zm-3.06-7.3h-.07a3 3 0 0 0-2.24-1 4.26 4.26 0 0 0 0 8.51 2.9 2.9 0 0 0 2.24-1h.06v.61c0 1.63-.87 2.5-2.27 2.5a2.35 2.35 0 0 1-2.14-1.51l-1.63.68A4.05 4.05 0 0 0 87.29 44c2.19 0 4-1.29 4-4.43V32h-1.72zm-2.14 5.88a2.59 2.59 0 0 1 0-5.16A2.4 2.4 0 0 1 89.7 36a2.38 2.38 0 0 1-2.28 2.58zm24.38-11.08h-4.47V40h1.87v-4.74h2.61a3.89 3.89 0 1 0 0-7.76zm0 6h-2.61v-4.26h2.65a2.14 2.14 0 1 1 0 4.29zm11.53-1.8a3.5 3.5 0 0 0-3.33 1.91l1.66.69a1.77 1.77 0 0 1 1.7-.92 1.8 1.8 0 0 1 2 1.61v.13a4.13 4.13 0 0 0-1.95-.48c-1.79 0-3.6 1-3.6 2.81a2.89 2.89 0 0 0 3.1 2.75 2.63 2.63 0 0 0 2.4-1.2h.06v1h1.8v-4.81c0-2.19-1.66-3.46-3.79-3.46zm-.23 6.85c-.61 0-1.46-.31-1.46-1.06 0-1 1.06-1.33 2-1.33a3.32 3.32 0 0 1 1.7.42 2.26 2.26 0 0 1-2.19 2zM133.74 32l-2.14 5.42h-.06L129.32 32h-2l3.33 7.58-1.9 4.21h1.95L135.82 32zm-16.81 8h1.87V27.5h-1.87z\",fill:\"#fff\"}),o(\"path\",{d:\"M20.44 17.54a2 2 0 0 0-.46 1.4v22.12a2 2 0 0 0 .46 1.4l.07.07L32.9 30.15v-.29L20.51 17.47z\",fill:\"url(#a)\"}),o(\"path\",{d:\"M37 34.28l-4.1-4.13v-.29l4.1-4.14.09.05L42 28.56c1.4.79 1.4 2.09 0 2.89l-4.89 2.78z\",fill:\"url(#b)\"}),o(\"path\",{d:\"M37.12 34.22L32.9 30 20.44 42.46a1.63 1.63 0 0 0 2.08.06l14.61-8.3\",fill:\"url(#c)\"}),o(\"path\",{d:\"M37.12 25.78l-14.61-8.3a1.63 1.63 0 0 0-2.08.06L32.9 30z\",fill:\"url(#d)\"}),o(\"path\",{d:\"M37 34.13l-14.49 8.25a1.67 1.67 0 0 1-2 0l-.07.07.07.07a1.66 1.66 0 0 0 2 0l14.61-8.3z\",style:{isolation:\"isolate\"},opacity:\".2\"}),o(\"path\",{d:\"M20.44 42.32a2 2 0 0 1-.46-1.4v.15a2 2 0 0 0 .46 1.4l.07-.07zM42 31.3l-5 2.83.09.09L42 31.44A1.75 1.75 0 0 0 43 30a1.86 1.86 0 0 1-1 1.3z\",style:{isolation:\"isolate\"},opacity:\".12\"}),o(\"path\",{d:\"M22.51 17.62L42 28.7a1.86 1.86 0 0 1 1 1.3 1.75 1.75 0 0 0-1-1.44L22.51 17.48c-1.4-.79-2.54-.13-2.54 1.47v.15c.03-1.61 1.15-2.27 2.54-1.48z\",fill:\"#fff\",opacity:\".25\"}))};var P={wrapper:a(\"box-sizing:border-box;display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;background-color:\",\"#ebe8e8\",\";color:\",u[20],\";html{box-sizing:border-box;}*,*:before,*:after{box-sizing:inherit;}\",\"\"),contentContainer:a(\"align-items:stretch;display:flex;flex-direction:column;position:relative;margin:0 auto;width:100%;max-width:740px;\",m.desktop,\"{max-width:980px;flex-direction:row;min-height:\",\"280\",\"px;}\",m.leftCol,\"{max-width:1140px;}\",m.wide,\"{max-width:1300px;}\",\"\"),topLeftComponent:a(\"width:93%;padding:\",g[4],\"px;min-height:\",\"280\",\"px;\",m.desktop,\"{width:60%;}\",\"\"),bottomRightComponent:a(\"display:flex;justify-content:center;width:100%;max-height:100%;\",m.desktop,\"{align-self:flex-end;padding-right:\",g[4],\"px;max-width:45%;justify-content:flex-end;}\",m.leftCol,\"{padding-right:0;justify-content:space-between;}\",m.wide,\"{max-width:48%;}\",\"\"),heading:a(v.small({fontWeight:\"bold\"}),\";margin:0;max-width:100%;\",m.mobileLandscape,\"{\",v.small({fontWeight:\"bold\"}),\";}\",m.tablet,\"{max-width:100%;}\",\"\"),paragraph:a(x.medium(),\" line-height:135%;margin:\",g[5],\"px 0 \",g[5],\"px;max-width:100%;color:\",\"#666\",\";\",m.phablet,\"{max-width:90%;}\",m.tablet,\"{max-width:100%;}\",m.desktop,\"{font-size:20px;margin:\",g[3],\"px 0 \",g[4],\"px;max-width:42rem;}\",m.leftCol,\"{max-width:37rem;}\",m.wide,\"{max-width:42rem;}\",\"\"),secondParagraph:a(m.desktop,\"{font-size:18px;}\",\"\"),cta:a(\"font-weight:700;margin-top:\",g[5],\"px;margin-right:\",g[3],\"px;display:inline-block;color:\",u[20],\";\",\"\"),smallRightSpacer:a(\"margin-right:\",g[3],\"px;\",\"\"),primaryButton:a(\"margin-right:\",g[3],\"px;\",\"\"),iconPanel:a(m.desktop,\"{display:flex;flex-direction:column;justify-content:space-between;align-items:flex-end;height:100%;padding:\",g[4],\"px 0;margin-left:\",g[4],\"px;}\",\"\"),closeButton:{name:\"1i93x75\",styles:\"display:flex;align-items:center;justify-content:center;padding:0;position:absolute;top:15px;right:10px\"},image:a(\"max-width:100%;max-height:300px;display:flex;justify-content:center;align-items:flex-end;margin-top:\",g[2],\"px;img{max-width:100%;width:100%;height:100%;object-fit:contain;}\",y.desktop,\"{display:none;}\",m.wide,\"{margin-right:100px;}\",\"\"),centeredBottomRightComponent:a(\"display:flex;justify-content:center;width:100%;max-height:100%;\",m.desktop,\"{padding-right:\",g[4],\"px;max-width:45%;}\",m.leftCol,\"{padding-right:0;}\",m.wide,\"{max-width:48%;}\",\"\"),centeredImage:a(\"max-width:100%;max-height:300px;display:flex;justify-content:center;align-items:center;margin-top:\",g[2],\"px;img{max-width:100%;width:100%;height:100%;object-fit:contain;}\",y.desktop,\"{display:none;}\",m.wide,\"{margin-right:100px;}\",\"\")};function O(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];function o(e){(\"Escape\"===e.key||\"Esc\"===e.key)&&t(e)}e((function(){return window.addEventListener(\"keydown\",o),function(){return window.removeEventListener(\"keydown\",o)}}),n)}var L={image:a(\"max-width:100%;max-height:260px;display:flex;justify-content:center;align-items:flex-end;margin-top:-20px;img{max-width:100%;width:100%;height:100%;object-fit:contain;}\",y.desktop,\"{display:none;}\",m.wide,\"{margin-right:100px;}\",\"\"),storeIcon:a(\"height:10px;display:inline-block;vertical-align:-37.5%;svg{height:30px;width:auto;max-width:110px;margin-top:\",g[2],\"px;padding-right:\",g[2],\"px;}\",\"\")},S=[\"https://media.guim.co.uk/\",\"https://i.guim.co.uk/\"],_=function(t){return S.some((function(e){return t.startsWith(e)}))},j=function(t){var e=t.header,n=t.body,o=t.cta,a=t.imageUrl;return!!(e&&n&&o&&a)&&(!!_(a)||(console.log(\"Image URL \".concat(a,\" is not allowed\")),!1))};var U,V={name:\"wx3sob\",styles:\"text-decoration:none;text-underline-offset:inherit;&:hover{text-decoration:underline;}\"};var E,T,H={button:a(\"background-color:\",b[400],\";color:\",u[100],\";&:hover{background-color:\",b[400],\";}\",\"\"),thankYouText:a(x.medium({fontWeight:\"bold\"}),\";color:\",u[0],\";\",\"\"),errorText:a(x.medium({fontWeight:\"bold\"}),\";color:\",u[0],\";margin-bottom:16px;\",\"\"),newslettersLinkPeriod:a(\"color:\",u[0],\";\",\"\")},R=function(t){return o(i,{theme:h},o(s,{css:H.button,onClick:t.onSignUpClick},\"Sign up\"))},G=function(e){var a=e.subscribeToNewsletter,i=e.newsletterId,r=e.ophanComponentId,l=e.trackClick,s=z(n(\"DEFAULT\"),2),c=s[0],f=s[1],d=function(){f(\"IN_PROGRESS\");l({internalButtonId:0,ophanComponentId:r}),a(i).then((function(){return f(\"SUCCESS\")})).catch((function(){f(\"FAILURE\")}))};switch(c){case\"DEFAULT\":return o(R,{onSignUpClick:d});case\"FAILURE\":return o(t.Fragment,null,o(\"div\",{css:H.errorText},\"There was an error signing up to the newsletter. Please try again\"),o(R,{onSignUpClick:d}));case\"IN_PROGRESS\":return o(W,null);case\"SUCCESS\":return o(t.Fragment,null,o(\"div\",{css:H.thankYouText},\"Thank you.\"),o(\"div\",null,o(p,{href:\"https://manage.theguardian.com/email-prefs\",priority:\"primary\"},\"Manage my newsletters\"),o(\"span\",{css:H.newslettersLinkPeriod},\".\")))}},N=a(\"circle{animation:\",r(U||(E=[\"\\n    0% {\\n        transform: scale(1);\\n        filter: brightness(1);\\n    }\\n    15% {\\n        transform: scale(1.333);\\n        filter: brightness(0.7);\\n    }\\n    30% {\\n        transform: scale(1);\\n        filter: brightness(1);\\n    }\\n\"],T||(T=E.slice(0)),U=Object.freeze(Object.defineProperties(E,{raw:{value:Object.freeze(T)}})))),\" 1.5s ease infinite;}#dot_1{animation-delay:0ms;transform-origin:3px 3.5px;}#dot_2{animation-delay:400ms;transform-origin:17.4px 3.5px;}#dot_3{animation-delay:800ms;transform-origin:31.7px 3.5px;}\",\"\"),W=function(){return o(\"svg\",{width:\"50\",height:\"17\",viewBox:\"-5 -5 45 12\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",css:N},o(\"g\",{id:\"Dots step 1\"},o(\"g\",{id:\"Group 660\"},o(\"circle\",{id:\"dot_1\",opacity:\"0.5\",cx:\"3.0152\",cy:\"3.56641\",r:\"3\",fill:\"#707070\"}),o(\"circle\",{id:\"dot_2\",opacity:\"0.5\",cx:\"17.3748\",cy:\"3.56641\",r:\"3\",fill:\"#707070\"}),o(\"circle\",{id:\"dot_3\",opacity:\"0.5\",cx:\"31.7348\",cy:\"3.56641\",r:\"3\",fill:\"#707070\"}))))},D={container:{name:\"1r962iv\",styles:\"padding:4px\"},clock:{name:\"1g4x3x3\",styles:\"position:relative;top:2px;margin-right:4px;svg{fill:#999999;height:16px;width:16px;}\"},text:a(\"color:\",u[20],\";\",w.medium(),\" margin-left:4px;\",\"\")},F=function(t){var e=t.frequency;return e?o(\"div\",{css:D.container},o(\"span\",{css:D.clock},o(d,null)),o(\"span\",{css:D.text},e)):null};var q,Y,K,$={heading:a(v.small({fontWeight:\"bold\"}),\";margin:0;max-width:100%;\",m.mobileLandscape,\"{\",v.small({fontWeight:\"bold\"}),\";}\",m.tablet,\"{\",v.medium({fontWeight:\"bold\"}),\";max-width:100%;}\",\"\"),bold:{name:\"1efi8gv\",styles:\"font-weight:bold\"}},J=(M(q={},\"AppBanner\",(function(t){var e=t.brazeMessageProps,a=e.ophanComponentId,r=void 0===a?\"AppBanner\":a,f=e.header,p=e.body,d=e.cta,h=e.imageUrl,u=t.trackClick;if(!j(t.brazeMessageProps))return null;var m=z(n(!0),2),g=m[0],v=m[1];if(!j(t.brazeMessageProps))return null;var x=function(t,e){t.preventDefault(),y(e)},y=function(t){v(!1),document.body.focus(),u({internalButtonId:t,ophanComponentId:r})};O((function(){return y(1)}));var b={button:k(k({},l.button),{},{backgroundPrimary:\"rgb(51, 51, 51)\",backgroundPrimaryHover:\"black\"})},w={button:k(k({},l.button),{},{textSubdued:\"rgb(51, 51, 51)\"})};return g?o(\"div\",{css:P.wrapper},o(\"div\",{css:P.contentContainer},o(\"div\",{css:P.topLeftComponent},o(\"div\",{css:P.heading},f),o(\"p\",{css:P.paragraph},p,o(\"br\",null),o(\"strong\",{css:P.cta},d),o(\"span\",{css:L.storeIcon},o(Z,null),o(B,null))),o(i,{theme:b},o(s,{onClick:function(t){return x(t,0)},css:P.primaryButton},\"Ok, got it\")),o(i,{theme:w},o(s,{onClick:function(t){return x(t,0)},priority:\"subdued\",cssOverrides:V},\"I'm not interested\"))),o(\"div\",{css:P.bottomRightComponent},o(\"div\",{css:L.image},o(\"img\",{src:h,alt:\"\"})),o(\"div\",{css:P.iconPanel},o(i,{theme:b},o(s,{icon:o(c,null),hideLabel:!0,css:P.closeButton,priority:\"tertiary\",size:\"small\",\"aria-label\":\"Close\",onClick:function(t){return x(t,1)},tabIndex:0},\" \")))))):null})),M(q,\"BannerWithLink\",(function(e){var a=e.brazeMessageProps,i=a.ophanComponentId,r=a.header,l=a.body,p=a.boldText,d=a.buttonText,h=a.buttonUrl,u=a.imageUrl,m=e.trackClick,g=z(n(!0),2),v=g[0],x=g[1];if(!function(t){var e=t.header,n=t.body,o=t.buttonText,a=t.buttonUrl,i=t.imageUrl,r=t.ophanComponentId;return i&&!_(i)?(console.log(\"Image URL \".concat(i,\" is not allowed\")),!1):Boolean(e&&n&&o&&a&&i&&r)}(e.brazeMessageProps))return null;var y=function(t){x(!1),document.body.focus(),m({internalButtonId:t,ophanComponentId:i})};return O((function(){return y(1)})),v?o(\"div\",{css:P.wrapper},o(\"div\",{css:P.contentContainer},o(\"div\",{css:P.topLeftComponent},o(\"div\",{css:P.heading},r),o(\"p\",{css:P.paragraph},l,p?o(t.Fragment,null,o(\"br\",null),o(\"strong\",{css:P.cta},p)):null),o(f,{href:h,css:P.primaryButton,onClick:function(){return m({internalButtonId:0,ophanComponentId:i})}},d)),o(\"div\",{css:P.bottomRightComponent},o(\"div\",{css:P.image},o(\"img\",{src:u,alt:\"\"})),o(\"div\",{css:P.iconPanel},o(s,{icon:o(c,null),hideLabel:!0,cssOverrides:P.closeButton,priority:\"tertiary\",size:\"small\",\"aria-label\":\"Close\",onClick:function(t){return e=1,t.preventDefault(),void y(e);var e},tabIndex:0},\" \"))))):null})),M(q,\"BannerNewsletter\",(function(t){var e=t.brazeMessageProps,a=e.ophanComponentId,i=e.header,r=e.body,l=e.boldText,f=e.secondParagraph,p=e.newsletterId,d=e.imageUrl,h=e.frequency,u=t.subscribeToNewsletter,m=t.trackClick,g=z(n(!0),2),v=g[0],x=g[1];if(!function(t){var e=t.header,n=t.body,o=t.imageUrl,a=t.ophanComponentId,i=t.newsletterId,r=t.frequency;return o&&!_(o)?(console.log(\"Image URL \".concat(o,\" is not allowed\")),!1):Boolean(e&&n&&o&&a&&i&&r)}(t.brazeMessageProps))return null;var y=function(t){x(!1),document.body.focus(),m({internalButtonId:t,ophanComponentId:a})};return O((function(){return y(1)})),v?o(\"div\",{css:P.wrapper},o(\"div\",{css:P.contentContainer},o(\"div\",{css:P.topLeftComponent},o(\"div\",{css:$.heading},i),o(F,{frequency:h}),o(\"p\",{css:P.paragraph},r,\" \",l&&o(\"span\",{css:$.bold},l)),f&&o(\"p\",{css:[P.paragraph,P.secondParagraph,\"\",\"\"]},f),o(G,{subscribeToNewsletter:u,newsletterId:p,ophanComponentId:a,trackClick:m})),o(\"div\",{css:P.centeredBottomRightComponent},o(\"div\",{css:P.centeredImage},o(\"img\",{src:d,alt:\"\"})),o(\"div\",{css:P.iconPanel},o(s,{icon:o(c,null),hideLabel:!0,cssOverrides:P.closeButton,priority:\"tertiary\",size:\"small\",\"aria-label\":\"Close\",onClick:function(t){return e=1,t.preventDefault(),void y(e);var e},tabIndex:0},\" \"))))):null})),q),Q=(Y=\"RETENTION_ENGAGEMENT_BANNER\",K=J,function(t){var e=K[t.componentName];if(!e)return null;var n=function(t){var e=t.submitComponentEvent,n=t.logButtonClickWithBraze,o=t.ophanComponentType;return function(t){var a=t.internalButtonId,i=t.ophanComponentId;A(\"ophanButtonClick\",(function(){e({component:{componentType:o,id:i},action:\"CLICK\",value:(a+1).toString(10)})})),A(\"brazeButtonClick\",(function(){n(a)}))}}({submitComponentEvent:t.submitComponentEvent,logButtonClickWithBraze:t.logButtonClickWithBraze,ophanComponentType:Y}),a=k(k({},t),{},{trackClick:n});return o(e,a)});export{Q as BrazeBannerComponent};\n","import e,{useState as t}from\"react\";import{jsx as n,css as r,keyframes as a,ThemeProvider as o}from\"@emotion/react\";import{news as i,neutral as c,body as s,textSans as l,until as u,headline as p,from as d,space as m,brand as g,brandAlt as h,breakpoints as f}from\"@guardian/source-foundations\";import{Link as b,SvgClock as C,buttonThemeBrandAlt as y,Button as x,SvgCross as I,LinkButton as E,SvgArrowRightStraight as v}from\"@guardian/source-react-components\";import{StraightLines as M}from\"@guardian/source-react-components-development-kitchen\";function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||U(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function U(e,t){if(e){if(\"string\"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var B=function(e,t){try{t()}catch(t){t instanceof Error&&console.log(\"Error (\".concat(e,\"): \"),t.message)}};var N,R=[\"https://media.guim.co.uk/\",\"https://i.guim.co.uk/\"],O=function(e){var t=e.header,n=e.frequency,r=e.paragraph1,a=e.imageUrl,o=e.newsletterId,i=e.ophanComponentId;return!!(t&&n&&r&&a&&o&&i)&&(!!function(e){return R.some((function(t){return e.startsWith(t)}))}(a)||(console.log(\"Image URL \".concat(a,\" is not allowed\")),!1))};var D,G,L={button:r(\"background-color:\",i[400],\";color:\",c[100],\";&:hover{background-color:\",i[400],\";}\",\"\"),thankYouText:r(s.medium({fontWeight:\"bold\"}),\";color:\",c[0],\";\",\"\"),errorText:r(s.medium({fontWeight:\"bold\"}),\";color:\",c[0],\";margin-bottom:16px;\",\"\"),newslettersLinkPeriod:r(\"color:\",c[0],\";\",\"\")},_=function(e){return n(o,{theme:y},n(x,{css:L.button,onClick:e.onSignUpClick},\"Sign up\"))},H=function(r){var a=r.subscribeToNewsletter,o=r.newsletterId,i=r.ophanComponentId,c=r.trackClick,s=P(t(\"DEFAULT\"),2),l=s[0],u=s[1],p=function(){u(\"IN_PROGRESS\");c({internalButtonId:0,ophanComponentId:i}),a(o).then((function(){return u(\"SUCCESS\")})).catch((function(){u(\"FAILURE\")}))};switch(l){case\"DEFAULT\":return n(_,{onSignUpClick:p});case\"FAILURE\":return n(e.Fragment,null,n(\"div\",{css:L.errorText},\"There was an error signing up to the newsletter. Please try again\"),n(_,{onSignUpClick:p}));case\"IN_PROGRESS\":return n(K,null);case\"SUCCESS\":return n(e.Fragment,null,n(\"div\",{css:L.thankYouText},\"Thank you.\"),n(\"div\",null,n(b,{href:\"https://manage.theguardian.com/email-prefs\",priority:\"primary\"},\"Manage my newsletters\"),n(\"span\",{css:L.newslettersLinkPeriod},\".\")))}},z=r(\"circle{animation:\",a(N||(D=[\"\\n    0% {\\n        transform: scale(1);\\n        filter: brightness(1);\\n    }\\n    15% {\\n        transform: scale(1.333);\\n        filter: brightness(0.7);\\n    }\\n    30% {\\n        transform: scale(1);\\n        filter: brightness(1);\\n    }\\n\"],G||(G=D.slice(0)),N=Object.freeze(Object.defineProperties(D,{raw:{value:Object.freeze(G)}})))),\" 1.5s ease infinite;}#dot_1{animation-delay:0ms;transform-origin:3px 3.5px;}#dot_2{animation-delay:400ms;transform-origin:17.4px 3.5px;}#dot_3{animation-delay:800ms;transform-origin:31.7px 3.5px;}\",\"\"),K=function(){return n(\"svg\",{width:\"50\",height:\"17\",viewBox:\"-5 -5 45 12\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",css:z},n(\"g\",{id:\"Dots step 1\"},n(\"g\",{id:\"Group 660\"},n(\"circle\",{id:\"dot_1\",opacity:\"0.5\",cx:\"3.0152\",cy:\"3.56641\",r:\"3\",fill:\"#707070\"}),n(\"circle\",{id:\"dot_2\",opacity:\"0.5\",cx:\"17.3748\",cy:\"3.56641\",r:\"3\",fill:\"#707070\"}),n(\"circle\",{id:\"dot_3\",opacity:\"0.5\",cx:\"31.7348\",cy:\"3.56641\",r:\"3\",fill:\"#707070\"}))))},F={container:{name:\"1r962iv\",styles:\"padding:4px\"},clock:{name:\"1g4x3x3\",styles:\"position:relative;top:2px;margin-right:4px;svg{fill:#999999;height:16px;width:16px;}\"},text:r(\"color:\",c[20],\";\",l.medium(),\" margin-left:4px;\",\"\")},W=function(e){var t=e.frequency;return t?n(\"div\",{css:F.container},n(\"span\",{css:F.clock},n(C,null)),n(\"span\",{css:F.text},t)):null};var j={epicContainer:r(\"padding:4px 8px 12px;border-top:1px solid \",i[400],\";background-color:\",c[97],\";display:flex;flex-direction:row;max-width:620px;\",\"\"),rightSection:{name:\"h044v7\",styles:\"padding-left:12px\"},image:r(\"width:196px;\",u.desktop,\"{width:96px;}\",\"\"),heading:r(p.small({fontWeight:\"bold\"}),\";margin:0;max-width:100%;\",d.mobileLandscape,\"{\",p.small({fontWeight:\"bold\"}),\";}\",d.tablet,\"{max-width:100%;}\",\"\"),paragraph:r(s.medium(),\" line-height:135%;margin:\",m[5],\"px 0 \",m[5],\"px;max-width:100%;color:\",c[0],\";\",d.phablet,\"{max-width:90%;}\",d.tablet,\"{max-width:100%;}\",d.desktop,\"{margin:\",m[3],\"px 0 \",m[4],\"px;max-width:42rem;}\",d.leftCol,\"{max-width:37rem;}\",d.wide,\"{max-width:42rem;}\",\"\")},Z=function(e){var t=e.brazeMessageProps,r=t.header,a=t.frequency,i=t.paragraph1,c=t.paragraph2,s=t.imageUrl,l=t.newsletterId,u=t.ophanComponentId,p=e.subscribeToNewsletter,d=e.trackClick;return O(e.brazeMessageProps)?n(o,{theme:g},n(\"section\",{css:j.epicContainer},n(\"div\",null,n(\"img\",{css:j.image,src:s})),n(\"div\",{css:j.rightSection},n(\"span\",{css:j.heading},r),n(W,{frequency:a}),n(\"p\",{css:j.paragraph},i),c?n(\"p\",{css:j.paragraph},c):null,n(H,{subscribeToNewsletter:p,newsletterId:l,ophanComponentId:u,trackClick:d})))):null};var Y={name:\"bjn8wh\",styles:\"position:relative\"},q=r(\"svg{fill:\",c[7],\";}\",\"\"),V=r(\"display:none;position:absolute;top:15px;right:0;z-index:99999;\",d.tablet,\"{display:block;}\",\"\"),J=r(s.medium(),\";margin:0;a{color:\",c[0],\";}\",\"\"),Q=r(p.xxsmall({fontWeight:\"bold\"}),\";margin:\",m[2],\"px 0;\",\"\"),$=function(e){var t=e.remindMeConfirmationText,r=e.remindMeConfirmationHeaderText,a=e.onClose;return n(\"div\",{css:Y},n(\"div\",{css:V},n(x,{onClick:function(){return a()},icon:n(I,null),priority:\"subdued\",size:\"small\",hideLabel:!0,css:q},\"Close\")),n(M,null),r&&n(\"h4\",{css:Q},r),n(\"p\",{css:J},t,\" You can manage your email preferences in the My Account area,\",\" \",n(\"a\",{href:\"https://manage.theguardian.com/email-prefs\"},\"emails and marketing section\"),\".\"))},X=r(\"margin:\",m[4],\"px \",m[2],\"px \",m[1],\"px 0;display:flex;flex-wrap:wrap;align-items:center;&.hidden{display:none;}\",\"\"),ee=r(\"display:inline-block;width:auto;height:25px;margin:\",m[1],\"px 0;\",\"\"),te=r(\"margin:\",m[1],\"px \",m[2],\"px \",m[1],\"px 0;\",\"\"),ne={textPrimary:c[7],backgroundPrimary:h[400],backgroundPrimaryHover:h[300],textSecondary:c[7],backgroundSecondary:c[93],backgroundSecondaryHover:c[86],borderSecondary:c[86]},re={button:ne,link:ne},ae=r(\"border:1px solid \",c[7],\"!important;background-color:transparent!important;color:\",c[7],\"!important;:hover{background-color:\",c[86],\"!important;}\",\"\"),oe=function(e){var t=e.buttonUrl,r=e.buttonText,a=e.trackClick;return n(\"div\",{css:te},n(o,{theme:re},n(E,{href:t,icon:n(v,null),iconSide:\"right\",target:\"_blank\",rel:\"noopener noreferrer\",priority:\"primary\",onClick:function(){return a(0)}},r)))},ie=function(e){var t=e.remindMeButtonText,r=e.onClick;return n(\"div\",{css:te},n(o,{theme:re},n(x,{onClick:function(){return r()},priority:\"tertiary\",css:ae},t)))},ce=function(){return n(\"img\",{width:422,height:60,src:\"https://assets.guim.co.uk/images/acquisitions/2db3a266287f452355b68d4240df8087/payment-methods.png\",alt:\"Accepted payment methods: Visa, Mastercard, American Express and PayPal\",css:ee})},se=function(e){var r=e.buttonText,a=e.buttonUrl,o=e.remindMeButtonText,i=e.remindMeConfirmationText,c=e.remindMeConfirmationHeaderText,s=e.trackClick,l=e.hidePaymentIcons,u=P(t(\"DEFAULT\"),2),p=u[0],d=u[1],m=\"true\"!==l;return\"REMINDER_CONFIRMED\"===p?n($,{remindMeConfirmationText:i,remindMeConfirmationHeaderText:c,onClose:function(){return d(\"REMINDER_CONFIRMATION_CLOSED\")}}):\"REMINDER_CONFIRMATION_CLOSED\"===p?n(\"div\",{css:X},n(oe,{buttonText:r,buttonUrl:a,trackClick:s}),n(ce,null)):n(\"div\",{css:X},n(oe,{buttonText:r,buttonUrl:a,trackClick:s}),o&&i&&n(ie,{remindMeButtonText:o,onClick:function(){s(1),d(\"REMINDER_CONFIRMED\")}}),m&&n(ce,null))},le={GBPCountries:{name:\"United Kingdom\",currency:\"GBP\",countries:[\"GB\",\"FK\",\"GI\",\"GG\",\"IM\",\"JE\",\"SH\"],supportRegionId:\"UK\"},UnitedStates:{name:\"United States\",currency:\"USD\",countries:[\"US\"],supportRegionId:\"US\"},AUDCountries:{name:\"Australia\",currency:\"AUD\",countries:[\"AU\",\"KI\",\"NR\",\"NF\",\"TV\"],supportRegionId:\"AU\"},EURCountries:{name:\"Europe\",currency:\"EUR\",countries:[\"AD\",\"AL\",\"AT\",\"BA\",\"BE\",\"BG\",\"BL\",\"CH\",\"CY\",\"CZ\",\"DE\",\"DK\",\"EE\",\"ES\",\"FI\",\"FO\",\"FR\",\"GF\",\"GL\",\"GP\",\"GR\",\"HR\",\"HU\",\"IE\",\"IT\",\"LI\",\"LT\",\"LU\",\"LV\",\"MC\",\"ME\",\"MF\",\"IS\",\"MQ\",\"MT\",\"NL\",\"NO\",\"PF\",\"PL\",\"PM\",\"PT\",\"RE\",\"RO\",\"RS\",\"SE\",\"SI\",\"SJ\",\"SK\",\"SM\",\"TF\",\"TR\",\"WF\",\"YT\",\"VA\",\"AX\"],supportRegionId:\"EU\"},International:{name:\"International\",currency:\"USD\",countries:[\"AE\",\"AF\",\"AG\",\"AI\",\"AM\",\"AO\",\"AQ\",\"AR\",\"AS\",\"AW\",\"AZ\",\"BB\",\"BD\",\"BF\",\"BH\",\"BI\",\"BJ\",\"BM\",\"BN\",\"BO\",\"BQ\",\"BR\",\"BS\",\"BT\",\"BV\",\"BW\",\"BY\",\"BZ\",\"CC\",\"CD\",\"CF\",\"CG\",\"CI\",\"CL\",\"CM\",\"CN\",\"CO\",\"CR\",\"CU\",\"CV\",\"CW\",\"CX\",\"DJ\",\"DM\",\"DO\",\"DZ\",\"EC\",\"EG\",\"EH\",\"ER\",\"ET\",\"FJ\",\"FM\",\"GA\",\"GD\",\"GE\",\"GH\",\"GM\",\"GN\",\"GQ\",\"GS\",\"GT\",\"GU\",\"GW\",\"GY\",\"HK\",\"HM\",\"HN\",\"HT\",\"ID\",\"IL\",\"IN\",\"IO\",\"IQ\",\"IR\",\"JM\",\"JO\",\"JP\",\"KE\",\"KG\",\"KH\",\"KM\",\"KN\",\"KP\",\"KR\",\"KW\",\"KY\",\"KZ\",\"LA\",\"LB\",\"LC\",\"LK\",\"LR\",\"LS\",\"LY\",\"MA\",\"MD\",\"MG\",\"MH\",\"MK\",\"ML\",\"MM\",\"MN\",\"MO\",\"MP\",\"MR\",\"MS\",\"MU\",\"MV\",\"MW\",\"MX\",\"MY\",\"MZ\",\"NA\",\"NC\",\"NE\",\"NG\",\"NI\",\"NP\",\"NU\",\"OM\",\"PA\",\"PE\",\"PG\",\"PH\",\"PK\",\"PN\",\"PR\",\"PS\",\"PW\",\"PY\",\"QA\",\"RU\",\"RW\",\"SA\",\"SB\",\"SC\",\"SD\",\"SG\",\"SL\",\"SN\",\"SO\",\"SR\",\"SS\",\"ST\",\"SV\",\"SX\",\"SY\",\"SZ\",\"TC\",\"TD\",\"TG\",\"TH\",\"TJ\",\"TK\",\"TL\",\"TM\",\"TN\",\"TO\",\"TT\",\"TW\",\"TZ\",\"UA\",\"UG\",\"UM\",\"UY\",\"UZ\",\"VC\",\"VE\",\"VG\",\"VI\",\"VN\",\"VU\",\"WS\",\"YE\",\"ZA\",\"ZM\",\"ZW\"],supportRegionId:\"INT\"},NZDCountries:{name:\"New Zealand\",currency:\"NZD\",countries:[\"NZ\",\"CK\"],supportRegionId:\"NZ\"},Canada:{name:\"Canada\",currency:\"CAD\",countries:[\"CA\"],supportRegionId:\"CA\"}},ue={GB:\"the UK\",US:\"the US\",AU:\"Australia\",CA:\"Canada\",DE:\"Germany\",NZ:\"New Zealand\",FR:\"France\",NL:\"the Netherlands\",IE:\"Ireland\",SE:\"Sweden\",CH:\"Switzerland\",NO:\"Norway\",BE:\"Belgium\",IT:\"Italy\",IN:\"India\",ES:\"Spain\",DK:\"Denmark\",SG:\"Singapore\",AT:\"Austria\",FI:\"Finland\",HK:\"Hong Kong\",LU:\"Luxembourg\",PT:\"Portugal\",AE:\"the UAE\",MX:\"Mexico\",BR:\"Brazil\",ZA:\"South Africa\",TW:\"Taiwan\",IL:\"Israel\",JP:\"Japan\",CZ:\"the Czech Republic\",GR:\"Greece\",IS:\"Iceland\",TH:\"Thailand\",MY:\"Malaysia\",RO:\"Romania\",PL:\"Poland\",HU:\"Hungary\",TR:\"Turkey\",KR:\"Korea\",SI:\"Slovenia\",CL:\"Chile\",CO:\"Colombia\",QA:\"Qatar\",HR:\"Croatia\",SK:\"Slovakia\",ID:\"Indonesia\",VN:\"Vietnam\",CN:\"China\",MT:\"Malta\",AR:\"Argentina\",KE:\"Kenya\",PR:\"Puerto Rico\",RU:\"Russia\",EE:\"Estonia\",CR:\"Costa Rica\",PA:\"Panama\"},pe={GBPCountries:\"£\",UnitedStates:\"$\",AUDCountries:\"$\",Canada:\"CA$\",EURCountries:\"€\",NZDCountries:\"NZ$\",International:\"$\"},de=function(e){if(e){var t=(n=e,Object.keys(le).find((function(e){return le[e].countries.includes(n)}))||\"International\");return pe[t]}var n;return\"£\"},me=[\"%%CURRENCY_SYMBOL%%\",\"%%COUNTRY_NAME%%\"],ge=function(e,t){var n;if(!e)return\"\";e=e.replace(/%%CURRENCY_SYMBOL%%/g,de(t));var r=null!==(n=function(e){if(e)return ue[e]}(t))&&void 0!==n?n:\"\";return e=r?e.replace(/%%COUNTRY_NAME%%/g,r):e},he=/%%.*?%%/g,fe=function(e){var t,n,r=e.buttonText,a=e.buttonUrl,o=e.ophanComponentId,i=e.highlightedText,c=be(e),s=(i||\"\")+\" \"+c.join(\" \"),l=!!(n=null===(t=s.match(he))||void 0===t?void 0:t.filter((function(e){return!me.includes(\"\".concat(e))})))&&n.length>0;return Boolean(r&&a&&o&&c.length>0&&!l)},be=function(e){var t,n=[],r=function(e,t){var n=\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(!n){if(Array.isArray(e)||(n=U(e))||t&&e&&\"number\"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}(Object.keys(e).filter((function(e){return/^paragraph\\d$/.test(e)})).sort());try{for(r.s();!(t=r.n()).done;){var a=e[t.value];a&&n.push(a)}}catch(e){r.e(e)}finally{r.f()}return n};var Ce={picture:r(\"\",\"\"),rightContainer:{name:\"82a6rk\",styles:\"flex:1\"},image:{name:\"1clo8ee\",styles:\"height:auto;width:100%;object-fit:cover\"},container:r(\"display:none;\",d.tablet,\"{display:flex;align-items:center;padding:\",m[1],\"px \",m[1],\"px 0;}\",\"\"),leftContainer:r(\"flex:3;margin-right:\",m[4],\"px;\",\"\"),text:r(p.large({fontWeight:\"bold\"}),\";line-height:1.35;\",\"\"),imageCaptionContainer:r(\"\",\"\"),imageCaption:r(s.medium(),\" margin:0;\",\"\"),imageCaptionBold:r(s.medium({fontWeight:\"bold\"}),\";\",\"\"),imageCaptionItalic:r(s.medium({fontStyle:\"italic\"}),\";\",\"\")},ye=function(e){var t=e.authoredEpicImageUrl,r=e.authoredEpicImageAltText,a=e.authoredEpicHeader,o=e.authoredEpicBylineName,i=e.authoredEpicBylineCopy1,c=e.authoredEpicBylineCopy2;return n(\"div\",{css:Ce.container},n(\"div\",{css:Ce.leftContainer},a&&n(\"span\",{css:Ce.text},a)),n(\"div\",{css:Ce.rightContainer},n(\"picture\",{css:Ce.picture},n(\"source\",{srcSet:\"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\",media:\"(max-width: \".concat(f.tablet-1,\"px)\")}),n(\"source\",{srcSet:t,media:\"(min-width: \".concat(f.tablet,\"px)\")}),n(\"img\",{css:Ce.image,src:t,alt:r})),n(\"div\",{css:Ce.imageCaptionContainer},n(\"p\",{css:[Ce.imageCaption,Ce.imageCaptionBold,\"\",\"\"]},o),i&&n(\"p\",{css:[Ce.imageCaption,Ce.imageCaptionItalic,\"\",\"\"]},i),c&&n(\"p\",{css:Ce.imageCaption},c))))};var xe,Ie,Ee,ve=r(\"a{color:\",i[400],\";text-decoration:none;}a:hover{text-decoration:underline;}\",\"\"),Me={epicWrapper:{name:\"5mr6hz\",styles:\"max-width:620px\"},epicContainer:r(\"padding:\",m[1],\"px \",m[2],\"px \",m[3],\"px;border-top:1px solid #ffe500;background-color:#f6f6f6;display:flex;flex-direction:column;b,strong{font-weight:bold;}\",\"\"),paragraph:r(\"margin-top:0;margin-bottom:\",m[2],\"px;\",s.medium(),\" \",ve,\";\",\"\"),heading:r(p.xxsmall({fontWeight:\"bold\"}),\" margin-top:0;margin-bottom:\",m[3],\"px;\",\"\"),highlightText:r(s.medium({fontWeight:\"bold\"}),\" \",ve,\" padding:2px;background-color:\",h[400],\";\",\"\")},Ae=function(e){var t=e.brazeMessageProps,r=t.heading,a=t.buttonText,i=t.buttonUrl,c=t.highlightedText,s=t.remindMeButtonText,l=t.remindMeConfirmationHeaderText,u=t.remindMeConfirmationText,p=t.ophanComponentId,d=t.hidePaymentIcons,m=t.authoredEpicHeader,h=t.authoredEpicImageUrl,f=t.authoredEpicImageAltText,b=t.authoredEpicBylineName,C=t.authoredEpicBylineCopy1,y=t.authoredEpicBylineCopy2,x=e.countryCode,I=e.trackClick;if(!fe(e.brazeMessageProps))return null;var E=be(e.brazeMessageProps).map((function(e){return ge(e,x)})),v=ge(c,x);return n(o,{theme:g},n(\"div\",{css:Me.epicWrapper},n(\"section\",{css:Me.epicContainer},null!=h&&null!=f&&null!=b&&n(ye,{authoredEpicImageUrl:h,authoredEpicImageAltText:f,authoredEpicHeader:m,authoredEpicBylineName:b,authoredEpicBylineCopy1:C,authoredEpicBylineCopy2:y}),n(\"div\",{css:Me.heading},r),E.map((function(e,t){return n(\"p\",{key:\"paragraph\"+t,css:Me.paragraph},n(\"span\",{dangerouslySetInnerHTML:{__html:e}}),v.length>0&&t===E.length-1?n(\"span\",{css:Me.highlightText,dangerouslySetInnerHTML:{__html:v}}):null)})),n(se,{buttonText:a,buttonUrl:i,hidePaymentIcons:d,remindMeButtonText:s,remindMeConfirmationText:u,remindMeConfirmationHeaderText:l,trackClick:function(e){return I({internalButtonId:e,ophanComponentId:p})}}))))},Se=(T(xe={},\"Epic\",Ae),T(xe,\"EpicWithSpecialHeader\",(function(e){return n(Ae,e)})),T(xe,\"NewsletterEpic\",Z),T(xe,\"USNewsletterEpic\",(function(e){return function(e){var t=e.header,n=e.frequency,r=e.paragraph1,a=e.ophanComponentId;return Boolean(t&&n&&r&&a)}(e.brazeMessageProps)?n(Z,w({},e,{brazeMessageProps:S(S({},e.brazeMessageProps),{},{imageUrl:\"https://i.guim.co.uk/img/media/d0944e021b1cc7426f515fecc8034f12b7862041/0_0_784_784/master/784.png?width=196&quality=45&auto=format&s=cca73e857c5093f39ef7a2a9dc2e7ce7\",newsletterId:\"4300\"})})):null})),T(xe,\"AUNewsletterEpic\",(function(e){return function(e){var t=e.header,n=e.frequency,r=e.paragraph1,a=e.ophanComponentId;return Boolean(t&&n&&r&&a)}(e.brazeMessageProps)?n(Z,w({},e,{brazeMessageProps:S(S({},e.brazeMessageProps),{},{imageUrl:\"https://i.guim.co.uk/img/media/9f9f9c06ed5a323b13be816d5c160728c81d1bf9/0_0_784_784/master/784.png?width=196&quality=45&auto=format&s=87f06d1d5322f1fb8e2262d202f70e99\",newsletterId:\"4148\"})})):null})),T(xe,\"UKNewsletterEpic\",(function(e){return function(e){var t=e.header,n=e.frequency,r=e.paragraph1,a=e.ophanComponentId;return Boolean(t&&n&&r&&a)}(e.brazeMessageProps)?n(Z,w({},e,{brazeMessageProps:S(S({},e.brazeMessageProps),{},{imageUrl:\"https://i.guim.co.uk/img/media/568c6031be78dab6f6c28336010884f3ebd0f97c/0_0_1936_1936/master/1936.png?width=196&quality=45&auto=format&s=2a3630e9625620d5726c31c5cdbf4772\",newsletterId:\"4156\"})})):null})),T(xe,\"DownToEarthNewsletterEpic\",(function(e){return function(e){var t=e.header,n=e.frequency,r=e.paragraph1,a=e.ophanComponentId;return Boolean(t&&n&&r&&a)}(e.brazeMessageProps)?n(Z,w({},e,{brazeMessageProps:S(S({},e.brazeMessageProps),{},{imageUrl:\"https://i.guim.co.uk/img/media/591152b12591385d278b2c112d31a561a40a2e2d/0_1_648_648/648.png?width=196&s=be117e8d22a0c389daf49b369f726915\",newsletterId:\"4147\"})})):null})),T(xe,\"EpicNewsletter_AU_AfternoonUpdate\",(function(e){return function(e){var t=e.header,n=e.frequency,r=e.paragraph1,a=e.ophanComponentId;return Boolean(t&&n&&r&&a)}(e.brazeMessageProps)?n(Z,w({},e,{brazeMessageProps:S(S({},e.brazeMessageProps),{},{imageUrl:\"https://i.guim.co.uk/img/media/1abda073e6d4069ca058a190830a723d7b5a6f2a/0_0_200_200/200.png?width=200&quality=75&s=9ae7230c7e040a6c0b3e4248ac70c068\",newsletterId:\"6023\"})})):null})),T(xe,\"EpicNewsletter_TheGuide\",(function(e){return function(e){var t=e.header,n=e.frequency,r=e.paragraph1,a=e.ophanComponentId;return Boolean(t&&n&&r&&a)}(e.brazeMessageProps)?n(Z,w({},e,{brazeMessageProps:S(S({},e.brazeMessageProps),{},{imageUrl:\"https://i.guim.co.uk/img/media/d277750131b8bb53086870cd7e6adea00aadf432/0_0_200_200/200.png?width=200&quality=75&s=7a0d75b73f805685529987bba80cbccb\",newsletterId:\"6006\"})})):null})),xe),Te=(Ie=\"RETENTION_EPIC\",Ee=Se,function(e){var t=Ee[e.componentName];if(!t)return null;var r=function(e){var t=e.submitComponentEvent,n=e.logButtonClickWithBraze,r=e.ophanComponentType;return function(e){var a=e.internalButtonId,o=e.ophanComponentId;B(\"ophanButtonClick\",(function(){t({component:{componentType:r,id:o},action:\"CLICK\",value:(a+1).toString(10)})})),B(\"brazeButtonClick\",(function(){n(a)}))}}({submitComponentEvent:e.submitComponentEvent,logButtonClickWithBraze:e.logButtonClickWithBraze,ophanComponentType:Ie}),a=S(S({},e),{},{trackClick:r});return n(t,a)});export{Te as BrazeEndOfArticleComponent};\n","const handleQuerySurveyDone = (surveyAvailable, survey) => {\n    if (surveyAvailable) {\n        // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition -- @types/googletag declares it, but it may be missing\n        if (window.googletag) {\n            window.googletag.cmd.push(() => {\n                window.googletag.pubads().setTargeting('inizio', 't');\n            });\n        }\n        console.log(`surveyAvailable: ${survey.measurementId}`);\n    }\n};\nconst onLoad = () => {\n    window._brandmetrics || (window._brandmetrics = []);\n    window._brandmetrics.push({\n        cmd: '_querySurvey',\n        val: {\n            callback: handleQuerySurveyDone,\n        },\n    });\n};\n/**\n * Allows creatives to show survey\n * https://trello.com/c/wHffHVF1/171-integrate-and-test-inizio\n * @param  {} {shouldRun}\n */\nexport const inizio = ({ shouldRun }) => ({\n    shouldRun,\n    url: '//cdn.brandmetrics.com/survey/script/e96d04c832084488a841a06b49b8fb2d.js',\n    name: 'inizio',\n    onLoad,\n});\nexport const _ = {\n    onLoad,\n    handleQuerySurveyDone,\n};\n","export const trackEvent = (timingCategory, timingVar, timingLabel) => {\n    const { ga, guardian } = window;\n    const trackerName = guardian.config.googleAnalytics?.trackers.editorial;\n    if (typeof ga !== 'function') {\n        return;\n    }\n    const timeSincePageLoad = Math.round(window.performance.now());\n    const send = trackerName ? `${trackerName}.send` : 'send';\n    window.ga(send, 'timing', timingCategory, timingVar, timeSincePageLoad, timingLabel);\n};\n","import { trackEvent } from './google-analytics';\nclass Event {\n    constructor(name, mark) {\n        this.name = name;\n        this.ts = mark.startTime;\n    }\n}\nclass EventTimer {\n    /**\n     * Initialise the EventTimer class on page.\n     * Returns the singleton instance of the EventTimer class and binds\n     * to window.guardian.commercialTimer. If it's been previously\n     * initialised and bound it returns the original instance\n     * Note: We save to window.guardian.commercialTimer because\n     * different bundles (DCR / DCP) can use commercial core, and we want\n     * all timer events saved to a single instance per-page\n     * @returns {EventTimer} Instance of EventTimer\n     */\n    static init() {\n        var _a;\n        return ((_a = window.guardian).commercialTimer || (_a.commercialTimer = new EventTimer()));\n    }\n    /**\n     * Just a helper method to access the singleton instance of EventTimer.\n     * Typical use case is EventTimer.get().trigger\n     */\n    static get() {\n        return this.init();\n    }\n    /**\n     * Returns all commercial timers. CMP-related timers are not tracked\n     * by EventTimer so they need to be concatenated to EventTimer's private events array.\n     */\n    get events() {\n        return typeof window.performance !== 'undefined' &&\n            'getEntriesByName' in window.performance\n            ? [\n                ...this._events,\n                ...EventTimer._externallyDefinedEventNames\n                    .map((eventName) => {\n                    const entry = window.performance.getEntriesByName(eventName)[0];\n                    return entry\n                        ? new Event(eventName, entry)\n                        : undefined;\n                })\n                    .filter((entry) => entry instanceof Event),\n            ]\n            : this._events;\n    }\n    constructor() {\n        this._events = [];\n        this.startTS = window.performance.now();\n        this.triggers = {\n            first: {\n                slotReady: false,\n                prebidStart: false,\n                prebidEnd: false,\n                slotInitialised: false,\n                adOnPage: false,\n            },\n            'top-above-nav': {\n                slotReady: false,\n                prebidStart: false,\n                prebidEnd: false,\n                slotInitialised: false,\n                adOnPage: false,\n            },\n            page: {\n                commercialStart: false,\n                commercialExtraModulesLoaded: false,\n                commercialBaseModulesLoaded: false,\n                commercialModulesLoaded: false,\n            },\n        };\n        this.gaConfig = {\n            logEvents: [\n                {\n                    timingVariable: 'slotReady',\n                },\n                {\n                    timingVariable: 'slotInitialised',\n                },\n                {\n                    timingVariable: 'commercialStart',\n                    timingLabel: 'Commercial start parse time',\n                },\n                {\n                    timingVariable: 'commercialModulesLoaded',\n                    timingLabel: 'Commercial end parse time',\n                },\n            ],\n        };\n        this.properties = {};\n        if (window.navigator.connection) {\n            this.properties.type = window.navigator.connection.type;\n            this.properties.downlink = window.navigator.connection.downlink;\n            this.properties.effectiveType =\n                window.navigator.connection.effectiveType;\n        }\n    }\n    /**\n     * Adds an event timer property\n     *\n     * @param {string} name - the property's name\n     * @param value - the property's value\n     */\n    setProperty(name, value) {\n        this.properties[name] = value;\n    }\n    /**\n     * Creates a new performance mark\n     * For slot events also ensures each TYPE of event event is marked only once for 'first'\n     * (the first time that event is triggered for ANY slot) and once for topAboveNav\n     *\n     * @param {string} eventName - The short name applied to the mark\n     * @param {origin} [origin=page] - Either 'page' (default) or the name of the slot\n     */\n    trigger(eventName, origin = 'page') {\n        const TRACKED_SLOT_NAME = 'top-above-nav';\n        if (origin === 'page' &&\n            !this.triggers.page[eventName]) {\n            this.mark(eventName);\n            this.trackInGA(eventName);\n            this.triggers.page[eventName] = true;\n            return;\n        }\n        if (!this.triggers.first[eventName]) {\n            const trackLabel = `first-${eventName}`;\n            this.mark(trackLabel);\n            this.trackInGA(eventName, trackLabel);\n            this.triggers.first[eventName] = true;\n        }\n        if (origin === TRACKED_SLOT_NAME) {\n            if (!this.triggers[TRACKED_SLOT_NAME][eventName]) {\n                const trackLabel = `${TRACKED_SLOT_NAME}-${eventName}`;\n                this.mark(trackLabel);\n                this.trackInGA(eventName, trackLabel);\n                this.triggers[TRACKED_SLOT_NAME][eventName] = true;\n            }\n        }\n    }\n    mark(name) {\n        const longName = `gu.commercial.${name}`;\n        if (typeof window.performance !== 'undefined' &&\n            'mark' in window.performance &&\n            typeof window.performance.mark === 'function') {\n            const mark = window.performance.mark(longName);\n            // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition -- browser support is patchy\n            if (typeof mark?.startTime === 'number') {\n                this._events.push(new Event(name, mark));\n            }\n        }\n    }\n    trackInGA(eventName, label = '') {\n        const gaEvent = this.gaConfig.logEvents.find((e) => e.timingVariable === eventName);\n        if (gaEvent) {\n            const labelToUse = gaEvent.timingLabel ?? label;\n            trackEvent('Commercial Events', gaEvent.timingVariable, labelToUse);\n        }\n    }\n}\nEventTimer._externallyDefinedEventNames = [\n    'cmp-init',\n    'cmp-ui-displayed',\n    'cmp-got-consent',\n];\nexport { EventTimer };\n","import { onConsent } from '@guardian/consent-management-platform';\nimport { log } from '@guardian/libs';\nimport { EventTimer } from './event-timer';\nvar Endpoints;\n(function (Endpoints) {\n    Endpoints[\"CODE\"] = \"//performance-events.code.dev-guardianapis.com/commercial-metrics\";\n    Endpoints[\"PROD\"] = \"//performance-events.guardianapis.com/commercial-metrics\";\n})(Endpoints || (Endpoints = {}));\nlet commercialMetricsPayload = {\n    page_view_id: undefined,\n    browser_id: undefined,\n    platform: 'NEXT_GEN',\n    metrics: [],\n    properties: [],\n};\nlet devProperties = [];\nlet adBlockerProperties = [];\nlet initialised = false;\nlet endpoint;\nconst setEndpoint = (isDev) => (endpoint = isDev ? Endpoints.CODE : Endpoints.PROD);\nconst setDevProperties = (isDev) => (devProperties = isDev\n    ? [{ name: 'isDev', value: window.location.hostname }]\n    : []);\nconst setAdBlockerProperties = (adBlockerInUse) => {\n    adBlockerProperties =\n        adBlockerInUse !== undefined\n            ? [\n                {\n                    name: 'adBlockerInUse',\n                    value: adBlockerInUse.toString(),\n                },\n            ]\n            : [];\n};\nconst transformToObjectEntries = (eventTimerProperties) => {\n    // Transforms object {key: value} pairs into an array of [key, value] arrays\n    return Object.entries(eventTimerProperties);\n};\nconst mapEventTimerPropertiesToString = (properties) => {\n    return properties.map(([name, value]) => ({\n        name: String(name),\n        value: String(value),\n    }));\n};\nconst roundTimeStamp = (events) => {\n    return events.map(({ name, ts }) => ({\n        name,\n        value: Math.ceil(ts),\n    }));\n};\nfunction sendMetrics() {\n    log('commercial', 'About to send commercial metrics', commercialMetricsPayload);\n    return navigator.sendBeacon(endpoint, JSON.stringify(commercialMetricsPayload));\n}\n/**\n * Gather how many times the user has experienced the “offline” event\n * @see https://developer.mozilla.org/en-US/docs/Web/API/Window/offline_event\n *\n * This value should be fetched as late as possible in the page lifecycle,\n * to get an accurate value.\n *\n * Relevant for an @guardian/open-journalism investigation.\n */\nconst getOfflineCount = () => typeof window.guardian.offlineCount === 'number'\n    ? [\n        {\n            name: 'offlineCount',\n            value: window.guardian.offlineCount,\n        },\n    ]\n    : [];\nfunction gatherMetricsOnPageUnload() {\n    // Assemble commercial properties and metrics\n    const eventTimer = EventTimer.get();\n    const transformedEntries = transformToObjectEntries(eventTimer.properties);\n    const filteredEventTimerProperties = transformedEntries.filter((item) => typeof item[1] !== 'undefined');\n    const mappedEventTimerProperties = mapEventTimerPropertiesToString(filteredEventTimerProperties);\n    const properties = mappedEventTimerProperties\n        .concat(devProperties)\n        .concat(adBlockerProperties);\n    commercialMetricsPayload.properties = properties;\n    const metrics = roundTimeStamp(eventTimer.events).concat(getOfflineCount());\n    commercialMetricsPayload.metrics = metrics;\n    sendMetrics();\n}\nconst listener = (e) => {\n    switch (e.type) {\n        case 'visibilitychange':\n            if (document.visibilityState === 'hidden') {\n                gatherMetricsOnPageUnload();\n            }\n            return;\n        case 'pagehide':\n            gatherMetricsOnPageUnload();\n            return;\n    }\n};\nconst addVisibilityListeners = () => {\n    // Report all available metrics when the page is unloaded or in background.\n    window.addEventListener('visibilitychange', listener, { once: true });\n    // Safari does not reliably fire the `visibilitychange` on page unload.\n    window.addEventListener('pagehide', listener, { once: true });\n};\nconst checkConsent = async () => {\n    const consentState = await onConsent();\n    if (consentState.tcfv2) {\n        // TCFv2 mode - check for consent\n        const consents = consentState.tcfv2.consents;\n        const REQUIRED_CONSENTS = [7, 8];\n        return REQUIRED_CONSENTS.every((consent) => consents[consent]);\n    }\n    // non-TCFv2 mode - don't check for consent\n    return true;\n};\n/**\n * A method to asynchronously send metrics after initialization.\n */\nasync function bypassCommercialMetricsSampling() {\n    if (!initialised) {\n        console.warn('initCommercialMetrics not yet initialised');\n        return;\n    }\n    const consented = await checkConsent();\n    if (consented) {\n        addVisibilityListeners();\n    }\n    else {\n        log('commercial', \"Metrics won't be sent because consent wasn't given\");\n    }\n}\n/**\n * A method to initialise metrics.\n * @param init.pageViewId - identifies the page view. Usually available on `guardian.config.ophan.pageViewId`. Defaults to `null`\n * @param init.browserId - identifies the browser. Usually available via `getCookie({ name: 'bwid' })`. Defaults to `null`\n * @param init.isDev - used to determine whether to use CODE or PROD endpoints.\n * @param init.adBlockerInUse - indicates whether or not an adblocker is being used.\n * @param init.sampling - rate at which to sample commercial metrics - the default is to send for 1% of pageviews\n */\nasync function initCommercialMetrics({ pageViewId, browserId, isDev, adBlockerInUse, sampling = 1 / 100, }) {\n    commercialMetricsPayload.page_view_id = pageViewId;\n    commercialMetricsPayload.browser_id = browserId;\n    setEndpoint(isDev);\n    setDevProperties(isDev);\n    setAdBlockerProperties(adBlockerInUse);\n    if (initialised) {\n        return false;\n    }\n    initialised = true;\n    const userIsInSamplingGroup = Math.random() <= sampling;\n    if (isDev || userIsInSamplingGroup) {\n        const consented = await checkConsent();\n        if (consented) {\n            addVisibilityListeners();\n            return true;\n        }\n        else {\n            log('commercial', \"Metrics won't be sent because consent wasn't given\");\n        }\n    }\n    return false;\n}\nexport const _ = {\n    Endpoints,\n    setEndpoint,\n    mapEventTimerPropertiesToString,\n    roundTimeStamp,\n    transformToObjectEntries,\n    reset: () => {\n        initialised = false;\n        commercialMetricsPayload = {\n            page_view_id: undefined,\n            browser_id: undefined,\n            platform: 'NEXT_GEN',\n            metrics: [],\n            properties: [],\n        };\n        removeEventListener('visibilitychange', listener);\n        removeEventListener('pagehide', listener);\n    },\n};\nexport { bypassCommercialMetricsSampling, initCommercialMetrics };\n","/**\n * Store ad sizes in a way that is compatible with google-tag but also accessible via\n * more semantic `width`/`height` properties and keep things readonly.\n *\n * example:\n * const size = new AdSize([300, 250]);\n *\n * size.width === 300; // true\n * size[0] === 300; // true\n *\n * size.height === 250; // true\n * size[1] === 250; // true\n *\n * size[0] = 200; // throws error\n * size.width = 200; // throws error\n *\n */\nclass AdSize extends Array {\n    constructor([width, height]) {\n        super();\n        this[0] = width;\n        this[1] = height;\n    }\n    toString() {\n        return this.width === 0 && this.height === 0\n            ? 'fluid'\n            : `${this.width},${this.height}`;\n    }\n    toArray() {\n        return [this[0], this[1]];\n    }\n    // The advert size is not reflective of the actual size of the advert.\n    // For example, fluid ads and Guardian merch ads are larger than the dimensions\n    isProxy() {\n        const isOutOfPage = this.width === 1 && this.height === 1;\n        const isEmpty = this.width === 2 && this.height === 2;\n        const isFluid = this.toString() === 'fluid';\n        const isMerch = this.width === 88;\n        return isOutOfPage || isEmpty || isFluid || isMerch;\n    }\n    get width() {\n        return this[0];\n    }\n    get height() {\n        return this[1];\n    }\n}\nconst createAdSize = (width, height) => {\n    return new AdSize([width, height]);\n};\nconst namedStandardAdSizes = {\n    billboard: createAdSize(970, 250),\n    halfPage: createAdSize(300, 600),\n    leaderboard: createAdSize(728, 90),\n    mobilesticky: createAdSize(320, 50),\n    mpu: createAdSize(300, 250),\n    portrait: createAdSize(300, 1050),\n    skyscraper: createAdSize(160, 600),\n    cascade: createAdSize(940, 230),\n    portraitInterstitial: createAdSize(320, 480),\n};\nconst standardAdSizes = {\n    '970x250': namedStandardAdSizes.billboard,\n    '300x600': namedStandardAdSizes.halfPage,\n    '728x90': namedStandardAdSizes.leaderboard,\n    '300x250': namedStandardAdSizes.mpu,\n    '300x1050': namedStandardAdSizes.portrait,\n    '160x600': namedStandardAdSizes.skyscraper,\n};\nconst outstreamSizes = {\n    outstreamDesktop: createAdSize(620, 350),\n    outstreamGoogleDesktop: createAdSize(550, 310),\n    outstreamMobile: createAdSize(300, 197),\n};\n/**\n * Ad sizes commonly associated with third parties\n */\nconst proprietaryAdSizes = {\n    fluid: createAdSize(0, 0),\n    googleCard: createAdSize(300, 274),\n    outOfPage: createAdSize(1, 1),\n};\n/**\n * Ad sizes associated with in-house formats\n */\nconst guardianProprietaryAdSizes = {\n    empty: createAdSize(2, 2),\n    fabric: createAdSize(88, 71),\n    inlineMerchandising: createAdSize(88, 85),\n    merchandising: createAdSize(88, 88),\n    merchandisingHigh: createAdSize(88, 87),\n    merchandisingHighAdFeature: createAdSize(88, 89),\n};\nconst adSizes = {\n    ...namedStandardAdSizes,\n    ...standardAdSizes,\n    ...outstreamSizes,\n    ...proprietaryAdSizes,\n    ...guardianProprietaryAdSizes,\n};\n/**\n * mark: 432b3a46-90c1-4573-90d3-2400b51af8d0\n * Some of these may or may not need to be synced for with the sizes in ./create-ad-slot.ts\n * these were originally from DCR, create-ad-slot.ts ones were in frontend.\n **/\nconst slotSizeMappings = {\n    inline: {\n        mobile: [\n            adSizes.outOfPage,\n            adSizes.empty,\n            adSizes.outstreamMobile,\n            adSizes.mpu,\n            adSizes.googleCard,\n            adSizes.fluid,\n        ],\n        phablet: [\n            adSizes.outOfPage,\n            adSizes.empty,\n            adSizes.outstreamMobile,\n            adSizes.mpu,\n            adSizes.googleCard,\n            adSizes.fluid,\n        ],\n        desktop: [\n            adSizes.outOfPage,\n            adSizes.empty,\n            adSizes.mpu,\n            adSizes.googleCard,\n            adSizes.fluid,\n        ],\n    },\n    right: {\n        mobile: [\n            adSizes.outOfPage,\n            adSizes.empty,\n            adSizes.mpu,\n            adSizes.googleCard,\n            adSizes.halfPage,\n            adSizes.fluid,\n        ],\n    },\n    comments: {\n        mobile: [\n            adSizes.outOfPage,\n            adSizes.empty,\n            adSizes.outstreamMobile,\n            adSizes.mpu,\n            adSizes.googleCard,\n            adSizes.fluid,\n        ],\n        phablet: [\n            adSizes.outOfPage,\n            adSizes.empty,\n            adSizes.outstreamMobile,\n            adSizes.mpu,\n            adSizes.googleCard,\n            adSizes.fluid,\n        ],\n        desktop: [\n            adSizes.outOfPage,\n            adSizes.empty,\n            adSizes.mpu,\n            adSizes.googleCard,\n            adSizes.fluid,\n        ],\n    },\n    'comments-expanded': {\n        mobile: [\n            adSizes.outOfPage,\n            adSizes.empty,\n            adSizes.mpu,\n            adSizes.googleCard,\n            adSizes.fluid,\n            adSizes.skyscraper,\n            adSizes.halfPage,\n        ],\n    },\n    'top-above-nav': {\n        mobile: [\n            adSizes.outOfPage,\n            adSizes.empty,\n            adSizes.fabric,\n            adSizes.outstreamMobile,\n            adSizes.mpu,\n            adSizes.fluid,\n        ],\n        tablet: [\n            adSizes.outOfPage,\n            adSizes.empty,\n            adSizes.fabric,\n            adSizes.fluid,\n            adSizes.leaderboard,\n        ],\n        desktop: [\n            adSizes.outOfPage,\n            adSizes.empty,\n            adSizes.leaderboard,\n            createAdSize(940, 230),\n            createAdSize(900, 250),\n            adSizes.billboard,\n            adSizes.fabric,\n            adSizes.fluid,\n        ],\n    },\n    mostpop: {\n        mobile: [\n            adSizes.outOfPage,\n            adSizes.empty,\n            adSizes.mpu,\n            adSizes.googleCard,\n            adSizes.fluid,\n        ],\n        phablet: [\n            adSizes.outOfPage,\n            adSizes.empty,\n            adSizes.outstreamMobile,\n            adSizes.mpu,\n            adSizes.googleCard,\n            adSizes.halfPage,\n            adSizes.fluid,\n        ],\n        tablet: [\n            adSizes.outOfPage,\n            adSizes.empty,\n            adSizes.mpu,\n            adSizes.googleCard,\n            adSizes.halfPage,\n            adSizes.leaderboard,\n            adSizes.fluid,\n        ],\n        desktop: [\n            adSizes.outOfPage,\n            adSizes.empty,\n            adSizes.mpu,\n            adSizes.googleCard,\n            adSizes.halfPage,\n            adSizes.fluid,\n        ],\n    },\n    im: {\n        mobile: [\n            adSizes.outOfPage,\n            adSizes.empty,\n            adSizes.inlineMerchandising,\n            adSizes.fluid,\n        ],\n    },\n    'merchandising-high': {\n        mobile: [\n            adSizes.outOfPage,\n            adSizes.empty,\n            adSizes.merchandisingHigh,\n            adSizes.fluid,\n        ],\n    },\n    'merchandising-high-lucky': {\n        mobile: [adSizes.outOfPage, adSizes.empty, adSizes.fluid],\n    },\n    merchandising: {\n        mobile: [\n            adSizes.outOfPage,\n            adSizes.empty,\n            adSizes.merchandising,\n            adSizes.fluid,\n        ],\n    },\n    survey: {\n        desktop: [adSizes.outOfPage],\n    },\n    carrot: {\n        mobile: [adSizes.fluid],\n    },\n    epic: {\n        mobile: [adSizes.fluid],\n    },\n    'mobile-sticky': {\n        mobile: [adSizes.mobilesticky],\n    },\n    'crossword-banner': {\n        phablet: [adSizes.outOfPage, adSizes.empty, adSizes.leaderboard],\n        tablet: [adSizes.outOfPage, adSizes.empty, adSizes.leaderboard],\n    },\n    exclusion: {\n        mobile: [adSizes.empty],\n        phablet: [adSizes.empty],\n        desktop: [adSizes.empty],\n    },\n};\nconst getAdSize = (size) => adSizes[size];\n// Export for testing\nexport const _ = { createAdSize };\nexport { adSizes, standardAdSizes, outstreamSizes, getAdSize, slotSizeMappings, createAdSize, };\n","/**\nDetect whether or not the user has an ad blocking extension enabled.\nA few ad blockers are not detectable with this approach e.g. Safari / Adblock\nCode inspired by just-detect-adblock's:\nhttps://github.com/wmcmurray/just-detect-adblock/blob/master/src/helpers.js\n*/\n/*istanbul ignore file -- adElementBlocked can't be tested without patching each of the properties of\nHTMLElement.prototype that it accesses, defeating the purpose of the test! */\nlet adBlockInUse = undefined;\nfunction adElementBlocked(ad) {\n    if (ad.offsetParent === null ||\n        ad.offsetHeight === 0 ||\n        ad.offsetLeft === 0 ||\n        ad.offsetTop === 0 ||\n        ad.offsetWidth === 0 ||\n        ad.clientHeight === 0 ||\n        ad.clientWidth === 0) {\n        return true;\n    }\n    const adStyles = window.getComputedStyle(ad);\n    if (adStyles.getPropertyValue('display') === 'none')\n        return true;\n    if (adStyles.getPropertyValue('visibility') === 'hidden')\n        return true;\n    const mozBindingProp = adStyles.getPropertyValue('-moz-binding');\n    if (mozBindingProp.includes('about:'))\n        return true;\n    return false;\n}\n/**\n * Determines whether or not the user has an ad blocking extension enabled.\n * Note: positive results can be considered reliable while negative ones may not be.\n * @returns Promise\n */\nexport function isAdBlockInUse() {\n    if (adBlockInUse !== undefined) {\n        return Promise.resolve(adBlockInUse);\n    }\n    if (typeof window.getComputedStyle !== 'function') {\n        // Old browsers not supporting getComputedStyle most likely won't have adBlockers\n        adBlockInUse = false;\n        return Promise.resolve(adBlockInUse);\n    }\n    return new Promise((resolve) => {\n        window.requestAnimationFrame(() => {\n            // create a fake ad element and append it to the document\n            const ad = document.createElement('div');\n            ad.setAttribute('class', 'ad_unit pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links ad-text adSense adBlock adContent adBanner');\n            ad.setAttribute('style', 'width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;');\n            document.body.appendChild(ad);\n            // avoid a forced layout\n            window.requestAnimationFrame(() => {\n                // if the ad element has been hidden, an ad blocker is enabled.\n                resolve(adElementBlocked(ad));\n            });\n        });\n    });\n}\n","import { storage } from '@guardian/libs';\nconst PERMUTIVE_KEY = `_papns`;\nconst PERMUTIVE_PFP_KEY = `_pdfps`;\nconst getSegments = (key) => {\n    try {\n        const rawSegments = storage.local.getRaw(key);\n        const segments = rawSegments\n            ? JSON.parse(rawSegments)\n            : null;\n        if (!Array.isArray(segments))\n            return [];\n        return segments\n            .slice(0, 250)\n            .map((s) => Number.parseInt(s, 10))\n            .filter((n) => typeof n === 'number' && !Number.isNaN(n))\n            .map(String);\n    }\n    catch (err) {\n        return [];\n    }\n};\nconst getPermutiveSegments = () => getSegments(PERMUTIVE_KEY);\nconst getPermutivePFPSegments = () => getSegments(PERMUTIVE_PFP_KEY);\nconst clearPermutiveSegments = () => {\n    storage.local.remove(PERMUTIVE_KEY);\n    storage.local.remove(PERMUTIVE_PFP_KEY);\n};\nexport const _ = {\n    PERMUTIVE_KEY,\n    PERMUTIVE_PFP_KEY,\n    getSegments,\n};\nexport { getPermutiveSegments, getPermutivePFPSegments, clearPermutiveSegments, };\n","const constructQuery = (query) => Object.entries(query)\n    .map(([key, value]) => {\n    const queryValue = Array.isArray(value)\n        ? value.map((v) => encodeURIComponent(v)).join(',')\n        : encodeURIComponent(value);\n    return `${key}=${queryValue}`;\n})\n    .join('&');\nexport { constructQuery };\n","import { getCookie, isString, storage } from '@guardian/libs';\nconst KEY = 'GU_geo_country';\nconst KEY_OVERRIDE = 'gu.geo.override';\nconst COUNTRY_REGEX = /^[A-Z]{2}$/;\n// best guess that we have a valid code, without actually shipping the entire list\nconst isValidCountryCode = (country) => isString(country) && COUNTRY_REGEX.test(country);\n// we'll cache any successful lookups so we only have to do this once\nlet locale;\nconst editionToGeolocationMap = {\n    UK: 'GB',\n    US: 'US',\n    AU: 'AU',\n};\nconst editionToGeolocation = (editionKey) => editionToGeolocationMap[editionKey];\n// just used for tests\nexport const __resetCachedValue = () => (locale = undefined);\n/**\n * Fetches the user's current location as an ISO 3166-1 alpha-2 string e.g. 'GB', 'AU' etc\n * Note: This has been copied from guardian-libs and made syncronous by ommiting the call to\n * the geolocation API\n */\nexport const getLocale = () => {\n    if (locale)\n        return locale;\n    // return overridden geo from localStorage, used for changing geo only for development purposes\n    const geoOverride = storage.local.get(KEY_OVERRIDE);\n    if (isValidCountryCode(geoOverride)) {\n        return (locale = geoOverride);\n    }\n    // return locale from cookie if it exists\n    const stored = getCookie({ name: KEY });\n    if (stored && isValidCountryCode(stored)) {\n        return (locale = stored);\n    }\n    // return locale from edition\n    const editionCountryCode = editionToGeolocation(window.guardian.config.page.edition);\n    return (locale = editionCountryCode);\n};\n","import { isString } from '@guardian/libs';\n/* -- Types -- */\nconst videoLengths = [\n    '25',\n    '30',\n    '60',\n    '90',\n    '120',\n    '150',\n    '180',\n    '210',\n    '240',\n    '270',\n    '300',\n];\n/* -- Methods -- */\nconst getVideoLength = (videoLength) => {\n    const index = Math.min(Math.ceil(videoLength / 30), 10);\n    return videoLengths[index] ?? null;\n};\nconst getUrlKeywords = (url) => {\n    const lastSegment = url\n        .split('/')\n        .filter(Boolean) // This handles a trailing slash\n        .slice(-1)[0];\n    return isString(lastSegment) ? lastSegment.split('-').filter(Boolean) : [];\n};\n// \"0\" means content < 2 hours old\n// \"1\" means content between 2 hours and 24 hours old.\n// \"2\" means content between 24 hours and 3 days old\n// \"3\" means content between 3 and 7 days old\n// \"4\" means content between 7 days and 1 month old\n// \"5\" means content between 1 and 10 months old\n// \"6\" means content between 10 and 14 months old\n// \"7\" means content more than 14 months old\nconst calculateRecentlyPublishedBucket = (webPublicationDate) => {\n    const now = Date.now();\n    const hoursSincePublication = (now - webPublicationDate) / 1000 / 60 / 60;\n    const daysSincePublication = hoursSincePublication / 24;\n    const monthsSincePublication = daysSincePublication / 30; // near enough for our purposes\n    if (hoursSincePublication < 2)\n        return '0';\n    if (hoursSincePublication < 24)\n        return '1';\n    if (daysSincePublication < 3)\n        return '2';\n    if (daysSincePublication < 7)\n        return '3';\n    if (daysSincePublication < 30)\n        return '4';\n    if (monthsSincePublication < 10)\n        return '5';\n    if (monthsSincePublication < 14)\n        return '6';\n    return '7';\n};\nconst getContentTargeting = ({ eligibleForDCR, path, renderingPlatform, section, sensitive, videoLength, webPublicationDate, }) => {\n    return {\n        dcre: eligibleForDCR ? 't' : 'f',\n        rc: calculateRecentlyPublishedBucket(webPublicationDate),\n        rp: renderingPlatform,\n        s: section,\n        sens: sensitive ? 't' : 'f',\n        urlkw: getUrlKeywords(path),\n        vl: videoLength ? getVideoLength(videoLength) : null,\n    };\n};\nexport { getContentTargeting };\n","import { storage } from '@guardian/libs';\nimport { clearPermutiveSegments, getPermutivePFPSegments, getPermutiveSegments, } from '../permutive';\n/* -- Types -- */\nconst frequency = [\n    '0',\n    '1',\n    '2',\n    '3',\n    '4',\n    '5',\n    '6-9',\n    '10-15',\n    '16-19',\n    '20-29',\n    '30plus',\n];\nconst AMTGRP_STORAGE_KEY = 'gu.adManagerGroup';\nconst adManagerGroups = [\n    '1',\n    '2',\n    '3',\n    '4',\n    '5',\n    '6',\n    '7',\n    '8',\n    '9',\n    '10',\n    '11',\n    '12',\n];\n/* -- Methods -- */\nconst getRawWithConsent = (key, state) => {\n    if (state.tcfv2) {\n        if (state.tcfv2.consents['1'])\n            return storage.local.getRaw(key);\n    }\n    if (state.ccpa) {\n        if (!state.ccpa.doNotSell)\n            return storage.local.getRaw(key);\n    }\n    if (state.aus) {\n        if (state.aus.personalisedAdvertising)\n            return storage.local.getRaw(key);\n    }\n    return null;\n};\nconst getFrequencyValue = (state) => {\n    const rawValue = getRawWithConsent('gu.alreadyVisited', state);\n    if (!rawValue)\n        return '0';\n    const visitCount = parseInt(rawValue, 10);\n    if (visitCount <= 5) {\n        return frequency[visitCount] ?? '0';\n    }\n    else if (visitCount >= 6 && visitCount <= 9) {\n        return '6-9';\n    }\n    else if (visitCount >= 10 && visitCount <= 15) {\n        return '10-15';\n    }\n    else if (visitCount >= 16 && visitCount <= 19) {\n        return '16-19';\n    }\n    else if (visitCount >= 20 && visitCount <= 29) {\n        return '20-29';\n    }\n    else if (visitCount >= 30) {\n        return '30plus';\n    }\n    return '0';\n};\nconst getCMPTargeting = (state) => {\n    if (state.tcfv2) {\n        return {\n            cmp_interaction: state.tcfv2.eventStatus,\n            pa: state.canTarget ? 't' : 'f',\n            consent_tcfv2: state.canTarget ? 't' : 'f',\n            rdp: 'na',\n        };\n    }\n    if (state.ccpa) {\n        return {\n            consent_tcfv2: 'na',\n            rdp: !state.canTarget ? 't' : 'f',\n            pa: state.canTarget ? 't' : 'f',\n        };\n    }\n    if (state.aus) {\n        return {\n            consent_tcfv2: 'na',\n            rdp: 'na',\n            pa: state.canTarget ? 't' : 'f',\n        };\n    }\n    return {\n        cmp_interaction: 'na',\n        consent_tcfv2: 'na',\n        rdp: 'na',\n        pa: 'f',\n    };\n};\nconst isAdManagerGroup = (s) => adManagerGroups.some((g) => g === s);\nconst createAdManagerGroup = () => {\n    const index = Math.floor(Math.random() * adManagerGroups.length);\n    const group = adManagerGroups[index] ?? '12';\n    storage.local.setRaw(AMTGRP_STORAGE_KEY, group);\n    return group;\n};\nconst getAdManagerGroup = (state) => {\n    if (!state.framework) {\n        storage.local.remove(AMTGRP_STORAGE_KEY);\n        return null;\n    }\n    if (state.tcfv2 && !state.canTarget) {\n        storage.local.remove(AMTGRP_STORAGE_KEY);\n        return null;\n    }\n    const existingGroup = storage.local.getRaw(AMTGRP_STORAGE_KEY);\n    return isAdManagerGroup(existingGroup)\n        ? existingGroup\n        : createAdManagerGroup();\n};\nconst getPermutiveWithState = (state, youtube) => {\n    if (state.canTarget) {\n        return youtube ? getPermutivePFPSegments() : getPermutiveSegments();\n    }\n    clearPermutiveSegments();\n    return [];\n};\nconst getPersonalisedTargeting = ({ state, youtube, }) => ({\n    amtgrp: getAdManagerGroup(state),\n    fr: getFrequencyValue(state),\n    permutive: getPermutiveWithState(state, youtube),\n    ...getCMPTargeting(state),\n});\nexport { getPersonalisedTargeting };\n","import { isString } from '@guardian/libs';\n/* -- Types -- */\nconst referrers = [\n    {\n        id: 'facebook',\n        match: 'facebook.com',\n    },\n    {\n        id: 'google',\n        match: 'www.google',\n    },\n    {\n        id: 'twitter',\n        match: '/t.co/',\n    },\n    {\n        id: 'reddit',\n        match: 'reddit.com',\n    },\n];\n/* -- Methods -- */\nconst getReferrer = (referrer) => {\n    if (referrer === '')\n        return null;\n    const matchedRef = referrers.find((referrerType) => referrer.includes(referrerType.match)) ?? null;\n    return matchedRef ? matchedRef.id : null;\n};\nconst experimentsTargeting = ({ clientSideParticipations, serverSideParticipations, }) => {\n    const testToParams = (testName, variant) => {\n        if (variant === 'notintest')\n            return null;\n        // GAM key-value pairs accept value strings up to 40 characters long\n        return `${testName}-${variant}`.substring(0, 40);\n    };\n    const clientSideExperiment = Object.entries(clientSideParticipations)\n        .map((test) => {\n        const [name, variant] = test;\n        return testToParams(name, variant.variant);\n    })\n        .filter(isString);\n    const serverSideExperiments = Object.entries(serverSideParticipations)\n        .map((test) => testToParams(...test))\n        .filter(isString);\n    if (clientSideExperiment.length + serverSideExperiments.length === 0) {\n        return null;\n    }\n    return [...clientSideExperiment, ...serverSideExperiments];\n};\nconst getSessionTargeting = ({ adTest, countryCode, isSignedIn, pageViewId, participations, referrer, }) => ({\n    ab: experimentsTargeting(participations),\n    at: adTest,\n    cc: countryCode,\n    pv: pageViewId,\n    ref: getReferrer(referrer),\n    si: isSignedIn ? 't' : 'f',\n});\nexport { getSessionTargeting, experimentsTargeting };\n","import { isString } from '@guardian/libs';\nconst isTargetingString = (string) => isString(string) && string !== '';\nconst isTargetingArray = (array) => Array.isArray(array) && array.filter(isTargetingString).length > 0;\nconst isValidTargeting = (value) => {\n    if (isTargetingString(value))\n        return true;\n    if (isTargetingArray(value))\n        return true;\n    return false;\n};\n/**\n * Picks only keys with targeting values from an object.\n * A targeting values is defined as either:\n * - a non-empty string\n * - an array of non-empty strings\n *\n * If you object is read-only, you can safely access properties on the result.\n * For example:\n *\n * ```ts\n * dirty = {\n *   valid: 'real',\n *   invalid: undefined,\n * } as const;\n *\n * clean = pickDefinedValues(dirty);\n *\n * // @ts-expect-error -- you can’t access this property\n * clean.invalid\n * ```\n */\nexport const pickTargetingValues = (obj) => {\n    const initialValue = {};\n    return Object.entries(obj).reduce((valid, [key, value]) => {\n        if (isValidTargeting(value)) {\n            // @ts-expect-error -- isValidTargeting checks this\n            valid[key] = Array.isArray(value)\n                ? value.filter(isTargetingString)\n                : value;\n        }\n        return valid;\n    }, initialValue);\n};\n","import { pickTargetingValues } from './pick-targeting-values';\n/* -- Types -- */\nconst brands = {\n    Foundation: 'f',\n    Paid: 'p',\n    Sponsored: 's',\n};\nconst contentTypes = [\n    'article',\n    'audio',\n    'crossword',\n    'gallery',\n    'interactive',\n    'liveblog',\n    'network-front',\n    'section',\n    'tag',\n    'video',\n];\nconst editions = {\n    UnitedKingdom: 'uk',\n    UnitedStates: 'us',\n    Australia: 'au',\n    International: 'int',\n};\nconst platforms = {\n    R2: 'r2',\n    NextGen: 'ng',\n    MobileApp: 'app',\n    AcceleratedMobilePages: 'amp',\n};\nconst surges = {\n    0: '0',\n    50: '5',\n    100: '4',\n    200: '3',\n    300: '2',\n    400: '1',\n};\n/* -- Methods -- */\nconst getSurgingParam = (surging) => {\n    if (surging < 50 || isNaN(surging))\n        return ['0'];\n    const thresholds = [400, 300, 200, 100, 50];\n    return thresholds.filter((n) => n <= surging).map((s) => surges[s]);\n};\n/* -- Targeting -- */\n/**\n * What goes in comes out\n */\nconst getSharedTargeting = (shared) => pickTargetingValues(shared);\nexport const _ = {\n    getSurgingParam,\n};\nexport { getSharedTargeting };\n","import { cmp } from '@guardian/consent-management-platform';\nimport { getCookie, isString } from '@guardian/libs';\nimport { getLocale } from '../lib/get-locale';\nimport { getContentTargeting } from './content';\nimport { getPersonalisedTargeting } from './personalised';\nimport { getSessionTargeting } from './session';\nimport { getSharedTargeting } from './shared';\nimport { getViewportTargeting } from './viewport';\nconst filterValues = (pageTargets) => {\n    const filtered = {};\n    for (const key in pageTargets) {\n        const value = pageTargets[key];\n        if (isString(value)) {\n            filtered[key] = value;\n        }\n        else if (Array.isArray(value) &&\n            value.length > 0 &&\n            value.every(isString)) {\n            filtered[key] = value;\n        }\n    }\n    return filtered;\n};\nconst buildPageTargeting = ({ adFree, clientSideParticipations, consentState, youtube = false, }) => {\n    const { page, isDotcomRendering } = window.guardian.config;\n    const adFreeTargeting = adFree ? { af: 't' } : {};\n    const contentTargeting = getContentTargeting({\n        webPublicationDate: page.webPublicationDate,\n        eligibleForDCR: isDotcomRendering,\n        path: `/${page.pageId}`,\n        renderingPlatform: isDotcomRendering\n            ? 'dotcom-rendering'\n            : 'dotcom-platform',\n        section: page.section,\n        sensitive: page.isSensitive,\n        videoLength: page.videoDuration,\n    });\n    const getReferrer = () => document.referrer || '';\n    const sessionTargeting = getSessionTargeting({\n        adTest: getCookie({ name: 'adtest', shouldMemoize: true }),\n        countryCode: getLocale(),\n        isSignedIn: !!getCookie({ name: 'GU_U' }),\n        pageViewId: window.guardian.config.ophan.pageViewId,\n        participations: {\n            clientSideParticipations,\n            serverSideParticipations: window.guardian.config.tests ?? {},\n        },\n        referrer: getReferrer(),\n    });\n    const getViewport = () => {\n        return {\n            width: window.innerWidth || document.body.clientWidth || 0,\n            height: window.innerHeight || document.body.clientHeight || 0,\n        };\n    };\n    const viewportTargeting = getViewportTargeting({\n        viewPortWidth: getViewport().width,\n        cmpBannerWillShow: !cmp.hasInitialised() || cmp.willShowPrivacyMessageSync(),\n    });\n    const sharedAdTargeting = page.sharedAdTargeting\n        ? getSharedTargeting(page.sharedAdTargeting)\n        : {};\n    const personalisedTargeting = getPersonalisedTargeting({\n        state: consentState,\n        youtube,\n    });\n    const pageTargets = {\n        ...personalisedTargeting,\n        ...sharedAdTargeting,\n        ...adFreeTargeting,\n        ...contentTargeting,\n        ...sessionTargeting,\n        ...viewportTargeting,\n    };\n    // filter !(string | string[]) and empty values\n    const pageTargeting = filterValues(pageTargets);\n    return pageTargeting;\n};\nexport { buildPageTargeting, filterValues };\n","/* -- Methods -- */\nconst findBreakpoint = (width) => {\n    if (width >= 980)\n        return 'desktop';\n    if (width >= 660)\n        return 'tablet';\n    return 'mobile';\n};\nconst getViewportTargeting = ({ viewPortWidth, cmpBannerWillShow, }) => {\n    // Don’t show inskin if if a privacy message will be shown or on preview\n    const isPreview = window.guardian.config.page.isPreview;\n    const inskin = cmpBannerWillShow || isPreview ? 'f' : 't';\n    return {\n        bp: findBreakpoint(viewPortWidth),\n        skinsize: viewPortWidth >= 1560 ? 'l' : 's',\n        inskin,\n    };\n};\nexport { getViewportTargeting };\n","import { constructQuery } from '../lib/construct-query';\nimport { buildPageTargeting } from './build-page-targeting';\nconst disabledAds = { disableAds: true };\nconst buildAdsConfig = (cmpConsent, adUnit, customParams, clientSideParticipations) => {\n    const mergedCustomParams = {\n        ...customParams,\n        ...buildPageTargeting({\n            adFree: false,\n            clientSideParticipations,\n            consentState: cmpConsent,\n            youtube: true,\n        }),\n    };\n    const defaultAdsConfig = {\n        adTagParameters: {\n            iu: adUnit,\n            // TODO: Why are we double encoding? Following Frontend process for now\n            cust_params: encodeURIComponent(constructQuery(mergedCustomParams)),\n        },\n    };\n    if (cmpConsent.ccpa) {\n        const canTarget = !cmpConsent.ccpa.doNotSell;\n        return {\n            ...defaultAdsConfig,\n            restrictedDataProcessor: !canTarget,\n        };\n    }\n    if (cmpConsent.aus) {\n        const canTarget = cmpConsent.aus.personalisedAdvertising;\n        return {\n            ...defaultAdsConfig,\n            restrictedDataProcessor: !canTarget,\n        };\n    }\n    if (cmpConsent.tcfv2) {\n        const tcfData = cmpConsent.tcfv2;\n        const canTarget = Object.values(tcfData.consents).every(Boolean);\n        const mergedAdTagParameters = {\n            ...defaultAdsConfig.adTagParameters,\n            cmpGdpr: tcfData.gdprApplies ? 1 : 0,\n            cmpGvcd: tcfData.addtlConsent,\n            cmpVcd: tcfData.tcString,\n        };\n        return {\n            adTagParameters: mergedAdTagParameters,\n            nonPersonalizedAd: !canTarget,\n        };\n    }\n    // Shouldn't happen but handle if no matching framework\n    return disabledAds;\n};\nconst buildAdsConfigWithConsent = ({ adUnit, clientSideParticipations, consentState, customParams, isAdFreeUser, }) => {\n    if (isAdFreeUser) {\n        return disabledAds;\n    }\n    return buildAdsConfig(consentState, adUnit, customParams, clientSideParticipations);\n};\nexport { buildAdsConfigWithConsent, disabledAds };\n","import { postMessage } from './messenger/post-message';\nconst LISTENERS = {};\nlet REGISTERED_LISTENERS = 0;\nlet reportError = () => {\n    // not set yet\n};\nconst error405 = {\n    code: 405,\n    message: 'Service %% not implemented',\n};\nconst error500 = {\n    code: 500,\n    message: 'Internal server error\\n\\n%%',\n};\n/**\n * Determine if an unknown payload has the shape of a programmatic message\n *\n * @param payload The unknown message payload\n */\nconst isProgrammaticMessage = (payload) => {\n    const payloadToCheck = payload;\n    return (payloadToCheck.type === 'set-ad-height' &&\n        ('id' in payloadToCheck.value || 'slotId' in payloadToCheck.value) &&\n        'height' in payloadToCheck.value);\n};\n/**\n * Convert a legacy programmatic message to a standard message\n *\n * Note that this only applies to specific resize programmatic messages\n * (these include specific width and height values)\n */\nconst toStandardMessage = (payload) => ({\n    id: 'aaaa0000-bb11-cc22-dd33-eeeeee444444',\n    type: 'resize',\n    iframeId: payload.value.id,\n    slotId: payload.value.slotId,\n    value: {\n        height: payload.value.height,\n        width: payload.value.width,\n    },\n});\n/**\n * Retrieve a reference to the calling iFrame\n *\n * Attempts the following strategies to find the correct iframe:\n * - using the slotId from the incoming message\n * - using the iframeId from the incoming message\n * - checking message event.source (i.e. window) against all page level iframe contentWindows\n *\n * Listeners can then use the iFrame to determine the slot making the postMessage call\n */\nconst getIframe = (message, messageEventSource) => {\n    if (message.slotId) {\n        const container = document.getElementById(`dfp-ad--${message.slotId}`);\n        return container?.querySelector('iframe') ?? undefined;\n    }\n    else if (message.iframeId) {\n        const el = document.getElementById(message.iframeId);\n        return el instanceof HTMLIFrameElement ? el : undefined;\n    }\n    else if (messageEventSource) {\n        const iframes = document.querySelectorAll('iframe');\n        return Array.from(iframes).find((iframe) => iframe.contentWindow === messageEventSource);\n    }\n};\n// Regex for testing validity of message ids\nconst validMessageRegex = /^[a-f0-9]{8}-([a-f0-9]{4}-){3}[a-f0-9]{12}$/;\n/**\n * Narrow an `unknown` payload to the standard message format\n *\n * Until DFP provides a way for us to identify with 100% certainty our\n * in-house creatives, we are left with doing some basic tests\n * such as validating the anatomy of the payload and whitelisting\n * event type\n */\nconst isValidPayload = (payload) => {\n    const payloadToCheck = payload;\n    return ('type' in payloadToCheck &&\n        'value' in payloadToCheck &&\n        'id' in payloadToCheck &&\n        payloadToCheck.type in LISTENERS &&\n        validMessageRegex.test(payloadToCheck.id));\n};\n/**\n * Cheap string formatting function\n *\n * @param error An object `{ code, message }`. `message` is a string where successive\n * occurrences of %% will be replaced by the following arguments\n * @param args Arguments that will replace %%\n *\n * @example\n * formatError({ message: \"%%, you are so %%\" }, \"Regis\", \"lovely\")\n * => { message: \"Regis, you are so lovely\" }\n */\nconst formatError = (error, ...args) => args.reduce((e, arg) => {\n    e.message = e.message.replace('%%', arg);\n    return e;\n}, error);\n/**\n * Convert a posted message to our StandardMessage format\n *\n * @param event The message event received on the window\n * @returns A message with the `StandardMessage` format, or null if the conversion was unsuccessful\n */\nconst eventToStandardMessage = (event) => {\n    try {\n        // Currently all non-string messages are discarded here since parsing throws an error\n        // TODO Review whether this is the desired outcome\n        const data = JSON.parse(event.data);\n        const message = isProgrammaticMessage(data)\n            ? toStandardMessage(data)\n            : data;\n        if (isValidPayload(message)) {\n            return message;\n        }\n    }\n    catch (ex) {\n        // Do nothing\n    }\n};\n/**\n * Respond to the original iframe with the result of calling the\n * persistent listener / listener chain\n */\nconst respond = (id, target, error, result) => {\n    postMessage({\n        id,\n        error,\n        result,\n    }, target ?? window);\n};\n/**\n * Callback that is fired when an arbitrary message is received on the window\n *\n * @param event The message event received on the window\n */\nconst onMessage = async (event) => {\n    const message = eventToStandardMessage(event);\n    if (!message) {\n        return;\n    }\n    const listener = LISTENERS[message.type];\n    if (Array.isArray(listener) && listener.length) {\n        // Because any listener can have side-effects (by unregistering itself),\n        // we run the promise chain on a copy of the `LISTENERS` array.\n        // Hat tip @piuccio\n        const promise = \n        // We offer, but don't impose, the possibility that a listener returns\n        // a value that must be sent back to the calling frame. To do this,\n        // we pass the cumulated returned value as a second argument to each\n        // listener. Notice we don't try some clever way to compose the result\n        // value ourselves, this would only make the solution more complex.\n        // That means a listener can ignore the cumulated return value and\n        // return something else entirely—life is unfair.\n        // We don't know what each callack will be made of, we don't want to.\n        // And so we wrap each call in a promise chain, in case one drops the\n        // occasional fastdom bomb in the middle.\n        listener.reduce((func, listener) => func.then((ret) => {\n            const thisRet = listener(message.value, ret, getIframe(message, event.source));\n            return thisRet === undefined ? ret : thisRet;\n        }), Promise.resolve());\n        return promise\n            .then((response) => {\n            respond(message.id, event.source, null, response);\n        })\n            .catch((ex) => {\n            reportError(ex, {\n                feature: 'native-ads',\n            });\n            respond(message.id, event.source, formatError(error500, ex.toString()), null);\n        });\n    }\n    else if (typeof listener === 'function') {\n        // We found a persistent listener, to which we just delegate\n        // responsibility to write something. Anything. Really.\n        // The listener writes something by being given the `respond` function as the spec\n        listener(\n        // TODO change the arguments expected by persistent listeners to avoid this\n        (error, result) => respond(message.id, event.source, error, result), message.value, getIframe(message, event.source));\n    }\n    else {\n        // If there is no routine attached to this event type, we just answer\n        // with an error code\n        respond(message.id, event.source, formatError(error405, message.type), null);\n    }\n};\nconst on = (window) => {\n    window.addEventListener('message', (event) => void onMessage(event));\n};\nconst off = (window) => {\n    window.removeEventListener('message', (event) => void onMessage(event));\n};\n/**\n * Register a listener for a given type of iframe message\n *\n * @param type The `type` of message to register against\n * @param callback The listener callback to register that will receive messages of the given type\n * @param options Options for the target window\n */\nexport const register = (type, callback, options) => {\n    if (REGISTERED_LISTENERS === 0) {\n        on(options?.window ?? window);\n    }\n    const listeners = LISTENERS[type] ?? [];\n    if (Array.isArray(listeners) && !listeners.includes(callback)) {\n        LISTENERS[type] = [...listeners, callback];\n        REGISTERED_LISTENERS += 1;\n    }\n};\n/**\n * Register a persistent listener for a given type of iframe message\n *\n * @param type The `type` of message to register against\n * @param callback The persistent listener callback to register that will receive messages of the given type\n * @param options Options for the target window and whether the callback is persistent\n */\nexport const registerPersistentListener = (type, callback, options) => {\n    if (REGISTERED_LISTENERS === 0) {\n        on(options?.window ?? window);\n    }\n    LISTENERS[type] = callback;\n    REGISTERED_LISTENERS += 1;\n};\n/**\n * Unregister a callback for a given type\n *\n * @param type The type of message to unregister against. An iframe will send\n * messages annotated with the type\n * @param callback Optionally include the original callback. If this is included\n * for a persistent callback this function will be unregistered. If it's\n * included for a non-persistent callback only the matching callback is removed,\n * otherwise all callbacks for that type will be unregistered\n * @param options Option for the target window\n */\nexport const unregister = (type, callback, options) => {\n    const listeners = LISTENERS[type];\n    if (listeners === undefined) {\n        throw new Error(formatError(error405, type).message);\n    }\n    else if (listeners === callback) {\n        LISTENERS[type] = undefined;\n        REGISTERED_LISTENERS -= 1;\n    }\n    else if (Array.isArray(listeners)) {\n        if (callback === undefined) {\n            LISTENERS[type] = [];\n            REGISTERED_LISTENERS -= listeners.length;\n        }\n        else {\n            LISTENERS[type] = listeners.filter((cb) => {\n                const callbacksEqual = cb === callback;\n                if (callbacksEqual) {\n                    REGISTERED_LISTENERS -= 1;\n                }\n                return !callbacksEqual;\n            });\n        }\n    }\n    if (REGISTERED_LISTENERS === 0) {\n        off(options?.window ?? window);\n    }\n};\n/**\n * Initialize an array of listener callbacks in a batch\n *\n * @param listeners The listener registration functions\n * @param persistentListeners The persistent listener registration functions\n */\nexport const init = (listeners, persistentListeners, errorHandler) => {\n    reportError = errorHandler;\n    listeners.forEach((moduleInit) => moduleInit(register, errorHandler));\n    persistentListeners.forEach((moduleInit) => moduleInit(registerPersistentListener, errorHandler));\n};\nexport const _ = { onMessage };\n","export const postMessage = (message, target, targetOrigin = '*') => {\n    target.postMessage(JSON.stringify(message), { targetOrigin });\n};\n","import { log } from '@guardian/libs';\nimport { buildPageTargeting, filterValues } from './build-page-targeting';\n/**\n * @param  {Record<string, MaybeArray<string|number|boolean>>\n * Follows https://support.google.com/admanager/answer/1080597\n */\nconst encodeCustomParams = (params) => {\n    const encodedParams = Object.entries(params)\n        .map(([key, value]) => {\n        const queryValue = Array.isArray(value)\n            ? value.join(',')\n            : String(value);\n        return `${key}=${encodeURIComponent(queryValue)}`;\n    })\n        .join('&');\n    return encodedParams;\n};\nconst mergeCustomParamsWithTargeting = (customParams, consentState, clientSideParticipations) => {\n    let pageTargeting = {};\n    try {\n        pageTargeting = buildPageTargeting({\n            adFree: false,\n            clientSideParticipations,\n            consentState: consentState,\n        });\n    }\n    catch (e) {\n        /**\n         * Defensive error handling in case YoutubeAtom is used in an\n         * environment where guardian.config, cookies, localstorage etc\n         * are not available\n         */\n        log('commercial', 'Error building YouTube IMA custom params', e);\n        return customParams;\n    }\n    const mergedCustomParams = { ...customParams, ...pageTargeting };\n    return mergedCustomParams;\n};\nconst buildImaAdTagUrl = ({ adUnit, clientSideParticipations, consentState, customParams, }) => {\n    const mergedCustomParams = mergeCustomParamsWithTargeting(customParams, consentState, clientSideParticipations);\n    const queryParams = {\n        iu: adUnit,\n        tfcd: '0',\n        npa: '0',\n        sz: '480x360|480x361|400x300',\n        gdfp_req: '1',\n        output: 'vast',\n        unviewed_position_start: '1',\n        env: 'vp',\n        impl: 's',\n        vad_type: 'linear',\n        vpos: 'preroll',\n        /**\n         * cust_params string is encoded\n         * cust_params values are also encoded so they will get double encoded\n         * this ensures any values with separator chars (=&,) do not conflict with the main string\n         */\n        cust_params: encodeURIComponent(encodeCustomParams(filterValues(mergedCustomParams))),\n    };\n    const queryParamsArray = [];\n    for (const [k, v] of Object.entries(queryParams)) {\n        queryParamsArray.push(`${k}=${v}`);\n    }\n    return ('https://pubads.g.doubleclick.net/gampad/ads?' +\n        queryParamsArray.join('&'));\n};\nexport { buildImaAdTagUrl };\n","import { log } from '@guardian/libs';\n\nlet currentFramework;\nconst setCurrentFramework = (framework) => {\n    log('cmp', `Framework set to ${framework}`);\n    currentFramework = framework;\n};\nconst getCurrentFramework = () => currentFramework;\n\nconst mark = (label) => {\n    window.performance?.mark?.(label);\n    {\n        log('cmp', '[event]', label);\n    }\n};\n\nconst isServerSide = typeof window === 'undefined';\nconst serverSideWarn = () => {\n    console.warn('This is a server-side version of the @guardian/consent-management-platform', 'No consent signals will be received.');\n};\nconst serverSideWarnAndReturn = (arg) => {\n    return () => {\n        serverSideWarn();\n        return arg;\n    };\n};\nconst cmp$1 = {\n    __disable: serverSideWarn,\n    __enable: serverSideWarnAndReturn(false),\n    __isDisabled: serverSideWarnAndReturn(false),\n    hasInitialised: serverSideWarnAndReturn(false),\n    init: serverSideWarn,\n    showPrivacyManager: serverSideWarn,\n    version: 'n/a',\n    willShowPrivacyMessage: serverSideWarnAndReturn(Promise.resolve(false)),\n    willShowPrivacyMessageSync: serverSideWarnAndReturn(false),\n};\nconst onConsent$2 = () => {\n    serverSideWarn();\n    return Promise.resolve({\n        canTarget: false,\n        framework: null,\n    });\n};\nconst onConsentChange$2 = () => {\n    return serverSideWarn();\n};\nconst getConsentFor$2 = (vendor, consent) => {\n    console.log(`Server-side call for getConsentFor(${vendor}, ${JSON.stringify(consent)})`, 'getConsentFor will always return false server-side');\n    serverSideWarn();\n    return false;\n};\n\nlet isGuardian;\nconst isGuardianDomain = () => {\n    if (typeof isGuardian === 'undefined') {\n        if (isServerSide) {\n            isGuardian = true;\n        }\n        else {\n            isGuardian = window.location.host.endsWith('.theguardian.com');\n        }\n    }\n    return isGuardian;\n};\n\nconst ACCOUNT_ID = 1257;\nconst PRIVACY_MANAGER_CCPA = 540252;\nconst PRIVACY_MANAGER_TCFV2 = 106842;\nconst PRIVACY_MANAGER_AUSTRALIA = 540341;\nconst ENDPOINT = isGuardianDomain()\n    ? 'https://sourcepoint.theguardian.com'\n    : 'https://cdn.privacy-mgmt.com';\n\nconst api$2 = (command) => new Promise((resolve, reject) => {\n    if (window.__uspapi) {\n        window.__uspapi(command, 1, (result, success) => success\n            ? resolve(result)\n            :\n                reject(new Error(`Unable to get ${command} data`)));\n    }\n    else {\n        reject(new Error('No __uspapi found on window'));\n    }\n});\nconst getUSPData$1 = () => api$2('getUSPData');\n\nconst getConsentState$3 = async () => {\n    const uspData = await getUSPData$1();\n    const optedOut = uspData.uspString.charAt(2) === 'Y';\n    return {\n        personalisedAdvertising: !optedOut,\n    };\n};\n\nconst api$1 = (command) => new Promise((resolve, reject) => {\n    if (window.__uspapi) {\n        window.__uspapi(command, 1, (result, success) => success\n            ? resolve(result)\n            :\n                reject(new Error(`Unable to get ${command} data`)));\n    }\n    else {\n        reject(new Error('No __uspapi found on window'));\n    }\n});\nconst getUSPData = () => api$1('getUSPData');\n\nconst getConsentState$2 = async () => {\n    const uspData = await getUSPData();\n    return {\n        doNotSell: uspData.uspString.charAt(2) === 'Y',\n    };\n};\n\nconst getGpcSignal = () => {\n    return isServerSide ? undefined : navigator.globalPrivacyControl;\n};\n\nconst api = (command) => new Promise((resolve, reject) => {\n    if (window.__tcfapi) {\n        window.__tcfapi(command, 2, (result, success) => success\n            ? resolve(result)\n            :\n                reject(new Error(`Unable to get ${command} data`)));\n    }\n    else {\n        reject(new Error('No __tcfapi found on window'));\n    }\n});\nconst getTCData = () => api('getTCData');\nconst getCustomVendorConsents = () => api('getCustomVendorConsents');\n\nconst defaultConsents = {\n    '1': false,\n    '2': false,\n    '3': false,\n    '4': false,\n    '5': false,\n    '6': false,\n    '7': false,\n    '8': false,\n    '9': false,\n    '10': false,\n};\nconst getConsentState$1 = async () => {\n    const [tcData, customVendors] = await Promise.all([\n        getTCData(),\n        getCustomVendorConsents(),\n    ]);\n    if (typeof tcData === 'undefined') {\n        const currentFramework = getCurrentFramework() ?? 'undefined';\n        throw new Error(`No TC Data found with current framework: ${currentFramework}`);\n    }\n    const consents = {\n        ...defaultConsents,\n        ...tcData.purpose.consents,\n    };\n    const { eventStatus, gdprApplies, tcString, addtlConsent } = tcData;\n    const { grants } = customVendors;\n    const vendorConsents = Object.keys(grants)\n        .sort()\n        .reduce((acc, cur) => ({ ...acc, [cur]: grants[cur].vendorGrant }), {});\n    return {\n        consents,\n        eventStatus,\n        vendorConsents,\n        addtlConsent,\n        gdprApplies,\n        tcString,\n    };\n};\n\nconst callBackQueue = [];\nconst awaitingUserInteractionInTCFv2 = (state) => state.tcfv2?.eventStatus === 'cmpuishown';\nconst invokeCallback = (callback, state) => {\n    if (awaitingUserInteractionInTCFv2(state))\n        return;\n    const stateString = JSON.stringify(state);\n    if (stateString !== callback.lastState) {\n        callback.fn(state);\n        callback.lastState = stateString;\n    }\n};\nconst enhanceConsentState = (consentState) => {\n    const gpcSignal = getGpcSignal();\n    if (consentState.tcfv2) {\n        const consents = consentState.tcfv2.consents;\n        return {\n            ...consentState,\n            canTarget: Object.keys(consents).length > 0 &&\n                Object.values(consents).every(Boolean),\n            framework: 'tcfv2',\n            gpcSignal,\n        };\n    }\n    else if (consentState.ccpa) {\n        return {\n            ...consentState,\n            canTarget: !consentState.ccpa.doNotSell,\n            framework: 'ccpa',\n            gpcSignal,\n        };\n    }\n    else if (consentState.aus) {\n        return {\n            ...consentState,\n            canTarget: consentState.aus.personalisedAdvertising,\n            framework: 'aus',\n            gpcSignal,\n        };\n    }\n    return {\n        ...consentState,\n        canTarget: false,\n        framework: null,\n        gpcSignal,\n    };\n};\nconst getConsentState = async () => {\n    switch (getCurrentFramework()) {\n        case 'aus':\n            return enhanceConsentState({ aus: await getConsentState$3() });\n        case 'ccpa':\n            return enhanceConsentState({ ccpa: await getConsentState$2() });\n        case 'tcfv2':\n            return enhanceConsentState({ tcfv2: await getConsentState$1() });\n        default:\n            throw new Error('no IAB consent framework found on the page');\n    }\n};\nconst invokeCallbacks = () => {\n    if (callBackQueue.length === 0)\n        return;\n    void getConsentState().then((state) => {\n        if (awaitingUserInteractionInTCFv2(state))\n            return;\n        callBackQueue.forEach((callback) => invokeCallback(callback, state));\n    });\n};\nconst onConsentChange$1 = (callBack) => {\n    const newCallback = { fn: callBack };\n    callBackQueue.push(newCallback);\n    void getConsentState()\n        .then((consentState) => {\n        invokeCallback(newCallback, consentState);\n    })\n        .catch(() => {\n    });\n};\n\n/* eslint-disable -- this is third party code */\n/* istanbul ignore file */\n\n/*\nThis code is the CCPA stub made available by Sourcepoint.\n\nSee the documentation on how to retrieve the latest version:\nhttps://documentation.sourcepoint.com/implementation/web-implementation/multi-campaign-web-implementation#stub-file\n*/\n\nconst stub_ccpa = () => {\n\t(function () {\n\t\tvar e = false;\n\t\tvar c = window;\n\t\tvar t = document;\n\t\tfunction r() {\n\t\t\tif (!c.frames['__uspapiLocator']) {\n\t\t\t\tif (t.body) {\n\t\t\t\t\tvar a = t.body;\n\t\t\t\t\tvar e = t.createElement('iframe');\n\t\t\t\t\te.style.cssText = 'display:none';\n\t\t\t\t\te.name = '__uspapiLocator';\n\t\t\t\t\ta.appendChild(e);\n\t\t\t\t} else {\n\t\t\t\t\tsetTimeout(r, 5);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tr();\n\t\tfunction p() {\n\t\t\tvar a = arguments;\n\t\t\t__uspapi.a = __uspapi.a || [];\n\t\t\tif (!a.length) {\n\t\t\t\treturn __uspapi.a;\n\t\t\t} else if (a[0] === 'ping') {\n\t\t\t\ta[2]({ gdprAppliesGlobally: e, cmpLoaded: false }, true);\n\t\t\t} else {\n\t\t\t\t__uspapi.a.push([].slice.apply(a));\n\t\t\t}\n\t\t}\n\t\tfunction l(t) {\n\t\t\tvar r = typeof t.data === 'string';\n\t\t\ttry {\n\t\t\t\tvar a = r ? JSON.parse(t.data) : t.data;\n\t\t\t\tif (a.__cmpCall) {\n\t\t\t\t\tvar n = a.__cmpCall;\n\t\t\t\t\tc.__uspapi(n.command, n.parameter, function (a, e) {\n\t\t\t\t\t\tvar c = {\n\t\t\t\t\t\t\t__cmpReturn: {\n\t\t\t\t\t\t\t\treturnValue: a,\n\t\t\t\t\t\t\t\tsuccess: e,\n\t\t\t\t\t\t\t\tcallId: n.callId,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t};\n\t\t\t\t\t\tt.source.postMessage(r ? JSON.stringify(c) : c, '*');\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} catch (a) {}\n\t\t}\n\t\tif (typeof __uspapi !== 'function') {\n\t\t\tc.__uspapi = p;\n\t\t\t__uspapi.msgHandler = l;\n\t\t\tc.addEventListener('message', l, false);\n\t\t}\n\t})();\n};\n\n/* eslint-disable -- this is third party code */\n/* istanbul ignore file */\n\n/*\nThis code is the TCFv2 stub made available by Sourcepoint.\n\nSee the documentation on how to retrieve the latest version:\nhttps://documentation.sourcepoint.com/implementation/web-implementation/multi-campaign-web-implementation#stub-file\n*/\n\nconst stub_tcfv2 = () => {\n\t!(function (t) {\n\t\tvar e = {};\n\t\tfunction n(r) {\n\t\t\tif (e[r]) return e[r].exports;\n\t\t\tvar o = (e[r] = { i: r, l: !1, exports: {} });\n\t\t\treturn t[r].call(o.exports, o, o.exports, n), (o.l = !0), o.exports;\n\t\t}\n\t\t(n.m = t),\n\t\t\t(n.c = e),\n\t\t\t(n.d = function (t, e, r) {\n\t\t\t\tn.o(t, e) ||\n\t\t\t\t\tObject.defineProperty(t, e, { enumerable: !0, get: r });\n\t\t\t}),\n\t\t\t(n.r = function (t) {\n\t\t\t\t'undefined' != typeof Symbol &&\n\t\t\t\t\tSymbol.toStringTag &&\n\t\t\t\t\tObject.defineProperty(t, Symbol.toStringTag, {\n\t\t\t\t\t\tvalue: 'Module',\n\t\t\t\t\t}),\n\t\t\t\t\tObject.defineProperty(t, '__esModule', { value: !0 });\n\t\t\t}),\n\t\t\t(n.t = function (t, e) {\n\t\t\t\tif ((1 & e && (t = n(t)), 8 & e)) return t;\n\t\t\t\tif (4 & e && 'object' == typeof t && t && t.__esModule)\n\t\t\t\t\treturn t;\n\t\t\t\tvar r = Object.create(null);\n\t\t\t\tif (\n\t\t\t\t\t(n.r(r),\n\t\t\t\t\tObject.defineProperty(r, 'default', {\n\t\t\t\t\t\tenumerable: !0,\n\t\t\t\t\t\tvalue: t,\n\t\t\t\t\t}),\n\t\t\t\t\t2 & e && 'string' != typeof t)\n\t\t\t\t)\n\t\t\t\t\tfor (var o in t)\n\t\t\t\t\t\tn.d(\n\t\t\t\t\t\t\tr,\n\t\t\t\t\t\t\to,\n\t\t\t\t\t\t\tfunction (e) {\n\t\t\t\t\t\t\t\treturn t[e];\n\t\t\t\t\t\t\t}.bind(null, o),\n\t\t\t\t\t\t);\n\t\t\t\treturn r;\n\t\t\t}),\n\t\t\t(n.n = function (t) {\n\t\t\t\tvar e =\n\t\t\t\t\tt && t.__esModule\n\t\t\t\t\t\t? function () {\n\t\t\t\t\t\t\t\treturn t.default;\n\t\t\t\t\t\t  }\n\t\t\t\t\t\t: function () {\n\t\t\t\t\t\t\t\treturn t;\n\t\t\t\t\t\t  };\n\t\t\t\treturn n.d(e, 'a', e), e;\n\t\t\t}),\n\t\t\t(n.o = function (t, e) {\n\t\t\t\treturn Object.prototype.hasOwnProperty.call(t, e);\n\t\t\t}),\n\t\t\t(n.p = ''),\n\t\t\tn((n.s = 3));\n\t})([\n\t\tfunction (t, e, n) {\n\t\t\tvar r = n(2);\n\t\t\tt.exports = !r(function () {\n\t\t\t\treturn (\n\t\t\t\t\t7 !=\n\t\t\t\t\tObject.defineProperty({}, 'a', {\n\t\t\t\t\t\tget: function () {\n\t\t\t\t\t\t\treturn 7;\n\t\t\t\t\t\t},\n\t\t\t\t\t}).a\n\t\t\t\t);\n\t\t\t});\n\t\t},\n\t\tfunction (t, e) {\n\t\t\tt.exports = function (t) {\n\t\t\t\treturn 'object' == typeof t\n\t\t\t\t\t? null !== t\n\t\t\t\t\t: 'function' == typeof t;\n\t\t\t};\n\t\t},\n\t\tfunction (t, e) {\n\t\t\tt.exports = function (t) {\n\t\t\t\ttry {\n\t\t\t\t\treturn !!t();\n\t\t\t\t} catch (t) {\n\t\t\t\t\treturn !0;\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\t\tfunction (t, e, n) {\n\t\t\tn(4),\n\t\t\t\t(function () {\n\t\t\t\t\tif ('function' != typeof window.__tcfapi) {\n\t\t\t\t\t\tvar t,\n\t\t\t\t\t\t\te = [],\n\t\t\t\t\t\t\tn = window,\n\t\t\t\t\t\t\tr = n.document;\n\t\t\t\t\t\t!n.__tcfapi &&\n\t\t\t\t\t\t\t(function t() {\n\t\t\t\t\t\t\t\tvar e = !!n.frames.__tcfapiLocator;\n\t\t\t\t\t\t\t\tif (!e)\n\t\t\t\t\t\t\t\t\tif (r.body) {\n\t\t\t\t\t\t\t\t\t\tvar o = r.createElement('iframe');\n\t\t\t\t\t\t\t\t\t\t(o.style.cssText = 'display:none'),\n\t\t\t\t\t\t\t\t\t\t\t(o.name = '__tcfapiLocator'),\n\t\t\t\t\t\t\t\t\t\t\tr.body.appendChild(o);\n\t\t\t\t\t\t\t\t\t} else setTimeout(t, 5);\n\t\t\t\t\t\t\t\treturn !e;\n\t\t\t\t\t\t\t})() &&\n\t\t\t\t\t\t\t((n.__tcfapi = function () {\n\t\t\t\t\t\t\t\tfor (\n\t\t\t\t\t\t\t\t\tvar n = arguments.length,\n\t\t\t\t\t\t\t\t\t\tr = new Array(n),\n\t\t\t\t\t\t\t\t\t\to = 0;\n\t\t\t\t\t\t\t\t\to < n;\n\t\t\t\t\t\t\t\t\to++\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\tr[o] = arguments[o];\n\t\t\t\t\t\t\t\tif (!r.length) return e;\n\t\t\t\t\t\t\t\tif ('setGdprApplies' === r[0])\n\t\t\t\t\t\t\t\t\tr.length > 3 &&\n\t\t\t\t\t\t\t\t\t\t2 === parseInt(r[1], 10) &&\n\t\t\t\t\t\t\t\t\t\t'boolean' == typeof r[3] &&\n\t\t\t\t\t\t\t\t\t\t((t = r[3]),\n\t\t\t\t\t\t\t\t\t\t'function' == typeof r[2] &&\n\t\t\t\t\t\t\t\t\t\t\tr[2]('set', !0));\n\t\t\t\t\t\t\t\telse if ('ping' === r[0]) {\n\t\t\t\t\t\t\t\t\tvar i = {\n\t\t\t\t\t\t\t\t\t\tgdprApplies: t,\n\t\t\t\t\t\t\t\t\t\tcmpLoaded: !1,\n\t\t\t\t\t\t\t\t\t\tapiVersion: '2.0',\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t'function' == typeof r[2] && r[2](i, !0);\n\t\t\t\t\t\t\t\t} else e.push(r);\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tn.addEventListener(\n\t\t\t\t\t\t\t\t'message',\n\t\t\t\t\t\t\t\tfunction (t) {\n\t\t\t\t\t\t\t\t\tvar e = 'string' == typeof t.data,\n\t\t\t\t\t\t\t\t\t\tr = {};\n\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\tr = e ? JSON.parse(t.data) : t.data;\n\t\t\t\t\t\t\t\t\t} catch (t) {}\n\t\t\t\t\t\t\t\t\tvar o = r.__tcfapiCall;\n\t\t\t\t\t\t\t\t\t// WARNING\n\t\t\t\t\t\t\t\t\t// This function call has been modified from the provided Sourcepoint code.\n\t\t\t\t\t\t\t\t\t// The parameter order has been updated as the original function call was incorrect as per the TCF specification.\n\t\t\t\t\t\t\t\t\t// See:\n\t\t\t\t\t\t\t\t\t// - Required interface: https://github.com/InteractiveAdvertisingBureau/GDPR-Transparency-and-Consent-Framework/blob/master/TCFv2/IAB%20Tech%20Lab%20-%20CMP%20API%20v2.md#how-does-the-cmp-provide-the-api\n\t\t\t\t\t\t\t\t\t// - Update to function: https://github.com/guardian/consent-management-platform/pull/561/commits/f6113f4a1f8fbe6cec5b4ea8e7b29b969fdb60f3#diff-b58313c0ab5f7b3c35c9d788a1e37e18c982fef7fb8a9b562d728163ffb8a8a1L152\n\t\t\t\t\t\t\t\t\to &&\n\t\t\t\t\t\t\t\t\t\tn.__tcfapi(\n\t\t\t\t\t\t\t\t\t\t\to.command,\n\t\t\t\t\t\t\t\t\t\t\to.version,\n\t\t\t\t\t\t\t\t\t\t\tfunction (n, r) {\n\t\t\t\t\t\t\t\t\t\t\t\tvar i = {\n\t\t\t\t\t\t\t\t\t\t\t\t\t__tcfapiReturn: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturnValue: n,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuccess: r,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcallId: o.callId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t\t\te && (i = JSON.stringify(i)),\n\t\t\t\t\t\t\t\t\t\t\t\t\tt.source.postMessage(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ti,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'*',\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\to.parameter,\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t!1,\n\t\t\t\t\t\t\t));\n\t\t\t\t\t}\n\t\t\t\t})();\n\t\t},\n\t\tfunction (t, e, n) {\n\t\t\tvar r = n(0),\n\t\t\t\to = n(5).f,\n\t\t\t\ti = Function.prototype,\n\t\t\t\tc = i.toString,\n\t\t\t\tu = /^s*function ([^ (]*)/;\n\t\t\tr &&\n\t\t\t\t!('name' in i) &&\n\t\t\t\to(i, 'name', {\n\t\t\t\t\tconfigurable: !0,\n\t\t\t\t\tget: function () {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\treturn c.call(this).match(u)[1];\n\t\t\t\t\t\t} catch (t) {\n\t\t\t\t\t\t\treturn '';\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t},\n\t\tfunction (t, e, n) {\n\t\t\tvar r = n(0),\n\t\t\t\to = n(6),\n\t\t\t\ti = n(10),\n\t\t\t\tc = n(11),\n\t\t\t\tu = Object.defineProperty;\n\t\t\te.f = r\n\t\t\t\t? u\n\t\t\t\t: function (t, e, n) {\n\t\t\t\t\t\tif ((i(t), (e = c(e, !0)), i(n), o))\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\treturn u(t, e, n);\n\t\t\t\t\t\t\t} catch (t) {}\n\t\t\t\t\t\tif ('get' in n || 'set' in n)\n\t\t\t\t\t\t\tthrow TypeError('Accessors not supported');\n\t\t\t\t\t\treturn 'value' in n && (t[e] = n.value), t;\n\t\t\t\t  };\n\t\t},\n\t\tfunction (t, e, n) {\n\t\t\tvar r = n(0),\n\t\t\t\to = n(2),\n\t\t\t\ti = n(7);\n\t\t\tt.exports =\n\t\t\t\t!r &&\n\t\t\t\t!o(function () {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t7 !=\n\t\t\t\t\t\tObject.defineProperty(i('div'), 'a', {\n\t\t\t\t\t\t\tget: function () {\n\t\t\t\t\t\t\t\treturn 7;\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}).a\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t},\n\t\tfunction (t, e, n) {\n\t\t\tvar r = n(8),\n\t\t\t\to = n(1),\n\t\t\t\ti = r.document,\n\t\t\t\tc = o(i) && o(i.createElement);\n\t\t\tt.exports = function (t) {\n\t\t\t\treturn c ? i.createElement(t) : {};\n\t\t\t};\n\t\t},\n\t\tfunction (t, e, n) {\n\t\t\t(function (e) {\n\t\t\t\tvar n = function (t) {\n\t\t\t\t\treturn t && t.Math == Math && t;\n\t\t\t\t};\n\t\t\t\tt.exports =\n\t\t\t\t\tn('object' == typeof globalThis && globalThis) ||\n\t\t\t\t\tn('object' == typeof window && window) ||\n\t\t\t\t\tn('object' == typeof self && self) ||\n\t\t\t\t\tn('object' == typeof e && e) ||\n\t\t\t\t\tFunction('return this')();\n\t\t\t}.call(this, n(9)));\n\t\t},\n\t\tfunction (t, e) {\n\t\t\tvar n;\n\t\t\tn = (function () {\n\t\t\t\treturn this;\n\t\t\t})();\n\t\t\ttry {\n\t\t\t\tn = n || new Function('return this')();\n\t\t\t} catch (t) {\n\t\t\t\t'object' == typeof window && (n = window);\n\t\t\t}\n\t\t\tt.exports = n;\n\t\t},\n\t\tfunction (t, e, n) {\n\t\t\tvar r = n(1);\n\t\t\tt.exports = function (t) {\n\t\t\t\tif (!r(t)) throw TypeError(String(t) + ' is not an object');\n\t\t\t\treturn t;\n\t\t\t};\n\t\t},\n\t\tfunction (t, e, n) {\n\t\t\tvar r = n(1);\n\t\t\tt.exports = function (t, e) {\n\t\t\t\tif (!r(t)) return t;\n\t\t\t\tvar n, o;\n\t\t\t\tif (\n\t\t\t\t\te &&\n\t\t\t\t\t'function' == typeof (n = t.toString) &&\n\t\t\t\t\t!r((o = n.call(t)))\n\t\t\t\t)\n\t\t\t\t\treturn o;\n\t\t\t\tif ('function' == typeof (n = t.valueOf) && !r((o = n.call(t))))\n\t\t\t\t\treturn o;\n\t\t\t\tif (\n\t\t\t\t\t!e &&\n\t\t\t\t\t'function' == typeof (n = t.toString) &&\n\t\t\t\t\t!r((o = n.call(t)))\n\t\t\t\t)\n\t\t\t\t\treturn o;\n\t\t\t\tthrow TypeError(\"Can't convert object to primitive value\");\n\t\t\t};\n\t\t},\n\t]);\n};\n\nconst stub = (framework) => {\n    if (framework === 'tcfv2')\n        stub_tcfv2();\n    else\n        stub_ccpa();\n};\n\nlet resolveWillShowPrivacyMessage;\nconst willShowPrivacyMessage$2 = new Promise((resolve) => {\n    resolveWillShowPrivacyMessage = resolve;\n});\nconst getProperty = (framework) => {\n    if (framework == 'aus')\n        return 'https://au.theguardian.com';\n    return isGuardianDomain() ? null : 'https://test.theguardian.com';\n};\nconst init$2 = (framework, pubData = {}) => {\n    stub(framework);\n    if (window._sp_) {\n        throw new Error('Sourcepoint global (window._sp_) is already defined!');\n    }\n    setCurrentFramework(framework);\n    invokeCallbacks();\n    const frameworkMessageType = framework == 'tcfv2' ? 'gdpr' : 'ccpa';\n    log('cmp', `framework: ${framework}`);\n    log('cmp', `frameworkMessageType: ${frameworkMessageType}`);\n    window._sp_queue = [];\n    window._sp_ = {\n        config: {\n            baseEndpoint: ENDPOINT,\n            accountId: ACCOUNT_ID,\n            propertyHref: getProperty(framework),\n            targetingParams: {\n                framework,\n            },\n            pubData: { ...pubData, cmpInitTimeUtc: new Date().getTime() },\n            events: {\n                onConsentReady: (message_type, consentUUID, euconsent) => {\n                    log('cmp', `onConsentReady ${message_type}`);\n                    if (message_type != frameworkMessageType)\n                        return;\n                    log('cmp', `consentUUID ${consentUUID}`);\n                    log('cmp', `euconsent ${euconsent}`);\n                    mark('cmp-got-consent');\n                    setTimeout(invokeCallbacks, 0);\n                },\n                onMessageReady: (message_type) => {\n                    log('cmp', `onMessageReady ${message_type}`);\n                    if (message_type != frameworkMessageType)\n                        return;\n                    mark('cmp-ui-displayed');\n                },\n                onMessageReceiveData: (message_type, data) => {\n                    log('cmp', `onMessageReceiveData ${message_type}`);\n                    if (message_type != frameworkMessageType)\n                        return;\n                    log('cmp', 'onMessageReceiveData ', data);\n                    void resolveWillShowPrivacyMessage(data.messageId !== 0);\n                },\n                onMessageChoiceSelect: (message_type, choice_id, choiceTypeID) => {\n                    log('cmp', `onMessageChoiceSelect message_type: ${message_type}`);\n                    console.log();\n                    if (message_type != frameworkMessageType)\n                        return;\n                    log('cmp', `onMessageChoiceSelect choice_id: ${choice_id}`);\n                    log('cmp', `onMessageChoiceSelect choice_type_id: ${choiceTypeID}`);\n                    if (choiceTypeID === 11 ||\n                        choiceTypeID === 13 ||\n                        choiceTypeID === 15) {\n                        setTimeout(invokeCallbacks, 0);\n                    }\n                },\n                onPrivacyManagerAction: function (message_type, pmData) {\n                    log('cmp', `onPrivacyManagerAction message_type: ${message_type}`);\n                    if (message_type != frameworkMessageType)\n                        return;\n                    log('cmp', `onPrivacyManagerAction ${pmData}`);\n                },\n                onMessageChoiceError: function (message_type, err) {\n                    log('cmp', `onMessageChoiceError ${message_type}`);\n                    if (message_type != frameworkMessageType)\n                        return;\n                    log('cmp', `onMessageChoiceError ${err}`);\n                },\n                onPMCancel: function (message_type) {\n                    log('cmp', `onPMCancel ${message_type}`);\n                    if (message_type != frameworkMessageType)\n                        return;\n                },\n                onSPPMObjectReady: function () {\n                    log('cmp', 'onSPPMObjectReady');\n                },\n                onError: function (message_type, errorCode, errorObject, userReset) {\n                    log('cmp', `errorCode: ${message_type}`);\n                    if (message_type != frameworkMessageType)\n                        return;\n                    log('cmp', `errorCode: ${errorCode}`);\n                    log('cmp', errorObject);\n                    log('cmp', `userReset: ${userReset}`);\n                },\n            },\n        },\n    };\n    if (framework === 'tcfv2') {\n        window._sp_.config.gdpr = {\n            targetingParams: {\n                framework,\n            },\n        };\n    }\n    else {\n        window._sp_.config.ccpa = {\n            targetingParams: {\n                framework,\n            },\n        };\n    }\n    const spLib = document.createElement('script');\n    spLib.id = 'sourcepoint-lib';\n    spLib.src = `${ENDPOINT}/unified/wrapperMessagingWithoutDetection.js`;\n    document.body.appendChild(spLib);\n};\n\nconst init$1 = (framework, pubData) => {\n    mark('cmp-init');\n    init$2(framework, pubData);\n};\nconst willShowPrivacyMessage$1 = () => willShowPrivacyMessage$2;\nfunction showPrivacyManager$1() {\n    switch (getCurrentFramework()) {\n        case 'tcfv2':\n            window._sp_?.gdpr?.loadPrivacyManagerModal?.(PRIVACY_MANAGER_TCFV2);\n            break;\n        case 'ccpa':\n            window._sp_?.ccpa?.loadPrivacyManagerModal?.(PRIVACY_MANAGER_CCPA);\n            break;\n        case 'aus':\n            window._sp_?.ccpa?.loadPrivacyManagerModal?.(PRIVACY_MANAGER_AUSTRALIA);\n            break;\n    }\n}\nconst CMP = {\n    init: init$1,\n    willShowPrivacyMessage: willShowPrivacyMessage$1,\n    showPrivacyManager: showPrivacyManager$1,\n};\n\nconst COOKIE_NAME = 'gu-cmp-disabled';\nconst disable = () => {\n    document.cookie = `${COOKIE_NAME}=true`;\n};\nconst enable = () => {\n    document.cookie = `${COOKIE_NAME}=false`;\n};\nconst isDisabled = () => new RegExp(`${COOKIE_NAME}=true(\\\\W+|$)`).test(document.cookie);\n\nconst VendorIDs = {\n    a9: ['5f369a02b8e05c308701f829'],\n    acast: ['5f203dcb1f0dea790562e20f'],\n    braze: ['5ed8c49c4b8ce4571c7ad801'],\n    comscore: ['5efefe25b8e05c06542b2a77'],\n    'google-analytics': ['5e542b3a4cd8884eb41b5a72'],\n    'google-mobile-ads': ['5f1aada6b8e05c306c0597d7'],\n    'google-tag-manager': ['5e952f6107d9d20c88e7c975'],\n    googletag: ['5f1aada6b8e05c306c0597d7'],\n    ias: ['5e7ced57b8e05c485246ccf3'],\n    inizio: ['5e37fc3e56a5e6615502f9c9'],\n    ipsos: ['5fa51b29a228638b4a1980e4'],\n    linkedin: ['5f2d22a6b8e05c02aa283b3c'],\n    lotame: ['5ed6aeb1b8e05c241a63c71f'],\n    nielsen: ['5ef5c3a5b8e05c69980eaa5b'],\n    ophan: ['5f203dbeeaaaa8768fd3226a'],\n    permutive: ['5eff0d77969bfa03746427eb'],\n    prebid: ['5f92a62aa22863685f4daa4c'],\n    qm: ['5f295fa4b8e05c76a44c3149'],\n    redplanet: ['5f199c302425a33f3f090f51'],\n    remarketing: ['5ed0eb688a76503f1016578f'],\n    sentry: ['5f0f39014effda6e8bbd2006'],\n    teads: ['5eab3d5ab8e05c2bbe33f399'],\n    twitter: ['5e71760b69966540e4554f01'],\n    'youtube-player': ['5e7ac3fae30e7d1bc1ebf5e8'],\n};\n\nconst getConsentFor$1 = (vendor, consent) => {\n    const sourcepointIds = VendorIDs[vendor];\n    if (typeof sourcepointIds === 'undefined' ||\n        (Array.isArray(sourcepointIds) && sourcepointIds.length === 0)) {\n        throw new Error(`Vendor '${vendor}' not found, or with no Sourcepoint ID. ` +\n            'If it should be added, raise an issue at https://github.com/guardian/consent-management-platform/issues');\n    }\n    if (consent.ccpa) {\n        return !consent.ccpa.doNotSell;\n    }\n    if (consent.aus) {\n        return consent.aus.personalisedAdvertising;\n    }\n    const foundSourcepointId = sourcepointIds.find((id) => typeof consent.tcfv2?.vendorConsents[id] !== 'undefined');\n    if (typeof foundSourcepointId === 'undefined') {\n        console.warn(`No consent returned from Sourcepoint for vendor: '${vendor}'`);\n        return false;\n    }\n    const tcfv2Consent = consent.tcfv2?.vendorConsents[foundSourcepointId];\n    if (typeof tcfv2Consent === 'undefined') {\n        console.warn(`No consent returned from Sourcepoint for vendor: '${vendor}'`);\n        return false;\n    }\n    return tcfv2Consent;\n};\n\nconst getFramework = (countryCode) => {\n    let framework;\n    switch (countryCode) {\n        case 'US':\n            framework = 'ccpa';\n            break;\n        case 'AU':\n            framework = 'aus';\n            break;\n        case 'GB':\n        default:\n            framework = 'tcfv2';\n            break;\n    }\n    return framework;\n};\n\nconst onConsent$1 = () => new Promise((resolve, reject) => {\n    onConsentChange$1((consentState) => {\n        if (consentState.tcfv2 || consentState.ccpa || consentState.aus) {\n            resolve(consentState);\n        }\n        reject('Unknown framework');\n    });\n});\n\nvar _a, _b, _c, _d;\nif (!isServerSide) {\n    window.guCmpHotFix || (window.guCmpHotFix = {});\n}\nlet _willShowPrivacyMessage;\nlet initComplete = false;\nlet resolveInitialised;\nconst initialised = new Promise((resolve) => {\n    resolveInitialised = resolve;\n});\nconst init = ({ pubData, country }) => {\n    if (isDisabled() || isServerSide)\n        return;\n    if (window.guCmpHotFix.initialised) {\n        if (window.guCmpHotFix.cmp?.version !== \"13.0.2\")\n            console.warn('Two different versions of the CMP are running:', [\n                \"13.0.2\",\n                window.guCmpHotFix.cmp?.version,\n            ]);\n        return;\n    }\n    window.guCmpHotFix.initialised = true;\n    if (typeof country === 'undefined') {\n        throw new Error('CMP initialised without `country` property. A 2-letter, ISO ISO_3166-1 country code is required.');\n    }\n    const framework = getFramework(country);\n    CMP.init(framework, pubData ?? {});\n    void CMP.willShowPrivacyMessage().then((willShowValue) => {\n        _willShowPrivacyMessage = willShowValue;\n        initComplete = true;\n        log('cmp', 'initComplete');\n    });\n    resolveInitialised();\n};\nconst willShowPrivacyMessage = () => initialised.then(() => CMP.willShowPrivacyMessage());\nconst willShowPrivacyMessageSync = () => {\n    if (_willShowPrivacyMessage !== undefined) {\n        return _willShowPrivacyMessage;\n    }\n    throw new Error('CMP has not been initialised. Use the async willShowPrivacyMessage() instead.');\n};\nconst hasInitialised = () => initComplete;\nconst showPrivacyManager = () => {\n    void initialised.then(CMP.showPrivacyManager);\n};\nconst cmp = isServerSide\n    ? cmp$1\n    : ((_a = window.guCmpHotFix).cmp || (_a.cmp = {\n        init,\n        willShowPrivacyMessage,\n        willShowPrivacyMessageSync,\n        hasInitialised,\n        showPrivacyManager,\n        version: \"13.0.2\",\n        __isDisabled: isDisabled,\n        __enable: enable,\n        __disable: disable,\n    }));\nconst onConsent = isServerSide\n    ? onConsent$2\n    : ((_b = window.guCmpHotFix).onConsent || (_b.onConsent = onConsent$1));\nconst onConsentChange = isServerSide\n    ? onConsentChange$2\n    : ((_c = window.guCmpHotFix).onConsentChange || (_c.onConsentChange = onConsentChange$1));\nconst getConsentFor = isServerSide\n    ? getConsentFor$2\n    : ((_d = window.guCmpHotFix).getConsentFor || (_d.getConsentFor = getConsentFor$1));\n\nexport { cmp, getConsentFor, onConsent, onConsentChange };\n","const ERR_INVALID_COOKIE = `Cookie must not contain invalid characters (space, tab and the following characters: '()<>@,;\"/[]?={}')`;\n\nexport { ERR_INVALID_COOKIE };\n//# sourceMappingURL=ERR_INVALID_COOKIE.js.map\n","import { getCookieValues } from './getCookieValues.js';\nimport { memoizedCookies } from './memoizedCookies.js';\n\n/**\n * Return a cookie. If it's been memoized it won't retrieve it again.\n * @param details Details about the cookie.\n * @param details.name - the cookie’s name.\n * @param details.shouldMemoize - set to true if you want to memoize it, default false.\n */\nconst getCookie = ({ name, shouldMemoize = false, }) => {\n    const memoizedCookie = memoizedCookies.get(name);\n    if (memoizedCookie)\n        return memoizedCookie;\n    const [value] = getCookieValues(name);\n    if (value) {\n        if (shouldMemoize) {\n            memoizedCookies.set(name, value);\n        }\n        return value;\n    }\n    return null;\n};\n\nexport { getCookie };\n//# sourceMappingURL=getCookie.js.map\n","const getCookieValues = (name) => {\n    const nameEq = `${name}=`;\n    const cookies = document.cookie.split(';');\n    return cookies.reduce((acc, cookie) => {\n        const cookieTrimmed = cookie.trim();\n        if (cookieTrimmed.startsWith(nameEq)) {\n            acc.push(cookieTrimmed.substring(nameEq.length, cookieTrimmed.length));\n        }\n        return acc;\n    }, []);\n};\n\nexport { getCookieValues };\n//# sourceMappingURL=getCookieValues.js.map\n","import { getShortDomain } from './getShortDomain.js';\n\nconst getDomainAttribute = ({ isCrossSubdomain = false } = {}) => {\n    const shortDomain = getShortDomain({ isCrossSubdomain });\n    return shortDomain === 'localhost' ? '' : ` domain=${shortDomain};`;\n};\n\nexport { getDomainAttribute };\n//# sourceMappingURL=getDomainAttribute.js.map\n","const getShortDomain = ({ isCrossSubdomain = false } = {}) => {\n    const domain = document.domain || '';\n    if (domain === 'localhost' || window.guardian?.config?.page?.isPreview) {\n        return domain;\n    }\n    // Trim any possible subdomain (will be shared with supporter, identity, etc)\n    if (isCrossSubdomain) {\n        return ['', ...domain.split('.').slice(-2)].join('.');\n    }\n    // Trim subdomains for prod (www.theguardian), code (m.code.dev-theguardian) and dev (dev.theguardian, m.thegulocal)\n    return domain.replace(/^(www|m\\.code|dev|m)\\./, '.');\n};\n\nexport { getShortDomain };\n//# sourceMappingURL=getShortDomain.js.map\n","const COOKIE_REGEX = /[()<>@,;\"\\\\/[\\]?={} \\t]/g;\n// subset of https://github.com/guzzle/guzzle/pull/1131\nconst isValidCookieValue = (name) => !COOKIE_REGEX.test(name);\nconst isValidCookie = (name, value) => isValidCookieValue(name) && isValidCookieValue(value);\n\nexport { isValidCookie };\n//# sourceMappingURL=isValidCookie.js.map\n","const memoizedCookies = new Map();\n\nexport { memoizedCookies };\n//# sourceMappingURL=memoizedCookies.js.map\n","const pad = (n) => n.toString().padStart(2, '0');\nconst isWithin24Hours = (date) => {\n    const today = new Date();\n    return date.getTime() > today.getTime() - 24 * 60 * 60 * 1000;\n};\nconst isYesterday = (relative) => {\n    const today = new Date();\n    const yesterday = new Date();\n    yesterday.setDate(today.getDate() - 1);\n    return relative.toDateString() === yesterday.toDateString();\n};\nconst getSuffix = (type, value, verbose) => {\n    const shouldPluralise = value !== 1;\n    switch (type) {\n        case 's': {\n            // Always pluralised, as less than 15 seconds returns “now”\n            if (verbose)\n                return ' seconds ago';\n            return 's ago';\n        }\n        case 'm': {\n            if (verbose && shouldPluralise)\n                return ' minutes ago';\n            if (verbose)\n                return ' minute ago';\n            return 'm ago';\n        }\n        case 'h': {\n            if (verbose && shouldPluralise)\n                return ' hours ago';\n            if (verbose)\n                return ' hour ago';\n            return 'h ago';\n        }\n        case 'd': {\n            // Always pluralised, as less than 2 days returns “Yesterday HH.MM”\n            if (verbose)\n                return ' days ago';\n            return 'd ago';\n        }\n    }\n};\nconst withTime = (date) => ` ${date.getHours()}.${pad(date.getMinutes())}`;\n/**\n * Takes an absolute date in [epoch format] and returns a string representing\n * relative time ago.\n *\n * Time is formatted according to [the Guardian and Observer Style Guide (T)][T]\n *\n * @param {number} epoch The date when an event happened in epoch format\n * @param {Object} [options] Options to control the formatting\n * @returns {string | false} A formatted relative time string, or `false` if the epoch is in the future\n *\n * [epoch format]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date#description\n * [T]: https://www.theguardian.com/guardian-observer-style-guide-t\n */\nconst timeAgo = (epoch, options) => {\n    const then = new Date(epoch);\n    const now = new Date();\n    const verbose = options?.verbose;\n    const daysUntilAbsolute = options?.daysUntilAbsolute ?? 7;\n    const secondsAgo = Math.floor((now.getTime() - then.getTime()) / 1000);\n    const veryClose = secondsAgo < 15;\n    const within55Seconds = secondsAgo < 55;\n    const withinTheHour = secondsAgo < 55 * 60;\n    const within24hrs = isWithin24Hours(then);\n    const wasYesterday = isYesterday(then);\n    const withinAbsoluteCutoff = secondsAgo < daysUntilAbsolute * 24 * 60 * 60;\n    if (secondsAgo < 0) {\n        // Dates in the future are not supported\n        return false;\n    }\n    else if (veryClose) {\n        // Now\n        return 'now';\n    }\n    else if (within55Seconds) {\n        // Seconds\n        return `${secondsAgo}${getSuffix('s', secondsAgo, verbose)}`;\n    }\n    else if (withinTheHour) {\n        // Minutes\n        const minutes = Math.round(secondsAgo / 60);\n        return `${minutes}${getSuffix('m', minutes, verbose)}`;\n    }\n    else if (within24hrs) {\n        // Hours\n        const hours = Math.round(secondsAgo / 3600);\n        return `${hours}${getSuffix('h', hours, verbose)}`;\n    }\n    else if (wasYesterday && verbose) {\n        // Yesterday\n        return `Yesterday${withTime(then)}`;\n    }\n    else if (withinAbsoluteCutoff) {\n        // Days\n        const days = Math.round(secondsAgo / 3600 / 24);\n        return `${days}${getSuffix('d', days, verbose)}`;\n    }\n    else {\n        // Simple date - \"9 Nov 2019\"\n        return [\n            then.getDate(),\n            verbose\n                ? then.toLocaleString('en-GB', { month: 'long' })\n                : then.toLocaleString('en-GB', { month: 'short' }),\n            then.getFullYear(),\n        ].join(' ');\n    }\n};\n\nexport { timeAgo };\n//# sourceMappingURL=timeAgo.js.map\n","var ArticleDesign;\n(function (ArticleDesign) {\n    ArticleDesign[ArticleDesign[\"Standard\"] = 0] = \"Standard\";\n    ArticleDesign[ArticleDesign[\"Gallery\"] = 1] = \"Gallery\";\n    ArticleDesign[ArticleDesign[\"Audio\"] = 2] = \"Audio\";\n    ArticleDesign[ArticleDesign[\"Video\"] = 3] = \"Video\";\n    ArticleDesign[ArticleDesign[\"Review\"] = 4] = \"Review\";\n    ArticleDesign[ArticleDesign[\"Analysis\"] = 5] = \"Analysis\";\n    ArticleDesign[ArticleDesign[\"Explainer\"] = 6] = \"Explainer\";\n    ArticleDesign[ArticleDesign[\"Comment\"] = 7] = \"Comment\";\n    ArticleDesign[ArticleDesign[\"Letter\"] = 8] = \"Letter\";\n    ArticleDesign[ArticleDesign[\"Feature\"] = 9] = \"Feature\";\n    ArticleDesign[ArticleDesign[\"LiveBlog\"] = 10] = \"LiveBlog\";\n    ArticleDesign[ArticleDesign[\"DeadBlog\"] = 11] = \"DeadBlog\";\n    ArticleDesign[ArticleDesign[\"Recipe\"] = 12] = \"Recipe\";\n    ArticleDesign[ArticleDesign[\"MatchReport\"] = 13] = \"MatchReport\";\n    ArticleDesign[ArticleDesign[\"Interview\"] = 14] = \"Interview\";\n    ArticleDesign[ArticleDesign[\"Editorial\"] = 15] = \"Editorial\";\n    ArticleDesign[ArticleDesign[\"Quiz\"] = 16] = \"Quiz\";\n    ArticleDesign[ArticleDesign[\"Interactive\"] = 17] = \"Interactive\";\n    ArticleDesign[ArticleDesign[\"PhotoEssay\"] = 18] = \"PhotoEssay\";\n    ArticleDesign[ArticleDesign[\"PrintShop\"] = 19] = \"PrintShop\";\n    ArticleDesign[ArticleDesign[\"Obituary\"] = 20] = \"Obituary\";\n    ArticleDesign[ArticleDesign[\"Correction\"] = 21] = \"Correction\";\n    ArticleDesign[ArticleDesign[\"FullPageInteractive\"] = 22] = \"FullPageInteractive\";\n    ArticleDesign[ArticleDesign[\"NewsletterSignup\"] = 23] = \"NewsletterSignup\";\n    ArticleDesign[ArticleDesign[\"Timeline\"] = 24] = \"Timeline\";\n    ArticleDesign[ArticleDesign[\"Profile\"] = 25] = \"Profile\";\n})(ArticleDesign || (ArticleDesign = {}));\n\nexport { ArticleDesign };\n//# sourceMappingURL=ArticleDesign.js.map\n","var ArticleDisplay;\n(function (ArticleDisplay) {\n    ArticleDisplay[ArticleDisplay[\"Standard\"] = 0] = \"Standard\";\n    ArticleDisplay[ArticleDisplay[\"Immersive\"] = 1] = \"Immersive\";\n    ArticleDisplay[ArticleDisplay[\"Showcase\"] = 2] = \"Showcase\";\n    ArticleDisplay[ArticleDisplay[\"NumberedList\"] = 3] = \"NumberedList\";\n})(ArticleDisplay || (ArticleDisplay = {}));\n\nexport { ArticleDisplay };\n//# sourceMappingURL=ArticleDisplay.js.map\n","var ArticlePillar;\n(function (ArticlePillar) {\n    ArticlePillar[ArticlePillar[\"News\"] = 0] = \"News\";\n    ArticlePillar[ArticlePillar[\"Opinion\"] = 1] = \"Opinion\";\n    ArticlePillar[ArticlePillar[\"Sport\"] = 2] = \"Sport\";\n    ArticlePillar[ArticlePillar[\"Culture\"] = 3] = \"Culture\";\n    ArticlePillar[ArticlePillar[\"Lifestyle\"] = 4] = \"Lifestyle\";\n})(ArticlePillar || (ArticlePillar = {}));\n\nexport { ArticlePillar };\n//# sourceMappingURL=ArticlePillar.js.map\n","var ArticleSpecial;\n(function (ArticleSpecial) {\n    ArticleSpecial[ArticleSpecial[\"SpecialReport\"] = 5] = \"SpecialReport\";\n    ArticleSpecial[ArticleSpecial[\"Labs\"] = 6] = \"Labs\";\n    ArticleSpecial[ArticleSpecial[\"SpecialReportAlt\"] = 7] = \"SpecialReportAlt\";\n})(ArticleSpecial || (ArticleSpecial = {}));\n\nexport { ArticleSpecial };\n//# sourceMappingURL=ArticleSpecial.js.map\n","// cribbed from https://github.com/sindresorhus/is-plain-obj\nconst isObject = (value) => {\n    if (Object.prototype.toString.call(value) !== '[object Object]') {\n        return false;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment -- it's a native method\n    const prototype = Object.getPrototypeOf(value);\n    return prototype === null || prototype === Object.prototype;\n};\n\nexport { isObject };\n//# sourceMappingURL=isObject.js.map\n","const isString = (_) => {\n    return Object.prototype.toString.call(_) === '[object String]';\n};\n\nexport { isString };\n//# sourceMappingURL=isString.js.map\n","// detect two or more `/` chars after a word boundary\nconst multipleSlashesInRoute = /\\b\\/{2,}/g;\nconst joinUrl = (...args) => args.join('/').replace(multipleSlashesInRoute, '/');\n\nexport { joinUrl };\n//# sourceMappingURL=joinUrl.js.map\n","/**\n * Loads an external JavaScript file by injecting a `script` element into the page.\n *\n * Returns a promise that resolves once the script has loaded, or rejects if something goes wrong.\n *\n * If a script has been loaded already, it will resolve immediately.\n *\n * @param src - URL for the script `src`\n * @param props - any valid `script` attributes other than `src`, `onload` or `onerror`\n */\nconst loadScript = (src, props) => new Promise((resolve, reject) => {\n    // creating this before the check below allows us to compare the resolved `src` values\n    const script = document.createElement('script');\n    script.src = src;\n    // dont inject 2 scripts with the same src\n    if (Array.from(document.scripts).some(({ src }) => script.src === src)) {\n        return resolve(void 0);\n    }\n    Object.assign(script, props);\n    script.onload = resolve;\n    script.onerror = (event, source, lineno, colno, error) => {\n        if (error) {\n            reject(error);\n            return;\n        }\n        if (typeof event === 'string') {\n            reject(new Error(`Error loading script: src: ${src} event: ${event}`));\n            return;\n        }\n        if (event instanceof Event) {\n            const target = event.target;\n            const targetSrc = target.getAttribute('src') ?? '';\n            reject(new Error(`Error loading script: src: ${src} targetSrc: ${targetSrc}`));\n            return;\n        }\n        reject(new Error(`Error loading script: src: ${src}`));\n    };\n    const ref = document.scripts[0];\n    ref?.parentNode?.insertBefore(script, ref);\n});\n\nexport { loadScript };\n//# sourceMappingURL=loadScript.js.map\n","import { isString } from '../isString/isString.js';\nimport { storage } from '../storage/storage.js';\nimport { STORAGE_KEY } from './storage-key.js';\nimport { teamStyles, commonStyle, isTeam } from './teamStyles.js';\n\nconst allStyles = { ...teamStyles, ...commonStyle };\nconst messageStyle = (teamStyle) => {\n    const { background, font } = allStyles[teamStyle];\n    return `background: ${background}; color: ${font}; padding: 2px 3px; border-radius:3px`;\n};\nconst getTeamSubscriptions = () => {\n    const teams = storage.local.get(STORAGE_KEY);\n    if (!isString(teams))\n        return [];\n    return teams.split(',').filter(isTeam);\n};\n/**\n * Subscribe to a team’s log\n * @param team the team’s unique ID\n */\nconst subscribeTo = (team) => {\n    const teamSubscriptions = getTeamSubscriptions();\n    if (!teamSubscriptions.includes(team))\n        teamSubscriptions.push(team);\n    storage.local.set(STORAGE_KEY, teamSubscriptions.join(','));\n    log(team, '🔔 Subscribed, hello!');\n};\n/**\n * Unsubscribe to a team’s log\n * @param team the team’s unique ID\n */\nconst unsubscribeFrom = (team) => {\n    log(team, '🔕 Unsubscribed, good-bye!');\n    const teamSubscriptions = getTeamSubscriptions().filter((t) => t !== team);\n    storage.local.set(STORAGE_KEY, teamSubscriptions.join(','));\n};\n/* istanbul ignore next */\nif (typeof window !== 'undefined') {\n    window.guardian ||= {};\n    window.guardian.logger ||= {\n        subscribeTo,\n        unsubscribeFrom,\n        teams: () => Object.keys(teamStyles),\n    };\n}\n/**\n * Runs in all environments, if local storage values are set.\n */\nconst log = (team, ...args) => {\n    if (!getTeamSubscriptions().includes(team))\n        return;\n    const styles = [messageStyle('common'), '', messageStyle(team), ''];\n    console.log(`%c@guardian%c %c${team}%c`, ...styles, ...args);\n};\n\nexport { log };\n//# sourceMappingURL=log.js.map\n","const STORAGE_KEY = 'gu.logger';\n\nexport { STORAGE_KEY };\n//# sourceMappingURL=storage-key.js.map\n","/** Common Guardian blue label. Do not edit */\nconst commonStyle = {\n    common: {\n        background: '#052962',\n        font: '#ffffff',\n    },\n};\n/**\n * You can only subscribe to teams from this list.\n * Add your team name below to start logging.\n *\n * Make sure your label has a contrast ratio of 4.5 or more.\n * */\nconst teamStyles = {\n    commercial: {\n        background: '#77EEAA',\n        font: '#004400',\n    },\n    cmp: {\n        background: '#FF6BB5',\n        font: '#2F0404',\n    },\n    dotcom: {\n        background: '#000000',\n        font: '#ff7300',\n    },\n    design: {\n        background: '#185E36',\n        font: '#FFF4F2',\n    },\n    tx: {\n        background: '#2F4F4F',\n        font: '#FFFFFF',\n    },\n    supporterRevenue: {\n        background: '#0F70B7',\n        font: '#ffffff',\n    },\n    identity: {\n        background: '#6F5F8F',\n        font: '#ffffff',\n    },\n};\nconst isTeam = (team) => Object.keys(teamStyles).includes(team);\n\nexport { commonStyle, isTeam, teamStyles };\n//# sourceMappingURL=teamStyles.js.map\n","import { isObject } from '../isObject/isObject.js';\nimport { isString } from '../isString/isString.js';\n\nclass StorageFactory {\n    #storage; // https://mdn.io/Private_class_fields\n    constructor(storageHandler) {\n        try {\n            const storage = window[storageHandler];\n            const uid = new Date().toString();\n            storage.setItem(uid, uid);\n            const available = storage.getItem(uid) == uid;\n            storage.removeItem(uid);\n            if (available)\n                this.#storage = storage;\n        }\n        catch (e) {\n            // do nothing\n        }\n    }\n    /**\n     * Check whether storage is available.\n     */\n    isAvailable() {\n        return Boolean(this.#storage);\n    }\n    /**\n     * Retrieve an item from storage.\n     *\n     * @param key - the name of the item\n     */\n    get(key) {\n        try {\n            const data = JSON.parse(this.#storage?.getItem(key) ?? '');\n            if (!isObject(data))\n                return null;\n            const { value, expires } = data;\n            // is this item has passed its sell-by-date, remove it\n            if (isString(expires) && new Date() > new Date(expires)) {\n                this.remove(key);\n                return null;\n            }\n            return value;\n        }\n        catch (e) {\n            return null;\n        }\n    }\n    /**\n     * Save a value to storage.\n     *\n     * @param key - the name of the item\n     * @param value - the data to save\n     * @param expires - optional date on which this data will expire\n     */\n    set(key, value, expires) {\n        return this.#storage?.setItem(key, JSON.stringify({\n            value,\n            expires,\n        }));\n    }\n    /**\n     * Remove an item from storage.\n     *\n     * @param key - the name of the item\n     */\n    remove(key) {\n        return this.#storage?.removeItem(key);\n    }\n    /**\n     * Removes all items from storage.\n     */\n    clear() {\n        return this.#storage?.clear();\n    }\n    /**\n     * Retrieve an item from storage in its raw state.\n     *\n     * @param key - the name of the item\n     */\n    getRaw(key) {\n        return this.#storage?.getItem(key) ?? null;\n    }\n    /**\n     * Save a raw value to storage.\n     *\n     * @param key - the name of the item\n     * @param value - the data to save\n     */\n    setRaw(key, value) {\n        return this.#storage?.setItem(key, value);\n    }\n}\n/**\n * Manages using `localStorage` and `sessionStorage`.\n *\n * Has a few advantages over the native API, including\n * - failing gracefully if storage is not available\n * - you can save and retrieve any JSONable data\n *\n * All methods are available for both `localStorage` and `sessionStorage`.\n */\nconst storage = new (class {\n    #local;\n    #session;\n    // creating the instance requires testing the native implementation\n    // which is blocking. therefore, only create new instances of the factory\n    // when it's accessed i.e. we know we're going to use it\n    get local() {\n        return (this.#local ||= new StorageFactory('localStorage'));\n    }\n    get session() {\n        return (this.#session ||= new StorageFactory('sessionStorage'));\n    }\n})();\n\nexport { storage };\n//# sourceMappingURL=storage.js.map\n","/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\nfunction n(){for(var n=0,t=0,r=arguments.length;t<r;t++)n+=arguments[t].length;var e=Array(n),u=0;for(t=0;t<r;t++)for(var o=arguments[t],a=0,i=o.length;a<i;a++,u++)e[u]=o[a];return e}function t(n,t){for(var r=n.length;r--;)if(n[r].name===t)return n[r].as;return\"\"}var r=/\\b(case|default|delete|do|else|in|instanceof|new|return|throw|typeof|void)\\s*$/,e=/(^|\\{|\\(|\\[\\.|;|,|<|>|<=|>=|==|!=|===|!==|\\+|-|\\*\\%|<<|>>|>>>|&|\\||\\^|!|~|&&|\\|\\||\\?|:|=|\\+=|-=|\\*=|%=|<<=|>>=|>>>=|&=|\\|=|\\^=|\\/=|\\/)\\s*$/,u=/(\\}|\\)|\\+\\+|--)\\s*$/,o=/[{}()[.;,<>=+\\-*%&|\\^!~?:/]/,a=/[a-zA-Z_$0-9]/,i={\" \":1,\"\\t\":1,\"\\n\":1,\"\\r\":1,\"\\f\":1,\"\\v\":1,\" \":1,\"\\u2028\":1,\"\\u2029\":1};function f(n){return n in i}function s(n){return\"'\"===n||'\"'===n}var c=/^\\*\\s+as\\s+(\\w+)$/,l=/(\\w+)\\s*,\\s*\\*\\s*as\\s*(\\w+)$/,p=/(\\w+)\\s*,\\s*{(.+)}$/;function d(n){return n?n.split(\",\").map((function(n){var t=n.trim().split(/[^\\S]+/),r=t[0];return{name:r,as:t[2]||r}})):[]}function v(n,r){for(var e=r,u=r+=6;n[r]&&f(n[r]);)r+=1;for(;n[r]&&!s(n[r]);)r+=1;for(var o=r,a=r+=1;n[r]&&!s(n[r]);)r+=1;var i=r++;return function(n,r,e,u,o){var a=t(u,\"*\")||t(u,\"default\");return{start:r,end:e,source:o,name:a,toString:function(t){var a=t.get(o);return(u.sort((function(n,t){return\"default\"===n.name?1:\"default\"===t.name?-1:0})).map((function(n){return\"*\"===n.name?null:\"default\"===n.name&&n.as===a?n.as+\" = \"+a+\".default;\":\"var \"+n.as+\" = \"+a+\".\"+n.name+\";\"})).join(\" \")+\" /*\"+n.slice(r,e)+\"*/\").trim()}}}(n,e,r,function(n){var t=c.exec(n);return t?[{name:\"*\",as:t[1]}]:(t=l.exec(n))?[{name:\"default\",as:t[1]},{name:\"*\",as:t[2]}]:(t=p.exec(n))?[{name:\"default\",as:t[1]}].concat(d(t[2].trim())):\"{\"===n[0]?d(n.slice(1,-1).trim()):n?[{name:\"default\",as:n}]:[]}(n.slice(u,o).replace(/from\\s*$/,\"\").trim()),n.slice(a,i))}function m(n,t){var r=t;for(t+=6;n[t]&&f(n[t]);)t+=1;var e=t;if(\"{\"===n[t]){for(;\"}\"!==n[t];)t+=1;for(var u=t+=1,a=null;f(n[t]);)t+=1;if(/^from[\\s\\n'\"]/.test(n.slice(t,t+5))){for(t+=4;f(n[t]);)t+=1;for(;n[t]&&!s(n[t]);)t+=1;for(var i=t+=1;n[t]&&!s(n[t]);)t+=1;a=n.slice(i,t),t+=1}return function(n,t,r,e,u,o){var a=d(n.slice(r+1,e-1).trim());return{start:t,end:u,source:o,toString:function(r){var e=r.get(o);return a.map((function(n){return\"__exports.\"+n.as+\" = \"+(e?e+\".\"+n.name:n.name)+\"; \"})).join(\"\")+\"/*\"+n.slice(t,u)+\"*/\"}}}(n,r,e,u,t,a||\"\")}if(\"*\"===n[t]){for(t+=1;f(n[t]);)t+=1;for(t+=4;n[t]&&!s(n[t]);)t+=1;for(i=t+=1;n[t]&&!s(n[t]);)t+=1;var c=t++;return function(n,t,r,e){return{start:t,end:r,source:e,toString:function(u){return\"Object.assign(__exports, \"+u.get(e)+\"); /*\"+n.slice(t,r)+\"*/\"}}}(n,r,t,n.slice(i,c))}return/^default\\b/.test(n.slice(t,t+8))?function(n,t,r){var e=/^\\s*(?:(class)(\\s+extends|\\s*{)|(function)\\s*\\()/.exec(n.slice(r));if(e){r+=e[0].length;var u=\"__default_export\";return{start:t,end:r,name:u,as:\"default\",toString:function(){return e[1]?\"class \"+u+e[2]:\"function \"+u+\"(\"}}}return{start:t,end:r,toString:function(){return\"__exports.default =\"}}}(n,r,e+7):function(n,t,r){for(var e=r;n[r]&&/\\S/.test(n[r]);)r+=1;for(;n[r]&&!/\\S/.test(n[r]);)r+=1;for(var u=r;n[r]&&!o.test(n[r])&&!f(n[r]);)r+=1;var a=r;return{start:t,end:e,name:n.slice(u,a),toString:function(){return\"\"}}}(n,r,e)}function h(n){var t,i=!0,s=!1,c=[],l=-1,p={},d={},h=0,_=[],g=[],x=[];function w(){if(\")\"===n[l]){for(var t=p[l];f(n[t-1]);)t-=1;return!/(if|while)$/.test(n.slice(t-5,t))}return!0}for(var S={pattern:/(?:(\\()|(\\))|({)|(})|(\")|(')|(\\/\\/)|(\\/\\*)|(\\/)|(`)|(import)|(export)|(\\+\\+|--))/g,handlers:[function(n){l=n,d[h++]=n},function(n){l=n,p[n]=d[--h]},function(n){l=n,c.push(S)},function(n){return l=n,c.pop()},function(n){return c.push(S),j},function(n){return c.push(S),U},function(n){return R},function(n){return A},function(t){for(var s=t;s>0&&f(n[s-1]);)s-=1;if(s>0){var c=s;if(o.test(n[c-1]))for(;c>0&&o.test(n[c-1]);)c-=1;else for(;c>0&&a.test(n[c-1]);)c-=1;var l=n.slice(c,s);i=!!l&&(r.test(l)||e.test(l)||u.test(l)&&!w())}else i=!0;return $},function(n){return L},function(t){if(0===t||f(n[t-1])||o.test(n[t-1]))if(/import[\\s\\n{\"']/.test(n.slice(t,t+7))){var r=v(n,t);_.push(r),z=r.end}else if(\"import(\"===n.slice(t,t+7)){var e=function(n){return{start:n,end:n+6,toString:function(){return\"__import\"}}}(t);g.push(e),z=e.end}},function(t){if((0===t||f(n[t-1])||o.test(n[t-1]))&&/export[\\s\\n{]/.test(n.slice(t,t+7))){var r=m(n,t);x.push(r),z=r.end}},function(t){s=!s&&\"+\"===n[t-1]}]},$={pattern:/(?:(\\[)|(\\\\)|(.))/g,handlers:[function(n){return i?b:S},function(n){return t=y,E},function(n){return i&&!s?y:S}]},y={pattern:/(?:(\\[)|(\\\\)|(\\/))/g,handlers:[function(){return b},function(){return t=y,E},function(){return S}]},b={pattern:/(?:(\\])|(\\\\))/g,handlers:[function(){return y},function(){return t=b,E}]},j={pattern:/(?:(\\\\)|(\"))/g,handlers:[function(){return t=j,E},function(){return c.pop()}]},U={pattern:/(?:(\\\\)|('))/g,handlers:[function(){return t=U,E},function(){return c.pop()}]},E={pattern:/(.)/g,handlers:[function(){return t}]},L={pattern:/(?:(\\${)|(\\\\)|(`))/g,handlers:[function(){return c.push(L),S},function(){return t=L,E},function(){return S}]},R={pattern:/((?:\\n|$))/g,handlers:[function(){return S}]},A={pattern:/(\\*\\/)/g,handlers:[function(){return S}]},k=S,z=0;z<n.length;){k.pattern.lastIndex=z;var O=k.pattern.exec(n);if(!O){if(c.length>0||k!==S)throw new Error(\"Unexpected end of file\");break}z=O.index+O[0].length;for(var P=1;P<O.length;P+=1)if(O[P]){k=k.handlers[P-1](O.index)||k;break}}return[_,g,x]}function _(t,r){var e=h(t),u=e[0],o=e[1],a=e[2],i=new Map;u.forEach((function(n){i.has(n.source)||i.set(n.source,n.name||\"__dep_\"+i.size)})),a.forEach((function(n){n.source&&(i.has(n.source)||i.set(n.source,n.name||\"__dep_\"+i.size))}));for(var f=\"__shimport__.define('\"+r+\"', [\"+Array.from(i.keys()).map((function(n){return\"'\"+n+\"'\"})).join(\", \")+\"], function(\"+[\"__import\",\"__exports\"].concat(Array.from(i.values())).join(\", \")+\"){ \",s=n(u,o,a).sort((function(n,t){return n.start-t.start})),c=0,l=0;l<s.length;l+=1){var p=s[l];f+=t.slice(c,p.start)+p.toString(i),c=p.end}return f+=t.slice(c),a.forEach((function(n){n.name&&(f+=\"\\n__exports.\"+(n.as||n.name)+\" = \"+n.name+\";\")})),f+=\"\\n});\\n//# sourceURL=\"+r}var g={};function x(t,r,e){var u=function(n){return w(new URL(n,t))};return Promise.all(r.map(u)).then((function(t){var r={};return e.apply(void 0,n([u,r],t)),r}))}function w(n){return g[n]||(g[n]=fetch(n).then((function(n){return n.text()})).then((function(t){return r=_(t,n),\"undefined\"!=typeof URL?new Promise((function(n){var t=\"__shimport__\"+S++,e=new Blob([t+\"=\"+r],{type:\"application/javascript\"}),u=document.createElement(\"script\");u.src=URL.createObjectURL(e),u.onload=function(){n(window[t]),delete window[t]},document.head.appendChild(u)})):alert(r);var r})))}var S=1;var $=function(){self.__shimport__={transform:_,define:x,load:w}};export{x as define,$ as initialise,w as load,_ as transform};\n","/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_descriptionid--page)\n *\n * Takes the ID of an element and generates a new ID. This should be set as the ID of an element that describes the first element. The generated ID should also be passed to the `aria-describedby` attribute on the first element.\n *\n * @param {string} id - ID of an element\n * @returns {string} ID of an element that describes the first element\n *\n * @example\n *\t\t<form>\n *\t\t\t<input id={id} type=\"text\" aria-describedby={descriptionId(id)} />\n *\t\t\t<p class=\"error\" id={descriptionId(id)} />\n *\t\t</form>\n */\nconst descriptionId = (id) => `${id}_description`;\n\nexport { descriptionId };\n//# sourceMappingURL=description-id.js.map\n","import { palette } from '../colour/palette.js';\n\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_focushalo--page)\n *\n * CSS rules that provide a clear visual focus state to support keyboard navigation.\n */\nconst focusHalo = `\n outline: 0;\n html:not(.src-focus-disabled) & {\n\t box-shadow: 0 0 0 5px ${palette.focus[400]};\n }\n`;\nconst focusHaloSpaced = `\n outline: 0;\n html:not(.src-focus-disabled) & {\n\toutline: 5px solid ${palette.focus[400]};\n\toutline-offset: 3px;\n }\n`;\n\nexport { focusHalo, focusHaloSpaced };\n//# sourceMappingURL=focus-halo.js.map\n","let sourceIdIndex = 0;\nconst generateSourceId = () => `src-component-${sourceIdIndex++}`;\n\nexport { generateSourceId };\n//# sourceMappingURL=generate-source-id.js.map\n","/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_visuallyhidden--page)\n *\n * CSS rules that hide something from sight while still being available to screen readers.\n *\n * @see https://webaim.org/techniques/css/invisiblecontent/\n * @see https://medium.com/@jessebeach/beware-smushed-off-screen-accessible-text-5952a4c2cbfe\n * @see https://www.scottohara.me/blog/2017/04/14/inclusively-hidden.html\n */\nconst visuallyHidden = `\n\tposition: absolute;\n\toverflow: hidden; /* gets rid of horizontal scrollbar that appears in some circumstances */\n\twhite-space: nowrap; /* The white-space property forces the content to render on one line. */\n\twidth: 1px;  /* ensures content is announced by VoiceOver. */\n\theight: 1px; /* ensures content is announced by VoiceOver. */\n\tmargin: -1px; /* hide or clip content that does not fit into a 1-pixel visible area. */\n\tpadding: 0; /* hide or clip content that does not fit into a 1-pixel visible area. */\n\tborder: 0;\n\tclip: rect(1px, 1px, 1px, 1px); /* clip removes any visible trace of the element */\n\t-webkit-clip-path: inset(50%); /* clip removes any visible trace of the element */\n\tclip-path: inset(50%); /* clip removes any visible trace of the element */\n`;\n\nexport { visuallyHidden };\n//# sourceMappingURL=visually-hidden.js.map\n","const transitions = {\n    short: '.2s cubic-bezier(.64, .57, .67, 1.53)',\n    medium: '.3s ease-in-out',\n    long: '.65s ease-in-out',\n};\n\nexport { transitions };\n//# sourceMappingURL=transitions.js.map\n","/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_media-queries--page) •\n * [Design System](https://theguardian.design/2a1e5182b/p/41be19-grids)\n */\nconst breakpoints = {\n    mobile: 320,\n    mobileMedium: 375,\n    mobileLandscape: 480,\n    phablet: 660,\n    tablet: 740,\n    desktop: 980,\n    leftCol: 1140,\n    wide: 1300,\n};\n\nexport { breakpoints };\n//# sourceMappingURL=breakpoints.js.map\n","// Arrays of colours should have pillar colors first\n// e.g. for sport:\n// const [sport300, sport400, sport500, sport600, sport800] = colors.blue\nconst colors = {\n    reds: [\n        '#660505',\n        '#8B0000',\n        '#AB0613',\n        '#C70000',\n        '#FF5943',\n        '#FF9081',\n        '#FFBAC8',\n        '#FFF4F2', //news-800\n    ],\n    oranges: [\n        '#672005',\n        '#8D2700',\n        '#C74600',\n        '#E05E00',\n        '#FF7F0F',\n        '#FF9941',\n        '#F9B376',\n        '#FEF9F5', //opinion-800\n    ],\n    blues: [\n        '#003C60',\n        '#004E7C',\n        '#005689',\n        '#0077B6',\n        '#00B2FF',\n        '#90DCFF',\n        '#F1F8FC',\n        '#001536',\n        '#041F4A',\n        '#052962',\n        '#506991',\n        '#C1D8FC', //brand-800\n    ],\n    browns: [\n        '#2B2625',\n        '#3E3323',\n        '#574835',\n        '#6B5840',\n        '#866D50',\n        '#A1845C',\n        '#EACCA0',\n        '#E7D4B9',\n        '#EFE8DD',\n        '#FBF6EF', //culture-800\n    ],\n    pinks: [\n        '#510043',\n        '#650054',\n        '#7D0068',\n        '#BB3B80',\n        '#F37ABC',\n        '#FFABDB',\n        '#FEC8D3',\n        '#FEEEF7', //lifestyle-800\n    ],\n    yellows: [\n        '#F3C100',\n        '#FFD900',\n        '#FFE500', //brandAlt-400\n    ],\n    greens: [\n        '#185E36',\n        '#22874D',\n        '#58D08B',\n        '#0C7A73',\n        '#65A897',\n        '#69D1CA', //labs-400\n    ],\n    grays: [\n        '#000000',\n        '#121212',\n        '#1A1A1A',\n        '#333333',\n        '#707070',\n        '#999999',\n        '#DCDCDC',\n        '#EDEDED',\n        '#F6F6F6',\n        '#FFFFFF', //neutral-100\n    ],\n    special: [\n        '#222527',\n        '#303538',\n        '#3F464A',\n        '#595C5F',\n        '#9DA0A2',\n        '#ABC2C9',\n        '#E4E5E8',\n        '#EFF1F2',\n        '#2B2B2A',\n        '#B9300A',\n        '#FF663D',\n        '#EBE6E1',\n        '#F5F0EB', //specialReportAlt-800\n    ],\n};\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_palette--palette) •\n * [Design System](https://theguardian.design/2a1e5182b/p/492a30-light-palette)\n *\n * Colour palette organised by type e.g. 'error', or pillar e.g. 'opinion'\n */\nconst palette = {\n    brand: {\n        100: colors.blues[7],\n        300: colors.blues[8],\n        400: colors.blues[9],\n        500: colors.blues[3],\n        600: colors.blues[10],\n        800: colors.blues[11],\n    },\n    brandAlt: {\n        200: colors.yellows[0],\n        300: colors.yellows[1],\n        400: colors.yellows[2],\n    },\n    neutral: {\n        0: colors.grays[0],\n        7: colors.grays[1],\n        10: colors.grays[2],\n        20: colors.grays[3],\n        46: colors.grays[4],\n        60: colors.grays[5],\n        86: colors.grays[6],\n        93: colors.grays[7],\n        97: colors.grays[8],\n        100: colors.grays[9],\n    },\n    error: {\n        400: colors.reds[3],\n        500: colors.reds[5],\n    },\n    success: {\n        400: colors.greens[1],\n        500: colors.greens[2],\n    },\n    news: {\n        100: colors.reds[0],\n        200: colors.reds[1],\n        300: colors.reds[2],\n        400: colors.reds[3],\n        500: colors.reds[4],\n        550: colors.reds[5],\n        600: colors.reds[6],\n        800: colors.reds[7],\n    },\n    opinion: {\n        100: colors.oranges[0],\n        200: colors.oranges[1],\n        /**\n         * @deprecated, use opinion[400]\n         */\n        300: colors.oranges[2],\n        400: colors.oranges[2],\n        450: colors.oranges[3],\n        500: colors.oranges[4],\n        550: colors.oranges[5],\n        600: colors.oranges[6],\n        800: colors.oranges[7],\n    },\n    sport: {\n        100: colors.blues[0],\n        200: colors.blues[1],\n        300: colors.blues[2],\n        400: colors.blues[3],\n        500: colors.blues[4],\n        600: colors.blues[5],\n        800: colors.blues[6],\n    },\n    culture: {\n        50: colors.browns[0],\n        100: colors.browns[1],\n        200: colors.browns[2],\n        300: colors.browns[3],\n        /**\n         * @deprecated, use culture[400]\n         */\n        350: colors.browns[4],\n        400: colors.browns[4],\n        450: colors.browns[5],\n        500: colors.browns[6],\n        600: colors.browns[7],\n        700: colors.browns[8],\n        800: colors.browns[9],\n    },\n    lifestyle: {\n        100: colors.pinks[0],\n        200: colors.pinks[1],\n        300: colors.pinks[2],\n        400: colors.pinks[3],\n        450: colors.pinks[4],\n        500: colors.pinks[5],\n        600: colors.pinks[6],\n        800: colors.pinks[7],\n    },\n    labs: {\n        200: colors.greens[3],\n        300: colors.greens[4],\n        400: colors.greens[5],\n    },\n    specialReport: {\n        100: colors.special[0],\n        200: colors.special[1],\n        300: colors.special[2],\n        400: colors.special[3],\n        450: colors.special[4],\n        500: colors.special[5],\n        700: colors.special[6],\n        800: colors.special[7],\n    },\n    specialReportAlt: {\n        100: colors.special[8],\n        200: colors.special[9],\n        300: colors.special[10],\n        700: colors.special[11],\n        800: colors.special[12],\n    },\n    focus: {\n        400: colors.blues[3],\n    },\n};\n// Hover colours are snowflakes as they are manipulations of colours from the\n// main palette.\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_palette--palette) •\n * [Design System](https://theguardian.design/2a1e5182b/p/1377a6-tokens/t/9280ee)\n *\n * Default theme background colours\n *\n * @deprecated Use the `palette` export instead\n */\nconst background = {\n    primary: palette.neutral[100],\n    secondary: palette.neutral[97],\n    inverse: palette.neutral[10],\n    ctaPrimary: palette.brand[400],\n    ctaPrimaryHover: '#234B8A',\n    ctaSecondary: palette.brand[800],\n    ctaSecondaryHover: '#ACC9F7',\n    ctaTertiaryHover: '#E5E5E5',\n    input: palette.neutral[100],\n    inputChecked: palette.brand[500],\n};\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_palette--palette) •\n * [Design System](https://theguardian.design/2a1e5182b/p/1377a6-tokens/t/63cc10)\n *\n * Brand theme background colours\n *\n * @deprecated Use the `palette` export instead\n */\nconst brandBackground = {\n    primary: palette.brand[400],\n    inputChecked: palette.neutral[100],\n    ctaPrimary: palette.neutral[100],\n    ctaPrimaryHover: '#E0E0E0',\n    ctaSecondary: palette.brand[600],\n    ctaSecondaryHover: '#234B8A',\n    ctaTertiaryHover: palette.brand[300],\n};\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_palette--palette) •\n * [Design System](https://theguardian.design/2a1e5182b/p/1377a6-tokens/t/743232)\n *\n * Alternative brand theme background colours\n *\n * @deprecated Use the `palette` export instead\n */\nconst brandAltBackground = {\n    primary: palette.brandAlt[400],\n    ctaPrimary: palette.neutral[7],\n    ctaPrimaryHover: '#454545',\n    ctaSecondary: palette.brandAlt[200],\n    ctaSecondaryHover: '#F2AE00',\n    ctaTertiaryHover: '#FFD213',\n};\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_palette--palette) •\n * [Design System](https://theguardian.design/2a1e5182b/p/1377a6-tokens/t/69c92f)\n *\n * Default theme border colours\n *\n * @deprecated Use the `palette` export instead\n */\nconst border = {\n    primary: palette.neutral[60],\n    secondary: palette.neutral[86],\n    success: palette.success[400],\n    error: palette.error[400],\n    ctaTertiary: palette.brand[400],\n    input: palette.neutral[60],\n    inputChecked: palette.brand[500],\n    inputHover: palette.brand[500],\n    inputActive: palette.brand[500],\n    focusHalo: palette.focus[400],\n};\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_palette--palette) •\n * [Design System](https://theguardian.design/2a1e5182b/p/1377a6-tokens/t/04883b)\n *\n * Brand theme border colours\n *\n * @deprecated Use the `palette` export instead\n */\nconst brandBorder = {\n    primary: palette.brand[600],\n    secondary: palette.brand[600],\n    success: palette.success[500],\n    error: palette.error[500],\n    ctaTertiary: palette.neutral[100],\n    input: palette.brand[800],\n    inputChecked: palette.neutral[100],\n    inputHover: palette.neutral[100],\n};\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_palette--palette) •\n * [Design System](https://theguardian.design/2a1e5182b/p/1377a6-tokens/b/21c6cc)\n *\n * Alternative brand theme border colours\n *\n * @deprecated Use the `palette` export instead\n */\nconst brandAltBorder = {\n    ctaTertiary: palette.neutral[7],\n};\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_palette--palette) •\n * [Design System](https://theguardian.design/2a1e5182b/p/1377a6-tokens/t/593cc9)\n *\n * Default theme line colours\n *\n * @deprecated Use the `palette` export instead\n */\nconst line = {\n    primary: palette.neutral[86],\n};\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_palette--palette) •\n * [Design System](https://theguardian.design/2a1e5182b/p/1377a6-tokens/t/66455d)\n *\n * Brand theme line colours\n *\n * @deprecated Use the `palette` export instead\n */\nconst brandLine = {\n    primary: palette.brand[600],\n};\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_palette--palette) •\n * [Design System](https://theguardian.design/2a1e5182b/p/1377a6-tokens/t/89955e)\n *\n * Alternative brand theme line colours\n *\n * @deprecated Use the `palette` export instead\n */\nconst brandAltLine = {\n    primary: palette.neutral[7],\n};\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_palette--palette) •\n * [Design System](https://theguardian.design/2a1e5182b/p/1377a6-tokens/t/85d3b0)\n *\n * Default theme text colours\n *\n * @deprecated Use the `palette` export instead\n */\nconst text = {\n    primary: palette.neutral[7],\n    supporting: palette.neutral[46],\n    success: palette.success[400],\n    error: palette.error[400],\n    ctaPrimary: palette.neutral[100],\n    ctaSecondary: palette.brand[400],\n    ctaTertiary: palette.brand[400],\n    anchorPrimary: palette.brand[500],\n    anchorSecondary: palette.neutral[7],\n    userInput: palette.neutral[7],\n    inputLabel: palette.neutral[7],\n    inputError: palette.neutral[7],\n    inputLabelSupporting: palette.neutral[46],\n    inputChecked: palette.brand[400],\n    inputHover: palette.brand[400],\n    groupLabel: palette.neutral[7],\n    groupLabelSupporting: palette.neutral[46],\n    newsInverse: palette.news[550],\n};\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_palette--palette) •\n * [Design System](https://theguardian.design/2a1e5182b/p/1377a6-tokens/t/244480)\n *\n * Brand theme text colours\n *\n * @deprecated Use the `palette` export instead\n */\nconst brandText = {\n    primary: palette.neutral[100],\n    supporting: palette.brand[800],\n    success: palette.success[500],\n    error: palette.error[500],\n    ctaPrimary: palette.brand[400],\n    ctaSecondary: palette.neutral[100],\n    ctaTertiary: palette.neutral[100],\n    anchorPrimary: palette.neutral[100],\n    anchorPrimaryHover: palette.brandAlt[400],\n    userInput: palette.neutral[100],\n    inputLabel: palette.neutral[100],\n    inputLabelSupporting: palette.brand[800],\n};\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_palette--palette) •\n * [Design System](https://theguardian.design/2a1e5182b/p/1377a6-tokens/t/11d5fd)\n *\n * Alternative brand theme text colours\n *\n * @deprecated Use the `palette` export instead\n */\nconst brandAltText = {\n    primary: palette.neutral[7],\n    supporting: palette.neutral[60],\n    ctaPrimary: palette.neutral[100],\n    ctaSecondary: palette.neutral[7],\n    ctaTertiary: palette.neutral[7],\n    anchorPrimary: palette.neutral[7],\n};\n\nexport { background, border, brandAltBackground, brandAltBorder, brandAltLine, brandAltText, brandBackground, brandBorder, brandLine, brandText, line, palette, text };\n//# sourceMappingURL=palette.js.map\n","import { palette } from './colour/palette.js';\nexport { background, border, brandAltBackground, brandAltBorder, brandAltLine, brandAltText, brandBackground, brandBorder, brandLine, brandText, line, palette, text } from './colour/palette.js';\nexport { descriptionId } from './accessibility/description-id.js';\nexport { focusHalo, focusHaloSpaced } from './accessibility/focus-halo.js';\nexport { generateSourceId } from './accessibility/generate-source-id.js';\nexport { visuallyHidden } from './accessibility/visually-hidden.js';\nexport { transitions } from './animation/transitions.js';\nexport { breakpoints } from './breakpoints/breakpoints.js';\nexport { between, from, until } from './mq/mq.js';\nexport { height, iconSize, remHeight, remWidth, size, width } from './size/size.js';\nexport { remSpace, space } from './space/space.js';\nexport { body, headline, textSans, titlepiece } from './typography/index.js';\nexport { body as bodyObjectStyles, headline as headlineObjectStyles, textSans as textSansObjectStyles, titlepiece as titlepieceObjectStyles } from './typography/api.js';\nexport { bodySizes, fontWeights, fonts, headlineSizes, lineHeights, remBodySizes, remHeadlineSizes, remTextSansSizes, remTitlepieceSizes, textSansSizes, titlepieceSizes } from './typography/data.js';\nexport { appearance } from './utils/supports-queries.js';\nexport { FocusStyleManager } from './accessibility/focus-style-manager.js';\nexport { pxToRem, rootPixelFontSize } from './utils/px-to-rem.js';\nexport { resets } from './utils/resets.js';\nexport { svgBackgroundImage } from './utils/svg-background-image.js';\n\n/**\n * @deprecated exports - to be removed in a future major version.\n * Colours should now be imported from the `palette` object.\n */\nconst { brand, brandAlt, neutral, error, success, news, opinion, sport, culture, lifestyle, labs, specialReport, focus, } = palette;\n\nexport { brand, brandAlt, culture, error, focus, labs, lifestyle, neutral, news, opinion, specialReport, sport, success };\n//# sourceMappingURL=index.js.map\n","import { breakpoints } from '../breakpoints/breakpoints.js';\n\nconst minWidth = (from) => `@media (min-width: ${`${from}px`})`;\nconst maxWidth = (until) => `@media (max-width: ${`${until - 1}px`})`;\nconst minWidthMaxWidth = (from, until) => `@media (min-width: ${`${from}px`}) and (max-width: ${`${until - 1}px`})`;\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_media-queries--page#from)\n *\n * @example\n *\tconst styles = css`\n *\t\t${from.mobileLandscape} {\n *\t\t\tpadding: 0 20px;\n *\t\t}\n * `;\n */\nconst from = {\n    mobile: minWidth(breakpoints.mobile),\n    mobileMedium: minWidth(breakpoints.mobileMedium),\n    mobileLandscape: minWidth(breakpoints.mobileLandscape),\n    phablet: minWidth(breakpoints.phablet),\n    tablet: minWidth(breakpoints.tablet),\n    desktop: minWidth(breakpoints.desktop),\n    leftCol: minWidth(breakpoints.leftCol),\n    wide: minWidth(breakpoints.wide),\n};\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_media-queries--page#until)\n *\n * @example\n *\tconst styles = css`\n *\t\t${until.wide} {\n *\t\t\tpadding: 0 40px;\n *\t\t}\n * `;\n */\nconst until = {\n    mobile: maxWidth(breakpoints.mobile),\n    mobileMedium: maxWidth(breakpoints.mobileMedium),\n    mobileLandscape: maxWidth(breakpoints.mobileLandscape),\n    phablet: maxWidth(breakpoints.phablet),\n    tablet: maxWidth(breakpoints.tablet),\n    desktop: maxWidth(breakpoints.desktop),\n    leftCol: maxWidth(breakpoints.leftCol),\n    wide: maxWidth(breakpoints.wide),\n};\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_media-queries--page#betweenand)\n *\n * @example\n *\tconst styles = css`\n *\t\t${between.phablet.and.desktop} {\n *\t\t\tpadding: 0 32px;\n *\t\t}\n * `;\n */\nconst between = {\n    mobile: {\n        and: {\n            mobileMedium: minWidthMaxWidth(breakpoints.mobile, breakpoints.mobileMedium),\n            mobileLandscape: minWidthMaxWidth(breakpoints.mobile, breakpoints.mobileLandscape),\n            phablet: minWidthMaxWidth(breakpoints.mobile, breakpoints.phablet),\n            tablet: minWidthMaxWidth(breakpoints.mobile, breakpoints.tablet),\n            desktop: minWidthMaxWidth(breakpoints.mobile, breakpoints.desktop),\n            leftCol: minWidthMaxWidth(breakpoints.mobile, breakpoints.leftCol),\n            wide: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.wide),\n        },\n    },\n    mobileMedium: {\n        and: {\n            mobileLandscape: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.mobileLandscape),\n            phablet: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.phablet),\n            tablet: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.tablet),\n            desktop: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.desktop),\n            leftCol: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.leftCol),\n            wide: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.wide),\n        },\n    },\n    mobileLandscape: {\n        and: {\n            phablet: minWidthMaxWidth(breakpoints.mobileLandscape, breakpoints.phablet),\n            tablet: minWidthMaxWidth(breakpoints.mobileLandscape, breakpoints.tablet),\n            desktop: minWidthMaxWidth(breakpoints.mobileLandscape, breakpoints.desktop),\n            leftCol: minWidthMaxWidth(breakpoints.mobileLandscape, breakpoints.leftCol),\n            wide: minWidthMaxWidth(breakpoints.mobileLandscape, breakpoints.wide),\n        },\n    },\n    phablet: {\n        and: {\n            tablet: minWidthMaxWidth(breakpoints.phablet, breakpoints.tablet),\n            desktop: minWidthMaxWidth(breakpoints.phablet, breakpoints.desktop),\n            leftCol: minWidthMaxWidth(breakpoints.phablet, breakpoints.leftCol),\n            wide: minWidthMaxWidth(breakpoints.phablet, breakpoints.wide),\n        },\n    },\n    tablet: {\n        and: {\n            desktop: minWidthMaxWidth(breakpoints.tablet, breakpoints.desktop),\n            leftCol: minWidthMaxWidth(breakpoints.tablet, breakpoints.leftCol),\n            wide: minWidthMaxWidth(breakpoints.tablet, breakpoints.wide),\n        },\n    },\n    desktop: {\n        and: {\n            leftCol: minWidthMaxWidth(breakpoints.desktop, breakpoints.leftCol),\n            wide: minWidthMaxWidth(breakpoints.desktop, breakpoints.wide),\n        },\n    },\n    leftCol: {\n        and: {\n            wide: minWidthMaxWidth(breakpoints.leftCol, breakpoints.wide),\n        },\n    },\n};\n\nexport { between, from, until };\n//# sourceMappingURL=mq.js.map\n","import { pxToRem } from '../utils/px-to-rem.js';\n\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_size--page#global-size-values) •\n * [Design System](https://theguardian.design/2a1e5182b/p/24a3ec-size/t/329aef)\n *\n * May be used for call to action buttons and user input fields.\n */\nconst size = {\n    xsmall: 24,\n    small: 36,\n    medium: 44, // meets WCAG 2.1 AAA compliance for touch targets.\n};\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_size--page#global-size-values) •\n * [Design System](https://theguardian.design/2a1e5182b/p/24a3ec-size/t/329aef)\n *\n * May be used for call to action buttons and user input fields.\n *\n ** `remSize.medium` -> 2.75rem\n ** `remSize.small` -> 2.25rem\n ** `remSize.xsmall` -> 1.5rem\n */\nconst remSize = {\n    xsmall: pxToRem(size.xsmall),\n    small: pxToRem(size.small),\n    medium: pxToRem(size.medium),\n};\n/*\n   We attempt to use these values for icons within Source components.\n   They are analogous with component heights defined by the size values\n   above. They are based on the size of icons used within the button\n   component.\n*/\nconst iconSize = {\n    xsmall: 20,\n    small: 26,\n    medium: 30,\n};\nconst remIconSize = {\n    xsmall: pxToRem(iconSize.xsmall),\n    small: pxToRem(iconSize.small),\n    medium: pxToRem(iconSize.medium),\n};\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_size--page#tokens) •\n * [Design System](https://theguardian.design/2a1e5182b/p/24a3ec-size/t/329aef)\n *\n * Height tokens expressed in px\n *\n ** `height.ctaMedium`: call to action buttons and links\n ** `height.ctaSmall`: secondary calls to action\n ** `height.ctaXsmall`: calls to action where there is very limited space\n ** `height.inputMedium`: text input fields, radio and checkbox labels\n ** `height.inputXsmall`: checkables such as checkboxes or radio buttons\n ** `height.iconMedium`\n ** `height.iconSmall`\n ** `height.iconXsmall`\n */\nconst height = {\n    ctaMedium: size.medium,\n    ctaSmall: size.small,\n    ctaXsmall: size.xsmall,\n    inputMedium: size.medium,\n    inputXsmall: size.xsmall,\n    iconMedium: iconSize.medium,\n    iconSmall: iconSize.small,\n    iconXsmall: iconSize.xsmall,\n};\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_size--page#tokens) •\n * [Design System](https://theguardian.design/2a1e5182b/p/24a3ec-size/t/329aef)\n *\n * Height tokens expressed in rem\n *\n ** `remHeight.ctaMedium`: call to action buttons and links\n ** `remHeight.ctaSmall`: secondary calls to action\n ** `remHeight.ctaXsmall`: calls to action where there is very limited space\n ** `remHeight.inputMedium`: text input fields, radio and checkbox labels\n ** `remHeight.inputXsmall`: checkables such as checkboxes or radio buttons\n ** `remHeight.iconMedium`\n ** `remHeight.iconSmall`\n ** `remHeight.iconXsmall`\n */\nconst remHeight = {\n    ctaMedium: remSize.medium,\n    ctaSmall: remSize.small,\n    ctaXsmall: remSize.xsmall,\n    inputMedium: remSize.medium,\n    inputXsmall: remSize.xsmall,\n    iconMedium: remIconSize.medium,\n    iconSmall: remIconSize.small,\n    iconXsmall: remIconSize.xsmall,\n};\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_size--page#tokens) •\n * [Design System](https://theguardian.design/2a1e5182b/p/00ddcb-tokens/t/797660)\n *\n * Width tokens expressed in px\n *\n ** `width.ctaMedium`: medium height call to action buttons and links\n ** `width.ctaSmall`: small height call to action buttons and links\n ** `width.ctaXsmall`: xsmall height call to action buttons and links\n ** `width.inputMedium`: text input fields, radio and checkbox labels\n ** `width.inputXsmall`: checkables such as checkboxes or radio buttons\n ** `width.inputMedium`\n ** `width.inputXsmall`: checkables such as checkboxes or radio buttons\n ** `width.iconMedium`\n ** `width.iconSmall`\n ** `width.iconXsmall`\n */\nconst width = {\n    ctaMedium: size.medium,\n    ctaSmall: size.small,\n    ctaXsmall: size.xsmall,\n    inputXsmall: size.xsmall,\n    iconMedium: iconSize.medium,\n    iconSmall: iconSize.small,\n    iconXsmall: iconSize.xsmall,\n};\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_size--page#tokens) •\n * [Design System](https://theguardian.design/2a1e5182b/p/00ddcb-tokens/t/797660)\n *\n * Width tokens expressed in rem\n *\n ** `remWidth.ctaMedium`: medium height call to action buttons and links\n ** `remWidth.ctaSmall`: small height call to action buttons and links\n ** `remWidth.ctaXsmall`: xsmall height call to action buttons and links\n ** `remWidth.inputMedium`: text input fields, radio and checkbox labels\n ** `remWidth.inputXsmall`: checkables such as checkboxes or radio buttons\n ** `remWidth.inputMedium`\n ** `remWidth.inputXsmall`: checkables such as checkboxes or radio buttons\n ** `remWidth.iconMedium`\n ** `remWidth.iconSmall`\n ** `remWidth.iconXsmall`\n */\nconst remWidth = {\n    ctaMedium: remSize.medium,\n    ctaSmall: remSize.small,\n    ctaXsmall: remSize.xsmall,\n    inputXsmall: remSize.xsmall,\n    iconMedium: remIconSize.medium,\n    iconSmall: remIconSize.small,\n    iconXsmall: remIconSize.xsmall,\n};\n\nexport { height, iconSize, remHeight, remWidth, size, width };\n//# sourceMappingURL=size.js.map\n","import { pxToRem } from '../utils/px-to-rem.js';\n\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_space--page) •\n * [Design System](https://theguardian.design/2a1e5182b/p/05f835-space)\n *\n * Can be applied to margin or padding properties, vertically or horizontally.\n *\n ** `space[1]` -> 4px\n ** `space[2]` -> 8px\n ** `space[3]` -> 12px\n ** `space[4]` -> 16px\n ** `space[5]` -> 20px\n ** `space[6]` -> 24px\n ** `space[9]` -> 36px\n ** `space[12]` -> 48px\n ** `space[24]` -> 96px\n */\nconst space = {\n    1: 4,\n    2: 8,\n    3: 12,\n    4: 16,\n    5: 20,\n    6: 24,\n    9: 36,\n    12: 48,\n    24: 96,\n};\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_space--page) •\n * [Design System](https://theguardian.design/2a1e5182b/p/05f835-space)\n *\n * Can be applied to margin or padding properties, vertically or horizontally.\n *\n ** `remSpace[1]` -> 0.25rem\n ** `remSpace[2]` -> 0.5rem\n ** `remSpace[3]` -> 0.75rem\n ** `remSpace[4]` -> 1rem\n ** `remSpace[5]` -> 1.25rem\n ** `remSpace[6]` -> 1.5rem\n ** `remSpace[9]` -> 2.25rem\n ** `remSpace[12]` -> 3rem\n ** `remSpace[24]` -> 6rem\n */\nconst remSpace = {\n    1: `${pxToRem(space[1])}rem`,\n    2: `${pxToRem(space[2])}rem`,\n    3: `${pxToRem(space[3])}rem`,\n    4: `${pxToRem(space[4])}rem`,\n    5: `${pxToRem(space[5])}rem`,\n    6: `${pxToRem(space[6])}rem`,\n    9: `${pxToRem(space[9])}rem`,\n    12: `${pxToRem(space[12])}rem`,\n    24: `${pxToRem(space[24])}rem`,\n};\n/* TODO: this should be exposed as a number instead of a string,\n   so consumers can perform calculations on it */\n\nexport { remSpace, space };\n//# sourceMappingURL=space.js.map\n","import { pxToRem } from '../utils/px-to-rem.js';\n\n/**\n * Pixel size values for each font that we use in the design system.\n *\n * We assert that the values match the guardian type scale in our\n * {@link [unit test suite](./typography.test.ts)}.\n */\nconst pxTextSizes = {\n    textSans: {\n        xxsmall: 12,\n        xsmall: 14,\n        small: 15,\n        medium: 17,\n        large: 20,\n        xlarge: 24,\n        xxlarge: 28,\n        xxxlarge: 34,\n    },\n    body: {\n        xsmall: 14,\n        small: 15,\n        medium: 17,\n    },\n    headline: {\n        xxxsmall: 17,\n        xxsmall: 20,\n        xsmall: 24,\n        small: 28,\n        medium: 34,\n        large: 42,\n        xlarge: 50,\n    },\n    titlepiece: {\n        small: 42,\n        medium: 50,\n        large: 70,\n    },\n};\n/**\n * Relative font sizes, calculated from the pixel sizes above;\n * using the pxToRem method.\n *\n * We assert that the computed rem values match the expected values\n * in our {@link [unit test suite](./typography.test.ts)}.\n *\n * See {@link [pxToRem](../utils/px-to-rem.ts)} for more details.\n */\nconst remTextSizes = {\n    textSans: {\n        xxsmall: pxToRem(pxTextSizes.textSans.xxsmall),\n        xsmall: pxToRem(pxTextSizes.textSans.xsmall),\n        small: pxToRem(pxTextSizes.textSans.small),\n        medium: pxToRem(pxTextSizes.textSans.medium),\n        large: pxToRem(pxTextSizes.textSans.large),\n        xlarge: pxToRem(pxTextSizes.textSans.xlarge),\n        xxlarge: pxToRem(pxTextSizes.textSans.xxlarge),\n        xxxlarge: pxToRem(pxTextSizes.textSans.xxxlarge),\n    },\n    body: {\n        xsmall: pxToRem(pxTextSizes.body.xsmall),\n        small: pxToRem(pxTextSizes.body.small),\n        medium: pxToRem(pxTextSizes.body.medium),\n    },\n    headline: {\n        xxxsmall: pxToRem(pxTextSizes.headline.xxxsmall),\n        xxsmall: pxToRem(pxTextSizes.headline.xxsmall),\n        xsmall: pxToRem(pxTextSizes.headline.xsmall),\n        small: pxToRem(pxTextSizes.headline.small),\n        medium: pxToRem(pxTextSizes.headline.medium),\n        large: pxToRem(pxTextSizes.headline.large),\n        xlarge: pxToRem(pxTextSizes.headline.xlarge),\n    },\n    titlepiece: {\n        small: pxToRem(pxTextSizes.titlepiece.small),\n        medium: pxToRem(pxTextSizes.titlepiece.medium),\n        large: pxToRem(pxTextSizes.titlepiece.large),\n    },\n};\nconst fonts = {\n    titlepiece: 'GT Guardian Titlepiece, Georgia, serif',\n    headline: 'GH Guardian Headline, Guardian Egyptian Web, Georgia, serif',\n    body: 'GuardianTextEgyptian, Guardian Text Egyptian Web, Georgia, serif',\n    textSans: 'GuardianTextSans, Guardian Text Sans Web, Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif',\n};\nconst lineHeights = {\n    tight: 1.15,\n    regular: 1.35,\n    loose: 1.5,\n};\nconst fontWeights = {\n    light: 300,\n    regular: 400,\n    medium: 500,\n    bold: 700,\n};\nconst availableFontWeights = {\n    titlepiece: { bold: true },\n    headline: { light: true, medium: true, bold: true },\n    body: { regular: true, bold: true },\n    textSans: { regular: true, bold: true },\n};\nconst italicsFontWeights = {\n    titlepiece: { bold: false },\n    headline: { light: true, medium: true, bold: false },\n    body: { regular: true, bold: true },\n    textSans: { regular: true, bold: false },\n};\nconst underlineThickness = {\n    textSans: {\n        xxsmall: 2,\n        xsmall: 2,\n        small: 2,\n        medium: 2,\n        large: 3,\n        xlarge: 3,\n        xxlarge: 3,\n        xxxlarge: 4,\n    },\n    body: {\n        xsmall: 2,\n        small: 2,\n        medium: 2,\n    },\n    headline: {\n        xxxsmall: 2,\n        xxsmall: 3,\n        xsmall: 3,\n        small: 3,\n        medium: 4,\n        large: 5,\n        xlarge: 6,\n    },\n    titlepiece: {\n        small: 5,\n        medium: 6,\n        large: 6,\n    },\n};\n// Pixel font size exports\nconst textSansSizes = pxTextSizes.textSans;\nconst bodySizes = pxTextSizes.body;\nconst headlineSizes = pxTextSizes.headline;\nconst titlepieceSizes = pxTextSizes.titlepiece;\n// Computed rem font size exports\nconst remBodySizes = remTextSizes.body;\nconst remTitlepieceSizes = remTextSizes.titlepiece;\nconst remHeadlineSizes = remTextSizes.headline;\nconst remTextSansSizes = remTextSizes.textSans;\n\nexport { availableFontWeights, bodySizes, fontWeights, fonts, headlineSizes, italicsFontWeights, lineHeights, pxTextSizes, remBodySizes, remHeadlineSizes, remTextSansSizes, remTextSizes, remTitlepieceSizes, textSansSizes, titlepieceSizes, underlineThickness };\n//# sourceMappingURL=data.js.map\n","import { pxTextSizes, remTextSizes, italicsFontWeights, availableFontWeights, fontWeights, lineHeights, fonts, underlineThickness } from './data.js';\n\nconst determineFontStyleProperty = (fontStyle, hasItalic) => {\n    switch (fontStyle) {\n        case 'italic':\n            return hasItalic ? 'italic' : undefined;\n        case 'normal':\n            return 'normal';\n        case null:\n        default:\n            return undefined;\n    }\n};\n/**\n * Generates a method that returns a TypographyStyles object for a given font scale.\n *\n * **Example**, generate a method that returns styles for the `headline` category\n * at the `small` level and a default font weight of `medium`:\n *\n * ```\n * const headlineSmall =\n * fontStyleFunction('headline', 'small', { fontWeight: 'medium' });\n * ```\n *\n * **Example usage**, we call the method to get our typography styles and override\n * the default font weight set above with `bold`:\n *\n * ```\n * const headlineSmallStyles =\n * headlineSmall({ fontWeight: 'bold' });\n * ```\n */\nconst fontStyleFunction = (category, level, defaults) => (options) => {\n    const finalFontConfiguration = {\n        ...defaults,\n        ...options,\n    };\n    // Fetch the font size in pixels and rems for the given category and level\n    const pxTextSize = Number(pxTextSizes[category][level]);\n    const remTextSize = Number(remTextSizes[category][level]);\n    // Determine if italic font-style is available for this font weight\n    const hasItalic = italicsFontWeights[category]?.[finalFontConfiguration.fontWeight] ??\n        false;\n    // Determine if setting the font weight is allowed for the given category\n    const isFontWeightAvailable = availableFontWeights[category]?.[finalFontConfiguration.fontWeight] ??\n        false;\n    const fontWeight = isFontWeightAvailable\n        ? fontWeights[finalFontConfiguration.fontWeight]\n        : undefined;\n    // line-height is defined as a unitless value, so we multiply\n    // by the element's font-size in px to get the px value\n    const lineHeight = finalFontConfiguration.unit === 'px'\n        ? `${lineHeights[finalFontConfiguration.lineHeight] * pxTextSize}px`\n        : lineHeights[finalFontConfiguration.lineHeight];\n    return {\n        lineHeight,\n        fontWeight,\n        fontSize: finalFontConfiguration.unit === 'px' ? pxTextSize : `${remTextSize}rem`,\n        fontFamily: fonts[category],\n        textDecorationThickness: Number(underlineThickness[category][level]),\n        fontStyle: determineFontStyleProperty(finalFontConfiguration.fontStyle, hasItalic),\n    };\n};\n/**\n * Generates a method that evaluates a given font scale function with the\n * provided options and returns the typography styles as a CSS string.\n *\n * For an example usage see our {@link [typography string function exports](./index.ts)}.\n *\n * The CSS string exposes a scoped variable: `--source-text-decoration-thickness`,\n * so consumers can use the recommended value for the font/weight combination.\n *\n * For the text underline thickness mappings see {@link underlineThickness}.\n */\nconst fontStyleToStringFunction = (typographyFunction) => (options) => {\n    const { fontFamily, fontSize, fontStyle, fontWeight, lineHeight, textDecorationThickness, } = typographyFunction(options);\n    return `\n\t\t\tfont-family: ${fontFamily};\n\t\t\tfont-size: ${typeof fontSize === 'number' ? `${fontSize}px` : fontSize};\n\t\t\tline-height: ${lineHeight};\n\t\t\t${fontWeight ? `font-weight: ${fontWeight}` : ''};\n\t\t\t${fontStyle ? `font-style: ${fontStyle}` : ''};\n\n\t\t\t/*\n\t\t\t * Child elements (e.g. <Link/>) can use this variable\n\t\t\t * to set the thickness of their underline.\n\t\t\t *\n\t\t\t * The thickness for each font type and weight is defined\n\t\t\t * in the underlineThickness object.\n\t\t\t */\n\t\t\t--source-text-decoration-thickness: ${textDecorationThickness === undefined\n        ? 'auto'\n        : `${textDecorationThickness}px`};\n\t\t`;\n};\n\nexport { fontStyleFunction, fontStyleToStringFunction };\n//# sourceMappingURL=font-styles.js.map\n","import { fontStyleFunction } from './font-styles.js';\n\nconst titlepieceDefaults = {\n    lineHeight: 'tight',\n    fontWeight: 'bold',\n    fontStyle: null,\n    unit: 'rem',\n};\nconst titlepiece = {\n    small: fontStyleFunction('titlepiece', 'small', titlepieceDefaults),\n    medium: fontStyleFunction('titlepiece', 'medium', titlepieceDefaults),\n    large: fontStyleFunction('titlepiece', 'large', titlepieceDefaults),\n};\nconst headlineDefaults = {\n    lineHeight: 'tight',\n    fontWeight: 'medium',\n    fontStyle: null,\n    unit: 'rem',\n};\nconst headline = {\n    xxxsmall: fontStyleFunction('headline', 'xxxsmall', headlineDefaults),\n    xxsmall: fontStyleFunction('headline', 'xxsmall', headlineDefaults),\n    xsmall: fontStyleFunction('headline', 'xsmall', headlineDefaults),\n    small: fontStyleFunction('headline', 'small', headlineDefaults),\n    medium: fontStyleFunction('headline', 'medium', headlineDefaults),\n    large: fontStyleFunction('headline', 'large', headlineDefaults),\n    xlarge: fontStyleFunction('headline', 'xlarge', headlineDefaults),\n};\nconst bodyDefaults = {\n    lineHeight: 'loose',\n    fontWeight: 'regular',\n    fontStyle: null,\n    unit: 'rem',\n};\nconst body = {\n    xsmall: fontStyleFunction('body', 'xsmall', bodyDefaults),\n    small: fontStyleFunction('body', 'small', bodyDefaults),\n    medium: fontStyleFunction('body', 'medium', bodyDefaults),\n};\nconst textSansDefaults = {\n    lineHeight: 'regular',\n    fontWeight: 'regular',\n    fontStyle: null,\n    unit: 'rem',\n};\nconst textSans = {\n    xxsmall: fontStyleFunction('textSans', 'xxsmall', textSansDefaults),\n    xsmall: fontStyleFunction('textSans', 'xsmall', textSansDefaults),\n    small: fontStyleFunction('textSans', 'small', textSansDefaults),\n    medium: fontStyleFunction('textSans', 'medium', textSansDefaults),\n    large: fontStyleFunction('textSans', 'large', textSansDefaults),\n    xlarge: fontStyleFunction('textSans', 'xlarge', textSansDefaults),\n    xxlarge: fontStyleFunction('textSans', 'xxlarge', textSansDefaults),\n    xxxlarge: fontStyleFunction('textSans', 'xxxlarge', textSansDefaults),\n};\n\nexport { body, headline, textSans, titlepiece };\n//# sourceMappingURL=api.js.map\n","import { titlepiece as titlepiece$1, headline as headline$1, body as body$1, textSans as textSans$1 } from './api.js';\nimport { fontStyleToStringFunction } from './font-styles.js';\nexport { bodySizes, fontWeights, fonts, headlineSizes, lineHeights, remBodySizes, remHeadlineSizes, remTextSansSizes, remTitlepieceSizes, textSansSizes, titlepieceSizes } from './data.js';\n\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_typography--titlepiece) •\n * [Design System](https://theguardian.design/2a1e5182b/p/602314-typography/t/358767)\n *\n * ```\n * font-family: 'GT Guardian Titlepiece';\n * ```\n */\nconst titlepiece = {\n    small: fontStyleToStringFunction(titlepiece$1.small),\n    medium: fontStyleToStringFunction(titlepiece$1.medium),\n    large: fontStyleToStringFunction(titlepiece$1.large),\n};\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_typography--headline) •\n * [Design System](https://theguardian.design/2a1e5182b/p/602314-typography/t/7310bd)\n *\n * ```\n * font-family: 'GH Guardian Headline';\n * ```\n */\nconst headline = {\n    xxxsmall: fontStyleToStringFunction(headline$1.xxxsmall),\n    xxsmall: fontStyleToStringFunction(headline$1.xxsmall),\n    xsmall: fontStyleToStringFunction(headline$1.xsmall),\n    small: fontStyleToStringFunction(headline$1.small),\n    medium: fontStyleToStringFunction(headline$1.medium),\n    large: fontStyleToStringFunction(headline$1.large),\n    xlarge: fontStyleToStringFunction(headline$1.xlarge),\n};\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_typography--body) •\n * [Design System](https://theguardian.design/2a1e5182b/p/602314-typography/t/88cd8e)\n *\n * ```\n * font-family: 'GuardianTextEgyptian';\n * ```\n */\nconst body = {\n    xsmall: fontStyleToStringFunction(body$1.xsmall),\n    small: fontStyleToStringFunction(body$1.small),\n    medium: fontStyleToStringFunction(body$1.medium),\n};\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_typography--text-sans) •\n * [Design System](https://theguardian.design/2a1e5182b/p/602314-typography/t/076605)\n *\n * ```\n * font-family: 'GuardianTextSans';\n * ```\n */\nconst textSans = {\n    xxsmall: fontStyleToStringFunction(textSans$1.xxsmall),\n    xsmall: fontStyleToStringFunction(textSans$1.xsmall),\n    small: fontStyleToStringFunction(textSans$1.small),\n    medium: fontStyleToStringFunction(textSans$1.medium),\n    large: fontStyleToStringFunction(textSans$1.large),\n    xlarge: fontStyleToStringFunction(textSans$1.xlarge),\n    xxlarge: fontStyleToStringFunction(textSans$1.xxlarge),\n    xxxlarge: fontStyleToStringFunction(textSans$1.xxxlarge),\n};\n\nexport { body, headline, textSans, titlepiece };\n//# sourceMappingURL=index.js.map\n","const rootPixelFontSize = 16;\nconst pxToRem = (px) => px / rootPixelFontSize;\n\nexport { pxToRem, rootPixelFontSize };\n//# sourceMappingURL=px-to-rem.js.map\n","import { palette } from '../colour/palette.js';\n\n////////////////////////////\n// Element specific resets\n////////////////////////////\n// TODO: bring element-specific resets into defaults. They can then be removed\n// from individual components\nconst legend = `\n\tpadding: 0;\n`;\nconst fieldset = `\n\tborder: 0;\n\tpadding: 0;\n\tmargin: 0;\n`;\n/*\n * Remove styling of invalid input elements that gets applied in Firefox\n */\nconst input = `\n\t&:invalid {\n\t\tbox-shadow: none;\n\t}\n`;\n////////////////////////////\n// Default resets\n////////////////////////////\n// TODO: currently including this is optional but one day will be required\n// see https://github.com/orgs/guardian/teams/client-side-infra/discussions/17\nconst defaults = `\n\t*, *:before, *:after {\n        box-sizing: border-box;\n    }\n    html {\n        -moz-osx-font-smoothing: grayscale;\n        -webkit-font-smoothing: antialiased;\n        /* always show the vertical scroll bar to stop the page\n         * jumping about when navigating between pages where\n         * one has content shorter than the viewport */\n        overflow-y: scroll;\n    }\n    html, body {\n        text-rendering: optimizeLegibility;\n        font-feature-settings: 'kern';\n        font-kerning: normal; /* Safari 7+, Firefox 24+, Chrome 33(?)+, Opera 21 */\n        font-variant-ligatures: common-ligatures;\n    }\n    body {\n        background-color: ${palette.neutral[100]};\n        color: ${palette.neutral[7]};\n    }\n    em {\n        font-style: italic;\n    }\n`;\n////////////////////////////\n// Meyer resets\n////////////////////////////\n// Originally sourced from https://github.com/shannonmoeller/reset-css\n// and https://meyerweb.com/eric/tools/css/reset/\nconst resetCSS = `\n\thtml, body, div, span, applet, object, iframe,\n\th1, h2, h3, h4, h5, h6, p, blockquote, pre,\n\ta, abbr, acronym, address, big, cite, code,\n\tdel, dfn, em, img, ins, kbd, q, s, samp,\n\tsmall, strike, strong, sub, sup, tt, var,\n\tb, u, i, center,\n\tdl, dt, dd, menu, ol, ul, li,\n\tfieldset, form, label, legend,\n\ttable, caption, tbody, tfoot, thead, tr, th, td,\n\tarticle, aside, canvas, details, embed,\n\tfigure, figcaption, footer, header, hgroup,\n\tmain, menu, nav, output, ruby, section, summary,\n\ttime, mark, audio, video {\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t\tborder: 0;\n\t\tfont-size: 100%;\n\t\tfont: inherit;\n\t\tvertical-align: baseline;\n\t}\n\t/* HTML5 display-role reset for older browsers */\n\tarticle, aside, details, figcaption, figure,\n\tfooter, header, hgroup, main, menu, nav, section {\n\t\tdisplay: block;\n\t}\n\t/* HTML5 hidden-attribute fix for newer browsers */\n\t*[hidden] {\n\t\tdisplay: none;\n\t}\n\tbody {\n\t\tline-height: 1;\n\t}\n\tmenu, ol, ul {\n\t\tlist-style: none;\n\t}\n\tblockquote, q {\n\t\tquotes: none;\n\t}\n\tblockquote:before, blockquote:after,\n\tq:before, q:after {\n\t\tcontent: '';\n\t\tcontent: none;\n\t}\n\ttable {\n\t\tborder-collapse: collapse;\n\t\tborder-spacing: 0;\n\t}\n\n\t${defaults}\n`;\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_css-reset--page)\n *\n * `resets.resetCSS`: sensible default CSS rules to provide a base for a consistent environment across projects and browsers.\n */\nconst resets = {\n    legend,\n    fieldset,\n    /** @deprecated This will be removed in a future release, as it relies on the Emotion framework */\n    input,\n    defaults,\n    resetCSS,\n};\n\nexport { resets };\n//# sourceMappingURL=resets.js.map\n","const appearance = '(appearance: none) or (-webkit-appearance: none) or (-moz-appearance: none)';\n\nexport { appearance };\n//# sourceMappingURL=supports-queries.js.map\n","import { css } from '@emotion/react';\nimport { ArticleDisplay, ArticleDesign, ArticlePillar, ArticleSpecial } from '@guardian/libs';\nimport { neutral, specialReport, labs, opinion, sport, lifestyle, culture, news, palette } from '@guardian/source-foundations';\n\nconst defaultFormat = {\n    display: ArticleDisplay.Standard,\n    design: ArticleDesign.Standard,\n    theme: ArticlePillar.News,\n};\nconst WHITE = neutral[100];\nconst decideBackground = (format, priority) => {\n    switch (priority) {\n        case 'primary':\n        case 'secondary':\n            switch (format.theme) {\n                case ArticlePillar.News:\n                    return css `\n\t\t\t\t\t\tbackground-color: ${news[300]};\n\t\t\t\t\t\t:hover {\n\t\t\t\t\t\t\tbackground-color: ${news[400]};\n\t\t\t\t\t\t\tborder: 1px solid ${news[400]};\n\t\t\t\t\t\t}\n\t\t\t\t\t`;\n                case ArticlePillar.Culture:\n                    return css `\n\t\t\t\t\t\tbackground-color: ${culture[300]};\n\t\t\t\t\t\t:hover {\n\t\t\t\t\t\t\tbackground-color: ${culture[400]};\n\t\t\t\t\t\t\tborder: 1px solid ${culture[400]};\n\t\t\t\t\t\t}\n\t\t\t\t\t`;\n                case ArticlePillar.Lifestyle:\n                    return css `\n\t\t\t\t\t\tbackground-color: ${lifestyle[300]};\n\t\t\t\t\t\t:hover {\n\t\t\t\t\t\t\tbackground-color: ${lifestyle[400]};\n\t\t\t\t\t\t\tborder: 1px solid ${lifestyle[400]};\n\t\t\t\t\t\t}\n\t\t\t\t\t`;\n                case ArticlePillar.Sport:\n                    return css `\n\t\t\t\t\t\tbackground-color: ${sport[300]};\n\t\t\t\t\t\t:hover {\n\t\t\t\t\t\t\tbackground-color: ${sport[400]};\n\t\t\t\t\t\t\tborder: 1px solid ${sport[400]};\n\t\t\t\t\t\t}\n\t\t\t\t\t`;\n                case ArticlePillar.Opinion:\n                    return css `\n\t\t\t\t\t\tbackground-color: ${opinion[300]};\n\t\t\t\t\t\t:hover {\n\t\t\t\t\t\t\tbackground-color: ${opinion[400]};\n\t\t\t\t\t\t\tborder: 1px solid ${opinion[400]};\n\t\t\t\t\t\t}\n\t\t\t\t\t`;\n                case ArticleSpecial.Labs:\n                    return css `\n\t\t\t\t\t\tbackground-color: ${labs[300]};\n\t\t\t\t\t\t:hover {\n\t\t\t\t\t\t\tbackground-color: ${labs[400]};\n\t\t\t\t\t\t\tborder: 1px solid ${labs[400]};\n\t\t\t\t\t\t}\n\t\t\t\t\t`;\n                case ArticleSpecial.SpecialReport:\n                    return css `\n\t\t\t\t\t\tbackground-color: ${specialReport[300]};\n\t\t\t\t\t\t:hover {\n\t\t\t\t\t\t\tbackground-color: ${specialReport[400]};\n\t\t\t\t\t\t\tborder: 1px solid ${specialReport[400]};\n\t\t\t\t\t\t}\n\t\t\t\t\t`;\n            }\n        // falls through\n        case 'subdued':\n        case 'tertiary':\n            return css `\n\t\t\t\tbackground-color: transparent;\n\t\t\t`;\n    }\n};\nconst decideBorder = (format, priority) => {\n    switch (priority) {\n        case 'primary':\n        case 'secondary':\n        case 'tertiary':\n            return css `\n\t\t\t\tborder: 1px solid currentColor;\n\t\t\t`;\n        case 'subdued':\n            return css `\n\t\t\t\tborder: none;\n\t\t\t`;\n    }\n};\nconst decideFont = (format, priority) => {\n    switch (priority) {\n        case 'primary':\n        case 'secondary':\n            return css `\n\t\t\t\tcolor: ${WHITE};\n\t\t\t`;\n        case 'subdued':\n        case 'tertiary':\n            switch (format.theme) {\n                case ArticlePillar.News:\n                    return css `\n\t\t\t\t\t\tcolor: ${news[400]};\n\t\t\t\t\t`;\n                case ArticlePillar.Culture:\n                    return css `\n\t\t\t\t\t\tcolor: ${culture[400]};\n\t\t\t\t\t`;\n                case ArticlePillar.Lifestyle:\n                    return css `\n\t\t\t\t\t\tcolor: ${lifestyle[400]};\n\t\t\t\t\t`;\n                case ArticlePillar.Sport:\n                    return css `\n\t\t\t\t\t\tcolor: ${sport[400]};\n\t\t\t\t\t`;\n                case ArticlePillar.Opinion:\n                    return css `\n\t\t\t\t\t\tcolor: ${opinion[400]};\n\t\t\t\t\t`;\n                case ArticleSpecial.Labs:\n                    return css `\n\t\t\t\t\t\tcolor: ${labs[400]};\n\t\t\t\t\t`;\n                case ArticleSpecial.SpecialReport:\n                    return css `\n\t\t\t\t\t\tcolor: ${specialReport[400]};\n\t\t\t\t\t`;\n                case ArticleSpecial.SpecialReportAlt:\n                    return css `\n\t\t\t\t\t\tcolor: ${palette.specialReportAlt[200]};\n\t\t\t\t\t`;\n            }\n    }\n};\n\nexport { decideBackground, decideBorder, decideFont, defaultFormat };\n//# sourceMappingURL=styles.js.map\n","import { jsx } from '@emotion/react/jsx-runtime';\nimport { Button } from '@guardian/source-react-components';\nimport { decideBackground, decideBorder, decideFont, defaultFormat } from './styles.js';\n\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-react-components-development-kitchen_editorialbutton--when-primary) •\n * [Design System](https://theguardian.design/2a1e5182b/p/435225-button) •\n * [GitHub](https://github.com/guardian/csnx/tree/main/libs/@guardian/source-react-components-development-kitchen/src/editorial-button/EditorialButton.tsx) •\n * [NPM](https://www.npmjs.com/package/@guardian/source-react-components-development-kitchen)\n *\n * This is the editorial version of the core Button component.\n * This editorial version requires the format prop and uses that to override Button styles based on `format.theme`\n *\n */\nconst EditorialButton = ({ format = defaultFormat, children, priority = 'primary', ...props }) => {\n    const backgroundOverrides = decideBackground(format, priority);\n    const borderOverrides = decideBorder(format, priority);\n    const fontOverrides = decideFont(format, priority);\n    return (jsx(Button, { priority: priority, cssOverrides: [backgroundOverrides, borderOverrides, fontOverrides], ...props, children: children }));\n};\n\nexport { EditorialButton };\n//# sourceMappingURL=EditorialButton.js.map\n","import { jsx } from '@emotion/react/jsx-runtime';\nimport { space, breakpoints, neutral } from '@guardian/source-foundations';\n\nconst thickness = 1;\nconst gapVertical = space[1];\nconst maxWidth = breakpoints.wide;\nconst getHeight = (count) => gapVertical * (count - 1) + thickness;\nconst StraightLines = ({ count = 4, color = neutral[86], cssOverrides, }) => {\n    const height = getHeight(count);\n    const viewBox = `0 0 ${maxWidth} ${height}`;\n    const lines = [];\n    for (let index = 0; index < count; index++) {\n        lines.push(jsx(\"line\", { x1: 0, x2: maxWidth, y1: index * gapVertical + 0.5, y2: index * gapVertical + 0.5 }, index));\n    }\n    return (jsx(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: \"100%\", height: height, viewBox: viewBox, preserveAspectRatio: \"none\", stroke: color, strokeWidth: thickness, css: cssOverrides, \"aria-hidden\": \"true\", focusable: \"false\", children: lines }));\n};\n\nexport { StraightLines };\n//# sourceMappingURL=StraightLines.js.map\n","import { css } from '@emotion/react';\nimport { space, textSans, size } from '@guardian/source-foundations';\n\nconst wrapperStyles = (color) => css `\n\tborder: 4px solid ${color};\n\tpadding: ${space[1]}px;\n\n\tdisplay: flex;\n`;\nconst iconStyles = (color) => css `\n\tdisplay: flex;\n\tflex: 0 1 auto;\n\tmargin-top: 1px;\n\tsvg {\n\t\tfill: ${color};\n\t\theight: ${size.xsmall}px;\n\t\twidth: ${size.xsmall}px;\n\t}\n`;\nconst messageStyles = (color, isBold = true) => css `\n\t${textSans.medium({\n    fontWeight: isBold ? 'bold' : 'regular',\n    lineHeight: 'loose',\n})}\n\tcolor: ${color};\n`;\nconst messageWrapperStyles = css `\n\tmargin-left: ${space[1]}px;\n`;\nconst contextStyles = css `\n\t${textSans.medium()}\n`;\n\nexport { contextStyles, iconStyles, messageStyles, messageWrapperStyles, wrapperStyles };\n//# sourceMappingURL=styles.js.map\n","import { jsxs, jsx } from '@emotion/react/jsx-runtime';\nimport { error } from '@guardian/source-foundations';\nimport { SvgAlertTriangle } from '@guardian/source-react-components';\nimport { wrapperStyles, iconStyles, messageWrapperStyles, messageStyles, contextStyles } from './styles.js';\n\nconst ErrorSummary = ({ message, errorReportUrl, context, cssOverrides, ...props }) => (jsxs(\"div\", { css: [wrapperStyles(error[400]), cssOverrides], ...props, children: [jsx(\"div\", { css: iconStyles(error[400]), children: jsx(SvgAlertTriangle, {}) }), jsxs(\"div\", { css: messageWrapperStyles, children: [jsx(\"div\", { css: messageStyles(error[400]), children: message }), errorReportUrl && (jsx(\"a\", { css: messageStyles(error[400], false), href: errorReportUrl, children: \"Report this error\" })), context && jsx(\"div\", { css: contextStyles, children: context })] })] }));\n\nexport { ErrorSummary };\n//# sourceMappingURL=ErrorSummary.js.map\n","import { jsx } from '@emotion/react/jsx-runtime';\nimport { buttonContents } from './shared.js';\nimport { buttonStyles } from './styles.js';\n\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/story/source-react-components_button--primary-priority-default-theme) •\n * [Design System](https://theguardian.design/2a1e5182b/p/435225-button) •\n * [GitHub](https://github.com/guardian/csnx/tree/main/libs/@guardian/source-react-components/src/button/Button.tsx) •\n * [NPM](https://www.npmjs.com/package/@guardian/source-react-components)\n *\n * Buttons enable users to make choices or perform actions.\n *\n */\nconst Button = ({ priority, size, icon: iconSvg, iconSide, hideLabel, nudgeIcon, type = 'button', isLoading = false, loadingAnnouncement = 'Loading', cssOverrides, children, ...props }) => (jsx(\"button\", { css: buttonStyles({\n        size,\n        priority,\n        icon: iconSvg,\n        hideLabel,\n        iconSide,\n        nudgeIcon,\n        cssOverrides,\n        isLoading,\n    }), type: type, \"aria-live\": \"polite\", \"aria-label\": isLoading ? loadingAnnouncement : undefined, ...props, children: buttonContents({\n        hideLabel,\n        iconSvg,\n        isLoading,\n        children,\n    }) }));\n\nexport { Button };\n//# sourceMappingURL=Button.js.map\n","import { jsx } from '@emotion/react/jsx-runtime';\nimport { buttonContents } from './shared.js';\nimport { buttonStyles } from './styles.js';\n\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/story/source-react-components_linkbutton--primary-priority-default-theme) •\n * [Design System](https://theguardian.design/2a1e5182b/p/435225-button) •\n * [GitHub](https://github.com/guardian/csnx/tree/main/libs/@guardian/source-react-components/src/button/LinkButton.tsx) •\n * [NPM](https://www.npmjs.com/package/@guardian/source-react-components)\n *\n * Buttons enable users to make choices or perform actions.\n *\n */\nconst LinkButton = ({ priority, size, iconSide, icon: iconSvg, nudgeIcon, hideLabel, cssOverrides, children, ...props }) => (jsx(\"a\", { css: buttonStyles({\n        size,\n        priority,\n        icon: iconSvg,\n        hideLabel,\n        iconSide,\n        nudgeIcon,\n        cssOverrides,\n    }), ...props, children: buttonContents({\n        hideLabel,\n        iconSvg,\n        children,\n    }) }));\n\nexport { LinkButton };\n//# sourceMappingURL=LinkButton.js.map\n","import { jsx, jsxs, Fragment } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden } from '@guardian/source-foundations';\nimport { cloneElement } from 'react';\nimport { SvgSpinner } from '../icons/SvgSpinner.js';\n\nconst buttonContents = ({ hideLabel, iconSvg, isLoading, children, }) => {\n    const contents = [children];\n    if (isLoading) {\n        if (!hideLabel) {\n            contents.push(jsx(\"div\", { className: \"src-button-space\" }, \"space\"));\n        }\n        contents.push(cloneElement(jsx(SvgSpinner, {}), {\n            key: 'svg',\n        }));\n    }\n    else if (iconSvg) {\n        if (!hideLabel) {\n            contents.push(jsx(\"div\", { className: \"src-button-space\" }, \"space\"));\n        }\n        contents.push(cloneElement(iconSvg, { key: 'svg' }));\n    }\n    if (hideLabel) {\n        return (jsxs(Fragment, { children: [jsx(\"span\", { css: css `\n\t\t\t\t\t\t${visuallyHidden};\n\t\t\t\t\t`, children: children }), contents[1]] }));\n    }\n    else {\n        return contents;\n    }\n};\n\nexport { buttonContents };\n//# sourceMappingURL=shared.js.map\n","import { css } from '@emotion/react';\nimport { transitions, focusHaloSpaced, textSans, height, space, width } from '@guardian/source-foundations';\nimport { buttonThemeDefault } from './theme.js';\n\nconst button = css `\n\tdisplay: inline-flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tbox-sizing: border-box;\n\tborder: none;\n\tbackground: transparent;\n\tcursor: pointer;\n\ttransition: ${transitions.medium};\n\ttext-decoration: none;\n\twhite-space: nowrap;\n\n\t:disabled {\n\t\tcursor: not-allowed;\n\t}\n\n\t&:focus {\n\t\t${focusHaloSpaced};\n\t}\n`;\n// Width of the loading spinner in pixels for each button size.\nconst loadingSpinnerSizes = {\n    xsmall: 16,\n    small: 20,\n    default: 24,\n};\nconst applyButtonStylesToLoadingSpinner = (size) => {\n    return css `\n\t\tpath,\n\t\tcircle {\n\t\t\ttransition: stroke ${transitions.medium};\n\t\t\tstroke: transparent;\n\t\t}\n\t\tpath {\n\t\t\tstroke: currentColor;\n\t\t}\n\t\tsvg {\n\t\t\t/*\n\t\t * The loading spinner width has been specified as 24px in the design\n\t\t * which falls outside of the icon sizes in source-foundations, so we\n\t\t * override the width here.\n\t\t */\n\t\t\twidth: ${loadingSpinnerSizes[size]}px;\n\t\t}\n\t`;\n};\nconst primary = (button = buttonThemeDefault.button) => css `\n\tbackground-color: ${button.backgroundPrimary};\n\tcolor: ${button.textPrimary};\n\n\t&:hover {\n\t\tbackground-color: ${button.backgroundPrimaryHover};\n\t}\n`;\nconst secondary = (button = buttonThemeDefault.button) => css `\n\tbackground-color: ${button.backgroundSecondary};\n\tcolor: ${button.textSecondary};\n\n\t&:hover {\n\t\tbackground-color: ${button.backgroundSecondaryHover};\n\t}\n`;\nconst tertiary = (button = buttonThemeDefault.button) => css `\n\tcolor: ${button.textTertiary};\n\tborder: 1px solid ${button.borderTertiary};\n\n\t&:hover {\n\t\tbackground-color: ${button.backgroundTertiaryHover};\n\t}\n`;\nconst subdued = (button = buttonThemeDefault.button) => css `\n\tpadding: 0;\n\tbackground-color: transparent;\n\tcolor: ${button.textSubdued};\n\ttext-decoration: underline;\n\ttext-underline-offset: 4px;\n\n\t&:hover {\n\t\ttext-decoration-thickness: 4px;\n\t}\n\n\t/* Why is this zero? Because the default is to have rounded corners but here, when\n\t   there is only text, it is more natural to show a rectangle for the focus halo */\n\tborder-radius: 0;\n`;\n/*\n    Guardian Text Sans appears to be encoded with slightly more space above the lettering\n    than below. We add a small amount of padding to the bottom of the button to ensure\n    the button label is vertically centred visually.\n    TODO: find a more scalable solution to this (see https://css-tricks.com/how-to-tame-line-height-in-css/)\n*/\nconst fontSpacingVerticalOffset = css `\n\tpadding-bottom: 2px;\n`;\nconst defaultSize = css `\n\t${textSans.medium({ fontWeight: 'bold' })};\n\theight: ${height.ctaMedium}px;\n\tmin-height: ${height.ctaMedium}px;\n\tpadding: 0 ${space[5]}px;\n\tborder-radius: ${height.ctaMedium}px;\n\t${fontSpacingVerticalOffset};\n`;\nconst smallSize = css `\n\t${textSans.medium({ fontWeight: 'bold' })};\n\theight: ${height.ctaSmall}px;\n\tmin-height: ${height.ctaSmall}px;\n\tpadding: 0 ${space[4]}px;\n\tborder-radius: ${height.ctaSmall}px;\n\t${fontSpacingVerticalOffset};\n`;\nconst xsmallSize = css `\n\t${textSans.small({ fontWeight: 'bold' })};\n\theight: ${height.ctaXsmall}px;\n\tmin-height: ${height.ctaXsmall}px;\n\tpadding: 0 ${space[3]}px;\n\tborder-radius: ${height.ctaXsmall}px;\n\t${fontSpacingVerticalOffset};\n`;\nconst iconDefault = css `\n\tsvg {\n\t\tflex: 0 0 auto;\n\t\tdisplay: block;\n\t\tfill: currentColor;\n\t\tposition: relative;\n\t\twidth: ${width.iconMedium}px;\n\t\theight: auto;\n\t}\n\t.src-button-space {\n\t\twidth: ${space[3]}px;\n\t}\n`;\nconst iconSmall = css `\n\tsvg {\n\t\tflex: 0 0 auto;\n\t\tdisplay: block;\n\t\tfill: currentColor;\n\t\tposition: relative;\n\t\twidth: ${width.iconSmall}px;\n\t\theight: auto;\n\t}\n\t.src-button-space {\n\t\twidth: ${space[2]}px;\n\t}\n`;\nconst iconXsmall = css `\n\tsvg {\n\t\tflex: 0 0 auto;\n\t\tdisplay: block;\n\t\tfill: currentColor;\n\t\tposition: relative;\n\t\twidth: ${width.iconXsmall}px;\n\t\theight: auto;\n\t}\n\t.src-button-space {\n\t\twidth: ${space[1]}px;\n\t}\n`;\n/* TODO: we add some negative margin to icons to account for\n the extra space encoded into the SVG. We should consider removing\n or significantly reducing this space\n */\nconst pullIconTowardEdge = -space[1];\nconst iconLeft = css `\n\tflex-direction: row-reverse;\n\tsvg {\n\t\tmargin-left: ${pullIconTowardEdge}px;\n\t}\n`;\nconst iconRight = css `\n\tsvg {\n\t\tmargin-right: ${pullIconTowardEdge}px;\n\t}\n`;\nconst iconOnly = css `\n\tjustify-content: center;\n\tpadding: 0;\n`;\nconst iconOnlyDefault = css `\n\t${iconOnly};\n\twidth: ${width.ctaMedium}px;\n`;\nconst iconOnlySmall = css `\n\t${iconOnly};\n\twidth: ${width.ctaSmall}px;\n`;\nconst iconOnlyXsmall = css `\n\t${iconOnly};\n\twidth: ${width.ctaXsmall}px;\n`;\nconst iconNudgeAnimation = css `\n\tsvg {\n\t\ttransform: translate(0, 0);\n\t\ttransition: ${transitions.short};\n\t}\n\t&:hover,\n\t&:focus {\n\t\tsvg {\n\t\t\ttransform: translate(${space[1] / 2}px, 0);\n\t\t}\n\t}\n`;\nconst priorities = {\n    primary,\n    secondary,\n    tertiary,\n    subdued,\n};\nconst iconSides = {\n    right: iconRight,\n    left: iconLeft,\n};\nconst sizes = {\n    default: defaultSize,\n    small: smallSize,\n    xsmall: xsmallSize,\n};\nconst iconSizes = {\n    default: iconDefault,\n    small: iconSmall,\n    xsmall: iconXsmall,\n};\nconst iconOnlySizes = {\n    default: iconOnlyDefault,\n    small: iconOnlySmall,\n    xsmall: iconOnlyXsmall,\n};\nconst buttonStyles = ({ priority = 'primary', size = 'default', icon: iconSvg, hideLabel, iconSide = 'left', nudgeIcon, cssOverrides, isLoading, }) => (theme) => [\n    button,\n    sizes[size],\n    priorities[priority](theme.button),\n    iconSvg || isLoading ? iconSizes[size] : '',\n    (iconSvg || isLoading) && !hideLabel ? iconSides[iconSide] : '',\n    nudgeIcon ? iconNudgeAnimation : '',\n    hideLabel ? iconOnlySizes[size] : '',\n    isLoading ? applyButtonStylesToLoadingSpinner(size) : undefined,\n    cssOverrides,\n];\n\nexport { buttonStyles };\n//# sourceMappingURL=styles.js.map\n","import { brand, brandAlt, neutral } from '@guardian/source-foundations';\n\nconst text = {\n    readerRevenue: {\n        ctaPrimary: brand[400],\n        ctaTertiary: brand[400],\n    },\n    readerRevenueBrand: {\n        ctaPrimary: brand[400],\n        ctaTertiary: brandAlt[400],\n    },\n    readerRevenueBrandAlt: {\n        ctaPrimary: neutral[100],\n        ctaTertiary: neutral[7],\n    },\n};\nconst background = {\n    readerRevenue: {\n        ctaPrimary: brandAlt[400],\n        ctaPrimaryHover: '#FFD213',\n        ctaTertiaryHover: '#E5E5E5',\n    },\n    readerRevenueBrand: {\n        ctaPrimary: brandAlt[400],\n        ctaPrimaryHover: '#FFD213',\n        ctaTertiaryHover: brand[300],\n    },\n    readerRevenueBrandAlt: {\n        ctaPrimary: neutral[7],\n        ctaPrimaryHover: '#454545',\n        ctaTertiaryHover: '#FFD213',\n    },\n};\nconst border = {\n    readerRevenue: {\n        ctaTertiary: brand[400],\n    },\n    readerRevenueBrand: {\n        ctaTertiary: brandAlt[400],\n    },\n    readerRevenueBrandAlt: {\n        ctaTertiary: neutral[7],\n    },\n};\nconst buttonThemeReaderRevenue = {\n    button: {\n        textPrimary: text.readerRevenue.ctaPrimary,\n        backgroundPrimary: background.readerRevenue.ctaPrimary,\n        backgroundPrimaryHover: background.readerRevenue.ctaPrimaryHover,\n        textTertiary: text.readerRevenue.ctaTertiary,\n        backgroundTertiaryHover: background.readerRevenue.ctaTertiaryHover,\n        borderTertiary: border.readerRevenue.ctaTertiary,\n    },\n};\nconst buttonThemeReaderRevenueBrand = {\n    button: {\n        textPrimary: text.readerRevenueBrand.ctaPrimary,\n        backgroundPrimary: background.readerRevenueBrand.ctaPrimary,\n        backgroundPrimaryHover: background.readerRevenueBrand.ctaPrimaryHover,\n        textTertiary: text.readerRevenueBrand.ctaTertiary,\n        backgroundTertiaryHover: background.readerRevenueBrand.ctaTertiaryHover,\n        borderTertiary: border.readerRevenueBrand.ctaTertiary,\n    },\n};\nconst buttonThemeReaderRevenueBrandAlt = {\n    button: {\n        textPrimary: text.readerRevenueBrandAlt.ctaPrimary,\n        backgroundPrimary: background.readerRevenueBrandAlt.ctaPrimary,\n        backgroundPrimaryHover: background.readerRevenueBrandAlt.ctaPrimaryHover,\n        textTertiary: text.readerRevenueBrandAlt.ctaTertiary,\n        backgroundTertiaryHover: background.readerRevenueBrandAlt.ctaTertiaryHover,\n        borderTertiary: border.readerRevenueBrandAlt.ctaTertiary,\n    },\n};\n\nexport { buttonThemeReaderRevenue, buttonThemeReaderRevenueBrand, buttonThemeReaderRevenueBrandAlt };\n//# sourceMappingURL=theme-reader-revenue.js.map\n","import { palette } from '@guardian/source-foundations';\n\nconst buttonThemeDefault = {\n    button: {\n        textPrimary: palette.neutral[100],\n        backgroundPrimary: palette.brand[400],\n        backgroundPrimaryHover: '#234B8A',\n        textSecondary: palette.brand[400],\n        backgroundSecondary: palette.brand[800],\n        backgroundSecondaryHover: '#ACC9F7',\n        textTertiary: palette.brand[400],\n        backgroundTertiaryHover: '#E5E5E5',\n        borderTertiary: palette.brand[400],\n        textSubdued: palette.brand[400],\n    },\n};\nconst buttonThemeBrand = {\n    button: {\n        textPrimary: palette.brand[400],\n        backgroundPrimary: palette.neutral[100],\n        backgroundPrimaryHover: '#E0E0E0',\n        textSecondary: palette.neutral[100],\n        backgroundSecondary: palette.brand[600],\n        backgroundSecondaryHover: '#234B8A',\n        textTertiary: palette.neutral[100],\n        backgroundTertiaryHover: palette.brand[300],\n        borderTertiary: palette.neutral[100],\n        textSubdued: palette.neutral[100],\n    },\n};\nconst buttonThemeBrandAlt = {\n    button: {\n        textPrimary: palette.neutral[100],\n        backgroundPrimary: palette.neutral[7],\n        backgroundPrimaryHover: '#454545',\n        textSecondary: palette.neutral[7],\n        backgroundSecondary: palette.brandAlt[200],\n        backgroundSecondaryHover: '#F2AE00',\n        backgroundTertiaryHover: '#FFD213',\n        borderTertiary: palette.neutral[7],\n        textSubdued: palette.neutral[7],\n    },\n};\n\nexport { buttonThemeBrand, buttonThemeBrandAlt, buttonThemeDefault };\n//# sourceMappingURL=theme.js.map\n","import { jsx } from '@emotion/react/jsx-runtime';\nimport { labelText, labelTextWithSupportingText } from './styles.js';\n\nconst LabelText = ({ hasSupportingText, children, }) => {\n    return (jsx(\"div\", { css: (theme) => [\n            labelText(theme.checkbox),\n            hasSupportingText ? labelTextWithSupportingText : '',\n        ], children: children }));\n};\n\nexport { LabelText };\n//# sourceMappingURL=LabelText.js.map\n","import { jsx } from '@emotion/react/jsx-runtime';\nimport { supportingText } from './styles.js';\n\nconst SupportingText = ({ children, }) => {\n    return (jsx(\"div\", { css: (theme) => supportingText(theme.checkbox), children: children }));\n};\n\nexport { SupportingText };\n//# sourceMappingURL=SupportingText.js.map\n","import { jsxs, jsx } from '@emotion/react/jsx-runtime';\nimport { generateSourceId } from '@guardian/source-foundations';\nimport { LabelText } from './LabelText.js';\nimport { checkboxContainer, checkboxContainerWithSupportingText, checkbox, errorCheckbox, tick, tickWithLabelText, tickWithSupportingText, label } from './styles.js';\nimport { SupportingText } from './SupportingText.js';\n\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/story/source-react-components_checkbox--default-default-theme) •\n * [Design System](https://theguardian.design/2a1e5182b/p/466fad-checkbox/b/33fc2f) •\n * [GitHub](https://github.com/guardian/csnx/tree/main/libs/@guardian/source-react-components/src/checkbox/Checkbox.tsx) •\n * [NPM](https://www.npmjs.com/package/@guardian/source-react-components)\n *\n * Checkboxes allow users to select multiple options from a list of individual\n * items or to indicate agreement of terms and  services.\n *\n * The following themes are supported: `default`, `brand`\n */\nconst Checkbox = ({ id, label: labelContent, checked, supporting, defaultChecked, error, indeterminate, cssOverrides, ...props }) => {\n    const checkboxId = id ?? generateSourceId();\n    const isChecked = () => {\n        if (checked != null) {\n            return checked;\n        }\n        return !!defaultChecked;\n    };\n    const setIndeterminate = (el) => {\n        if (el) {\n            el.indeterminate = !!indeterminate;\n        }\n    };\n    return (jsxs(\"div\", { css: (theme) => [\n            checkboxContainer(theme.checkbox, error),\n            supporting ? checkboxContainerWithSupportingText : '',\n        ], children: [jsx(\"input\", { id: checkboxId, type: \"checkbox\", css: (theme) => [\n                    checkbox(theme.checkbox, error),\n                    error ? errorCheckbox(theme.checkbox) : '',\n                    cssOverrides,\n                ], \"aria-invalid\": !!error, ref: setIndeterminate, defaultChecked: defaultChecked != null ? defaultChecked : undefined, checked: checked != null ? isChecked() : undefined, ...props }), jsx(\"span\", { css: (theme) => [\n                    tick(theme.checkbox),\n                    labelContent || supporting ? tickWithLabelText : '',\n                    supporting ? tickWithSupportingText : '',\n                ] }), jsx(\"label\", { htmlFor: checkboxId, css: label, children: supporting ? (jsxs(\"div\", { children: [jsx(LabelText, { hasSupportingText: true, children: labelContent }), jsx(SupportingText, { children: supporting })] })) : (jsx(LabelText, { children: labelContent })) })] }));\n};\n\nexport { Checkbox };\n//# sourceMappingURL=Checkbox.js.map\n","import { jsx, jsxs } from '@emotion/react/jsx-runtime';\nimport { generateSourceId, descriptionId } from '@guardian/source-foundations';\nimport { Children, cloneElement } from 'react';\nimport { Legend } from '../label/Legend.js';\nimport { InlineError } from '../user-feedback/InlineError.js';\nimport { fieldset } from './styles.js';\n\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/story/source-react-components_checkboxgroup--default-default-theme) •\n * [Design System](https://theguardian.design/2a1e5182b/p/466fad-checkbox/b/33fc2f) •\n * [GitHub](https://github.com/guardian/csnx/tree/main/libs/@guardian/source-react-components/src/checkbox/CheckboxGroup.tsx) •\n * [NPM](https://www.npmjs.com/package/@guardian/source-react-components)\n *\n * Checkboxes allow users to select multiple options from a list of individual\n * items or to indicate agreement of terms and  services.\n *\n * The following themes are supported: `default`, `brand`\n */\nconst CheckboxGroup = ({ id, name, label, hideLabel, optional = false, supporting, error, cssOverrides, children, ...props }) => {\n    const groupId = id ?? generateSourceId();\n    const legend = label ? (jsx(Legend, { text: label, supporting: supporting, hideLabel: hideLabel, optional: optional })) : ('');\n    const message = typeof error === 'string' ? (jsx(InlineError, { id: descriptionId(groupId), children: error })) : ('');\n    return (jsxs(\"fieldset\", { css: [fieldset, cssOverrides], id: groupId, ...props, children: [legend, message, Children.map(children, (child) => {\n                return cloneElement(child, Object.assign(error\n                    ? {\n                        error: true,\n                        'aria-describedby': descriptionId(groupId),\n                    }\n                    : {}, {\n                    name,\n                }));\n            })] }));\n};\n\nexport { CheckboxGroup };\n//# sourceMappingURL=CheckboxGroup.js.map\n","import { palette } from '@guardian/source-foundations';\nimport { labelThemeDefault, labelThemeBrand } from '../label/theme.js';\nimport { userFeedbackThemeDefault, userFeedbackThemeBrand } from '../user-feedback/theme.js';\n\nconst checkboxThemeDefault = {\n    checkbox: {\n        border: palette.neutral[46],\n        borderHover: palette.brand[500],\n        borderChecked: palette.brand[500],\n        borderError: palette.error[400],\n        backgroundChecked: palette.brand[500],\n        textLabel: palette.neutral[7],\n        textLabelSupporting: palette.neutral[46],\n        textIndeterminate: palette.neutral[46],\n    },\n    ...userFeedbackThemeDefault,\n    ...labelThemeDefault,\n};\nconst checkboxThemeBrand = {\n    checkbox: {\n        border: palette.brand[800],\n        borderHover: palette.neutral[100],\n        borderChecked: palette.neutral[100],\n        borderError: palette.error[500],\n        backgroundChecked: palette.neutral[100],\n        textLabel: palette.neutral[100],\n        textLabelSupporting: palette.brand[800],\n        textIndeterminate: palette.brand[800],\n    },\n    ...userFeedbackThemeBrand,\n    ...labelThemeBrand,\n};\n\nexport { checkboxThemeBrand, checkboxThemeDefault };\n//# sourceMappingURL=theme.js.map\n","import { css } from '@emotion/react';\nimport { resets, space, textSans, appearance, height, width, transitions, focusHalo } from '@guardian/source-foundations';\nimport { checkboxThemeDefault } from './theme.js';\n\nconst fieldset = css `\n\t${resets.fieldset};\n\tdisplay: flex;\n\tjustify-content: flex-start;\n\tflex-direction: column;\n`;\nconst checkboxContainer = (checkbox = checkboxThemeDefault.checkbox, error = false) => css `\n\tposition: relative;\n\tdisplay: flex;\n\talign-items: center;\n\tmin-height: ${height.inputMedium}px;\n\tcursor: pointer;\n\n\t&:hover {\n\t\tinput {\n\t\t\tborder-color: ${error ? checkbox.borderError : checkbox.borderHover};\n\t\t}\n\t}\n\t&:active {\n\t\tinput {\n\t\t\tborder-color: ${checkbox.borderHover};\n\t\t}\n\t}\n`;\nconst label = css `\n\tcursor: pointer;\n`;\nconst checkboxContainerWithSupportingText = css `\n\talign-items: flex-start;\n\tmargin-bottom: ${space[3]}px;\n`;\nconst checkbox = (checkbox = checkboxThemeDefault.checkbox, error = false) => css `\n\tflex: 0 0 auto;\n\tbox-sizing: border-box;\n\tdisplay: inline-block;\n\tcursor: pointer;\n\twidth: ${width.inputXsmall}px;\n\theight: ${height.inputXsmall}px;\n\tmargin: 0 ${space[2]}px 0 0;\n\n\tborder: 2px solid currentColor;\n\tposition: relative;\n\ttransition: box-shadow ${transitions.short};\n\ttransition-delay: 0.08s;\n\tcolor: ${checkbox.border};\n\n\t&:focus {\n\t\t${focusHalo};\n\t}\n\n\t@supports (${appearance}) {\n\t\tappearance: none;\n\t\t&:checked {\n\t\t\tborder: ${error\n    ? `4px solid ${checkbox.borderError}`\n    : `2px solid ${checkbox.borderChecked}`};\n\t\t\t& ~ span:before {\n\t\t\t\tright: 0;\n\t\t\t}\n\t\t\t& ~ span:after {\n\t\t\t\ttop: 0;\n\t\t\t}\n\t\t}\n\n\t\t&:indeterminate {\n\t\t\t&:after {\n\t\t\t\t${textSans.xlarge()};\n\t\t\t\tcolor: ${checkbox.textIndeterminate};\n\t\t\t\tcontent: '-';\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: -${space[2]}px;\n\t\t\t\tleft: 5px;\n\t\t\t\tz-index: 5;\n\t\t\t}\n\t\t}\n\t}\n`;\nconst labelText = (checkbox = checkboxThemeDefault.checkbox) => css `\n\t${textSans.medium()};\n\tcolor: ${checkbox.textLabel};\n\twidth: 100%;\n`;\nconst labelTextWithSupportingText = css `\n\t${textSans.medium()};\n`;\nconst supportingText = (checkbox = checkboxThemeDefault.checkbox) => css `\n\t${textSans.small()};\n\tcolor: ${checkbox.textLabelSupporting};\n`;\nconst tick = (checkbox = checkboxThemeDefault.checkbox) => css `\n\t@supports (\n\t\t(appearance: none) or (-webkit-appearance: none) or (-moz-appearance: none)\n\t) {\n\t\t/* overall positional properties */\n\t\tposition: absolute;\n\t\twidth: 6px;\n\t\theight: 12px;\n\t\ttransform: rotate(45deg);\n\t\t/*\n\t\t\tthese properties are very sensitive and are overridden\n\t\t\tif the checkbox has a label or supporting text\n\t\t*/\n\t\ttop: 14px;\n\t\tleft: 9px;\n\t\t/*\n\t\t\tthis prevents simulated click events to the checkbox, eg from Selenium tests\n\t\t\tfrom being intercepted by the tick\n\t\t*/\n\t\tpointer-events: none;\n\n\t\t/* the checkmark ✓ */\n\t\t&:after,\n\t\t&:before {\n\t\t\tposition: absolute;\n\t\t\tdisplay: block;\n\t\t\tbackground-color: ${checkbox.backgroundChecked};\n\t\t\ttransition: all ${transitions.short} ease-in-out;\n\t\t\tcontent: '';\n\t\t}\n\n\t\t/* the short side */\n\t\t&:before {\n\t\t\theight: 2px;\n\t\t\tbottom: 0;\n\t\t\tleft: 0;\n\t\t\tright: 100%;\n\t\t\ttransition-delay: 0.05s;\n\t\t}\n\n\t\t/* the long side */\n\t\t&:after {\n\t\t\tbottom: 0;\n\t\t\tright: 0;\n\t\t\ttop: 100%;\n\t\t\twidth: 2px;\n\t\t\ttransition-delay: 0.1s;\n\t\t}\n\t}\n`;\nconst tickWithLabelText = css `\n\t@supports (${appearance}) {\n\t\ttop: 15px;\n\t\tleft: 9px;\n\t}\n`;\nconst tickWithSupportingText = css `\n\t@supports (${appearance}) {\n\t\ttop: 5px;\n\t}\n`;\nconst errorCheckbox = (checkbox = checkboxThemeDefault.checkbox) => css `\n\tborder: 4px solid ${checkbox.borderError};\n\n\t&:not(:checked):hover,\n\t&:active {\n\t\tborder: 2px solid ${checkbox.borderHover};\n\t}\n`;\n\nexport { checkbox, checkboxContainer, checkboxContainerWithSupportingText, errorCheckbox, fieldset, label, labelText, labelTextWithSupportingText, supportingText, tick, tickWithLabelText, tickWithSupportingText };\n//# sourceMappingURL=styles.js.map\n","import { jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { until, from } from '@guardian/source-foundations';\n\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/story/source-react-components_hide--hidden-from-tablet-at-mobile) •\n * [Design System](https://theguardian.design/2a1e5182b/p/78cb73-hide) •\n * [GitHub](https://github.com/guardian/csnx/tree/main/libs/@guardian/source-react-components/src/hide/Hide.tsx) •\n * [NPM](https://www.npmjs.com/package/@guardian/source-react-components)\n *\n * Hides child content `until` and/or `from` a given breakpoint.\n */\nconst Hide = ({ children, above, // deprecated\nbelow, // deprecated\nfrom: from$1 = above, until: until$1 = below, }) => {\n    let whenToHide;\n    if (until$1) {\n        whenToHide = css `\n\t\t\t${until[until$1]} {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t`;\n    }\n    if (from$1) {\n        whenToHide = css `\n\t\t\t${whenToHide}\n\t\t\t${from[from$1]} {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t`;\n    }\n    return jsx(\"span\", { css: whenToHide, children: children });\n};\n\nexport { Hide };\n//# sourceMappingURL=Hide.js.map\n","import { jsx, jsxs } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { brand, iconSize } from '@guardian/source-foundations';\n\nconst circleLineThickness = 5;\nconst lightblueStyles = css `\n\tstroke: #a5c0e8;\n\tstroke-width: ${circleLineThickness};\n\tfill: transparent;\n`;\nconst darkblueStyles = css `\n\tstroke: ${brand['400']};\n\tstroke-dasharray: 82;\n\tstroke-dashoffset: 82;\n\tstroke-width: ${circleLineThickness};\n\tfill: transparent;\n`;\nconst SvgSpinner = ({ size, }) => {\n    return (jsx(\"svg\", { width: size ? iconSize[size] : undefined, viewBox: \"0 0 30 30\", children: jsxs(\"g\", { children: [jsx(\"animateTransform\", { attributeName: \"transform\", attributeType: \"XML\", type: \"rotate\", from: \"0 15 15\", to: \"360 15 15\", dur: \"2.5s\", repeatCount: \"indefinite\" }), jsx(\"circle\", { cx: \"15\", cy: \"15\", r: \"12.6\", css: lightblueStyles }), jsx(\"path\", { css: darkblueStyles, d: \"M15,15 m0,-12.6 a 12.6,12.6 0 0,1 0,25.2 a 12.6,12.6 0 0,1 0,-25.2\", children: jsx(\"animate\", { attributeName: \"stroke-dashoffset\", dur: \"3.5s\", to: \"-82\", repeatCount: \"indefinite\" }) })] }) }));\n};\n\nexport { SvgSpinner };\n//# sourceMappingURL=SvgSpinner.js.map\n","import { jsxs, jsx } from '@emotion/react/jsx-runtime';\nimport { SupportingText } from './SupportingText.js';\nimport { Text } from './Text.js';\n\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/story/source-react-components_label--default-default-theme) •\n * [Design System](https://theguardian.design/2a1e5182b/p/40151e-label/b/86af7d) •\n * [GitHub](https://github.com/guardian/csnx/tree/main/libs/@guardian/source-react-components/src/label/Label.tsx) •\n * [NPM](https://www.npmjs.com/package/@guardian/source-react-components)\n *\n * A label describes a user input field.\n *\n * Label is used by other Source components, such as TextInput. Only use Label\n * if you are building your own form components.\n *\n * The following themes are supported: `light`, `brand`.\n * */\nconst Label = ({ text, supporting, optional = false, hideLabel = false, cssOverrides, children, ...props }) => {\n    return (jsxs(\"label\", { css: cssOverrides, ...props, children: [jsx(Text, { hideLabel: hideLabel, text: text, optional: optional }), supporting ? (jsx(SupportingText, { hideLabel: hideLabel, children: supporting })) : (''), children] }));\n};\n\nexport { Label };\n//# sourceMappingURL=Label.js.map\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { legend } from './styles.js';\nimport { SupportingText } from './SupportingText.js';\nimport { Text } from './Text.js';\n\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/story/source-react-components_legend--default-default-theme) •\n * [Design System](https://theguardian.design/2a1e5182b/p/40151e-label/b/86af7d) •\n * [GitHub](https://github.com/guardian/csnx/tree/main/libs/@guardian/source-react-components/src/label/Legend.tsx) •\n * [NPM](https://www.npmjs.com/package/@guardian/source-react-components)\n *\n * A legend describes a group of fields, such as a checkbox group or radio group.\n *\n * Legend is used by other Source components, such as RadioGroup. Only use Legend\n * if you are building your own form components.\n *\n * The following themes are supported: `light`, `brand`.\n * */\nconst Legend = ({ text, supporting, optional = false, hideLabel = false, cssOverrides, ...props }) => {\n    return (jsxs(Fragment, { children: [jsx(\"legend\", { css: [legend, cssOverrides], ...props, children: jsx(Text, { text: text, optional: optional, hideLabel: hideLabel }) }), supporting ? (jsx(SupportingText, { hideLabel: hideLabel, children: supporting })) : ('')] }));\n};\n\nexport { Legend };\n//# sourceMappingURL=Legend.js.map\n","import { jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden as visuallyHidden$1 } from '@guardian/source-foundations';\nimport { supportingText } from './styles.js';\n\nconst visuallyHidden = css `\n\t${visuallyHidden$1}\n`;\nconst SupportingText = ({ hideLabel, children, }) => {\n    return (jsx(\"p\", { css: (theme) => [\n            supportingText(theme.label),\n            hideLabel ? visuallyHidden : '',\n        ], children: children }));\n};\n\nexport { SupportingText };\n//# sourceMappingURL=SupportingText.js.map\n","import { jsxs, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden as visuallyHidden$1 } from '@guardian/source-foundations';\nimport { labelText, optionalText } from './styles.js';\n\nconst visuallyHidden = css `\n\t${visuallyHidden$1}\n`;\nconst Text = ({ text, optional, hideLabel, }) => (jsxs(\"div\", { css: (theme) => [\n        labelText(theme.label),\n        hideLabel ? visuallyHidden : '',\n    ], children: [text, ' ', optional ? (jsx(\"span\", { css: (theme) => optionalText(theme.label), children: \"Optional\" })) : ('')] }));\n\nexport { Text };\n//# sourceMappingURL=Text.js.map\n","import { css } from '@emotion/react';\nimport { resets, textSans } from '@guardian/source-foundations';\nimport { labelThemeDefault } from './theme.js';\n\nconst legend = css `\n\t${resets.legend};\n`;\nconst labelText = (label = labelThemeDefault.label) => css `\n\t${textSans.medium({ fontWeight: 'bold' })};\n\tcolor: ${label.textLabel};\n`;\nconst optionalText = (label = labelThemeDefault.label) => css `\n\t${textSans.small()};\n\tcolor: ${label.textOptional};\n\tfont-style: italic;\n`;\nconst supportingText = (label = labelThemeDefault.label) => css `\n\t${textSans.small()};\n\tcolor: ${label.textSupporting};\n\tmargin: 2px 0 0;\n`;\n\nexport { labelText, legend, optionalText, supportingText };\n//# sourceMappingURL=styles.js.map\n","import { palette } from '@guardian/source-foundations';\n\nconst labelThemeDefault = {\n    label: {\n        textLabel: palette.neutral[7],\n        textOptional: palette.neutral[46],\n        textSupporting: palette.neutral[46],\n        textError: palette.error[400],\n        textSuccess: palette.success[400],\n    },\n};\nconst labelThemeBrand = {\n    label: {\n        textLabel: palette.neutral[100],\n        textOptional: palette.brand[800],\n        textSupporting: palette.brand[800],\n        textError: palette.error[500],\n        textSuccess: palette.success[500],\n    },\n};\n\nexport { labelThemeBrand, labelThemeDefault };\n//# sourceMappingURL=theme.js.map\n","import { jsx } from '@emotion/react/jsx-runtime';\nimport { linkContents } from './shared.js';\nimport { linkStyles } from './styles.js';\n\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/story/source-react-components_link--primary-link-default-theme) •\n * [Design System](https://theguardian.design/2a1e5182b/p/43c26b-link/b/048fd1) •\n * [GitHub](https://github.com/guardian/csnx/tree/main/libs/@guardian/source-react-components/src/link/Link.tsx) •\n * [NPM](https://www.npmjs.com/package/@guardian/source-react-components)\n *\n * Links are used as navigational aids. They may appear inline in a paragraph, as items in a list or as stand alone text elements.\n *\n * The following themes are supported: `light`, `brand`, `brandYellow`\n */\nconst Link = ({ priority = 'primary', icon: iconSvg, iconSide = 'left', cssOverrides, children, ...props }) => {\n    return (jsx(\"a\", { css: linkStyles({\n            priority,\n            iconSvg,\n            iconSide,\n            cssOverrides,\n        }), ...props, children: linkContents({ children, iconSvg, iconSide }) }));\n};\n\nexport { Link };\n//# sourceMappingURL=Link.js.map\n","import { jsx } from '@emotion/react/jsx-runtime';\nimport { Fragment, cloneElement } from 'react';\n\nconst linkContents = ({ children, iconSvg, iconSide, }) => {\n    // a bit of underlined space; the icon sits on top\n    const spacer = (jsx(Fragment, { children: \"\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0\" }, \"spacer\"));\n    const linkContents = [children];\n    if (iconSvg) {\n        if (iconSide === 'left') {\n            linkContents.unshift(spacer, cloneElement(iconSvg, { key: 'svg' }));\n        }\n        else {\n            linkContents.push(spacer, cloneElement(iconSvg, { key: 'svg' }));\n        }\n    }\n    return linkContents;\n};\n\nexport { linkContents };\n//# sourceMappingURL=shared.js.map\n","import { palette } from '@guardian/source-foundations';\n\nconst linkThemeDefault = {\n    link: {\n        textPrimary: palette.brand[500],\n        textPrimaryHover: palette.brand[500],\n        textSecondary: palette.neutral[7],\n        textSecondaryHover: palette.neutral[7],\n    },\n};\nconst linkThemeBrand = {\n    link: {\n        textPrimary: palette.neutral[100],\n        textPrimaryHover: palette.neutral[100],\n    },\n};\nconst linkThemeBrandAlt = {\n    link: {\n        textPrimary: palette.neutral[7],\n        textPrimaryHover: palette.neutral[7],\n    },\n};\n\nexport { linkThemeBrand, linkThemeBrandAlt, linkThemeDefault };\n//# sourceMappingURL=theme.js.map\n","import { css } from '@emotion/react';\nimport { textSans, focusHalo, width, space } from '@guardian/source-foundations';\nimport { linkThemeDefault } from './theme.js';\n\nconst link = css `\n\tposition: relative;\n\t${textSans.medium()};\n\tcursor: pointer;\n\ttext-decoration: underline;\n\ttext-underline-position: under;\n\ttext-underline-offset: 5%;\n\n\tdisplay: inline;\n\talign-items: center;\n\n\t&:focus {\n\t\t${focusHalo};\n\t}\n\n\t&:hover {\n\t\t/* If the hover text decoration thickness is not set, we default to the initial value. */\n\t\ttext-decoration-thickness: var(--source-text-decoration-thickness, auto);\n\t}\n`;\nconst buttonLink = css `\n\t/* override user agent styles */\n\tborder: none;\n\tbackground: transparent;\n\tpadding: 0;\n`;\nconst primary = (link = linkThemeDefault.link) => css `\n\tcolor: ${link.textPrimary};\n\n\t&:hover {\n\t\tcolor: ${link.textPrimaryHover};\n\t}\n`;\nconst secondary = (link = linkThemeDefault.link) => css `\n\tcolor: ${link.textSecondary};\n\n\t&:hover {\n\t\tcolor: ${link.textSecondaryHover};\n\t}\n`;\nconst icon = css `\n\tsvg {\n\t\tfill: currentColor;\n\t\t/*\n\t\tTODO: hardcoded bottom margin to vertically align\n\t\ticons with text. This needs to be revisited when\n\t\tthe rules of icon spacing have been formalised\n\t\t */\n\t\tmargin-bottom: -3px;\n\t\twidth: ${width.iconXsmall}px;\n\t\theight: auto;\n\t}\n`;\nconst iconRight = css `\n\tsvg {\n\t\tmargin-left: -${space[5]}px;\n\t}\n`;\nconst iconLeft = css `\n\tsvg {\n\t\tmargin-left: -${space[6]}px;\n\t\tmargin-right: ${space[1]}px;\n\t}\n`;\nconst priorities = {\n    primary,\n    secondary,\n};\nconst iconSides = {\n    right: iconRight,\n    left: iconLeft,\n};\nconst linkStyles = ({ isButton, priority, iconSvg, iconSide = 'left', cssOverrides, }) => {\n    return (theme) => [\n        link,\n        isButton ? buttonLink : '',\n        priorities[priority](theme.link),\n        iconSvg ? icon : '',\n        iconSvg ? iconSides[iconSide] : '',\n        cssOverrides,\n    ];\n};\n\nexport { buttonLink, icon, iconLeft, iconRight, link, linkStyles, primary, secondary };\n//# sourceMappingURL=styles.js.map\n","import { jsx, jsxs, Fragment } from '@emotion/react/jsx-runtime';\nimport { generateSourceId } from '@guardian/source-foundations';\nimport { radio, radioContainer, labelWithSupportingText, label, labelTextWithSupportingText, labelText, supportingText } from './styles.js';\n\nconst LabelText = ({ hasSupportingText, children, }) => {\n    return (jsx(\"div\", { css: (theme) => [\n            hasSupportingText ? labelTextWithSupportingText : '',\n            labelText(theme.radio),\n        ], children: children }));\n};\nconst SupportingText = ({ children }) => {\n    return (jsx(\"div\", { css: (theme) => supportingText(theme.radio), children: children }));\n};\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/story/source-react-components_radio--default-default-theme) •\n * [Design System](https://theguardian.design/2a1e5182b/p/2891dd-radio-button/b/46940d) •\n * [GitHub](https://github.com/guardian/csnx/tree/main/libs/@guardian/source-react-components/src/radio/Radio.tsx) •\n * [NPM](https://www.npmjs.com/package/@guardian/source-react-components)\n *\n * Radio buttons allow users to make a single selection from a set of options.\n *\n * The following themes are supported: `default`, `brand`\n */\nconst Radio = ({ id, label: labelContent, value, supporting, checked, defaultChecked, cssOverrides, ...props }) => {\n    const radioId = id ?? generateSourceId();\n    const isChecked = () => {\n        if (checked != null) {\n            return checked;\n        }\n        return !!defaultChecked;\n    };\n    const radioControl = (jsx(\"input\", { id: radioId, type: \"radio\", css: (theme) => [radio(theme.radio), cssOverrides], value: value, defaultChecked: defaultChecked != null ? defaultChecked : undefined, checked: checked != null ? isChecked() : undefined, ...props }));\n    const labelledRadioControl = (jsxs(\"div\", { css: (theme) => [\n            radioContainer(theme.radio),\n            supporting ? labelWithSupportingText : '',\n        ], children: [radioControl, jsx(\"label\", { htmlFor: radioId, css: label, children: supporting ? (jsxs(\"div\", { children: [jsx(LabelText, { hasSupportingText: true, children: labelContent }), jsx(SupportingText, { children: supporting })] })) : (jsx(LabelText, { children: labelContent })) })] }));\n    return (jsx(Fragment, { children: labelContent || supporting ? labelledRadioControl : radioControl }));\n};\n\nexport { Radio };\n//# sourceMappingURL=Radio.js.map\n","import { css } from '@emotion/react';\nimport { space } from '@guardian/source-foundations';\n\nconst inline = css `\n\tdisplay: flex;\n\tflex-wrap: wrap;\n`;\nconst inlineSpaceStyle = (number) => css `\n\tmargin-left: -${space[number]}px;\n\t& > * {\n\t\tmargin-left: ${space[number]}px;\n\t\tmargin-bottom: ${space[number]}px;\n\t}\n`;\nconst inlineSpace = {\n    1: inlineSpaceStyle(1),\n    2: inlineSpaceStyle(2),\n    3: inlineSpaceStyle(3),\n    4: inlineSpaceStyle(4),\n    5: inlineSpaceStyle(5),\n    6: inlineSpaceStyle(6),\n    9: inlineSpaceStyle(9),\n    12: inlineSpaceStyle(12),\n    24: inlineSpaceStyle(24),\n};\n\nexport { inline, inlineSpace };\n//# sourceMappingURL=styles.js.map\n","import { jsx } from '@emotion/react/jsx-runtime';\nimport { inline, inlineSpace } from './styles.js';\n\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/story/source-react-components_inline--no-space) •\n * [Design System](https://theguardian.design/2a1e5182b/p/99f3c1-inline) •\n * [GitHub](https://github.com/guardian/csnx/tree/main/libs/@guardian/source-react-components/src/inline/Inline.tsx) •\n * [NPM](https://www.npmjs.com/package/@guardian/source-react-components)\n *\n * `Inline` components will be laid out one next to the other.\n */\nconst Inline = ({ cssOverrides, children, space, ...props }) => {\n    return (jsx(\"div\", { css: [inline, space ? inlineSpace[space] : '', cssOverrides], ...props, children: children }));\n};\n\nexport { Inline };\n//# sourceMappingURL=Inline.js.map\n","import { css } from '@emotion/react';\nimport { space } from '@guardian/source-foundations';\n\nconst stack = css `\n\t& > * {\n\t\twidth: 100%;\n\t}\n`;\nconst stackSpaceStyle = (number) => css `\n\t& > * + * {\n\t\tmargin-top: ${space[number]}px;\n\t}\n`;\nconst stackSpace = {\n    1: stackSpaceStyle(1),\n    2: stackSpaceStyle(2),\n    3: stackSpaceStyle(3),\n    4: stackSpaceStyle(4),\n    5: stackSpaceStyle(5),\n    6: stackSpaceStyle(6),\n    9: stackSpaceStyle(9),\n    12: stackSpaceStyle(12),\n    24: stackSpaceStyle(24),\n};\n\nexport { stack, stackSpace };\n//# sourceMappingURL=styles.js.map\n","import { jsx } from '@emotion/react/jsx-runtime';\nimport { stack, stackSpace } from './styles.js';\n\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/story/source-react-components_stack--default) •\n * [Design System](https://theguardian.design/2a1e5182b/p/827581-stack) •\n * [GitHub](https://github.com/guardian/csnx/tree/main/libs/@guardian/source-react-components/src/stack/Stack.tsx) •\n * [NPM](https://www.npmjs.com/package/@guardian/source-react-components)\n *\n * `Stack` components will be stacked one on top of the other.\n */\nconst Stack = ({ cssOverrides, children, space, ...props }) => {\n    return (jsx(\"div\", { css: [stack, space ? stackSpace[space] : '', cssOverrides], ...props, children: children }));\n};\n\nexport { Stack };\n//# sourceMappingURL=Stack.js.map\n","import { jsx, Fragment, jsxs } from '@emotion/react/jsx-runtime';\nimport { generateSourceId, descriptionId } from '@guardian/source-foundations';\nimport { Children, cloneElement } from 'react';\nimport { Inline } from '../inline/Inline.js';\nimport { Legend } from '../label/Legend.js';\nimport { Stack } from '../stack/Stack.js';\nimport { InlineError } from '../user-feedback/InlineError.js';\nimport { fieldset } from './styles.js';\n\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/story/source-react-components_radiogroup--default-default-theme) •\n * [Design System](https://theguardian.design/2a1e5182b/p/2891dd-radio-button/b/46940d) •\n * [GitHub](https://github.com/guardian/csnx/tree/main/libs/@guardian/source-react-components/src/radio/RadioGroup.tsx) •\n * [NPM](https://www.npmjs.com/package/@guardian/source-react-components)\n *\n * Radio buttons allow users to make a single selection from a set of options.\n *\n * The following themes are supported: `default`, `brand`\n */\nconst RadioGroup = ({ id, name, label, hideLabel = false, supporting, orientation = 'vertical', error, cssOverrides, children, ...props }) => {\n    const groupId = id ?? generateSourceId();\n    const legend = label ? (jsx(Legend, { text: label, supporting: supporting, hideLabel: hideLabel })) : ('');\n    const message = error && (jsx(InlineError, { id: descriptionId(groupId), children: error }));\n    const radioContainers = (jsx(Fragment, { children: Children.map(children, (child) => {\n            return cloneElement(child, Object.assign(error\n                ? {\n                    'aria-describedby': descriptionId(groupId),\n                }\n                : {}, {\n                name,\n            }));\n        }) }));\n    return (jsxs(\"fieldset\", { \"aria-invalid\": !!error, id: groupId, css: (theme) => [fieldset(theme.radio), cssOverrides], ...props, children: [legend, message, orientation === 'vertical' ? (jsx(Stack, { children: radioContainers })) : (jsx(Inline, { space: 5, children: radioContainers }))] }));\n};\n\nexport { RadioGroup };\n//# sourceMappingURL=RadioGroup.js.map\n","import { palette } from '@guardian/source-foundations';\nimport { labelThemeDefault, labelThemeBrand } from '../label/theme.js';\nimport { userFeedbackThemeDefault, userFeedbackThemeBrand } from '../user-feedback/theme.js';\n\nconst radioThemeDefault = {\n    radio: {\n        borderHover: palette.focus[400],\n        border: palette.neutral[60],\n        backgroundChecked: palette.focus[400],\n        textLabel: palette.neutral[7],\n        textLabelSupporting: palette.neutral[46],\n        borderError: palette.error[400],\n    },\n    ...labelThemeDefault,\n    ...userFeedbackThemeDefault,\n};\nconst radioThemeBrand = {\n    radio: {\n        borderHover: palette.neutral[100],\n        border: palette.brand[800],\n        backgroundChecked: palette.neutral[100],\n        textLabel: palette.neutral[100],\n        textLabelSupporting: palette.brand[800],\n        borderError: palette.error[500],\n    },\n    ...labelThemeBrand,\n    ...userFeedbackThemeBrand,\n};\n\nexport { radioThemeBrand, radioThemeDefault };\n//# sourceMappingURL=theme.js.map\n","import { css } from '@emotion/react';\nimport { space, textSans, resets, height, width, transitions, focusHalo, appearance } from '@guardian/source-foundations';\nimport { radioThemeDefault } from './theme.js';\n\nconst fieldset = (radio = radioThemeDefault.radio) => css `\n\t${resets.fieldset};\n\n\t&[aria-invalid='true'] input {\n\t\tborder: 4px solid ${radio.borderError};\n\n\t\t&:not(:checked):hover,\n\t\t&:active {\n\t\t\tborder: 2px solid ${radio.borderHover};\n\t\t}\n\t}\n`;\nconst radioContainer = (radio = radioThemeDefault.radio) => css `\n\tposition: relative;\n\tdisplay: flex;\n\talign-items: center;\n\tmin-height: ${height.inputMedium}px;\n\tcursor: pointer;\n\n\t&:hover {\n\t\tinput {\n\t\t\tborder-color: ${radio.borderHover};\n\t\t}\n\t}\n`;\nconst label = css `\n\tcursor: pointer;\n`;\nconst labelWithSupportingText = css `\n\talign-items: flex-start;\n\tmargin-bottom: ${space[3]}px;\n`;\nconst radio = (radio = radioThemeDefault.radio) => css `\n\tflex: 0 0 auto;\n\tcursor: pointer;\n\tbox-sizing: border-box;\n\tdisplay: inline-block;\n\twidth: ${width.inputXsmall}px;\n\theight: ${height.inputXsmall}px;\n\tmargin: 0 ${space[2]}px 0 0;\n\n\tborder: 2px solid currentColor;\n\tborder-radius: 50%;\n\tposition: relative;\n\ttransition: box-shadow ${transitions.short};\n\ttransition-delay: 0.08s;\n\n\tcolor: ${radio.border};\n\n\t&:checked {\n\t\tcolor: ${radio.backgroundChecked};\n\t}\n\n\t&:focus {\n\t\t${focusHalo};\n\t}\n\n\t/*\n\tTake care: Emotion extracts @supports blocks and moves them below\n\tall other <style> elements, making these values hard to override.\n\tI have chosen to keep these styles in the @supports block as\n\tmoving them out makes radio buttons look horrible on older browsers\n\t*/\n\t@supports (${appearance}) {\n\t\tappearance: none;\n\t\tbackground-color: transparent;\n\n\t\t&:after {\n\t\t\tbackground: currentColor;\n\t\t\tposition: absolute;\n\t\t\tcontent: '';\n\t\t\ttop: 0;\n\t\t\tright: 0;\n\t\t\tbottom: 0;\n\t\t\tleft: 0;\n\t\t\tborder-radius: 50%;\n\t\t\ttransform: scale(0);\n\t\t\ttransform-origin: center;\n\t\t\ttransition: transform ${transitions.short};\n\t\t}\n\n\t\t&:checked {\n\t\t\t&:after {\n\t\t\t\ttransform: scale(0.6);\n\t\t\t}\n\t\t}\n\t}\n`;\nconst labelText = (radio = radioThemeDefault.radio) => css `\n\t${textSans.medium()};\n\tcolor: ${radio.textLabel};\n\twidth: 100%;\n`;\nconst labelTextWithSupportingText = css `\n\t${textSans.medium({ fontWeight: 'bold' })};\n`;\nconst supportingText = (radio = radioThemeDefault.radio) => css `\n\t${textSans.small()};\n\tcolor: ${radio.textLabelSupporting};\n`;\n\nexport { fieldset, label, labelText, labelTextWithSupportingText, labelWithSupportingText, radio, radioContainer, supportingText };\n//# sourceMappingURL=styles.js.map\n","import { palette } from '@guardian/source-foundations';\nimport { userFeedbackThemeDefault } from '../user-feedback/theme.js';\n\nconst selectThemeDefault = {\n    select: {\n        textUserInput: palette.neutral[7],\n        textLabel: palette.neutral[7],\n        textLabelOptional: palette.neutral[46],\n        textLabelSupporting: palette.neutral[46],\n        textError: palette.neutral[7],\n        textSuccess: palette.success[400],\n        backgroundInput: palette.neutral[100],\n        border: palette.neutral[46],\n        borderActive: palette.focus[400],\n        borderError: palette.error[400],\n        borderSuccess: palette.success[400],\n    },\n    ...userFeedbackThemeDefault,\n};\n\nexport { selectThemeDefault };\n//# sourceMappingURL=theme.js.map\n","import { css } from '@emotion/react';\nimport { space, width, height, textSans, appearance, focusHalo } from '@guardian/source-foundations';\nimport { selectThemeDefault } from './theme.js';\n\nconst errorInput = (select = selectThemeDefault.select) => css `\n\tborder: 4px solid ${select.borderError};\n\tcolor: ${select.textError};\n\t/* When select is active and in an error state, we want the border to remain the same. */\n\t&:active {\n\t\tborder: 4px solid ${select.borderError};\n\t}\n`;\nconst successInput = (select = selectThemeDefault.select) => css `\n\tborder: 4px solid ${select.borderSuccess};\n\tcolor: ${select.textSuccess};\n\t/* When select is active and in an success state, we want the border to remain the same. */\n\t&:active {\n\t\tborder: 4px solid ${select.borderSuccess};\n\t}\n`;\nconst errorChevron = (select = selectThemeDefault.select) => css `\n\tsvg {\n\t\tfill: ${select.textError};\n\t}\n`;\nconst successChevron = (select = selectThemeDefault.select) => css `\n\tsvg {\n\t\tfill: ${select.textSuccess};\n\t}\n`;\nconst selectWrapper = (select = selectThemeDefault.select) => css `\n\tposition: relative;\n\n\tsvg {\n\t\tdisplay: none;\n\t\tposition: absolute;\n\t\tright: ${space[3]}px;\n\t\ttop: ${space[2]}px;\n\t\twidth: ${width.iconMedium}px;\n\t\theight: ${height.iconMedium}px;\n\t\tfill: ${select.textUserInput};\n\t\tpointer-events: none;\n\t}\n`;\nconst select = (select = selectThemeDefault.select) => css `\n\t\tcolor: ${select.textUserInput};\n\t\tbox-sizing: border-box;\n\t\theight: ${height.inputMedium}px;\n\t\twidth: 100%;\n\t\t${textSans.medium()};\n\t\tbackground-color: ${select.backgroundInput};\n\t\tborder: 2px solid ${select.border};\n\t\tpadding-left: ${space[2]}px;\n\n\t\t@supports (${appearance}) {\n\t\t\tappearance: none;\n\t\t\tpadding-right: ${space[2]}px;\n\n\t\t\t& ~ svg {\n\t\t\t\tdisplay: block;\n\t\t\t}\n\t\t}\n\n\t\t&:focus {\n\t\t\tborder: 2px solid ${select.borderActive};\n\t\t\t${focusHalo};\n\t\t}\n\n\t\t&:invalid {\n\t\t\t${errorInput(select)};\n\t\t}\n\t`;\n\nexport { errorChevron, errorInput, select, selectWrapper, successChevron, successInput };\n//# sourceMappingURL=styles.js.map\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { generateSourceId, descriptionId } from '@guardian/source-foundations';\nimport { SvgChevronDownSingle } from '../../vendor/icons/SvgChevronDownSingle.js';\nimport { Label } from '../label/Label.js';\nimport { InlineError } from '../user-feedback/InlineError.js';\nimport { InlineSuccess } from '../user-feedback/InlineSuccess.js';\nimport { selectWrapper, errorChevron, successChevron, select, errorInput, successInput } from './styles.js';\n\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/story/source-react-components_select--default-default-theme) •\n * [Design System](https://theguardian.design/2a1e5182b/p/663879-select-box/b/10875c) •\n * [GitHub](https://github.com/guardian/csnx/tree/main/libs/@guardian/source-react-components/src/select/Select.tsx) •\n * [NPM](https://www.npmjs.com/package/@guardian/source-react-components)\n *\n * Select boxes allow the user to make a choice from a long list of similar options.\n *\n * The following themes are supported: `light`\n */\nconst Select = ({ id, label: labelText, optional = false, hideLabel = false, supporting, error, success, cssOverrides, children, ...props }) => {\n    const selectId = id ?? generateSourceId();\n    return (jsxs(Fragment, { children: [jsxs(Label, { text: labelText, optional: !!optional, supporting: supporting, hideLabel: hideLabel, htmlFor: selectId, children: [error && (jsx(InlineError, { id: descriptionId(selectId), children: error })), !error && success && (jsx(InlineSuccess, { id: descriptionId(selectId), children: success }))] }), jsxs(\"div\", { css: (theme) => [\n                    selectWrapper(theme.select),\n                    error ? errorChevron(theme.select) : '',\n                    !error && success ? successChevron(theme.select) : '',\n                ], children: [jsx(\"select\", { css: (theme) => [\n                            select(theme.select),\n                            error ? errorInput(theme.select) : '',\n                            !error && success ? successInput(theme.select) : '',\n                            cssOverrides,\n                        ], \"aria-required\": !optional, \"aria-invalid\": !!error, \"aria-describedby\": error || success ? descriptionId(selectId) : '', id: selectId, ...props, children: children }), jsx(SvgChevronDownSingle, {})] })] }));\n};\n\nexport { Select };\n//# sourceMappingURL=Select.js.map\n","import { css } from '@emotion/react';\nimport { palette, textSans, space, focusHalo } from '@guardian/source-foundations';\n\nconst errorInput = css `\n\tborder: 4px solid ${palette.error[400]};\n\tcolor: ${palette.neutral[7]};\n\tmargin-top: 0;\n`;\nconst successInput = css `\n\tborder: 4px solid ${palette.success[400]};\n\tcolor: ${palette.success[400]};\n\tmargin-top: 0;\n`;\nconst textArea = css `\n\tbox-sizing: border-box;\n\t${textSans.medium()};\n\tcolor: ${palette.neutral[7]};\n\tbackground-color: ${palette.neutral[100]};\n\tborder: 2px solid ${palette.neutral[46]};\n\tpadding: ${space[2]}px ${space[2]}px 0 ${space[2]}px;\n\n\t&:focus {\n\t\tborder: 2px solid ${palette.brand[500]};\n\t\t${focusHalo};\n\t}\n\n\t&:invalid {\n\t\t/* Remove styling of invalid input elements that gets applied in Firefox */\n\t\tbox-shadow: none;\n\n\t\t/*\n\t\tWe automatically apply error styling to fields in an invalid state,\n\t\tbut stop short of applying it to empty required fields.\n\n\t\tNote: the following class will only be applied to a controlled\n\t\tcomponent: https://reactjs.org/docs/forms.html#controlled-components\n\t\t*/\n\t\t.src-has-value {\n\t\t\t${errorInput}\n\t\t}\n\t}\n`;\nconst labelMargin = css `\n\tmargin-top: ${space[1]}px;\n`;\nconst supportingTextMargin = css `\n\tmargin-top: 6px;\n`;\nconst inlineMessageMargin = css `\n\tmargin-top: 2px;\n`;\nconst widthFluid = css `\n\twidth: 100%;\n`;\n\nexport { errorInput, inlineMessageMargin, labelMargin, successInput, supportingTextMargin, textArea, widthFluid };\n//# sourceMappingURL=styles.js.map\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { generateSourceId, descriptionId } from '@guardian/source-foundations';\nimport { Label } from '../label/Label.js';\nimport { InlineError } from '../user-feedback/InlineError.js';\nimport { InlineSuccess } from '../user-feedback/InlineSuccess.js';\nimport { inlineMessageMargin, widthFluid, textArea, supportingTextMargin, labelMargin, errorInput, successInput } from './styles.js';\n\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/story/source-react-components_textarea--default-default-theme) •\n * [Design System](https://theguardian.design/2a1e5182b/p/567182-text-area/b/42916b) •\n * [GitHub](https://github.com/guardian/csnx/tree/main/libs/@guardian/source-react-components/src/text-area/TextArea.tsx) •\n * [NPM](https://www.npmjs.com/package/@guardian/source-react-components)\n *\n * The following themes are supported: `light`\n */\nconst TextArea = ({ id, label: labelText, optional = false, hideLabel = false, supporting, error, success, cssOverrides, rows = 3, className, value, ...props }) => {\n    const textAreaId = id ?? generateSourceId();\n    const getClassName = () => {\n        const HAS_VALUE_CLASS = 'src-has-value';\n        if (className) {\n            return `${className}${value ? ` ${HAS_VALUE_CLASS}` : ''}`;\n        }\n        if (value) {\n            return HAS_VALUE_CLASS;\n        }\n        return undefined;\n    };\n    return (jsxs(Fragment, { children: [jsxs(Label, { text: labelText, supporting: supporting, optional: !!optional, hideLabel: hideLabel, htmlFor: textAreaId, children: [error && (jsx(\"div\", { css: inlineMessageMargin, children: jsx(InlineError, { id: descriptionId(textAreaId), children: error }) })), !error && success && (jsx(\"div\", { css: inlineMessageMargin, children: jsx(InlineSuccess, { id: descriptionId(textAreaId), children: success }) }))] }), jsx(\"textarea\", { css: [\n                    widthFluid,\n                    textArea,\n                    supporting ? supportingTextMargin : labelMargin,\n                    error ? errorInput : '',\n                    !error && success ? successInput : '',\n                    cssOverrides,\n                ], id: textAreaId, \"aria-required\": !optional, \"aria-invalid\": !!error, \"aria-describedby\": error || success ? descriptionId(textAreaId) : '', required: !optional, rows: rows, className: getClassName(), value: value, ...props })] }));\n};\n\nexport { TextArea };\n//# sourceMappingURL=TextArea.js.map\n","import { palette } from '@guardian/source-foundations';\nimport { userFeedbackThemeDefault } from '../user-feedback/theme.js';\n\nconst textInputThemeDefault = {\n    textInput: {\n        textUserInput: palette.neutral[7],\n        textLabel: palette.neutral[7],\n        textLabelOptional: palette.neutral[46],\n        textLabelSupporting: palette.neutral[46],\n        textError: palette.neutral[7],\n        textSuccess: palette.success[400],\n        backgroundInput: palette.neutral[100],\n        border: palette.neutral[46],\n        borderActive: palette.focus[400],\n        borderError: palette.error[400],\n        borderSuccess: palette.success[400],\n    },\n    ...userFeedbackThemeDefault,\n};\n\nexport { textInputThemeDefault };\n//# sourceMappingURL=theme.js.map\n","import { css } from '@emotion/react';\nimport { space, height, textSans, focusHalo } from '@guardian/source-foundations';\nimport { textInputThemeDefault } from './theme.js';\n\nconst errorInput = (textInput = textInputThemeDefault.textInput) => css `\n\tborder: 4px solid ${textInput.borderError};\n\tcolor: ${textInput.textError};\n\tmargin-top: 0;\n`;\nconst successInput = (textInput = textInputThemeDefault.textInput) => css `\n\tborder: 4px solid ${textInput.borderSuccess};\n\tcolor: ${textInput.textSuccess};\n\tmargin-top: 0;\n`;\nconst textInput = (textInput = textInputThemeDefault.textInput) => css `\n\t\tbox-sizing: border-box;\n\t\theight: ${height.inputMedium}px;\n\t\t${textSans.medium()};\n\t\tcolor: ${textInput.textUserInput};\n\t\tbackground-color: ${textInput.backgroundInput};\n\t\tborder: 2px solid ${textInput.border};\n\t\tpadding: 0 ${space[2]}px;\n\n\t\t&:focus {\n\t\t\tborder: 2px solid ${textInput.borderActive};\n\t\t\t${focusHalo};\n\t\t}\n\n\t\t&:invalid {\n\t\t\t/* Remove styling of invalid input elements that gets applied in Firefox */\n\t\t\tbox-shadow: none;\n\n\t\t\t/*\n\t\t\tWe automatically apply error styling to fields in an invalid state,\n\t\t\tbut stop short of applying it to empty required fields.\n\t\t\t*/\n\t\t\t&[value]:not([value='']) {\n\t\t\t\t${errorInput(textInput)};\n\t\t\t}\n\t\t}\n\t`;\nconst labelMargin = css `\n\tmargin-top: ${space[1]}px;\n`;\nconst supportingTextMargin = css `\n\tmargin-top: 6px;\n`;\nconst inlineMessageMargin = css `\n\tmargin-top: 2px;\n`;\nconst widthFluid = css `\n\twidth: 100%;\n`;\nconst width30 = css `\n\twidth: 40ex;\n\tmax-width: 100%; /* prevent overflow on narrow viewports */\n`;\nconst width10 = css `\n\twidth: 18ex;\n`;\nconst width4 = css `\n\twidth: 9ex;\n`;\n\nexport { errorInput, inlineMessageMargin, labelMargin, successInput, supportingTextMargin, textInput, width10, width30, width4, widthFluid };\n//# sourceMappingURL=styles.js.map\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { generateSourceId, descriptionId } from '@guardian/source-foundations';\nimport { Label } from '../label/Label.js';\nimport { InlineError } from '../user-feedback/InlineError.js';\nimport { InlineSuccess } from '../user-feedback/InlineSuccess.js';\nimport { inlineMessageMargin, widthFluid, textInput, supportingTextMargin, labelMargin, errorInput, successInput, width30, width10, width4 } from './styles.js';\n\nconst widths = {\n    30: width30,\n    10: width10,\n    4: width4,\n};\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/story/source-react-components_textinput--default-default-theme) •\n * [Design System](https://theguardian.design/2a1e5182b/p/097455-text-input-field/b/050445) •\n * [GitHub](https://github.com/guardian/csnx/tree/main/libs/@guardian/source-react-components/src/text-input/TextInput.tsx) •\n * [NPM](https://www.npmjs.com/package/@guardian/source-react-components)\n *\n * Single line fields that allow users to enter freeform data.\n *\n * The following themes are supported: `light`\n */\nconst TextInput = ({ id, label: labelText, optional = false, hideLabel = false, supporting, width, error, success, cssOverrides, ...props }) => {\n    const textInputId = id ?? generateSourceId();\n    return (jsxs(Fragment, { children: [jsxs(Label, { text: labelText, optional: !!optional, hideLabel: hideLabel, supporting: supporting, htmlFor: textInputId, children: [error && (jsx(\"div\", { css: inlineMessageMargin, children: jsx(InlineError, { id: descriptionId(textInputId), children: error }) })), !error && success && (jsx(\"div\", { css: inlineMessageMargin, children: jsx(InlineSuccess, { id: descriptionId(textInputId), children: success }) }))] }), jsx(\"input\", { css: (theme) => [\n                    width ? widths[width] : widthFluid,\n                    textInput(theme.textInput),\n                    supporting ? supportingTextMargin : labelMargin,\n                    error ? errorInput(theme.textInput) : '',\n                    !error && success ? successInput(theme.textInput) : '',\n                    cssOverrides,\n                ], type: \"text\", id: textInputId, \"aria-required\": !optional, \"aria-invalid\": !!error, \"aria-describedby\": error || success ? descriptionId(textInputId) : '', required: !optional, ...props })] }));\n};\n\nexport { TextInput };\n//# sourceMappingURL=TextInput.js.map\n","import { jsxs, jsx } from '@emotion/react/jsx-runtime';\nimport { SvgAlertTriangle } from '../../vendor/icons/SvgAlertTriangle.js';\nimport { inlineError } from './styles.js';\n\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/story/source-react-components_inlineerror--inline-error-default-theme) •\n * [Design System](https://theguardian.design/2a1e5182b/p/108ed3-user-feedback/b/3803b4) •\n * [GitHub](https://github.com/guardian/csnx/tree/main/libs/@guardian/source-react-components/src/user-feedback/InlineError.tsx) •\n * [NPM](https://www.npmjs.com/package/@guardian/source-react-components-feedback)\n *\n * Used to inform the user when a validation has failed or user error has occurred. These messages indicate what went wrong and how to fix it.\n *\n * The following themes are supported: `default`, `brand`\n */\nconst InlineError = ({ children, cssOverrides, ...props }) => (jsxs(\"span\", { css: (theme) => [inlineError(theme.userFeedback), cssOverrides], role: \"alert\", ...props, children: [jsx(SvgAlertTriangle, {}), children] }));\n\nexport { InlineError };\n//# sourceMappingURL=InlineError.js.map\n","import { jsxs, jsx } from '@emotion/react/jsx-runtime';\nimport { SvgTickRound } from '../../vendor/icons/SvgTickRound.js';\nimport { inlineSuccess } from './styles.js';\n\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/story/source-react-components_inlinesuccess--inline-success-default-theme) •\n * [Design System](https://theguardian.design/2a1e5182b/p/108ed3-user-feedback/b/3803b4) •\n * [GitHub](https://github.com/guardian/csnx/tree/main/libs/@guardian/source-react-components/src/user-feedback/InlineSuccess.tsx) •\n * [NPM](https://www.npmjs.com/package/@guardian/source-react-components)\n *\n * Success messages acknowledge a user's action and do not require further action. They inform the user of processes happening in the background. For example, \"Your account details have been saved.\"\n *\n * The following themes are supported: `default`, `brand`\n */\nconst InlineSuccess = ({ children, cssOverrides, ...props }) => (jsxs(\"span\", { css: (theme) => [inlineSuccess(theme.userFeedback), cssOverrides], role: \"alert\", ...props, children: [jsx(SvgTickRound, {}), children] }));\n\nexport { InlineSuccess };\n//# sourceMappingURL=InlineSuccess.js.map\n","import { css } from '@emotion/react';\nimport { textSans, remWidth, remHeight } from '@guardian/source-foundations';\nimport { userFeedbackThemeDefault } from './theme.js';\n\nconst inlineMessage = css `\n\tdisplay: flex;\n\talign-items: flex-start;\n\t${textSans.medium()};\n\n\tsvg {\n\t\tfill: currentColor;\n\t\t/* we don't want the SVG to change size depending on available space */\n\t\tflex: none;\n\t\twidth: ${remWidth.iconMedium}rem;\n\t\theight: ${remHeight.iconMedium}rem;\n\n\t\t/*\n\t\ta visual kick to vertically align the icon with the top row of text\n\t\tand horizontally pull it to the beginning of the row\n\t\t */\n\t\ttransform: translate(-4px, -3px);\n\t}\n`;\nconst inlineError = (userFeedback = userFeedbackThemeDefault.userFeedback) => css `\n\t${inlineMessage};\n\tcolor: ${userFeedback.textError};\n`;\nconst inlineSuccess = (userFeedback = userFeedbackThemeDefault.userFeedback) => css `\n\t${inlineMessage};\n\tcolor: ${userFeedback.textSuccess};\n`;\n\nexport { inlineError, inlineSuccess };\n//# sourceMappingURL=styles.js.map\n","import { palette } from '@guardian/source-foundations';\n\nconst userFeedbackThemeDefault = {\n    userFeedback: {\n        textSuccess: palette.success[400],\n        textError: palette.error[400],\n    },\n};\nconst userFeedbackThemeBrand = {\n    userFeedback: {\n        textSuccess: palette.success[500],\n        textError: palette.error[500],\n    },\n};\n\nexport { userFeedbackThemeBrand, userFeedbackThemeDefault };\n//# sourceMappingURL=theme.js.map\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden, iconSize } from '@guardian/source-foundations';\n\nconst Svg = ({ size }) => (jsx(\"svg\", { width: size ? iconSize[size] : undefined, height: undefined, viewBox: \"-3 -3 30 30\", xmlns: \"http://www.w3.org/2000/svg\", focusable: false, \"aria-hidden\": true, children: jsx(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M11.41 2 1 19.057l.668.943h20.664l.668-.943L12.59 2h-1.18Zm-.063 12.178h1.306l.621-6.917-.856-.728h-.835l-.857.728.62 6.917ZM12 15.452c.7 0 1.274.573 1.274 1.274 0 .7-.573 1.274-1.274 1.274-.7 0-1.274-.573-1.274-1.274 0-.7.573-1.274 1.274-1.274Z\" }) }));\nconst SvgAlertTriangle = ({ size, isAnnouncedByScreenReader = false, }) => (jsxs(Fragment, { children: [jsx(Svg, { size: size }), isAnnouncedByScreenReader ? (jsx(\"span\", { css: css `\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`, children: \"Warning\" })) : ('')] }));\n\nexport { SvgAlertTriangle };\n//# sourceMappingURL=SvgAlertTriangle.js.map\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden, iconSize } from '@guardian/source-foundations';\n\nconst Svg = ({ size }) => (jsx(\"svg\", { width: size ? iconSize[size] : undefined, height: undefined, viewBox: \"-3 -3 30 30\", xmlns: \"http://www.w3.org/2000/svg\", focusable: false, \"aria-hidden\": true, children: jsx(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M1 12.956h18.274l-7.167 8.575.932.932L23 12.478v-.956l-9.96-9.985-.932.932 7.166 8.575H1v1.912Z\" }) }));\nconst SvgArrowRightStraight = ({ size, isAnnouncedByScreenReader = false, }) => (jsxs(Fragment, { children: [jsx(Svg, { size: size }), isAnnouncedByScreenReader ? (jsx(\"span\", { css: css `\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`, children: \"Arrow right\" })) : ('')] }));\n\nexport { SvgArrowRightStraight };\n//# sourceMappingURL=SvgArrowRightStraight.js.map\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden, iconSize } from '@guardian/source-foundations';\n\nconst Svg = ({ size }) => (jsx(\"svg\", { width: size ? iconSize[size] : undefined, height: undefined, viewBox: \"-3 -3 30 30\", xmlns: \"http://www.w3.org/2000/svg\", focusable: false, \"aria-hidden\": true, children: jsx(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M3.011 11.883 2 12.896l5.057 7.08h.48L22 5.005l-1.011-.986L7.537 16.207l-4.526-4.324Z\" }) }));\nconst SvgCheckmark = ({ size, isAnnouncedByScreenReader = false, }) => (jsxs(Fragment, { children: [jsx(Svg, { size: size }), isAnnouncedByScreenReader ? (jsx(\"span\", { css: css `\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`, children: \"Checkmark\" })) : ('')] }));\n\nexport { SvgCheckmark };\n//# sourceMappingURL=SvgCheckmark.js.map\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden, iconSize } from '@guardian/source-foundations';\n\nconst Svg = ({ size }) => (jsx(\"svg\", { width: size ? iconSize[size] : undefined, height: undefined, viewBox: \"-3 -3 30 30\", xmlns: \"http://www.w3.org/2000/svg\", focusable: false, \"aria-hidden\": true, children: jsx(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"m1 7.224 10.498 10.498h1.004L23 7.224l-.98-.954L12 14.708 1.98 6.27 1 7.224Z\" }) }));\nconst SvgChevronDownSingle = ({ size, isAnnouncedByScreenReader = false, }) => (jsxs(Fragment, { children: [jsx(Svg, { size: size }), isAnnouncedByScreenReader ? (jsx(\"span\", { css: css `\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`, children: \"Expand to show more\" })) : ('')] }));\n\nexport { SvgChevronDownSingle };\n//# sourceMappingURL=SvgChevronDownSingle.js.map\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden, iconSize } from '@guardian/source-foundations';\n\nconst Svg = ({ size }) => (jsx(\"svg\", { width: size ? iconSize[size] : undefined, height: undefined, viewBox: \"-3 -3 30 30\", xmlns: \"http://www.w3.org/2000/svg\", focusable: false, \"aria-hidden\": true, children: jsx(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M16.721 1 6.25 11.471v1.058L16.721 23l.982-.956L9.321 12l8.382-10.043L16.721 1Z\" }) }));\nconst SvgChevronLeftSingle = ({ size, isAnnouncedByScreenReader = false, }) => (jsxs(Fragment, { children: [jsx(Svg, { size: size }), isAnnouncedByScreenReader ? (jsx(\"span\", { css: css `\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`, children: \"Chevron left\" })) : ('')] }));\n\nexport { SvgChevronLeftSingle };\n//# sourceMappingURL=SvgChevronLeftSingle.js.map\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden, iconSize } from '@guardian/source-foundations';\n\nconst Svg = ({ size }) => (jsx(\"svg\", { width: size ? iconSize[size] : undefined, height: undefined, viewBox: \"-3 -3 30 30\", xmlns: \"http://www.w3.org/2000/svg\", focusable: false, \"aria-hidden\": true, children: jsx(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"m7.232 1-.982.957L14.632 12 6.25 22.044l.982.956 10.471-10.471V11.47L7.232 1Z\" }) }));\nconst SvgChevronRightSingle = ({ size, isAnnouncedByScreenReader = false, }) => (jsxs(Fragment, { children: [jsx(Svg, { size: size }), isAnnouncedByScreenReader ? (jsx(\"span\", { css: css `\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`, children: \"Chevron right\" })) : ('')] }));\n\nexport { SvgChevronRightSingle };\n//# sourceMappingURL=SvgChevronRightSingle.js.map\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden, iconSize } from '@guardian/source-foundations';\n\nconst Svg = ({ size }) => (jsx(\"svg\", { width: size ? iconSize[size] : undefined, height: undefined, viewBox: \"-3 -3 30 30\", xmlns: \"http://www.w3.org/2000/svg\", focusable: false, \"aria-hidden\": true, children: jsx(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M23 16.768 12.502 6.27h-1.004L1 16.768l.98.954L12 9.284l10.02 8.438.98-.954Z\" }) }));\nconst SvgChevronUpSingle = ({ size, isAnnouncedByScreenReader = false, }) => (jsxs(Fragment, { children: [jsx(Svg, { size: size }), isAnnouncedByScreenReader ? (jsx(\"span\", { css: css `\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`, children: \"Collapse to show less\" })) : ('')] }));\n\nexport { SvgChevronUpSingle };\n//# sourceMappingURL=SvgChevronUpSingle.js.map\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden, iconSize } from '@guardian/source-foundations';\n\nconst Svg = ({ size }) => (jsx(\"svg\", { width: size ? iconSize[size] : undefined, height: undefined, viewBox: \"-3 -3 30 30\", xmlns: \"http://www.w3.org/2000/svg\", focusable: false, \"aria-hidden\": true, children: jsx(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M22 12c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10Zm-8.909-.318-.659-7.864h-.886l-.682 8.523 1.159 1.159 6.34-.59V12l-5.272-.318Z\" }) }));\nconst SvgClock = ({ size, isAnnouncedByScreenReader = false, }) => (jsxs(Fragment, { children: [jsx(Svg, { size: size }), isAnnouncedByScreenReader ? (jsx(\"span\", { css: css `\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`, children: \"Clock\" })) : ('')] }));\n\nexport { SvgClock };\n//# sourceMappingURL=SvgClock.js.map\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden, iconSize } from '@guardian/source-foundations';\n\nconst Svg = ({ size }) => (jsx(\"svg\", { width: size ? iconSize[size] : undefined, height: undefined, viewBox: \"-3 -3 30 30\", xmlns: \"http://www.w3.org/2000/svg\", focusable: false, \"aria-hidden\": true, children: jsx(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M12.015 14.042 20.707 22 22 20.709 14.06 12 22 3.291 20.707 2l-8.692 7.958L3.293 2.03 2 3.321 9.97 12 2 20.679l1.293 1.291 8.722-7.928Z\" }) }));\nconst SvgCross = ({ size, isAnnouncedByScreenReader = false, }) => (jsxs(Fragment, { children: [jsx(Svg, { size: size }), isAnnouncedByScreenReader ? (jsx(\"span\", { css: css `\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`, children: \"Close\" })) : ('')] }));\n\nexport { SvgCross };\n//# sourceMappingURL=SvgCross.js.map\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden, iconSize } from '@guardian/source-foundations';\n\nconst Svg = ({ size }) => (jsx(\"svg\", { width: size ? iconSize[size] : undefined, height: undefined, viewBox: \"-3 -3 30 30\", xmlns: \"http://www.w3.org/2000/svg\", focusable: false, \"aria-hidden\": true, children: jsx(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M20.075 12.35v-.7L4.475 5.2l-.575.45v12.7l.575.4 15.6-6.4Z\" }) }));\nconst SvgMediaControlsPlay = ({ size, isAnnouncedByScreenReader = false, }) => (jsxs(Fragment, { children: [jsx(Svg, { size: size }), isAnnouncedByScreenReader ? (jsx(\"span\", { css: css `\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`, children: \"Play\" })) : ('')] }));\n\nexport { SvgMediaControlsPlay };\n//# sourceMappingURL=SvgMediaControlsPlay.js.map\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden, iconSize } from '@guardian/source-foundations';\n\nconst Svg = ({ size }) => (jsx(\"svg\", { width: size ? iconSize[size] : undefined, height: undefined, viewBox: \"-3 -3 30 30\", xmlns: \"http://www.w3.org/2000/svg\", focusable: false, \"aria-hidden\": true, children: jsx(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M1 10.75v2.5h22v-2.5H1Z\" }) }));\nconst SvgMinus = ({ size, isAnnouncedByScreenReader = false, }) => (jsxs(Fragment, { children: [jsx(Svg, { size: size }), isAnnouncedByScreenReader ? (jsx(\"span\", { css: css `\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`, children: \"Minus sign\" })) : ('')] }));\n\nexport { SvgMinus };\n//# sourceMappingURL=SvgMinus.js.map\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden, iconSize } from '@guardian/source-foundations';\n\nconst Svg = ({ size }) => (jsx(\"svg\", { width: size ? iconSize[size] : undefined, height: undefined, viewBox: \"-3 -3 30 30\", xmlns: \"http://www.w3.org/2000/svg\", focusable: false, \"aria-hidden\": true, children: jsx(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"m10.8 13.2.425 9.8h1.525l.45-9.8 9.8-.45v-1.525l-9.8-.425-.45-9.8h-1.525l-.425 9.8-9.8.425v1.525l9.8.45Z\" }) }));\nconst SvgPlus = ({ size, isAnnouncedByScreenReader = false, }) => (jsxs(Fragment, { children: [jsx(Svg, { size: size }), isAnnouncedByScreenReader ? (jsx(\"span\", { css: css `\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`, children: \"Plus sign\" })) : ('')] }));\n\nexport { SvgPlus };\n//# sourceMappingURL=SvgPlus.js.map\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden, iconSize } from '@guardian/source-foundations';\n\nconst Svg = ({ size }) => (jsx(\"svg\", { width: size ? iconSize[size] : undefined, height: undefined, viewBox: \"-3 -3 30 30\", xmlns: \"http://www.w3.org/2000/svg\", focusable: false, \"aria-hidden\": true, children: jsx(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10Zm-1.773-7.853-2.27-2.17-.8.8 2.709 3.791h.454l7.455-7.716-.82-.8-6.728 6.095Z\" }) }));\nconst SvgTickRound = ({ size, isAnnouncedByScreenReader = false, }) => (jsxs(Fragment, { children: [jsx(Svg, { size: size }), isAnnouncedByScreenReader ? (jsx(\"span\", { css: css `\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`, children: \"Ticked\" })) : ('')] }));\n\nexport { SvgTickRound };\n//# sourceMappingURL=SvgTickRound.js.map\n","const e=e=>e.get(\"gu.contributions.views\")||void 0,t=e=>{const t=e.getDay()||7;return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()-(t-1))/864e5},s=e=>e.get(\"gu.history.weeklyArticleCount\")||void 0,r=new Set([\"environment/climate-change\",\"environment/climate-crisis\",\"environment/environment\",\"science/science\",\"politics/politics\",\"us-news/us-politics\",\"australia-news/australian-politics\",\"world/world\",\"world/europe-news\",\"world/russia\",\"books/books\",\"culture/culture\",\"world/coronavirus-outbreak\",\"world/race\",\"inequality/inequality\",\"technology/technology\",\"business/business\"]),o=(e,t={})=>(e.forEach(e=>{r.has(e)&&(t[e]=(t[e]??0)+1)}),t),n=(e,s,r)=>{if(!((e,s)=>{const r=t(new Date),o=e.get(\"gu.history.articleCountsThisWeek\");if(o&&o.week===r){const t=o.articles[s]||0;return e.set(\"gu.history.articleCountsThisWeek\",{week:r,articles:{...o.articles,[s]:t+1}}),t>0}return e.set(\"gu.history.articleCountsThisWeek\",{week:r,articles:{[s]:1}}),!1})(e,s)){const s=t(new Date),n=e.get(\"gu.history.weeklyArticleCount\")||[],i=n[0];if(i&&i.week&&i.week===s)i.count+=1,i.tags=o(r,i.tags),e.set(\"gu.history.weeklyArticleCount\",n);else{n.unshift({week:s,count:1,tags:o(r,{})});const t=s-365,i=n.filter(e=>e.week>=t);e.set(\"gu.history.weeklyArticleCount\",i)}}},i=(e,t,s)=>{const r=(e=>{if(URLSearchParams){const t=new URLSearchParams(window.location.search).get(\"force-\"+e);if(t)return t}return null})(e);return fetch(`${t}/${e}${r?\"?force=\"+r:\"\"}`,{method:\"post\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(s)}).then(t=>{if(!t.ok)throw Error(t.statusText||`Supporter Revenue ${e} | Api call returned HTTP status ${t.status}`);return t}).then(e=>e.json())},c=(e,t)=>i(\"epic\",e,t),u=(e,t)=>i(\"liveblog-epic\",e,t),a=(e,t)=>i(\"banner\",e,t),l=(e,t)=>i(\"puzzles\",e,t),w=(e,t)=>i(\"header\",e,t);export{a as getBanner,c as getEpic,e as getEpicViewLog,w as getHeader,u as getLiveblogEpic,l as getPuzzlesBanner,s as getWeeklyArticleHistory,n as incrementWeeklyArticleCount};\n","import { render, hydrate, unmountComponentAtNode } from 'preact/compat';\n\nexport function createRoot(container) {\n\treturn {\n\t\trender(children) {\n\t\t\trender(children, container);\n\t\t},\n\t\tunmount() {\n\t\t\tunmountComponentAtNode(container);\n\t\t}\n\t};\n}\n\nexport function hydrateRoot(container, children) {\n\thydrate(children, container);\n\treturn createRoot(container);\n}\n\nexport default {\n\tcreateRoot,\n\thydrateRoot\n};\n","import{options as r}from\"preact\";export{Fragment}from\"preact\";var _=0;function o(o,e,n,t,f,l){var s,u,a={};for(u in e)\"ref\"==u?s=e[u]:a[u]=e[u];var i={type:o,props:a,key:n,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--_,__source:f,__self:l};if(\"function\"==typeof o&&(s=o.defaultProps))for(u in s)void 0===a[u]&&(a[u]=s[u]);return r.vnode&&r.vnode(i),i}export{o as jsx,o as jsxDEV,o as jsxs};\n//# sourceMappingURL=jsxRuntime.module.js.map\n","import { useEffect, useLayoutEffect, createContext, useContext, useState, createElement, useRef, useCallback, useDebugValue } from 'react';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\n\nvar noop = function () { };\n// Using noop() as the undefined value as undefined can possibly be replaced\n// by something else.  Prettier ignore and extra parentheses are necessary here\n// to ensure that tsc doesn't remove the __NOINLINE__ comment.\n// prettier-ignore\nvar UNDEFINED = ( /*#__NOINLINE__*/noop());\nvar OBJECT = Object;\nvar isUndefined = function (v) { return v === UNDEFINED; };\nvar isFunction = function (v) { return typeof v == 'function'; };\nvar mergeObjects = function (a, b) { return OBJECT.assign({}, a, b); };\nvar STR_UNDEFINED = 'undefined';\n// NOTE: Use function to guarantee it's re-evaluated between jsdom and node runtime for tests.\nvar hasWindow = function () { return typeof window != STR_UNDEFINED; };\nvar hasDocument = function () { return typeof document != STR_UNDEFINED; };\nvar hasRequestAnimationFrame = function () {\n    return hasWindow() && typeof window['requestAnimationFrame'] != STR_UNDEFINED;\n};\n\n// use WeakMap to store the object->key mapping\n// so the objects can be garbage collected.\n// WeakMap uses a hashtable under the hood, so the lookup\n// complexity is almost O(1).\nvar table = new WeakMap();\n// counter of the key\nvar counter = 0;\n// A stable hash implementation that supports:\n// - Fast and ensures unique hash properties\n// - Handles unserializable values\n// - Handles object key ordering\n// - Generates short results\n//\n// This is not a serialization function, and the result is not guaranteed to be\n// parsible.\nvar stableHash = function (arg) {\n    var type = typeof arg;\n    var constructor = arg && arg.constructor;\n    var isDate = constructor == Date;\n    var result;\n    var index;\n    if (OBJECT(arg) === arg && !isDate && constructor != RegExp) {\n        // Object/function, not null/date/regexp. Use WeakMap to store the id first.\n        // If it's already hashed, directly return the result.\n        result = table.get(arg);\n        if (result)\n            return result;\n        // Store the hash first for circular reference detection before entering the\n        // recursive `stableHash` calls.\n        // For other objects like set and map, we use this id directly as the hash.\n        result = ++counter + '~';\n        table.set(arg, result);\n        if (constructor == Array) {\n            // Array.\n            result = '@';\n            for (index = 0; index < arg.length; index++) {\n                result += stableHash(arg[index]) + ',';\n            }\n            table.set(arg, result);\n        }\n        if (constructor == OBJECT) {\n            // Object, sort keys.\n            result = '#';\n            var keys = OBJECT.keys(arg).sort();\n            while (!isUndefined((index = keys.pop()))) {\n                if (!isUndefined(arg[index])) {\n                    result += index + ':' + stableHash(arg[index]) + ',';\n                }\n            }\n            table.set(arg, result);\n        }\n    }\n    else {\n        result = isDate\n            ? arg.toJSON()\n            : type == 'symbol'\n                ? arg.toString()\n                : type == 'string'\n                    ? JSON.stringify(arg)\n                    : '' + arg;\n    }\n    return result;\n};\n\n/**\n * Due to bug https://bugs.chromium.org/p/chromium/issues/detail?id=678075,\n * it's not reliable to detect if the browser is currently online or offline\n * based on `navigator.onLine`.\n * As a work around, we always assume it's online on first load, and change\n * the status upon `online` or `offline` events.\n */\nvar online = true;\nvar isOnline = function () { return online; };\nvar hasWin = hasWindow();\nvar hasDoc = hasDocument();\n// For node and React Native, `add/removeEventListener` doesn't exist on window.\nvar onWindowEvent = hasWin && window.addEventListener\n    ? window.addEventListener.bind(window)\n    : noop;\nvar onDocumentEvent = hasDoc ? document.addEventListener.bind(document) : noop;\nvar offWindowEvent = hasWin && window.removeEventListener\n    ? window.removeEventListener.bind(window)\n    : noop;\nvar offDocumentEvent = hasDoc\n    ? document.removeEventListener.bind(document)\n    : noop;\nvar isVisible = function () {\n    var visibilityState = hasDoc && document.visibilityState;\n    return isUndefined(visibilityState) || visibilityState !== 'hidden';\n};\nvar initFocus = function (callback) {\n    // focus revalidate\n    onDocumentEvent('visibilitychange', callback);\n    onWindowEvent('focus', callback);\n    return function () {\n        offDocumentEvent('visibilitychange', callback);\n        offWindowEvent('focus', callback);\n    };\n};\nvar initReconnect = function (callback) {\n    // revalidate on reconnected\n    var onOnline = function () {\n        online = true;\n        callback();\n    };\n    // nothing to revalidate, just update the status\n    var onOffline = function () {\n        online = false;\n    };\n    onWindowEvent('online', onOnline);\n    onWindowEvent('offline', onOffline);\n    return function () {\n        offWindowEvent('online', onOnline);\n        offWindowEvent('offline', onOffline);\n    };\n};\nvar preset = {\n    isOnline: isOnline,\n    isVisible: isVisible\n};\nvar defaultConfigOptions = {\n    initFocus: initFocus,\n    initReconnect: initReconnect\n};\n\nvar IS_SERVER = !hasWindow() || 'Deno' in window;\n// Polyfill requestAnimationFrame\nvar rAF = function (f) {\n    return hasRequestAnimationFrame() ? window['requestAnimationFrame'](f) : setTimeout(f, 1);\n};\n// React currently throws a warning when using useLayoutEffect on the server.\n// To get around it, we can conditionally useEffect on the server (no-op) and\n// useLayoutEffect in the browser.\nvar useIsomorphicLayoutEffect = IS_SERVER ? useEffect : useLayoutEffect;\n// This assignment is to extend the Navigator type to use effectiveType.\nvar navigatorConnection = typeof navigator !== 'undefined' &&\n    navigator.connection;\n// Adjust the config based on slow connection status (<= 70Kbps).\nvar slowConnection = !IS_SERVER &&\n    navigatorConnection &&\n    (['slow-2g', '2g'].includes(navigatorConnection.effectiveType) ||\n        navigatorConnection.saveData);\n\nvar serialize = function (key) {\n    if (isFunction(key)) {\n        try {\n            key = key();\n        }\n        catch (err) {\n            // dependencies not ready\n            key = '';\n        }\n    }\n    var args = [].concat(key);\n    // If key is not falsy, or not an empty array, hash it.\n    key =\n        typeof key == 'string'\n            ? key\n            : (Array.isArray(key) ? key.length : key)\n                ? stableHash(key)\n                : '';\n    var infoKey = key ? '$swr$' + key : '';\n    return [key, args, infoKey];\n};\n\n// Global state used to deduplicate requests and store listeners\nvar SWRGlobalState = new WeakMap();\n\nvar FOCUS_EVENT = 0;\nvar RECONNECT_EVENT = 1;\nvar MUTATE_EVENT = 2;\n\nvar broadcastState = function (cache, key, data, error, isValidating, revalidate, broadcast) {\n    if (broadcast === void 0) { broadcast = true; }\n    var _a = SWRGlobalState.get(cache), EVENT_REVALIDATORS = _a[0], STATE_UPDATERS = _a[1], FETCH = _a[3];\n    var revalidators = EVENT_REVALIDATORS[key];\n    var updaters = STATE_UPDATERS[key];\n    // Cache was populated, update states of all hooks.\n    if (broadcast && updaters) {\n        for (var i = 0; i < updaters.length; ++i) {\n            updaters[i](data, error, isValidating);\n        }\n    }\n    // If we also need to revalidate, only do it for the first hook.\n    if (revalidate) {\n        // Invalidate the key by deleting the concurrent request markers so new\n        // requests will not be deduped.\n        delete FETCH[key];\n        if (revalidators && revalidators[0]) {\n            return revalidators[0](MUTATE_EVENT).then(function () {\n                return cache.get(key);\n            });\n        }\n    }\n    return cache.get(key);\n};\n\n// Global timestamp.\nvar __timestamp = 0;\nvar getTimestamp = function () { return ++__timestamp; };\n\nvar internalMutate = function () {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    return __awaiter(void 0, void 0, void 0, function () {\n        var cache, _key, _data, _opts, options, populateCache, revalidate, rollbackOnError, customOptimisticData, _a, key, keyInfo, _b, MUTATION, data, error, beforeMutationTs, hasCustomOptimisticData, rollbackData, optimisticData, res;\n        return __generator(this, function (_c) {\n            switch (_c.label) {\n                case 0:\n                    cache = args[0], _key = args[1], _data = args[2], _opts = args[3];\n                    options = typeof _opts === 'boolean' ? { revalidate: _opts } : _opts || {};\n                    populateCache = isUndefined(options.populateCache)\n                        ? true\n                        : options.populateCache;\n                    revalidate = options.revalidate !== false;\n                    rollbackOnError = options.rollbackOnError !== false;\n                    customOptimisticData = options.optimisticData;\n                    _a = serialize(_key), key = _a[0], keyInfo = _a[2];\n                    if (!key)\n                        return [2 /*return*/];\n                    _b = SWRGlobalState.get(cache), MUTATION = _b[2];\n                    // If there is no new data provided, revalidate the key with current state.\n                    if (args.length < 3) {\n                        // Revalidate and broadcast state.\n                        return [2 /*return*/, broadcastState(cache, key, cache.get(key), UNDEFINED, UNDEFINED, revalidate, true)];\n                    }\n                    data = _data;\n                    beforeMutationTs = getTimestamp();\n                    MUTATION[key] = [beforeMutationTs, 0];\n                    hasCustomOptimisticData = !isUndefined(customOptimisticData);\n                    rollbackData = cache.get(key);\n                    // Do optimistic data update.\n                    if (hasCustomOptimisticData) {\n                        optimisticData = isFunction(customOptimisticData)\n                            ? customOptimisticData(rollbackData)\n                            : customOptimisticData;\n                        cache.set(key, optimisticData);\n                        broadcastState(cache, key, optimisticData);\n                    }\n                    if (isFunction(data)) {\n                        // `data` is a function, call it passing current cache value.\n                        try {\n                            data = data(cache.get(key));\n                        }\n                        catch (err) {\n                            // If it throws an error synchronously, we shouldn't update the cache.\n                            error = err;\n                        }\n                    }\n                    if (!(data && isFunction(data.then))) return [3 /*break*/, 2];\n                    return [4 /*yield*/, data.catch(function (err) {\n                            error = err;\n                        })\n                        // Check if other mutations have occurred since we've started this mutation.\n                        // If there's a race we don't update cache or broadcast the change,\n                        // just return the data.\n                    ];\n                case 1:\n                    // This means that the mutation is async, we need to check timestamps to\n                    // avoid race conditions.\n                    data = _c.sent();\n                    // Check if other mutations have occurred since we've started this mutation.\n                    // If there's a race we don't update cache or broadcast the change,\n                    // just return the data.\n                    if (beforeMutationTs !== MUTATION[key][0]) {\n                        if (error)\n                            throw error;\n                        return [2 /*return*/, data];\n                    }\n                    else if (error && hasCustomOptimisticData && rollbackOnError) {\n                        // Rollback. Always populate the cache in this case but without\n                        // transforming the data.\n                        populateCache = true;\n                        data = rollbackData;\n                        cache.set(key, rollbackData);\n                    }\n                    _c.label = 2;\n                case 2:\n                    // If we should write back the cache after request.\n                    if (populateCache) {\n                        if (!error) {\n                            // Transform the result into data.\n                            if (isFunction(populateCache)) {\n                                data = populateCache(data, rollbackData);\n                            }\n                            // Only update cached data if there's no error. Data can be `undefined` here.\n                            cache.set(key, data);\n                        }\n                        // Always update or reset the error.\n                        cache.set(keyInfo, mergeObjects(cache.get(keyInfo), { error: error }));\n                    }\n                    // Reset the timestamp to mark the mutation has ended.\n                    MUTATION[key][1] = getTimestamp();\n                    return [4 /*yield*/, broadcastState(cache, key, data, error, UNDEFINED, revalidate, !!populateCache)\n                        // Throw error or return data\n                    ];\n                case 3:\n                    res = _c.sent();\n                    // Throw error or return data\n                    if (error)\n                        throw error;\n                    return [2 /*return*/, populateCache ? res : data];\n            }\n        });\n    });\n};\n\nvar revalidateAllKeys = function (revalidators, type) {\n    for (var key in revalidators) {\n        if (revalidators[key][0])\n            revalidators[key][0](type);\n    }\n};\nvar initCache = function (provider, options) {\n    // The global state for a specific provider will be used to deduplicate\n    // requests and store listeners. As well as a mutate function that bound to\n    // the cache.\n    // Provider's global state might be already initialized. Let's try to get the\n    // global state associated with the provider first.\n    if (!SWRGlobalState.has(provider)) {\n        var opts = mergeObjects(defaultConfigOptions, options);\n        // If there's no global state bound to the provider, create a new one with the\n        // new mutate function.\n        var EVENT_REVALIDATORS = {};\n        var mutate = internalMutate.bind(UNDEFINED, provider);\n        var unmount = noop;\n        // Update the state if it's new, or the provider has been extended.\n        SWRGlobalState.set(provider, [EVENT_REVALIDATORS, {}, {}, {}, mutate]);\n        // This is a new provider, we need to initialize it and setup DOM events\n        // listeners for `focus` and `reconnect` actions.\n        if (!IS_SERVER) {\n            // When listening to the native events for auto revalidations,\n            // we intentionally put a delay (setTimeout) here to make sure they are\n            // fired after immediate JavaScript executions, which can possibly be\n            // React's state updates.\n            // This avoids some unnecessary revalidations such as\n            // https://github.com/vercel/swr/issues/1680.\n            var releaseFocus_1 = opts.initFocus(setTimeout.bind(UNDEFINED, revalidateAllKeys.bind(UNDEFINED, EVENT_REVALIDATORS, FOCUS_EVENT)));\n            var releaseReconnect_1 = opts.initReconnect(setTimeout.bind(UNDEFINED, revalidateAllKeys.bind(UNDEFINED, EVENT_REVALIDATORS, RECONNECT_EVENT)));\n            unmount = function () {\n                releaseFocus_1 && releaseFocus_1();\n                releaseReconnect_1 && releaseReconnect_1();\n                // When un-mounting, we need to remove the cache provider from the state\n                // storage too because it's a side-effect. Otherwise when re-mounting we\n                // will not re-register those event listeners.\n                SWRGlobalState.delete(provider);\n            };\n        }\n        // We might want to inject an extra layer on top of `provider` in the future,\n        // such as key serialization, auto GC, etc.\n        // For now, it's just a `Map` interface without any modifications.\n        return [provider, mutate, unmount];\n    }\n    return [provider, SWRGlobalState.get(provider)[4]];\n};\n\n// error retry\nvar onErrorRetry = function (_, __, config, revalidate, opts) {\n    var maxRetryCount = config.errorRetryCount;\n    var currentRetryCount = opts.retryCount;\n    // Exponential backoff\n    var timeout = ~~((Math.random() + 0.5) *\n        (1 << (currentRetryCount < 8 ? currentRetryCount : 8))) * config.errorRetryInterval;\n    if (!isUndefined(maxRetryCount) && currentRetryCount > maxRetryCount) {\n        return;\n    }\n    setTimeout(revalidate, timeout, opts);\n};\n// Default cache provider\nvar _a = initCache(new Map()), cache = _a[0], mutate = _a[1];\n// Default config\nvar defaultConfig = mergeObjects({\n    // events\n    onLoadingSlow: noop,\n    onSuccess: noop,\n    onError: noop,\n    onErrorRetry: onErrorRetry,\n    onDiscarded: noop,\n    // switches\n    revalidateOnFocus: true,\n    revalidateOnReconnect: true,\n    revalidateIfStale: true,\n    shouldRetryOnError: true,\n    // timeouts\n    errorRetryInterval: slowConnection ? 10000 : 5000,\n    focusThrottleInterval: 5 * 1000,\n    dedupingInterval: 2 * 1000,\n    loadingTimeout: slowConnection ? 5000 : 3000,\n    // providers\n    compare: function (currentData, newData) {\n        return stableHash(currentData) == stableHash(newData);\n    },\n    isPaused: function () { return false; },\n    cache: cache,\n    mutate: mutate,\n    fallback: {}\n}, \n// use web preset by default\npreset);\n\nvar mergeConfigs = function (a, b) {\n    // Need to create a new object to avoid mutating the original here.\n    var v = mergeObjects(a, b);\n    // If two configs are provided, merge their `use` and `fallback` options.\n    if (b) {\n        var u1 = a.use, f1 = a.fallback;\n        var u2 = b.use, f2 = b.fallback;\n        if (u1 && u2) {\n            v.use = u1.concat(u2);\n        }\n        if (f1 && f2) {\n            v.fallback = mergeObjects(f1, f2);\n        }\n    }\n    return v;\n};\n\nvar SWRConfigContext = createContext({});\nvar SWRConfig$1 = function (props) {\n    var value = props.value;\n    // Extend parent context values and middleware.\n    var extendedConfig = mergeConfigs(useContext(SWRConfigContext), value);\n    // Should not use the inherited provider.\n    var provider = value && value.provider;\n    // Use a lazy initialized state to create the cache on first access.\n    var cacheContext = useState(function () {\n        return provider\n            ? initCache(provider(extendedConfig.cache || cache), value)\n            : UNDEFINED;\n    })[0];\n    // Override the cache if a new provider is given.\n    if (cacheContext) {\n        extendedConfig.cache = cacheContext[0];\n        extendedConfig.mutate = cacheContext[1];\n    }\n    // Unsubscribe events.\n    useIsomorphicLayoutEffect(function () { return (cacheContext ? cacheContext[2] : UNDEFINED); }, []);\n    return createElement(SWRConfigContext.Provider, mergeObjects(props, {\n        value: extendedConfig\n    }));\n};\n\n/**\n * An implementation of state with dependency-tracking.\n */\nvar useStateWithDeps = function (state, unmountedRef) {\n    var rerender = useState({})[1];\n    var stateRef = useRef(state);\n    // If a state property (data, error or isValidating) is accessed by the render\n    // function, we mark the property as a dependency so if it is updated again\n    // in the future, we trigger a rerender.\n    // This is also known as dependency-tracking.\n    var stateDependenciesRef = useRef({\n        data: false,\n        error: false,\n        isValidating: false\n    });\n    /**\n     * @param payload To change stateRef, pass the values explicitly to setState:\n     * @example\n     * ```js\n     * setState({\n     *   isValidating: false\n     *   data: newData // set data to newData\n     *   error: undefined // set error to undefined\n     * })\n     *\n     * setState({\n     *   isValidating: false\n     *   data: undefined // set data to undefined\n     *   error: err // set error to err\n     * })\n     * ```\n     */\n    var setState = useCallback(function (payload) {\n        var shouldRerender = false;\n        var currentState = stateRef.current;\n        for (var _ in payload) {\n            var k = _;\n            // If the property has changed, update the state and mark rerender as\n            // needed.\n            if (currentState[k] !== payload[k]) {\n                currentState[k] = payload[k];\n                // If the property is accessed by the component, a rerender should be\n                // triggered.\n                if (stateDependenciesRef.current[k]) {\n                    shouldRerender = true;\n                }\n            }\n        }\n        if (shouldRerender && !unmountedRef.current) {\n            rerender({});\n        }\n    }, \n    // config.suspense isn't allowed to change during the lifecycle\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []);\n    // Always update the state reference.\n    useIsomorphicLayoutEffect(function () {\n        stateRef.current = state;\n    });\n    return [stateRef, stateDependenciesRef.current, setState];\n};\n\nvar normalize = function (args) {\n    return isFunction(args[1])\n        ? [args[0], args[1], args[2] || {}]\n        : [args[0], null, (args[1] === null ? args[2] : args[1]) || {}];\n};\n\nvar useSWRConfig = function () {\n    return mergeObjects(defaultConfig, useContext(SWRConfigContext));\n};\n\n// It's tricky to pass generic types as parameters, so we just directly override\n// the types here.\nvar withArgs = function (hook) {\n    return function useSWRArgs() {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        // Get the default and inherited configuration.\n        var fallbackConfig = useSWRConfig();\n        // Normalize arguments.\n        var _a = normalize(args), key = _a[0], fn = _a[1], _config = _a[2];\n        // Merge configurations.\n        var config = mergeConfigs(fallbackConfig, _config);\n        // Apply middleware\n        var next = hook;\n        var use = config.use;\n        if (use) {\n            for (var i = use.length; i-- > 0;) {\n                next = use[i](next);\n            }\n        }\n        return next(key, fn || config.fetcher, config);\n    };\n};\n\n// Add a callback function to a list of keyed callback functions and return\n// the unsubscribe function.\nvar subscribeCallback = function (key, callbacks, callback) {\n    var keyedRevalidators = callbacks[key] || (callbacks[key] = []);\n    keyedRevalidators.push(callback);\n    return function () {\n        var index = keyedRevalidators.indexOf(callback);\n        if (index >= 0) {\n            // O(1): faster than splice\n            keyedRevalidators[index] = keyedRevalidators[keyedRevalidators.length - 1];\n            keyedRevalidators.pop();\n        }\n    };\n};\n\nvar WITH_DEDUPE = { dedupe: true };\nvar useSWRHandler = function (_key, fetcher, config) {\n    var cache = config.cache, compare = config.compare, fallbackData = config.fallbackData, suspense = config.suspense, revalidateOnMount = config.revalidateOnMount, refreshInterval = config.refreshInterval, refreshWhenHidden = config.refreshWhenHidden, refreshWhenOffline = config.refreshWhenOffline;\n    var _a = SWRGlobalState.get(cache), EVENT_REVALIDATORS = _a[0], STATE_UPDATERS = _a[1], MUTATION = _a[2], FETCH = _a[3];\n    // `key` is the identifier of the SWR `data` state, `keyInfo` holds extra\n    // states such as `error` and `isValidating` inside,\n    // all of them are derived from `_key`.\n    // `fnArgs` is an array of arguments parsed from the key, which will be passed\n    // to the fetcher.\n    var _b = serialize(_key), key = _b[0], fnArgs = _b[1], keyInfo = _b[2];\n    // If it's the initial render of this hook.\n    var initialMountedRef = useRef(false);\n    // If the hook is unmounted already. This will be used to prevent some effects\n    // to be called after unmounting.\n    var unmountedRef = useRef(false);\n    // Refs to keep the key and config.\n    var keyRef = useRef(key);\n    var fetcherRef = useRef(fetcher);\n    var configRef = useRef(config);\n    var getConfig = function () { return configRef.current; };\n    var isActive = function () { return getConfig().isVisible() && getConfig().isOnline(); };\n    var patchFetchInfo = function (info) {\n        return cache.set(keyInfo, mergeObjects(cache.get(keyInfo), info));\n    };\n    // Get the current state that SWR should return.\n    var cached = cache.get(key);\n    var fallback = isUndefined(fallbackData)\n        ? config.fallback[key]\n        : fallbackData;\n    var data = isUndefined(cached) ? fallback : cached;\n    var info = cache.get(keyInfo) || {};\n    var error = info.error;\n    var isInitialMount = !initialMountedRef.current;\n    // - Suspense mode and there's stale data for the initial render.\n    // - Not suspense mode and there is no fallback data and `revalidateIfStale` is enabled.\n    // - `revalidateIfStale` is enabled but `data` is not defined.\n    var shouldRevalidate = function () {\n        // If `revalidateOnMount` is set, we take the value directly.\n        if (isInitialMount && !isUndefined(revalidateOnMount))\n            return revalidateOnMount;\n        // If it's paused, we skip revalidation.\n        if (getConfig().isPaused())\n            return false;\n        // Under suspense mode, it will always fetch on render if there is no\n        // stale data so no need to revalidate immediately on mount again.\n        // If data exists, only revalidate if `revalidateIfStale` is true.\n        if (suspense)\n            return isUndefined(data) ? false : config.revalidateIfStale;\n        // If there is no stale data, we need to revalidate on mount;\n        // If `revalidateIfStale` is set to true, we will always revalidate.\n        return isUndefined(data) || config.revalidateIfStale;\n    };\n    // Resolve the current validating state.\n    var resolveValidating = function () {\n        if (!key || !fetcher)\n            return false;\n        if (info.isValidating)\n            return true;\n        // If it's not mounted yet and it should revalidate on mount, revalidate.\n        return isInitialMount && shouldRevalidate();\n    };\n    var isValidating = resolveValidating();\n    var _c = useStateWithDeps({\n        data: data,\n        error: error,\n        isValidating: isValidating\n    }, unmountedRef), stateRef = _c[0], stateDependencies = _c[1], setState = _c[2];\n    // The revalidation function is a carefully crafted wrapper of the original\n    // `fetcher`, to correctly handle the many edge cases.\n    var revalidate = useCallback(function (revalidateOpts) { return __awaiter(void 0, void 0, void 0, function () {\n        var currentFetcher, newData, startAt, loading, opts, shouldStartNewRequest, isCurrentKeyMounted, cleanupState, newState, finishRequestAndUpdateState, mutationInfo, err_1;\n        var _a;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    currentFetcher = fetcherRef.current;\n                    if (!key ||\n                        !currentFetcher ||\n                        unmountedRef.current ||\n                        getConfig().isPaused()) {\n                        return [2 /*return*/, false];\n                    }\n                    loading = true;\n                    opts = revalidateOpts || {};\n                    shouldStartNewRequest = !FETCH[key] || !opts.dedupe;\n                    isCurrentKeyMounted = function () {\n                        return !unmountedRef.current &&\n                            key === keyRef.current &&\n                            initialMountedRef.current;\n                    };\n                    cleanupState = function () {\n                        // Check if it's still the same request before deleting.\n                        var requestInfo = FETCH[key];\n                        if (requestInfo && requestInfo[1] === startAt) {\n                            delete FETCH[key];\n                        }\n                    };\n                    newState = { isValidating: false };\n                    finishRequestAndUpdateState = function () {\n                        patchFetchInfo({ isValidating: false });\n                        // We can only set state if it's safe (still mounted with the same key).\n                        if (isCurrentKeyMounted()) {\n                            setState(newState);\n                        }\n                    };\n                    // Start fetching. Change the `isValidating` state, update the cache.\n                    patchFetchInfo({\n                        isValidating: true\n                    });\n                    setState({ isValidating: true });\n                    _b.label = 1;\n                case 1:\n                    _b.trys.push([1, 3, , 4]);\n                    if (shouldStartNewRequest) {\n                        // Tell all other hooks to change the `isValidating` state.\n                        broadcastState(cache, key, stateRef.current.data, stateRef.current.error, true);\n                        // If no cache being rendered currently (it shows a blank page),\n                        // we trigger the loading slow event.\n                        if (config.loadingTimeout && !cache.get(key)) {\n                            setTimeout(function () {\n                                if (loading && isCurrentKeyMounted()) {\n                                    getConfig().onLoadingSlow(key, config);\n                                }\n                            }, config.loadingTimeout);\n                        }\n                        // Start the request and save the timestamp.\n                        FETCH[key] = [currentFetcher.apply(void 0, fnArgs), getTimestamp()];\n                    }\n                    _a = FETCH[key], newData = _a[0], startAt = _a[1];\n                    return [4 /*yield*/, newData];\n                case 2:\n                    newData = _b.sent();\n                    if (shouldStartNewRequest) {\n                        // If the request isn't interrupted, clean it up after the\n                        // deduplication interval.\n                        setTimeout(cleanupState, config.dedupingInterval);\n                    }\n                    // If there're other ongoing request(s), started after the current one,\n                    // we need to ignore the current one to avoid possible race conditions:\n                    //   req1------------------>res1        (current one)\n                    //        req2---------------->res2\n                    // the request that fired later will always be kept.\n                    // The timestamp maybe be `undefined` or a number\n                    if (!FETCH[key] || FETCH[key][1] !== startAt) {\n                        if (shouldStartNewRequest) {\n                            if (isCurrentKeyMounted()) {\n                                getConfig().onDiscarded(key);\n                            }\n                        }\n                        return [2 /*return*/, false];\n                    }\n                    // Clear error.\n                    patchFetchInfo({\n                        error: UNDEFINED\n                    });\n                    newState.error = UNDEFINED;\n                    mutationInfo = MUTATION[key];\n                    if (!isUndefined(mutationInfo) &&\n                        // case 1\n                        (startAt <= mutationInfo[0] ||\n                            // case 2\n                            startAt <= mutationInfo[1] ||\n                            // case 3\n                            mutationInfo[1] === 0)) {\n                        finishRequestAndUpdateState();\n                        if (shouldStartNewRequest) {\n                            if (isCurrentKeyMounted()) {\n                                getConfig().onDiscarded(key);\n                            }\n                        }\n                        return [2 /*return*/, false];\n                    }\n                    // Deep compare with latest state to avoid extra re-renders.\n                    // For local state, compare and assign.\n                    if (!compare(stateRef.current.data, newData)) {\n                        newState.data = newData;\n                    }\n                    else {\n                        // data and newData are deeply equal\n                        // it should be safe to broadcast the stale data\n                        newState.data = stateRef.current.data;\n                        // At the end of this function, `brocastState` invokes the `onStateUpdate` function,\n                        // which takes care of avoiding the re-render\n                    }\n                    // For global state, it's possible that the key has changed.\n                    // https://github.com/vercel/swr/pull/1058\n                    if (!compare(cache.get(key), newData)) {\n                        cache.set(key, newData);\n                    }\n                    // Trigger the successful callback if it's the original request.\n                    if (shouldStartNewRequest) {\n                        if (isCurrentKeyMounted()) {\n                            getConfig().onSuccess(newData, key, config);\n                        }\n                    }\n                    return [3 /*break*/, 4];\n                case 3:\n                    err_1 = _b.sent();\n                    cleanupState();\n                    // Not paused, we continue handling the error. Otherwise discard it.\n                    if (!getConfig().isPaused()) {\n                        // Get a new error, don't use deep comparison for errors.\n                        patchFetchInfo({ error: err_1 });\n                        newState.error = err_1;\n                        // Error event and retry logic. Only for the actual request, not\n                        // deduped ones.\n                        if (shouldStartNewRequest && isCurrentKeyMounted()) {\n                            getConfig().onError(err_1, key, config);\n                            if ((typeof config.shouldRetryOnError === 'boolean' &&\n                                config.shouldRetryOnError) ||\n                                (isFunction(config.shouldRetryOnError) &&\n                                    config.shouldRetryOnError(err_1))) {\n                                // When retrying, dedupe is always enabled\n                                if (isActive()) {\n                                    // If it's active, stop. It will auto revalidate when refocusing\n                                    // or reconnecting.\n                                    getConfig().onErrorRetry(err_1, key, config, revalidate, {\n                                        retryCount: (opts.retryCount || 0) + 1,\n                                        dedupe: true\n                                    });\n                                }\n                            }\n                        }\n                    }\n                    return [3 /*break*/, 4];\n                case 4:\n                    // Mark loading as stopped.\n                    loading = false;\n                    // Update the current hook's state.\n                    finishRequestAndUpdateState();\n                    // Here is the source of the request, need to tell all other hooks to\n                    // update their states.\n                    if (isCurrentKeyMounted() && shouldStartNewRequest) {\n                        broadcastState(cache, key, newState.data, newState.error, false);\n                    }\n                    return [2 /*return*/, true];\n            }\n        });\n    }); }, \n    // `setState` is immutable, and `eventsCallback`, `fnArgs`, `keyInfo`,\n    // and `keyValidating` are depending on `key`, so we can exclude them from\n    // the deps array.\n    //\n    // FIXME:\n    // `fn` and `config` might be changed during the lifecycle,\n    // but they might be changed every render like this.\n    // `useSWR('key', () => fetch('/api/'), { suspense: true })`\n    // So we omit the values from the deps array\n    // even though it might cause unexpected behaviors.\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [key]);\n    // Similar to the global mutate, but bound to the current cache and key.\n    // `cache` isn't allowed to change during the lifecycle.\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    var boundMutate = useCallback(\n    // By using `bind` we don't need to modify the size of the rest arguments.\n    // Due to https://github.com/microsoft/TypeScript/issues/37181, we have to\n    // cast it to any for now.\n    internalMutate.bind(UNDEFINED, cache, function () { return keyRef.current; }), \n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []);\n    // Always update fetcher and config refs.\n    useIsomorphicLayoutEffect(function () {\n        fetcherRef.current = fetcher;\n        configRef.current = config;\n    });\n    // After mounted or key changed.\n    useIsomorphicLayoutEffect(function () {\n        if (!key)\n            return;\n        var keyChanged = key !== keyRef.current;\n        var softRevalidate = revalidate.bind(UNDEFINED, WITH_DEDUPE);\n        // Expose state updater to global event listeners. So we can update hook's\n        // internal state from the outside.\n        var onStateUpdate = function (updatedData, updatedError, updatedIsValidating) {\n            setState(mergeObjects({\n                error: updatedError,\n                isValidating: updatedIsValidating\n            }, \n            // Since `setState` only shallowly compares states, we do a deep\n            // comparison here.\n            compare(stateRef.current.data, updatedData)\n                ? UNDEFINED\n                : {\n                    data: updatedData\n                }));\n        };\n        // Expose revalidators to global event listeners. So we can trigger\n        // revalidation from the outside.\n        var nextFocusRevalidatedAt = 0;\n        var onRevalidate = function (type) {\n            if (type == FOCUS_EVENT) {\n                var now = Date.now();\n                if (getConfig().revalidateOnFocus &&\n                    now > nextFocusRevalidatedAt &&\n                    isActive()) {\n                    nextFocusRevalidatedAt = now + getConfig().focusThrottleInterval;\n                    softRevalidate();\n                }\n            }\n            else if (type == RECONNECT_EVENT) {\n                if (getConfig().revalidateOnReconnect && isActive()) {\n                    softRevalidate();\n                }\n            }\n            else if (type == MUTATE_EVENT) {\n                return revalidate();\n            }\n            return;\n        };\n        var unsubUpdate = subscribeCallback(key, STATE_UPDATERS, onStateUpdate);\n        var unsubEvents = subscribeCallback(key, EVENT_REVALIDATORS, onRevalidate);\n        // Mark the component as mounted and update corresponding refs.\n        unmountedRef.current = false;\n        keyRef.current = key;\n        initialMountedRef.current = true;\n        // When `key` updates, reset the state to the initial value\n        // and trigger a rerender if necessary.\n        if (keyChanged) {\n            setState({\n                data: data,\n                error: error,\n                isValidating: isValidating\n            });\n        }\n        // Trigger a revalidation.\n        if (shouldRevalidate()) {\n            if (isUndefined(data) || IS_SERVER) {\n                // Revalidate immediately.\n                softRevalidate();\n            }\n            else {\n                // Delay the revalidate if we have data to return so we won't block\n                // rendering.\n                rAF(softRevalidate);\n            }\n        }\n        return function () {\n            // Mark it as unmounted.\n            unmountedRef.current = true;\n            unsubUpdate();\n            unsubEvents();\n        };\n    }, [key, revalidate]);\n    // Polling\n    useIsomorphicLayoutEffect(function () {\n        var timer;\n        function next() {\n            // Use the passed interval\n            // ...or invoke the function with the updated data to get the interval\n            var interval = isFunction(refreshInterval)\n                ? refreshInterval(data)\n                : refreshInterval;\n            // We only start next interval if `refreshInterval` is not 0, and:\n            // - `force` is true, which is the start of polling\n            // - or `timer` is not 0, which means the effect wasn't canceled\n            if (interval && timer !== -1) {\n                timer = setTimeout(execute, interval);\n            }\n        }\n        function execute() {\n            // Check if it's OK to execute:\n            // Only revalidate when the page is visible, online and not errored.\n            if (!stateRef.current.error &&\n                (refreshWhenHidden || getConfig().isVisible()) &&\n                (refreshWhenOffline || getConfig().isOnline())) {\n                revalidate(WITH_DEDUPE).then(next);\n            }\n            else {\n                // Schedule next interval to check again.\n                next();\n            }\n        }\n        next();\n        return function () {\n            if (timer) {\n                clearTimeout(timer);\n                timer = -1;\n            }\n        };\n    }, [refreshInterval, refreshWhenHidden, refreshWhenOffline, revalidate]);\n    // Display debug info in React DevTools.\n    useDebugValue(data);\n    // In Suspense mode, we can't return the empty `data` state.\n    // If there is `error`, the `error` needs to be thrown to the error boundary.\n    // If there is no `error`, the `revalidation` promise needs to be thrown to\n    // the suspense boundary.\n    if (suspense && isUndefined(data) && key) {\n        // Always update fetcher and config refs even with the Suspense mode.\n        fetcherRef.current = fetcher;\n        configRef.current = config;\n        unmountedRef.current = false;\n        throw isUndefined(error) ? revalidate(WITH_DEDUPE) : error;\n    }\n    return {\n        mutate: boundMutate,\n        get data() {\n            stateDependencies.data = true;\n            return data;\n        },\n        get error() {\n            stateDependencies.error = true;\n            return error;\n        },\n        get isValidating() {\n            stateDependencies.isValidating = true;\n            return isValidating;\n        }\n    };\n};\nvar SWRConfig = OBJECT.defineProperty(SWRConfig$1, 'default', {\n    value: defaultConfig\n});\nvar unstable_serialize = function (key) { return serialize(key)[0]; };\nvar useSWR = withArgs(useSWRHandler);\n\n// useSWR\n\nexport { SWRConfig, useSWR as default, mutate, unstable_serialize, useSWRConfig };\n","import useSWR from 'swr';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar isFunction = function (v) { return typeof v == 'function'; };\n\nvar normalize = function (args) {\n    return isFunction(args[1])\n        ? [args[0], args[1], args[2] || {}]\n        : [args[0], null, (args[1] === null ? args[2] : args[1]) || {}];\n};\n\n// Create a custom hook with a middleware\nvar withMiddleware = function (useSWR, middleware) {\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var _a = normalize(args), key = _a[0], fn = _a[1], config = _a[2];\n        var uses = (config.use || []).concat(middleware);\n        return useSWR(key, fn, __assign(__assign({}, config), { use: uses }));\n    };\n};\n\nvar immutable = function (useSWRNext) { return function (key, fetcher, config) {\n    // Always override all revalidate options.\n    config.revalidateOnFocus = false;\n    config.revalidateIfStale = false;\n    config.revalidateOnReconnect = false;\n    return useSWRNext(key, fetcher, config);\n}; };\nvar index = withMiddleware(useSWR, immutable);\n\nexport { index as default, immutable };\n","var e,n,t,r,i,a=-1,o=function(e){addEventListener(\"pageshow\",(function(n){n.persisted&&(a=n.timeStamp,e(n))}),!0)},c=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType(\"navigation\")[0]},u=function(){var e=c();return e&&e.activationStart||0},f=function(e,n){var t=c(),r=\"navigate\";return a>=0?r=\"back-forward-cache\":t&&(r=document.prerendering||u()>0?\"prerender\":document.wasDiscarded?\"restore\":t.type.replace(/_/g,\"-\")),{name:e,value:void 0===n?-1:n,rating:\"good\",delta:0,entries:[],id:\"v3-\".concat(Date.now(),\"-\").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},s=function(e,n,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver((function(e){Promise.resolve().then((function(){n(e.getEntries())}))}));return r.observe(Object.assign({type:e,buffered:!0},t||{})),r}}catch(e){}},d=function(e,n,t,r){var i,a;return function(o){n.value>=0&&(o||r)&&((a=n.value-(i||0))||void 0===i)&&(i=n.value,n.delta=a,n.rating=function(e,n){return e>n[1]?\"poor\":e>n[0]?\"needs-improvement\":\"good\"}(n.value,t),e(n))}},l=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},v=function(e){var n=function(n){\"pagehide\"!==n.type&&\"hidden\"!==document.visibilityState||e(n)};addEventListener(\"visibilitychange\",n,!0),addEventListener(\"pagehide\",n,!0)},p=function(e){var n=!1;return function(t){n||(e(t),n=!0)}},m=-1,h=function(){return\"hidden\"!==document.visibilityState||document.prerendering?1/0:0},g=function(e){\"hidden\"===document.visibilityState&&m>-1&&(m=\"visibilitychange\"===e.type?e.timeStamp:0,T())},y=function(){addEventListener(\"visibilitychange\",g,!0),addEventListener(\"prerenderingchange\",g,!0)},T=function(){removeEventListener(\"visibilitychange\",g,!0),removeEventListener(\"prerenderingchange\",g,!0)},E=function(){return m<0&&(m=h(),y(),o((function(){setTimeout((function(){m=h(),y()}),0)}))),{get firstHiddenTime(){return m}}},C=function(e){document.prerendering?addEventListener(\"prerenderingchange\",(function(){return e()}),!0):e()},L=function(e,n){n=n||{},C((function(){var t,r=[1800,3e3],i=E(),a=f(\"FCP\"),c=s(\"paint\",(function(e){e.forEach((function(e){\"first-contentful-paint\"===e.name&&(c.disconnect(),e.startTime<i.firstHiddenTime&&(a.value=Math.max(e.startTime-u(),0),a.entries.push(e),t(!0)))}))}));c&&(t=d(e,a,r,n.reportAllChanges),o((function(i){a=f(\"FCP\"),t=d(e,a,r,n.reportAllChanges),l((function(){a.value=performance.now()-i.timeStamp,t(!0)}))})))}))},b=function(e,n){n=n||{},L(p((function(){var t,r=[.1,.25],i=f(\"CLS\",0),a=0,c=[],u=function(e){e.forEach((function(e){if(!e.hadRecentInput){var n=c[0],t=c[c.length-1];a&&e.startTime-t.startTime<1e3&&e.startTime-n.startTime<5e3?(a+=e.value,c.push(e)):(a=e.value,c=[e])}})),a>i.value&&(i.value=a,i.entries=c,t())},p=s(\"layout-shift\",u);p&&(t=d(e,i,r,n.reportAllChanges),v((function(){u(p.takeRecords()),t(!0)})),o((function(){a=0,i=f(\"CLS\",0),t=d(e,i,r,n.reportAllChanges),l((function(){return t()}))})),setTimeout(t,0))})))},w={passive:!0,capture:!0},S=new Date,A=function(r,i){e||(e=i,n=r,t=new Date,F(removeEventListener),I())},I=function(){if(n>=0&&n<t-S){var i={entryType:\"first-input\",name:e.type,target:e.target,cancelable:e.cancelable,startTime:e.timeStamp,processingStart:e.timeStamp+n};r.forEach((function(e){e(i)})),r=[]}},P=function(e){if(e.cancelable){var n=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;\"pointerdown\"==e.type?function(e,n){var t=function(){A(e,n),i()},r=function(){i()},i=function(){removeEventListener(\"pointerup\",t,w),removeEventListener(\"pointercancel\",r,w)};addEventListener(\"pointerup\",t,w),addEventListener(\"pointercancel\",r,w)}(n,e):A(n,e)}},F=function(e){[\"mousedown\",\"keydown\",\"touchstart\",\"pointerdown\"].forEach((function(n){return e(n,P,w)}))},M=function(t,i){i=i||{},C((function(){var a,c=[100,300],u=E(),l=f(\"FID\"),m=function(e){e.startTime<u.firstHiddenTime&&(l.value=e.processingStart-e.startTime,l.entries.push(e),a(!0))},h=function(e){e.forEach(m)},g=s(\"first-input\",h);a=d(t,l,c,i.reportAllChanges),g&&v(p((function(){h(g.takeRecords()),g.disconnect()}))),g&&o((function(){var o;l=f(\"FID\"),a=d(t,l,c,i.reportAllChanges),r=[],n=-1,e=null,F(addEventListener),o=m,r.push(o),I()}))}))},k=0,D=1/0,x=0,B=function(e){e.forEach((function(e){e.interactionId&&(D=Math.min(D,e.interactionId),x=Math.max(x,e.interactionId),k=x?(x-D)/7+1:0)}))},R=function(){return i?k:performance.interactionCount||0},H=function(){\"interactionCount\"in performance||i||(i=s(\"event\",B,{type:\"event\",buffered:!0,durationThreshold:0}))},N=0,O=function(){return R()-N},q=[],j={},_=function(e){var n=q[q.length-1],t=j[e.interactionId];if(t||q.length<10||e.duration>n.latency){if(t)t.entries.push(e),t.latency=Math.max(t.latency,e.duration);else{var r={id:e.interactionId,latency:e.duration,entries:[e]};j[r.id]=r,q.push(r)}q.sort((function(e,n){return n.latency-e.latency})),q.splice(10).forEach((function(e){delete j[e.id]}))}},z=function(e,n){n=n||{},C((function(){var t=[200,500];H();var r,i=f(\"INP\"),a=function(e){e.forEach((function(e){(e.interactionId&&_(e),\"first-input\"===e.entryType)&&(!q.some((function(n){return n.entries.some((function(n){return e.duration===n.duration&&e.startTime===n.startTime}))}))&&_(e))}));var n,t=(n=Math.min(q.length-1,Math.floor(O()/50)),q[n]);t&&t.latency!==i.value&&(i.value=t.latency,i.entries=t.entries,r())},c=s(\"event\",a,{durationThreshold:n.durationThreshold||40});r=d(e,i,t,n.reportAllChanges),c&&(c.observe({type:\"first-input\",buffered:!0}),v((function(){a(c.takeRecords()),i.value<0&&O()>0&&(i.value=0,i.entries=[]),r(!0)})),o((function(){q=[],N=R(),i=f(\"INP\"),r=d(e,i,t,n.reportAllChanges)})))}))},G={},J=function(e,n){n=n||{},C((function(){var t,r=[2500,4e3],i=E(),a=f(\"LCP\"),c=function(e){var n=e[e.length-1];if(n){var r=Math.max(n.startTime-u(),0);r<i.firstHiddenTime&&(a.value=r,a.entries=[n],t())}},m=s(\"largest-contentful-paint\",c);if(m){t=d(e,a,r,n.reportAllChanges);var h=p((function(){G[a.id]||(c(m.takeRecords()),m.disconnect(),G[a.id]=!0,t(!0))}));[\"keydown\",\"click\"].forEach((function(e){addEventListener(e,h,!0)})),v(h),o((function(i){a=f(\"LCP\"),t=d(e,a,r,n.reportAllChanges),l((function(){a.value=performance.now()-i.timeStamp,G[a.id]=!0,t(!0)}))}))}}))},K=function e(n){document.prerendering?C((function(){return e(n)})):\"complete\"!==document.readyState?addEventListener(\"load\",(function(){return e(n)}),!0):setTimeout(n,0)},Q=function(e,n){n=n||{};var t=[800,1800],r=f(\"TTFB\"),i=d(e,r,t,n.reportAllChanges);K((function(){var a=c();if(a){var s=a.responseStart;if(s<=0||s>performance.now())return;r.value=Math.max(s-u(),0),r.entries=[a],i(!0),o((function(){r=f(\"TTFB\",0),(i=d(e,r,t,n.reportAllChanges))(!0)}))}}))};export{b as getCLS,L as getFCP,M as getFID,z as getINP,J as getLCP,Q as getTTFB,b as onCLS,L as onFCP,M as onFID,z as onINP,J as onLCP,Q as onTTFB};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","// The chunk loading function for additional chunks\n// Since all referenced chunks are already included\n// in this file, this function is empty here.\n__webpack_require__.e = () => (Promise.resolve());","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.hmd = (module) => {\n\tmodule = Object.create(module);\n\tif (!module.children) module.children = [];\n\tObject.defineProperty(module, 'exports', {\n\t\tenumerable: true,\n\t\tset: () => {\n\t\t\tthrow new Error('ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: ' + module.id);\n\t\t}\n\t});\n\treturn module;\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"\";","// allows us to define public path dynamically\n// dynamic imports will use this as the base to find their assets\n\nimport { decidePublicPath } from './decidePublicPath';\n\n// https://webpack.js.org/guides/public-path/#on-the-fly\n__webpack_public_path__ = decidePublicPath();\n","/**\n * Determine the path that webpack should use as base for dynamic imports\n *\n * @returns The webpack public path to use\n */\nexport const decidePublicPath = (): string => {\n\tconst isDev = process.env.NODE_ENV === 'development';\n\tif (isDev && window.location.hostname === 'localhost') {\n\t\t// Use the absolute path when in development mode and running locally\n\t\t// Ensures asset paths are correct relative to Frontend\n\t\treturn 'http://localhost:3030/assets/';\n\t} else if (\n\t\twindow.location.hostname === (process.env.HOSTNAME ?? 'localhost')\n\t) {\n\t\t// Use a relative path when hostname is set or using localhost in non-dev environments\n\t\t// e.g. when using a reverse proxy, or running in CI\n\t\treturn '/assets/';\n\t} else {\n\t\treturn `${window.guardian.config.frontendAssetsFullURL}assets/`;\n\t}\n};\n","import { getLocaleCode } from './getCountryCode';\n\nlet frameworks: Record<string, boolean>;\n\nexport const getPrivacyFramework = async (): Promise<typeof frameworks> => {\n\tif (typeof frameworks === 'undefined') {\n\t\tconst isInUS = (await getLocaleCode()) === 'US';\n\n\t\tframeworks = {\n\t\t\tccpa: isInUS,\n\t\t\ttcfv2: !isInUS,\n\t\t};\n\t}\n\treturn frameworks;\n};\n","import { cmp } from '@guardian/consent-management-platform';\nimport { getPrivacyFramework } from './getPrivacyFramework';\n\nconst newPrivacyLinkName = 'privacy-settings';\n\nexport const injectPrivacySettingsLink = (): void => {\n\tconst privacyLink = document.querySelector('a[data-link-name=privacy]');\n\n\tif (\n\t\t!document.querySelector(`a[data-link-name=${newPrivacyLinkName}]`) &&\n\t\tprivacyLink\n\t) {\n\t\tconst privacyLinkListItem = privacyLink.parentElement;\n\n\t\tif (privacyLinkListItem) {\n\t\t\tgetPrivacyFramework()\n\t\t\t\t.then((framework) => {\n\t\t\t\t\tconst newPrivacyLink = privacyLink.cloneNode(\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t) as Element;\n\n\t\t\t\t\tnewPrivacyLink.setAttribute(\n\t\t\t\t\t\t'data-link-name',\n\t\t\t\t\t\tnewPrivacyLinkName,\n\t\t\t\t\t);\n\t\t\t\t\tnewPrivacyLink.setAttribute('href', '#');\n\t\t\t\t\tnewPrivacyLink.innerHTML = framework.ccpa\n\t\t\t\t\t\t? 'California resident – Do Not Sell'\n\t\t\t\t\t\t: 'Privacy settings';\n\n\t\t\t\t\tconst newPrivacyLinkListItem =\n\t\t\t\t\t\tprivacyLinkListItem.cloneNode(false) as Element;\n\n\t\t\t\t\tnewPrivacyLinkListItem.appendChild(newPrivacyLink);\n\n\t\t\t\t\tprivacyLinkListItem.insertAdjacentElement(\n\t\t\t\t\t\t'beforebegin',\n\t\t\t\t\t\tnewPrivacyLinkListItem,\n\t\t\t\t\t);\n\n\t\t\t\t\tnewPrivacyLink.addEventListener(\n\t\t\t\t\t\t'click',\n\t\t\t\t\t\tcmp.showPrivacyManager,\n\t\t\t\t\t);\n\t\t\t\t})\n\t\t\t\t.catch((e) =>\n\t\t\t\t\tconsole.error(`privacy settings - error: ${String(e)}`),\n\t\t\t\t);\n\t\t}\n\t}\n};\n","import { cmp, onConsentChange } from '@guardian/consent-management-platform';\nimport type { ConsentState } from '@guardian/consent-management-platform/dist/types';\nimport type { OphanAction, OphanComponentType } from '@guardian/libs';\nimport { getCookie, log } from '@guardian/libs';\nimport { getLocaleCode } from '../lib/getCountryCode';\nimport { injectPrivacySettingsLink } from '../lib/injectPrivacySettingsLink';\nimport { submitComponentEvent } from './ophan/ophan';\n\nexport const bootCmp = async (): Promise<void> => {\n\t/**\n\t * Keep this file in sync with CONSENT_TIMING in static/src/javascripts/boot.js in frontend\n\t * mark: CONSENT_TIMING\n\t */\n\tif (!window.guardian.config.switches.consentManagement) return; // CMP turned off!\n\tconst browserId = getCookie({ name: 'bwid', shouldMemoize: true });\n\tconst { pageViewId } = window.guardian.config.ophan;\n\n\tonConsentChange((consentState: ConsentState) => {\n\t\t// eslint-disable-next-line @typescript-eslint/strict-boolean-expressions, @typescript-eslint/no-unnecessary-condition -- Review if this check is needed\n\t\tif (!consentState) return;\n\t\t// Register changes in consent state with Ophan\n\n\t\t/*\n\t\t\t(Date: February 2022. Author: Pascal. This is a work in progress...)\n\n\t\t\t### General Context\n\n\t\t\tWe are sending consent data from the client side to the datalake through Ophan, using Ophan Component Events.\n\n\t\t\tWe are using Ophan Component Events because consent events do not have a first class type in the Ophan pipeline\n\t\t\t(this may change in the future)\n\n\t\t\tAt the moment we are using MANAGE_CONSENT as the default action while we develop this code.\n\n\t\t\t### Encoding Conventions\n\n\t\t\thttps://github.com/guardian/transparency-consent-docs/blob/main/docs/capturing-consent-from-client-side.md#era-2-encoding-conventions\n\t\t*/\n\n\t\tconst decideConsentCarrierLabels = () => {\n\t\t\tif (consentState.tcfv2) {\n\t\t\t\tconst consentUUID = getCookie({ name: 'consentUUID' }) ?? '';\n\t\t\t\tconst consentString = consentState.tcfv2.tcString;\n\t\t\t\treturn [\n\t\t\t\t\t'01:TCF.v2',\n\t\t\t\t\t`02:${consentUUID}`,\n\t\t\t\t\t`03:${consentString}`,\n\t\t\t\t];\n\t\t\t}\n\t\t\tif (consentState.ccpa) {\n\t\t\t\tconst ccpaUUID = getCookie({ name: 'ccpaUUID' }) ?? '';\n\t\t\t\tconst flag = consentState.ccpa.doNotSell ? 'true' : 'false';\n\t\t\t\treturn ['01:CCPA', `04:${ccpaUUID}`, `05:${flag}`];\n\t\t\t}\n\t\t\tif (consentState.aus) {\n\t\t\t\tconst ccpaUUID = getCookie({ name: 'ccpaUUID' }) ?? '';\n\t\t\t\tconst consentStatus =\n\t\t\t\t\tgetCookie({ name: 'consentStatus' }) ?? '';\n\t\t\t\tconst personalisedAdvertising = consentState.aus\n\t\t\t\t\t.personalisedAdvertising\n\t\t\t\t\t? 'true'\n\t\t\t\t\t: 'false';\n\t\t\t\treturn [\n\t\t\t\t\t'01:AUS',\n\t\t\t\t\t`06:${ccpaUUID}`,\n\t\t\t\t\t`07:${consentStatus}`,\n\t\t\t\t\t`08:${personalisedAdvertising}`,\n\t\t\t\t];\n\t\t\t}\n\t\t\treturn [];\n\t\t};\n\n\t\tconst componentType: OphanComponentType = 'CONSENT';\n\n\t\tconst action: OphanAction = 'MANAGE_CONSENT';\n\t\tconst event = {\n\t\t\tcomponent: {\n\t\t\t\tcomponentType,\n\t\t\t\tproducts: [],\n\t\t\t\tlabels: decideConsentCarrierLabels(),\n\t\t\t},\n\t\t\taction,\n\t\t};\n\n\t\tsubmitComponentEvent(event);\n\t});\n\n\tdocument.onreadystatechange = () => {\n\t\tif (\n\t\t\tdocument.readyState === 'interactive' ||\n\t\t\tdocument.readyState === 'complete'\n\t\t) {\n\t\t\t// Manually updates the footer DOM because it's not hydrated\n\t\t\tinjectPrivacySettingsLink();\n\t\t}\n\t};\n\n\tcmp.init({\n\t\tpubData: {\n\t\t\tplatform: 'next-gen',\n\t\t\t// If `undefined`, the resulting consent signal cannot be joined to a page view.\n\t\t\tbrowserId: browserId ?? undefined,\n\t\t\tpageViewId,\n\t\t},\n\t\tcountry: (await getLocaleCode()) ?? undefined,\n\t});\n\tlog('dotcom', 'CMP initialised');\n\n\treturn Promise.resolve();\n};\n","function e({modulePath:e=\".\",importFunctionName:t=\"__import__\"}={}){try{self[t]=new Function(\"u\",\"return import(u)\")}catch(o){const r=new URL(e,location),n=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise((o,a)=>{const c=new URL(e,r);if(self[t].moduleMap[c])return o(self[t].moduleMap[c]);const l=new Blob([`import * as m from '${c}';`,`${t}.moduleMap['${c}']=m;`],{type:\"text/javascript\"}),m=Object.assign(document.createElement(\"script\"),{type:\"module\",src:URL.createObjectURL(l),onerror(){a(new Error(`Failed to import: ${e}`)),n(m)},onload(){o(self[t].moduleMap[c]),n(m)}});document.head.appendChild(m)}),self[t].moduleMap={}}}var t=Object.freeze({initialize:e});export default t;export{e as initialize};\n","import dynamicImportPolyfill from 'dynamic-import-polyfill';\n\n// Provides an import function to use for dynamic imports. **Only works on\n// browsers that cut the mustard (support modules).**\nconst initialiseDynamicImport = () => {\n\ttry {\n\t\t// eslint-disable-next-line @typescript-eslint/no-implied-eval\n\t\twindow.guardianPolyfilledImport = new Function(\n\t\t\t'url',\n\t\t\t`return import(url)`,\n\t\t) as (url: string) => Promise<any>;\n\t} catch (e) {\n\t\tdynamicImportPolyfill.initialize({\n\t\t\timportFunctionName: 'guardianPolyfilledImport', // must be a direct property of the window\n\t\t});\n\t}\n};\n\n// Provides an import function to use for dynamic imports. **Designed for\n// legacy browsers. Dynamic loads a ~4k bundle.**\nconst initialiseDynamicImportLegacy = () => {\n\treturn import(/* webpackChunkName: \"shimport\" */ '@guardian/shimport').then(\n\t\t(shimport) => {\n\t\t\tshimport.initialise(); // note this adds a __shimport__ global\n\t\t\twindow.guardianPolyfilledImport = shimport.load;\n\t\t},\n\t);\n};\n\nexport const dynamicImport = (): Promise<void> => {\n\twindow.guardianPolyfilledImport = (url: string) =>\n\t\tPromise.reject(\n\t\t\tnew Error(`import not polyfilled; attempted import(${url})`),\n\t\t);\n\n\tif (window.guardian.mustardCut) {\n\t\treturn Promise.resolve(initialiseDynamicImport());\n\t}\n\n\treturn initialiseDynamicImportLegacy();\n};\n","import '../webpackPublicPath';\nimport { isAdBlockInUse } from '@guardian/commercial-core';\n\nconst loadSentry = (): void => {\n\ttry {\n\t\t// Downloading and initiliasing Sentry is asynchronous so we need a way\n\t\t// to ensure injection only happens once and to capture any other errors that\n\t\t// might happen while this script is loading\n\t\tlet injected = false;\n\t\tconst queue: Error[] = [];\n\n\t\t// Function that gets called when an error happens before Sentry is ready\n\t\tconst injectSentry = async (error?: Error) => {\n\t\t\t// Remember this error for later\n\t\t\tif (error) queue.push(error);\n\n\t\t\t// Only inject once\n\t\t\tif (injected) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tinjected = true;\n\n\t\t\t// Make this call blocking. We are queing errors while we wait for this code to run\n\t\t\t// so we won't miss any and by waiting here we ensure we will never make calls we\n\t\t\t// expect to be blocked\n\t\t\t// Ad blocker detection can be expensive so it is checked here rather than in init\n\t\t\t// to avoid blocking of the init flow\n\t\t\tconst adBlockInUse: boolean = await isAdBlockInUse();\n\t\t\tif (adBlockInUse) {\n\t\t\t\t// Ad Blockers prevent calls to Sentry from working so don't try to load the lib\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Load sentry.ts\n\t\t\tconst { reportError } = await import(\n\t\t\t\t/* webpackChunkName: \"sentry\" */ './sentry'\n\t\t\t);\n\n\t\t\t// Sentry takes over control of the window.onerror and\n\t\t\t// window.onunhandledrejection listeners but we need to\n\t\t\t// manually redefine our own custom error reporting function\n\t\t\twindow.guardian.modules.sentry.reportError = reportError;\n\n\t\t\t// Now that we have the real reportError function available,\n\t\t\t// send any queued errors\n\t\t\twhile (queue.length) {\n\t\t\t\tconst queuedError = queue.shift();\n\t\t\t\tif (queuedError) reportError(queuedError);\n\t\t\t}\n\t\t};\n\n\t\t// This is how we lazy load Sentry. We setup custom functions and\n\t\t// listeners to inject Sentry when an error happens\n\t\twindow.onerror = (message, url, line, column, error) =>\n\t\t\tinjectSentry(error);\n\t\twindow.onunhandledrejection = (event: undefined | { reason?: any }) =>\n\t\t\tevent && injectSentry(event.reason);\n\t\twindow.guardian.modules.sentry.reportError = (error) => {\n\t\t\tinjectSentry(error).catch((e) =>\n\t\t\t\tconsole.error(`injectSentry - error: ${String(e)}`),\n\t\t\t);\n\t\t};\n\t} catch {\n\t\t// We failed to setup Sentry :(\n\t}\n};\n\nexport { loadSentry };\n","import { log } from '@guardian/libs';\nimport { initPerf } from './initPerf';\n\nconst measure = (name: string, task: () => Promise<void>): void => {\n\tconst { start, end } = initPerf(name);\n\n\tstart();\n\n\ttask()\n\t\t// You could use 'finally' here to prevent this duplication but finally isn't supported\n\t\t// in Chrome 59 which is used by Cypress in headless mode so if you do it will\n\t\t// break the Cypress tests on CI\n\t\t// See: https://github.com/cypress-io/cypress/issues/2651#issuecomment-432698837\n\t\t.then(() => {\n\t\t\tend();\n\t\t\tlog('dotcom', `🥾 Booted ${name} in ${end()}ms`);\n\t\t})\n\t\t.catch(() => {\n\t\t\tend();\n\t\t\tlog('dotcom', `🤒 Failed to boot ${name} in ${end()}ms`);\n\t\t});\n};\n\nexport const startup = <A>(\n\tname: string,\n\thelpers: A,\n\ttask: (helpers: A) => Promise<void>,\n): void => {\n\tconst measureMe = () => {\n\t\tmeasure(name, task.bind(null, helpers));\n\t};\n\tif (window.guardian.mustardCut || window.guardian.polyfilled) {\n\t\tmeasureMe();\n\t} else {\n\t\twindow.guardian.queue.push(measureMe);\n\t}\n};\n","import './webpackPublicPath';\n\n// these modules are bundled in the initial (i.e. this) chunk, so that they run ASAP\nimport { bootCmp } from './bootCmp';\nimport { dynamicImport } from './dynamicImport';\nimport { ga } from './ga';\nimport { islands } from './islands';\nimport { ophan } from './ophan';\nimport { sentryLoader } from './sentryLoader';\nimport { startup } from './startup';\n\nstartup('bootCmp', null, bootCmp);\nstartup('ophan', null, ophan);\nstartup('ga', null, ga);\nstartup('sentryLoader', null, sentryLoader);\nstartup('dynamicImport', null, dynamicImport);\nstartup('islands', null, islands);\n\n// these modules are loaded as separate chunks, so that they can be lazy-loaded\nvoid import(/* webpackChunkName: 'atomIframe' */ './atomIframe').then(\n\t({ atomIframe }) => startup('atomIframe', null, atomIframe),\n);\nvoid import(/* webpackChunkName: 'embedIframe' */ './embedIframe').then(\n\t({ embedIframe }) => startup('embedIframe', null, embedIframe),\n);\nvoid import(\n\t/* webpackChunkName: 'newsletterEmbedIframe' */ './newsletterEmbedIframe'\n).then(({ newsletterEmbedIframe }) =>\n\tstartup('newsletterEmbedIframe', null, newsletterEmbedIframe),\n);\nvoid import(/* webpackChunkName: 'relativeTime' */ './relativeTime').then(\n\t({ relativeTime }) => startup('relativeTime', null, relativeTime),\n);\nvoid import(/* webpackChunkName: 'discussion' */ './discussion').then(\n\t({ discussion }) => startup('initDiscussion', null, discussion),\n);\n","import { abTestPayload, record, recordPerformance } from './ophan';\n\n// side effect only\nimport 'ophan-tracker-js';\n\nexport const ophan = (): Promise<void> => {\n\trecord({ experiences: 'dotcom-rendering' });\n\trecord({ edition: window.guardian.config.page.edition });\n\n\t// Record server-side AB test variants (i.e. control or variant)\n\trecord(abTestPayload(window.guardian.config.tests));\n\n\t// We wait for the load event so that we can be sure our assetPerformance is reported as expected.\n\twindow.addEventListener('load', function load() {\n\t\trecordPerformance();\n\t\twindow.removeEventListener('load', load, false);\n\t});\n\n\treturn Promise.resolve();\n};\n","import {\n\tgetConsentFor,\n\tonConsentChange,\n} from '@guardian/consent-management-platform';\nimport type { ConsentState } from '@guardian/consent-management-platform/dist/types';\nimport { loadScript, log } from '@guardian/libs';\nimport { init, sendPageView } from './ga';\n\nexport const ga = (): Promise<void> => {\n\t// Check if we have consent for GA so that if the reader removes consent for tracking we\n\t// remove ga from the page\n\tonConsentChange((consentState: ConsentState) => {\n\t\tconst consentGivenForGA = getConsentFor(\n\t\t\t'google-analytics',\n\t\t\tconsentState,\n\t\t);\n\t\tif (consentGivenForGA) {\n\t\t\tloadScript('https://www.google-analytics.com/analytics.js')\n\t\t\t\t.then(() => {\n\t\t\t\t\tlog('dotcom', 'GA script loaded');\n\n\t\t\t\t\tinit();\n\t\t\t\t\tsendPageView();\n\t\t\t\t})\n\t\t\t\t.catch((e) => {\n\t\t\t\t\t// We don't need to log script loading errors (these will mostly be adblock, etc),\n\t\t\t\t\tif (!String(e).includes('Error loading script')) {\n\t\t\t\t\t\t// This is primarily for logging errors with our GA code.\n\t\t\t\t\t\twindow.guardian.modules.sentry.reportError(\n\t\t\t\t\t\t\te instanceof Error ? e : new Error(e),\n\t\t\t\t\t\t\t'ga',\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t} else {\n\t\t\t// Disable Google Analytics\n\t\t\t// @ts-expect-error -- We should never be able to directly set things to the global window object\n\t\t\t// but in this case we want to stub things for testing, so it's ok to ignore this rule\n\t\t\twindow.ga = null;\n\t\t}\n\t});\n\n\treturn Promise.resolve();\n};\n","import {\n\tBUILD_VARIANT,\n\tdcrJavascriptBundle,\n} from '../../../../scripts/webpack/bundles';\nimport { loadSentry } from './loadSentry';\n\ntype IsSentryEnabled = {\n\tenableSentryReporting: boolean;\n\tisDev: boolean;\n\tisInBrowserVariantTest: boolean;\n\trandomCentile: number;\n};\n\nconst isSentryEnabled = ({\n\tenableSentryReporting,\n\tisDev,\n\tisInBrowserVariantTest,\n\trandomCentile,\n}: IsSentryEnabled): boolean => {\n\t// We don't send errors on the dev server, or if the enableSentryReporting switch is off\n\tif (isDev || !enableSentryReporting) return false;\n\t// We want to log all errors for users in the bundle variant AB test.\n\t// Please ensure that the test sample rate is low.\n\t// If the sample size of the variant test is > 1% adjust the sample rates for _both_\n\t// the variant and control so they each represent 1% of the overall traffic.\n\t// This will allow a like for like comparison in Sentry.\n\tif (isInBrowserVariantTest) return true;\n\t// Sentry lets you configure sampleRate to reduce the volume of events sent\n\t// but this filter only happens _after_ the library is loaded. The Guardian\n\t// measures page views in the billions so we only want to log 1% of errors that\n\t// happen but if we used sampleRate to do this we'd be needlessly downloading\n\t// Sentry 99% of the time. So instead we just do some math here and use that\n\t// to prevent the Sentry script from ever loading.\n\tif (randomCentile <= 99) return false;\n\treturn true;\n};\n\nconst stubSentry = () => {\n\twindow.guardian.modules.sentry.reportError = (error) => {\n\t\tconsole.error(error);\n\t};\n};\n\nexport const sentryLoader = (): Promise<void> => {\n\tconst { switches, isDev, tests } = window.guardian.config;\n\tconst enableSentryReporting = !!switches.enableSentryReporting;\n\tconst isInBrowserVariantTest =\n\t\tBUILD_VARIANT && tests[dcrJavascriptBundle('Variant')] === 'variant';\n\t// Generate a number between 1 - 100\n\tconst randomCentile = Math.floor(Math.random() * 100) + 1;\n\tconst canLoadSentry = isSentryEnabled({\n\t\tenableSentryReporting,\n\t\tisDev,\n\t\tisInBrowserVariantTest,\n\t\trandomCentile,\n\t});\n\tcanLoadSentry ? loadSentry() : stubSentry();\n\treturn Promise.resolve();\n};\n\nexport { isSentryEnabled };\n","import { initHydration } from './initHydration';\n\nexport const islands = (): Promise<void> => {\n\tconst elements = document.querySelectorAll('gu-island');\n\tinitHydration(elements);\n\n\treturn Promise.resolve();\n};\n"],"names":["leafPrototypes","getProto","map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","keys","Object","module","exports","self","n","appboyInterface","aa","a","b","length","done","value","ba","Symbol","iterator","call","next","ca","create","prototype","da","defineProperties","defineProperty","c","Array","ja","ha","globalThis","window","g","Math","fa","this","ia","split","d","configurable","writable","setPrototypeOf","ka","ma","__proto__","eg","TypeError","na","oa","constructor","getOwnPropertyDescriptor","Kh","RangeError","f","Ob","Dd","mb","h","ed","reject","k","Fa","Ae","Be","vg","push","setTimeout","m","ig","t","Jg","Bd","Zg","Ig","He","$g","Ne","wg","sc","z","A","B","C","x","catch","race","all","pa","repeat","replace","atob","Uint8Array","charCodeAt","qa","Gb","random","toString","substr","ra","q","te","F","sa","indexedDB","ta","open","Bh","hb","Gh","Lg","info","ua","O","VERSION","onupgradeneeded","target","result","G","hasOwnProperty","objectStoreNames","contains","createObjectStore","onsuccess","onversionchange","close","error","onerror","errorCode","va","transaction","objectStore","openCursor","key","wa","xa","continue","setItem","put","getItem","get","clearData","rb","clear","source","name","u","md","Ca","qe","Db","Fd","Jd","console","log","warn","w","CustomEvent","yf","If","wh","zf","Hc","af","cf","Ze","$e","ce","Nf","xf","Qd","Pd","wf","df","Ff","Ue","Ye","Xe","Df","Ef","ff","ef","gf","hf","Of","ya","za","jf","Wd","Pc","nh","Ve","Td","Yd","eb","y","Re","zc","Hf","Nd","Dc","qf","sf","tf","Gf","vf","Mf","Te","Lf","Jf","Lc","We","rf","Se","qh","sh","uh","xh","mh","Zd","Ic","rh","Aa","Ba","indexOf","join","isArray","Da","Ea","Ga","pop","Ha","floor","Ia","parseInt","isNaN","Date","Ja","toISOString","Ka","D","$a","type","time","valueOf","sessionId","data","La","Ma","ts","s","Na","ga","Cb","Kb","fd","Oa","Qa","Ra","match","Sa","Ta","JSON","stringify","Ua","Va","parse","Wa","Xa","qc","session_id","user_id","l","Ya","RegExp","E","H","fg","Za","j","ab","Tg","bb","Xg","Rg","toLowerCase","Ug","cb","Qg","Og","Vg","Wg","Sg","db","Gd","Yg","Ng","wc","parseFloat","Ed","fb","gg","Gg","zg","Ad","gb","Mb","Pg","J","latitude","longitude","hg","ib","jb","Hg","kb","MALE","FEMALE","OTHER","UNKNOWN","NOT_APPLICABLE","PREFER_NOT_TO_SAY","OPTED_IN","SUBSCRIBED","UNSUBSCRIBED","lb","M","R","User","Genders","NotificationSubscriptionTypes","getUserId","setFirstName","setLastName","setEmail","setGender","setDateOfBirth","setCountry","setHomeCity","setLanguage","setEmailNotificationSubscriptionType","setPushNotificationSubscriptionType","setPhoneNumber","setAvatarImageUrl","setLastKnownLocation","setCustomUserAttribute","addToCustomAttributeArray","removeFromCustomAttributeArray","incrementCustomUserAttribute","addAlias","setCustomLocationAttribute","addToSubscriptionGroup","removeFromSubscriptionGroup","hd","kd","nb","Ld","Ec","Fc","Sd","Qc","oh","pb","userAgentData","navigator","brands","brand","version","qb","De","userAgent","test","exec","slice","splice","sb","xd","language","Nh","browserLanguage","Lh","Ag","tb","getHighEntropyValues","platform","U","maxTouchPoints","ub","vb","wb","kc","P","xb","store","yb","zb","Z","Qb","Ab","remove","N","Q","yc","Bb","dc","Cc","Rc","Xb","$d","be","cc","Mc","Kc","ae","Sc","Tc","Bf","Af","Cf","$b","Vb","Ub","Zb","Jc","Fb","$","Ge","document","location","hostname","cookie","toGMTString","ue","ne","ye","Hb","setTime","getTime","getFullYear","Ib","pathname","Jb","Zc","se","la","Lb","Nb","Pa","v","localStorage","message","removeItem","charAt","substring","toUTCString","encodeURIComponent","decodeURIComponent","K","Eh","screen","width","Ch","abs","orientation","bc","Rd","Ud","Fh","Hh","Eg","metaKey","Pb","viewed","title","imageUrl","description","created","updated","categories","expiresAt","url","linkText","aspectRatio","extras","pinned","dismissible","dismissed","clicked","Vc","X","Rb","Sb","S","Xd","Tb","URL","V","TYPE","fe","ac","Wb","Yb","Ac","I","WindowUtils","openUri","Hd","zd","yd","tg","Wf","yh","style","height","offsetHeight","className","parentNode","margin","removeChild","T","ea","p","r","messageAlignment","duration","slideFrom","ec","campaignId","cardId","triggerId","clickAction","fc","uri","openTarget","gc","dismissType","hc","icon","imageStyle","ic","iconColor","jc","Uc","iconBackgroundColor","Kd","backgroundColor","textColor","Md","closeButtonColor","kf","animateIn","animateOut","header","headerAlignment","headerTextColor","frameColor","Kf","buttons","cropType","htmlId","css","oe","pe","lc","mc","is_control","nc","trigger_id","toUpperCase","text_align_message","slide_from","campaign_id","card_id","click_action","open_target","message_close","image_url","image_style","icon_color","icon_bg_color","bg_color","text_color","close_btn_color","text_align_header","header_text_color","frame_color","btns","oc","text","border_color","crop_type","animate_in","animate_out","L","html_id","pc","rc","tc","uc","vc","xc","message_fields","Mh","trusted","Mg","Xf","getElementsByClassName","closest","Je","classList","body","removeEventListener","Bc","scrollTop","getElementById","Zf","focus","targetTouches","scrollHeight","clientHeight","querySelector","preventDefault","Card","fromContentCardsJson","dismissCard","subscribeToClickedEvent","subscribeToDismissedEvent","removeSubscription","removeAllSubscriptions","Banner","CaptionedImage","ClassicCard","ControlCard","rg","lf","mf","Gc","ph","lh","vh","nf","Od","TOP","BOTTOM","NEWS_FEED","URI","NONE","AUTO_DISMISS","MANUAL","BLANK","GRAPHIC","START","CENTER","END","Nc","CENTER_CROP","FIT_CENTER","borderColor","Oc","InAppMessage","SlideFrom","ClickAction","DismissType","OpenTarget","ImageStyle","TextAlignment","Orientation","PORTRAIT","LANDSCAPE","CropType","fromJson","closeMessage","messageFields","cards","lastUpdated","InAppMessageButton","ControlMessage","FullScreenMessage","HtmlMessage","ModalMessage","SlideUpMessage","Ie","Le","Wc","Xc","Yc","Feed","getUnreadCardCount","yg","ContentCards","getUnviewedCardCount","$c","ad","bd","cd","dd","gd","filters","property_key","property_type","comparator","property_value","jd","ld","nd","od","pd","pf","qd","OPEN","Vd","rd","sd","td","ud","vd","wd","product_id","property_filters","event_name","Cd","startTime","endTime","priority","Ke","i","tm","ss","Id","ee","ceil","XMLHttpRequest","withCredentials","XDomainRequest","async","status","onload","readyState","responseText","response","ontimeout","onprogress","setRequestHeader","headers","send","ag","we","Uf","re","W","Sf","Pf","Rf","Qf","device","api_key","sdk_version","sdk_flavor","app_version","device_id","sdk_metadata","auth_error","error_code","signature","respond_with","userId","reason","ie","Eb","triggers","max","config","events_blacklist","attributes_blacklist","purchases_blacklist","messaging_session_timeout","vapid_public_key","content_cards","enabled","je","min","ob","os_version","events","attributes","template","trigger_event_type","templated_message","Qe","Pe","feed","config_time","card_ids","campaign_ids","trigger_ids","de","le","hidden","addEventListener","clearTimeout","he","baseUrl","sdkAuthEnabled","group_id","last_full_sync_at","last_card_updated_at","Vf","subscribe","ge","Fe","Me","pid","pr","altitude","ll_accuracy","alt_accuracy","bid","BROWSER","BROWSER_VERSION","OS","RESOLUTION","LANGUAGE","TIME_ZONE","USER_AGENT","ke","me","Intl","DateTimeFormat","resolvedOptions","timeZone","getTimezoneOffset","ze","geolocation","clearWatch","endpoint","Ee","publicKey","jh","$f","xe","ve","ServiceWorkerRegistration","safari","unsubscribe","subscriptionId","getKey","btoa","String","fromCharCode","apply","options","applicationServerKey","byteLength","permission","pushNotification","requestPermission","deviceToken","userVisibleOnly","pushManager","serviceWorker","getRegistration","register","ready","update","Ce","bg","Ah","Tf","lastIndexOf","Yf","Y","Oe","onLine","DeviceProperties","browser","browserVersion","browser_version","os","resolution","locale","time_zone","user_agent","dg","watchPosition","coords","accuracy","altitudeAccuracy","cg","PERMISSION_DENIED","bind","Notification","getSubscription","host","protocol","href","setMonth","getMonth","expirationTime","unregister","full_sync","sort","image","expires_at","domain","aspect_ratio","trigger_condition","start_time","end_time","delay","re_eligibility","timeout","min_seconds_since_last_trigger","arguments","GOOGLE_TAG_MANAGER","MPARTICLE","SEGMENT","TEALIUM","NPM","CDN","SHOPIFY","BrazeSdkMetadata","Element","matches","msMatchesSelector","mozMatchesSelector","webkitMatchesSelector","ownerDocument","querySelectorAll","documentElement","parentElement","nodeType","bubbles","cancelable","detail","createEvent","initCustomEvent","Event","appboy","jg","lg","pg","bf","mg","kg","qg","og","ng","Jh","Ih","cookieEnabled","enableHtmlInAppMessages","en","NO_CARDS_MESSAGE","FEED_TIMEOUT_MESSAGE","ar","cs","es","et","fi","fr","hi","it","ko","ms","nl","no","pl","pt","ru","sv","th","uk","vi","zh","xg","lastClick","trackingString","cid","card","Dh","dh","bh","fh","eh","Dg","Cg","toFixed","Fg","hh","gh","ah","sg","Kg","ug","Bg","kh","initialize","destroy","getDeviceId","toggleAppboyLogging","setLogger","openSession","changeUser","getUser","requestImmediateDataFlush","requestFeedRefresh","getCachedFeed","subscribeToFeedUpdates","requestContentCardsRefresh","getCachedContentCards","subscribeToContentCardsUpdates","logCardImpressions","logCardClick","logCardDismissal","logFeedDisplayed","logContentCardsDisplayed","logInAppMessageImpression","logInAppMessageClick","logInAppMessageButtonClick","logInAppMessageHtmlClick","subscribeToNewInAppMessages","subscribeToInAppMessage","logCustomEvent","logPurchase","isPushSupported","isPushBlocked","isPushGranted","isPushPermissionGranted","registerAppboyPushMessages","unregisterAppboyPushMessages","setSdkAuthenticationSignature","subscribeToSdkAuthenticationFailures","trackLocation","addSdkMetadata","stopWebTracking","disableSDK","resumeWebTracking","enableSDK","wipeData","isDisabled","StyleSheet","_this","_insertTag","tag","before","tags","insertionPoint","nextSibling","prepend","container","firstChild","insertBefore","isSpeedy","undefined","speedy","ctr","nonce","_proto","hydrate","nodes","forEach","insert","rule","createElement","setAttribute","appendChild","createTextNode","createStyleElement","sheet","styleSheets","ownerNode","sheetForTag","insertRule","cssRules","flush","assign","trim","pattern","replacement","indexof","search","index","begin","end","array","line","column","position","character","characters","node","root","parent","props","children","return","prev","peek","caret","token","alloc","dealloc","delimit","delimiter","whitespace","escaping","count","commenter","identifier","COMMENT","IMPORT","callback","output","element","compile","rules","rulesets","pseudo","points","declarations","offset","atrule","property","previous","variable","scanning","ampersand","reference","comment","declaration","ruleset","post","size","identifierWithPointTracking","fixedElements","WeakMap","compat","isImplicitRule","set","parsed","toRules","getRules","parentRules","removeLabel","hash","defaultStylisPlugins","ssrStyles","getAttribute","head","_insert","stylisPlugins","inserted","nodesToHydrate","attrib","currentSheet","collection","finalizingPlugins","serializer","concat","selector","serialized","shouldCache","styles","cache","registered","_extends","func","arg","has","ret","targetComponent","sourceComponent","EmotionCacheContext","createContext","HTMLElement","CacheProvider","Provider","__unsafe_useEmotionCache","useContext","withEmotionCache","forwardRef","ref","ThemeContext","useTheme","createCacheWithTheme","outerTheme","theme","getTheme","ThemeProvider","withTheme","Component","componentName","displayName","render","WithTheme","typePropName","createEmotionProps","newProps","Insertion","_ref","isStringTag","Emotion","cssProp","WrappedComponent","registeredStyles","Fragment","jsx","args","argsLength","createElementArgArray","Global","sheetRef","useRef","rehydrating","current","sheetRefCurrent","nextElementSibling","_len","_key","keyframes","insertable","anim","classnames","len","cls","toAdd","serializedArr","ClassNames","content","cx","_len2","_key2","rawClassName","merge","ele","jsxs","str","animationIterationCount","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","msGridRow","msGridRowSpan","msGridColumn","msGridColumnSpan","fontWeight","lineHeight","opacity","order","orphans","tabSize","widows","zIndex","zoom","WebkitLineClamp","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","hyphenateRegex","animationRegex","isCustomProperty","isProcessableValue","processStyleName","fn","styleName","processStyleValue","p1","p2","cursor","handleInterpolation","mergedProps","interpolation","__emotion_styles","obj","string","interpolated","_i","createStringFromObject","previousCursor","cached","labelPattern","serializeStyles","stringMode","strings","raw","lastIndex","identifierName","useInsertionEffect","useInsertionEffectAlwaysWithSyncFallback","useInsertionEffectWithLayoutFallback","useLayoutEffect","getRegisteredStyles","classNames","registerStyles","insertStyles","svg","dangerouslySetInnerHTML","__html","desvg","React","isBrowserBundle","__SENTRY_BROWSER_BUNDLE__","getSDKSource","isNodeEnv","process","dynamicRequire","mod","request","require","WINDOW","dateTimestampSource","nowSeconds","now","platformPerformance","performance","_","getNodePerformance","timeOrigin","getBrowserPerformance","timestampSource","dateTimestampInSeconds","timestampInSeconds","_browserPerformanceTimeOriginMode","threshold","performanceNow","dateNow","timeOriginDelta","timeOriginIsReliable","navigationStart","timing","navigationStartDelta","isGlobalObj","GLOBAL_OBJ","getGlobalObject","getGlobalSingleton","creator","gbl","__SENTRY__","reactIs","REACT_STATICS","childContextTypes","contextType","contextTypes","defaultProps","getDefaultProps","getDerivedStateFromError","getDerivedStateFromProps","mixins","propTypes","KNOWN_STATICS","caller","callee","arity","MEMO_STATICS","compare","TYPE_STATICS","getStatics","component","isMemo","ForwardRef","Memo","getOwnPropertyNames","getOwnPropertySymbols","getPrototypeOf","objectPrototype","hoistNonReactStatics","blacklist","inheritedComponent","targetStatics","sourceStatics","descriptor","isMobile","mobileRE","notMobileRE","tabletRE","opts","tablet","featureDetect","NAN","symbolTag","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","freeGlobal","freeSelf","Function","objectToString","nativeMax","nativeMin","isObject","toNumber","isObjectLike","isSymbol","other","isBinary","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","invokeFunc","thisArg","shouldInvoke","timeSinceLastCall","timerExpired","trailingEdge","remainingWait","debounced","isInvoking","leadingEdge","cancel","guardian","ophan","pageViewId","viewId","Image","setInterval","complete","clearInterval","src","sendInitial","sendMore","bumpViewId","state","visibilityState","webkitVisibilityState","mozVisibilityState","msVisibilityState","changeEvent","init","debug","quick","cssClass","nullProps","zeroProps","getComputedStyle","getPropertyValue","maxLoop","loopDelay","found","notfound","Message","remote","download","attachEvent","run","referrer","isModernBrowser","httpStatus","tz","adUnitWasHidden","renderedComponents","page","contentType","storeDataToSendOnNextEvent","onLoadCapture","servingPlatform","sendInitialEvent","visibilityThreshold","reportingInterval","visible","totalAttentionMs","unrecordedAttentionStarted","reportedTotalAttentionMs","usingEmitter","visCheck","checkVisibility","on","isVisible","offsetParent","getBoundingClientRect","right","left","bottom","top","innerHeight","innerWidth","clientWidth","visibilityHasChanged","rebindToEventEmitter","makeActive","makeInactive","incrementTotalAttentionTimeByUnrecordedAmount","hadAttentionSinceLastGet","getAttentionTime","setEventEmitter","startMonitoring","stopMonitoring","getAttentionTimes","round","registerComponent","attentionMs","componentAttentionMs","initComponent","webkitRequestFileSystem","TEMPORARY","PointerEvent","MSPointerEvent","inPrivateBrowsingMode","privateBrowsingMode","ophan_heatmap","nodeName","from","to","referringComponent","referringDataLinkNames","refPlatform","refViewId","clickComponent","clickLinkNames","getDataLinkNames","msPerformance","webkitPerformance","mozPerformance","dns","domainLookupEnd","domainLookupStart","connection","connectEnd","connectStart","firstByte","responseStart","lastByte","responseEnd","domContentLoadedEvent","domContentLoadedEventStart","loadEvent","loadEventStart","navType","navigation","redirectCount","origin","some","endsWith","iframeId","record","componentEvent","trackComponentAttention","__H","__","__h","__V","__c","__N","setState","filter","every","shouldComponentUpdate","componentWillUpdate","__e","context","sub","componentDidCatch","__v","__m","shift","__P","requestAnimationFrame","cancelAnimationFrame","isReactComponent","__f","isPureReactComponent","for","$$typeof","only","toArray","__k","__d","__u","__b","__a","default","__R","__O","forceUpdate","componentWillUnmount","fallback","delete","revealOrder","getChildContext","childNodes","containerInfo","Map","reverse","componentDidUpdate","componentDidMount","textContent","cancelBubble","nn","defaultPrevented","persist","isPropagationStopped","isDefaultPrevented","nativeEvent","tn","enumerable","class","rn","multiple","selected","defaultValue","un","ln","ReactCurrentDispatcher","readContext","__n","cn","an","sn","hn","vn","base","dn","pn","mn","yn","_n","bn","Sn","gn","Cn","useState","useId","useReducer","useEffect","useTransition","useDeferredValue","useSyncExternalStore","startTransition","useImperativeHandle","useMemo","useCallback","useDebugValue","Children","unmountComponentAtNode","createPortal","createFactory","cloneElement","createRef","isValidElement","findDOMNode","PureComponent","memo","flushSync","unstable_batchedUpdates","StrictMode","Suspense","SuspenseList","lazy","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","vnode","__r","debounceRendering","ownerSVGElement","setProperty","cssText","removeAttribute","event","__E","_sb","__s","componentWillMount","componentWillReceiveProps","getSnapshotBeforeUpdate","diffed","localName","createElementNS","is","innerHTML","checked","unmount","Consumer","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","propName","propFullName","secret","err","getShim","isRequired","ReactPropTypes","bigint","bool","number","object","symbol","any","arrayOf","elementType","instanceOf","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","AsyncMode","ConcurrentMode","ContextConsumer","ContextProvider","Lazy","Portal","Profiler","isAsyncMode","isConcurrentMode","isContextConsumer","isContextProvider","isElement","isForwardRef","isFragment","isLazy","isPortal","isProfiler","isStrictMode","isSuspense","isValidElementType","typeOf","BUILD_VARIANT","dcrJavascriptBundle","variant","getArticleCounts","pageId","keywordIds","hasOptedOutOfArticleCount","weeklyArticleCount","incrementWeeklyArticleCount","storage","getWeeklyArticleHistory","dailyArticleCount","incrementDailyArticleCount","getDailyArticleCount","weeklyArticleHistory","dailyArticleHistory","useArticleCounts","articleCounts","setArticleCounts","isContributor","getSoleContributor","byline","includes","firstContributor","getBylineComponentsFromTokens","tokens","reduce","bylines","remainingTags","getContributorTagsForToken","firstContributorTag","newRemainingTags","replaceAll","find","escapeRegExp","unescapeData","unescaped","createAuthenticationEventParams","componentId","params","componentType","constructQuery","query","param","queryValue","atomIframe","updateIframeHeight","discussion","guElement","getProps","expanded","doHydration","getEmotionCache","forceHydration","embedIframe","tracker","getQueryParam","queryString","xs","GoogleAnalyticsObject","sampleRate","siteSpeedSampleRate","sendCoreVital","delta","eventCategory","eventAction","eventValue","eventLabel","nonInteraction","sendPageView","GAData","userCookie","getCookie","shouldMemoize","webTitle","section","commissioningDesks","contentId","authorIds","toneIds","seriesId","isHosted","edition","pillar","NG_STORAGE_KEY","referrerVarsData","sessionStorage","referrerVars","dimension12","path","getCLS","getLCP","getFID","trackNonClickInteraction","actionName","trackSponsorLogoLinkClick","sponsorName","trackVideoInteraction","trackingEvent","elementId","dimension19","prefix","initPerf","perf","startKey","endKey","start","mark","getEntriesByName","measure","clearMarks","clearMeasures","emotionCache","importStart","importEnd","dataset","guReady","importDuration","clientOnly","hasAttribute","islandStart","createRoot","hydrateRoot","islandDuration","islandEnd","action","createCache","marker","serialised","initHydration","elements","getName","requestIdleCallback","io","IntersectionObserver","entry","isIntersecting","disconnect","rootMargin","observe","whenVisible","once","onInteraction","targetElement","dispatchEvent","MouseEvent","allowedOrigins","newsletterEmbedIframe","allIframes","iframe","contentWindow","postMessage","iframes","Number","isInteger","getOphanRecordFunction","submitComponentEvent","ophanRecord","sendOphanComponentEvent","testMeta","abTestName","abTestVariant","products","campaignCode","labels","abTest","abTestPayload","tests","records","entries","testName","variantName","abTestRegister","recordPerformance","performanceAPI","relativeTime","updateTimeElements","updateTimeElement","relativeformat","absoluteTime","relativeFormat","newTime","timeAgo","verbose","oldTime","innerText","PREFIX","CONSOLE_LEVELS","consoleSandbox","originalConsole","wrappedLevels","level","originalWrappedFunc","__sentry_original__","makeLogger","logger","enable","disable","__SENTRY_DEBUG__","isError","wat","isInstanceOf","isBuiltin","isErrorEvent","isDOMError","isString","isPlainObject","isEvent","isThenable","Boolean","_e","DEFAULT_MAX_STRING_LENGTH","htmlTreeAsString","elem","currentElem","MAX_TRAVERSE_HEIGHT","out","separator","sepLength","nextStr","keyAttrs","maxStringLength","_htmlElementAsString","_oO","el","classes","attr","tagName","keyAttrPairs","keyAttr","keyAttrPair","allowedAttrs","truncate","safeJoin","input","stringMatchesSomePattern","testString","patterns","requireExactStringMatch","isMatchingPattern","fill","replacementFactory","original","wrapped","markFunctionWrapped","_Oo","addNonEnumerableProperty","proto","getOriginalFunction","convertToPlainObject","stack","getOwnProperties","newObj","serializeEventTarget","currentTarget","extractedProps","extractExceptionKeysForMessage","exception","maxLength","includedKeys","dropUndefinedKeys","inputValue","_dropUndefinedKeys","memoizationMap","memoVal","returnValue","item","uuid4","crypto","msCrypto","randomUUID","getRandomByte","getRandomValues","getFirstException","values","getEventDescription","event_id","eventId","firstException","addExceptionTypeValue","addExceptionMechanism","newMechanism","currentMechanism","mechanism","handled","mergedData","checkOrSetAlreadyCaught","__sentry_captured__","arrayify","maybeArray","DEFAULT_IGNORE_ERRORS","InboundFilters","static","__init","_options","setupOnce","addGlobalEventProcessor","getCurrentHub","eventProcess","hub","getIntegration","client","getClient","clientOptions","getOptions","internalOptions","allowUrls","denyUrls","ignoreErrors","ignoreInternal","_mergeOptions","_isSentryError","oO","_getPossibleEventMessages","_isIgnoredError","_getEventFilterUrl","_isDeniedUrl","_isAllowedUrl","_shouldDropEvent","frames","stacktrace","frame","filename","_getLastValidUrl","originalFunctionToString","__initStatic","FunctionToString","States","SyncPromise","rejectedSyncPromise","_state","PENDING","__init2","_handlers","executor","__init3","__init4","__init5","__init6","_resolve","_reject","onfulfilled","onrejected","_executeHandlers","val","finally","onfinally","isRejected","_setResult","RESOLVED","REJECTED","_value","cachedHandlers","handler","updateSession","session","user","ipAddress","ip_address","did","email","username","timestamp","ignoreDuration","sid","started","release","environment","errors","Scope","_notifyingListeners","_scopeListeners","_eventProcessors","_breadcrumbs","_attachments","_user","_tags","_extra","_contexts","_sdkProcessingMetadata","scope","newScope","_level","_span","_session","_transactionName","_fingerprint","_requestSession","addScopeListener","addEventProcessor","setUser","_notifyScopeListeners","getRequestSession","setRequestSession","requestSession","setTags","setTag","setExtras","setExtra","extra","setFingerprint","fingerprint","setLevel","setTransactionName","setContext","setSpan","span","getSpan","getTransaction","setSession","getSession","captureContext","updatedScope","contexts","addBreadcrumb","breadcrumb","maxBreadcrumbs","maxCrumbs","mergedBreadcrumb","getLastBreadcrumb","clearBreadcrumbs","addAttachment","attachment","getAttachments","clearAttachments","applyToEvent","hint","trace","getTraceContext","transactionName","_applyFingerprint","breadcrumbs","sdkProcessingMetadata","_notifyEventProcessors","getGlobalEventProcessors","setSDKProcessingMetadata","newData","processors","processor","final","API_VERSION","DEFAULT_BREADCRUMBS","Hub","_stack","_version","getStackTop","bindClient","isOlderThan","setupIntegrations","pushScope","clone","getScope","getStack","popScope","withScope","captureException","_lastEventId","syntheticException","_withClient","originalException","captureMessage","captureEvent","lastEventId","beforeBreadcrumb","finalBreadcrumb","configureScope","oldHub","makeMain","integration","startTransaction","customSamplingContext","_callExtensionMethod","traceHeaders","captureSession","endSession","_sendSessionUpdate","layer","closeSession","startSession","startingTime","toJSON","attrs","sessionToJSON","makeSession","currentSession","shouldSendDefaultPii","sendDefaultPii","method","sentry","getMainCarrier","extensions","registry","getHubFromCarrier","setHubOnCarrier","hasHubOnCarrier","activeDomain","active","registryHubTopStack","getHubFromActiveDomain","carrier","installedIntegrations","getIntegrationsToSetup","defaultIntegrations","userIntegrations","integrations","isDefaultInstance","finalIntegrations","integrationsByName","currentInstance","existingInstance","filterDuplicates","debugIndex","findIndex","debugInstance","setupIntegration","integrationIndex","STACKTRACE_LIMIT","debugIdParserCache","createStackParser","parsers","sortedParsers","skipFirst","parser","debugIdCache","debugIdMap","debugIdStackTrace","cleanedLine","cachedDebugId","debug_id","localStack","firstFrameFunction","function","lastFrameFunction","stripSentryFramesAndReverse","defaultFunctionName","getFunctionName","supportsFetch","Headers","Request","Response","isNativeFetch","handlers","instrumented","addInstrumentationHandler","originalConsoleMethod","triggerHandlers","triggerDOMHandler","globalDOMEventHandler","makeDOMEventHandler","originalAddEventListener","listener","__sentry_instrumentation_handlers__","handlerForType","refCount","originalRemoveEventListener","instrumentDOM","xhrproto","originalOpen","xhr","xhrInfo","__sentry_xhr__","__sentry_own_request__","onreadystatechangeHandler","status_code","endTimestamp","startTimestamp","onreadystatechange","readyStateArgs","originalSend","instrumentXHR","fetch","doc","sandbox","supportsNativeFetch","originalFetch","handlerData","fetchData","getFetchMethod","getFetchUrl","chrome","isChromePackagedApp","app","runtime","hasHistoryApi","history","pushState","replaceState","supportsHistory","oldOnPopState","onpopstate","historyReplacementFunction","originalHistoryFunction","lastHref","instrumentHistory","_oldOnErrorHandler","msg","_oldOnUnhandledRejectionHandler","onunhandledrejection","instrument","fetchArgs","debounceDuration","debounceTimerID","lastCapturedEvent","globalListener","isContentEditable","shouldSkipDOMEvent","shouldShortcircuitPreviousDebounce","global","SentryError","logLevel","super","DSN_REGEX","dsn","withPassword","pass","port","projectId","dsnFromComponents","components","normalize","depth","maxProperties","visit","ERROR","normalizeToSize","maxSize","normalized","encodeURI","utf8Length","hasWeakSet","WeakSet","inner","add","memoBuilder","memoize","unmemoize","stringified","_events","isSyntheticEvent","getConstructorName","stringifyValue","startsWith","valueWithToJSON","numAdded","visitable","visitKey","visitValue","createEnvelope","items","addItemToEnvelope","envelope","newItem","forEachEnvelopeItem","envelopeItem","envelopeItemType","encodeUTF8","textEncoder","TextEncoder","encode","serializeEnvelope","envHeaders","parts","append","itemHeaders","payload","stringifiedPayload","buffers","totalLength","acc","buf","merged","buffer","concatBuffers","createAttachmentEnvelopeItem","content_type","attachment_type","attachmentType","ITEM_TYPE_TO_DATA_CATEGORY_MAP","sessions","client_report","user_report","profile","replay_event","replay_recording","envelopeItemTypeToDataCategory","getSdkMetadataForEnvelopeHeader","metadataOrEvent","sdk","SENTRY_API_VERSION","getEnvelopeEndpointWithUrlEncodedAuth","tunnelOrOptions","tunnel","sdkInfo","_metadata","getBaseApiEndpoint","_getIngestEndpoint","sentry_key","sentry_version","sentry_client","_encodedAuth","ALREADY_SEEN_ERROR","BaseClient","_integrations","_integrationsInitialized","_numProcessing","_outcomes","_dsn","lastPath","projectMatch","dsnFromString","isValidProtocol","validateDsn","_transport","transport","recordDroppedEvent","transportOptions","_process","eventFromException","_captureEvent","promisedEvent","eventFromMessage","_isEnabled","sendSession","getDsn","getSdkMetadata","getTransport","_isClientDoneProcessing","clientFinished","transportFlushed","getIntegrationById","integrationId","addIntegration","sendEvent","env","metadata","eventType","packages","enhanceEventWithSdkInfo","envelopeHeaders","dynamicSamplingContext","sent_at","createEventEnvelopeHeaders","createEventEnvelope","attachments","_sendEnvelope","createSessionEnvelope","category","_event","sendClientReports","_updateSessionFromEvent","crashed","errored","exceptions","ex","sessionNonTerminal","ticked","interval","_prepareEvent","normalizeDepth","normalizeMaxBreadth","prepared","dist","maxValueLength","applyClientOptions","integrationNames","applyIntegrationsMetadata","finalScope","evt","maxBreadth","spans","normalizeEvent","prepareEvent","_processEvent","finalEvent","sentryError","isTransaction","isTransactionEvent","beforeSendLabel","dataCategory","__sentry__","beforeSend","beforeSendTransaction","processBeforeSend","beforeSendResult","invalidValueError","_validateBeforeSendResult","processedEvent","transactionInfo","transaction_info","changes","propagations","promise","_clearOutcomes","outcomes","quantity","SDK_VERSION","exceptionFromError","stackParser","parseStackFrames","extractMessage","eventFromError","popSize","framesToPop","reactMinifiedRegexp","getPopSize","eventFromUnknownInput","attachStacktrace","isUnhandledRejection","domException","eventFromString","__serialized__","eventFromPlainObject","synthetic","ignoreOnError","shouldIgnoreOnError","wrap","wrapper","__sentry_wrapped__","sentryWrapped","wrappedArguments","validSeverityLevels","severityLevelFromString","parseUrl","fragment","relative","MAX_ALLOWED_STRING_LENGTH","BREADCRUMB_INTEGRATION_ID","Breadcrumbs","dom","_consoleBreadcrumb","serializeAttribute","_xhrBreadcrumb","_fetchBreadcrumb","_historyBreadcrumb","addSentryBreadcrumb","parsedLoc","parsedFrom","parsedTo","BrowserClient","sdkSource","_flushOutcomes","breadcrumbIntegration","discarded_events","sendBeacon","GlobalHandlers","_installFunc","_installGlobalOnErrorHandler","_installGlobalOnUnhandledRejectionHandler","stackTraceLimit","installFunc","getHubAndOptions","groups","_enhanceEventWithInitialFrame","_eventFromIncompleteOnError","addMechanismAndCapture","ev","ev0","ev0s","ev0sf","colno","lineno","getLocationHref","in_app","DEFAULT_EVENT_TARGET","TryCatch","eventTarget","_wrapTimeFunction","_wrapRAF","_wrapXHR","eventTargetOption","_wrapEventTarget","originalCallback","prop","wrapOptions","originalFunction","globalObject","eventName","handleEvent","wrappedEventHandler","originalEventHandler","LinkedErrors","_limit","limit","linkedErrors","_walkErrorTree","_handler","HttpContext","Referer","Dedupe","eventProcessor","currentEvent","previousEvent","currentMessage","previousMessage","_isSameFingerprint","_isSameStacktrace","_isSameMessageEvent","previousException","_getExceptionFromEvent","currentException","_isSameExceptionEvent","_previousEvent","currentFrames","_getFramesFromEvent","previousFrames","frameA","frameB","currentFingerprint","previousFingerprint","UNKNOWN_FUNCTION","createFrame","chromeRegex","chromeEvalRegex","geckoREgex","geckoEvalRegex","winjsRegex","defaultStackParser","subMatch","extractSafariExtensionDetails","isSafariExtension","isSafariWebExtension","DEFAULT_RETRY_AFTER","DEFAULT_TRANSPORT_BUFFER_SIZE","createTransport","makeRequest","task","taskProducer","drain","counter","capturedSetTimeout","makePromiseBuffer","bufferSize","rateLimits","filteredEnvelopeItems","envelopeItemDataCategory","limits","disabledUntil","isRateLimited","getEventForEnvelopeItem","filteredEnvelope","recordEnvelopeLoss","statusCode","updatedRateLimits","rateLimitHeader","retryAfterHeader","retryAfter","headerDelay","headerDate","parseRetryAfterHeader","updateRateLimits","cachedFetchImpl","makeFetchTransport","nativeFetch","fetchImpl","getNativeFetchImplementation","requestOptions","referrerPolicy","keepalive","fetchOptions","XHR_READYSTATE_DONE","makeXHRTransport","getResponseHeader","startSessionOnHub","CaptureConsole","_levels","levels","__SENTRY_RELEASE__","autoSessionTracking","clientClass","initialScope","initAndBind","startSessionTracking","Sentry","dcrSentryDsn","stage","reportError","feature","ageWarningStyles","isSmall","textSans","brandAltText","brandAltBackground","ageWarningScreenReader","visuallyHidden","AgeWarning","age","isScreenReader","warningPrefix","ageOld","ensureOldText","div","aria-hidden","ClockIcon","strong","AlreadyVisited","incrementAlreadyVisited","AnimatePulsingDots","AudioAtomWrapper","trackUrl","kicker","contentIsNotSensitive","aCastisEnabled","readerCanBeShownAds","shouldUseAcast","setShouldUseAcast","onConsentChange","consentGiven","getConsentFor","AudioAtom","picture","img","block","backgroundStyles","palette","background","avatar","Avatar","alt","format","containerPalette","decidePalette","sources","generateSources","getSourceImageUrl","breakpoint","fallbackSource","getFallbackSource","srcSet","hiResUrl","media","lowResUrl","brandingStyle","brandingLabelStyle","invariantStyles","design","ArticleDesign","neutral","until","standfirst","brandingLogoStyle","brandingAboutLink","branding","decideLogo","Hide","when","logo","dimensions","logoForDarkBackground","Branding","sponsorId","label","link","data-sponsor","rel","aria-label","onClick","data-cy","aboutThisLink","BrazeMessaging","idApiUrl","useBraze","brazeMessages","brazeCards","bylineStyles","baseStyles","ArticleSpecial","headline","colourStyles","isCard","cardByline","Byline","Option","cssOverrides","stringifyFileBase64","file","reader","FileReader","fileAsBase64","readAsDataURL","fileInputThemeDefault","fileInput","supporting","primary","backgroundHover","textHover","uploadSizes","remSpace","fontWeights","small","xsmall","space","fontSizes","customUpload","hasError","remHeight","focusHalo","FileInput","optional","hideLabel","onError","onUpload","validFileTypes","maxFileSize","fileName$1","setFileName","uploadError","setUploadError","errorText","onSelectFile","typeErrorMessage","sizeErrorMessage","stringifiedFile","files","bytes","Label","InlineError","accept","onChange","required","fileName","FormField","formField","formData","setFieldInFormData","validationErrors","fieldValue","fieldError","firstUpdate","TextInput","data-testid","TextArea","Select","formLabel","CheckboxGroup","option","selectedCheckboxesArray","isCheckboxChecked","Checkbox","RadioGroup","Radio","expandingWrapperThemeDefault","expander","horizontalRules","border","expandBackground","expandBackgroundHover","expandText","collapseBackground","collapseBackgroundHover","collapseText","collapseTextHover","containerStyles","buttonIconStyles","extraStyles","ExpandingWrapper","expandCallback","renderExtra","disableTabbingWhenCollapsed","collapsedHeight","isExpanded","setIsExpanded","collapsibleBody","tabIndex","setTabIndex","collapsibleBodyStyles","overlayStyles","showHideLabelStyles","htmlFor","SvgMinus","SvgPlus","tabsThemeDefault","tabs","inactiveBackground","tabList","tabButton","tabPanel","Tabs","tabsLabel","tabElement","selectedTab","onTabChange","TabControllerElement","role","tab","Svg","iconSize","viewBox","xmlns","focusable","fillRule","clipRule","SvgShare","isAnnouncedByScreenReader","linkDecorationColour","calloutLinkStyles","descriptionStyles","useBrandColour","CalloutDescription","withDataIgnore","data-ignore","expiredStyles","CalloutExpired","shareCalloutStyles","shareCalloutTextStyles","shareCalloutLinkStyles","brandPalette","articleLink","articleLinkHover","sharePopupStyles","success","shareIconStyles","CalloutShare","urlAnchor","isCopied","setIsCopied","onShare","shareTitle","shareText","share","clipboard","writeText","Button","SvgTickRound","termsAndConditionsStyles","CalloutTermsAndConditions","textStyles","successStyles","tickBoxStyles","errorTextStyles","formStyles","submitButtonStyles","footerPaddingStyles","Form","formFields","submissionURL","formID","setFormData","setValidationErrors","networkError","setNetworkError","submissionSuccess","setSubmissionSuccess","twitterHandle","setTwitterHandle","currentErrors","submitForm","form","formDataWithFieldPrefix","cur","formId","resp","respError","modules","noValidate","onSubmit","isValid","field","ErrorSummary","placeholder","maskType","maskUnits","mask","SvgWhatsAppBrand","SvgSignalBrand","x1","y1","x2","y2","gradientUnits","stopColor","SvgTelegramBrand","calloutPrimaryButtonStyles","infoStyles","formatContactType","conditionallyRenderContactIcon","formatContactNumbers","contacts","contactNumbers","namesString","names","Disclaimer","contactText","guidanceText","contact","guidance","secureDropText","MessageUs","urlPrefix","LinkButton","summaryContentWrapper","isNonCollapsible","promptStyles","subtitleTextHeaderStyles","tabTitle","tabIcons","CalloutBlock","prompt","heading","setSelectedTab","shouldShowContacts","shouldShowHeading","tabsContent","tabsText","h4","tabName","deadlineStyles","Deadline","untilDate","date","formatOptionalDate","deadlineText","date1","date2","first","daysBetween","getDeadlineText","SvgClock","collapsibleCalloutStyle","CalloutBlockComponent","callout","activeUntil","calloutsUrl","isExpired","aside","fieldLabelStyles","fieldDescription","optionalTextStyles","fontStyle","FieldLabel","fileUploadInputStyles","errorMessagesStyles","FileUpload","setError","CheckboxSelect","RadioSelect","isRadioChecked","MultiSelect","SourceSelect","textAreaStyles","SourceTextArea","textInputStyles","SourceTextInput","formFieldWrapperStyles","hr","custom-guardian","Link","wrapperStyles","calloutDetailsStyles","backgroundColorStyle","speechBubbleWrapperStyles","successTextStyles","summaryStyles","speechBubbleStyles","speechBubble","headingTextHeaderStyles","headingTextStyles","buttonWrapperStyles","hasFormBeenOpened","CalloutEmbedBlockComponent","expandFormButtonRef","firstFieldElementRef","lastElementRef","keyListener","keyCode","shiftKey","activeElement","figure","data-print-layout","details","summary","iconSide","PlusIcon","MinusIcon","captionStyle","caption","bottomMarginStyles","overlaidStyles","overlaidCaption","display","ArticleDisplay","overlaidBottomPadding","limitedWidth","veryLimitedWidth","captionPadding","tabletCaptionPadding","videoPadding","between","bigLeftMargin","hideIconBelowLeftCol","iconStyle","cameraCaptionIcon","videoIconStyle","captionLink","CameraIcon","CameraSvg","VideoIcon","VideoSvg","Caption","captionText","padCaption","credit","displayCredit","shouldLimitWidth","isOverlaid","isLeftCol","mediaType","isMainMedia","isBlog","defaultCaption","figcaption","SvgExternal","fontStyles","fontStylesOnMobile","labTextStyles","sublinkStyles","getZIndex","lineStyles","cardSupporting","dynamoStyles","WithLink","linkTo","isDynamo","isFirstWordShort","CardHeadline","headlineText","showQuotes","kickerText","showPulsingDot","hideLineBreak","sizeOnMobile","showByline","showLine","isExternalLink","kickerColour","dynamoKicker","cardKicker","cleanHeadLineText","h3","Kicker","color","QuoteIcon","colour","dynamoHeadline","cardHeadline","CardPicture","master","imageSize","breakpoints","decideImageWidths","data-size","SvgCamera","SvgVideo","SvgAudio","iconWrapperStyles","hasKicker","cardFooter","durationStyles","secondsToDuration","secs","seconds","Icon","MediaIcon","MediaDuration","mediaDuration","MediaMeta","snapStyles","Snap","snapData","embedHtml","embedCss","embedJs","script","directionStyles","alignment","liStyles","dynamoLiStyles","transparentColour","leftMargin","bottomMargin","SupportingContent","supportingContent","parentFormat","ul","subLink","shouldPadLeft","isLast","li","topBar","sideMarginStyles","topMarginStyles","largerTopMargin","sizingStyles","imagePosition","isVertical","AvatarContainer","ageStyles","CardAge","webPublicationDate","showClock","displayString","dateTime","data-relativeformat","logoImageStyle","brandingWrapperStyle","labelStyle","CardBranding","ArticlePillar","shouldUseLogoForDarkBackground","spaceBetween","margins","flexEnd","CardFooter","displayLines","commentCount","cardBranding","footer","StraightLines","lines","decideDirection","decideWidth","minWidthInPixels","decidePosition","imagePositionOnMobile","imageType","CardLayout","fauxLinkStyles","InternalLink","dataLinkName","data-link-name","ExternalLink","CardLink","cardStyles","baseCardStyles","thePalette","decidePaletteBrightness","topBarStyles","containerType","CardWrapper","flexBasisStyles","ContentWrapper","isHorizontal","HeadlineWrapper","hasStarRating","buttonSize","getIconSizeOnDesktop","getIconSizeOnMobile","PlayIcon","brandAlt","SvgMediaControlsPlay","ImageWrapper","showPlayIcon","isHorizontalOnMobile","showTrailText","TrailTextWrapper","cardStandfirst","StarRatingComponent","rating","cardHasImage","StarRating","DecideFooter","isOpinion","hasSublinks","displayAge","renderFooter","CommentFooter","headlineSize","headlineSizeOnMobile","showQuotedHeadline","trailText","avatarUrl","showMainVideo","starRating","supportingContentAlignment","showAge","discussionId","isCrossword","sublinkPosition","decideSublinkPosition","data-discussion-id","data-format","data-is-dynamo","data-container-palette","decideIfAgeShouldShow","getImage","GAP_SIZE","sidePaddingStyles","padSidesOnMobile","snapAlignStartStyles","decideDivider","offsetBottomPaddingOnDivider","paddingSize","bottomPaddingSize","containerOverrides","decideContainerOverrides","verticalDividerWithBottomOffset","verticalDivider","LI","percentage","stretch","showDivider","padSides","snapAlignStart","sizeStyles","decideSize","formatAttrString","removeTempChars","replaceSpacesWithHyphens","SvgChevronLeftSingle","SvgChevronRightSingle","isLastCardShowing","totalStories","containerMargins","carouselStyle","dotsStyle","dotStyle","dotActiveStyle","carouselDot","carouselDotFocus","adjustNumberOfDotsStyle","buttonContainerStyle","prevButtonContainerStyle","nextButtonContainerStyle","buttonStyle","prevButtonStyle","nextButtonStyle","headerRowStyles","headerStyles","titleStyle","isCuratedContent","carouselTitle","Title","h2","CarouselCard","isFirst","HeaderAndNav","trails","goToIndex","Carousel","onwardsSource","carouselRef","setIndex","maxIndex","setMaxIndex","arrowName","notPresentation","getItems","getSetIndex","offsets","offsetLeft","scrolled","scrollLeft","getIndex","newIndex","scrollTo","nextOffset","currOffset","carousel","libDebounce","FetchCommentCounts","LeftColumn","borderType","button","data-component","data-link","trail","trailFormat","isCommentable","ChartAtomWrapper","ChartAtom","roleHeadlineSize","roleButtonSize","roleButtonText","ClickToView","onAccept","isTracking","sourceDomain","isOverlayClicked","setIsOverlayClicked","textSize","roleTextSize","shouldDisplayOverlay","SvgCheckmark","commentCountUntilDesktop","iconContainerStyles","iconStyles","longStyles","shortStyles","linkStyles","CommentCount","discussionApiUrl","shortUrlId","useDiscussion","joinUrl","formatCount","short","long","CommentIcon","SvgArrowUpStraight","SvgIndent","part","apiKey","defaultParams","objAsParams","getDiscussion","shortUrl","apiOpts","orderBy","pageSize","displayThreaded","threads","maxResponses","json","preview","URLSearchParams","commentBody","credentials","reply","parentCommentId","getPicks","comments","reportAbuse","commentId","categoryId","recommend","ok","addUserName","userName","publicFields","_ref$3","Row","pillarToString","news","opinion","culture","sport","lifestyle","labs","buttonOverrides","dark","PillarButton","linkName","previewStyle$2","textStyling","Text","FirstCommentWelcome","cancelSubmit","onPreview","previewBody","setPreviewBody","setUserName","fetchShowPreview","subdued","previewStyle$1","spout","Preview$1","previewHtml","boldString","text2","italicsString","strikethroughString","codeString","quoteString","formWrapper$1","commentTextArea","greyPlaceholder","blackPlaceholder","headerTextStyles","infoTextStyles","msgContainerStyles","linkStyles$3","wrapperHeaderTextStyles","commentAddOns","bottomContainer","Space$2","amount","CommentForm","onAddComment","setCommentBeingRepliedTo","commentBeingRepliedTo","onComment","onReply","isActive","setIsActive","userNameMissing","setUserNameMissing","setBody","setInfo","showPreview","setShowPreview","textAreaRef","_a","_b","scrollIntoView","getHighlightedString","selectionStart","selectionEnd","startString","highlightedString","endString","transformText","transfromFunc","textAreaStrings","resetForm","comment$1","reply$1","isoDateTime","webUrl","apiUrl","numRecommends","isHighlighted","userProfile","secureAvatarUrl","badge","responseTo","commentApiUrl","commentWebUrl","responses","simulateNewComment","submitUserName","privateFields","isPremoderated","onFocus","highlightedText","linkStringFunc","transformLink","staffBadge","labelText","staffIcon","staffLabel","guardianPickLabel","GuardianStaff","GuardianContributor","GuardianPick","countStyles","buttonStyles$1","recommended","isSignedIn","arrowStyles","RecommendationCount","initialCount","alreadyRecommended","userMadeComment","onRecommend","setCount","setRecommended","newCount","accepted","disabled","formWrapper","inputWrapper","errorMessageStyles","_ref$2","_ref2$1","AbuseReportForm","toggleSetShowForm","modalRef","firstElement","lastElement","formVariables","setFormVariables","defaultErrorTexts","setErrors","successMessage","setSuccessMessage","labelStylesClass","labelStyles$1","SvgCross","monthConverter","dateFormatter","dateString","timeStampYesterday","isLast24Hrs","daysUntilAbsolute","getDate","getHours","getMinutes","padStart","linkStyles$2","timeStyles","Timestamp","savedCallback","onPermalinkClick","timeAgo2","setTimeAgo","currentCallback","imageStyles","_ref$1","Column","commentControlsLink","commentCss","blockedCommentStyles","commentLinkStyling","commentWrapper","selectedStyles$1","avatarMargin$1","boldFont","regularFont","svgReplyArrow","commentDetails","iconWrapper","timestampWrapperStyles","hideBelowMobileLandscape","hideAboveMobileLandscape","negativeMargin","cssTextOverflowElip","cssReplyToWrapper","buttonLinkPillarBaseStyles$1","buttonLinkBaseStyles$1","cssReplyAlphaDisplayName","cssReplyBetaDisplayName","Space$1","_ref2","Comment","isClosedForComments","isReply","wasScrolledTo","isMuted","toggleMuteStatus","comment2","setIsHighlighted","showAbuseReportForm","setAbuseReportForm","pick","unPick","showStaffBadge","showPickBadge","showContributorBadge","Space","indentStyles","smallFontStyles","replyPreviewHeaderStyle","bg$1","previewStyle","arrowSize$1","commentStyles","blueLink","buttonLinkPillarBaseStyles","buttonLinkBaseStyles","CommentReplyPreview","displayReplyComment","setDisplayReplyComment","Preview","nestingStyles","topBorder","commentContainerStyles$1","selectedStyles","removeMargin","CommentContainer","commentToScrollTo","mutes","setExpanded","setResponses","loading","setLoading","showResponses","remainingResponses","responseComment","metaData","responseCount","displayResponses","getMoreResponses","pickStyles","userNameStyles","avatarMargin","smallFontSize","linkStyles$1","inCommentLinkStyling","titleStyles","inheritColour","wrapStyles","PickBubble","arrowSize","Top","Bottom","PickMeta","TopPick","columWrapperStyles","paddingRight","paddingLeft","picksWrapper$1","twoColCommentsStyles","oneColCommentsStyles","TopPicks","leftColComments","rightColComments","containerStyles$1","ulStyles","ulExpanded","firstStyles","activeStyles","buttonStyles","expandedStyles","labelStyles","Dropdown","onSelect","dismissOnEsc","dismissOnClick","stopPropagation","dropdownID","activeLink","options2","filterBar","dividerStyles","filterPadding","Filters","onFilterChange","totalPages","pageButtonStyles","isSelected","chevronButtonStyles","shiftRight","elipsisStyles","paginationButtons","paginationText","Forward","currentPage","setCurrentPage","Back","newPage","PageButton","Pagination","showBackButton","showFirstElipsis","secondPage","decideSecondPage","thirdPage","decideThirdPage","forthPage","decideForthPage","showThirdPage","showForthPage","showLastPage","lastPage","showSecondElipsis","showForwardButton","endIndex","startIndex","BACKGROUND_COLOUR","shimmer","shimmerStyles","Grey","spaceBelow","spaceLeft","LoadingComments","footerStyles","commentColumnWrapperStyles","commentContainerStyles","picksWrapper","DEFAULT_FILTERS","NoComments","App","initialPage","pageSizeOverride","orderByOverride","additionalHeaders","onExpand","permalinkBeingUsed","initialisedFilters","decideDefaultOrderBy","isClosedForComment","initFiltersFromLocalStorage","initialiseFilters","setFilters","loadingMore","setLoadingMore","setTotalPages","setPage","picks","setPicks","setComments","numberOfCommentsToShow","setNumberOfCommentsToShow","setCommentCount","readMutes","setMutes","timer","topLevelCommentCount","pages","fetchPicks","oldFilters","commentElement","newFilterObject","maxPagePossible","filtersToRemember","rememberFilters","onPageChange","page2","updatedMutes","writeMutes","initialiseApi","showPagination","getCommentContext","ajaxUrl","buildParams","statusText","fixHeight","positionRelative","Discussion","discussionD2Uid","discussionApiClientHeader","enableDiscussionSwitch","commentPage","setCommentPage","commentPageSize","setCommentPageSize","commentOrderBy","setCommentOrderBy","commentIdFromUrl","hashCommentId","setHashCommentId","hasCommentsHash","revealStyles","SignedInAs","Comments","EditorialButton","DiscussionWhenSignedIn","useApi","DiscussionContainer","DiscussionMeta","widthOverride","getDocumentCloudAssetUrl","embedUrl","DocumentBlockComponent","allowFullScreen","displayBlock","displayNone","linkActive","linkFirst","brandText","buttonExpanded","notificationColor","notificationBadgeStyles","diameter","dropdownButtonNotificationBadgeStyles","notificationTextStyles","NotificationBadge","NotificationMessage","notification","DropdownLink","ophanComponent","notifications","ophanLabel","buildOphanComponentWithNotifications","useIsInView","debounce","hasBeenSeen","setNode","hasSentViewEvent","setHasSentViewEvent","logImpression","useOnce","acquisitionData","referrerPageviewId","referrerUrl","addTrackingToUrl","hasNotifications","links","noJS","setNoJS","checkboxID","notificationCount","runningCount","linkNotificationCount","aria-checked","aria-expanded","emailCaptionStyle","embedContainerStyles","isEmailEmbed","EmbedBlockComponent","html","isServer","pinnedPost","pinnedPostCheckBox","pinnedPostContent","handleClickTracking","HTMLInputElement","behavior","EnhancePinnedPost","setHasBeenSeen","isInView","pinnedPostTiming","checkContentHeight","show","pinnedPostButton","pinnedPostOverlay","removeProperty","observer","MutationObserver","childList","subtree","timeTaken","timeTakenInSeconds","svgStyles","CardCommentCount","extractMarkers","markers","buildUrl","discussionIds","flatMap","setUrl","refreshInterval","refreshWhenHidden","onSuccess","counts","thisMarker","enhanceCounts","minHeight","FetchOnwardsData","trailLimit","Placeholder","shouldShimmer","displayname","decideTrail","buttonStylesMargin","labelPosition","toggleStyles","fontSize","labelBorderStyles","tooltipStyles","ToggleSwitch","labelBorder","defaultChecked","buttonId","generateSourceId","labelId","descriptionId","isBrowser","setIsBrowser","tooltiptext","toggleWrapperStyles","FilterKeyEventsToggle","filterKeyEvents","setChecked","urlParams","handleClick","Flex","direction","justify","gap","_focusEngine","TAB_KEY_CODE","InteractionModeEngine","isRunning","handleKeyDown","which","reset","handleMouseDown","stop","FocusStyleManager","FocusStyles","screenReaderOnlyStyle","containerStyle","tableStyle","cricketScoreboardTop","rowStyle","cricketScoreboardDivider","cellStyle","boldStlye","linkPaddingStlye","linkStyle","cricketScoreboardLink","cricketScore","innings","declared","runsScored","fallOfWicket","forfeited","CricketInnings","home","teamName","teams","team","teamInnings","battingTeam","one","two","overs","CricketScoreboard","scorecardUrl","gameDate","toDateString","competitionName","venueName","table","thead","tr","tbody","tfoot","colSpan","Loading","GetCricketScoreboard","matchUrl","errorRetryCount","matchId","tagStyles","designTag","headlineTag","Margins","Tag","TagLink","DesignTag","ContributorLink","contributor","contributorTagId","BylineLink","titles","regex","applyCleverOrderingForMatching","bylineAsTokens","hasSingleContributor","renderedTokens","bylineComponent","bylinePart","trimStart","yellowBoxStyles","opinionWrapperStyles","opinionStyles","headlineByline","analysisStyles","immersiveStyles","immersiveLinkStyles","hover","authorBylineWithImage","HeadlineByline","topPadding","standardFont","labsFont","jumboFont","jumboLabsFont","invertedFont","lightFont","displayInline","displayFlex","shiftSlightly","invertedStyles","reducedBottomPadding","darkBackground","invertedText","maxWidth","invertedWrapper","immersiveWrapper","ageWarningMargins","ageWarning","WithAgeWarning","webPublicationDateDeprecated","isNews","currentDate","dateThreshold","setDate","publicationDate","diffMilliseconds","diffDays","diffMonths","diffYears","getAgeWarning","decideBottomPadding","hasAvatar","defaultPadding","ArticleHeadline","headlineString","isMatch","h1","headlineWhenMatch","interactiveLegacyClasses","Eight","Five","Four","Nine","One","Seven","Six","Ten","Three","Two","Zero","Score","ScoreStyles","score","CrestRow","StretchBackground","TeamName","Scorers","scorers","player","Crest","crest","TeamNav","YellowBorder","MatchNav","homeTeam","awayTeam","GetMatchNav","getBrightness","fullHex","rgb","isLight","Bar","displayText","Distribution","unitStyles","valueStyles","Doughnut","sections","percentCutout","outerRadius","innerRadius","radius","totalValue","runningTotal","currentValue","tau","PI","quarterTurn","center","segments","separatingLines","angleStart","withoutZeroSections","angleLength","angleEnd","angleMid","dasharray","dash","dashoffset","transform","cos","sin","segment","circle","cy","stroke","tspan","dy","Side","offTarget","onTarget","teamColours","matchStats","GoalAttempts","gridAreaStyles","area","GridItem","data-gu-name","Lineup","players","shirtNumber","eventTime","StatsGrid","ShiftLeft","Center","RightBorder","H3","H4","DecideDoughnut","away","possession","codename","colours","MatchStats","br","shotsOn","shotsOff","corners","fouls","substitute","GetMatchStats","thinGreySolid","matchTab","GreyBorder","tabsContainer","activeTab","activeMatchTab","tabLink","article","tabLabel","MatchTabs","minByMinUrl","reportUrl","GetMatchTabs","GuideAtomWrapper","GuideAtom","hasTargetAndMessage","addNotificationsToDropdownLinks","notificationsByTarget","groupings","groupNotificationsByTarget","linksWithNotifications","newNotifications","myAccountStyles","myAccountLinkStyles","SignIn","idUrl","ProfileIcon","dropDownOverrides","SignedInWithNotifications","mmaUrl","identityLinks","buildIdentityLinks","identityLinksWithNotifications","SignedIn","brazeNotifications","setBrazeNotifications","cardsToNotifications","getCardsForProfileBadge","MyAccount","editionDropdownStyles","HeaderTopBarEditionDropdown","editionId","isInEuropeTest","ukEdition","linksToDisplay","printSubscriptionStyles","HeaderTopBarPrintSubscriptions","setPageViewId","setReferrerUrl","addTrackingCodesToUrl","NewspaperIcon","searchLinkStyles","linkTablet","Search","SearchIcon","HeaderTopBarSearchCapi","isSearchVisible","setIsSearchVisible","setQ","qRef","formRef","searchContainerRef","handleClickOutside","hideSearch","XIcon","autoComplete","ArrowRightIcon","results","SearchJobs","HeaderTopBar","headerTopBarSearchCapiSwitch","whenToHide","fullWidthStyles","InstagramBlockComponent","isThirdPartyTracking","srcDoc","roleCss","inline","immersive","showcase","thumbnail","richLink","halfWidth","defaultRoleStyles","decideHeight","wrapperStyle","loaded","getMinHeight","placeholderLinkStyle","InteractiveBlockComponent","scriptUrl","wrapperRef","placeholderLinkRef","setLoaded","postPositionMessage","iframeBox","iframeTop","iframeRight","iframeBottom","iframeLeft","pageYOffset","setupWindowListeners","interactive","boot","interactiveLegacyFigureClasses","data-alt","data-cypress","data-spacefinder-role","data-name","borderRightStyles","numberStyles","stickyNavBaseStyles","olStyles","stickyOlStyles","showStickyNavOption","stickyNavCurrentHeaderStyles","SVGStyles","SVGTransitionStyles","InteractiveContentsBlockComponent","subheadingLinks","endDocumentElementId","setShowStickyNavOption","enhancedSubheadings","setEnhancedSubheadings","subheadingLink","setHeight","divRef","stickyNavCurrentHeader","setStickyNavCurrentHeader","getSubheadingIndexById","endElement","currentElement","boundingClientRect","endDocumentRef","SvgChevronDownSingle","ol","data-title","PositionButton","InteractiveSupportButton","subscribeUrl","shouldHideSupportMessaging","buttonThemeReaderRevenue","SvgArrowRightStraight","data-edition","keyEventBullet","keyEventLink","keyEvent","summaryEventBullet","listItemStyles","keyEventFromDesktop","keyEventTime","KeyEventCard","blockFirstPublished","isSummary","cardPosition","toLocaleDateString","hour","minute","weekday","year","month","day","timeZoneName","carouselStyles","leftMarginStyles","marginBottomStyles","buttonThemeBrandAlt","leftButton","rightButton","isValidKeyEvent","KeyEventsCarousel","keyEvents","filteredKeyEvents","carouselLength","shortCarousel","longCarousel","dotStyles","livePulse","animate","PulsingDot","hydrated","setHydrated","shouldFlash","setShouldFlash","flashingPreference","data-flashing-dot-hydrated","data-animate","KnowledgeQuizAtomWrapper","KnowledgeQuizAtom","FlexWrapper","LABS_HEADER_HEIGHT","Left","Right","HeaderSection","AboutDropdown","About","Logo","LabsLogo","LabsHeader","leftWidth","partialRightBorder","borderColour","verticalMargins","textDecorationUnderline","LinkHeadline","visitedColour","showUnderline","linkKicker","preventFocus","Render","Epic","setEpic","setAutomat","guardianPolyfilledImport","epicModule","useEpic","Fetch","fetcher","getLiveblogEpic","useSWRImmutable","useSDCLiveblogEpic","contributionsServiceUrl","insertAfter","referenceNode","newNode","LiveBlogEpic","shouldHideReaderRevenue","isPaidContent","getLastOneOffContributionTimestamp","useHasOptedOutOfArticleCount","countryCode","setCountryCode","getLocaleCode","useCountryCode","mvtId","tracking","ophanPageId","platformId","clientName","targeting","sectionId","isMinuteArticle","showSupportMessaging","isRecurringContributor","lastOneOffContributionDate","epicViewLog","getEpicViewLog","modulesVersion","usePayload","epicPlaceholder","blockId","blockLinkedTo","randomPosition","aBlockNearTheTop","SvgReload","tight","padding","Toast","above","below","topOfBlog","toastRoot","revealPendingBlocks","blogBody","pendingBlocks","Liveness","enhanceTweetsSwitch","onFirstPage","webURL","mostRecentBlockId","hasPinnedPost","selectedTopics","showToast","setShowToast","topOfBlogVisible","setTopOfBlogVisible","numHiddenBlocks","setNumHiddenBlocks","latestBlockId","setLatestBlockId","numNewBlocks","islands","twttr","twitter","widgets","load","mockLiveUpdate","searchParams","topic","handleVisibilityChange","handleToastClick","placeToScrollTo","ReactDOM","MaintainAspectRatio","MapEmbedBlockComponent","hasCaption","embedContainer","roundWithDecimals","precision","power","pow","Endpoints","coreWebVitalsPayload","browser_id","page_view_id","fid","lcp","fcp","ttfb","teamsForLogging","Set","initialised","queued","sendData","onReport","metric","getCoreWebVitals","webVitals","getFCP","getTTFB","reportAllChanges","initCoreWebVitals","browserId","sampling","isDev","pageViewInSample","bypassWithHash","CODE","PROD","setEndpoint","bypassCoreWebVitalsSampling","willRecordCoreWebVitals","clientSideTestsToForceMetrics","integrateIma","Metrics","useAB","commercialMetricsEnabled","abTestApi","api","adBlockerInUse","useAdBlockInUse","userInServerSideTest","shouldBypassSampling","runnableTest","bypassSampling","nearZeroSampling","MIN_VALUE","initCommercialMetrics","bypassCommercialMetricsSampling","BigNumber","numbers","Number0","Number1","Number2","Number3","Number4","Number5","Number6","Number7","Number8","Number9","Number10","gridItem","bigNumber","headlineHeader","headlineLink","MostViewedFooterItem","hidePanel","listTab","firstTab","unselectedStyles","gridContainer","TabHeading","MostViewedFooterGrid","sectionName","selectedColour","selectedTabIndex","setSelectedTabIndex","renderAsTabs","selectedListTabStyles","data-chromatic","aria-selected","aria-controls","data-link-context","itemStyles","showRightBorder","headlineStyles","avatarSizeStyles","avatarContainerStyles","MostViewedFooterSecondTierItem","avatarToShow","secondTierStyles","MostViewedFooter","mostCommented","mostShared","abTestCypressDataAttr","variantFromRunnable","data-cy-ab-user-in-variant","data-cy-ab-runnable-test","transformTabs","MostViewedFooterData","ABTestAPI","isUserInVariant","abTestTest","variantToRun","hasSection","buildSectionUrl","mostViewedTab","linkTagStyles","lineWrapperStyles","headlineWrapperStyles","imageWrapperStyles","marginTopStyles","MostViewedRightItem","setValue","handleMouseOver","handleMouseOut","mostViewedItemIndex","useHover","hoverRef","isHovered","stickyStyles","headingStyles","MostViewedRight","limitItems","isAdFreeUser","adBlockerDetected","stickToTop","MostViewedRightWrapper","bodyRef","heightIsAvailable","setHeightIsAvailable","checkHeight","rightAdvertHeight","availableSpaceHeight","hiddenStyles","editionList","longTitle","fontColour","marginStyles","dateTextStyles","ContainerTitle","showDateHeader","overrides","getEditionFromId","containerDate","sidePadding","emoCss","bottomPadding","topBorderStyles","setBackgroundColour","ElementContainer","showSideBorders","showTopBorder","padBottom","backgroundColour","innerBackgroundColour","shouldCenter","ophanComponentName","ophanComponentLink","containerName","child","_jsx","ButtonLink","isButton","iconSvg","linkContents","showHideButtonCss","overrideContainerToggleColour","ShowHideButton","data-show-hide-button","SvgCrossword","rect","TextTreat","ImageTreat","altText","Treats","treats","treat","headlineContainerStyles","rightMargin","Content","padded","stretchRight","Section","centralBorder","padContent","leftContent","leftColSize","toggleable","fullWidth","containerToggle","ALLOWED_TAGS","firstPopularTag","onwardsWrapper","containerUrls","headlines","UK","US","AU","INT","EUR","getContainer","OnwardsUpper","hasRelated","hasStoryPackage","showRelatedContent","tagToFilterBy","seriesTag","popularInTagUrl","tagsToExclude","queryParams","relatedUrl","curatedDataUrl","getContainerDataUrl","PersonalityQuizAtomWrapper","PersonalityQuizAtom","generateImageURL","imageWidth","service","quality","dpr","descendingByBreakpoint","imageWidths","Picture","ratio","sizes","disableLazyLoading","rootId","ProfileAtomWrapper","ProfileAtom","QandaAtomWrapper","QandaAtom","quoteStyles","ReaderRevenueDev","loadAndRun","asExistingSupporter","utils","readerRevenue","changeGeolocation","showMeTheEpic","showMeTheBanner","showNextVariant","showPreviousVariant","messageStyles","isThankYouMessage","hiddenUntilTablet","hiddenFromTablet","subMessageStyles","ReaderRevenueLinksRemote","supportHeaderResponse","setSupportHeaderResponse","SupportHeader","setSupportHeader","requestData","MODULES_VERSION","getLastOneOffContributionDate","purchaseInfo","getPurchaseInfo","getHeader","headerModule","ReaderRevenueLinksNative","dataLinkNamePrefix","inHeader","urls","hideSupportMessaging","getUrl","rrType","ContributeButton","SubscribeButton","SupportButton","PrimaryButton","SecondaryButton","ReaderRevenueLinks","remoteHeader","isUndefined","units","constants","fractions","RECIPE_ELEMENTS","serves","RecipeMultiplier","servings","setServings","multiplier","setMultiplier","nodeValue","splitText","recipeElement","unit","numerator","denominator","walker","createTreeWalker","NodeFilter","SHOW_TEXT","nextNode","isUnit","textAlign","accentColor","step","float","neutralBackground","analysisContrast","analysisContrastHover","pillarBackground","textColour","richLinkTopBorder","richLinkLink","richLinkElements","richLinkHeader","labsRichLinkTitle","richLinkReadMore","readMoreTextStyle","labsReadMoreTextStyle","contributorImageWrapper","paidForBranding","starWrapper","readMoreText","RichLink","richLinkIndex","cardStyle","imageData","linkFormat","contributorImage","isPlaceholder","parentIsBlog","showImage","thumbnailUrl","mainContributor","getMainContributor","isLabs","richLinkTitlePicker","richLinkTitle","quoteIcon","ArrowInCircle","RichLinkComponent","imageAsset","richLinkImageData","fields","decideFormat","defaultFormat","_assertThisInitialized","ReferenceError","ReCAPTCHA","_React$Component","subClass","superClass","handleExpired","handleErrored","handleChange","handleRecaptchaRef","getValue","grecaptcha","_widgetId","getResponse","getWidgetId","execute","_executeRequested","executeAsync","_this2","executionResolve","executionReject","onExpired","onErrored","explicitRender","sitekey","tabindex","stoken","hl","captcha","delayOfCaptchaIframeRemoving","temporaryNode","_this$props","childProps","excluded","sourceKeys","_objectWithoutPropertiesLoose","SCRIPT_MAP","idCount","callbackName","getScriptURL","recaptchaOptions","useRecaptchaNet","globalName","wrappedComponentName","AsyncScriptLoader","_Component","__scriptURL","asyncScriptLoaderGetScriptLoaderID","__scriptLoaderID","setupScriptURL","asyncScriptLoaderHandleLoad","asyncScriptOnLoad","asyncScriptLoaderTriggerOnScriptLoaded","mapEntry","obsKey","observers","_this3","scriptURL","scriptId","attribute","callObserverFuncAndRemoveObserver","observersMap","removeOnUnmount","allScripts","getElementsByTagName","forwardedRef","ForwardedComponent","ErrorMessageWithAdvice","SuccessMessage","InlineSuccess","buildFormData","emailAddress","newsletterId","pageRef","FormData","switches","emailSignupRecaptcha","postFormData","requestBodyStrings","Accept","sendTracking","eventDescription","SecureSignupIframe","successDescription","iframeRef","recaptchaRef","iframeHeight","setIFrameHeight","isWaitingForResponse","setIsWaitingForResponse","responseOk","setResponseOk","errorMessage","setErrorMessage","hasResponse","contentDocument","resetIframeHeight","requestedHeight","resizeIframe","handleClickInIFrame","handleSubmitInIFrame","captchaSiteKey","googleRecaptchaSiteKey","onLoad","attachListenersToIframe","requiredFontNames","iframeFontFaceSet","fonts","requiredFonts","fontFace","family","font","addFontsToIframe","SvgSpinner","SvgMessageRound","messageForm","prefaceStyles","detailsStyles","SendAMessage","SvgChevronUpSingle","initCore","mvtMaxValue","pageIsSensitive","abTestSwitches","forcedTestVariants","forcedTestException","arrayOfTestObjects","isInTest","fromCookie","smallestTestId","audienceOffset","largestTestId","audience","variants","computeVariantFromMvtCookie","variantFromForcedTest","testId","forcedTest","variantId","getVariantFromIds","getForcedTestVariant","testExpiry","expired","expiry","setHours","testShouldShowForSensitive","showForSensitive","isTestOn","canTestBeRun","canRun","testCanBeRun","allRunnableTests","rt","firstRunnableTest","noop","submit","makeABEvent","campaignCodes","defersImpression","impression","registerCompleteEvent","errorReporter","buildOphanSubmitter","initOphan","serverSideTests","registerCompleteEvents","registerImpressionEvents","trackABTests","serverSideTestObj","buildOphanPayload","AB","core","_allRunnableTests","_firstRunnableTest","_runnableTest","_isUserInVariant","_registerCompleteEvents","_registerImpressionEvents","_trackABTests","signInGateMainVariant","signInGateMainControl","signInGateCopyTestJan2023","author","successMeasure","audienceCriteria","idealOutcome","cypressSwitches","abAbTestTest","abSignInGateMainControl","abSignInGateMainVariant","abSignInGateAusMandatory","getForcedParticipationsFromUrl","windowHash","SetABTests","cypressAbSwitches","Cypress","allForcedTestVariants","participations","setABTests","shareCount","shareCountUntilDesktop","shareCountIcon","shareCountIconUntilDesktop","ShareCount","shareUrl","shareError","shareData","share_count","ShareIcon","ShowHideContainers","containerStates","isContainerStates","toggleContainer","onclick","decidePresentationFormat","containerFormat","enhanceSupportingContent","presentationFormat","supportingContentIsLive","properties","decideAvatarUrl","soleContributor","bylineLargeImageUrl","decideMediaType","decideKicker","isBreaking","UL","wrapCards","FrontCard","cardProps","decideButtonText","isOpen","ShowMore","collectionId","existingCardLinks","setExistingCardLinks","setIsOpen","containerLinks","getNamedItem","collections","faciaCard","snap","dcrSnap","group","isBoosted","getDataLinkNameCard","maybeContent","tagType","bylineImageUrl","contributorLargeImagePath","enhanceTags","webPublicationDateOption","imageSrc","imageHide","maybeContentId","trailPicture","allImages","enhanceCards","enriched","mediaAtoms","showMoreContainerId","maybeFirstCard","aria-live","cardIndex","totalCards","isLoading","aria-describedby","submitComponentEventTracking","submitViewEventTracking","withComponentId","trackLink","localStorageKey","localStorageDismissedDateKey","localStorageDismissedCountKey","getSigninGatePrefsSafely","prefs","setSigninGatePrefs","setUserDismissedGate","hasUserDismissedGate","dismissalTZ","unsetUserDismissedGate","retrieveDismissedCount","isFinite","hasUserDismissedGateMoreThanCount","incrementUserDismissedGateCount","SignInGateCopyTestJan2023","signInUrl","guUrl","dismissGate","ophanComponentId","isMandatory","signInGateContainer","hideElementsCss","firstParagraphOverlay","abVariant","getCopyTextFromVariant","bodyBold","bodyText","privacyLink","cmp","actionButtons","registerButton","laterButton","bodySeparator","signInHeader","signInLink","faq","SignInGateMain","personalisedHeadingStyles","personalisedBodyBold","bulletStyles","personalisedBodyTextList","personalisedActionButtons","notNowButton","faqPersonalised","bodySpacing","SUBSCRIPTION_HEADER","SIGN_IN_INCENTIVES_DIGITAL","SIGN_IN_INCENTIVES_NON_DIGITAL","COMPLETE_REGISTRATION_BUTTON","getHeadingText","product","SupporterPlus","Paper","GuardianWeekly","Contribution","getButtonText","userType","new","guest","getBodyText","SignInGateMainCheckoutComplete","checkoutCompleteCookieData","isNPageOrHigherPageView","dailyCount","isIOS9","appleDevice","isValidContentType","isValidSection","isValidTag","invalidTag","canShowSignInGate","currentTest","isPreview","signInGateComponent","onConsent","canTarget","canShow","flexGrowStyles","disableFlexStyles","setRef","renderChildren","gate","personaliseSignInGateAfterCheckoutSwitch","signInGateCopyTestJan2023Component","signInGateTests","signInGateTestVariantToGateMapping","gateMainControl","gateMainVariant","signInGateTestIdToComponentId","SignInGateMainVariant","SignInGateMainControl","isBoolean","getSwitches","validate","ALL_USER_TYPES","isUserType","ALL_PRODUCTS","isProduct","isCheckoutCompleteCookieData","ShowSignInGate","setShowGate","gateVariant","currentAbTestValue","SignInGateSelector","isGateDismissed","setIsGateDismissed","setGateVariant","setCurrentTest","canShowGate","setCanShowGate","gateSelector","useSignInGateSelector","personaliseSwitch","setPersonaliseSwitch","checkOutCompleteString","checkoutCompleteStr","guard","parseResult","parseCheckoutCompleteCookieData","gateSelectorVariant","gateSelectorTest","personaliseSignInGateAfterCheckout","signInGateComponentId","currentComponentId","personaliseComponentId","returnUrl","visitId","generateSignInUrl","imageWrapper","usernameStyles","rowUntilDesktop","Heading","isBanned","canPostComment","wrapperMargins","COMPONENT_TYPE","canShowBrazeEpic","brazeArticleContext","forcedBrazeMeta","getBrazeMetaFromUrlFragment","meta","suppressForTaylorReport","getMessageForEndOfArticle","dataFromBraze","logImpressionWithBraze","logButtonClickWithBraze","internalButtonId","logButtonClick","BrazeEpicWithSatisfiedDependencies","BrazeComponent","epicRef","brazeMessageProps","subscribeToNewsletter","subscribed","MaybeBrazeEpic","setBrazeComponent","BrazeEndOfArticleComponent","buildPayload","asyncArticleCount","hasCmpConsentForBrowserId","canShowReaderRevenueEpic","contributionsPayload","fetchEmail","hasConsentForArticleCount","getEpic","lazyFetchEmailWithTimeout","hasCmpConsentForArticleCount","ReaderRevenueEpic","modulePerf","ContributionsEpic","openCmp","SlotBodyEnd","SelectedEpic","setSelectedEpic","setAsyncArticleCount","canShowData","readerRevenueEpic","candidate","timeoutMillis","brazeEpic","buildBrazeEpicConfig","epicConfig","candidates","pickMessage","PickedEpic","Snowflake","borderRadius","overflow","showMoreTextStyles","Snow","initial","generatedFlake","velocity","newFlake","flakes","setFlakes","requestRef","previousTimeRef","drift","renderLoop","deltaTime","newDf","previousFlakes","flakeName","flake","updatedFlake","previousFlake","seeMoreSnowInfo","setSeeMoreSnowInfo","showHider","snowflakes","marginBottom","marginTop","SpotifyBlockComponent","Star","starId","isEmpty","clipPath","use","xlinkHref","determineSize","determineBreakpoint","canShowBrazeBanner","getMessageForBanner","BrazeBannerWithSatisfiedDependencies","BrazeBanner","BrazeBannerComponent","alreadyVisitedCount","engagementBannerLastClosedAt","subscriptionBannerLastClosedAt","signInBannerLastClosedAt","optedOutOfArticleCount","asyncArticleCounts","articleCountToday","latest","getToday","getArticleCountToday","tagIds","canShowRRBanner","remoteBannerConfig","asyncCountryCode","isSensitive","signInGateWillShow","showSignInPrompt","hasForceBannerParam","bannerPayload","withinLocalNoBannerCachePeriod","getBanner","setLocalNoBannerCachePeriod","canShowPuzzlesBanner","isPuzzlesPage","getPuzzlesBanner","RemoteBanner","componentTypeName","displayEvent","setBanner","bannerModule","ReaderRevenueBanner","PuzzlesBanner","getBannerLastClosedAt","buildRRBannerConfigWith","BannerComponent","canShowFn","isEnabled","getAlreadyVisitedCount","StickyBottomBanner","remoteBannerSwitch","puzzleBannerSwitch","SelectedBanner","setSelectedBanner","setAsyncArticleCounts","useSignInGateWillShow","CMP","puzzlesBanner","buildPuzzlesBannerConfig","buildReaderRevenueBannerConfig","brazeBanner","buildBrazeBanner","bannerConfig","PickedBanner","wrapperCollapsedStyles","rootSubnavStyles","collapsedStyles","showMoreStyle","subNav","SubNav","subNavSections","currentNavLink","showMore","setShowMore","ulRef","ulEl","lis","lastLi","ulTop","liTop","collapseWrapper","expandSubNav","data-src-focus-disabled","SupportTheG","anchorStyles","tableOfContents","indexStyle","verticalStyle","TableOfContents","setOpen","TimelineAtomWrapper","TimelineAtom","TopRightAdSlot","adStyles","noJSStyling","TweetBlockComponent","tweetContainer","tweet","loadTweet","UnsafeEmbedBlockComponent","uniqueIndex","isPinnedPost","VideoFacebookBlockComponent","VineBlockComponent","SvgAlertRound","expiredOverlayStyles","overrideImage","expiredTextWrapperStyles","expiredSVGWrapperStyles","YoutubeBlockComponent","abTestsApi","abTests","assetId","mediaTitle","hideCaption","posterImage","adTargeting","stickyVideos","consentState","setConsentState","imaEnabled","abTestParticipations","defineConsentState","newConsent","YoutubeAtom","videoId","eventEmitters","video","shouldStick","dataLinkNames","elementClasses","roleClass","elementClass","legacyRoleClass","contentInteractive","contentLabels","contentLabelsNotImmersive","contentMainColumn","labelLink","metaContainer","standFirst","shareIcons","shareAndCommentCounts","interactiveWrapper","REFPVID","INTCMP","AlreadyVisitedKey","alreadyVisited","setAlreadyVisited","FORCE_BRAZE_ALLOWLIST","hashString","forcedMessage","brazeTaylorReport","HIDE_SUPPORT_MESSAGING_COOKIE","RECURRING_CONTRIBUTOR_COOKIE","SUPPORT_RECURRING_CONTRIBUTOR_MONTHLY_COOKIE","SUPPORT_RECURRING_CONTRIBUTOR_ANNUAL_COOKIE","SUPPORT_ONE_OFF_CONTRIBUTION_COOKIE","NO_RR_BANNER_TIMESTAMP_KEY","shouldShowSupportMessaging","isRecurringContributorFromAttrs","hasMonthlyContributionCookie","hasAnnualContributionCookie","contributionDateFromAttributes","contributionDateFromSupport","parsedDateFromAttributes","parsedDateFromSupport","isRecentOneOffContributor","diffMs","lastContributionDate","REQUIRED_CONSENTS_FOR_ARTICLE_COUNT","REQUIRED_CONSENTS_FOR_BROWSER_ID","ccpa","tcfv2","aus","hasRequiredConsents","consent","consents","hasOptedOut","setHasOptedOut","withinCachePeriod","idapiUrl","getIdApiUserData","primaryEmailAddress","purchaseInfoRaw","DailyArticleCountKey","today","unshift","cutOff","firstOldDayIndex","specialReport","specialReportAlt","textCardHeadline","textCardStandfirst","textCardFooter","textCardKicker","textCardByline","textContainerDate","textCardCommentCount","textDynamoHeadline","textDynamoKicker","textDynamoSublinkKicker","textDynamoMeta","textContainer","textContainerToggle","borderContainer","borderLines","backgroundContainer","backgroundCard","topBarCard","cardCommentCount","dynamoSublinkKicker","dynamoMeta","decideDesign","decideDisplay","decideTheme","pillarPalette_DO_NOT_USE","main","bright","pastel","faded","WHITE","BLACK","blogsGrayBackgroundPalette","textHeadline","pillarPalette","textSeriesTitle","textSeriesTitleWhenMatch","textHeadlineWhenMatch","textSectionTitle","textByline","textHeadlineByline","textStandfirst","textLastUpdated","textTwitterHandle","textTwitterHandleBelowDesktop","textCaption","textCaptionLink","textSubMeta","textSubMetaLabel","textSubMetaLink","textSyndicationButton","textArticleLink","textDisclaimerLink","textWitnessIcon","textWitnessTitle","textWitnessAuthor","textPullQuote","textKeyEvent","textKeyEventFromDesktop","textStandfirstLink","textBranding","textArticleLinkHover","textLinkKicker","backgroundArticle","backgroundSeriesTitle","backgroundSectionTitle","backgroundAvatar","backgroundHeadline","backgroundAgeWarning","backgroundHeadlineByline","backgroundBullet","backgroundBulletStandfirst","backgroundHeader","backgroundStandfirst","backgroundImageTitle","backgroundSpeechBubble","backgroundFilterButtonHover","backgroundFilterButtonActive","fillCommentCount","fillCommentCountUntilDesktop","fillShareIcon","fillShareCountIcon","fillShareCountIconUntilDesktop","fillShareIconGrayBackground","fillCaptionCamera","fillBlockquoteIcon","fillTwitterHandleBelowDesktop","fillGuardianLogo","fillTwitterHandle","borderSyndicationButton","borderSubNav","borderLiveBlock","borderPinnedPost","borderArticleLink","borderStandfirstLink","borderHeadline","borderStandfirst","borderCardSupporting","backgroundUnderline","borderArticleLinkHover","hoverHeadlineByline","textRichLink","textPagination","hoverStandfirstLink","borderRichLink","borderNavPillar","borderArticle","backgroundRichLink","borderSecondary","fillRichLink","fillQuoteIcon","backgroundPullQuote","backgroundMessageForm","textPullQuoteAttribution","textSignInLink","textCarouselTitle","textDropCap","textDesignTag","textDateLine","textBlockquote","textNumberedTitle","backgroundHeadlineTag","backgroundCarouselDot","backgroundCarouselDotFocus","backgroundMostViewedTab","textShareCount","textShareCountUntilDesktop","backgroundMatchStats","backgroundSummaryEventBullet","backgroundTreat","backgroundDesignTag","hoverKeyEventLink","hoverSummaryEventBullet","hoverPagination","seriesTitle","seriesTitleWhenMatch","sectionTitle","twitterHandleBelowDesktop","subMeta","subMetaLabel","subMetaLink","syndicationButton","standfirstLink","disclaimerLink","pagination","pullQuote","pullQuoteAttribution","witnessIcon","witnessAuthor","witnessTitle","dropCap","blockquote","numberedTitle","numberedPosition","filterButton","filterButtonHover","filterButtonActive","betaLabel","dateLine","bullet","bulletStandfirst","imageTitle","matchNav","analysisUnderline","shareIcon","shareIconGrayBackground","blockquoteIcon","guardianLogo","liveBlock","navPillar","secondary","countAsInteger","displayCountLong","digits","integerCommas","COUNTRY_REGEX","isValidCountryCode","country","getLocale","geoOverride","stored","isValidCookie","ERR_INVALID_COOKIE","getDomainAttribute","memoizedCookies","getCookieValues","setSessionCookie","isSecurityError","getLinkType","checkForErrors","callApi","idapiUserMeResponse","getIdapiUserIdentifiers","idapiUserIdentifiersResponse","bucket","indices","defaultShow","candidateConfigsWithTimeout","slotName","candidateConfig","perfName","canShowTiming","candidateId","recordMessageTimeoutInOphan","canShowTimeTaken","reportTiming","cancelTimeout","winnerResult","winningMessageSoFar","winner","setCookie","daysToLive","isCrossSubdomain","expires","setUTCDate","getUTCDate","setUTCMonth","getUTCMonth","readerRevenueCookies","clearBannerLastClosedAt","MULTIVARIATE_ID_COOKIE","MAX_CLIENT_MVT_ID","incrementMvtCookie","decrementMvtCookie","clearCommonReaderRevenueStateAndReload","alert","currentDomainOnly","getShortDomain","reload","geo","getForcedVariant","hasAutomatBeenSet","automat","emotionReact","emotionReactJsxRuntime","react","getColour","hex","apiPromise","mutate","isInUse","setIsInUse","isAdBlockInUse","blockerDetected","useSWR","res","buttonText","buttonUrl","cta","frequency","authoredEpicImageUrl","authoredEpicImageAltText","authoredEpicBylineName","paragraph1","errorHandler","freshMessageBySlot","getFreshMessagesForSlot","EndOfArticle","getMessageForSlot","getHighestPriorityMessageFromCache","messagesWithFilters","messagesWithoutFilters","ProfileBadge","getCardsForSlot","KEY","getBrazeUuid","brazeUuid","buildFailureResponse","isSuccessful","failure","checkBrazeDependencies","dependencies","brazeApiKey","brazeSwitch","buildDependencies","SDK_OPTIONS","enableLogging","noCookies","sessionTimeoutInSeconds","minimumIntervalBetweenTriggerActionsInSeconds","devicePropertyAllowlist","initialiseAppboy","importedAppboy","getInitialisedAppboy","maybeWipeUserData","hasCurrentBrazeUserValue","userHasRemovedConsent","brazeHasBeenDisabled","userHasLoggedOut","LocalMessageCache","buildBrazeMessaging","dependenciesResult","sdkLoadTiming","sdkLoadTimeTaken","NullBrazeMessages","NullBrazeCards","desc","brazeContentCards","BrazeCards","BrazeMessages","dedupingInterval","setIsInView","intersectionFn","intersectionCallback","waitFor","alreadyRun","setAlreadyRun","isReady","dep","kickerStyle","audioBodyStyle","audioElementStyle","audioControlsStyle","svgPlayStyle","svgPauseStyle","timingStyle","timePlayedStyle","progressBarStyle","progressBarInputStyle","timeDurationStyle","formatTime","second","PauseSVG","PlaySVG","basicUrl","audioEl","isPlaying","setIsPlaying","currentTime","setCurrentTime","percentPlayed","setPercentPlayed","urlToUse","setUrlToUse","updateCurrentTimeAndPosition","durationTime","setDurationTime","updateDurationTime","progressBarEl","preload","pause","play","playAudio","percentagePositionClick","offsetX","offsetWidth","readOnly","frameBorder","SvgMessenger","SvgInfo","SvgPlay","imageStyling","creditStyling","bodyStyling","linkStyling","Body","titleStyling","plusStyling","minusStyling","iconSpacing","Summary","atomTitleStyling","showHideStyling","hasBeenExpanded","setHasBeenExpanded","expandEventSent","setExpandEventFired","containerStyling","detailStyling","Container","expandForStorybook","atomType","atomTypeTitle","footerStyling","ThumbImage","Footer","likeHandler","dislikeHandler","buttonStyling","showThankYou","setShowThankYou","radioButtonWrapperStyles","answerWithSVGStyles","WhiteCheckmark","BlackCheckmark","WhiteCross","WhiteText","supplementText","answerType","BlackText","correctSelectedAnswerStyles","CorrectSelectedAnswer","answerText","explainerText","incorrectSelectedAnswerStyles","IncorrectAnswer","correctNonSelectedAnswerStyles","NonSelectedCorrectAnswer","unselectedAnswerStyles","UnselectedAnswer","SvgFacebook","SvgTwitter","SvgEnvelope","SvgWhatsApp","SvgLinkedIn","SvgPinterest","shareIconList","mobileOnlyShareIconsListItem","SharingIcons","sharingUrls","displayIcons","icons","facebook","whatsApp","messenger","linkedIn","pinterest","mobileOnlyIcons","shareList","list","sharingUrl","listItem","mobileOnly","shareListItem","userMessage","fieldsetStyle","questions","resultGroups","quizSelection","setQuizSelection","haveAllQuestionsBeenAnswered","Result","question","idx","Question","imageAlt","answers","selectedAnswerId","setSelectedAnswerId","hasSubmitted","setHasSubmitted","selectedAnswer","answer","Answers","onKeyDown","spaceKey","isCorrect","revealText","questionId","resultWrapperStyles","resultDescriptionStyles","resultsNumberStyles","resultHeaderStyles","bestResultGroup","totalNumberOfQuestions","numberOfCorrectAnswers","totalResultGroups","resultBrackets","bracketIndex","minScore","resultGroup","resultBracket","answersWrapperStyle","resultBuckets","selectedGlobalAnswers","setSelectedGlobalAnswers","hasSubmittedAnswers","setHasSubmittedAnswers","hasMissingAnswers","setHasMissingAnswers","topSelectedResult","setTopSelectedResult","bucketIdWithHighestCount","bucketCounter","selectedQuestion","answerId","answerFromQuestion","answerBuckets","answerBucket","bucketId","thisBucket","currentHighestBucket","findMostReferredToBucketId","resultBucket","PersonalityQuizAnswers","questionNumber","updateSelectedAnswer","globallySelectedAnswer","MissingAnswers","setSelectedAnswers","AnswersGroup","missingAnswersStyles","Snippet","EventTitle","EventDateBullet","EventDate","EventToDate","TimelineContents","unixDate","toTime","toUnixDate","toDate","enforceTwoDigitString","getSourcesForRoleAndResolution","imageSources","srcSetItems","getSources","hdpiSources","mdpiSources","fallbackSrc","inlineSrcSets","sorted","best","getFallback","getSizes","itemProp","playButtonStyling","overlayInfoWrapperStyles","videoDurationStyles","YoutubeAtomOverlay","videoDurationInSeconds","hours","minutes","hoursString","minutesString","secondsString","uniqueId","_scriptsPromise","_youtubeAPIReadyPromise","YoutubeAtomPlaceholder","loadScripts","scripts","enableIma","loadScript","youtubeAPIReady","onYouTubeIframeAPIReady","YT","loadYouTubeAPI","Player","youtubeAPIReadyPromise","YouTubePlayer","playerOptions","playerPromise","setPlayer","YTAPI","embedConfig","_player","logError","getPlayerState","playVideo","pauseVideo","stopVideo","customPlayEventName","dispatchCustomPlayEvent","YoutubeAtomPlayer","autoPlay","onReady","deactivateVideo","progressEvents","hasSentPlayEvent","hasSent25Event","hasSent50Event","hasSent75Event","hasSentEndEvent","playerReady","setPlayerReady","playerReadyCallback","playerListeners","customListeners","imaManager","adsManager","imaAdContainerId","relatedChannels","adsConfig","disableAds","disabledAds","buildAdsConfigWithConsent","adUnit","clientSideParticipations","customParams","disableRelatedVideos","instantiateImaManager","adContainerId","adTargetingEnabled","ImaManager","adsRequest","adsRenderingSettings","adTagUrl","buildImaAdTagUrl","uiElements","google","ima","UiElements","AdAttribution","getAdsLoader","AdsManagerLoadedEvent","Type","AdsManagerLoaded","getAdsManager","AdEvent","Started","createInstantiateImaManager","onReadyListener","onReadyCallback","createOnReadyListener","onStateChangeListener","loggerFrom","PlayerState","PLAYING","eventEmitter","checkProgress","getCurrentTime","getDuration","ENDED","PAUSED","CUED","createOnStateChangeListener","playerVars","modestbranding","playsinline","onStateChange","handleCustomPlayEvent","playerStatePromise","playerState","playerListener","eventHandler","stickyContainerStyles","detectMobile","YoutubeAtomSticky","setPauseVideo","isClosed","setIsClosed","isSticky","setIsSticky","stickEventSent","setStickEventSent","showOverlay","setShowOverlay","currentObserver","handleCloseClick","handleKeydown","fullWidthOverlay","showButton","showCloseButton","loadPlayer","overlayClicked","setOverlayClicked","compositeEventEmitters","videoEvent","hasOverlay","showPlaceholder","getOwnPropertyDescriptors","preserveAspectRatio","gradientTransform","rx","ry","isolation","contentContainer","topLeftComponent","bottomRightComponent","paragraph","secondParagraph","smallRightSpacer","primaryButton","iconPanel","closeButton","centeredBottomRightComponent","centeredImage","storeIcon","thankYouText","newslettersLinkPeriod","onSignUpClick","trackClick","freeze","clock","bold","backgroundPrimary","backgroundPrimaryHover","textSubdued","boldText","ophanComponentType","epicContainer","rightSection","paragraph2","remindMeConfirmationText","remindMeConfirmationHeaderText","onClose","textPrimary","textSecondary","backgroundSecondary","backgroundSecondaryHover","remindMeButtonText","hidePaymentIcons","GBPCountries","currency","countries","supportRegionId","UnitedStates","AUDCountries","EURCountries","International","NZDCountries","Canada","GB","CA","DE","NZ","FR","NL","IE","SE","CH","NO","BE","IT","IN","ES","DK","SG","AT","FI","HK","LU","PT","AE","MX","BR","ZA","TW","IL","JP","CZ","GR","IS","TH","MY","RO","PL","HU","TR","KR","SI","CL","CO","QA","HR","SK","ID","VN","CN","MT","AR","KE","PR","RU","EE","CR","PA","rightContainer","leftContainer","imageCaptionContainer","imageCaption","imageCaptionBold","imageCaptionItalic","authoredEpicHeader","authoredEpicBylineCopy1","authoredEpicBylineCopy2","epicWrapper","highlightText","trackEvent","timingCategory","timingVar","timingLabel","trackerName","googleAnalytics","trackers","editorial","timeSincePageLoad","EventTimer","startTS","slotReady","prebidStart","prebidEnd","slotInitialised","adOnPage","commercialStart","commercialExtraModulesLoaded","commercialBaseModulesLoaded","commercialModulesLoaded","gaConfig","logEvents","timingVariable","downlink","effectiveType","trigger","TRACKED_SLOT_NAME","trackInGA","trackLabel","longName","gaEvent","labelToUse","commercialTimer","_externallyDefinedEventNames","commercialMetricsPayload","metrics","devProperties","adBlockerProperties","setDevProperties","setAdBlockerProperties","transformToObjectEntries","eventTimerProperties","mapEventTimerPropertiesToString","roundTimeStamp","getOfflineCount","offlineCount","gatherMetricsOnPageUnload","eventTimer","filteredEventTimerProperties","addVisibilityListeners","checkConsent","userIsInSamplingGroup","AdSize","isProxy","isOutOfPage","isFluid","isMerch","createAdSize","namedStandardAdSizes","billboard","halfPage","leaderboard","mobilesticky","mpu","portrait","skyscraper","cascade","portraitInterstitial","adSizes","outstreamDesktop","outstreamGoogleDesktop","outstreamMobile","fluid","googleCard","outOfPage","empty","fabric","inlineMerchandising","merchandising","merchandisingHigh","merchandisingHighAdFeature","adBlockInUse","offsetTop","adElementBlocked","PERMUTIVE_KEY","PERMUTIVE_PFP_KEY","editionToGeolocationMap","editionKey","editionCountryCode","videoLengths","getVideoLength","videoLength","calculateRecentlyPublishedBucket","hoursSincePublication","daysSincePublication","monthsSincePublication","AMTGRP_STORAGE_KEY","adManagerGroups","getFrequencyValue","rawValue","doNotSell","personalisedAdvertising","getRawWithConsent","visitCount","getAdManagerGroup","framework","existingGroup","getPermutiveWithState","youtube","rawSegments","getSegments","referrers","getReferrer","matchedRef","referrerType","experimentsTargeting","serverSideParticipations","testToParams","clientSideExperiment","serverSideExperiments","isTargetingString","getSharedTargeting","shared","valid","isValidTargeting","filterValues","pageTargets","filtered","buildPageTargeting","adFree","isDotcomRendering","adFreeTargeting","contentTargeting","lastSegment","renderingPlatform","sensitive","dcre","eligibleForDCR","rp","sens","urlkw","vl","getContentTargeting","videoDuration","sessionTargeting","adTest","at","pv","si","getSessionTargeting","viewportTargeting","viewPortWidth","cmpBannerWillShow","bp","skinsize","inskin","getViewportTargeting","getViewport","sharedAdTargeting","amtgrp","permutive","cmp_interaction","eventStatus","consent_tcfv2","rdp","getCMPTargeting","getPersonalisedTargeting","cmpConsent","mergedCustomParams","defaultAdsConfig","adTagParameters","iu","cust_params","restrictedDataProcessor","tcfData","cmpGdpr","gdprApplies","cmpGvcd","addtlConsent","cmpVcd","tcString","nonPersonalizedAd","buildAdsConfig","LISTENERS","error405","error500","getIframe","messageEventSource","slotId","HTMLIFrameElement","validMessageRegex","formatError","respond","targetOrigin","pageTargeting","mergeCustomParamsWithTargeting","tfcd","npa","sz","gdfp_req","unviewed_position_start","impl","vad_type","vpos","queryParamsArray","currentFramework","isGuardian","resolveWillShowPrivacyMessage","_c","_d","_willShowPrivacyMessage","setCurrentFramework","getCurrentFramework","isServerSide","serverSideWarn","serverSideWarnAndReturn","cmp$1","__disable","__enable","__isDisabled","hasInitialised","showPrivacyManager","willShowPrivacyMessage","willShowPrivacyMessageSync","isGuardianDomain","ACCOUNT_ID","ENDPOINT","getConsentState$3","command","__uspapi","uspString","getConsentState$2","__tcfapi","defaultConsents","getConsentState$1","tcData","customVendors","grants","vendorConsents","purpose","vendorGrant","callBackQueue","awaitingUserInteractionInTCFv2","invokeCallback","stateString","lastState","enhanceConsentState","gpcSignal","globalPrivacyControl","getConsentState","invokeCallbacks","onConsentChange$1","callBack","newCallback","stub","toStringTag","__esModule","__tcfapiLocator","cmpLoaded","apiVersion","__tcfapiCall","__tcfapiReturn","callId","parameter","__cmpCall","__cmpReturn","gdprAppliesGlobally","msgHandler","willShowPrivacyMessage$2","getProperty","_sp_","gdpr","loadPrivacyManagerModal","COOKIE_NAME","VendorIDs","a9","acast","braze","comscore","googletag","ias","inizio","ipsos","linkedin","lotame","nielsen","prebid","qm","redplanet","remarketing","teads","guCmpHotFix","resolveInitialised","initComplete","pubData","frameworkMessageType","_sp_queue","baseEndpoint","accountId","propertyHref","targetingParams","cmpInitTimeUtc","onConsentReady","message_type","consentUUID","euconsent","onMessageReady","onMessageReceiveData","messageId","onMessageChoiceSelect","choice_id","choiceTypeID","onPrivacyManagerAction","pmData","onMessageChoiceError","onPMCancel","onSPPMObjectReady","errorObject","userReset","spLib","init$2","getFramework","willShowValue","vendor","sourcepointIds","foundSourcepointId","tcfv2Consent","memoizedCookie","nameEq","cookieTrimmed","shortDomain","COOKIE_REGEX","isValidCookieValue","getSuffix","shouldPluralise","epoch","secondsAgo","veryClose","within55Seconds","withinTheHour","within24hrs","wasYesterday","yesterday","isYesterday","withinAbsoluteCutoff","pad","withTime","days","toLocaleString","multipleSlashesInRoute","targetSrc","STORAGE_KEY","teamStyles","commercial","dotcom","tx","supporterRevenue","identity","isTeam","allStyles","common","messageStyle","teamStyle","getTeamSubscriptions","subscribeTo","teamSubscriptions","unsubscribeFrom","StorageFactory","storageHandler","uid","available","isAvailable","getRaw","setRaw","local","as","Blob","createObjectURL","__shimport__","define","focusHaloSpaced","sourceIdIndex","transitions","medium","mobile","mobileMedium","mobileLandscape","phablet","desktop","leftCol","wide","colors","inverse","ctaPrimary","ctaPrimaryHover","ctaSecondary","ctaSecondaryHover","ctaTertiaryHover","inputChecked","ctaTertiary","inputHover","inputActive","anchorPrimary","anchorSecondary","userInput","inputLabel","inputError","inputLabelSupporting","groupLabel","groupLabelSupporting","newsInverse","anchorPrimaryHover","minWidth","minWidthMaxWidth","and","remSize","pxToRem","remIconSize","ctaMedium","ctaSmall","ctaXsmall","inputMedium","inputXsmall","iconMedium","iconSmall","iconXsmall","remWidth","pxTextSizes","xxsmall","large","xlarge","xxlarge","xxxlarge","xxxsmall","titlepiece","remTextSizes","lineHeights","regular","loose","light","availableFontWeights","italicsFontWeights","underlineThickness","determineFontStyleProperty","hasItalic","fontStyleFunction","defaults","finalFontConfiguration","pxTextSize","remTextSize","fontFamily","textDecorationThickness","fontStyleToStringFunction","typographyFunction","titlepieceDefaults","headlineDefaults","bodyDefaults","textSansDefaults","titlepiece$1","headline$1","body$1","textSans$1","px","resets","legend","fieldset","resetCSS","appearance","backgroundOverrides","decideBackground","borderOverrides","decideBorder","fontOverrides","decideFont","gapVertical","getHeight","isBold","messageWrapperStyles","contextStyles","errorReportUrl","SvgAlertTriangle","nudgeIcon","loadingAnnouncement","buttonContents","contents","loadingSpinnerSizes","applyButtonStylesToLoadingSpinner","fontSpacingVerticalOffset","defaultSize","smallSize","xsmallSize","iconDefault","pullIconTowardEdge","iconLeft","iconRight","iconOnly","iconOnlyDefault","iconOnlySmall","iconOnlyXsmall","iconNudgeAnimation","priorities","buttonThemeDefault","tertiary","textTertiary","borderTertiary","backgroundTertiaryHover","iconSides","iconSizes","iconOnlySizes","readerRevenueBrand","readerRevenueBrandAlt","buttonThemeReaderRevenueBrandAlt","LabelText","hasSupportingText","checkbox","labelTextWithSupportingText","SupportingText","supportingText","indeterminate","checkboxId","checkboxContainer","checkboxContainerWithSupportingText","errorCheckbox","tick","labelContent","tickWithLabelText","tickWithSupportingText","groupId","Legend","checkboxThemeDefault","borderHover","borderChecked","borderError","backgroundChecked","textLabel","textLabelSupporting","textIndeterminate","userFeedbackThemeDefault","labelThemeDefault","userFeedbackThemeBrand","labelThemeBrand","from$1","until$1","lightblueStyles","darkblueStyles","attributeName","attributeType","dur","repeatCount","visuallyHidden$1","optionalText","textOptional","textSupporting","textError","textSuccess","spacer","linkThemeDefault","textPrimaryHover","textSecondaryHover","buttonLink","radio","radioId","radioControl","labelledRadioControl","radioContainer","labelWithSupportingText","inlineSpaceStyle","inlineSpace","Inline","stackSpaceStyle","stackSpace","Stack","radioContainers","radioThemeDefault","selectThemeDefault","select","textUserInput","textLabelOptional","backgroundInput","borderActive","borderSuccess","errorInput","successInput","errorChevron","successChevron","selectWrapper","selectId","textArea","labelMargin","supportingTextMargin","inlineMessageMargin","widthFluid","HAS_VALUE_CLASS","rows","textAreaId","textInputThemeDefault","textInput","widths","textInputId","inlineError","userFeedback","inlineSuccess","inlineMessage","getDay","UTC","week","articles","__source","__self","__awaiter","_arguments","generator","fulfilled","rejected","__generator","sent","trys","ops","verb","op","hook","UNDEFINED","OBJECT","isFunction","mergeObjects","STR_UNDEFINED","hasWindow","stableHash","isDate","online","hasWin","hasDoc","onWindowEvent","onDocumentEvent","offWindowEvent","offDocumentEvent","preset","isOnline","defaultConfigOptions","initFocus","initReconnect","onOnline","onOffline","IS_SERVER","useIsomorphicLayoutEffect","navigatorConnection","slowConnection","saveData","serialize","SWRGlobalState","broadcastState","isValidating","revalidate","broadcast","EVENT_REVALIDATORS","STATE_UPDATERS","FETCH","revalidators","updaters","__timestamp","getTimestamp","internalMutate","_data","_opts","populateCache","rollbackOnError","customOptimisticData","keyInfo","MUTATION","beforeMutationTs","hasCustomOptimisticData","rollbackData","optimisticData","revalidateAllKeys","initCache","provider","releaseFocus_1","releaseReconnect_1","defaultConfig","onLoadingSlow","onErrorRetry","maxRetryCount","currentRetryCount","retryCount","errorRetryInterval","onDiscarded","revalidateOnFocus","revalidateOnReconnect","revalidateIfStale","shouldRetryOnError","focusThrottleInterval","loadingTimeout","currentData","isPaused","mergeConfigs","u1","f1","u2","f2","SWRConfigContext","useSWRConfig","subscribeCallback","callbacks","keyedRevalidators","WITH_DEDUPE","dedupe","extendedConfig","cacheContext","fallbackData","suspense","revalidateOnMount","refreshWhenOffline","fnArgs","initialMountedRef","unmountedRef","keyRef","fetcherRef","configRef","getConfig","patchFetchInfo","isInitialMount","shouldRevalidate","rerender","stateRef","stateDependenciesRef","shouldRerender","currentState","useStateWithDeps","stateDependencies","revalidateOpts","currentFetcher","startAt","shouldStartNewRequest","isCurrentKeyMounted","cleanupState","newState","finishRequestAndUpdateState","mutationInfo","err_1","requestInfo","boundMutate","keyChanged","softRevalidate","nextFocusRevalidatedAt","unsubUpdate","updatedData","updatedError","updatedIsValidating","unsubEvents","fallbackConfig","_config","middleware","__assign","useSWRNext","uses","persisted","timeStamp","getEntriesByType","activationStart","prerendering","wasDiscarded","navigationType","PerformanceObserver","supportedEntryTypes","getEntries","buffered","firstHiddenTime","hadRecentInput","takeRecords","passive","capture","entryType","processingStart","interactionId","interactionCount","durationThreshold","latency","__webpack_module_cache__","moduleId","cachedModule","__webpack_modules__","getter","mode","ns","def","definition","hmd","__webpack_public_path__","frontendAssetsFullURL","frameworks","getPrivacyFramework","isInUS","newPrivacyLinkName","bootCmp","consentManagement","consentString","ccpaUUID","flag","consentStatus","decideConsentCarrierLabels","privacyLinkListItem","newPrivacyLink","cloneNode","newPrivacyLinkListItem","insertAdjacentElement","injectPrivacySettingsLink","modulePath","importFunctionName","revokeObjectURL","moduleMap","loadSentry","injected","queue","injectSentry","queuedError","startup","helpers","measureMe","mustardCut","polyfilled","experiences","enableSentryReporting","isInBrowserVariantTest","randomCentile","dynamicImportPolyfill","initialiseDynamicImport","shimport","initialise"],"sourceRoot":""}