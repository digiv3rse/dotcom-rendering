{"version":3,"file":"770.legacy.37a963c56eb4bde802d8.js","mappings":"srBAOMA,EACLC,SAD+B,OAC/BC,EAAAA,EAAAA,KAAAA,EAAAA,EAAAA,0BAAAC,OACe,OAAc,SAAGC,EAAAA,EAAAA,MAC/B,WAAQ,UACR,WAAQC,EAAAA,CAAAA,KAAaH,IACfC,GAA4BG,EAAAA,EAAAA,KAClC,OAAW,MACEC,EAAAA,EAAAA,KAUFC,EAAAA,EAAAA,KASNC,SAAAA,aAAc,O,0WC1BfC,EAAS,gBAAiBR,EAAAA,EAAAA,KAAAA,EAAAA,EAC/BD,0BAAAA,OACY,OAAG,SAAeG,EAAAA,EAAAA,MAAE,WAC/B,UAAQ,WACRC,EAAAA,CAAOH,KAAC,IAAaC,GACf,gBACN,MAASI,EAAAA,EAAAA,KAWEC,EAAAA,EACZ,KAQMC,SAAAA,WAAc,O,ioBC5BrB,IAAME,EAAU,SAACC,GAUb,OATgBA,EAAMC,QAAO,SAACC,GAAI,OAAKA,CAAI,IAAEC,KAAI,SAACD,GAC9C,MAA0B,MAAtBA,EAAKE,OAAO,EAAG,GACRF,EAAKG,MAAM,GACfH,CACX,IAAGC,KAAI,SAACD,GACJ,MAAwC,MAApCA,EAAKE,OAAOF,EAAKI,OAAS,EAAG,GACtBJ,EAAKG,MAAM,GAAI,GACnBH,CACX,IACeK,KAAK,IACxB,EACIC,EAAU,CACVC,QAAS,oDACTC,OAAQ,uBACRC,QAAS,CAAC,EACVC,SAAU,iCAEVC,EAAgB,CAChB,UAAWL,EAAQE,QASjBI,EAAc,SAACC,GAIjB,MAAO,IAHQC,OAAOC,KAAKF,GAAKZ,KAAI,SAACe,GACjC,MAAM,GAAN,OAAUA,EAAG,YAAIH,EAAIG,GACzB,IAAGX,KAAK,IAEZ,EACMY,EAAgB,SAAhBA,EAAiBC,EAAUC,GAC7B,IAAMC,EAAO,OACNT,GACA,CACCU,QAA0B,oBAAjBF,EAAKE,QAAgC,kBAAoBF,EAAKE,QACvEC,SAAUH,EAAKG,SACfC,gBAAkC,eAAjBJ,EAAKK,QACtBC,aAA+B,cAAjBN,EAAKK,QAA0B,EAAI,IACjDE,KAAMP,EAAKO,OAGbC,EAASf,EAAYQ,GACrBQ,EAAM/B,EAAQ,CAACS,EAAQC,QAAS,aAAcW,IAAaS,EACjE,OAAOE,MAAMD,EAAK,CACdnB,QAAQ,EAAD,GACAH,EAAQG,WAEhBqB,MAAK,SAACC,GAAI,OAAKA,EAAKC,MAAM,IAAEF,MAAK,SAACE,GACjC,MAAuB,+CAAnBA,EAAKC,UACEhB,EAAcC,EAAS,EAAD,KACtBC,GACA,CACCK,QAAS,gBAIdQ,CACX,IAAGE,OAAM,SAACC,GAAK,OAAKC,QAAQD,MAAM,kBAAD,OAAmBP,GAAOO,EAAM,GACrE,EACME,EAAU,SAACC,GACb,IAAMV,EAAM/B,EAAQ,CAACS,EAAQC,QAAS,oBAAsBK,EAAYD,GAClE4B,EAAO,IAAIC,gBAEjB,OADAD,EAAKE,OAAO,OAAQH,GACbT,MAAMD,EAAK,CACdc,OAAQ,OACRJ,KAAMC,EAAKI,WACXlC,QAAQ,EAAD,CACH,eAAgB,qCACbH,EAAQG,WAEhBqB,MAAK,SAACC,GAAI,OAAKA,EAAKC,MAAM,IAAEF,MAAK,SAACE,GAAI,OAAKA,EAAKY,WAAW,IAAEV,OAAM,SAACC,GAAK,OAAKC,QAAQD,MAAM,kBAAD,OAAmBP,GAAOO,EAAM,GAClI,EACMU,EAAU,SAAC3B,EAAUoB,GACvB,IAAMV,EAAM/B,EAAQ,CAACS,EAAQC,QAAS,aAAcW,EAAU,YAAcN,EAAYD,GAClF4B,EAAO,IAAIC,gBAEjB,OADAD,EAAKE,OAAO,OAAQH,GACbT,MAAMD,EAAK,CACdc,OAAQ,OACRJ,KAAMC,EAAKI,WACXlC,QAAQ,EAAD,CACH,eAAgB,qCACbH,EAAQG,SAEfqC,YAAa,YACdhB,MAAK,SAACC,GAAI,OAAKA,EAAKC,MAAM,GACjC,EACMe,EAAQ,SAAC7B,EAAUoB,EAAMU,GAC3B,IAAMpB,EAAM/B,EAAQ,CAACS,EAAQC,QAAS,aAAcW,EAAU,UAAW8B,EAAgBL,WAAY,UAAY/B,EAAYD,GACvH4B,EAAO,IAAIC,gBAEjB,OADAD,EAAKE,OAAO,OAAQH,GACbT,MAAMD,EAAK,CACdc,OAAQ,OACRJ,KAAMC,EAAKI,WACXlC,QAAQ,EAAD,CACH,eAAgB,qCACbH,EAAQG,SAEfqC,YAAa,YACdhB,MAAK,SAACC,GAAI,OAAKA,EAAKC,MAAM,GACjC,EACMiB,EAAW,SAAC/B,GACd,IAAMU,EAAM/B,EAAQ,CAACS,EAAQC,QAAS,aAAcW,EAAU,gBAAkBN,EAAYD,GAC5F,OAAOkB,MAAMD,EAAK,CACdnB,QAAQ,EAAD,GACAH,EAAQG,WAEhBqB,MAAK,SAACC,GAAI,OAAKA,EAAKC,MAAM,IAAEF,MAAK,SAACE,GAAI,OAAKA,EAAKkB,WAAWC,QAAQ,IAAEjB,OAAM,SAACC,GAAK,OAAKC,QAAQD,MAAM,kBAAD,OAAmBP,GAAOO,EAAM,GAC1I,EACMiB,EAAc,SAAH,GAAkD,IAA5CC,EAAS,EAATA,UAAWC,EAAU,EAAVA,WAAYC,EAAK,EAALA,MAAOC,EAAM,EAANA,OAC3C5B,EAAM/B,EAAQ,CAACS,EAAQC,QAAS,UAAW8C,EAAUV,WAAY,gBAAkB/B,EAAYD,GAC/F4B,EAAO,IAAIC,gBAIjB,OAHAD,EAAKE,OAAO,aAAca,EAAWX,YACrCY,GAAShB,EAAKE,OAAO,QAASc,EAAMZ,YACpCa,GAAUjB,EAAKE,OAAO,SAAUe,GACzB3B,MAAMD,EAAK,CACdc,OAAQ,OACRJ,KAAMC,EAAKI,WACXlC,QAAQ,EAAD,CACH,eAAgB,qCACbH,EAAQG,WAEhBqB,MAAK,SAACC,GAAI,OAAKA,EAAKC,MAAM,GACjC,EACMyB,EAAY,SAACJ,GACf,IAAMzB,EAAM/B,EAAQ,CAACS,EAAQC,QAAS,UAAW8C,EAAUV,WAAY,cAAgB/B,EAAYD,GACnG,OAAOkB,MAAMD,EAAK,CACdc,OAAQ,OACRI,YAAa,UACbrC,QAAQ,EAAD,GACAH,EAAQG,WAEhBqB,MAAK,SAACC,GAAI,OAAKA,EAAK2B,EAAE,GAC7B,EACMC,EAAc,SAACC,GACjB,IAAMhC,EAAMtB,EAAQI,SAAQ,WAAgBE,EAAYD,GACxD,OAAOkB,MAAMD,EAAK,CACdc,OAAQ,OACRI,YAAa,UACbR,KAAMuB,KAAKC,UAAU,CACjBC,aAAc,CACVC,SAAUJ,EACVK,YAAaL,KAGrBnD,QAAS,CACL,eAAgB,sBAErBqB,MAAK,SAACC,GAAI,OAAKA,EAAKC,MAAM,IAAEE,OAAM,SAACC,GAAK,OAAKC,QAAQD,MAAM,kBAAD,OAAmBP,GAAOO,EAAM,GACjG,EACM+B,EAAc,SAACb,GACjB,IAAMzB,EAAM/B,EAAQ,CAACS,EAAQC,QAAS,UAAW8C,EAAUV,WAAY,cAAgB/B,EAAYD,GACnG,OAAOkB,MAAMD,EAAK,CACdc,OAAQ,OACRjC,QAAQ,EAAD,CACH,eAAgB,qCACbH,EAAQG,SAEfqC,YAAa,YACdhB,MAAK,SAACC,GAAI,OAAKA,EAAKC,MAAM,IAAEE,OAAM,SAACC,GAAK,OAAKC,QAAQD,MAAM,kBAAD,OAAmBP,GAAOO,EAAM,GACjG,EACMgC,EAAgB,SAACd,GACnB,IAAMzB,EAAM/B,EAAQ,CAACS,EAAQC,QAAS,UAAW8C,EAAUV,WAAY,gBAAkB/B,EAAYD,GACrG,OAAOkB,MAAMD,EAAK,CACdc,OAAQ,OACRjC,QAAQ,EAAD,CACH,eAAgB,qCACbH,EAAQG,SAEfqC,YAAa,YACdhB,MAAK,SAACC,GAAI,OAAKA,EAAKC,MAAM,IAAEE,OAAM,SAACC,GAAK,OAAKC,QAAQD,MAAM,kBAAD,OAAmBP,GAAOO,EAAM,GACjG,EAeMiC,EAAqB,SAACf,EAAWf,EAAM+B,EAAMC,GAC/C,OAAO,EAAP,CACIC,GAAIlB,EACJf,KAAAA,EACAkC,KAAMC,OACNC,aAAa,IAAID,MAAOE,cACxBC,OAAQ,UACRC,OAAO,wDAAD,OAA0DxB,GAChEyB,OAAO,8DAAD,OAAgEzB,GACtE0B,cAAe,EACfC,eAAe,EACfC,YAAa,CACTC,OAAQb,EAAKa,OACbjB,YAAaI,EAAKJ,YAClBY,OAAQR,EAAKQ,OACbC,OAAQT,EAAKS,OACbK,OAAQd,EAAKc,OACbC,gBAAiBf,EAAKe,gBACtBC,MAAOhB,EAAKgB,QAEbf,EAAwB,CACvBgB,WAAY,CACRrB,YAAaK,EAAsBW,YAAYhB,YAC/CsB,cAAc,8DAAD,OAAgEjB,EAAsBC,IACnGG,YAAaJ,EAAsBI,YACnCF,KAAMF,EAAsBE,KAC5BnB,UAAWmC,OAAOlB,EAAsBC,IACxCkB,cAAc,wDAAD,OAA0DnB,EAAsBC,MAEjG,CACAmB,UAAW,IAGvB,EAIIC,EAAiD,CACjDC,KAAM,SACNC,OAAQ,mCAMNC,EAAM,SAAH,OAAMnG,EAAQ,EAARA,SAAQ,OAAuBH,EAAAA,EAAAA,KAAI,MAAO,CACrDC,IAAKkG,GACNhG,EAAU,EACPoG,GAAiB,SAACC,GACpB,OAAQA,GACJ,KAAKC,EAAAA,EAAAA,KACD,MAAO,OACX,KAAKA,EAAAA,EAAAA,QACD,MAAO,UACX,KAAKA,EAAAA,EAAAA,QACD,MAAO,UACX,KAAKA,EAAAA,EAAAA,MACD,MAAO,QACX,KAAKA,EAAAA,EAAAA,UACD,MAAO,YACX,KAAKC,EAAAA,EAAAA,KACD,MAAO,OACX,QACI,MAAO,OAEnB,EACMC,GAAU,CACZC,KAAAA,EAAAA,EACAC,QAAAA,EAAAA,GACAC,QAAAA,EAAAA,GACAC,MAAAA,EAAAA,GACAC,UAAAA,EAAAA,GACAC,KAAAA,EAAAA,IAmBEC,GAAkB,SAACV,EAAQW,GAC7B,OAAQA,GACJ,IAAK,UACD,OAAuBlH,EAAAA,EAAAA,KAAI,UAAWmH,EAAAA,GAAAA,MAAe,CACjDC,WAAY,SACZ,qBAAsBV,GAAQJ,GAAeC,IAAS,KAAM,UAAWc,EAAAA,GAAAA,KAAc,4BAA6BX,GAAQJ,GAAeC,IAAS,KAAM,MAAgF,IAChP,IAAK,YACD,OAAuBvG,EAAAA,EAAAA,KAAI,UAAWmH,EAAAA,GAAAA,MAAe,CACjDC,WAAY,SACZ,kDAAmDV,GAAQJ,GAAeC,IAAS,KAAM,UAAWG,GAAQJ,GAAeC,IAAS,KAAM,4BA1B7I,SAACA,GACV,OAAQA,GACJ,KAAKC,EAAAA,EAAAA,QACD,MAAO,UACX,KAAKA,EAAAA,EAAAA,QACD,MAAO,UACX,KAAKA,EAAAA,EAAAA,UACD,MAAO,UACX,KAAKA,EAAAA,EAAAA,MACD,MAAO,UACX,KAAKA,EAAAA,EAAAA,KACL,KAAKC,EAAAA,EAAAA,cACL,KAAKA,EAAAA,EAAAA,KACL,QACI,MAAO,UAEnB,CAUuLa,CAAKf,GAAS,MAAgF,IAC7Q,IAAK,UACD,OAAuBvG,EAAAA,EAAAA,KAAI,UAAWmH,EAAAA,GAAAA,MAAe,CACjDC,WAAY,SACZ,uCAAwCV,GAAQJ,GAAeC,IAAS,KAAM,qBAA+F,IAE7L,EACMgB,GAAe,SAAH,OAAMhB,EAAM,EAANA,OAAQiB,EAAO,EAAPA,QAASC,EAAI,EAAJA,KAAK,EAAD,EAAEP,SAAAA,OAAQ,MAAG,UAAS,EAAEhH,EAAQ,EAARA,SAAUwH,EAAI,EAAJA,KAAMC,EAAQ,EAARA,SAAUC,EAAQ,EAARA,SAAS,EAAD,EAAEjI,KAAAA,OAAI,MAAG,UAAS,SAAuBI,EAAAA,EAAAA,KAAI,MAAO,CACvJC,IAAKiH,GAAgBV,EAAQW,KACdnH,EAAAA,EAAAA,KAAI8H,EAAAA,EAAQ,CAC3BX,SAAAA,EACAvH,KAAAA,EACA6H,QAAAA,EACAC,KAAAA,EACAC,KAAAA,EACAC,SAAAA,EACA,iBAAkBC,GACnB1H,GAAW,EACR4H,IAAiC9H,EAAAA,EAAAA,KAAI,WAAY+H,EAAAA,EAAAA,GAAU,uBAAwBV,EAAAA,GAAAA,IAAa,kBAAmBU,EAAAA,EAAAA,GAAU,mCAAoCA,EAAAA,EAAAA,GAAU,qBAAsBA,EAAAA,EAAAA,GAAU,OAA8E,IACzRC,IAA8BhI,EAAAA,EAAAA,KAAImH,EAAAA,GAAAA,QAAkB,IAA0E,IAC9Hc,GAAO,SAAH,OAAM/H,EAAQ,EAARA,SAAQ,OAAuBH,EAAAA,EAAAA,KAAI,IAAK,CACpDC,IAAKgI,IACN9H,EAAU,EACPgI,GAAsB,SAAH,GAA2E,IAArErF,EAAI,EAAJA,KAAM0D,EAAM,EAANA,OAAO,EAAD,EAAE7D,MAAAA,OAAK,MAAG,GAAE,EAAEyF,EAAU,EAAVA,WAAYC,EAAY,EAAZA,aAAcC,EAAS,EAATA,UAC/E,GAAsCC,EAAAA,EAAAA,UAAS,IAAG,eAA3CC,EAAW,KAAEC,EAAc,KAClC,GAAgCF,EAAAA,EAAAA,UAAS,IAAG,eAArCnE,EAAQ,KAAEsE,EAAW,KAc5B,OAbAC,EAAAA,EAAAA,YAAU,WACN,IAAMC,EAAgB,mCAAG,sFAEqB,OAFrB,SAEXC,EAAYP,GAAazF,EAAQ,EAAD,OACfgG,EAAU/F,GAAM,KAAD,EAAhCgG,EAAQ,OACdL,EAAeK,GAAU,gDAGzBL,EAAe,IAAI,yDAE1B,kBATqB,mCAUtBG,GACJ,GAAG,CAAC9F,EAAMwF,KACatI,EAAAA,EAAAA,KAAI,MAAO,CAC9BC,KAAqBA,EAAAA,EAAAA,KAAI,WAAY+H,EAAAA,EAAAA,GAAU,MAAoF,MACpHhI,EAAAA,EAAAA,KAAI,OAAQ,CAC3B+I,SAAU,SAACC,GACPA,EAAEC,iBACFb,EAAWhE,EACf,IACepE,EAAAA,EAAAA,KAAI,KAAM,CACzBC,KAAqBA,EAAAA,EAAAA,KAAIiJ,EAAAA,GAAAA,QAAiB,CACtC7B,WAAY,SACZ,IAAkF,KACvF,sDAA2ErH,EAAAA,EAAAA,KAAIkI,GAAM,KAAM,yJAAwLlI,EAAAA,EAAAA,KAAIkI,GAAM,KAAM,8HAA8IlI,EAAAA,EAAAA,KAAImJ,EAAAA,EAAW,CAC/bC,MAAO,YACPC,WAAY,mEACZC,MAAOlF,EACPmF,SAAU,SAACP,GAAC,OAAKN,EAAYM,EAAEQ,OAAOF,MAAM,EAC5CG,MAAO,GACP9G,MAAAA,KACgB3C,EAAAA,EAAAA,KAAIkI,GAAM,MAAsBlI,EAAAA,EAAAA,KAAI0J,EAAAA,QAAAA,SAAgB,KAAM,qDAAsD,KAAqB1J,EAAAA,EAAAA,KAAI2J,EAAAA,EAAM,CAC/JC,KAAM,uBACNzC,SAAU,UACV0C,SAAS,EACTC,IAAK,aACU9J,EAAAA,EAAAA,KAAI,OAAQ,CAC3BC,IAAKgI,IACN,yBAAyB,KAAO,oIAAmKjI,EAAAA,EAAAA,KAAIkI,GAAM,KAAM,kFAAiHlI,EAAAA,EAAAA,KAAI,MAAO,CAC9UC,IAAK,CAAC8H,GAAgBE,GAAqD,IAC3E8B,wBAAyB,CACrBC,OAAQxB,GAAe,OAEXxI,EAAAA,EAAAA,KAAIsG,EAAK,MAAsBtG,EAAAA,EAAAA,KAAIwH,GAAc,CACjEhB,OAAAA,EACAiB,QAAS,kBAAMW,EAAWhE,EAAS,EACnCyD,SAAU,eACVjI,KAAM,SACP,sBAAsCI,EAAAA,EAAAA,KAAI,MAAO,CAChDC,KAAqBA,EAAAA,EAAAA,KAAI,SAAU+H,EAAAA,EAAAA,GAAU,MAAoF,OACjHhI,EAAAA,EAAAA,KAAIwH,GAAc,CAClChB,OAAAA,EACAW,SAAU,UACVM,QAASY,EACTR,SAAU,sBACVjI,KAAM,SACP,YACP,EACMqK,IAAiChK,EAAAA,EAAAA,KAAImH,EAAAA,GAAAA,QAAkB,YAAaY,EAAAA,EAAAA,GAAU,MAAOA,EAAAA,EAAAA,GAAU,uBAAwBV,EAAAA,GAAAA,IAAa,iDAAkD,GAAI,kDAAmDU,EAAAA,EAAAA,GAAU,oBAAqBA,EAAAA,EAAAA,GAAU,kBAAmBA,EAAAA,EAAAA,GAAU,mBAAoBA,EAAAA,EAAAA,GAAU,mBAAoBA,EAAAA,EAAAA,GAAU,YAAaV,EAAAA,GAAAA,IAAa,qHAAsHU,EAAAA,EAAAA,GAAU,OAA8E,IACvlBkC,IAAwBjK,EAAAA,EAAAA,KAAI,sGAAuGqH,EAAAA,GAAAA,IAAa,iDAAiH,IACjQ6C,GAAY,SAAH,OAAMC,EAAW,EAAXA,YAAW,OAAuBpK,EAAAA,EAAAA,KAAI0J,EAAAA,QAAAA,SAAgB,MAAsB1J,EAAAA,EAAAA,KAAI,MAAO,CACxGC,IAAKiK,MACWlK,EAAAA,EAAAA,KAAI,MAAO,CAC3BC,IAAKgK,GACLF,wBAAyB,CACrBC,OAAQI,GAAe,MAE3B,EAIEC,GAAa,SAACC,GAAK,mBAAWA,EAAK,SACnCC,GAAgB,SAACD,GAAK,mBAAWA,EAAK,SACtCE,GAAsB,SAACF,GAAK,qBAAaA,EAAK,WAC9CG,GAAa,SAACH,GAAK,sBAAcA,EAAK,YACtCI,GAAc,SAACJ,GAAK,4BAAoBA,EAAK,kBAE7CK,IAAgC1K,EAAAA,EAAAA,KAAI,6CAA8C+H,EAAAA,EAAAA,GAAU,MAA4E,IACxK4C,IAAkC3K,EAAAA,EAAAA,KAAI,4BAA6B+H,EAAAA,EAAAA,GAAU,gCAAiCZ,EAAAA,GAAAA,QAAkB,iBAAkBE,EAAAA,GAAAA,IAAa,wBAAyBA,EAAAA,GAAAA,IAAa,kBAA4F,IACjSuD,IAAkC5K,EAAAA,EAAAA,KAAI,uBAAwBqH,EAAAA,GAAAA,IAAa,KAA+E,IAC1JwD,IAAmC7K,EAAAA,EAAAA,KAAI,kDAAmDqH,EAAAA,GAAAA,GAAY,KAAgF,IACtLyD,IAAmC9K,EAAAA,EAAAA,KAAI,YAAamH,EAAAA,GAAAA,UAAoB,IAA+E,IACvJ4D,IAAkC/K,EAAAA,EAAAA,KAAI,YAAamH,EAAAA,GAAAA,UAAoB,UAAW6D,EAAAA,GAAAA,MAAY,IAA8E,IAC5KC,IAAiCjL,EAAAA,EAAAA,KAAI,YAAamH,EAAAA,GAAAA,UAAoB,UAAW6D,EAAAA,GAAAA,WAAiB,IAA6E,IAC/KE,GAA6D,CAC/D/E,KAAM,SACNC,OAAQ,kBAMN+E,IAA+BnL,EAAAA,EAAAA,KAAI,WAAYgL,EAAAA,GAAAA,cAAoB,mEAAwI,IAC3MI,IAA0CpL,EAAAA,EAAAA,KAAI,oBAAqBqH,EAAAA,GAAAA,IAAa,0EAA4J,IAC5OgE,IAAgCrL,EAAAA,EAAAA,KAAI,gEAAiEqH,EAAAA,GAAAA,KAAc,UAAWA,EAAAA,GAAAA,IAAa,kIAA0M,IACrViE,GAA0D,CAC5DnF,KAAM,UACNC,OAAQ,2IAMNmF,GAAU,SAAH,OAAMC,EAAM,EAANA,OAAM,OAAuBzL,EAAAA,EAAAA,KAAI,MAAO,CACvDC,KAAqBA,EAAAA,EAAAA,KAAI,SAAU+H,EAAAA,EAAMyD,GAAS,MAAsE,KACzH,EACGC,GAAc,SAAH,GAAkI,IAA5HhK,EAAQ,EAARA,SAAU8E,EAAM,EAANA,OAAQmF,EAAY,EAAZA,aAAc9G,EAAI,EAAJA,KAAM+G,EAAwB,EAAxBA,yBAA0B9G,EAAqB,EAArBA,sBAAuB+G,EAAS,EAATA,UAAWC,EAAO,EAAPA,QAASxD,EAAS,EAATA,UAC9H,GAAgCC,EAAAA,EAAAA,YAASzD,GAAqC,eAAvEiH,EAAQ,KAAEC,EAAW,KAC5B,GAA8CzD,EAAAA,EAAAA,WAAS,GAAM,eAAtD0D,EAAe,KAAEC,EAAkB,KAC1C,GAAwB3D,EAAAA,EAAAA,UAAS,IAAG,eAA7BzF,EAAI,KAAEqJ,EAAO,KACpB,GAAsC5D,EAAAA,EAAAA,UAAS,IAAG,eAA3CC,EAAW,KAAEC,EAAc,KAClC,GAA0BF,EAAAA,EAAAA,UAAS,IAAG,eAA/B5F,EAAK,KAAEyJ,EAAQ,KACtB,GAAwB7D,EAAAA,EAAAA,UAAS,IAAG,eAA7B8D,EAAI,KAAEC,EAAO,KACpB,GAAsC/D,EAAAA,EAAAA,WAAS,GAAM,eAA9CgE,EAAW,KAAEC,EAAc,KAC5BC,GAAcC,EAAAA,EAAAA,QAAO,OAC3B/D,EAAAA,EAAAA,YAAU,WACN,IAAIgE,EAAIC,EACJ9H,IACyE,OAAxE6H,EAAKE,SAASC,eAAe,WAAD,OAAYhI,EAAsBC,OAA0B4H,EAAGI,iBACC,OAA5FH,EAAKC,SAASG,cAAc,uBAAD,OAAwBlI,EAAsBC,GAAE,gBAAiC6H,EAAGK,QAExH,GAAG,CAACnI,IACJ,IAAMoI,EAAuB,WACzB,GAAKT,GAAgBA,EAAYU,QAAjC,CAEA,IAAMC,EAAiBX,EAAYU,QAAQC,eACrCC,EAAeZ,EAAYU,QAAQE,aACnC/D,EAAQmD,EAAYU,QAAQ7D,MAIlC,MAAO,CACHgE,YAJgBhE,EAAMiE,UAAU,EAAGH,GAKnCI,kBAJsBlE,EAAMiE,UAAUH,EAAgBC,GAKtDI,UAJcnE,EAAMiE,UAAUF,EAAc/D,EAAM1I,QAN5C,CAYd,EACM8M,EAAgB,SAACC,GACnB,IAAMC,EAAkBV,IACxB,GAAKU,EAAL,CAEA,IAAQN,EAA8CM,EAA9CN,YAAaE,EAAiCI,EAAjCJ,kBAAmBC,EAAcG,EAAdH,UACxCtB,EAAQmB,EAAYO,OAAOF,EAAcH,GAAoBC,GAFnD,CAGd,EAWM7E,EAAgB,mCAAG,yFAChB9F,EAAK,CAAD,gDAGiC,OAHjC,SAGC+F,EAAYP,GAAazF,EAAQ,EAAD,OACfgG,EAAU/F,GAAM,KAAD,EAAhCgG,EAAQ,OACdL,EAAeK,GACf0D,GAAe,GAAM,kDAGrBJ,EAAS,4CACT3D,EAAe,IACf+D,GAAe,GAAO,0DAE7B,kBAdqB,mCAehBsB,EAAY,WACd1B,EAAS,IACTE,EAAQ,IACRH,EAAQ,IACRK,GAAe,GACfR,GAAY,GACZJ,GAA4BA,GAChC,EACMxD,GAAU,mCAAG,wFAEH,GADZgE,EAAS,IACTE,EAAQ,KACJxJ,EAAK,CAAD,gBAE6B,GAD3BiL,EAAYlC,GAAaxI,EACzB2K,EAAUlC,GAAWvI,GACVuB,EAAqB,iCAASkJ,EAAQtM,EAAUoB,EAAMgC,EAAsBC,IAAG,4DAASgJ,EAAUrM,EAAUoB,GAAM,KAAD,uBACvG,sBADrBgG,EAAQ,MACDrG,UACTyJ,GAAmB,GAES,uBAAvBpD,EAASrG,UACd2J,EAAS,2BAEmB,qBAAvBtD,EAASrG,UACd2J,EAAS,yDAEmB,gBAAvBtD,EAASrG,UACd2J,EAAS,4FAEmB,iBAAvBtD,EAASrG,UACd2J,EAAS,qGAEmB,sBAAvBtD,EAASrG,UACd2J,EAAS,yFAEmB,6BAAvBtD,EAASrG,UACd2J,EAAS,kGAEmB,gCAAvBtD,EAASrG,UACd2J,EAAS,6EAEmB,qBAAvBtD,EAASrG,UACd2J,EAAS,0MAImB,wBAAvBtD,EAASrG,UACd2J,EAAS,uGAEmB,mBAAvBtD,EAASrG,UACd2J,EAAS,2LAImB,qBAAvBtD,EAASrG,UACd2J,EAAS,uNAImB,cAAvBtD,EAASrG,UACd2J,EAAS,0IAGmB,mBAAvBtD,EAASrG,UACd6J,EAAQ,gGAEoB,wBAAvBxD,EAASrG,UACd2J,EAAS,wJAImB,wBAAvBtD,EAASrG,UACd2J,EAAS,uOAMgB,OAApBtD,EAAS1D,QACduG,EAAa/G,EAAmBqJ,SAASnF,EAASoF,SAAUpL,EAAM+B,EAAMC,IACxEgJ,KAGA1B,EAAS,oDACZ,4CAER,kBA5Ee,mCA6EV+B,GAAc,mCAAG,WAAO/J,GAAQ,2EAErB,GAAbgI,EAAS,IACJhI,EAAS,CAAD,eACkC,OAA3CgI,EAAS,kCAAkC,0CAGxBjI,EAAYC,GAAU,KAAD,EACpB,QADlB0E,EAAQ,QACD1D,QACTgD,KACA8D,GAAmB,IAGnBpD,EAASsF,QAAUhC,EAA2E,OAAjEQ,EAAkC,OAA5BD,EAAK7D,EAASsF,OAAO,SAAc,EAASzB,EAAGuB,SAAmBtB,EAAK,iBAC7G,2CACJ,gBAfmB,sCAgBpB,OAAIX,GAAmBnJ,GACI9C,EAAAA,EAAAA,KAAImI,GAAqB,CAC5C3B,OAAAA,EACA1D,KAAAA,EACAH,MAAAA,EACAyF,WAAY+F,GACZ9F,aAAc,kBAAM6D,GAAmB,EAAM,EAC7C5D,UAAAA,KAGetI,EAAAA,EAAAA,KAAI0J,EAAAA,QAAAA,SAAgB,MAAsB1J,EAAAA,EAAAA,KAAI,OAAQ,CACzEC,IAAK0K,GACL5B,SAAU,SAACC,GACPA,EAAEC,iBACFb,IACJ,GACDzF,IAAyB3C,EAAAA,EAAAA,KAAI,MAAO,CACnCC,IAAKkL,KACUnL,EAAAA,EAAAA,KAAI,IAAK,CACxBC,IAAK,CAAC+K,GAAiBI,GAAsD,IAC7ErB,wBAAyB,CACrBC,OAAQrH,MAEX0J,IAAwBrM,EAAAA,EAAAA,KAAI,MAAO,CACpCC,IAAKkL,KACUnL,EAAAA,EAAAA,KAAI,IAAK,CACxBC,IAAK,CAACiL,GAAgBE,GAAsD,KAC7EiB,IAAQN,IAA4B/L,EAAAA,EAAAA,KAAI,MAAO,CAC9CC,IAAKoL,KACUrL,EAAAA,EAAAA,KAAI,IAAK,CACxBC,IAAK,CAAC8K,GAAkBK,GAAsD,KAC/E,mDAAoD,KAAqBpL,EAAAA,EAAAA,KAAI,IAAK,CACjF4J,KAAM,wBACP,wBAAyB,KAAM/E,EAAKwJ,eAAiBxJ,EAAKwJ,cAAcC,iBAAkCtO,EAAAA,EAAAA,KAAI,IAAK,CAClHC,IAAK,CAAC+K,GAAiBI,GAAsD,KAC9E,qDAAqEpL,EAAAA,EAAAA,KAAI,IAAK,CAC7E4J,KAAM,sBACNJ,OAAQ,SACRM,IAAK,YACN,QAAS,OAAuB9J,EAAAA,EAAAA,KAAI,WAAY,CAC/C,cAAe,gBACfuO,YAAazJ,IAA0BiH,EAAW,sBAAwB,GAC1E9L,IAAK,CAAC2K,GAAiB9F,GAAyBiH,GAAYlB,IAAkB/F,IAA0BiH,GAAYjB,GAA0D,IAC9K0D,IAAK/B,EACLgC,MAAO,CACHC,OAAQ3C,EAAW,QAAU,QAEjCxC,SAAU,SAACP,GACPmD,EAAQnD,EAAEQ,OAAOF,OAAS,GAC9B,EACAA,MAAOxG,EACP6L,QAAS,kBAAM3C,GAAY,EAAK,KAChBhM,EAAAA,EAAAA,KAAI,MAAO,CAC3BC,IAAKsL,KACUvL,EAAAA,EAAAA,KAAIsG,EAAK,MAAsBtG,EAAAA,EAAAA,KAAI0J,EAAAA,QAAAA,SAAgB,MAAsB1J,EAAAA,EAAAA,KAAIwH,GAAc,CAC1GhB,OAAAA,EACAkB,KAAM,SACNG,SAAU,eACVjI,KAAM,SACP,sBAAuBmM,GAAYjJ,KAAyB9C,EAAAA,EAAAA,KAAI0J,EAAAA,QAAAA,SAAgB,MAAsB1J,EAAAA,EAAAA,KAAIwL,GAAS,CAClHC,OAAQ,KACQzL,EAAAA,EAAAA,KAAIwH,GAAc,CAClChB,OAAAA,EACAiB,QAASmB,EACTzB,SAAU,YACVU,SAAU,kBACVjI,KAAM,SACP,YAA4BI,EAAAA,EAAAA,KAAIwL,GAAS,CACxCC,OAAQ,KACQzL,EAAAA,EAAAA,KAAIwH,GAAc,CAClChB,OAAAA,EACAiB,QAASqG,EACT3G,SAAU,UACVU,SAAU,sBACVjI,KAAM,SACP,aAAcmM,IAA4B/L,EAAAA,EAAAA,KAAIsG,EAAK,MAAsBtG,EAAAA,EAAAA,KAAI,SAAU,CACtFyH,QAAS,SAACuB,GACNA,EAAEC,iBACFyE,EAAcrD,GAClB,EACApK,IAAKqL,GACL,iBAAkB,4BACnB,MAAsBtL,EAAAA,EAAAA,KAAI,SAAU,CACnCyH,QAAS,SAACuB,GACNA,EAAEC,iBACFyE,EAAcnD,GAClB,EACAtK,IAAKqL,GACL,iBAAkB,8BACnB,MAAsBtL,EAAAA,EAAAA,KAAI,SAAU,CACnCyH,QAAS,SAACuB,GACNA,EAAEC,iBACFyE,EAAclD,GAClB,EACAvK,IAAKqL,GACL,iBAAkB,qCACpB,OAA6BtL,EAAAA,EAAAA,KAAI,SAAU,CACzCyH,QAAS,SAACuB,GACNA,EAAEC,iBACFyE,EAAcjD,GAClB,EACAxK,IAAKqL,GACL,iBAAkB,4BACpB,OAAwBtL,EAAAA,EAAAA,KAAI,SAAU,CACpCyH,QAAS,SAACuB,GACNA,EAAEC,iBACFyE,EAAchD,GAClB,EACAzK,IAAKqL,GACL,iBAAkB,6BACnB,MAAsBtL,EAAAA,EAAAA,KAAI,SAAU,CACnCyH,QAAS,SAACuB,GACNA,EAAEC,iBA9OY,WAClB,IAAM7G,EAAMwM,OAAO,YAAa,eAChC,GAAY,OAARxM,EAAJ,CAEA,IAAMwL,EAAkBV,IACxB,GAAKU,EAAL,CAEA,IAAQN,EAA8CM,EAA9CN,YAAaE,EAAiCI,EAAjCJ,kBAAmBC,EAAcG,EAAdH,UACxCtB,EAAQmB,EAAYO,OA5EL,SAACzL,EAAKyM,GAAe,yBAAiBzM,EAAG,4BAAoByM,GAAoCzM,EAAG,QA4ExF0M,CAAe1M,EAAKoL,GAAoBC,GAFzD,CAHA,CAMd,CAsOQsB,EACJ,EACA9O,IAAKqL,GACL,iBAAkB,4BACnB,WAAYiB,IAA+BvM,EAAAA,EAAAA,KAAImK,GAAW,CACzDC,YAAa5B,IAErB,EAIMwG,GAAqD,CACvD5I,KAAM,SACNC,OAAQ,sDAMN4I,GAAqD,CACvD7I,KAAM,UACNC,OAAQ,+CAMN6I,IAA4BjP,EAAAA,EAAAA,KAAI,sDAAuD+H,EAAAA,EAAAA,GAAU,MAAOZ,EAAAA,GAAAA,QAAiB,CAC3HC,WAAY,SACZ,IAAwE,IACtE8H,IAA4BlP,EAAAA,EAAAA,KAAI,QAASmP,EAAAA,GAAAA,KAAY,IAAwE,IAC7HC,IAA6BpP,EAAAA,EAAAA,KAAI,SAAUmP,EAAAA,GAAAA,KAAY,IAAyE,IAChIE,IAAoCrP,EAAAA,EAAAA,KAAI,SAAUqH,EAAAA,GAAAA,GAAY,IAAgF,IAC9IiI,GAAgB,WAAH,OAAyBvP,EAAAA,EAAAA,KAAI,MAAO,CACnDC,IAAK+O,KACUhP,EAAAA,EAAAA,KAAI,MAAO,CAC1ByJ,MAAO,KACPiF,OAAQ,KACRc,QAAS,YACTvP,IAAK,CAACgP,GAAYE,GAAmD,MACtDnP,EAAAA,EAAAA,KAAI,OAAQ,CAC3ByP,EAAG,6CACazP,EAAAA,EAAAA,KAAI,OAAQ,CAC5B0P,KAAMpI,EAAAA,GAAAA,KACNmI,EAAG,mOACczP,EAAAA,EAAAA,KAAI,IAAK,CAC1BC,IAAK,CAACiP,GAAWG,GAAoD,KACtE,SAAU,EACPM,GAAsB,WAAH,OAAyB3P,EAAAA,EAAAA,KAAI,MAAO,CACzDC,IAAK+O,KACUhP,EAAAA,EAAAA,KAAI,MAAO,CAC1ByJ,MAAO,KACPiF,OAAQ,KACRc,QAAS,YACTvP,IAAK,CAACgP,GAAYE,GAAmD,MACtDnP,EAAAA,EAAAA,KAAI,OAAQ,CAC3ByP,EAAG,6CACazP,EAAAA,EAAAA,KAAI,OAAQ,CAC5B0P,KAAMpI,EAAAA,GAAAA,KACNmI,EAAG,mOACczP,EAAAA,EAAAA,KAAI,IAAK,CAC1BC,IAAK,CAACiP,GAAWG,GAAoD,KACtE,eAAgB,EACbO,GAAe,WAAH,OAAyB5P,EAAAA,EAAAA,KAAI,MAAO,CAClDC,IAAK+O,KACUhP,EAAAA,EAAAA,KAAI,MAAO,CAC1ByJ,MAAO,KACPiF,OAAQ,KACRc,QAAS,YACTvP,IAAKgP,KACUjP,EAAAA,EAAAA,KAAI,OAAQ,CAC3ByP,EAAG,6CACazP,EAAAA,EAAAA,KAAI,OAAQ,CAC5B0P,KAAMpI,EAAAA,GAAAA,KACNmI,EAAG,mOACczP,EAAAA,EAAAA,KAAI,IAAK,CAC1BC,IAAK,CAACiP,GAAWI,GAA2D,KAC7E,iBAAkB,EACfO,IAA8B5P,EAAAA,EAAAA,KAAImH,EAAAA,GAAAA,QAAiB,CACrDC,WAAY,UACZ,4BAA6BC,EAAAA,GAAAA,IAAa,2BAAiG,IACzIwI,GAAiB,SAACC,EAAaC,GAAU,OAAqB/P,EAAAA,EAAAA,KAAI,UAAW8P,IAAgBC,EAAa,UAAY,UAAW,sDAAuDD,EAAcX,EAAAA,GAAAA,KAAa9H,EAAAA,GAAAA,IAAa,sCAA6G,GAAE,EAC/U2I,GAAc,SAACF,GAAW,OAAqB9P,EAAAA,EAAAA,KAAI,kEAAmE8P,EAAczI,EAAAA,GAAAA,KAAeA,EAAAA,GAAAA,IAAa,4BAAkG,GAAE,EACpQ4I,GAAsB,SAAH,GAAmG,IAA7FrM,EAAS,EAATA,UAAWsM,EAAY,EAAZA,aAAcC,EAAkB,EAAlBA,mBAAoBJ,EAAU,EAAVA,WAAYK,EAAe,EAAfA,gBAAiBC,EAAW,EAAXA,YACrG,GAA0B/H,EAAAA,EAAAA,UAAS4H,GAAa,eAAzCI,EAAK,KAAEC,EAAQ,KACtB,GAAsCjI,EAAAA,EAAAA,UAAS6H,GAAmB,eAA3DL,EAAW,KAAEU,EAAc,KAalC,OAAuBzQ,EAAAA,EAAAA,KAAIsG,EAAK,MAAsBtG,EAAAA,EAAAA,KAAI,MAAO,CAC7DC,IAAK4P,IACNU,IAAwBvQ,EAAAA,EAAAA,KAAI,SAAU,CACrCC,IAAK6P,GAAeC,EAAaC,GACjCvI,QAAS,kBAdT+I,EADME,EAAWH,EAAQ,GAEzBE,GAAe,QACKH,GAAerM,GACvBJ,GAAWvB,MAAK,SAACqO,GACpBA,IACDH,EAASE,EAAW,GACpBD,EAAeL,GAEvB,IAVmB,IACbM,CAeyB,EAC/BE,SAAUb,IAAgBC,GAAcK,EACxC,iBAAkB,oBAClB,aAAc,sBACCrQ,EAAAA,EAAAA,KAAI,MAAO,CAC1BC,IAAKgQ,GAAYF,KACF/P,EAAAA,EAAAA,KAAIN,EAAoB,QAC/C,EAIMmR,IAA8B5Q,EAAAA,EAAAA,KAAI,8BAA+BqH,EAAAA,GAAAA,IAAa,2FAA4FU,EAAAA,EAAAA,GAAU,6BAA8BZ,EAAAA,GAAAA,UAAoB,IAA0E,IAIhT0J,IAA+B7Q,EAAAA,EAAAA,KAAI,oDAAqD+H,EAAAA,EAAAA,GAAU,4DAA6DA,EAAAA,EAAAA,GAAU,iCAAkCV,EAAAA,GAAAA,IAAa,KAA4E,IACpSyJ,GAA6D,CAC/D3K,KAAM,SACNC,OAAQ,aAMR2K,GAAiD,CACjD5K,KAAM,UACNC,OAAQ,+BAMR4K,GAAkD,CAClD7K,KAAM,SACNC,OAAQ,mBAMN6K,GAAkB,SAAH,GAAkD,IAA5CrN,EAAS,EAATA,UAAWsN,EAAiB,EAAjBA,kBAAmB3K,EAAM,EAANA,OAC/C4K,GAAW1E,EAAAA,EAAAA,QAAO,MACpB2E,EAAe,KACfC,EAAc,MAClB3I,EAAAA,EAAAA,YAAU,WACDyI,EAASjE,UAEdkE,EAAeD,EAASjE,QAAQH,cAAc,2BAC9CsE,EAAcF,EAASjE,QAAQH,cAAc,yCACjD,GAAG,CAACoE,KACJzI,EAAAA,EAAAA,YAAU,WACN0I,GAAgBA,EAAapE,OACjC,GAAG,CAACoE,KACJ1I,EAAAA,EAAAA,YAAU,WAMNkE,SAAS0E,iBAAiB,aALD,SAACvI,GAClBoI,EAASjE,UAAYiE,EAASjE,QAAQqE,SAASxI,EAAEQ,SACjD2H,GAER,GAEJ,GAAG,CAACC,EAAUD,KACdxI,EAAAA,EAAAA,YAAU,WACN,IAAM8I,EAAc,SAACzI,GACjB,GAAkB,KAAdA,EAAE0I,QACFP,SAEC,GAAkB,IAAdnI,EAAE0I,QAAe,CACtB,IAAKL,IAAiBC,EAClB,OACCtI,EAAE2I,UAAY9E,SAAS+E,gBAAkBN,IAC1CD,GAAgBA,EAAapE,QAC7BjE,EAAEC,kBAEFD,EAAE2I,UAAY9E,SAAS+E,gBAAkBP,IACzCC,GAAeA,EAAYrE,QAC3BjE,EAAEC,iBAEV,CACJ,EAEA,OADA4D,SAAS0E,iBAAiB,UAAWE,GAC9B,kBAAM5E,SAASgF,oBAAoB,UAAWJ,EAAa,CACtE,IACA,OAA0ClJ,EAAAA,EAAAA,UAAS,CAC/CzE,WAAY,EACZE,OAAQ,GACRD,MAAO,KACT,eAJK+N,EAAa,KAAEC,EAAgB,KAKhCC,EAAoB,CACtBlO,WAAY,GACZE,OAAQ,GACRD,MAAO,GACP+E,SAAU,IAEd,GAA4BP,EAAAA,EAAAA,UAASyJ,GAAkB,eAAhD5D,EAAM,KAAE6D,EAAS,KACxB,GAA4C1J,EAAAA,EAAAA,YAAU,eAA/C2J,EAAc,KAAEC,EAAiB,KAClCpJ,EAAQ,mCAAG,WAAOqJ,GAAK,6EAGI,GAF7BA,EAAMnJ,iBACEnF,EAA8BgO,EAA9BhO,WAAYE,EAAkB8N,EAAlB9N,OAAQD,EAAU+N,EAAV/N,MAC5BkO,EAAUD,GACLlO,EAAW,CAAD,eAIR,OAHHmO,EAAU,EAAD,KACF7D,GAAM,IACTtK,WAAY,kDACb,0CAGgBF,EAAY,CAC/BE,WAAAA,EACAE,OAAAA,EACAD,MAAAA,EACAF,UAAAA,IACD,KAAD,EACsB,QANlBiF,EAAQ,QAMD1D,OACT6M,EAAU,EAAD,KACF7D,GAAM,IACTtF,SAAUA,EAASoF,WAIvBiE,EAAkB,oBACrB,4CACJ,gBA1Ba,sCA2BRE,EA9GY,SAAC7L,GAAM,OAAqBvG,EAAAA,EAAAA,KAAI,SAAU0G,GAAQJ,GAAeC,IAAS,KAAM,IAAKY,EAAAA,GAAAA,MAAe,CACtHC,WAAY,SACZ,IAA0E,GAAE,CA4GnDiL,CAAc9L,GACvC,OAAuBxG,EAAAA,EAAAA,KAAI,MAAO,CAC9B,aAAc,OACdwO,IAAK4C,IACUpR,EAAAA,EAAAA,KAAI,OAAQ,CAC3BC,IAAK4Q,GACL9H,SAAAA,IACe/I,EAAAA,EAAAA,KAAI,MAAO,CAC1BC,IAAK6Q,KACU9Q,EAAAA,EAAAA,KAAI,QAAS,CAC5BC,IAAKoS,EACLE,QAAS,YACV,aAA6BvS,EAAAA,EAAAA,KAAI,SAAU,CAC1CoG,KAAM,WACNrB,GAAI,WACJwE,SAAU,SAACP,GAAC,OAAK+I,EAAiB,EAAD,KAC1BD,GAAa,IAChBhO,WAAY0O,OAAOxJ,EAAEQ,OAAOF,SAC9B,EACFA,MAAOwI,EAAchO,aACN9D,EAAAA,EAAAA,KAAI,SAAU,CAC7BsJ,MAAO,KACR,kBAAkCtJ,EAAAA,EAAAA,KAAI,SAAU,CAC/CsJ,MAAO,KACR,mBAAmCtJ,EAAAA,EAAAA,KAAI,SAAU,CAChDsJ,MAAO,KACR,cAA8BtJ,EAAAA,EAAAA,KAAI,SAAU,CAC3CsJ,MAAO,KACR,gBAAgCtJ,EAAAA,EAAAA,KAAI,SAAU,CAC7CsJ,MAAO,KACR,aAA6BtJ,EAAAA,EAAAA,KAAI,SAAU,CAC1CsJ,MAAO,KACR,gBAAgCtJ,EAAAA,EAAAA,KAAI,SAAU,CAC7CsJ,MAAO,KACR,mCAAmDtJ,EAAAA,EAAAA,KAAI,SAAU,CAChEsJ,MAAO,KACR,cAA8BtJ,EAAAA,EAAAA,KAAI,SAAU,CAC3CsJ,MAAO,KACR,SAAyBtJ,EAAAA,EAAAA,KAAI,SAAU,CACtCsJ,MAAO,KACR,UAAW8E,EAAOtK,aAA8B9D,EAAAA,EAAAA,KAAI,OAAQ,CAC3DC,IAAK8Q,IACN3C,EAAOtK,cAA8B9D,EAAAA,EAAAA,KAAI,MAAO,CAC/CC,IAAK6Q,KACU9Q,EAAAA,EAAAA,KAAI,QAAS,CAC5BC,IAAKoS,EACLE,QAAS,UACV,sBAAsCvS,EAAAA,EAAAA,KAAI,WAAY,CACrDoG,KAAM,SACNrB,GAAI,SACJwE,SAAU,SAACP,GAAC,OAAK+I,EAAiB,EAAD,KAC1BD,GAAa,IAChB9N,OAAQgF,EAAEQ,OAAOF,QACnB,EACFA,MAAOwI,EAAc9N,SACrBoK,EAAOpK,SAA0BhE,EAAAA,EAAAA,KAAI,OAAQ,CAC7CC,IAAK8Q,IACN3C,EAAOpK,UAA0BhE,EAAAA,EAAAA,KAAI,MAAO,CAC3CC,IAAK6Q,KACU9Q,EAAAA,EAAAA,KAAI,QAAS,CAC5BC,IAAKoS,EACLE,QAAS,SACV,qBAAqCvS,EAAAA,EAAAA,KAAI,QAAS,CACjD0H,KAAM,QACNtB,KAAM,QACNrB,GAAI,QACJwE,SAAU,SAACP,GAAC,OAAK+I,EAAiB,EAAD,KAC1BD,GAAa,IAChB/N,MAAOiF,EAAEQ,OAAOF,QAClB,EACFA,MAAOwI,EAAc/N,QACrBqK,EAAOrK,QAAyB/D,EAAAA,EAAAA,KAAI,OAAQ,CAC5CC,IAAK8Q,IACN3C,EAAOrK,SAAyB/D,EAAAA,EAAAA,KAAI,MAAO,MAAsBA,EAAAA,EAAAA,KAAI8H,EAAAA,EAAQ,CAC5EJ,KAAM,SACN9H,KAAM,QACN,iBAAkB,qBACnB,UAAWwO,EAAOtF,WAA4B9I,EAAAA,EAAAA,KAAI,OAAQ,CACzDC,IAAK,CAAC8Q,GAAoBE,GAAiD,KAC5E7C,EAAOtF,UAAWoJ,IAAkClS,EAAAA,EAAAA,KAAI,OAAQ,CAC/DC,IAAK+Q,IACNkB,KAAkClS,EAAAA,EAAAA,KAAI,MAAO,CAC5CC,KAAqBA,EAAAA,EAAAA,KAAI,2BAA4B+H,EAAAA,EAAAA,GAAU,UAAWA,EAAAA,EAAAA,GAAU,MAAgF,MACrJhI,EAAAA,EAAAA,KAAI8H,EAAAA,EAAQ,CAC3B,kBAAmB,cACnBlI,KAAM,QACNgI,SAAU,QACVD,MAAsB3H,EAAAA,EAAAA,KAAIyS,EAAAA,EAAU,MACpChL,QAAS0J,EACT,iBAAkB,sBAClBuB,WAAW,GACZ,8BACP,EACMC,GAAiB,CACnB,EAAG,MACH,EAAG,MACH,EAAG,MACH,EAAG,MACH,EAAG,MACH,EAAG,MACH,EAAG,MACH,EAAG,MACH,EAAG,MACH,EAAG,MACH,GAAI,MACJ,GAAI,OAOFC,GAAgB,SAACC,GACnB,IAAM7N,EAAO,IAAIC,KAAK4N,GACtB,OAPgB,SAAC7N,GACjB,IACM8N,EADYC,KAAKC,OAAM,IAAI/N,MAAOgO,UAAY,KACb,MACvC,OAAOjO,EAAKiO,WAAa,IAAIhO,KAA0B,IAArB6N,GAA0BG,SAChE,CAGQC,CAAYlO,IACLmO,EAAAA,EAAAA,GAAQnO,EAAKiO,UAAW,CAC3BG,SAAS,EACTC,kBAAmB,IAGrB,GAAN,OAAUrO,EAAKsO,UAAS,YAAIX,GAAe3N,EAAKuO,YAAW,YAAIvO,EAAKwO,cAAa,YAAIxO,EAAKyO,WAAU,YAAIzN,OAAOhB,EAAK0O,cAAcC,SAAS,EAAG,KAClJ,EAmBMC,IAA+B3T,EAAAA,EAAAA,KAAI,SAAUqH,EAAAA,GAAAA,IAAa,kEAAuI,IACjMuM,IAA6B5T,EAAAA,EAAAA,KAAImH,EAAAA,GAAAA,QAAiB,CACpDC,WAAY,UACZ,gEAAqI,IACnIyM,GAAY,SAAH,GAA8D,IAtBxDC,EAAUC,EACrBC,EAqBW/O,EAAW,EAAXA,YAAaG,EAAM,EAANA,OAAQxB,EAAS,EAATA,UAAWqQ,EAAgB,EAAhBA,iBACjD,GAA+B3L,EAAAA,EAAAA,UAASqK,GAAc1N,IAAa,eAA5DiP,EAAQ,KAAEC,EAAU,KAI3B,OA3BiBL,EAwBL,WACRK,EAAWxB,GAAc1N,GAC7B,EA1B2B8O,EA0BxB,KAzBGC,GAAgBvH,EAAAA,EAAAA,WACtB/D,EAAAA,EAAAA,YAAU,WACNsL,EAAc9G,QAAU4G,CAC5B,GAAG,CAACA,KACJpL,EAAAA,EAAAA,YAAU,WAMF,IAAI5D,EAAKsP,aALb,YAEIC,EADwBL,EAAc9G,UAE1C,GAE+B6G,GAC3B,OAAO,kBAAMO,cAAcxP,EAAI,CAIvC,GAAG,CAACiP,KAWmBhU,EAAAA,EAAAA,KAAI,IAAK,CAC5B4J,KAAMvE,EACNpF,IAAK2T,GACL,iBAAkB,4BAClBnM,QAAS,SAACuB,GACNkL,EAAiBrQ,GACjBmF,EAAEC,gBACN,EACAa,IAAK,aACU9J,EAAAA,EAAAA,KAAI,OAAQ,CAC3BwU,SAAUtP,EAAY/B,WACtBlD,IAAK4T,IACNM,GACP,EACMM,GAAc,SAAC7U,GAAI,OAAqBK,EAAAA,EAAAA,KAAI,iBAAkBL,EAAO,GAAI,YAAaA,EAAM,aAAcA,EAAM,MAA4E,GAAE,EAC9L8U,GAAS,SAAH,GAAyF,IAAD,IAAlFC,SAAAA,OAAQ,MAAG,8CAA6C,EAAElQ,EAAW,EAAXA,YACxE,OADyF,EAAJ7E,MAEjF,IAAK,QACD,OAAuBI,EAAAA,EAAAA,KAAI,MAAO,CAC9B4U,IAAKD,EACLE,IAAKpQ,EACLxE,IAAKwU,GAAY,MAEzB,IAAK,QACD,OAAuBzU,EAAAA,EAAAA,KAAI,MAAO,CAC9B4U,IAAKD,EACLE,IAAKpQ,EACLxE,IAAKwU,GAAY,MAGzB,QACI,OAAuBzU,EAAAA,EAAAA,KAAI,MAAO,CAC9B4U,IAAKD,EACLE,IAAKpQ,EACLxE,IAAKwU,GAAY,MAGjC,EAIIK,GAAiD,CACjD1O,KAAM,UACNC,OAAQ,sCAMN0O,GAAS,SAAH,OAAM5U,EAAQ,EAARA,SAAQ,OAAuBH,EAAAA,EAAAA,KAAI,MAAO,CACxDC,IAAK6U,IACN3U,EAAU,EAQP6U,GAAsB,SAACxO,GAAM,OAAqBvG,EAAAA,EAAAA,KAAI,qBAAsBmH,EAAAA,GAAAA,MAAe,CAC7FC,WAAY,SACZ,iBAAkBW,EAAAA,EAAAA,GAAU,YAAarB,GAAQJ,GAAeC,IAAS,KAAM,sEAAuEG,GAAQJ,GAAeC,IAAS,KAAM,oDAAqDG,GAAQJ,GAAeC,IAAS,KAAM,OAAqF,GAAE,EAC5WyO,GAAuD,CACzD7O,KAAM,UACNC,OAAQ,8CAMN6O,IAA6BjV,EAAAA,EAAAA,KAAI,4BAA6BmH,EAAAA,GAAAA,QAAkB,eAAgB+N,EAAAA,EAAAA,GAAa,kBAAmBA,EAAAA,EAAAA,GAAa,uDAAwDnN,EAAAA,EAAAA,GAAU,6BAA8BA,EAAAA,EAAAA,GAAU,oBAAqBA,EAAAA,EAAAA,GAAU,kBAAmBA,EAAAA,EAAAA,GAAU,mBAAoBA,EAAAA,EAAAA,GAAU,mBAAoBA,EAAAA,EAAAA,GAAU,YAAaV,EAAAA,GAAAA,IAAa,wFAA6J,IACtiB8N,IAAuCnV,EAAAA,EAAAA,KAAI,SAAUqH,EAAAA,GAAAA,IAAa,IAAKF,EAAAA,GAAAA,UAAoB,IAAmF,IAC9KiO,IAAqCpV,EAAAA,EAAAA,KAAI,WAAYmP,EAAAA,GAAAA,KAAY,4DAAyI,IAC1MkG,IAAiCrV,EAAAA,EAAAA,KAAI,wBAAyBsV,EAAAA,GAAAA,UAAkB,yBAA0BvN,EAAAA,EAAAA,GAAU,QAAiF,IACrMwN,IAAmCvV,EAAAA,EAAAA,KAAI,oBAAqBqH,EAAAA,GAAAA,IAAa,iBAAkBU,EAAAA,EAAAA,GAAU,mBAAoBA,EAAAA,EAAAA,GAAU,oBAAqBA,EAAAA,EAAAA,GAAU,oBAAqBA,EAAAA,EAAAA,GAAU,MAA+E,IAChRyN,IAAiCxV,EAAAA,EAAAA,KAAI,gBAAiB+H,EAAAA,EAAAA,GAAU,MAAO0N,EAAAA,GAAAA,gBAAuB,kBAAyF,IACvLC,GAAe,SAACnP,GAAM,OAAqBvG,EAAAA,EAAAA,KAAI,WAAY0G,GAAQJ,GAAeC,IAAS,KAAM,0BAA2BG,GAAQJ,GAAeC,IAAS,KAAM,iBAAkBG,GAAQJ,GAAeC,IAAS,KAAM,0BAA2BG,GAAQJ,GAAeC,IAAS,KAAM,MAA6E,GAAE,EAC1WoP,IAA2B3V,EAAAA,EAAAA,KAAI,KAAMmH,EAAAA,GAAAA,MAAe,CACtDC,WAAY,SACZ,KAAwE,IACtEwO,IAA8B5V,EAAAA,EAAAA,KAAI,KAAMmH,EAAAA,GAAAA,QAAkB,KAA2E,IACrI0O,IAAgC7V,EAAAA,EAAAA,KAAI,YAAaqH,EAAAA,GAAAA,IAAa,eAAuF,IACrJyO,GAAyD,CAC3D3P,KAAM,SACNC,OAAQ,0BAMN2P,GAAuD,CACzD5P,KAAM,SACNC,OAAQ,iEAMN4P,GAAsD,CACxD7P,KAAM,SACNC,OAAQ,kCAMN6P,IAAyCjW,EAAAA,EAAAA,KAAI,eAAgB+H,EAAAA,EAAAA,GAAU,mFAAoK,IAC3OmO,IAA2ClW,EAAAA,EAAAA,KAAIyV,EAAAA,GAAAA,gBAAuB,kBAAqG,IAC3KU,IAA2CnW,EAAAA,EAAAA,KAAIoW,EAAAA,GAAAA,gBAAsB,kBAAqG,IAC1KC,GAAyD,CAC3DlQ,KAAM,SACNC,OAAQ,qCAMNkQ,GAA8D,CAChEnQ,KAAM,UACNC,OAAQ,6DAMNmQ,IAAoCvW,EAAAA,EAAAA,KAAIyV,EAAAA,GAAAA,gBAAuB,sEAAkJ,IACjNe,GAA+B,SAACjQ,GAAM,OAAqBvG,EAAAA,EAAAA,KAAI,gBAAiB0G,GAAQJ,GAAeC,IAAS,KAAM,oIAAqIG,GAAQJ,GAAeC,IAAS,KAAM,MAA2F,GAAE,EAC9XkQ,IAAyCzW,EAAAA,EAAAA,KAAI,gBAAiBqH,EAAAA,GAAAA,IAAa,oIAAqIA,EAAAA,GAAAA,IAAa,MAAqF,IAClTuC,GAAkD,CACpDzD,KAAM,SACNC,OAAQ,wBAMNsQ,IAA2C1W,EAAAA,EAAAA,KAAIyV,EAAAA,GAAAA,gBAAuB,IAAKa,GAAqB,sCAAyH,IACzNK,IAA0C3W,EAAAA,EAAAA,KAAIyV,EAAAA,GAAAA,gBAAuB,IAAKa,GAAqB,+BAAiH,IAChNM,GAAU,SAAH,OAAMpL,EAAM,EAANA,OAAM,OAAuBzL,EAAAA,EAAAA,KAAI,MAAO,CACvDC,KAAqBA,EAAAA,EAAAA,KAAI,SAAU+H,EAAAA,EAAMyD,GAAS,MAAsE,KACzH,EACCqL,GAA+C,CAC/C1Q,KAAM,SACNC,OAAQ,qBAMR0Q,GAAgD,CAChD3Q,KAAM,SACNC,OAAQ,aAMN2Q,GAAU,SAAH,GAA8K,IAxGjL7U,EAwGkB8U,EAAQ,EAAjB5T,QAAmBmD,EAAM,EAANA,OAAQ0Q,EAAmB,EAAnBA,oBAAqBtL,EAAwB,EAAxBA,yBAA0B/G,EAAI,EAAJA,KAAMsS,EAAO,EAAPA,QAASC,EAAa,EAAbA,cAAeC,EAAO,EAAPA,QAASC,EAAgB,EAAhBA,iBAAkBpD,EAAgB,EAAhBA,iBAAkB5D,EAAW,EAAXA,YACpK,GAA0C/H,EAAAA,EAAAA,UAAS0O,EAASzR,eAAc,eAAnEA,EAAa,KAAE+R,EAAgB,KACtC,GAA0BhP,EAAAA,EAAAA,YAAU,eAA7B5F,EAAK,KAAEyJ,EAAQ,KACtB,GAAkD7D,EAAAA,EAAAA,WAAS,GAAM,eAA1DiP,EAAmB,KAAEC,EAAkB,KACxCtG,EAAoB,WAAH,OAASsG,GAAoBD,EAAqB,EACnEE,EAAI,mCAAG,oFACI,OAAbtL,EAAS,IAAI,SACU1H,EAAYuS,EAASlS,IAAI,KAAD,EACvB,WADlB+D,EAAQ,QACD1D,OACTgH,EAAStD,EAASoF,SAGlBqJ,GAAiB,GACpB,2CACJ,kBATS,mCAUJI,EAAM,mCAAG,oFACE,OAAbvL,EAAS,IAAI,SACUzH,EAAcsS,EAASlS,IAAI,KAAD,EACzB,WADlB+D,EAAQ,QACD1D,OACTgH,EAAStD,EAASoF,SAGlBqJ,GAAiB,GACpB,2CACJ,kBATW,mCAUNK,EAAiBX,EAASxR,YAAYI,MAAMgS,MAAK,SAACxW,GAAG,MAAqB,UAAhBA,EAAU,IAAa,IACjFyW,EAAoC,YAApBb,EAAS7R,QAAwBI,EACjDuS,EAAuBd,EAASxR,YAAYI,MAAMgS,MAAK,SAACxW,GAAG,MAAqB,gBAAhBA,EAAU,IAAmB,IACnG,OAAuBrB,EAAAA,EAAAA,KAAI0J,EAAAA,QAAAA,SAAgB,KAAM/G,IAAyB3C,EAAAA,EAAAA,KAAI,OAAQ,CAClFC,IAAK8W,IACNpU,IAAwB3C,EAAAA,EAAAA,KAAI,MAAO,CAClC+E,GAAG,WAAD,OAAakS,EAASlS,IACxB,cAAekS,EAASlS,GACxB9E,IAAK,CAACqV,GAAgB8B,GAAiB5B,GAA0D,MAClFxV,EAAAA,EAAAA,KAAI,MAAO,CAC1BC,IAAKwV,KACUzV,EAAAA,EAAAA,KAAI0U,GAAQ,CAC3BC,SAAUsC,EAASxR,YAAYE,OAC/BlB,YAAawS,EAASxR,YAAYhB,YAClC7E,KAAMuX,EAAU,QAAU,aACTnX,EAAAA,EAAAA,KAAI,MAAO,CAC5BC,IAAK8V,KACU/V,EAAAA,EAAAA,KAAI,SAAU,CAC7BC,IAAK+V,KACUhW,EAAAA,EAAAA,KAAI,MAAO,CAC1BC,IAAKuW,KACUxW,EAAAA,EAAAA,KAAI+U,GAAQ,MAAsB/U,EAAAA,EAAAA,KAAI,MAAO,CAC5DC,IAAK,CAACgX,EAASnR,YAAcqQ,GAA0BC,GAAkE,MAC1GpW,EAAAA,EAAAA,KAAIsG,EAAK,MAAsBtG,EAAAA,EAAAA,KAAI,MAAO,CACzDC,KAAqBA,EAAAA,EAAAA,KAAI,gBAAiB+H,EAAAA,EAAAA,GAAU,MAAwE,MAC7GhI,EAAAA,EAAAA,KAAI0U,GAAQ,CAC3BC,SAAUsC,EAASxR,YAAYE,OAC/BlB,YAAa,GACb7E,KAAM,YACWI,EAAAA,EAAAA,KAAI+U,GAAQ,MAAsB/U,EAAAA,EAAAA,KAAI,MAAO,CAC9DC,IAAK,CAAC0V,GAAanP,GAASoP,GAAUU,GAAwD,MAC/EtW,EAAAA,EAAAA,KAAI2J,EAAAA,EAAM,CACzBC,KAAMqN,EAASxR,YAAYJ,OAC3B2S,aAAcnO,GACdC,IAAK,YACNmN,EAASxR,YAAYhB,eAA+BzE,EAAAA,EAAAA,KAAI8T,GAAW,CAClE5O,YAAa+R,EAAS/R,YACtBG,OAAQ4R,EAAS5R,OACjBxB,UAAWoT,EAASlS,GACpBmP,iBAAAA,QACmBlU,EAAAA,EAAAA,KAAI,MAAO,CAC9BC,IAAK,EAAEgX,EAASnR,YAAcqQ,GAAkE,MACjFnW,EAAAA,EAAAA,KAAIsG,EAAK,MAAsBtG,EAAAA,EAAAA,KAAI,MAAO,CACzDC,IAAK,CAAC0V,GAAanP,GAASoP,GAAUe,GAAkE,MACzF3W,EAAAA,EAAAA,KAAI2J,EAAAA,EAAM,CACzBC,KAAMqN,EAASxR,YAAYJ,OAC3B2S,aAAcnO,GACdC,IAAK,YACNmN,EAASxR,YAAYhB,cAAewS,EAASnR,YAA6B9F,EAAAA,EAAAA,KAAI,MAAO,CACpFC,IAAK,CAAC0V,GAAanP,GAASqP,GAAaC,GAAec,GAAiE,MAC1G5W,EAAAA,EAAAA,KAAI2J,EAAAA,EAAM,CACzBC,KAAK,YAAD,OAAcqN,EAASnR,WAAWjC,WACtCmU,aAAcnO,GACdlC,MAAsB3H,EAAAA,EAAAA,KAAII,EAAW,MACrCwH,SAAU,OACVkC,IAAK,YACNmN,EAASnR,WAAWrB,eAAgCzE,EAAAA,EAAAA,KAAI0J,EAAAA,QAAAA,SAAgB,OAAuB1J,EAAAA,EAAAA,KAAI,MAAO,CACzGC,IAAK,CAACiW,GAAwBe,EAASnR,YAAcqQ,GAAkE,MACxGnW,EAAAA,EAAAA,KAAI8T,GAAW,CAC9B5O,YAAa+R,EAAS/R,YACtBG,OAAQ4R,EAAS5R,OACjBxB,UAAWoT,EAASlS,GACpBmP,iBAAAA,OACkBlU,EAAAA,EAAAA,KAAIsG,EAAK,KAAMsR,IAAkC5X,EAAAA,EAAAA,KAAI,MAAO,CAC9EC,IAAKgW,KACUjW,EAAAA,EAAAA,KAAIuP,GAAe,OAAQwI,IAAyBH,IAAkC5X,EAAAA,EAAAA,KAAI,MAAO,CAChHC,IAAKgW,KACUjW,EAAAA,EAAAA,KAAI2P,GAAqB,OAAQmI,IAAiC9X,EAAAA,EAAAA,KAAI,MAAO,CAC5FC,IAAKgW,KACUjW,EAAAA,EAAAA,KAAI4P,GAAc,WAAgC,YAApBqH,EAAS7R,SAAwCpF,EAAAA,EAAAA,KAAIkQ,GAAqB,CACvHrM,UAAWoT,EAASlS,GACpBoL,aAAc8G,EAAS1R,cACvB6K,oBAAoB,EACpBJ,aAAcnL,EACdyL,YAAAA,EACAD,kBAAmBxL,GAAQA,EAAKa,SAAWuR,EAASxR,YAAYC,WAC/C1F,EAAAA,EAAAA,KAAI,MAAO,CAC5BC,IAAK,CAACgX,EAASnR,YAAcqQ,GAA0BC,GAAkE,MAC1GpW,EAAAA,EAAAA,KAAIsG,EAAK,KAAMsR,IAAkC5X,EAAAA,EAAAA,KAAI,MAAO,CAC3EC,IAAKgW,KACUjW,EAAAA,EAAAA,KAAIuP,GAAe,OAAQwI,IAAyBH,IAAkC5X,EAAAA,EAAAA,KAAI,MAAO,CAChHC,IAAKgW,KACUjW,EAAAA,EAAAA,KAAI2P,GAAqB,OAAQmI,IAAiC9X,EAAAA,EAAAA,KAAI,MAAO,CAC5FC,IAAKgW,KACUjW,EAAAA,EAAAA,KAAI4P,GAAc,SAAUyH,IAA2BrX,EAAAA,EAAAA,KAAI,IAAK,CAC/EC,IAAKmV,KACUpV,EAAAA,EAAAA,KAAIsG,EAAK,MAAsBtG,EAAAA,EAAAA,KAAI0J,EAAAA,QAAAA,SAAgB,KAAM,6DAA6E1J,EAAAA,EAAAA,KAAI6W,GAAS,CAClKpL,OAAQ,KACQzL,EAAAA,EAAAA,KAAI,MAAO,CAC3BC,IAAK,CAACyW,IAAwCzW,EAAAA,EAAAA,KAAI,UAAWmH,EAAAA,GAAAA,QAAiB,CACtEC,WAAY,SACZ,KAAuE,IAA2C,MAC3GrH,EAAAA,EAAAA,KAAI8H,EAAAA,EAAQ,CAC3BX,SAAU,UACVvH,KAAM,SACN6H,QAAS,kBAAM6P,EAAiBL,EAASxR,YAAYC,OAAO,EAC5D,iBAAkB,eACnB,eAAgB2R,GAA+B,YAApBJ,EAAS7R,SAAwCpF,EAAAA,EAAAA,KAAI,IAAK,CACpFC,IAAK,CAACmV,GAAsBC,GAA4D,IACxFtL,wBAAyB,CACrBC,OAAQiN,EAASnU,SAEpBuU,GAA+B,YAApBJ,EAAS7R,SAAwCpF,EAAAA,EAAAA,KAAI0J,EAAAA,QAAAA,SAAgB,MAAsB1J,EAAAA,EAAAA,KAAI,MAAO,CAClHC,IAAK,CAACiV,GAAYG,GAA4D,IAC9EtL,wBAAyB,CACrBC,OAAQiN,EAASnU,SAEL9C,EAAAA,EAAAA,KAAI,MAAO,CAC3BC,IAAKgV,KACUjV,EAAAA,EAAAA,KAAIsG,EAAK,MAAO4Q,IAAuClX,EAAAA,EAAAA,KAAI0J,EAAAA,QAAAA,SAAgB,KAAM7E,GAAuB7E,EAAAA,EAAAA,KAAI,MAAO,CAClIC,IAAK,CAAC6V,GAAeW,GAA6BjQ,IAAyBvG,EAAAA,EAAAA,KAAI,UAAWmH,EAAAA,GAAAA,MAAe,CACjGC,WAAY,SACZ,KAAuE,IAA2C,MAC3GrH,EAAAA,EAAAA,KAAI8H,EAAAA,EAAQ,CAC3BX,SAAU,UACVM,QAAS,kBAAMmE,EAAyBqL,EAAS,EACjDtP,MAAsB3H,EAAAA,EAAAA,KAAII,EAAW,MACrCwH,SAAU,OACV,iBAAkB,oBACnB,WAA4B5H,EAAAA,EAAAA,KAAI,MAAO,CACtCC,IAAK,CAAC6V,GAAed,GAAoBxO,GAAiD,MAC3ExG,EAAAA,EAAAA,KAAI2J,EAAAA,EAAM,CACzBC,KAAK,oDAAD,OAAsDqN,EAAS5R,OAAM,aAAoC,0BA3P3GlD,EAAM,2DA2PqG,2BA1P3G,wBAAN,OAA+B8V,mBAAmB9V,MA2P9C6V,aAAcnO,GACdlC,MAAsB3H,EAAAA,EAAAA,KAAII,EAAW,MACrCwH,SAAU,OACVkC,IAAK,aACU9J,EAAAA,EAAAA,KAAI,OAAQ,CAC3B,iBAAkB,oBACnB,YAA4BA,EAAAA,EAAAA,KAAI6W,GAAS,CACxCpL,OAAQ,MACSzL,EAAAA,EAAAA,KAAI6W,GAAS,CAC9BpL,OAAQ,IACR5G,GAAQA,EAAKgB,MAAMqS,MAAK,SAAClP,GAAC,MAAgB,UAAXA,EAAE5C,IAAgB,KAAKvB,EAAKa,SAAWuR,EAASxR,YAAYC,SAA0B1F,EAAAA,EAAAA,KAAI,MAAO,CAChIC,IAAK,CAACwW,GAA6BjQ,IAAyBvG,EAAAA,EAAAA,KAAI,UAAWmH,EAAAA,GAAAA,MAAe,CAClFC,WAAY,SACZ,KAAuE,IAA2C,MAC3GrH,EAAAA,EAAAA,KAAI8H,EAAAA,EAAQ,CAC3BX,SAAU,UACVM,QAASjC,EAAgBmS,EAASD,EAClC,iBAAkBlS,EAAgB,iBAAmB,gBACtDA,EAAgB,SAAW,WAA2BxF,EAAAA,EAAAA,KAAIsG,EAAK,KAAMzB,GAAQoS,EAASxR,YAAYC,SAAWb,EAAKa,QAAyB1F,EAAAA,EAAAA,KAAI,MAAO,CACrJC,IAAK,CAACyW,IAAwCzW,EAAAA,EAAAA,KAAI,UAAWmH,EAAAA,GAAAA,UAAoB,KAAuE,IAA2C,MACpLpH,EAAAA,EAAAA,KAAI8H,EAAAA,EAAQ,CAC3BX,SAAU,UACVvH,KAAM,QACN6H,QAAS,kBAAM6P,EAAiBL,EAASxR,YAAYC,OAAO,EAC5D,iBAAkB,aACnB,UAA2B1F,EAAAA,EAAAA,KAAI0J,EAAAA,QAAAA,SAAgB,OAAuB1J,EAAAA,EAAAA,KAAI6W,GAAS,CAClFpL,OAAQ,KACQzL,EAAAA,EAAAA,KAAI,MAAO,CAC3BC,IAAK,CAACyW,IAAwCzW,EAAAA,EAAAA,KAAI,UAAWmH,EAAAA,GAAAA,UAAoB,KAAuE,IAA2C,MACpLpH,EAAAA,EAAAA,KAAI8H,EAAAA,EAAQ,CAC3BX,SAAU,UACVvH,KAAM,QACN6H,QAAS0J,EACT,iBAAkB,qBACnB,WAAYqG,IAAuCxX,EAAAA,EAAAA,KAAI,MAAO,CAC7DC,IAAK6W,KACU9W,EAAAA,EAAAA,KAAIkR,GAAiB,CACpCC,kBAAAA,EACA3K,OAAAA,EACA3C,UAAWoT,EAASlS,WAE5B,EACMoT,GAAQ,SAAH,OAAM1M,EAAM,EAANA,OAAM,OAAuBzL,EAAAA,EAAAA,KAAI,MAAO,CACrDC,KAAqBA,EAAAA,EAAAA,KAAI,SAAU+H,EAAAA,EAAMyD,GAAS,MAAsE,KACzH,EACG2M,IAA+BnY,EAAAA,EAAAA,KAAI,uBAAwBqH,EAAAA,GAAAA,IAAa,eAAsF,IAC9J+Q,IAAkCpY,EAAAA,EAAAA,KAAImH,EAAAA,GAAAA,QAAkB,qBAA+F,IACvJkR,IAA0CrY,EAAAA,EAAAA,KAAImH,EAAAA,GAAAA,MAAe,CAC/DC,WAAY,SACZ,iCAAkCW,EAAAA,EAAAA,GAAU,MAAwF,IAElIuQ,GAAOjR,EAAAA,GAAAA,IACPkR,IAA+BvY,EAAAA,EAAAA,KAAI,eAAgB+H,EAAAA,EAAAA,GAAU,qBAAsBA,EAAAA,EAAAA,GAAU,mBAAoBA,EAAAA,EAAAA,GAAU,oBAAqBA,EAAAA,EAAAA,GAAU,uBAAwBuQ,GAAM,eAF1K,GAEuM,oBAAqBE,GAAiB,4GAF7O,GAEuW,YAAaF,GAAM,eAF1X,GAEuZ,6BAA8BE,GAAiB,kBAAmBzQ,EAAAA,EAAAA,GAAU,OAA8E,IAC/jB0Q,IAAgCzY,EAAAA,EAAAA,KAAI,KAAMmH,EAAAA,GAAAA,QAAkB,iCAAkCY,EAAAA,EAAAA,GAAU,OAA+E,IACvL2Q,IAA2B1Y,EAAAA,EAAAA,KAAI,SAAUgL,EAAAA,GAAAA,cAAoB,IAAuE,IACpI2N,GAA6B,SAACpS,GAAM,OAAqBvG,EAAAA,EAAAA,KAAI,gBAAiB0G,GAAQJ,GAAeC,IAAS,KAAM,oIAAqIG,GAAQJ,GAAeC,IAAS,KAAM,MAA2F,GAAE,EAC5XqS,IAAuC5Y,EAAAA,EAAAA,KAAI,gBAAiBqH,EAAAA,GAAAA,IAAa,oIAAqIA,EAAAA,GAAAA,IAAa,MAAqF,IAChTwR,GAAsB,SAAH,GAA2C,IAArCtS,EAAM,EAANA,OAAQ1B,EAAqB,EAArBA,sBACnC,GAAsDyD,EAAAA,EAAAA,WAAS,GAAM,eAA9DwQ,EAAmB,KAAEC,EAAsB,KAClD,OAAuBhZ,EAAAA,EAAAA,KAAI0J,EAAAA,QAAAA,SAAgB,MAAsB1J,EAAAA,EAAAA,KAAIsG,EAAK,MAAsBtG,EAAAA,EAAAA,KAAI,MAAO,CACvGC,IAAKmY,KACUpY,EAAAA,EAAAA,KAAII,EAAW,QAAwBJ,EAAAA,EAAAA,KAAImY,GAAO,CACjE1M,OAAQ,KACQzL,EAAAA,EAAAA,KAAI,MAAO,CAC3BC,IAAKoY,IACNvT,EAAsBW,YAAYhB,cAA8BzE,EAAAA,EAAAA,KAAImY,GAAO,CAC1E1M,OAAQ,KACQzL,EAAAA,EAAAA,KAAI,MAAO,CAC3BC,IAAK,CAAC2Y,GAA2BpS,IAAyBvG,EAAAA,EAAAA,KAAI,UAAWmH,EAAAA,GAAAA,MAAe,CAChFC,WAAY,SACZ,KAAmF,IAA2C,MACvHrH,EAAAA,EAAAA,KAAI8H,EAAAA,EAAQ,CAC3BX,SAAU,UACVM,QAAS,kBAAMuR,GAAwBD,EAAoB,EAC3D,iBAAkBA,EAAsB,qBAAuB,sBAChEA,EAAsB,eAAiB,kBAAmBA,IAAuC/Y,EAAAA,EAAAA,KAAIiZ,GAAS,CAC7GnU,sBAAAA,EACAkU,uBAAAA,EACAD,oBAAAA,IAER,EACME,GAAU,SAAH,GAAgF,IAA1EnU,EAAqB,EAArBA,sBAAuBkU,EAAsB,EAAtBA,uBAAwBD,EAAmB,EAAnBA,oBAC9D,OAAuB/Y,EAAAA,EAAAA,KAAI,MAAO,CAC9BC,IAAKuY,KACUxY,EAAAA,EAAAA,KAAI,IAAK,CACxBC,IAAKqY,IACNxT,EAAsBW,YAAYhB,YAAa,KAAM,IAAKK,EAAsBE,KAAM,WAA2BhF,EAAAA,EAAAA,KAAI,MAAO,CAC3HC,IAAKyY,GACL3O,wBAAyB,CACrBC,OAAQlF,EAAsBhC,MAAQ,OAE1B9C,EAAAA,EAAAA,KAAI,MAAO,CAC3BC,IAAK,CAAC4Y,IAAsC5Y,EAAAA,EAAAA,KAAI,UAAWmH,EAAAA,GAAAA,QAAkB,KAAuE,IAA2C,MAChLpH,EAAAA,EAAAA,KAAI8H,EAAAA,EAAQ,CAC3BX,SAAU,UACVM,QAAS,kBAAMuR,GAAwBD,EAAoB,EAC3D,iBAAkB,iBACH/Y,EAAAA,EAAAA,KAAI,OAAQ,CAC3BC,IAAK0Y,IACN,kBACP,EAIMO,IAAgCjZ,EAAAA,EAAAA,KAAI,qCAAsC+H,EAAAA,EAAAA,GAAU,kBAAmBA,EAAAA,EAAAA,IAAW,MAA8E,IAChMmR,IAA4BlZ,EAAAA,EAAAA,KAAI,wBAAyBsV,EAAAA,GAAAA,UAAkB,IAAwE,IACnJ6D,GAAmE,CACrEhT,KAAM,UACNC,OAAQ,uCAMNgT,IAAiCpZ,EAAAA,EAAAA,KAAI,oBAAqBqH,EAAAA,GAAAA,IAAa,iBAAkBU,EAAAA,EAAAA,GAAU,mBAAoBA,EAAAA,EAAAA,GAAU,oBAAqBA,EAAAA,EAAAA,GAAU,oBAAqBA,EAAAA,EAAAA,GAAU,MAA+E,IAC9QsR,GAAuD,CACzDlT,KAAM,SACNC,OAAQ,cAMNkT,GAAmB,SAAH,GAAgP,IAAjOtC,EAAQ,EAAjB5T,QAAmBmD,EAAM,EAANA,OAAQ0Q,EAAmB,EAAnBA,oBAAqBrS,EAAI,EAAJA,KAAMnD,EAAQ,EAARA,SAAUM,EAAO,EAAPA,QAAS8C,EAAqB,EAArBA,sBAAuB8G,EAAwB,EAAxBA,yBAA0B4N,EAAiB,EAAjBA,kBAAmBC,EAAK,EAALA,MAAOnC,EAAgB,EAAhBA,iBAAkBpD,EAAgB,EAAhBA,iBAAkB5D,EAAW,EAAXA,YAAazE,EAAS,EAATA,UAAWC,EAAO,EAAPA,QAASxD,EAAS,EAATA,UACjP,GAAgCC,EAAAA,EAAAA,UAAqB,aAAZvG,GAAuB,eAAzD0X,EAAQ,KAAEC,EAAW,KAC5B,GAAkCpR,EAAAA,EAAAA,UAAS0O,EAAS/Q,WAAa,IAAG,eAA7DA,EAAS,KAAE0T,EAAY,KAC9B,GAA8BrR,EAAAA,EAAAA,WAAS,GAAM,eAAtCsR,EAAO,KAAEC,EAAU,KACpBC,EAA4B,eAAZ/X,GAOtB2G,EAAAA,EAAAA,YAAU,WACNiR,EAAa3C,EAAS/Q,WAAa,GACvC,GAAG,CAAC+Q,IACJ,IARU+C,EAiBV,OAAuBha,EAAAA,EAAAA,KAAI,MAAO,CAC9BC,IAAK,CAACuZ,IAAsBvC,EAASlS,IAAMsU,GAAwD,MACpFrZ,EAAAA,EAAAA,KAAIgX,GAAS,CAC5B3T,QAAS4T,EACTzQ,OAAAA,EACA0Q,oBAAAA,EACAtL,yBAAAA,EACA/G,KAAAA,EACAsS,SAAS,EACTE,QAASoC,EAAMQ,SAAShD,EAASxR,YAAYC,QAC7C4R,iBAAAA,EACApD,iBAAAA,EACA5D,YAAAA,KACgBtQ,EAAAA,EAAAA,KAAI0J,EAAAA,QAAAA,SAAgB,KAAMqQ,GAAiB7T,IAA6BlG,EAAAA,EAAAA,KAAI,MAAO,CACnGC,IAAKiZ,KACUlZ,EAAAA,EAAAA,KAAI,KAAM,CACzBC,IAAK,CAACmZ,GAA0BE,GAAsD,KACvFpT,EAAUzF,KAAI,SAACyZ,GAAe,OAAqBla,EAAAA,EAAAA,KAAI,KAAM,CAC5DwB,IAAK0Y,EAAgBnV,KACN/E,EAAAA,EAAAA,KAAIgX,GAAS,CAC5B3T,QAAS6W,EACT1T,OAAAA,EACA0Q,oBAAAA,EACAtL,yBAAAA,EACA/G,KAAAA,EACAsS,SAAS,EACTC,cAAeoC,IAAsBU,EAAgBnV,GACrDsS,QAASoC,EAAMQ,SAASC,EAAgBzU,YAAYC,QACpD4R,iBAAAA,EACApD,iBAAAA,IACD,MAAKwF,GAAYzC,EAASkD,UAAYlD,EAASkD,SAASC,eAAiBnD,EAASkD,SAASC,cAAgB,IAAqBpa,EAAAA,EAAAA,KAAI,MAAO,CAC1IC,IAAK,CAACkZ,IAA2BlZ,EAAAA,EAAAA,KAAI,eAAgB+H,EAAAA,EAAAA,GAAU,qBAAsBA,EAAAA,EAAAA,GAAU,MAAiF,IAA2C,MAC5MhI,EAAAA,EAAAA,KAAIwH,GAAc,CACjCL,SAAU,YACVQ,MAAsB3H,EAAAA,EAAAA,KAAIqa,EAAAA,EAAS,MACnCzS,SAAU,OACVC,SAAU,oBACVJ,QAAS,kBA9CG5D,EA8CUoT,EAASlS,GA7C/B+U,GAAW,QA3zCM,SAACjW,GACtB,IAAMzB,EAAM/B,EAAQ,CAACS,EAAQC,QAAS,UAAW8C,EAAUV,aAAe/B,EAAY,EAAD,KAC9ED,GACA,CACCY,iBAAiB,EACjBuY,kBAAkB,KAG1B,OAAOjY,MAAMD,EAAK,CACdnB,QAAQ,EAAD,GACAH,EAAQG,WAEhBqB,MAAK,SAACC,GAAI,OAAKA,EAAKC,MAAM,IAAEE,OAAM,SAACC,GAAK,OAAKC,QAAQD,MAAM,kBAAD,OAAmBP,GAAOO,EAAM,GACjG,CA+yCQ4X,CAAiB1W,GAAWvB,MAAK,SAACE,GAC9BmX,GAAY,GACZC,EAAapX,EAAKa,QAAQ6C,WAAa,GAC3C,IAAGsU,SAAQ,WACPV,GAAW,EACf,IAPW,IAACjW,CA8CsB,EAClC2C,OAAAA,EACA5G,KAAM,UACPia,EAAU,aAxDkB,KADrBG,EAAqB/C,EAASkD,UAAYlD,EAASkD,SAASC,eAAiBnD,EAASkD,SAASC,cAAgB,GAE3G,oBACJ,QAAN,OAAeJ,EAAkB,oBAsDgBlV,IAA0BA,EAAsBC,KAAOkS,EAASlS,IAAMmB,EAAU2R,MAAK,SAAC/O,GAAQ,OAAKA,EAAS/D,KAAOD,EAAsBC,EAAE,MAAMF,IAAwB7E,EAAAA,EAAAA,KAAI,MAAO,CACrO+E,GAAG,sBAAD,OAAwBD,EAAsBC,IAChD9E,IAAKiZ,KACUlZ,EAAAA,EAAAA,KAAI8Y,GAAqB,CACxCtS,OAAAA,EACA1B,sBAAAA,KACgB9E,EAAAA,EAAAA,KAAI0L,GAAa,CACjChK,SAAAA,EACA8E,OAAAA,EACAmF,aAAc,SAAC7C,GAAQ,OAAK8Q,EAAa,GAAD,eAAK1T,GAAS,CAAE4C,IAAU,EAClEjE,KAAAA,EACA+G,yBAAAA,EACA9G,sBAAAA,EACA+G,UAAAA,EACAC,QAAAA,EACAxD,UAAAA,MAER,EAIMmS,IAA6Bxa,EAAAA,EAAAA,KAAI,+EAAgF+H,EAAAA,EAAAA,GAAU,MAAOZ,EAAAA,GAAAA,QAAkB,0BAA2BY,EAAAA,EAAAA,GAAU,oBAAqBA,EAAAA,EAAAA,GAAU,kBAAmBA,EAAAA,EAAAA,GAAU,mBAAoBA,EAAAA,EAAAA,GAAU,mBAAoBA,EAAAA,EAAAA,GAAU,YAAaV,EAAAA,GAAAA,IAAa,KAA0E,IAErZoT,GAAKpT,EAAAA,GAAAA,IACLqT,GAAiB,SAACnU,GAAM,OAAqBvG,EAAAA,EAAAA,KAAI,4DAA6D0G,GAAQJ,GAAeC,IAAS,KAAM,IAA6E,GAAE,EACnOoU,IAA+B3a,EAAAA,EAAAA,KAAI,gBAAiB+H,EAAAA,EAAAA,GAAU,MAA6E,IAC3I6S,IAAgC5a,EAAAA,EAAAA,KAAI,KAAMmH,EAAAA,GAAAA,QAAkB,KAA6E,IACzI0T,GAAuD,CACzD1U,KAAM,QACNC,OAAQ,2DAMN0U,IAAuC9a,EAAAA,EAAAA,KAAI,WAAYmP,EAAAA,GAAAA,KAAY,4DAA2I,IAC9M4L,IAA8B/a,EAAAA,EAAAA,KAAImH,EAAAA,GAAAA,QAAkB,8CAA+CY,EAAAA,EAAAA,GAAU,MAA4E,IACzLiT,GAAwD,CAC1D7U,KAAM,SACNC,OAAQ,iBAMN6U,GAAqD,CACvD9U,KAAM,UACNC,OAAQ,yBAMN8U,GAAa,SAAH,OAAMhb,EAAQ,EAARA,SAAQ,OAAuBH,EAAAA,EAAAA,KAAI,MAAO,CAC5DC,KAAqBA,EAAAA,EAAAA,KAAI,4EAA6E+H,EAAAA,EAAAA,GAAU,uBAAwB0S,GAAI,qCAAsCU,GAAe,wBAAyB/E,EAAAA,GAAAA,OAAa,qDAAsDrO,EAAAA,EAAAA,GAAU,qCAhCzR,GAgC0U,mCAhC1U,GAgCyX,YAAa0S,GAAI,YAAaU,GAAe,oCAAqCpT,EAAAA,EAAAA,GAAU,OAA4E,KAChjB7H,EAAU,EACPkb,GAAM,SAAH,OAAMlb,EAAQ,EAARA,SAAQ,OAAuBH,EAAAA,EAAAA,KAAI,MAAO,KAAMG,EAAU,EACnEmb,GAAS,SAAH,OAAMnb,EAAQ,EAARA,SAAQ,OAAuBH,EAAAA,EAAAA,KAAI,MAAO,KAAMG,EAAU,EACtEob,GAAW,SAAH,OAAMpb,EAAQ,EAARA,SAAQ,OAAuBH,EAAAA,EAAAA,KAAI,MAAO,CAC1DC,KAAqBA,EAAAA,EAAAA,KAAI,0DAA2D+H,EAAAA,EAAAA,GAAU,MAAyE,KACxK7H,EAAU,EAMPqb,GAAU,SAAH,GAAmG,IAL1FC,EAKHjV,EAAM,EAANA,OAAiByQ,EAAQ,EAAjB5T,QAAmB2M,EAAU,EAAVA,WAAYK,EAAe,EAAfA,gBAAiB6D,EAAgB,EAAhBA,iBAAkB5D,EAAW,EAAXA,YACnFsH,EAAiBX,EAASxR,YAAYI,MAAMgS,MAAK,SAACxW,GAAG,MAAqB,UAAhBA,EAAU,IAAa,IACjF0W,EAAuBd,EAASxR,YAAYI,MAAMgS,MAAK,SAACxW,GAAG,MAAqB,gBAAhBA,EAAU,IAAmB,IACnG,OAAuBrB,EAAAA,EAAAA,KAAI,MAAO,CAC9BC,IAAKwa,KACUza,EAAAA,EAAAA,KAAImb,GAAY,MAAsBnb,EAAAA,EAAAA,KAAIqb,GAAK,MAAsBrb,EAAAA,EAAAA,KAAI,KAAM,CAC9FC,IAAK+a,IACN,kBAAkChb,EAAAA,EAAAA,KAAI,IAAK,CAC1CC,IAAK,CAACib,GAAYH,GAA8D,IAChFhR,wBAAyB,CACrBC,QAfUyR,EAeWxE,EAASnU,KAAM,IAdxC2Y,EAAM7a,OAckC,IAbjC6a,EAAM/a,OAAO,EAaoB,KAbR,UAC7B+a,QAcczb,EAAAA,EAAAA,KAAIsb,GAAQ,MAAsBtb,EAAAA,EAAAA,KAAI,MAAO,CAC9DC,IAAK4a,KACU7a,EAAAA,EAAAA,KAAI2J,EAAAA,EAAM,CACzBxC,SAAU,UACVyC,KAAMqN,EAAS5R,OACfoC,QAAS,SAACuB,GACNkL,EAAiB+C,EAASlS,IAC1BiE,EAAEC,gBACN,EACAa,IAAK,YACN,uBAAuC9J,EAAAA,EAAAA,KAAIub,GAAU,MAAsBvb,EAAAA,EAAAA,KAAIsG,EAAK,MAAsBtG,EAAAA,EAAAA,KAAI,MAAO,CACpHC,IAAK2a,KACU5a,EAAAA,EAAAA,KAAI0U,GAAQ,CAC3BC,SAAUsC,EAASxR,YAAYE,OAC/BlB,YAAa,GACb7E,KAAM,aACWI,EAAAA,EAAAA,KAAI+U,GAAQ,MAAsB/U,EAAAA,EAAAA,KAAI,OAAQ,CAC/DC,IAAK0a,GAAenU,KACLxG,EAAAA,EAAAA,KAAI,IAAK,CACxB4J,KAAMqN,EAASxR,YAAYJ,OAC3BpF,IAAK,CAAC6a,GAAcG,GAAuD,IAC3EnR,IAAK,YACNmN,EAASxR,YAAYhB,eAA+BzE,EAAAA,EAAAA,KAAI8T,GAAW,CAClE5O,YAAa+R,EAAS/R,YACtBG,OAAQ4R,EAAS5R,OACjBxB,UAAWoT,EAASlS,GACpBmP,iBAAAA,IACA0D,IAAkC5X,EAAAA,EAAAA,KAAIuP,GAAe,MAAOwI,IAAyBH,IAAkC5X,EAAAA,EAAAA,KAAI2P,GAAqB,SAAyB3P,EAAAA,EAAAA,KAAIkQ,GAAqB,CAClMrM,UAAWoT,EAASlS,GACpBoL,aAAc8G,EAAS1R,cACvB6K,oBAAoB,EACpBJ,WAAAA,EACAK,gBAAAA,EACAC,YAAAA,KAER,EAIMoL,GAA6D,CAC/DtV,KAAM,UACNC,OAAQ,gDAMNsV,GAAuD,CACzDvV,KAAM,SACNC,OAAQ,sBAMNuV,GAAsD,CACxDxV,KAAM,SACNC,OAAQ,qBAMNwV,GAAyD,CAC3DzV,KAAM,SACNC,OAAQ,0CAMNyV,IAAuC7b,EAAAA,EAAAA,KAAI,8CAA+CyV,EAAAA,GAAAA,OAAc,kBAAiG,IACzMqG,IAAuC9b,EAAAA,EAAAA,KAAI,cAAeoW,EAAAA,GAAAA,OAAa,kBAAiG,IACxK2F,GAAW,SAAH,GAA+E,IAAzExV,EAAM,EAANA,OAAQ3B,EAAI,EAAJA,KAAMlB,EAAQ,EAARA,SAAUqM,EAAU,EAAVA,WAAYkE,EAAgB,EAAhBA,iBAAkB5D,EAAW,EAAXA,YAChE2L,EAAkB,GAClBC,EAAmB,GAEzB,OADAvY,EAASwY,SAAQ,SAAClF,EAAUmF,GAAK,OAAKA,EAAQ,GAAM,EAAIH,EAAgBI,KAAKpF,GAAYiF,EAAiBG,KAAKpF,EAAS,KACjGjX,EAAAA,EAAAA,KAAI,MAAO,CAC9BC,IAAK4b,KACU7b,EAAAA,EAAAA,KAAI,MAAO,CAC1BC,IAAK6b,KACU9b,EAAAA,EAAAA,KAAI,MAAO,CAC1BC,IAAK,CAACyb,GAAoBC,GAAsD,KACjFM,EAAgBxb,KAAI,SAACwW,GAAQ,OAAqBjX,EAAAA,EAAAA,KAAIwb,GAAS,CAC9Dha,IAAKyV,EAASlS,GACdyB,OAAAA,EACAnD,QAAS4T,EACTjH,WAAAA,EACAK,kBAAmBxL,GAAQA,EAAKa,SAAWuR,EAASxR,YAAYC,OAChEwO,iBAAAA,EACA5D,YAAAA,GACF,MAAoBtQ,EAAAA,EAAAA,KAAI,MAAO,CAC7BC,IAAK,CAACyb,GAAoBE,GAAqD,KAChFM,EAAiBzb,KAAI,SAACwW,GAAQ,OAAqBjX,EAAAA,EAAAA,KAAIwb,GAAS,CAC/Dha,IAAKyV,EAASlS,GACdyB,OAAAA,EACAnD,QAAS4T,EACTjH,WAAAA,EACAK,kBAAmBxL,GAAQA,EAAKa,SAAWuR,EAASxR,YAAYC,OAChEwO,iBAAAA,EACA5D,YAAAA,GACF,OAAqBtQ,EAAAA,EAAAA,KAAI,MAAO,CAC9BC,IAAK8b,IACNpY,EAASlD,KAAI,SAACwW,GAAQ,OAAqBjX,EAAAA,EAAAA,KAAIwb,GAAS,CACvDha,IAAKyV,EAASlS,GACdyB,OAAAA,EACAnD,QAAS4T,EACTjH,WAAAA,EACAK,kBAAmBxL,GAAQA,EAAKa,SAAWuR,EAASxR,YAAYC,OAChEwO,iBAAAA,EACA5D,YAAAA,GACF,KACN,EAIMgM,GAA4D,CAC9DlW,KAAM,SACNC,OAAQ,qBAMNkW,IAA2Btc,EAAAA,EAAAA,KAAI,8CAA+CsV,EAAAA,GAAAA,UAAkB,+DAAgEiH,EAAAA,GAAAA,QAAoB,sBAAuB9G,EAAAA,GAAAA,OAAc,kDAAmDW,EAAAA,GAAAA,OAAa,uCAA0G,IACnYoG,GAAqD,CACvDrW,KAAM,SACNC,OAAQ,iBAgBNqW,GAAsD,CACxDtW,KAAM,UACNC,OAAQ,gBAMNsW,GAAe,SAACnW,GAAM,OAAqBvG,EAAAA,EAAAA,KAAI,uDAAwD0G,GAAQJ,GAAeC,IAAS,KAAM,yHAAgM,GAAE,EAC/UoW,IAA+B3c,EAAAA,EAAAA,KAAImH,EAAAA,GAAAA,MAAe,CACpDC,WAAY,WACZ,mFAAoFC,EAAAA,GAAAA,IAAa,mZAA0d,IACzjBuV,GAAyD,CAC3DzW,KAAM,UACNC,OAAQ,+GAMNyW,IAA8B7c,EAAAA,EAAAA,KAAImH,EAAAA,GAAAA,MAAe,CACnDC,WAAY,SACZ,UAAWC,EAAAA,GAAAA,IAAa,IAA0E,IAChGyV,GAAW,SAAH,GAA4D,IAAtDhY,EAAE,EAAFA,GAAIqE,EAAK,EAALA,MAAgB4T,EAAQ,EAAjBlc,QAAmB0F,EAAM,EAANA,OAAQyW,EAAQ,EAARA,SACtD,GAAoC1U,EAAAA,EAAAA,WAAS,GAAM,eAA5C2U,EAAU,KAAEC,EAAa,MAChCxU,EAAAA,EAAAA,YAAU,WACN,IAAMyU,EAAe,SAAChL,GACd8K,GAA6B,WAAf9K,EAAMiL,MACpBF,GAAc,EAEtB,EAEA,OADAtQ,SAAS0E,iBAAiB,UAAW6L,GAAc,GAC5C,kBAAMvQ,SAASgF,oBAAoB,UAAWuL,EAAc,CACvE,GAAG,CAACF,KACJvU,EAAAA,EAAAA,YAAU,WACN,IAAM2U,EAAiB,SAAClL,GAChB8K,IACA9K,EAAMmL,kBACNJ,GAAc,GAEtB,EAEA,OADAtQ,SAAS0E,iBAAiB,QAAS+L,GAAgB,GAC5C,kBAAMzQ,SAASgF,oBAAoB,QAASyL,EAAgB,CACvE,GAAG,CAACJ,IACJ,IAAMM,EAAU,qBAAiBzY,GAC3B0Y,EAAaT,EAASnF,MAAK,SAAC6F,GAAM,OAAKA,EAAO3R,QAAQ,IAC5D,OAAuB/L,EAAAA,EAAAA,KAAI,MAAO,CAC9BC,IAAKqc,KACUtc,EAAAA,EAAAA,KAAI,MAAO,CAC1BC,IAAK6c,IACN1T,GAAuBpJ,EAAAA,EAAAA,KAAI,SAAU,CACpCyH,QAAS,kBAAM0V,GAAeD,EAAW,EACzCjd,IAAK,CAAC2c,GAAcM,GAAcL,GAAwD,IAC1F,gBAAiBW,EACjB,gBAAiBN,EAAa,OAAS,SACxCO,EAAaA,EAAWE,MAAQ,mBAAmC3d,EAAAA,EAAAA,KAAI,KAAM,CAC5E+E,GAAIyY,EACJvd,IAAK,CAACsc,GAAUW,GAAcT,GAAoD,KACnFO,EAASvc,KAAI,SAACid,EAAQtB,GAAK,OAAqBpc,EAAAA,EAAAA,KAAI,KAAM,CACzDwB,IAAKkc,EAAOC,QACG3d,EAAAA,EAAAA,KAAI,SAAU,CAC7ByH,QAAS,kBAAMwV,EAASS,EAAOpU,MAAM,EACrCrJ,IAAK,EAxEO2Q,IAwEO8M,EAAO9M,UAxEe3Q,EAAAA,EAAAA,KAAImH,EAAAA,GAAAA,QAAkB,0BAA2BwJ,EAAWtJ,EAAAA,GAAAA,IAAcA,EAAAA,GAAAA,IAAa,mJAAoJsJ,EAAW,UAAY,UAAW,wCAAyCA,GAAQ,kDAErVtJ,EAAAA,GAAAA,IAAW,6GAOhC,IAAyE,KA+DjCoW,EAAO3R,UAAY4Q,GAAanW,GAAmB,IAAV4V,GAAeM,GAAqD,IAClJ9L,SAAU8M,EAAO3R,UAAY2R,EAAO9M,UACrC8M,EAAOC,QA1EK,IAAC/M,CA0EC,KACrB,EACMgN,IAA4B3d,EAAAA,EAAAA,KAAI,eAAgB+H,EAAAA,EAAAA,GAAU,qBAAsBA,EAAAA,EAAAA,GAAU,2BAA4BuN,EAAAA,GAAAA,UAAkB,oCAAwG,IAChPsI,IAAgC5d,EAAAA,EAAAA,KAAI,iCAAkC+H,EAAAA,EAAAA,GAAU,iEAAkEuN,EAAAA,GAAAA,UAAkB,2BAA4BvN,EAAAA,EAAAA,GAAU,aAAcA,EAAAA,EAAAA,GAAU,YAAaA,EAAAA,EAAAA,GAAU,OAA+E,IACxU8V,IAAgC7d,EAAAA,EAAAA,KAAI,iBAAkB+H,EAAAA,EAAAA,GAAU,MAA8E,IAC9I+V,GAAU,SAAH,OAAMC,EAAO,EAAPA,QAASxX,EAAM,EAANA,OAAQyX,EAAc,EAAdA,eAA4BC,GAAF,EAAVC,WAAwB,EAAZD,cAAY,OAAuBle,EAAAA,EAAAA,KAAI,MAAO,CAC1G+E,GAAI,kBACJ9E,IAAK2d,KACU5d,EAAAA,EAAAA,KAAI,MAAO,CAC1BC,IAAK6d,KACU9d,EAAAA,EAAAA,KAAI+c,GAAU,CAC7BhY,GAAI,oBACJqE,MAAO,UACP5C,OAAAA,EACA1F,QAAS,CAAC,CACF6c,MAAO,SACPrU,MAAO,SACPyC,SAA8B,WAApBiS,EAAQnc,SACnB,CACC8b,MAAO,SACPrU,MAAO,SACPyC,SAA8B,WAApBiS,EAAQnc,SACnB,CACC8b,MAAO,kBACPrU,MAAO,kBACPyC,SAA8B,oBAApBiS,EAAQnc,UAE1Bob,SAAU,SAAC3T,GAAK,OAAK2U,EAAe,EAAD,KAC5BD,GAAO,IACVnc,QAASyH,IACX,MACetJ,EAAAA,EAAAA,KAAI,MAAO,CAC5BC,IAAK4d,MACW7d,EAAAA,EAAAA,KAAI,MAAO,CAC3BC,IAAK6d,KACU9d,EAAAA,EAAAA,KAAI+c,GAAU,CAC7BhY,GAAI,qBACJqE,MAAO,WACP5C,OAAAA,EACA1F,QAAS,CAAC,CACF6c,MAAO,KACPrU,MAAO,KACPsH,SAAUsN,GAAgB,GAC1BnS,SAA+B,KAArBiS,EAAQlc,UACnB,CACC6b,MAAO,KACPrU,MAAO,KACPsH,SAAUsN,GAAgB,GAC1BnS,SAA+B,KAArBiS,EAAQlc,UACnB,CACC6b,MAAO,MACPrU,MAAO,MACPsH,SAAUsN,GAAgB,IAC1BnS,SAA+B,MAArBiS,EAAQlc,WAE1Bmb,SAAU,SAAC3T,GAAK,OAAK2U,EAAe,EAAD,KAC5BD,GAAO,IACVlc,SAAUmM,SAAS3E,KACrB,MACetJ,EAAAA,EAAAA,KAAI,MAAO,CAC5BC,IAAK4d,MACW7d,EAAAA,EAAAA,KAAI,MAAO,CAC3BC,IAAK6d,KACU9d,EAAAA,EAAAA,KAAI+c,GAAU,CAC7BhY,GAAI,mBACJqE,MAAO,kBACP5C,OAAAA,EACA1F,QAAS,CAAC,CACF6c,MAAO,YACPrU,MAAO,YACPyC,SAA8B,cAApBiS,EAAQhc,SACnB,CACC2b,MAAO,WACPrU,MAAO,WACPyC,SAA8B,aAApBiS,EAAQhc,SACnB,CACC2b,MAAO,aACPrU,MAAO,aACPyC,SAA8B,eAApBiS,EAAQhc,UAE1Bib,SAAU,SAAC3T,GAAK,OAAK2U,EAAe,EAAD,KAC5BD,GAAO,IACVhc,QAASsH,IACX,KACD,EAIC8U,GAAmB,SAACC,GAAU,OAAqBpe,EAAAA,EAAAA,KAAI,kBAAmBmH,EAAAA,GAAAA,MAAe,CAC3FC,WAAY,SACZ,2EAA4EgX,EAAa/W,EAAAA,GAAAA,KAAeA,EAAAA,GAAAA,IAAa,qBAAsB+W,EAAa/W,EAAAA,GAAAA,IAAc,cAAe,8EAA+EA,EAAAA,GAAAA,IAAa,oJAA+N,GAAE,EAChfgX,GAAsB,SAAH,OAAMD,EAAU,EAAVA,WAAU,OAAuBpe,EAAAA,EAAAA,KAAI,gBAAiB+H,EAAAA,EAAAA,GAAU,6EAA8EV,EAAAA,GAAAA,IAAa,qBAAsB+W,EAAa/W,EAAAA,GAAAA,IAAcA,EAAAA,GAAAA,KAAc,+GAAgHA,EAAAA,GAAAA,IAAa,gBAAiBA,EAAAA,GAAAA,IAAa,sCAAoH,GAAE,EACpgBiX,GAAqD,CACvDnY,KAAM,SACNC,OAAQ,2BAMNmY,GAAwD,CAC1DpY,KAAM,SACNC,OAAQ,qCAMNoY,IAAgCxe,EAAAA,EAAAA,KAAImH,EAAAA,GAAAA,QAAkB,UAAWE,EAAAA,GAAAA,IAAa,yFAA0FU,EAAAA,EAAAA,GAAU,qBAAsBA,EAAAA,EAAAA,GAAU,2BAA4BuN,EAAAA,GAAAA,UAAkB,IAAKG,EAAAA,GAAAA,gBAAuB,2BAAmG,IAC/XgJ,GAA4D,CAC9DtY,KAAM,SACNC,OAAQ,+CAMNsY,IAAiC1e,EAAAA,EAAAA,KAAImH,EAAAA,GAAAA,QAAkB,oBAAqBsO,EAAAA,GAAAA,gBAAuB,sBAA+F,IAClMkJ,GAAU,SAAH,OAAMC,EAAW,EAAXA,YAAaC,EAAc,EAAdA,eAAc,OAAuB9e,EAAAA,EAAAA,KAAI,MAAO,CAC5EC,IAAK,CAACqe,GAAoB,CAClBD,YAAY,IACZE,GAAoD,MAC7Cve,EAAAA,EAAAA,KAAI8H,EAAAA,EAAQ,CAC3BL,QAAS,kBAAMqX,EAAeD,EAAc,EAAE,EAC9C,aAAc,2BACd,iBAAiB,wBAAD,OAA0BA,EAAc,GACxDjf,KAAM,SACNuH,SAAU,YACKnH,EAAAA,EAAAA,KAAI+e,EAAAA,EAAuB,OAAQ,EAChDC,GAAO,SAAH,GAAyC,IAAnCH,EAAW,EAAXA,YAAaC,EAAc,EAAdA,eACnBG,EAAUlM,KAAKmM,IAAI,EAAGL,EAAc,GAC1C,OAAuB7e,EAAAA,EAAAA,KAAI,MAAO,CAC9BC,IAAKqe,GAAoB,CACrBD,YAAY,MAEDre,EAAAA,EAAAA,KAAI8H,EAAAA,EAAQ,CAC3BL,QAAS,kBAAMqX,EAAeG,EAAQ,EACtC,aAAc,2BACd,iBAAiB,wBAAD,OAA0BA,GAC1Crf,KAAM,SACNuH,SAAU,YACKnH,EAAAA,EAAAA,KAAImf,EAAAA,EAAsB,OACjD,EACMC,GAAa,SAAH,OAAMP,EAAW,EAAXA,YAAaC,EAAc,EAAdA,eAAgBT,EAAU,EAAVA,WAAU,OAAuBre,EAAAA,EAAAA,KAAI,SAAU,CAC9FwB,IAAKqd,EACL5e,IAAKme,GAAiBC,GACtB5W,QAAS,kBAAMqX,EAAeD,EAAY,EAC1C,iBAAiB,wBAAD,OAA0BA,IAC3CA,EAAa,EAsBVQ,GAAa,SAAH,GAA4E,IAAtElB,EAAU,EAAVA,WAAYU,EAAW,EAAXA,YAAaC,EAAc,EAAdA,eAAgBZ,EAAY,EAAZA,aAAcF,EAAO,EAAPA,QACnEsB,EAAiBnB,EAAa,GAAKU,EAAc,EACjDU,EAAmBpB,EAAa,GAAKU,EAAc,EACnDW,EAxBe,SAAH,GAAqC,IAA/BX,EAAW,EAAXA,YAAaV,EAAU,EAAVA,WACrC,OAAIU,EAAc,EACP,EACPA,EAAcV,EAAa,EACpBA,EAAa,EACjBU,EAAc,CACzB,CAkBuBY,CAAiB,CAChCZ,YAAAA,EACAV,WAAAA,IAEEuB,EArBc,SAAH,GAAqC,IAA/Bb,EAAW,EAAXA,YAAaV,EAAU,EAAVA,WACpC,OAAIU,EAAc,EACP,EACPA,EAAcV,EAAa,EACpBA,EAAa,EACjBU,CACX,CAesBc,CAAgB,CAC9Bd,YAAAA,EACAV,WAAAA,IAEEyB,EAlBc,SAAH,GAAqC,IAA/Bf,EAAW,EAAXA,YAAaV,EAAU,EAAVA,WACpC,OAAIU,EAAc,EACP,EACPA,EAAcV,EAAa,EACpBA,EACJU,EAAc,CACzB,CAYsBgB,CAAgB,CAC9BhB,YAAAA,EACAV,WAAAA,IAEE2B,EAAgB3B,EAAa,EAC7B4B,EAAgB5B,EAAa,EAC7B6B,EAAe7B,EAAa,GAAKU,EAAcV,EAAa,EAC5D8B,EAAW9B,EACX+B,EAAoB/B,EAAa,GAAKU,EAAcV,EAAa,EACjEgC,EAAoBhC,EAAa,GAAKU,IAAgBV,EACtDrc,EAAakc,EAAblc,SACFse,EAAWte,EAAW+c,EACtBwB,EAAaD,GAAYte,EAAW,GAGxC,OAFIse,EAAWlC,IACXkC,EAAWlC,IACQle,EAAAA,EAAAA,KAAI,MAAO,CAC9BC,IAAKwe,KACUze,EAAAA,EAAAA,KAAI,MAAO,CAC1BC,IAAKye,IACNY,IAAkCtf,EAAAA,EAAAA,KAAIgf,GAAM,CAC3CH,YAAAA,EACAC,eAAAA,KACgB9e,EAAAA,EAAAA,KAAIof,GAAY,CAChCP,YAAa,EACbC,eAAAA,EACAT,WAA4B,IAAhBQ,IACZU,IAAoCvf,EAAAA,EAAAA,KAAI,MAAO,CAC/CC,IAAKue,IACN,MAA2Bxe,EAAAA,EAAAA,KAAIof,GAAY,CAC1CP,YAAaW,EACbV,eAAAA,EACAT,WAAYQ,IAAgBW,IAC5BM,IAAiC9f,EAAAA,EAAAA,KAAIof,GAAY,CACjDP,YAAaa,EACbZ,eAAAA,EACAT,WAAYQ,IAAgBa,IAC5BK,IAAiC/f,EAAAA,EAAAA,KAAIof,GAAY,CACjDP,YAAae,EACbd,eAAAA,EACAT,WAAYQ,IAAgBe,IAC5BM,IAAqClgB,EAAAA,EAAAA,KAAI,MAAO,CAChDC,IAAKue,IACN,KAAWwB,IAAgChgB,EAAAA,EAAAA,KAAIof,GAAY,CAC1DP,YAAaoB,EACbnB,eAAAA,EACAT,WAAYQ,IAAgBoB,IAC5BE,IAAqCngB,EAAAA,EAAAA,KAAI4e,GAAS,CAClDC,YAAAA,EACAC,eAAAA,KACCZ,IAAgCle,EAAAA,EAAAA,KAAI,MAAO,CAC5CC,IAAK0e,IACP,cAAD,OAAoC,eAApBX,EAAQhc,QAA2B,WAAa,UAAS,YAAIqe,EAAU,eAAOD,EAAQ,eAAOlC,IAClH,EACMoC,GAAoBhZ,EAAAA,GAAAA,IACpBiZ,IAAUC,EAAAA,EAAAA,WAAS,6HAQnBC,IAAgCxgB,EAAAA,EAAAA,KAAI,aAAcsgB,GAAS,uEAAoED,GAAmB,aAAYhZ,EAAAA,GAAAA,IAAa,cAAagZ,GAAmB,yCAAgH,IAC3TI,IAAkCzgB,EAAAA,EAAAA,KAAI,2BAA4BqH,EAAAA,GAAAA,IAAa,qCAAsCU,EAAAA,EAAAA,GAAU,QAAkF,IAEjN2Y,GAAO,SAAH,OAAMjS,EAAM,EAANA,OAAQjF,EAAK,EAALA,MAAOmX,EAAU,EAAVA,WAAYC,EAAS,EAATA,UAAS,OAAuB7gB,EAAAA,EAAAA,KAAI,MAAO,CAClFC,KAAqBA,EAAAA,EAAAA,KAAI,UAAWyO,EAAQ,YAAajF,EAAK,UAAMA,EAAK,MAAO,OAAQ,kBAAmBmX,GAAc5Y,EAAAA,EAAM4Y,GAAa,kBAAmBC,GAAa7Y,EAAAA,EAAM6Y,GAAY,uBAAwBP,GAAmB,IAAKG,GAAe,IAAmE,KACjU,EACGK,GAAkB,WAAH,OAAyB9gB,EAAAA,EAAAA,KAAI,MAAO,CACrDC,IAAKygB,GACL,cAAe,qBACA1gB,EAAAA,EAAAA,KAAI,MAAO,CAC1BC,KAAkB,IARyBA,EAAAA,EAAAA,KAAI,iBAAkBL,GAAW,YAQ1D,GAR6E,aAQ7E,GARiG,uBAAwB0gB,GAAmB,iBAAkBtY,EAAAA,EAAAA,GAAU,MAAOyY,GAAe,IAA2E,QAS3QzgB,EAAAA,EAAAA,KAAI+U,GAAQ,MAAsB/U,EAAAA,EAAAA,KAAIsG,EAAK,MAAsBtG,EAAAA,EAAAA,KAAI2gB,GAAM,CAC3FjS,OAAQ,GACRjF,MAAO,IACPmX,WAAY,KACI5gB,EAAAA,EAAAA,KAAI2gB,GAAM,CAC1BjS,OAAQ,GACRjF,MAAO,IACPmX,WAAY,EACZC,UAAW,MACM7gB,EAAAA,EAAAA,KAAI2gB,GAAM,CAC3BjS,OAAQ,GACRkS,WAAY,KACI5gB,EAAAA,EAAAA,KAAI2gB,GAAM,CAC1BjS,OAAQ,GACRkS,WAAY,KACI5gB,EAAAA,EAAAA,KAAI2gB,GAAM,CAC1BjS,OAAQ,GACRjF,MAAO,IACPmX,WAAY,KACI5gB,EAAAA,EAAAA,KAAIsG,EAAK,MAAsBtG,EAAAA,EAAAA,KAAI2gB,GAAM,CACzDjS,OAAQ,GACRjF,MAAO,MACSzJ,EAAAA,EAAAA,KAAI2gB,GAAM,CAC1BjS,OAAQ,GACRjF,MAAO,GACPoX,UAAW,MACT,EAIAE,GAAuD,CACzD3a,KAAM,SACNC,OAAQ,yCAMN2a,GAAqE,CACvE5a,KAAM,SACNC,OAAQ,qDAMN4a,GAAiE,CACnE7a,KAAM,SACNC,OAAQ,mFAMN6a,GAAuD,CACzD9a,KAAM,UACNC,OAAQ,6DAMN8a,GAAkB,CACpBtf,QAAS,SACTC,SAAU,IACVE,QAAS,aAEPof,GAAa,WAAH,OAAyBphB,EAAAA,EAAAA,KAAI,MAAO,CAChDC,KAAqBA,EAAAA,EAAAA,KAAI,SAAUqH,EAAAA,GAAAA,IAAa,IAAKF,EAAAA,GAAAA,QAAkB,gBAAiBY,EAAAA,EAAAA,GAAU,mBAAoBA,EAAAA,EAAAA,GAAU,qBAAsBA,EAAAA,EAAAA,GAAU,MAA2E,KAC5O,oBAAqB,EAgFlBqZ,GAAM,SAAH,GAA4P,IAAtPtgB,EAAO,EAAPA,QAASW,EAAQ,EAARA,SAAU8E,EAAM,EAANA,OAAQ0Q,EAAmB,EAAnBA,oBAAqBoK,EAAW,EAAXA,YAAa9H,EAAiB,EAAjBA,kBAAmB+H,EAAgB,EAAhBA,iBAAkBC,EAAe,EAAfA,gBAAiB3c,EAAI,EAAJA,KAAM4c,EAAiB,EAAjBA,kBAAmB/H,EAAQ,EAARA,SAAUxF,EAAgB,EAAhBA,iBAAkBlT,EAAM,EAANA,OAAQsP,EAAW,EAAXA,YAAazE,EAAS,EAATA,UAAWC,EAAO,EAAPA,QAASxD,EAAS,EAATA,UAAWoZ,EAAQ,EAARA,SAAUxgB,EAAQ,EAARA,SACjP,GAA8BqH,EAAAA,EAAAA,UAjER,SAAH,GAAwF,IAAlFgZ,EAAgB,EAAhBA,iBAAkBC,EAAe,EAAfA,gBAAiBG,EAAkB,EAAlBA,mBACtDC,EAU0B,SAAH,GAAiC,IAC1D5f,EACAF,EACAD,EAYmBjC,EAfYsX,EAAmB,EAAnBA,oBAInC,IACIrV,EAAUggB,aAAaC,QAAQ,6BAC/B9f,EAAU6f,aAAaC,QAAQ,iCAC/BhgB,EAAW+f,aAAaC,QAAQ,+BAOpC,CALA,MAAOnf,GACH,OAAO,EAAP,KACOwe,IAAe,IAClBtf,QAASkgB,KAEjB,CAWA,SAASA,EAAqBC,GAC1B,OAAO9K,EAAsB,SAAW,QAC5C,CACA,MAAO,CACHrV,QAASA,EAAUwC,KAAK4d,MAAMpgB,GAASyH,MAAQyY,IAC/C/f,QAASA,EAAUqC,KAAK4d,MAAMjgB,GAASsH,MAAQ6X,GAAgBnf,QAC/DF,SAAUA,GAhBSlC,EAgBgByE,KAAK4d,MAAMngB,GAAUwH,MAfnD1J,EAEQ,QAATA,EACOuhB,GAAgBrf,SACJ,CAAC,GAAI,GAAI,KACZmY,SAASra,GAEtBA,EADIuhB,GAAgBrf,SALhBqf,GAAgBrf,UAcsCqf,GAAgBrf,SAEzF,CA3C+BogB,CAA4B,CACnDhL,oBAF+F,EAAnBA,sBAIhF,OAAO,EAAP,KACO0K,GAAkB,IACrB9f,SAAUyf,GAAoBK,EAAmB9f,SACjDD,QAAS2f,GAAmBI,EAAmB/f,QAC/CG,QAAwC,cAA/B4f,EAAmB5f,SAA2B2f,EAAqB,WAAaC,EAAmB5f,SAEpH,CAuD2CmgB,CAAkB,CACrDZ,iBAAAA,EACAC,gBAAAA,EACAG,qBAAsBnI,EACtBtC,oBAAAA,KACD,eALI8G,EAAO,KAAEoE,EAAU,KAM1B,GAAoC7Z,EAAAA,EAAAA,UAASmR,GAAqC,cAAzB2I,OAAOC,SAASC,MAAqB,eAAvFrF,EAAU,KAAEC,EAAa,KAChC,GAA8B5U,EAAAA,EAAAA,WAAS,GAAK,eAArCsR,EAAO,KAAEC,EAAU,KAC1B,GAAsCvR,EAAAA,EAAAA,WAAS,GAAM,eAA9Cia,EAAW,KAAEC,EAAc,KAClC,GAAoCla,EAAAA,EAAAA,UAAS,GAAE,eAAxC4V,EAAU,KAAEuE,EAAa,KAChC,GAAwBna,EAAAA,EAAAA,UAAS+Y,GAAe,GAAE,eAA3Cpf,EAAI,KAAEygB,GAAO,KACpB,IAA0Bpa,EAAAA,EAAAA,UAAS,IAAG,iBAA/Bqa,GAAK,MAAEC,GAAQ,MACtB,IAA0Dta,EAAAA,EAAAA,YAAU,iBAA7DzD,GAAqB,MAAE8G,GAAwB,MACtD,IAAgCrD,EAAAA,EAAAA,UAAS,IAAG,iBAArC5E,GAAQ,MAAEmf,GAAW,MAC5B,IAA4Dva,EAAAA,EAAAA,UAAS,IAAG,iBAAjEwa,GAAsB,MAAEC,GAAyB,MACxD,IAAwCza,EAAAA,EAAAA,UAAS,GAAE,iBAA5C2V,GAAY,MAAE+E,GAAe,MACpC,IAA0B1a,EAAAA,EAAAA,UApCZ,WACd,IAAIkR,EACJ,IACIA,EAAQoI,aAAaC,QAAQ,4BAIjC,CAFA,MAAOnf,GACH,MAAO,EACX,CACA,OAAO8W,EAAQpV,KAAK4d,MAAMxI,GAAOnQ,MAAQ,EAC7C,CA2BuC4Z,IAAY,iBAAxCzJ,GAAK,MAAE0J,GAAQ,OACtBxa,EAAAA,EAAAA,YAAU,WACN,GAAIuU,EAAY,CACZ,IAAMkG,EAAQC,YAAW,WACrBL,GAA0Brf,GAAS/C,QACnC6hB,GAAe,EACnB,GAAG,GACH,OAAO,kBAAMa,aAAaF,EAAO,CACrC,CAGJ,GAAG,CAAClG,EAAYvZ,GAAS/C,UACzB+H,EAAAA,EAAAA,YAAU,WACNwU,EAAczD,EAClB,GAAG,CAACA,KACJ/Q,EAAAA,EAAAA,YAAU,WACNmR,GAAW,GACXrY,EAAcC,EAAS,EAAD,KACfsc,GAAO,IACV9b,KAAAA,KACDI,MAAK,SAACE,GACLsX,GAAW,GACX2I,GAAe,GACXjgB,GAAwB,UAAhBA,EAAK4C,SACb0d,GAAYtgB,GAAQA,EAAKkB,YAAclB,EAAKkB,WAAWC,UACvDsf,GAAgBzgB,GAAQA,EAAKkB,YAAclB,EAAKkB,WAAW6f,uBAE/Db,EAAclgB,GAAQA,EAAKghB,MAC/B,GACJ,GAAG,CAACxF,EAAS9b,EAAMR,KACnBiH,EAAAA,EAAAA,YAAU,WACN,IAAM8a,EAAU,mCAAG,oGACIhgB,EAAS/B,GAAU,KAAD,EAA/Bc,EAAI,OACVqgB,GAASrgB,GAAM,2CAClB,kBAHe,mCAIhBihB,GACJ,GAAG,CAAC/hB,KACJiH,EAAAA,EAAAA,YAAU,WACNyZ,GAAW,SAACsB,GACR,OAAO,EAAP,KACOA,GAAU,IACb7hB,QAAS2f,GAAoCkC,EAAW7hB,QACxDC,SAAUyf,GAAsCmC,EAAW5hB,UAEnE,GACJ,GAAG,CAACyf,EAAkBC,KACtB7Y,EAAAA,EAAAA,YAAU,WACF2Y,GACAqB,GAAQrB,EAChB,GAAG,CAACA,EAAa9H,KACjB7Q,EAAAA,EAAAA,YAAU,WACN,GAAI6Q,EAAmB,CACnB,IAAMmK,EAAiB9W,SAASC,eAAe,WAAD,OAAY0M,IAC1DmK,GAAkBA,EAAe5W,gBACrC,CACJ,GAAG,CAACpJ,GAAU6V,IACd,IAAMyE,GAAiB,SAAC2F,GACpB,IAAIC,EAAkB9Q,KAAK+Q,MAAM5F,GAAe0F,EAAgB9hB,UAC5Doc,GAAe0F,EAAgB9hB,WAC/B+hB,GAAoC,GAEpC3hB,EAAO2hB,GACPlB,GAAQkB,GA9JI,SAACE,GACrB,IACIlC,aAAamC,QAAQ,gCAAiC3f,KAAKC,UAAU,CACjEgF,MAAOya,EAAkB/hB,WAE7B6f,aAAamC,QAAQ,+BAAgC3f,KAAKC,UAAU,CAChEgF,MAAOya,EAAkBjiB,YAE7B+f,aAAamC,QAAQ,4BAA6B3f,KAAKC,UAAU,CAC7DgF,MAAOya,EAAkBliB,UAIjC,CADA,MAAOc,GACP,CACJ,CAiJQshB,CAAgBL,GAChBzG,GAAc,GACF,MAAZuE,GAA4BA,IAC5BU,EAAWwB,EACf,EACMM,GAAe,SAACC,GAClBhH,GAAc,GACd,IAAMiH,EAAUvX,SAASC,eAAe,mBACxCsX,GAAWA,EAAQrX,iBACnB4V,GAAQwB,EACZ,EACM7M,GAAmB,SAAC5R,GACtB,IAAI2e,EAEAA,EADA5K,GAAMQ,SAASvU,GACA+T,GAAMlZ,QAAO,SAACwE,GAAE,OAAKA,IAAOW,CAAM,IAGrC,kBAAO+T,IAAK,CAAE/T,IAE9Byd,GAASkB,GA5GE,SAAC5K,GAChB,IACIoI,aAAamC,QAAQ,4BAA6B3f,KAAKC,UAAU,CAC7DgF,MAAOmQ,IAIf,CADA,MAAO9W,GACP,CACJ,CAqGQ2hB,CAAWD,EACf,EACM1Y,GAAe,SAACsL,GAClBtT,GAAS4gB,MACTzB,GAAY,CAAC7L,GAAQ,eAAKtT,MACrBuZ,IACDC,GAAc,GACU,mBAAbuE,GACPA,KAER,IAAMiC,EAAiB9W,SAASC,eAAe,WAAD,OAAYmK,EAASlS,KACnE4e,GAAkBA,EAAe5W,gBACrC,GAryEkB,SAAH,GAA0D,IAApDhM,EAAO,EAAPA,QAAS0gB,EAAiB,EAAjBA,kBAAmBzgB,EAAM,EAANA,OAAQE,EAAQ,EAARA,SACzDJ,EAAQC,QAAUA,GAAWD,EAAQC,QACrCD,EAAQG,QAAUwgB,GAAqB3gB,EAAQG,QAC/CH,EAAQE,OAASA,GAAUF,EAAQE,OACnCF,EAAQI,SAAWA,GAAYJ,EAAQI,SACvCC,EAAc,WAAaL,EAAQE,MACvC,CAgyEIwjB,CAAc,CACV/C,kBAAAA,EACA1gB,QAAAA,EACAC,OAAAA,EACAE,SAAAA,IAEJ,IAAMujB,GAAiBtG,EAAa,EACpC,OAAKjB,GAAcrD,GACQ7Z,EAAAA,EAAAA,KAAI,OAAQ,CAC/B,cAAe,qBAGlBkd,GA6CkBld,EAAAA,EAAAA,KAAI,MAAO,CAC9B,iBAAkB,aAClBC,IAAK+gB,IACNnc,IAASqS,IAAuClX,EAAAA,EAAAA,KAAI0L,GAAa,CAChElF,OAAAA,EACA9E,SAAAA,EACAiK,aAAAA,GACA9G,KAAAA,EACAgH,UAAAA,EACAC,QAAAA,EACAxD,UAAAA,MACEsa,GAAMhiB,SAA0BZ,EAAAA,EAAAA,KAAIgc,GAAU,CAChDxV,OAAAA,EACA7C,SAAUif,GACV5S,aAAcnL,EACdqP,iBAAAA,EACA5D,YAAAA,KACgBtQ,EAAAA,EAAAA,KAAI+d,GAAS,CAC7BvX,OAAAA,EACAwX,QAAAA,EACAC,eAAAA,GACAE,WAAAA,EACAD,aAAAA,KACAuG,KAAkCzkB,EAAAA,EAAAA,KAAIqf,GAAY,CAClDlB,WAAAA,EACAU,YAAa3c,EACb4c,eAAgB,SAACG,GACbiF,GAAajF,EACjB,EACAf,aAAAA,GACAF,QAAAA,IACAnE,GAA0B7Z,EAAAA,EAAAA,KAAI8gB,GAAiB,MAASnd,GAAS/C,QAAiEZ,EAAAA,EAAAA,KAAI,KAAM,CAC5IC,IAAKghB,IACNtd,GAAShD,MAAM,EAAGoiB,IAAwBtiB,KAAI,SAACwW,GAAQ,OAAqBjX,EAAAA,EAAAA,KAAI,KAAM,CACrFwB,IAAKyV,EAASlS,KACC/E,EAAAA,EAAAA,KAAIuZ,GAAkB,CACrClW,QAAS4T,EACTzQ,OAAAA,EACA0Q,oBAAAA,EACAxV,SAAAA,EACAmD,KAAAA,EACA7C,QAASgc,EAAQhc,QACjB8C,sBAAAA,GACA8G,yBAAAA,GACA4N,kBAAAA,EACAC,MAAAA,GACAnC,iBAAAA,GACApD,iBAAAA,EACA5D,YAAAA,EACAxE,QAAAA,IACD,MAnB2F9L,EAAAA,EAAAA,KAAIohB,GAAY,MAmBvGoB,IAA+BxiB,EAAAA,EAAAA,KAAI8gB,GAAiB,MAAO2D,KAAkCzkB,EAAAA,EAAAA,KAAI,SAAU,CAC9GC,IAAK8gB,KACU/gB,EAAAA,EAAAA,KAAIqf,GAAY,CAC/BlB,WAAAA,EACAU,YAAa3c,EACb4c,eAAgB,SAACG,GACbiF,GAAajF,EACjB,EACAf,aAAAA,GACAF,QAAAA,KACCnZ,IAASqS,GAAuBvT,GAAS/C,OAAS,KAAsBZ,EAAAA,EAAAA,KAAI0L,GAAa,CAC1FlF,OAAAA,EACA9E,SAAAA,EACAiK,aAAAA,GACA9G,KAAAA,EACAgH,UAAAA,EACAC,QAAAA,EACAxD,UAAAA,MA/GuBtI,EAAAA,EAAAA,KAAI,MAAO,CAC9BC,IAAKghB,GACL,iBAAkB,cACnB2B,IAASA,GAAMhiB,QAAyBZ,EAAAA,EAAAA,KAAI,MAAO,CAClDC,IAAKihB,MACJ0B,GAAMhiB,SAA0BZ,EAAAA,EAAAA,KAAIgc,GAAU,CAC/CxV,OAAAA,EACA7C,SAAUif,GAAMjiB,MAAM,EAAG,GACzBqP,aAAcnL,EACdqP,iBAAAA,EACA5D,YAAAA,MACkBtQ,EAAAA,EAAAA,KAAI0J,EAAAA,QAAAA,SAAgB,MAAsB1J,EAAAA,EAAAA,KAAI+d,GAAS,CACzEvX,OAAAA,EACAwX,QAAAA,EACAC,eAAAA,GACAE,WAAAA,EACAD,aAAAA,KACAuG,KAAkCzkB,EAAAA,EAAAA,KAAIqf,GAAY,CAClDlB,WAAAA,EACAU,YAAa3c,EACb4c,eAAgB,SAACG,GACbiF,GAAajF,EACjB,EACAf,aAAAA,GACAF,QAAAA,IACCra,GAAS/C,QAAiEZ,EAAAA,EAAAA,KAAI,KAAM,CACrFC,IAAKghB,IACNtd,GAAShD,MAAM,EAAG,GAAGF,KAAI,SAACwW,GAAQ,OAAqBjX,EAAAA,EAAAA,KAAI,KAAM,CAChEwB,IAAKyV,EAASlS,KACC/E,EAAAA,EAAAA,KAAIuZ,GAAkB,CACrClW,QAAS4T,EACTzQ,OAAAA,EACA0Q,oBAAAA,EACAxV,SAAAA,EACAmD,KAAAA,EACA7C,QAASgc,EAAQhc,QACjB8C,sBAAAA,GACA8G,yBAAAA,GACA6N,MAAAA,GACAnC,iBAAAA,GACApD,iBAAAA,EACA5D,YAAAA,IACD,MAjBoCtQ,EAAAA,EAAAA,KAAIohB,GAAY,OAwF/D,C,kCC77EA,IAAMsD,EAAyB,YAElBrkB,EAAU,WAAH,2BAAOskB,EAAc,yBAAdA,EAAc,uBACxCA,EAAK9jB,KAAK,KAAK+jB,QAAQF,EAAwB,IAAK,C,kCCU9C,IAAMG,EAAgB,SAAC9f,GAAU,gBAAgBA,EAAE,gB,kCCd1D,IAAI+f,EAAgB,EAEPC,EAAmB,WAAH,8BACXD,IAAe,C,+CC4BjC,8tBAoB4Bne,EAAAA,GAAAA,QAAAA,GAAO,4DAqEhC,GACUqe,OAnHb,oBAoHCC,SAhHCA,gDAiHD,MAvGE,gDAyGFC,SAAAA,EACAC,SA/DD,0vC,qJCzCaC,QAAAA,EAAAA,EAAAA,SACZC,OAAOC,EAAAA,EAAAA,SACPC,MAAM9e,EAAAA,EAAAA,MAEL+e,EAAAA,EAAAA,GAAAA,KAAAA,EAAAA,CAAAA,KAAAA,UAAAA,OAAAA,gCA2EA,iGACAC,EAAAA,SAAAA,EAAAA,GAAAA,OAEWte,GAIZ,IAAQ,UACP,IAAK,YACL,IAAK,WACL,SAGG,cACH,SAIA,E,wmBC/FC,oHACUue,EDGY,SAACC,EAAC,UAEdxe,GAIZ,IAAQ,UACP,IAAK,YACL,OAAKwe,EAAW,OACf,KAAQlf,EAAAA,EAAAA,KACP,OAAKxG,EAAAA,EAAAA,KAAAA,oBACJ2G,EAAAA,EAAAA,KAAU,0DAGYA,EAAAA,EAAAA,KAAS,MAG7B,iBACH,OAAK3G,EAAAA,EAAAA,KAAAA,oBACJ6G,EAAAA,GAAAA,KAAU,2DAGYA,EAAAA,GAAAA,KAAY,MAGhC,mBACH,OAAK7G,EAAAA,EAAAA,KAAAA,oBACJ+G,EAAAA,GAAAA,KAAU,2DAGYA,EAAAA,GAAAA,KAAc,MAGlC,eACH,OAAK/G,EAAAA,EAAAA,KAAAA,oBACJ8G,EAAAA,GAAAA,KAAU,2DAGYA,EAAAA,GAAAA,KAAU,MAG9B,iBACH,OAAK9G,EAAAA,EAAAA,KAAAA,oBACJ4G,EAAAA,GAAAA,KAAU,2DAGYA,EAAAA,GAAAA,KAAY,MAGhC,cACH,OAAK5G,EAAAA,EAAAA,KAAAA,oBACJgH,EAAAA,GAAAA,KAAU,2DAGYA,EAAAA,GAAAA,KAAS,MAG7B,uBACH,OAAKhH,EAAAA,EAAAA,KAAAA,oBACJ2lB,EAAAA,GAAAA,KAAU,2DAGYA,EAAAA,GAAAA,KAAkB,M,cAM3C,IAAK,WACL,SAIA,CC3ED,CAAsBD,EACtB,GAIME,EAAAA,EAAsB,EAAiB1e,GACvC2e,EDwFLC,SAAAA,EAAAA,GAAAA,OAEW5e,GAIZ,IAAQ,UACP,IAAK,YACL,OAAKlH,EAAAA,EAAAA,KAAAA,SACJulB,EAAAA,KAEE,cACH,IAAK,WACL,OAAKG,EAAU,OACd,KAAQlf,EAAAA,EAAAA,KACP,OAAKxG,EAAAA,EAAAA,KAAAA,SACJ2G,EAAAA,EAAAA,KAAAA,KAEE,iBACH,OAAK3G,EAAAA,EAAAA,KAAAA,SACJ6G,EAAAA,GAAAA,KAAO,KAEL,mBACH,OAAK7G,EAAAA,EAAAA,KAAAA,SACJ+G,EAAAA,GAAAA,KAAO,KAEL,eACH,OAAK/G,EAAAA,EAAAA,KAAAA,SACJ8G,EAAAA,GAAAA,KAAAA,KAEE,iBACH,OAAK9G,EAAAA,EAAAA,KAAAA,SACJ4G,EAAAA,GAAAA,KAAO,KAEL,cACH,OAAK5G,EAAAA,EAAAA,KAAAA,SACJgH,EAAAA,GAAAA,KAAAA,KAEE,uBACH,OAAKhH,EAAAA,EAAAA,KAAAA,SACJ2lB,EAAAA,GAAAA,KAAU,KAER,0BACH,OAAK3lB,EAAAA,EAAAA,KAAAA,SACJ0G,EAAAA,GAAAA,iBAAAA,KAAU,MAIb,CCxIoBof,CAAG,EAAa,GACrC,OAAM/lB,EAAAA,EAAAA,KAAAA,EAAAA,EAAAA,EAAAA,EAAAA,CAAgBmH,SAAUA,EAAS6Q,aAAU,8B,suBChB/C,sJACQ,OAAMlY,EAAAA,EAAAA,MAClB,QACA,SAAUkY,GACCgO,GACX,aAAY,WACZ9d,EAAAA,EAAAA,CAAAA,UACA,EACG,KACS,EAAwB,gE,wFCnBrC+d,EAAAA,EAAM,KAEJC,EAAAA,SAAAA,GAAAA,IAAAA,EAAAA,EAAAA,UAAAA,EAAAA,EAAAA,SAEW,oBAAc,CAAGjmB,IAC7B,kBACA,EAMCN,EAAAA,EAAAA,IACI,EAAG,OACL+S,EAAAA,EAA2B,GAC3B,WAASvS,GAAG,C,wFCfhB8lB,EAAAA,EAAM,KAEJ/d,EAAAA,SAAAA,GAAAA,IAAAA,EAAAA,EAAAA,KAAAA,EAAAA,EAAAA,SAAAA,EAAAA,EAAAA,UAAAA,OAAAA,EAAAA,EAAAA,MAAAA,MAAAA,CAAAA,IAAAA,SAAAA,GAAAA,MAAAA,EAEWgH,EAAAA,EAAAA,IACZ,EACA,OAKEwD,EAAUxS,EAAY,GACtB,WAAS,GAAG,OAAmBF,EAAAA,EAAAA,KAAAA,OAAAA,CAAAA,IAAAA,SAAAA,GAAAA,OAAAA,EAAAA,EAAAA,IAAAA,EAAAA,MAAAA,EAAAA,SAAAA,aAAAA,KAAAA,C,mHCd3BmmB,EAAAA,EAAAA,OAAe,KAEpBjX,EAAAA,WAAAA,IAAAA,EAAAA,UAAAA,OAAAA,QAAAA,IAAAA,UAAAA,GAAAA,UAAAA,GAAAA,EAAAA,EAAAA,MAAAA,OAAAA,EAAAA,EAAAA,KAEK9H,EAAAA,GAAAA,OACN,YAAQ,mBAENgC,EAAS,UAAS,MAEnBgd,EAAAA,WAAAA,IAAAA,EAAAA,UAAAA,OAAAA,QAAAA,IAAAA,UAAAA,GAAAA,UAAAA,GAAAA,EAAAA,EAAAA,MAAAA,OAAAA,EAAAA,EAAAA,KAEKhf,EAAAA,GAAAA,QAAkB,UAGtBgC,EAAS,aAAO,wBAGjBid,EAAAA,WAAAA,IAAAA,EAAAA,UAAAA,OAAAA,QAAAA,IAAAA,UAAAA,GAAAA,UAAAA,GAAAA,EAAAA,EAAAA,MAAAA,OAAAA,EAAAA,EAAAA,KAEKjf,EAAAA,GAAAA,QAAM,UAGVgC,EAAS,eAAO,oB,2DCzBNA,MAAAA,CACZkd,UAAO,gBACNC,aAAW,iBACXC,eAAc,iBACdC,UAAAA,EAAAA,GAAAA,MAAAA,KACAC,YAAW,oBAGXC,EAAAA,CAEWvd,MAAAA,CACZkd,UAAO,kBACNC,aAAW,gBACXC,eAAc,gBACdC,UAAAA,EAAAA,GAAAA,MAAAA,KACAC,YAAW,mB,qwBCdAE,UAAAA,CACZC,cAAW,gBACVP,UAAAA,EAAAA,GAAAA,QAAAA,GACAQ,kBAAmBngB,EAAAA,GAAAA,QAAAA,IACnBogB,oBAAmBpgB,EAAA,eACnB8f,UAAAA,EAAAA,GAAAA,QAAAA,GACAC,YAAW/f,EAAA,gBACXqgB,gBAAargB,EAAA,gBACb4O,OAAAA,EAAAA,GAAAA,QAAAA,IACA0R,aAAQtgB,EAAA,cACRugB,YAAYvgB,EAAAA,GAAAA,MAAAA,KACZwgB,cAAaxgB,EAAA,kBAEbygB,EAAAA,G,0HCLDR,EAAS,YAAG,UAEQA,EAAU,UAAVA,iBAAAA,EAGnBS,EAAAA,WAAAA,IAAAA,EAAAA,UAAAA,OAAAA,QAAAA,IAAAA,UAAAA,GAAAA,UAAAA,GAAAA,EAAAA,UAAAA,OAAAA,EAAAA,EAAAA,KAAAA,oBAE0BT,EAClBO,cAAG,UAEQP,EAAU,+BAG7BA,EAAAA,WAAAA,IAAAA,EAAAA,UAAAA,OAAAA,QAAAA,IAAAA,UAAAA,GAAAA,UAAAA,GAAAA,EAAAA,UAAAA,OAAAA,EAAAA,EAAAA,KAAAA,gCAAAA,EAAAA,GAAAA,YAAAA,MAOUxf,EAAAA,GAAAA,SAAO,UACfwf,EAAiBC,cAAAA,qBACAD,EAAAA,gBAAa,qBACZA,EAAUrR,OAAAA,cACVvN,EAAAA,EAAAA,GAAAA,+BAAAA,EAAAA,aAAAA,IAICsf,EAAAA,EAAAA,wDAAAA,EAAAA,GAAAA,MAAAA,EAgBpBC,GAAAA,EAAAA,EAAAA,KAAAA,cAEUvf,EAAAA,EAAAA,GAAiB,OAE5Bwf,EAAAA,CAAAA,KAAAA,SAAAA,OAAAA,kBAIAC,EAAAA,CAAAA,KAAAA,SAAAA,OAAAA,kBAIAC,EAAAA,CAAAA,KAAAA,UAAAA,OAAAA,c,0qBC3CF,GD+CEC,CAAAA,KAAAA,SAAAA,OAAAA,6BC5CD,GDiDCC,CAAAA,KAAAA,SAAAA,OAAAA,cChDD,EDoDCC,CAAAA,KAAAA,UAAAA,OAAAA,cCGC,6KACUC,EACV/iB,QAAAA,GACGggB,EAAAA,EAAAA,KAUL,OAAMjlB,EAAAA,EAAAA,MAAAA,EAAAA,SAAgB,UAAI,gBAAmB,mRAG3CioB,EAAAA,EAAAA,GAAAA,EAsBEnB,EAAQ,EAAO,WACfvd,EAAU,EAAgB,EAC1B1G,EAAAA,EAAa,aAAuB,IACpCA,GAAQqlB,EAAWX,EAAM,EAAa,WAAE,GACxCrP,EAAU,OACV,OAAYjT,GAAAA,EAAAA,iBAAAA,EAAAA,iBAAAA,EAAAA,mBAAAA,GAAAA,GAAAA,EAAAA,EAAAA,GAAAA,GAAAA,GAAAA,UAAAA,GAAAA,MACZ,C,2rBChHF,0M,2rBCAA,0M,6NCDQkjB,EAAAA,GAAAA,WAAmB,yCAS5BC,EAAAA,WAAAA,IAAAA,EAAAA,UAAAA,OAAAA,QAAAA,IAAAA,UAAAA,GAAAA,UAAAA,GAAAA,EAAAA,EAAAA,aAAAA,OAAAA,EAAAA,EAAAA,KAEKC,EAAM,UAGVC,EAAa,gBAEdC,EAAAA,WAAAA,IAAAA,EAAAA,UAAAA,OAAAA,QAAAA,IAAAA,UAAAA,GAAAA,UAAAA,GAAAA,EAAAA,EAAAA,aAAAA,OAAAA,EAAAA,EAAAA,KAEKF,EAAM,UAGVC,EAAa,iB,2DCjCHA,aAAAA,CACZ1B,YAAc,kBACbD,UAAW9f,EAAAA,GAAAA,MAAAA,OAGX2hB,EAAAA,CAEWF,aAAAA,CACZ1B,YAAc,kBACbD,UAAW9f,EAAAA,GAAAA,MAAAA,M,0jBCJP4hB,EAA0B,gBAC/B5oB,EAAAA,EAAAA,KAAAA,EAAAA,EAAAA,0BAAAE,OACe,OAAa,SAAIC,EAAAA,EAAAA,MAAS,WAChC,UACR,WAAOC,EAAC,UACHF,GAAC,SACN,OAAS,CAAEI,KAAKA,EAAAA,EAAAA,KAWLC,EAAAA,EAAAA,KASNC,SAAAA,YAAc,M,4cC1BfsS,EAAS,SAAF,OAAO,EAAY,EAAb7S,KAAa,8BAAAC,OAEnB,OAAG,SAAeC,EAAAA,EAAAA,MAAE,WAC/B,UAAQ,WAAS,EACjB,MAAQ,OACF,gBACN,eAWWI,EAAAA,EACZ,KAQMC,SAAAA,UAAc,M,6aC1Bfka,EAAS,SAAF,OAAO,EAAY,EAAbza,KAAa,8BAAAC,OAEvB,OAAO,SAAaC,EAAAA,EAAAA,MAAI,WAC/B,UAAQ,WAASC,EACjB,MAAQ,OACF,gBACN,eAWWG,EAAAA,EACZ,KAQMC,SAAAA,cAAc,M,0dC1BfqoB,EAA0B,SAAjB,OAAiB5oB,EAC/BD,EAD+BC,KAC/BD,EAAAA,EAAAA,0BAAAE,OACe,OAAS,SAAQC,EAAAA,EAAAA,MAAAA,EAAAA,SAC/B,CAAMK,SAAW,WACjB,EAAO,CAACP,KAAAA,IACRC,GAAM,gBACN,MAAWI,EAAAA,EAAAA,KAWAC,EAAAA,EAAe,KASrBC,SAAAA,WAAc,M,gBCjCN,SAASsoB,EAAuBC,EAASC,GAItD,OAHKA,IACHA,EAAMD,EAAQ/nB,MAAM,IAEfW,OAAOsnB,OAAOtnB,OAAOunB,iBAAiBH,EAAS,CACpDC,IAAK,CACHrf,MAAOhI,OAAOsnB,OAAOD,MAG3B,C","sources":["webpack://@guardian/dotcom-rendering/../../../libs/@guardian/source-react-components/vendor/icons/SvgArrowUpStraight.tsx","webpack://@guardian/dotcom-rendering/../../../libs/@guardian/source-react-components/vendor/icons/SvgIndent.tsx","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/discussion-rendering/build/App.esm.js","webpack://@guardian/dotcom-rendering/../../../libs/@guardian/libs/src/joinUrl/joinUrl.ts","webpack://@guardian/dotcom-rendering/../../../libs/@guardian/source-foundations/src/accessibility/description-id.ts","webpack://@guardian/dotcom-rendering/../../../libs/@guardian/source-foundations/src/accessibility/generate-source-id.ts","webpack://@guardian/dotcom-rendering/../../../libs/@guardian/source-foundations/src/utils/resets.ts","webpack://@guardian/dotcom-rendering/../../../libs/@guardian/source-react-components-development-kitchen/src/editorial-button/styles.ts","webpack://@guardian/dotcom-rendering/../../../libs/@guardian/source-react-components-development-kitchen/src/editorial-button/EditorialButton.tsx","webpack://@guardian/dotcom-rendering/../../../libs/@guardian/source-react-components/src/label/Label.tsx","webpack://@guardian/dotcom-rendering/../../../libs/@guardian/source-react-components/src/label/SupportingText.tsx","webpack://@guardian/dotcom-rendering/../../../libs/@guardian/source-react-components/src/label/Text.tsx","webpack://@guardian/dotcom-rendering/../../../libs/@guardian/source-react-components/src/label/styles.ts","webpack://@guardian/dotcom-rendering/../../../libs/@guardian/source-react-components/src/label/theme.ts","webpack://@guardian/dotcom-rendering/../../../libs/@guardian/source-react-components/src/text-input/theme.ts","webpack://@guardian/dotcom-rendering/../../../libs/@guardian/source-react-components/src/text-input/styles.ts","webpack://@guardian/dotcom-rendering/../../../libs/@guardian/source-react-components/src/text-input/TextInput.tsx","webpack://@guardian/dotcom-rendering/../../../libs/@guardian/source-react-components/src/user-feedback/InlineError.tsx","webpack://@guardian/dotcom-rendering/../../../libs/@guardian/source-react-components/src/user-feedback/InlineSuccess.tsx","webpack://@guardian/dotcom-rendering/../../../libs/@guardian/source-react-components/src/user-feedback/styles.ts","webpack://@guardian/dotcom-rendering/../../../libs/@guardian/source-react-components/src/user-feedback/theme.ts","webpack://@guardian/dotcom-rendering/../../../libs/@guardian/source-react-components/vendor/icons/SvgAlertTriangle.tsx","webpack://@guardian/dotcom-rendering/../../../libs/@guardian/source-react-components/vendor/icons/SvgCross.tsx","webpack://@guardian/dotcom-rendering/../../../libs/@guardian/source-react-components/vendor/icons/SvgPlus.tsx","webpack://@guardian/dotcom-rendering/../../../libs/@guardian/source-react-components/vendor/icons/SvgTickRound.tsx","webpack://@guardian/dotcom-rendering/../node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"],"sourcesContent":["// DO NOT EDIT\n// this file is auto-generated by packages/@guardian/source-react-components/scripts/create-icons/index.ts\nimport { css } from '@emotion/react';\nimport type { EmotionJSX } from '@emotion/react/types/jsx-namespace';\nimport { iconSize, visuallyHidden } from '@guardian/source-foundations';\nimport type { IconProps } from '../../src/@types/Icons';\n\nconst Svg = ({ size }: IconProps): EmotionJSX.Element => (\n\t<svg\n\t\twidth={size ? iconSize[size] : undefined}\n\t\theight={undefined}\n\t\tviewBox=\"-3 -3 30 30\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tfocusable={false}\n\t\taria-hidden={true}\n\t>\n\t\t<path\n\t\t\tfillRule=\"evenodd\"\n\t\t\tclipRule=\"evenodd\"\n\t\t\td=\"M12.956 23V4.726l8.575 7.167.932-.932L12.478 1h-.956l-9.984 9.96.931.932 8.576-7.166V23h1.91Z\"\n\t\t/>\n\t</svg>\n);\n\nexport const SvgArrowUpStraight = ({\n\tsize,\n\tisAnnouncedByScreenReader = false,\n}: IconProps): EmotionJSX.Element => (\n\t<>\n\t\t<Svg size={size} />\n\t\t{isAnnouncedByScreenReader ? (\n\t\t\t<span\n\t\t\t\tcss={css`\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`}\n\t\t\t>\n\t\t\t\tArrow up\n\t\t\t</span>\n\t\t) : (\n\t\t\t''\n\t\t)}\n\t</>\n);\n","// DO NOT EDIT\n// this file is auto-generated by packages/@guardian/source-react-components/scripts/create-icons/index.ts\nimport { css } from '@emotion/react';\nimport type { EmotionJSX } from '@emotion/react/types/jsx-namespace';\nimport { iconSize, visuallyHidden } from '@guardian/source-foundations';\nimport type { IconProps } from '../../src/@types/Icons';\n\nconst Svg = ({ size }: IconProps): EmotionJSX.Element => (\n\t<svg\n\t\twidth={size ? iconSize[size] : undefined}\n\t\theight={undefined}\n\t\tviewBox=\"-3 -3 30 30\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tfocusable={false}\n\t\taria-hidden={true}\n\t>\n\t\t<path\n\t\t\tfillRule=\"evenodd\"\n\t\t\tclipRule=\"evenodd\"\n\t\t\td=\"M5.025 11.5V7H3v5.45l1.025 1.025H17.75L15 17.05l.85.9L21 12.825v-.675l-5.1-5.125-.9.875 2.75 3.6H5.025Z\"\n\t\t/>\n\t</svg>\n);\n\nexport const SvgIndent = ({\n\tsize,\n\tisAnnouncedByScreenReader = false,\n}: IconProps): EmotionJSX.Element => (\n\t<>\n\t\t<Svg size={size} />\n\t\t{isAnnouncedByScreenReader ? (\n\t\t\t<span\n\t\t\t\tcss={css`\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`}\n\t\t\t>\n\t\t\t\tIndent\n\t\t\t</span>\n\t\t) : (\n\t\t\t''\n\t\t)}\n\t</>\n);\n","import { jsx, css, keyframes } from \"@emotion/react\";\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { news, opinion, culture, sport, lifestyle, labs, textSans, neutral, space, headline, text, brand, remSpace, border, until, from, background } from \"@guardian/source-foundations\";\nimport { Button, TextInput, Link, SvgArrowUpStraight, SvgCross, SvgIndent, SvgPlus, SvgChevronRightSingle, SvgChevronLeftSingle } from \"@guardian/source-react-components\";\nimport { ArticleSpecial, ArticlePillar, timeAgo } from \"@guardian/libs\";\nconst joinUrl = (parts) => {\n    const trimmed = parts.filter((part) => part).map((part) => {\n        if (part.substr(0, 1) === \"/\")\n            return part.slice(1);\n        return part;\n    }).map((part) => {\n        if (part.substr(part.length - 1, 1) === \"/\")\n            return part.slice(0, -1);\n        return part;\n    });\n    return trimmed.join(\"/\");\n};\nlet options = {\n    baseUrl: \"https://discussion.theguardian.com/discussion-api\",\n    apiKey: \"discussion-rendering\",\n    headers: {},\n    idApiUrl: \"https://idapi.theguardian.com\"\n};\nlet defaultParams = {\n    \"api-key\": options.apiKey\n};\nconst initialiseApi = ({ baseUrl, additionalHeaders, apiKey, idApiUrl }) => {\n    options.baseUrl = baseUrl || options.baseUrl;\n    options.headers = additionalHeaders || options.headers;\n    options.apiKey = apiKey || options.apiKey;\n    options.idApiUrl = idApiUrl || options.idApiUrl;\n    defaultParams[\"api-key\"] = options.apiKey;\n};\nconst objAsParams = (obj) => {\n    const params = Object.keys(obj).map((key) => {\n        return `${key}=${obj[key]}`;\n    }).join(\"&\");\n    return \"?\" + params;\n};\nconst getDiscussion = (shortUrl, opts) => {\n    const apiOpts = {\n        ...defaultParams,\n        ...{\n            orderBy: opts.orderBy === \"recommendations\" ? \"mostRecommended\" : opts.orderBy,\n            pageSize: opts.pageSize,\n            displayThreaded: opts.threads !== \"unthreaded\",\n            maxResponses: opts.threads === \"collapsed\" ? 3 : 100,\n            page: opts.page\n        }\n    };\n    const params = objAsParams(apiOpts);\n    const url = joinUrl([options.baseUrl, \"discussion\", shortUrl]) + params;\n    return fetch(url, {\n        headers: {\n            ...options.headers\n        }\n    }).then((resp) => resp.json()).then((json) => {\n        if (json.errorCode === \"DISCUSSION_ONLY_AVAILABLE_IN_LINEAR_FORMAT\") {\n            return getDiscussion(shortUrl, {\n                ...opts,\n                ...{\n                    threads: \"unthreaded\"\n                }\n            });\n        }\n        return json;\n    }).catch((error) => console.error(`Error fetching ${url}`, error));\n};\nconst preview = (body) => {\n    const url = joinUrl([options.baseUrl, \"comment/preview\"]) + objAsParams(defaultParams);\n    const data = new URLSearchParams();\n    data.append(\"body\", body);\n    return fetch(url, {\n        method: \"POST\",\n        body: data.toString(),\n        headers: {\n            \"Content-Type\": \"application/x-www-form-urlencoded\",\n            ...options.headers\n        }\n    }).then((resp) => resp.json()).then((json) => json.commentBody).catch((error) => console.error(`Error fetching ${url}`, error));\n};\nconst comment = (shortUrl, body) => {\n    const url = joinUrl([options.baseUrl, \"discussion\", shortUrl, \"comment\"]) + objAsParams(defaultParams);\n    const data = new URLSearchParams();\n    data.append(\"body\", body);\n    return fetch(url, {\n        method: \"POST\",\n        body: data.toString(),\n        headers: {\n            \"Content-Type\": \"application/x-www-form-urlencoded\",\n            ...options.headers\n        },\n        credentials: \"include\"\n    }).then((resp) => resp.json());\n};\nconst reply = (shortUrl, body, parentCommentId) => {\n    const url = joinUrl([options.baseUrl, \"discussion\", shortUrl, \"comment\", parentCommentId.toString(), \"reply\"]) + objAsParams(defaultParams);\n    const data = new URLSearchParams();\n    data.append(\"body\", body);\n    return fetch(url, {\n        method: \"POST\",\n        body: data.toString(),\n        headers: {\n            \"Content-Type\": \"application/x-www-form-urlencoded\",\n            ...options.headers\n        },\n        credentials: \"include\"\n    }).then((resp) => resp.json());\n};\nconst getPicks = (shortUrl) => {\n    const url = joinUrl([options.baseUrl, \"discussion\", shortUrl, \"topcomments\"]) + objAsParams(defaultParams);\n    return fetch(url, {\n        headers: {\n            ...options.headers\n        }\n    }).then((resp) => resp.json()).then((json) => json.discussion.comments).catch((error) => console.error(`Error fetching ${url}`, error));\n};\nconst reportAbuse = ({ commentId, categoryId, email, reason }) => {\n    const url = joinUrl([options.baseUrl, \"comment\", commentId.toString(), \"reportAbuse\"]) + objAsParams(defaultParams);\n    const data = new URLSearchParams();\n    data.append(\"categoryId\", categoryId.toString());\n    email && data.append(\"email\", email.toString());\n    reason && data.append(\"reason\", reason);\n    return fetch(url, {\n        method: \"POST\",\n        body: data.toString(),\n        headers: {\n            \"Content-Type\": \"application/x-www-form-urlencoded\",\n            ...options.headers\n        }\n    }).then((resp) => resp.json());\n};\nconst recommend = (commentId) => {\n    const url = joinUrl([options.baseUrl, \"comment\", commentId.toString(), \"recommend\"]) + objAsParams(defaultParams);\n    return fetch(url, {\n        method: \"POST\",\n        credentials: \"include\",\n        headers: {\n            ...options.headers\n        }\n    }).then((resp) => resp.ok);\n};\nconst addUserName = (userName) => {\n    const url = options.idApiUrl + `/user/me` + objAsParams(defaultParams);\n    return fetch(url, {\n        method: \"POST\",\n        credentials: \"include\",\n        body: JSON.stringify({\n            publicFields: {\n                username: userName,\n                displayName: userName\n            }\n        }),\n        headers: {\n            \"Content-Type\": \"application/json\"\n        }\n    }).then((resp) => resp.json()).catch((error) => console.error(`Error fetching ${url}`, error));\n};\nconst pickComment = (commentId) => {\n    const url = joinUrl([options.baseUrl, \"comment\", commentId.toString(), \"highlight\"]) + objAsParams(defaultParams);\n    return fetch(url, {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/x-www-form-urlencoded\",\n            ...options.headers\n        },\n        credentials: \"include\"\n    }).then((resp) => resp.json()).catch((error) => console.error(`Error fetching ${url}`, error));\n};\nconst unPickComment = (commentId) => {\n    const url = joinUrl([options.baseUrl, \"comment\", commentId.toString(), \"unhighlight\"]) + objAsParams(defaultParams);\n    return fetch(url, {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/x-www-form-urlencoded\",\n            ...options.headers\n        },\n        credentials: \"include\"\n    }).then((resp) => resp.json()).catch((error) => console.error(`Error fetching ${url}`, error));\n};\nconst getMoreResponses = (commentId) => {\n    const url = joinUrl([options.baseUrl, \"comment\", commentId.toString()]) + objAsParams({\n        ...defaultParams,\n        ...{\n            displayThreaded: true,\n            displayResponses: true\n        }\n    });\n    return fetch(url, {\n        headers: {\n            ...options.headers\n        }\n    }).then((resp) => resp.json()).catch((error) => console.error(`Error fetching ${url}`, error));\n};\nconst simulateNewComment = (commentId, body, user, commentBeingRepliedTo) => {\n    return {\n        id: commentId,\n        body,\n        date: Date(),\n        isoDateTime: new Date().toISOString(),\n        status: \"visible\",\n        webUrl: `https://discussion.theguardian.com/comment-permalink/${commentId}`,\n        apiUrl: `https://discussion.guardianapis.com/discussion-api/comment/${commentId}`,\n        numRecommends: 0,\n        isHighlighted: false,\n        userProfile: {\n            userId: user.userId,\n            displayName: user.displayName,\n            webUrl: user.webUrl,\n            apiUrl: user.apiUrl,\n            avatar: user.avatar,\n            secureAvatarUrl: user.secureAvatarUrl,\n            badge: user.badge\n        },\n        ...commentBeingRepliedTo ? {\n            responseTo: {\n                displayName: commentBeingRepliedTo.userProfile.displayName,\n                commentApiUrl: `https://discussion.guardianapis.com/discussion-api/comment/${commentBeingRepliedTo.id}`,\n                isoDateTime: commentBeingRepliedTo.isoDateTime,\n                date: commentBeingRepliedTo.date,\n                commentId: String(commentBeingRepliedTo.id),\n                commentWebUrl: `https://discussion.theguardian.com/comment-permalink/${commentBeingRepliedTo.id}`\n            }\n        } : {\n            responses: []\n        }\n    };\n};\nfunction _EMOTION_STRINGIFIED_CSS_ERROR__$b() {\n    return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\";\n}\nvar _ref$3 = process.env.NODE_ENV === \"production\" ? {\n    name: \"ho1qnd\",\n    styles: \"display:flex;flex-direction:row\"\n} : {\n    name: \"ubd564-Row\",\n    styles: \"display:flex;flex-direction:row;label:Row;\",\n    toString: _EMOTION_STRINGIFIED_CSS_ERROR__$b\n};\nconst Row = ({ children }) => /* @__PURE__ */ jsx(\"div\", {\n    css: _ref$3\n}, children);\nconst pillarToString = (pillar) => {\n    switch (pillar) {\n        case ArticlePillar.News:\n            return \"news\";\n        case ArticlePillar.Opinion:\n            return \"opinion\";\n        case ArticlePillar.Culture:\n            return \"culture\";\n        case ArticlePillar.Sport:\n            return \"sport\";\n        case ArticlePillar.Lifestyle:\n            return \"lifestyle\";\n        case ArticleSpecial.Labs:\n            return \"labs\";\n        default:\n            return \"news\";\n    }\n};\nconst palette = {\n    news,\n    opinion,\n    culture,\n    sport,\n    lifestyle,\n    labs\n};\nconst dark = (pillar) => {\n    switch (pillar) {\n        case ArticlePillar.Culture:\n            return \"#FBF6EF\";\n        case ArticlePillar.Opinion:\n            return \"#FEF9F5\";\n        case ArticlePillar.Lifestyle:\n            return \"#FEEEF7\";\n        case ArticlePillar.Sport:\n            return \"#F1F8FC\";\n        case ArticlePillar.News:\n        case ArticleSpecial.SpecialReport:\n        case ArticleSpecial.Labs:\n        default:\n            return \"#FFF4F2\";\n    }\n};\nconst buttonOverrides = (pillar, priority) => {\n    switch (priority) {\n        case \"primary\":\n            return /* @__PURE__ */ css(\"button{\", textSans.small({\n                fontWeight: \"bold\"\n            }), \" background-color:\", palette[pillarToString(pillar)][300], \";color:\", neutral[100], \";:hover{background-color:\", palette[pillarToString(pillar)][400], \";}}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:buttonOverrides;\"));\n        case \"secondary\":\n            return /* @__PURE__ */ css(\"button{\", textSans.small({\n                fontWeight: \"bold\"\n            }), \" background-color:transparent;border:1px solid \", palette[pillarToString(pillar)][400], \";color:\", palette[pillarToString(pillar)][400], \";:hover{background-color:\", dark(pillar), \";}}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:buttonOverrides;\"));\n        case \"subdued\":\n            return /* @__PURE__ */ css(\"button{\", textSans.small({\n                fontWeight: \"bold\"\n            }), \" background-color:transparent;color:\", palette[pillarToString(pillar)][400], \";border-radius:0;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:buttonOverrides;\"));\n    }\n};\nconst PillarButton = ({ pillar, onClick, type, priority = \"primary\", children, icon, iconSide, linkName, size = \"default\" }) => /* @__PURE__ */ jsx(\"div\", {\n    css: buttonOverrides(pillar, priority)\n}, /* @__PURE__ */ jsx(Button, {\n    priority,\n    size,\n    onClick,\n    type,\n    icon,\n    iconSide,\n    \"data-link-name\": linkName\n}, children));\nconst previewStyle$2 = /* @__PURE__ */ css(\"padding:\", space[2], \"px;background-color:\", neutral[93], \";margin-bottom:\", space[5], \"px;position:relative;min-height:\", space[9], \"px;p{padding-left:\", space[2], \"px;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:previewStyle;\"));\nconst textStyling = /* @__PURE__ */ css(textSans.small(), \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:textStyling;\"));\nconst Text = ({ children }) => /* @__PURE__ */ jsx(\"p\", {\n    css: textStyling\n}, children);\nconst FirstCommentWelcome = ({ body, pillar, error = \"\", submitForm, cancelSubmit, onPreview }) => {\n    const [previewBody, setPreviewBody] = useState(\"\");\n    const [userName, setUserName] = useState(\"\");\n    useEffect(() => {\n        const fetchShowPreview = async () => {\n            try {\n                const preview$1 = onPreview || preview;\n                const response = await preview$1(body);\n                setPreviewBody(response);\n            }\n            catch (e) {\n                setPreviewBody(\"\");\n            }\n        };\n        fetchShowPreview();\n    }, [body, onPreview]);\n    return /* @__PURE__ */ jsx(\"div\", {\n        css: /* @__PURE__ */ css(\"padding:\", space[2], \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:FirstCommentWelcome;\"))\n    }, /* @__PURE__ */ jsx(\"form\", {\n        onSubmit: (e) => {\n            e.preventDefault();\n            submitForm(userName);\n        }\n    }, /* @__PURE__ */ jsx(\"h3\", {\n        css: /* @__PURE__ */ css(headline.xxsmall({\n            fontWeight: \"bold\"\n        }), \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:FirstCommentWelcome;\"))\n    }, \"Welcome, you\\u2019re about to make your first comment!\"), /* @__PURE__ */ jsx(Text, null, \"Before you post, we\\u2019d like to thank you for joining the debate - we\\u2019re glad you\\u2019ve chosen to participate and we value your opinions and experiences.\"), /* @__PURE__ */ jsx(Text, null, \"Please choose your username under which you would like all your comments to show up. You can only set your username once.\"), /* @__PURE__ */ jsx(TextInput, {\n        label: \"Username:\",\n        supporting: \"Must be 6-20 characters, letters and/or numbers only, no spaces.\",\n        value: userName,\n        onChange: (e) => setUserName(e.target.value),\n        width: 30,\n        error\n    }), /* @__PURE__ */ jsx(Text, null, /* @__PURE__ */ jsx(React.Fragment, null, \"Please keep your posts respectful and abide by the\", \" \", /* @__PURE__ */ jsx(Link, {\n        href: \"/community-standards\",\n        priority: \"primary\",\n        subdued: true,\n        rel: \"nofollow\"\n    }, /* @__PURE__ */ jsx(\"span\", {\n        css: textStyling\n    }, \"community guidelines\")), ` -`, \" and if you spot a comment you think doesn\\u2019t adhere to the guidelines, please use the \\u2018Report\\u2019 link next to it to let us know.\")), /* @__PURE__ */ jsx(Text, null, \"Please preview your comment below and click \\u2018post\\u2019 when you\\u2019re happy with it.\"), /* @__PURE__ */ jsx(\"div\", {\n        css: [previewStyle$2, textStyling, process.env.NODE_ENV === \"production\" ? \"\" : \";label:FirstCommentWelcome;\"],\n        dangerouslySetInnerHTML: {\n            __html: previewBody || \"\"\n        }\n    }), /* @__PURE__ */ jsx(Row, null, /* @__PURE__ */ jsx(PillarButton, {\n        pillar,\n        onClick: () => submitForm(userName),\n        linkName: \"post comment\",\n        size: \"small\"\n    }, \"Post your comment\"), /* @__PURE__ */ jsx(\"div\", {\n        css: /* @__PURE__ */ css(\"width:\", space[3], \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:FirstCommentWelcome;\"))\n    }), /* @__PURE__ */ jsx(PillarButton, {\n        pillar,\n        priority: \"subdued\",\n        onClick: cancelSubmit,\n        linkName: \"cancel-post-comment\",\n        size: \"small\"\n    }, \"Cancel\"))));\n};\nconst previewStyle$1 = /* @__PURE__ */ css(textSans.small(), \" padding:\", space[2], \"px \", space[4], \"px;background-color:\", neutral[93], \";border-radius:5px;margin-top:0;margin-bottom:\", 20, \"px;word-break:break-word;blockquote{margin-top:\", space[3], \"px;margin-bottom:\", space[3], \"px;margin-left:\", space[5], \"px;margin-right:\", space[5], \"px;padding-left:\", space[2], \"px;color:\", neutral[46], \";}i{font-style:italic;}b{font-weight:bold;}code{font-family:monospace;font-size:1em;}p{margin-top:0;margin-bottom:\", space[3], \"px;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:previewStyle;\"));\nconst spout = /* @__PURE__ */ css(\"display:block;left:0;width:0;height:0;border-right:1rem solid transparent;border-bottom:1rem solid \", neutral[93], \";margin-left:12.5rem;border-right-style:inset;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:spout;\"));\nconst Preview$1 = ({ previewHtml }) => /* @__PURE__ */ jsx(React.Fragment, null, /* @__PURE__ */ jsx(\"div\", {\n    css: spout\n}), /* @__PURE__ */ jsx(\"div\", {\n    css: previewStyle$1,\n    dangerouslySetInnerHTML: {\n        __html: previewHtml || \"\"\n    }\n}));\nfunction _EMOTION_STRINGIFIED_CSS_ERROR__$a() {\n    return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\";\n}\nconst boldString = (text2) => `<b>${text2}</b>`;\nconst italicsString = (text2) => `<i>${text2}</i>`;\nconst strikethroughString = (text2) => `<del>${text2}</del>`;\nconst codeString = (text2) => `<code>${text2}</code>`;\nconst quoteString = (text2) => `<blockquote>${text2}</blockquote>`;\nconst linkStringFunc = (url, highlightedText) => `<a href=\"${url}\" rel=\"nofollow\">${highlightedText ? highlightedText : url}</a>`;\nconst formWrapper$1 = /* @__PURE__ */ css(\"display:flex;flex-wrap:wrap;margin-bottom:\", space[5], \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:formWrapper;\"));\nconst commentTextArea = /* @__PURE__ */ css(\"width:100%;margin-bottom:\", space[3], \"px;padding:8px 10px 10px 8px;\", textSans.small(), \";border-color:\", neutral[86], \";:focus{border-color:\", neutral[46], \";outline:none;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:commentTextArea;\"));\nconst greyPlaceholder = /* @__PURE__ */ css(\"::placeholder{color:\", neutral[46], \";}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:greyPlaceholder;\"));\nconst blackPlaceholder = /* @__PURE__ */ css(\"::placeholder{font-weight:bold;opacity:1;color:\", neutral[0], \";}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:blackPlaceholder;\"));\nconst headerTextStyles = /* @__PURE__ */ css(\"margin:0;\", textSans.xxsmall(), \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:headerTextStyles;\"));\nconst errorTextStyles = /* @__PURE__ */ css(\"margin:0;\", textSans.xxsmall(), \";color:\", text.error, \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:errorTextStyles;\"));\nconst infoTextStyles = /* @__PURE__ */ css(\"margin:0;\", textSans.xxsmall(), \";color:\", text.supporting, \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:infoTextStyles;\"));\nconst msgContainerStyles = process.env.NODE_ENV === \"production\" ? {\n    name: \"hkh81z\",\n    styles: \"margin-top:8px\"\n} : {\n    name: \"zc5kny-msgContainerStyles\",\n    styles: \"margin-top:8px;label:msgContainerStyles;\",\n    toString: _EMOTION_STRINGIFIED_CSS_ERROR__$a\n};\nconst linkStyles$3 = /* @__PURE__ */ css(\"a{color:\", text.anchorPrimary, \";text-decoration:none;:hover,:focus{text-decoration:underline;}}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:linkStyles;\"));\nconst wrapperHeaderTextStyles = /* @__PURE__ */ css(\"background-color:\", neutral[97], \";padding:8px 10px 10px 8px;width:100%;margin-top:8px;margin-bottom:2px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:wrapperHeaderTextStyles;\"));\nconst commentAddOns = /* @__PURE__ */ css(\"height:22px;font-size:13px;line-height:17px;border:1px solid \", neutral[100], \";color:\", neutral[46], \";text-align:center;cursor:pointer;margin-left:4px;padding:2px 5px 0px 5px;min-width:11px;line-height:17px;list-style-type:none;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:commentAddOns;\"));\nconst bottomContainer = process.env.NODE_ENV === \"production\" ? {\n    name: \"1xnavr4\",\n    styles: \"width:100%;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between;align-items:stretch;align-content:space-between\"\n} : {\n    name: \"6np8dj-bottomContainer\",\n    styles: \"width:100%;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between;align-items:stretch;align-content:space-between;label:bottomContainer;\",\n    toString: _EMOTION_STRINGIFIED_CSS_ERROR__$a\n};\nconst Space$2 = ({ amount }) => /* @__PURE__ */ jsx(\"div\", {\n    css: /* @__PURE__ */ css(\"width:\", space[amount], \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:Space;\"))\n});\nconst CommentForm = ({ shortUrl, pillar, onAddComment, user, setCommentBeingRepliedTo, commentBeingRepliedTo, onComment, onReply, onPreview }) => {\n    const [isActive, setIsActive] = useState(commentBeingRepliedTo ? true : false);\n    const [userNameMissing, setUserNameMissing] = useState(false);\n    const [body, setBody] = useState(\"\");\n    const [previewBody, setPreviewBody] = useState(\"\");\n    const [error, setError] = useState(\"\");\n    const [info, setInfo] = useState(\"\");\n    const [showPreview, setShowPreview] = useState(false);\n    const textAreaRef = useRef(null);\n    useEffect(() => {\n        var _a, _b;\n        if (commentBeingRepliedTo) {\n            (_a = document.getElementById(`comment-${commentBeingRepliedTo.id}`)) == null ? void 0 : _a.scrollIntoView();\n            (_b = document.querySelector(`#comment-reply-form-${commentBeingRepliedTo.id} textarea`)) == null ? void 0 : _b.focus();\n        }\n    }, [commentBeingRepliedTo]);\n    const getHighlightedString = () => {\n        if (!textAreaRef || !textAreaRef.current)\n            return;\n        const selectionStart = textAreaRef.current.selectionStart;\n        const selectionEnd = textAreaRef.current.selectionEnd;\n        const value = textAreaRef.current.value;\n        const startString = value.substring(0, selectionStart);\n        const highlightedString = value.substring(selectionStart, selectionEnd);\n        const endString = value.substring(selectionEnd, value.length);\n        return {\n            startString,\n            highlightedString,\n            endString\n        };\n    };\n    const transformText = (transfromFunc) => {\n        const textAreaStrings = getHighlightedString();\n        if (!textAreaStrings)\n            return;\n        const { startString, highlightedString, endString } = textAreaStrings;\n        setBody(startString.concat(transfromFunc(highlightedString), endString));\n    };\n    const transformLink = () => {\n        const url = prompt(\"Your URL:\", \"http://www.\");\n        if (url === null)\n            return;\n        const textAreaStrings = getHighlightedString();\n        if (!textAreaStrings)\n            return;\n        const { startString, highlightedString, endString } = textAreaStrings;\n        setBody(startString.concat(linkStringFunc(url, highlightedString), endString));\n    };\n    const fetchShowPreview = async () => {\n        if (!body)\n            return;\n        try {\n            const preview$1 = onPreview || preview;\n            const response = await preview$1(body);\n            setPreviewBody(response);\n            setShowPreview(true);\n        }\n        catch (e) {\n            setError(\"Preview request failed, please try again\");\n            setPreviewBody(\"\");\n            setShowPreview(false);\n        }\n    };\n    const resetForm = () => {\n        setError(\"\");\n        setInfo(\"\");\n        setBody(\"\");\n        setShowPreview(false);\n        setIsActive(false);\n        setCommentBeingRepliedTo && setCommentBeingRepliedTo();\n    };\n    const submitForm = async () => {\n        setError(\"\");\n        setInfo(\"\");\n        if (body) {\n            const comment$1 = onComment || comment;\n            const reply$1 = onReply || reply;\n            const response = commentBeingRepliedTo ? await reply$1(shortUrl, body, commentBeingRepliedTo.id) : await comment$1(shortUrl, body);\n            if (response.errorCode === \"USERNAME_MISSING\") {\n                setUserNameMissing(true);\n            }\n            else if (response.errorCode === \"EMPTY_COMMENT_BODY\") {\n                setError(\"Please write a comment.\");\n            }\n            else if (response.errorCode === \"COMMENT_TOO_LONG\") {\n                setError(\"Your comment must be fewer than 5000 characters long.\");\n            }\n            else if (response.errorCode === \"USER_BANNED\") {\n                setError('Commenting has been disabled for this account (<a href=\"/community-faqs#321a\">why?</a>).');\n            }\n            else if (response.errorCode === \"IP_THROTTLED\") {\n                setError('Commenting has been temporarily blocked for this IP address (<a href=\"/community-faqs\">why?</a>).');\n            }\n            else if (response.errorCode === \"DISCUSSION_CLOSED\") {\n                setError(\"Sorry your comment can not be published as the discussion is now closed for comments.\");\n            }\n            else if (response.errorCode === \"PARENT_COMMENT_MODERATED\") {\n                setError(\"Sorry the comment can not be published as the comment you replied to has been moderated since.\");\n            }\n            else if (response.errorCode === \"COMMENT_RATE_LIMIT_EXCEEDED\") {\n                setError(\"You can only post one comment every minute. Please try again in a moment.\");\n            }\n            else if (response.errorCode === \"INVALID_PROTOCOL\") {\n                setError(`Sorry your comment can not be published as it was not sent over\n                  a secure channel. Please report us this issue using the technical issue link\n                  in the page footer.`);\n            }\n            else if (response.errorCode === \"AUTH_COOKIE_INVALID\") {\n                setError(\"Sorry, your comment was not published as you are no longer signed in. Please sign in and try again.\");\n            }\n            else if (response.errorCode === \"READ-ONLY-MODE\") {\n                setError(`Sorry your comment can not currently be published as\n                  commenting is undergoing maintenance but will be back shortly. Please try\n                  again in a moment.`);\n            }\n            else if (response.errorCode === \"API_CORS_BLOCKED\") {\n                setError(`Could not post due to your internet settings, which might be\n                 controlled by your provider. Please contact your administrator\n                 or disable any proxy servers or VPNs and try again.`);\n            }\n            else if (response.errorCode === \"API_ERROR\") {\n                setError(`Sorry, there was a problem posting your comment. Please try\n                  another browser or network connection.  Reference code `);\n            }\n            else if (response.errorCode === \"EMAIL_VERIFIED\") {\n                setInfo(\"Sent. Please check your email to verify your email address. Once verified post your comment.\");\n            }\n            else if (response.errorCode === \"EMAIL_VERIFIED_FAIL\") {\n                setError(`We are having technical difficulties. Please try again later or\n            <a href=\"#\">\n            <strong>resend the verification</strong></a>.`);\n            }\n            else if (response.errorCode === \"EMAIL_NOT_VALIDATED\") {\n                setError(`Please confirm your email address to comment.<br />\n            If you can't find the email, we can\n            <a href=\"#\">\n            <strong>resend the verification email</strong></a> to your email\n            address.`);\n            }\n            else if (response.status === \"ok\") {\n                onAddComment(simulateNewComment(parseInt(response.message), body, user, commentBeingRepliedTo));\n                resetForm();\n            }\n            else {\n                setError(\"Sorry, there was a problem posting your comment.\");\n            }\n        }\n    };\n    const submitUserName = async (userName) => {\n        var _a, _b;\n        setError(\"\");\n        if (!userName) {\n            setError(\"Username field cannot be empty\");\n            return;\n        }\n        const response = await addUserName(userName);\n        if (response.status === \"ok\") {\n            submitForm();\n            setUserNameMissing(false);\n        }\n        else {\n            response.errors && setError((_b = (_a = response.errors[0]) == null ? void 0 : _a.message) != null ? _b : \"unknown error\");\n        }\n    };\n    if (userNameMissing && body) {\n        return /* @__PURE__ */ jsx(FirstCommentWelcome, {\n            pillar,\n            body,\n            error,\n            submitForm: submitUserName,\n            cancelSubmit: () => setUserNameMissing(false),\n            onPreview\n        });\n    }\n    return /* @__PURE__ */ jsx(React.Fragment, null, /* @__PURE__ */ jsx(\"form\", {\n        css: formWrapper$1,\n        onSubmit: (e) => {\n            e.preventDefault();\n            submitForm();\n        }\n    }, error && /* @__PURE__ */ jsx(\"div\", {\n        css: msgContainerStyles\n    }, /* @__PURE__ */ jsx(\"p\", {\n        css: [errorTextStyles, linkStyles$3, process.env.NODE_ENV === \"production\" ? \"\" : \";label:CommentForm;\"],\n        dangerouslySetInnerHTML: {\n            __html: error\n        }\n    })), info && /* @__PURE__ */ jsx(\"div\", {\n        css: msgContainerStyles\n    }, /* @__PURE__ */ jsx(\"p\", {\n        css: [infoTextStyles, linkStyles$3, process.env.NODE_ENV === \"production\" ? \"\" : \";label:CommentForm;\"]\n    }, info)), isActive && /* @__PURE__ */ jsx(\"div\", {\n        css: wrapperHeaderTextStyles\n    }, /* @__PURE__ */ jsx(\"p\", {\n        css: [headerTextStyles, linkStyles$3, process.env.NODE_ENV === \"production\" ? \"\" : \";label:CommentForm;\"]\n    }, \"Please keep comments respectful and abide by the\", \" \", /* @__PURE__ */ jsx(\"a\", {\n        href: \"/community-standards\"\n    }, \"community guidelines\"), \".\"), user.privateFields && user.privateFields.isPremoderated && /* @__PURE__ */ jsx(\"p\", {\n        css: [errorTextStyles, linkStyles$3, process.env.NODE_ENV === \"production\" ? \"\" : \";label:CommentForm;\"]\n    }, \"Your comments are currently being pre-moderated (\", /* @__PURE__ */ jsx(\"a\", {\n        href: \"/community-faqs#311\",\n        target: \"_blank\",\n        rel: \"nofollow\"\n    }, \"why?\"), \")\")), /* @__PURE__ */ jsx(\"textarea\", {\n        \"data-testid\": \"comment-input\",\n        placeholder: commentBeingRepliedTo || !isActive ? \"Join the discussion\" : \"\",\n        css: [commentTextArea, commentBeingRepliedTo && isActive && greyPlaceholder, !commentBeingRepliedTo && !isActive && blackPlaceholder, process.env.NODE_ENV === \"production\" ? \"\" : \";label:CommentForm;\"],\n        ref: textAreaRef,\n        style: {\n            height: isActive ? \"132px\" : \"50px\"\n        },\n        onChange: (e) => {\n            setBody(e.target.value || \"\");\n        },\n        value: body,\n        onFocus: () => setIsActive(true)\n    }), /* @__PURE__ */ jsx(\"div\", {\n        css: bottomContainer\n    }, /* @__PURE__ */ jsx(Row, null, /* @__PURE__ */ jsx(React.Fragment, null, /* @__PURE__ */ jsx(PillarButton, {\n        pillar,\n        type: \"submit\",\n        linkName: \"post comment\",\n        size: \"small\"\n    }, \"Post your comment\"), (isActive || body) && /* @__PURE__ */ jsx(React.Fragment, null, /* @__PURE__ */ jsx(Space$2, {\n        amount: 3\n    }), /* @__PURE__ */ jsx(PillarButton, {\n        pillar,\n        onClick: fetchShowPreview,\n        priority: \"secondary\",\n        linkName: \"preview-comment\",\n        size: \"small\"\n    }, \"Preview\"), /* @__PURE__ */ jsx(Space$2, {\n        amount: 3\n    }), /* @__PURE__ */ jsx(PillarButton, {\n        pillar,\n        onClick: resetForm,\n        priority: \"subdued\",\n        linkName: \"cancel-post-comment\",\n        size: \"small\"\n    }, \"Cancel\")))), isActive && /* @__PURE__ */ jsx(Row, null, /* @__PURE__ */ jsx(\"button\", {\n        onClick: (e) => {\n            e.preventDefault();\n            transformText(boldString);\n        },\n        css: commentAddOns,\n        \"data-link-name\": \"formatting-controls-bold\"\n    }, \"B\"), /* @__PURE__ */ jsx(\"button\", {\n        onClick: (e) => {\n            e.preventDefault();\n            transformText(italicsString);\n        },\n        css: commentAddOns,\n        \"data-link-name\": \"formatting-controls-italic\"\n    }, \"i\"), /* @__PURE__ */ jsx(\"button\", {\n        onClick: (e) => {\n            e.preventDefault();\n            transformText(strikethroughString);\n        },\n        css: commentAddOns,\n        \"data-link-name\": \"formatting-controls-strikethrough\"\n    }, `S\\u0336`), /* @__PURE__ */ jsx(\"button\", {\n        onClick: (e) => {\n            e.preventDefault();\n            transformText(codeString);\n        },\n        css: commentAddOns,\n        \"data-link-name\": \"formatting-controls-code\"\n    }, `<>`), /* @__PURE__ */ jsx(\"button\", {\n        onClick: (e) => {\n            e.preventDefault();\n            transformText(quoteString);\n        },\n        css: commentAddOns,\n        \"data-link-name\": \"formatting-controls-quote\"\n    }, '\"'), /* @__PURE__ */ jsx(\"button\", {\n        onClick: (e) => {\n            e.preventDefault();\n            transformLink();\n        },\n        css: commentAddOns,\n        \"data-link-name\": \"formatting-controls-link\"\n    }, \"Link\")))), showPreview && /* @__PURE__ */ jsx(Preview$1, {\n        previewHtml: previewBody\n    }));\n};\nfunction _EMOTION_STRINGIFIED_CSS_ERROR__$9() {\n    return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\";\n}\nconst staffBadge = process.env.NODE_ENV === \"production\" ? {\n    name: \"fhxb3m\",\n    styles: \"display:flex;flex-direction:row;align-items:center\"\n} : {\n    name: \"1ef6nbe-staffBadge\",\n    styles: \"display:flex;flex-direction:row;align-items:center;label:staffBadge;\",\n    toString: _EMOTION_STRINGIFIED_CSS_ERROR__$9\n};\nconst iconStyles = process.env.NODE_ENV === \"production\" ? {\n    name: \"1g57i33\",\n    styles: \"display:inline-block;width:15px;height:15px\"\n} : {\n    name: \"tmspie-iconStyles\",\n    styles: \"display:inline-block;width:15px;height:15px;label:iconStyles;\",\n    toString: _EMOTION_STRINGIFIED_CSS_ERROR__$9\n};\nconst labelText = /* @__PURE__ */ css(\"display:inline-block;line-height:15px;margin:0 0 0 \", space[1], \"px;\", textSans.xxsmall({\n    fontWeight: \"bold\"\n}), \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:labelText;\"));\nconst staffIcon = /* @__PURE__ */ css(\"fill:\", brand[400], \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:staffIcon;\"));\nconst staffLabel = /* @__PURE__ */ css(\"color:\", brand[400], \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:staffLabel;\"));\nconst guardianPickLabel = /* @__PURE__ */ css(\"color:\", neutral[7], \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:guardianPickLabel;\"));\nconst GuardianStaff = () => /* @__PURE__ */ jsx(\"div\", {\n    css: staffBadge\n}, /* @__PURE__ */ jsx(\"svg\", {\n    width: \"36\",\n    height: \"36\",\n    viewBox: \"0 0 36 36\",\n    css: [iconStyles, staffIcon, process.env.NODE_ENV === \"production\" ? \"\" : \";label:GuardianStaff;\"]\n}, /* @__PURE__ */ jsx(\"path\", {\n    d: \"M18 0a18 18 0 1 0 0 36 18 18 0 0 0 0-36\"\n}), /* @__PURE__ */ jsx(\"path\", {\n    fill: neutral[100],\n    d: \"M21.2 4.4c2.3.4 5.3 2 6.3 3.1v5.2H27L21.2 5v-.6zm-2.2.4c-4 0-6.3 5.6-6.3 13.2 0 7.7 2.2 13.3 6.3 13.3v.6c-6 .4-14.4-4.2-14-13.8A13.3 13.3 0 0 1 19 4v.7zm10.4 14.4l-1.9.9v8.6c-1 1-3.8 2.6-6.3 3.1V19.9l-2.2-.7v-.6h10.4v.6z\"\n})), /* @__PURE__ */ jsx(\"p\", {\n    css: [labelText, staffLabel, process.env.NODE_ENV === \"production\" ? \"\" : \";label:GuardianStaff;\"]\n}, \"Staff\"));\nconst GuardianContributor = () => /* @__PURE__ */ jsx(\"div\", {\n    css: staffBadge\n}, /* @__PURE__ */ jsx(\"svg\", {\n    width: \"36\",\n    height: \"36\",\n    viewBox: \"0 0 36 36\",\n    css: [iconStyles, staffIcon, process.env.NODE_ENV === \"production\" ? \"\" : \";label:GuardianContributor;\"]\n}, /* @__PURE__ */ jsx(\"path\", {\n    d: \"M18 0a18 18 0 1 0 0 36 18 18 0 0 0 0-36\"\n}), /* @__PURE__ */ jsx(\"path\", {\n    fill: neutral[100],\n    d: \"M21.2 4.4c2.3.4 5.3 2 6.3 3.1v5.2H27L21.2 5v-.6zm-2.2.4c-4 0-6.3 5.6-6.3 13.2 0 7.7 2.2 13.3 6.3 13.3v.6c-6 .4-14.4-4.2-14-13.8A13.3 13.3 0 0 1 19 4v.7zm10.4 14.4l-1.9.9v8.6c-1 1-3.8 2.6-6.3 3.1V19.9l-2.2-.7v-.6h10.4v.6z\"\n})), /* @__PURE__ */ jsx(\"p\", {\n    css: [labelText, staffLabel, process.env.NODE_ENV === \"production\" ? \"\" : \";label:GuardianContributor;\"]\n}, \"Contributor\"));\nconst GuardianPick = () => /* @__PURE__ */ jsx(\"div\", {\n    css: staffBadge\n}, /* @__PURE__ */ jsx(\"svg\", {\n    width: \"36\",\n    height: \"36\",\n    viewBox: \"0 0 36 36\",\n    css: iconStyles\n}, /* @__PURE__ */ jsx(\"path\", {\n    d: \"M18 0a18 18 0 1 0 0 36 18 18 0 0 0 0-36\"\n}), /* @__PURE__ */ jsx(\"path\", {\n    fill: neutral[100],\n    d: \"M21.2 4.4c2.3.4 5.3 2 6.3 3.1v5.2H27L21.2 5v-.6zm-2.2.4c-4 0-6.3 5.6-6.3 13.2 0 7.7 2.2 13.3 6.3 13.3v.6c-6 .4-14.4-4.2-14-13.8A13.3 13.3 0 0 1 19 4v.7zm10.4 14.4l-1.9.9v8.6c-1 1-3.8 2.6-6.3 3.1V19.9l-2.2-.7v-.6h10.4v.6z\"\n})), /* @__PURE__ */ jsx(\"p\", {\n    css: [labelText, guardianPickLabel, process.env.NODE_ENV === \"production\" ? \"\" : \";label:GuardianPick;\"]\n}, \"Guardian Pick\"));\nconst countStyles = /* @__PURE__ */ css(textSans.xxsmall({\n    fontWeight: \"light\"\n}), \" min-width:0.75rem;color:\", neutral[46], \";margin-right:0.3125rem;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:countStyles;\"));\nconst buttonStyles$1 = (recommended, isSignedIn) => /* @__PURE__ */ css(\"cursor:\", recommended || !isSignedIn ? \"default\" : \"pointer\", \";width:1.1875rem;height:1.1875rem;background-color:\", recommended ? brand[400] : neutral[97], \";border-radius:62.5rem;border:none;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:buttonStyles;\"));\nconst arrowStyles = (recommended) => /* @__PURE__ */ css(\"display:flex;flex-direction:column;align-items:center;svg{fill:\", recommended ? neutral[100] : neutral[46], \";height:15px;width:15px;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:arrowStyles;\"));\nconst RecommendationCount = ({ commentId, initialCount, alreadyRecommended, isSignedIn, userMadeComment, onRecommend }) => {\n    const [count, setCount] = useState(initialCount);\n    const [recommended, setRecommended] = useState(alreadyRecommended);\n    const tryToRecommend = () => {\n        const newCount = count + 1;\n        setCount(newCount);\n        setRecommended(true);\n        const recommend$1 = onRecommend || recommend;\n        recommend$1(commentId).then((accepted) => {\n            if (!accepted) {\n                setCount(newCount - 1);\n                setRecommended(alreadyRecommended);\n            }\n        });\n    };\n    return /* @__PURE__ */ jsx(Row, null, /* @__PURE__ */ jsx(\"div\", {\n        css: countStyles\n    }, count), /* @__PURE__ */ jsx(\"button\", {\n        css: buttonStyles$1(recommended, isSignedIn),\n        onClick: () => tryToRecommend(),\n        disabled: recommended || !isSignedIn || userMadeComment,\n        \"data-link-name\": \"Recommend comment\",\n        \"aria-label\": \"Recommend comment\"\n    }, /* @__PURE__ */ jsx(\"div\", {\n        css: arrowStyles(recommended)\n    }, /* @__PURE__ */ jsx(SvgArrowUpStraight, null))));\n};\nfunction _EMOTION_STRINGIFIED_CSS_ERROR__$8() {\n    return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\";\n}\nconst formWrapper = /* @__PURE__ */ css(\"z-index:1;border:1px solid \", neutral[86], \";position:absolute;width:300px;top:0;right:0;display:flex;flex-direction:column;padding:\", space[3], \"px;background-color:white;\", textSans.xxsmall(), \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:formWrapper;\"));\nconst labelStyles$1 = (pillar) => /* @__PURE__ */ css(\"color:\", palette[pillarToString(pillar)][400], \";\", textSans.small({\n    fontWeight: \"bold\"\n}), \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:labelStyles;\"));\nconst inputWrapper = /* @__PURE__ */ css(\"display:flex;flex-direction:column;margin-bottom:\", space[2], \"px;label{display:block;}select,input,textarea{min-height:\", space[5], \"px;width:75%;border:1px solid \", neutral[86], \";}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:inputWrapper;\"));\nconst errorMessageStyles = process.env.NODE_ENV === \"production\" ? {\n    name: \"hwfcu5\",\n    styles: \"color:red\"\n} : {\n    name: \"qpo29n-errorMessageStyles\",\n    styles: \"color:red;label:errorMessageStyles;\",\n    toString: _EMOTION_STRINGIFIED_CSS_ERROR__$8\n};\nvar _ref$2 = process.env.NODE_ENV === \"production\" ? {\n    name: \"114fqm7\",\n    styles: \"color:green;margin-left:1em\"\n} : {\n    name: \"ayasr-AbuseReportForm\",\n    styles: \"color:green;margin-left:1em;label:AbuseReportForm;\",\n    toString: _EMOTION_STRINGIFIED_CSS_ERROR__$8\n};\nvar _ref2$1 = process.env.NODE_ENV === \"production\" ? {\n    name: \"1mwkkc\",\n    styles: \"margin-left:1em\"\n} : {\n    name: \"1x2snws-AbuseReportForm\",\n    styles: \"margin-left:1em;label:AbuseReportForm;\",\n    toString: _EMOTION_STRINGIFIED_CSS_ERROR__$8\n};\nconst AbuseReportForm = ({ commentId, toggleSetShowForm, pillar }) => {\n    const modalRef = useRef(null);\n    let firstElement = null;\n    let lastElement = null;\n    useEffect(() => {\n        if (!modalRef.current)\n            return;\n        firstElement = modalRef.current.querySelector('select[name=\"category\"]');\n        lastElement = modalRef.current.querySelector('button[custom-guardian=\"close-modal\"]');\n    }, [modalRef]);\n    useEffect(() => {\n        firstElement && firstElement.focus();\n    }, [firstElement]);\n    useEffect(() => {\n        const closeOnClickAway = (e) => {\n            if (modalRef.current && !modalRef.current.contains(e.target)) {\n                toggleSetShowForm();\n            }\n        };\n        document.addEventListener(\"mousedown\", closeOnClickAway);\n    }, [modalRef, toggleSetShowForm]);\n    useEffect(() => {\n        const keyListener = (e) => {\n            if (e.keyCode === 27) {\n                toggleSetShowForm();\n            }\n            else if (e.keyCode === 9) {\n                if (!firstElement || !lastElement)\n                    return;\n                if (!e.shiftKey && document.activeElement === lastElement) {\n                    firstElement && firstElement.focus();\n                    e.preventDefault();\n                }\n                if (e.shiftKey && document.activeElement === firstElement) {\n                    lastElement && lastElement.focus();\n                    e.preventDefault();\n                }\n            }\n        };\n        document.addEventListener(\"keydown\", keyListener);\n        return () => document.removeEventListener(\"keydown\", keyListener);\n    });\n    const [formVariables, setFormVariables] = useState({\n        categoryId: 0,\n        reason: \"\",\n        email: \"\"\n    });\n    const defaultErrorTexts = {\n        categoryId: \"\",\n        reason: \"\",\n        email: \"\",\n        response: \"\"\n    };\n    const [errors, setErrors] = useState(defaultErrorTexts);\n    const [successMessage, setSuccessMessage] = useState();\n    const onSubmit = async (event) => {\n        event.preventDefault();\n        const { categoryId, reason, email } = formVariables;\n        setErrors(defaultErrorTexts);\n        if (!categoryId) {\n            setErrors({\n                ...errors,\n                categoryId: \"You must select a category before submitting\"\n            });\n            return;\n        }\n        const response = await reportAbuse({\n            categoryId,\n            reason,\n            email,\n            commentId\n        });\n        if (response.status !== \"ok\") {\n            setErrors({\n                ...errors,\n                response: response.message\n            });\n        }\n        else {\n            setSuccessMessage(\"Report submitted\");\n        }\n    };\n    const labelStylesClass = labelStyles$1(pillar);\n    return /* @__PURE__ */ jsx(\"div\", {\n        \"aria-modal\": \"true\",\n        ref: modalRef\n    }, /* @__PURE__ */ jsx(\"form\", {\n        css: formWrapper,\n        onSubmit\n    }, /* @__PURE__ */ jsx(\"div\", {\n        css: inputWrapper\n    }, /* @__PURE__ */ jsx(\"label\", {\n        css: labelStylesClass,\n        htmlFor: \"category\"\n    }, \"Category\"), /* @__PURE__ */ jsx(\"select\", {\n        name: \"category\",\n        id: \"category\",\n        onChange: (e) => setFormVariables({\n            ...formVariables,\n            categoryId: Number(e.target.value)\n        }),\n        value: formVariables.categoryId\n    }, /* @__PURE__ */ jsx(\"option\", {\n        value: \"0\"\n    }, \"Please select\"), /* @__PURE__ */ jsx(\"option\", {\n        value: \"1\"\n    }, \"Personal abuse\"), /* @__PURE__ */ jsx(\"option\", {\n        value: \"2\"\n    }, \"Off topic\"), /* @__PURE__ */ jsx(\"option\", {\n        value: \"3\"\n    }, \"Legal issue\"), /* @__PURE__ */ jsx(\"option\", {\n        value: \"4\"\n    }, \"Trolling\"), /* @__PURE__ */ jsx(\"option\", {\n        value: \"5\"\n    }, \"Hate speech\"), /* @__PURE__ */ jsx(\"option\", {\n        value: \"6\"\n    }, \"Offensive/Threatening language\"), /* @__PURE__ */ jsx(\"option\", {\n        value: \"7\"\n    }, \"Copyright\"), /* @__PURE__ */ jsx(\"option\", {\n        value: \"8\"\n    }, \"Spam\"), /* @__PURE__ */ jsx(\"option\", {\n        value: \"9\"\n    }, \"Other\")), errors.categoryId && /* @__PURE__ */ jsx(\"span\", {\n        css: errorMessageStyles\n    }, errors.categoryId)), /* @__PURE__ */ jsx(\"div\", {\n        css: inputWrapper\n    }, /* @__PURE__ */ jsx(\"label\", {\n        css: labelStylesClass,\n        htmlFor: \"reason\"\n    }, \"Reason (optional)\"), /* @__PURE__ */ jsx(\"textarea\", {\n        name: \"reason\",\n        id: \"reason\",\n        onChange: (e) => setFormVariables({\n            ...formVariables,\n            reason: e.target.value\n        }),\n        value: formVariables.reason\n    }), errors.reason && /* @__PURE__ */ jsx(\"span\", {\n        css: errorMessageStyles\n    }, errors.reason)), /* @__PURE__ */ jsx(\"div\", {\n        css: inputWrapper\n    }, /* @__PURE__ */ jsx(\"label\", {\n        css: labelStylesClass,\n        htmlFor: \"email\"\n    }, \"Email (optional)\"), /* @__PURE__ */ jsx(\"input\", {\n        type: \"email\",\n        name: \"email\",\n        id: \"email\",\n        onChange: (e) => setFormVariables({\n            ...formVariables,\n            email: e.target.value\n        }),\n        value: formVariables.email\n    }), errors.email && /* @__PURE__ */ jsx(\"span\", {\n        css: errorMessageStyles\n    }, errors.email)), /* @__PURE__ */ jsx(\"div\", null, /* @__PURE__ */ jsx(Button, {\n        type: \"submit\",\n        size: \"small\",\n        \"data-link-name\": \"Post report abuse\"\n    }, \"Report\"), errors.response && /* @__PURE__ */ jsx(\"span\", {\n        css: [errorMessageStyles, _ref2$1, process.env.NODE_ENV === \"production\" ? \"\" : \";label:AbuseReportForm;\"]\n    }, errors.response), successMessage && /* @__PURE__ */ jsx(\"span\", {\n        css: _ref$2\n    }, successMessage)), /* @__PURE__ */ jsx(\"div\", {\n        css: /* @__PURE__ */ css(\"position:absolute;right:\", space[3], \"px;top:\", space[3], \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:AbuseReportForm;\"))\n    }, /* @__PURE__ */ jsx(Button, {\n        \"custom-guardian\": \"close-modal\",\n        size: \"small\",\n        iconSide: \"right\",\n        icon: /* @__PURE__ */ jsx(SvgCross, null),\n        onClick: toggleSetShowForm,\n        \"data-link-name\": \"cancel-report-abuse\",\n        hideLabel: true\n    }, \"close report abuse modal\"))));\n};\nconst monthConverter = {\n    0: \"Jan\",\n    1: \"Feb\",\n    2: \"Mar\",\n    3: \"Apr\",\n    4: \"May\",\n    5: \"Jun\",\n    6: \"Jul\",\n    7: \"Aug\",\n    8: \"Sep\",\n    9: \"Oct\",\n    10: \"Nov\",\n    11: \"Dec\"\n};\nconst isLast24Hrs = (date) => {\n    const timeStamp = Math.round(new Date().getTime() / 1e3);\n    const timeStampYesterday = timeStamp - 24 * 3600;\n    return date.getTime() >= new Date(timeStampYesterday * 1e3).getTime();\n};\nconst dateFormatter = (dateString) => {\n    const date = new Date(dateString);\n    if (isLast24Hrs(date)) {\n        return timeAgo(date.getTime(), {\n            verbose: true,\n            daysUntilAbsolute: 1\n        });\n    }\n    return `${date.getDate()} ${monthConverter[date.getMonth()]} ${date.getFullYear()} ${date.getHours()}.${String(date.getMinutes()).padStart(2, \"0\")}`;\n};\nconst useInterval = (callback, delay) => {\n    const savedCallback = useRef();\n    useEffect(() => {\n        savedCallback.current = callback;\n    }, [callback]);\n    useEffect(() => {\n        function tick() {\n            const currentCallback = savedCallback.current;\n            currentCallback();\n        }\n        if (delay !== null) {\n            let id = setInterval(tick, delay);\n            return () => clearInterval(id);\n        }\n        else\n            return;\n    }, [delay]);\n};\nconst linkStyles$2 = /* @__PURE__ */ css(\"color:\", neutral[46], \";text-decoration:none;:hover,:focus{text-decoration:underline;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:linkStyles;\"));\nconst timeStyles = /* @__PURE__ */ css(textSans.xxsmall({\n    fontWeight: \"light\"\n}), \" min-width:0.75rem;margin-right:0.3125rem;white-space:nowrap;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:timeStyles;\"));\nconst Timestamp = ({ isoDateTime, webUrl, commentId, onPermalinkClick }) => {\n    const [timeAgo2, setTimeAgo] = useState(dateFormatter(isoDateTime));\n    useInterval(() => {\n        setTimeAgo(dateFormatter(isoDateTime));\n    }, 15e3);\n    return /* @__PURE__ */ jsx(\"a\", {\n        href: webUrl,\n        css: linkStyles$2,\n        \"data-link-name\": \"jump-to-comment-timestamp\",\n        onClick: (e) => {\n            onPermalinkClick(commentId);\n            e.preventDefault();\n        },\n        rel: \"nofollow\"\n    }, /* @__PURE__ */ jsx(\"time\", {\n        dateTime: isoDateTime.toString(),\n        css: timeStyles\n    }, timeAgo2));\n};\nconst imageStyles = (size) => /* @__PURE__ */ css(\"border-radius:\", size + 10, \"px;width:\", size, \"px;height:\", size, \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:imageStyles;\"));\nconst Avatar = ({ imageUrl = \"https://avatar.guim.co.uk/no-user-image.gif\", displayName, size }) => {\n    switch (size) {\n        case \"small\":\n            return /* @__PURE__ */ jsx(\"img\", {\n                src: imageUrl,\n                alt: displayName,\n                css: imageStyles(36)\n            });\n        case \"large\":\n            return /* @__PURE__ */ jsx(\"img\", {\n                src: imageUrl,\n                alt: displayName,\n                css: imageStyles(60)\n            });\n        case \"medium\":\n        default:\n            return /* @__PURE__ */ jsx(\"img\", {\n                src: imageUrl,\n                alt: displayName,\n                css: imageStyles(48)\n            });\n    }\n};\nfunction _EMOTION_STRINGIFIED_CSS_ERROR__$7() {\n    return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\";\n}\nvar _ref$1 = process.env.NODE_ENV === \"production\" ? {\n    name: \"1fttcpj\",\n    styles: \"display:flex;flex-direction:column\"\n} : {\n    name: \"16nl6wb-Column\",\n    styles: \"display:flex;flex-direction:column;label:Column;\",\n    toString: _EMOTION_STRINGIFIED_CSS_ERROR__$7\n};\nconst Column = ({ children }) => /* @__PURE__ */ jsx(\"div\", {\n    css: _ref$1\n}, children);\nconst createAuthenticationEventParams = (componentId) => {\n    const params = `componentType=identityauthentication&componentId=${componentId}`;\n    return `componentEventParams=${encodeURIComponent(params)}`;\n};\nfunction _EMOTION_STRINGIFIED_CSS_ERROR__$6() {\n    return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\";\n}\nconst commentControlsLink = (pillar) => /* @__PURE__ */ css(\"margin-top:-2px;a{\", textSans.small({\n    fontWeight: \"bold\"\n}), \" margin-right:\", space[2], \"px;color:\", palette[pillarToString(pillar)][400], \";:hover{text-decoration:none;text-decoration-color:none;span{color:\", palette[pillarToString(pillar)][400], \";text-decoration:underline;text-decoration-color:\", palette[pillarToString(pillar)][400], \";}}}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:commentControlsLink;\"));\nconst spaceBetween = process.env.NODE_ENV === \"production\" ? {\n    name: \"1eoy87d\",\n    styles: \"display:flex;justify-content:space-between\"\n} : {\n    name: \"tsx0rx-spaceBetween\",\n    styles: \"display:flex;justify-content:space-between;label:spaceBetween;\",\n    toString: _EMOTION_STRINGIFIED_CSS_ERROR__$6\n};\nconst commentCss = /* @__PURE__ */ css(\"display:block;clear:left;\", textSans.small(), \" margin-top:\", remSpace[2], \";margin-bottom:\", remSpace[3], \";word-break:break-word;p{margin-top:0;margin-bottom:\", space[3], \"px;}blockquote{margin-top:\", space[3], \"px;margin-bottom:\", space[3], \"px;margin-left:\", space[5], \"px;margin-right:\", space[5], \"px;padding-left:\", space[2], \"px;color:\", neutral[46], \";}i{font-style:italic;}b{font-weight:bold;}code{font-family:monospace;font-size:1em;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:commentCss;\"));\nconst blockedCommentStyles = /* @__PURE__ */ css(\"color:\", neutral[46], \";\", textSans.xxsmall(), \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:blockedCommentStyles;\"));\nconst commentLinkStyling = /* @__PURE__ */ css(\"a{color:\", brand[500], \";text-decoration:none;:hover{text-decoration:underline;}}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:commentLinkStyling;\"));\nconst commentWrapper = /* @__PURE__ */ css(\"border-top:1px solid \", border.secondary, \";display:flex;padding:\", space[2], \"px 0;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:commentWrapper;\"));\nconst selectedStyles$1 = /* @__PURE__ */ css(\"background-color:\", neutral[97], \";margin-left:-\", space[2], \"px;padding-left:\", space[2], \"px;margin-right:-\", space[2], \"px;padding-right:\", space[2], \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:selectedStyles;\"));\nconst avatarMargin$1 = /* @__PURE__ */ css(\"margin-right:\", space[2], \"px;\", until.mobileLandscape, \"{display:none;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:avatarMargin;\"));\nconst colourStyles = (pillar) => /* @__PURE__ */ css(\"a{color:\", palette[pillarToString(pillar)][400], \";text-decoration-color:\", palette[pillarToString(pillar)][400], \";:hover{color:\", palette[pillarToString(pillar)][400], \";text-decoration-color:\", palette[pillarToString(pillar)][400], \";}}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:colourStyles;\"));\nconst boldFont = /* @__PURE__ */ css(\"a{\", textSans.small({\n    fontWeight: \"bold\"\n}), \";}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:boldFont;\"));\nconst regularFont = /* @__PURE__ */ css(\"a{\", textSans.small(), \";}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:regularFont;\"));\nconst svgReplyArrow = /* @__PURE__ */ css(\"svg{fill:\", neutral[46], \"!important;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:svgReplyArrow;\"));\nconst commentDetails = process.env.NODE_ENV === \"production\" ? {\n    name: \"yr9n6z\",\n    styles: \"flex-grow:1;width:100%\"\n} : {\n    name: \"g1ds39-commentDetails\",\n    styles: \"flex-grow:1;width:100%;label:commentDetails;\",\n    toString: _EMOTION_STRINGIFIED_CSS_ERROR__$6\n};\nconst headerStyles = process.env.NODE_ENV === \"production\" ? {\n    name: \"4c6dm7\",\n    styles: \"display:flex;flex-direction:row;justify-content:space-between\"\n} : {\n    name: \"1y1oofc-headerStyles\",\n    styles: \"display:flex;flex-direction:row;justify-content:space-between;label:headerStyles;\",\n    toString: _EMOTION_STRINGIFIED_CSS_ERROR__$6\n};\nconst iconWrapper = process.env.NODE_ENV === \"production\" ? {\n    name: \"n6f5a6\",\n    styles: \"padding:2px;white-space:nowrap\"\n} : {\n    name: \"1hom060-iconWrapper\",\n    styles: \"padding:2px;white-space:nowrap;label:iconWrapper;\",\n    toString: _EMOTION_STRINGIFIED_CSS_ERROR__$6\n};\nconst timestampWrapperStyles = /* @__PURE__ */ css(\"margin-left:\", space[2], \"px;margin-bottom:-2px;display:flex;flex-direction:column;justify-content:center;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:timestampWrapperStyles;\"));\nconst hideBelowMobileLandscape = /* @__PURE__ */ css(until.mobileLandscape, \"{display:none;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:hideBelowMobileLandscape;\"));\nconst hideAboveMobileLandscape = /* @__PURE__ */ css(from.mobileLandscape, \"{display:none;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:hideAboveMobileLandscape;\"));\nconst negativeMargin = process.env.NODE_ENV === \"production\" ? {\n    name: \"w1bd1c\",\n    styles: \"margin-top:0px;margin-bottom:-6px\"\n} : {\n    name: \"cu5d3a-negativeMargin\",\n    styles: \"margin-top:0px;margin-bottom:-6px;label:negativeMargin;\",\n    toString: _EMOTION_STRINGIFIED_CSS_ERROR__$6\n};\nconst cssTextOverflowElip = process.env.NODE_ENV === \"production\" ? {\n    name: \"1h52dri\",\n    styles: \"overflow:hidden;text-overflow:ellipsis;white-space:nowrap\"\n} : {\n    name: \"1mber9s-cssTextOverflowElip\",\n    styles: \"overflow:hidden;text-overflow:ellipsis;white-space:nowrap;label:cssTextOverflowElip;\",\n    toString: _EMOTION_STRINGIFIED_CSS_ERROR__$6\n};\nconst cssReplyToWrapper = /* @__PURE__ */ css(until.mobileLandscape, \"{padding-right:10px;width:calc(100% - 35px);box-sizing:border-box;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:cssReplyToWrapper;\"));\nconst buttonLinkPillarBaseStyles$1 = (pillar) => /* @__PURE__ */ css(\"button{color:\", palette[pillarToString(pillar)][400], \";background-color:transparent;height:18px;min-height:18px;border-radius:0;:hover{text-decoration:underline;text-decoration-color:\", palette[pillarToString(pillar)][400], \";}}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:buttonLinkPillarBaseStyles;\"));\nconst buttonLinkBaseStyles$1 = /* @__PURE__ */ css(\"button{color:\", neutral[46], \";background-color:transparent;height:18px;min-height:18px;border-radius:0;:hover{text-decoration:underline;text-decoration-color:\", neutral[46], \";}}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:buttonLinkBaseStyles;\"));\nconst subdued = process.env.NODE_ENV === \"production\" ? {\n    name: \"g65o95\",\n    styles: \"text-decoration:none\"\n} : {\n    name: \"10ij9gz-subdued\",\n    styles: \"text-decoration:none;label:subdued;\",\n    toString: _EMOTION_STRINGIFIED_CSS_ERROR__$6\n};\nconst cssReplyAlphaDisplayName = /* @__PURE__ */ css(until.mobileLandscape, \"{\", cssTextOverflowElip, \" width:100%;max-width:fit-content;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:cssReplyAlphaDisplayName;\"));\nconst cssReplyBetaDisplayName = /* @__PURE__ */ css(until.mobileLandscape, \"{\", cssTextOverflowElip, \" min-width:40%;flex-grow:1;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:cssReplyBetaDisplayName;\"));\nconst Space$1 = ({ amount }) => /* @__PURE__ */ jsx(\"div\", {\n    css: /* @__PURE__ */ css(\"width:\", space[amount], \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:Space;\"))\n});\nvar _ref = process.env.NODE_ENV === \"production\" ? {\n    name: \"bjn8wh\",\n    styles: \"position:relative\"\n} : {\n    name: \"10qj0iv-Comment\",\n    styles: \"position:relative;label:Comment;\",\n    toString: _EMOTION_STRINGIFIED_CSS_ERROR__$6\n};\nvar _ref2 = process.env.NODE_ENV === \"production\" ? {\n    name: \"hwfcu5\",\n    styles: \"color:red\"\n} : {\n    name: \"105x05d-Comment\",\n    styles: \"color:red;label:Comment;\",\n    toString: _EMOTION_STRINGIFIED_CSS_ERROR__$6\n};\nconst Comment = ({ comment: comment2, pillar, isClosedForComments, setCommentBeingRepliedTo, user, isReply, wasScrolledTo, isMuted, toggleMuteStatus, onPermalinkClick, onRecommend }) => {\n    const [isHighlighted, setIsHighlighted] = useState(comment2.isHighlighted);\n    const [error, setError] = useState();\n    const [showAbuseReportForm, setAbuseReportForm] = useState(false);\n    const toggleSetShowForm = () => setAbuseReportForm(!showAbuseReportForm);\n    const pick = async () => {\n        setError(\"\");\n        const response = await pickComment(comment2.id);\n        if (response.status === \"error\") {\n            setError(response.message);\n        }\n        else {\n            setIsHighlighted(true);\n        }\n    };\n    const unPick = async () => {\n        setError(\"\");\n        const response = await unPickComment(comment2.id);\n        if (response.status === \"error\") {\n            setError(response.message);\n        }\n        else {\n            setIsHighlighted(false);\n        }\n    };\n    const showStaffBadge = comment2.userProfile.badge.find((obj) => obj[\"name\"] === \"Staff\");\n    const showPickBadge = comment2.status !== \"blocked\" && isHighlighted;\n    const showContributorBadge = comment2.userProfile.badge.find((obj) => obj[\"name\"] === \"Contributor\");\n    return /* @__PURE__ */ jsx(React.Fragment, null, error && /* @__PURE__ */ jsx(\"span\", {\n        css: _ref2\n    }, error), /* @__PURE__ */ jsx(\"div\", {\n        id: `comment-${comment2.id}`,\n        \"data-testid\": comment2.id,\n        css: [commentWrapper, wasScrolledTo && selectedStyles$1, process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\"]\n    }, /* @__PURE__ */ jsx(\"div\", {\n        css: avatarMargin$1\n    }, /* @__PURE__ */ jsx(Avatar, {\n        imageUrl: comment2.userProfile.avatar,\n        displayName: comment2.userProfile.displayName,\n        size: isReply ? \"small\" : \"medium\"\n    })), /* @__PURE__ */ jsx(\"div\", {\n        css: commentDetails\n    }, /* @__PURE__ */ jsx(\"header\", {\n        css: headerStyles\n    }, /* @__PURE__ */ jsx(\"div\", {\n        css: cssReplyToWrapper\n    }, /* @__PURE__ */ jsx(Column, null, /* @__PURE__ */ jsx(\"div\", {\n        css: [comment2.responseTo && hideBelowMobileLandscape, hideAboveMobileLandscape, process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\"]\n    }, /* @__PURE__ */ jsx(Row, null, /* @__PURE__ */ jsx(\"div\", {\n        css: /* @__PURE__ */ css(\"margin-right:\", space[2], \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\"))\n    }, /* @__PURE__ */ jsx(Avatar, {\n        imageUrl: comment2.userProfile.avatar,\n        displayName: \"\",\n        size: \"small\"\n    })), /* @__PURE__ */ jsx(Column, null, /* @__PURE__ */ jsx(\"div\", {\n        css: [colourStyles(pillar), boldFont, negativeMargin, process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\"]\n    }, /* @__PURE__ */ jsx(Link, {\n        href: comment2.userProfile.webUrl,\n        cssOverrides: subdued,\n        rel: \"nofollow\"\n    }, comment2.userProfile.displayName)), /* @__PURE__ */ jsx(Timestamp, {\n        isoDateTime: comment2.isoDateTime,\n        webUrl: comment2.webUrl,\n        commentId: comment2.id,\n        onPermalinkClick\n    })))), /* @__PURE__ */ jsx(\"div\", {\n        css: [!comment2.responseTo && hideBelowMobileLandscape, process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\"]\n    }, /* @__PURE__ */ jsx(Row, null, /* @__PURE__ */ jsx(\"div\", {\n        css: [colourStyles(pillar), boldFont, cssReplyAlphaDisplayName, process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\"]\n    }, /* @__PURE__ */ jsx(Link, {\n        href: comment2.userProfile.webUrl,\n        cssOverrides: subdued,\n        rel: \"nofollow\"\n    }, comment2.userProfile.displayName)), comment2.responseTo ? /* @__PURE__ */ jsx(\"div\", {\n        css: [colourStyles(pillar), regularFont, svgReplyArrow, cssReplyBetaDisplayName, process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\"]\n    }, /* @__PURE__ */ jsx(Link, {\n        href: `#comment-${comment2.responseTo.commentId}`,\n        cssOverrides: subdued,\n        icon: /* @__PURE__ */ jsx(SvgIndent, null),\n        iconSide: \"left\",\n        rel: \"nofollow\"\n    }, comment2.responseTo.displayName)) : /* @__PURE__ */ jsx(React.Fragment, null), /* @__PURE__ */ jsx(\"div\", {\n        css: [timestampWrapperStyles, comment2.responseTo && hideBelowMobileLandscape, process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\"]\n    }, /* @__PURE__ */ jsx(Timestamp, {\n        isoDateTime: comment2.isoDateTime,\n        webUrl: comment2.webUrl,\n        commentId: comment2.id,\n        onPermalinkClick\n    }))), /* @__PURE__ */ jsx(Row, null, showStaffBadge && /* @__PURE__ */ jsx(\"div\", {\n        css: iconWrapper\n    }, /* @__PURE__ */ jsx(GuardianStaff, null)), showContributorBadge && !showStaffBadge && /* @__PURE__ */ jsx(\"div\", {\n        css: iconWrapper\n    }, /* @__PURE__ */ jsx(GuardianContributor, null)), showPickBadge && /* @__PURE__ */ jsx(\"div\", {\n        css: iconWrapper\n    }, /* @__PURE__ */ jsx(GuardianPick, null)))))), comment2.status !== \"blocked\" && /* @__PURE__ */ jsx(RecommendationCount, {\n        commentId: comment2.id,\n        initialCount: comment2.numRecommends,\n        alreadyRecommended: false,\n        isSignedIn: !!user,\n        onRecommend,\n        userMadeComment: !!user && user.userId === comment2.userProfile.userId\n    })), /* @__PURE__ */ jsx(\"div\", {\n        css: [comment2.responseTo && hideBelowMobileLandscape, hideAboveMobileLandscape, process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\"]\n    }, /* @__PURE__ */ jsx(Row, null, showStaffBadge && /* @__PURE__ */ jsx(\"div\", {\n        css: iconWrapper\n    }, /* @__PURE__ */ jsx(GuardianStaff, null)), showContributorBadge && !showStaffBadge && /* @__PURE__ */ jsx(\"div\", {\n        css: iconWrapper\n    }, /* @__PURE__ */ jsx(GuardianContributor, null)), showPickBadge && /* @__PURE__ */ jsx(\"div\", {\n        css: iconWrapper\n    }, /* @__PURE__ */ jsx(GuardianPick, null)))), isMuted && /* @__PURE__ */ jsx(\"p\", {\n        css: blockedCommentStyles\n    }, /* @__PURE__ */ jsx(Row, null, /* @__PURE__ */ jsx(React.Fragment, null, \"All posts from this user have been muted on this device.\"), /* @__PURE__ */ jsx(Space$1, {\n        amount: 1\n    }), /* @__PURE__ */ jsx(\"div\", {\n        css: [buttonLinkBaseStyles$1, /* @__PURE__ */ css(\"button{\", textSans.xxsmall({\n                fontWeight: \"bold\"\n            }), \";}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\")), process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\"]\n    }, /* @__PURE__ */ jsx(Button, {\n        priority: \"subdued\",\n        size: \"xsmall\",\n        onClick: () => toggleMuteStatus(comment2.userProfile.userId),\n        \"data-link-name\": \"unmute-user\"\n    }, \"Unmute?\")))), !isMuted && comment2.status === \"blocked\" && /* @__PURE__ */ jsx(\"p\", {\n        css: [blockedCommentStyles, commentLinkStyling, process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\"],\n        dangerouslySetInnerHTML: {\n            __html: comment2.body\n        }\n    }), !isMuted && comment2.status !== \"blocked\" && /* @__PURE__ */ jsx(React.Fragment, null, /* @__PURE__ */ jsx(\"div\", {\n        css: [commentCss, commentLinkStyling, process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\"],\n        dangerouslySetInnerHTML: {\n            __html: comment2.body\n        }\n    }), /* @__PURE__ */ jsx(\"div\", {\n        css: spaceBetween\n    }, /* @__PURE__ */ jsx(Row, null, !isClosedForComments && /* @__PURE__ */ jsx(React.Fragment, null, user ? /* @__PURE__ */ jsx(\"div\", {\n        css: [svgReplyArrow, buttonLinkPillarBaseStyles$1(pillar), /* @__PURE__ */ css(\"button{\", textSans.small({\n                fontWeight: \"bold\"\n            }), \";}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\")), process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\"]\n    }, /* @__PURE__ */ jsx(Button, {\n        priority: \"subdued\",\n        onClick: () => setCommentBeingRepliedTo(comment2),\n        icon: /* @__PURE__ */ jsx(SvgIndent, null),\n        iconSide: \"left\",\n        \"data-link-name\": \"reply to comment\"\n    }, \"Reply\")) : /* @__PURE__ */ jsx(\"div\", {\n        css: [svgReplyArrow, commentControlsLink(pillar), process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\"]\n    }, /* @__PURE__ */ jsx(Link, {\n        href: `https://profile.theguardian.com/signin?returnUrl=${comment2.webUrl}&${createAuthenticationEventParams(\"signin_to_reply_comment\")}`,\n        cssOverrides: subdued,\n        icon: /* @__PURE__ */ jsx(SvgIndent, null),\n        iconSide: \"left\",\n        rel: \"nofollow\"\n    }, /* @__PURE__ */ jsx(\"span\", {\n        \"data-link-name\": \"reply to comment\"\n    }, \"Reply\"))), /* @__PURE__ */ jsx(Space$1, {\n        amount: 4\n    })), /* @__PURE__ */ jsx(Space$1, {\n        amount: 4\n    }), user && user.badge.some((e) => e.name === \"Staff\") && user.userId !== comment2.userProfile.userId && /* @__PURE__ */ jsx(\"div\", {\n        css: [buttonLinkPillarBaseStyles$1(pillar), /* @__PURE__ */ css(\"button{\", textSans.small({\n                fontWeight: \"bold\"\n            }), \";}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\")), process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\"]\n    }, /* @__PURE__ */ jsx(Button, {\n        priority: \"subdued\",\n        onClick: isHighlighted ? unPick : pick,\n        \"data-link-name\": isHighlighted ? \"unpick-comment\" : \"pick-comment\"\n    }, isHighlighted ? \"Unpick\" : \"Pick\"))), /* @__PURE__ */ jsx(Row, null, user && comment2.userProfile.userId !== user.userId ? /* @__PURE__ */ jsx(\"div\", {\n        css: [buttonLinkBaseStyles$1, /* @__PURE__ */ css(\"button{\", textSans.xxsmall(), \";}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\")), process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\"]\n    }, /* @__PURE__ */ jsx(Button, {\n        priority: \"subdued\",\n        size: \"small\",\n        onClick: () => toggleMuteStatus(comment2.userProfile.userId),\n        \"data-link-name\": \"mute-user\"\n    }, \"Mute\")) : /* @__PURE__ */ jsx(React.Fragment, null), /* @__PURE__ */ jsx(Space$1, {\n        amount: 4\n    }), /* @__PURE__ */ jsx(\"div\", {\n        css: [buttonLinkBaseStyles$1, /* @__PURE__ */ css(\"button{\", textSans.xxsmall(), \";}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\")), process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\"]\n    }, /* @__PURE__ */ jsx(Button, {\n        priority: \"subdued\",\n        size: \"small\",\n        onClick: toggleSetShowForm,\n        \"data-link-name\": \"Open report abuse\"\n    }, \"Report\")), showAbuseReportForm && /* @__PURE__ */ jsx(\"div\", {\n        css: _ref\n    }, /* @__PURE__ */ jsx(AbuseReportForm, {\n        toggleSetShowForm,\n        pillar,\n        commentId: comment2.id\n    }))))))));\n};\nconst Space = ({ amount }) => /* @__PURE__ */ jsx(\"div\", {\n    css: /* @__PURE__ */ css(\"width:\", space[amount], \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:Space;\"))\n});\nconst indentStyles = /* @__PURE__ */ css(\"width:18px;svg{fill:\", neutral[46], \"!important;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:indentStyles;\"));\nconst smallFontStyles = /* @__PURE__ */ css(textSans.small(), \";line-height:19px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:smallFontStyles;\"));\nconst replyPreviewHeaderStyle = /* @__PURE__ */ css(textSans.small({\n    fontWeight: \"bold\"\n}), \";margin-top:0px;margin-bottom:\", space[2], \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:replyPreviewHeaderStyle;\"));\nconst arrowSize$1 = 15;\nconst bg$1 = neutral[93];\nconst previewStyle = /* @__PURE__ */ css(\"padding-top:\", space[3], \"px;padding-bottom:\", space[3], \"px;padding-left:\", space[5], \"px;padding-right:\", space[5], \"px;background-color:\", bg$1, \";margin-top:\", arrowSize$1, \"px;margin-bottom:\", arrowSize$1 + 5, \"px;position:relative;display:flex;flex-direction:column;:before{content:'';position:absolute;border-left:\", arrowSize$1, \"px solid \", bg$1, \";border-top:\", arrowSize$1, \"px solid transparent;top:-\", arrowSize$1 - 1, \"px;margin-left:\", space[9], \"px;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:previewStyle;\"));\nconst commentStyles = /* @__PURE__ */ css(\"p{\", textSans.small(), \";margin-top:0px;margin-bottom:\", space[3], \"px;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:commentStyles;\"));\nconst blueLink = /* @__PURE__ */ css(\"color:\", text.anchorPrimary, \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:blueLink;\"));\nconst buttonLinkPillarBaseStyles = (pillar) => /* @__PURE__ */ css(\"button{color:\", palette[pillarToString(pillar)][400], \";background-color:transparent;height:18px;min-height:18px;border-radius:0;:hover{text-decoration:underline;text-decoration-color:\", palette[pillarToString(pillar)][400], \";}}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:buttonLinkPillarBaseStyles;\"));\nconst buttonLinkBaseStyles = /* @__PURE__ */ css(\"button{color:\", neutral[46], \";background-color:transparent;height:18px;min-height:18px;border-radius:0;:hover{text-decoration:underline;text-decoration-color:\", neutral[46], \";}}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:buttonLinkBaseStyles;\"));\nconst CommentReplyPreview = ({ pillar, commentBeingRepliedTo }) => {\n    const [displayReplyComment, setDisplayReplyComment] = useState(false);\n    return /* @__PURE__ */ jsx(React.Fragment, null, /* @__PURE__ */ jsx(Row, null, /* @__PURE__ */ jsx(\"div\", {\n        css: indentStyles\n    }, /* @__PURE__ */ jsx(SvgIndent, null)), /* @__PURE__ */ jsx(Space, {\n        amount: 1\n    }), /* @__PURE__ */ jsx(\"div\", {\n        css: smallFontStyles\n    }, commentBeingRepliedTo.userProfile.displayName), /* @__PURE__ */ jsx(Space, {\n        amount: 3\n    }), /* @__PURE__ */ jsx(\"div\", {\n        css: [buttonLinkPillarBaseStyles(pillar), /* @__PURE__ */ css(\"button{\", textSans.small({\n                fontWeight: \"bold\"\n            }), \";}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:CommentReplyPreview;\")), process.env.NODE_ENV === \"production\" ? \"\" : \";label:CommentReplyPreview;\"]\n    }, /* @__PURE__ */ jsx(Button, {\n        priority: \"subdued\",\n        onClick: () => setDisplayReplyComment(!displayReplyComment),\n        \"data-link-name\": displayReplyComment ? \"reply-comment-hide\" : \"reply-comment-show\"\n    }, displayReplyComment ? \"Hide Comment\" : \"Show comment\"))), displayReplyComment && /* @__PURE__ */ jsx(Preview, {\n        commentBeingRepliedTo,\n        setDisplayReplyComment,\n        displayReplyComment\n    }));\n};\nconst Preview = ({ commentBeingRepliedTo, setDisplayReplyComment, displayReplyComment }) => {\n    return /* @__PURE__ */ jsx(\"div\", {\n        css: previewStyle\n    }, /* @__PURE__ */ jsx(\"p\", {\n        css: replyPreviewHeaderStyle\n    }, commentBeingRepliedTo.userProfile.displayName, \" @\", \" \", commentBeingRepliedTo.date, \" said:\"), /* @__PURE__ */ jsx(\"div\", {\n        css: commentStyles,\n        dangerouslySetInnerHTML: {\n            __html: commentBeingRepliedTo.body || \"\"\n        }\n    }), /* @__PURE__ */ jsx(\"div\", {\n        css: [buttonLinkBaseStyles, /* @__PURE__ */ css(\"button{\", textSans.small(), \";}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:Preview;\")), process.env.NODE_ENV === \"production\" ? \"\" : \";label:Preview;\"]\n    }, /* @__PURE__ */ jsx(Button, {\n        priority: \"subdued\",\n        onClick: () => setDisplayReplyComment(!displayReplyComment),\n        \"data-link-name\": \"hide-comment\"\n    }, /* @__PURE__ */ jsx(\"span\", {\n        css: blueLink\n    }, \"Hide Comment\"))));\n};\nfunction _EMOTION_STRINGIFIED_CSS_ERROR__$5() {\n    return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\";\n}\nconst nestingStyles = /* @__PURE__ */ css(\"list-style-type:none;padding-left:\", space[2], \"px;margin-left:\", space[12], \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:nestingStyles;\"));\nconst topBorder = /* @__PURE__ */ css(\"border-top:1px solid \", border.secondary, \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:topBorder;\"));\nconst commentContainerStyles$1 = process.env.NODE_ENV === \"production\" ? {\n    name: \"1nr1hck\",\n    styles: \"list-style-type:none;padding-left:0\"\n} : {\n    name: \"1nau0cv-commentContainerStyles\",\n    styles: \"list-style-type:none;padding-left:0;label:commentContainerStyles;\",\n    toString: _EMOTION_STRINGIFIED_CSS_ERROR__$5\n};\nconst selectedStyles = /* @__PURE__ */ css(\"background-color:\", neutral[97], \";margin-left:-\", space[2], \"px;padding-left:\", space[2], \"px;margin-right:-\", space[2], \"px;padding-right:\", space[2], \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:selectedStyles;\"));\nconst removeMargin = process.env.NODE_ENV === \"production\" ? {\n    name: \"cfjpzu\",\n    styles: \"margin:0px\"\n} : {\n    name: \"wqf8ry-removeMargin\",\n    styles: \"margin:0px;label:removeMargin;\",\n    toString: _EMOTION_STRINGIFIED_CSS_ERROR__$5\n};\nconst CommentContainer = ({ comment: comment2, pillar, isClosedForComments, user, shortUrl, threads, commentBeingRepliedTo, setCommentBeingRepliedTo, commentToScrollTo, mutes, toggleMuteStatus, onPermalinkClick, onRecommend, onComment, onReply, onPreview }) => {\n    const [expanded, setExpanded] = useState(threads === \"expanded\");\n    const [responses, setResponses] = useState(comment2.responses || []);\n    const [loading, setLoading] = useState(false);\n    const showResponses = threads !== \"unthreaded\";\n    const decideShowMoreText = () => {\n        const remainingResponses = comment2.metaData && comment2.metaData.responseCount && comment2.metaData.responseCount - 3;\n        if (remainingResponses === 1)\n            return `Show 1 more reply`;\n        return `Show ${remainingResponses} more replies`;\n    };\n    useEffect(() => {\n        setResponses(comment2.responses || []);\n    }, [comment2]);\n    const expand = (commentId) => {\n        setLoading(true);\n        getMoreResponses(commentId).then((json) => {\n            setExpanded(true);\n            setResponses(json.comment.responses || []);\n        }).finally(() => {\n            setLoading(false);\n        });\n    };\n    return /* @__PURE__ */ jsx(\"div\", {\n        css: [commentToScrollTo === comment2.id && selectedStyles, process.env.NODE_ENV === \"production\" ? \"\" : \";label:CommentContainer;\"]\n    }, /* @__PURE__ */ jsx(Comment, {\n        comment: comment2,\n        pillar,\n        isClosedForComments,\n        setCommentBeingRepliedTo,\n        user,\n        isReply: false,\n        isMuted: mutes.includes(comment2.userProfile.userId),\n        toggleMuteStatus,\n        onPermalinkClick,\n        onRecommend\n    }), /* @__PURE__ */ jsx(React.Fragment, null, showResponses && responses && /* @__PURE__ */ jsx(\"div\", {\n        css: nestingStyles\n    }, /* @__PURE__ */ jsx(\"ul\", {\n        css: [commentContainerStyles$1, removeMargin, process.env.NODE_ENV === \"production\" ? \"\" : \";label:CommentContainer;\"]\n    }, responses.map((responseComment) => /* @__PURE__ */ jsx(\"li\", {\n        key: responseComment.id\n    }, /* @__PURE__ */ jsx(Comment, {\n        comment: responseComment,\n        pillar,\n        isClosedForComments,\n        setCommentBeingRepliedTo,\n        user,\n        isReply: true,\n        wasScrolledTo: commentToScrollTo === responseComment.id,\n        isMuted: mutes.includes(responseComment.userProfile.userId),\n        toggleMuteStatus,\n        onPermalinkClick\n    })))), !expanded && comment2.metaData && comment2.metaData.responseCount && comment2.metaData.responseCount > 3 && /* @__PURE__ */ jsx(\"div\", {\n        css: [topBorder, /* @__PURE__ */ css(\"padding-top:\", space[3], \"px;padding-bottom:\", space[3], \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:CommentContainer;\")), process.env.NODE_ENV === \"production\" ? \"\" : \";label:CommentContainer;\"]\n    }, /* @__PURE__ */ jsx(PillarButton, {\n        priority: \"secondary\",\n        icon: /* @__PURE__ */ jsx(SvgPlus, null),\n        iconSide: \"left\",\n        linkName: \"Show more replies\",\n        onClick: () => expand(comment2.id),\n        pillar,\n        size: \"xsmall\"\n    }, loading ? \"loading...\" : decideShowMoreText()))), commentBeingRepliedTo && (commentBeingRepliedTo.id === comment2.id || responses.find((response) => response.id === commentBeingRepliedTo.id)) && user && /* @__PURE__ */ jsx(\"div\", {\n        id: `comment-reply-form-${commentBeingRepliedTo.id}`,\n        css: nestingStyles\n    }, /* @__PURE__ */ jsx(CommentReplyPreview, {\n        pillar,\n        commentBeingRepliedTo\n    }), /* @__PURE__ */ jsx(CommentForm, {\n        shortUrl,\n        pillar,\n        onAddComment: (response) => setResponses([...responses, response]),\n        user,\n        setCommentBeingRepliedTo,\n        commentBeingRepliedTo,\n        onComment,\n        onReply,\n        onPreview\n    }))));\n};\nfunction _EMOTION_STRINGIFIED_CSS_ERROR__$4() {\n    return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\";\n}\nconst pickStyles = /* @__PURE__ */ css(\"display:flex;flex-direction:column;width:100%;min-width:250px;margin-bottom:\", space[5], \"px;\", textSans.small(), \";blockquote{margin-top:\", space[3], \"px;margin-bottom:\", space[3], \"px;margin-left:\", space[5], \"px;margin-right:\", space[5], \"px;padding-left:\", space[2], \"px;color:\", neutral[46], \";}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:pickStyles;\"));\nconst arrowSize = 25;\nconst bg = neutral[93];\nconst userNameStyles = (pillar) => /* @__PURE__ */ css(\"margin-top:3px;margin-bottom:-6px;font-weight:bold;color:\", palette[pillarToString(pillar)][400], \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:userNameStyles;\"));\nconst avatarMargin = /* @__PURE__ */ css(\"margin-right:\", space[2], \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:avatarMargin;\"));\nconst smallFontSize = /* @__PURE__ */ css(\"a{\", textSans.small(), \";}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:smallFontSize;\"));\nconst linkStyles$1 = process.env.NODE_ENV === \"production\" ? {\n    name: \"icokh\",\n    styles: \"text-decoration:none;:hover{text-decoration:underline;}\"\n} : {\n    name: \"fryv0j-linkStyles\",\n    styles: \"text-decoration:none;:hover{text-decoration:underline;};label:linkStyles;\",\n    toString: _EMOTION_STRINGIFIED_CSS_ERROR__$4\n};\nconst inCommentLinkStyling = /* @__PURE__ */ css(\"a{color:\", brand[500], \";text-decoration:none;:hover{text-decoration:underline;}}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:inCommentLinkStyling;\"));\nconst titleStyles = /* @__PURE__ */ css(textSans.small(), \";font-weight:bold;margin:0px;margin-bottom:\", space[1], \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:titleStyles;\"));\nconst inheritColour = process.env.NODE_ENV === \"production\" ? {\n    name: \"opde7s\",\n    styles: \"color:inherit\"\n} : {\n    name: \"qxm5sx-inheritColour\",\n    styles: \"color:inherit;label:inheritColour;\",\n    toString: _EMOTION_STRINGIFIED_CSS_ERROR__$4\n};\nconst wrapStyles = process.env.NODE_ENV === \"production\" ? {\n    name: \"1sdjnkx\",\n    styles: \"word-break:break-word\"\n} : {\n    name: \"1iawgmj-wrapStyles\",\n    styles: \"word-break:break-word;label:wrapStyles;\",\n    toString: _EMOTION_STRINGIFIED_CSS_ERROR__$4\n};\nconst PickBubble = ({ children }) => /* @__PURE__ */ jsx(\"div\", {\n    css: /* @__PURE__ */ css(\"display:flex;flex-direction:column;justify-content:space-between;padding:\", space[3], \"px;background-color:\", bg, \";border-radius:15px;margin-bottom:\", arrowSize + 5, \"px;position:relative;\", from.tablet, \"{min-height:150px;}:before{content:'';margin-left:\", space[6], \"px;position:absolute;border-right:\", arrowSize, \"px solid transparent;border-top:\", arrowSize, \"px solid \", bg, \";bottom:-\", arrowSize - 1, \"px;}p{margin-top:0;margin-bottom:\", space[3], \"px;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:PickBubble;\"))\n}, children);\nconst Top = ({ children }) => /* @__PURE__ */ jsx(\"div\", null, children);\nconst Bottom = ({ children }) => /* @__PURE__ */ jsx(\"div\", null, children);\nconst PickMeta = ({ children }) => /* @__PURE__ */ jsx(\"div\", {\n    css: /* @__PURE__ */ css(\"display:flex;justify-content:space-between;padding-top:\", space[1], \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:PickMeta;\"))\n}, children);\nconst truncateText = (input, limit) => {\n    if (input.length > limit)\n        return input.substr(0, limit) + \"&#8230;\";\n    return input;\n};\nconst TopPick = ({ pillar, comment: comment2, isSignedIn, userMadeComment, onPermalinkClick, onRecommend }) => {\n    const showStaffBadge = comment2.userProfile.badge.find((obj) => obj[\"name\"] === \"Staff\");\n    const showContributorBadge = comment2.userProfile.badge.find((obj) => obj[\"name\"] === \"Contributor\");\n    return /* @__PURE__ */ jsx(\"div\", {\n        css: pickStyles\n    }, /* @__PURE__ */ jsx(PickBubble, null, /* @__PURE__ */ jsx(Top, null, /* @__PURE__ */ jsx(\"h3\", {\n        css: titleStyles\n    }, \"Guardian Pick\"), /* @__PURE__ */ jsx(\"p\", {\n        css: [wrapStyles, inCommentLinkStyling, process.env.NODE_ENV === \"production\" ? \"\" : \";label:TopPick;\"],\n        dangerouslySetInnerHTML: {\n            __html: truncateText(comment2.body, 450)\n        }\n    })), /* @__PURE__ */ jsx(Bottom, null, /* @__PURE__ */ jsx(\"div\", {\n        css: smallFontSize\n    }, /* @__PURE__ */ jsx(Link, {\n        priority: \"primary\",\n        href: comment2.webUrl,\n        onClick: (e) => {\n            onPermalinkClick(comment2.id);\n            e.preventDefault();\n        },\n        rel: \"nofollow\"\n    }, \"Jump to comment\")))), /* @__PURE__ */ jsx(PickMeta, null, /* @__PURE__ */ jsx(Row, null, /* @__PURE__ */ jsx(\"div\", {\n        css: avatarMargin\n    }, /* @__PURE__ */ jsx(Avatar, {\n        imageUrl: comment2.userProfile.avatar,\n        displayName: \"\",\n        size: \"medium\"\n    })), /* @__PURE__ */ jsx(Column, null, /* @__PURE__ */ jsx(\"span\", {\n        css: userNameStyles(pillar)\n    }, /* @__PURE__ */ jsx(\"a\", {\n        href: comment2.userProfile.webUrl,\n        css: [linkStyles$1, inheritColour, process.env.NODE_ENV === \"production\" ? \"\" : \";label:TopPick;\"],\n        rel: \"nofollow\"\n    }, comment2.userProfile.displayName)), /* @__PURE__ */ jsx(Timestamp, {\n        isoDateTime: comment2.isoDateTime,\n        webUrl: comment2.webUrl,\n        commentId: comment2.id,\n        onPermalinkClick\n    }), showStaffBadge && /* @__PURE__ */ jsx(GuardianStaff, null), showContributorBadge && !showStaffBadge && /* @__PURE__ */ jsx(GuardianContributor, null))), /* @__PURE__ */ jsx(RecommendationCount, {\n        commentId: comment2.id,\n        initialCount: comment2.numRecommends,\n        alreadyRecommended: false,\n        isSignedIn,\n        userMadeComment,\n        onRecommend\n    })));\n};\nfunction _EMOTION_STRINGIFIED_CSS_ERROR__$3() {\n    return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\";\n}\nconst columWrapperStyles = process.env.NODE_ENV === \"production\" ? {\n    name: \"1vpe7s3\",\n    styles: \"width:50%;display:flex;flex-direction:column\"\n} : {\n    name: \"13r02rk-columWrapperStyles\",\n    styles: \"width:50%;display:flex;flex-direction:column;label:columWrapperStyles;\",\n    toString: _EMOTION_STRINGIFIED_CSS_ERROR__$3\n};\nconst paddingRight = process.env.NODE_ENV === \"production\" ? {\n    name: \"qzmnd2\",\n    styles: \"padding-right:10px\"\n} : {\n    name: \"1j5zwvk-paddingRight\",\n    styles: \"padding-right:10px;label:paddingRight;\",\n    toString: _EMOTION_STRINGIFIED_CSS_ERROR__$3\n};\nconst paddingLeft = process.env.NODE_ENV === \"production\" ? {\n    name: \"vnst0l\",\n    styles: \"padding-left:10px\"\n} : {\n    name: \"1sg36cb-paddingLeft\",\n    styles: \"padding-left:10px;label:paddingLeft;\",\n    toString: _EMOTION_STRINGIFIED_CSS_ERROR__$3\n};\nconst picksWrapper$1 = process.env.NODE_ENV === \"production\" ? {\n    name: \"798ujy\",\n    styles: \"width:100%;display:flex;flex-wrap:wrap\"\n} : {\n    name: \"es80al-picksWrapper\",\n    styles: \"width:100%;display:flex;flex-wrap:wrap;label:picksWrapper;\",\n    toString: _EMOTION_STRINGIFIED_CSS_ERROR__$3\n};\nconst twoColCommentsStyles = /* @__PURE__ */ css(\"width:100%;display:flex;flex-direction:row;\", until.tablet, \"{display:none;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:twoColCommentsStyles;\"));\nconst oneColCommentsStyles = /* @__PURE__ */ css(\"width:100%;\", from.tablet, \"{display:none;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:oneColCommentsStyles;\"));\nconst TopPicks = ({ pillar, user, comments, isSignedIn, onPermalinkClick, onRecommend }) => {\n    const leftColComments = [];\n    const rightColComments = [];\n    comments.forEach((comment2, index) => index % 2 === 0 ? leftColComments.push(comment2) : rightColComments.push(comment2));\n    return /* @__PURE__ */ jsx(\"div\", {\n        css: picksWrapper$1\n    }, /* @__PURE__ */ jsx(\"div\", {\n        css: twoColCommentsStyles\n    }, /* @__PURE__ */ jsx(\"div\", {\n        css: [columWrapperStyles, paddingRight, process.env.NODE_ENV === \"production\" ? \"\" : \";label:TopPicks;\"]\n    }, leftColComments.map((comment2) => /* @__PURE__ */ jsx(TopPick, {\n        key: comment2.id,\n        pillar,\n        comment: comment2,\n        isSignedIn,\n        userMadeComment: !!user && user.userId === comment2.userProfile.userId,\n        onPermalinkClick,\n        onRecommend\n    }))), /* @__PURE__ */ jsx(\"div\", {\n        css: [columWrapperStyles, paddingLeft, process.env.NODE_ENV === \"production\" ? \"\" : \";label:TopPicks;\"]\n    }, rightColComments.map((comment2) => /* @__PURE__ */ jsx(TopPick, {\n        key: comment2.id,\n        pillar,\n        comment: comment2,\n        isSignedIn,\n        userMadeComment: !!user && user.userId === comment2.userProfile.userId,\n        onPermalinkClick,\n        onRecommend\n    })))), /* @__PURE__ */ jsx(\"div\", {\n        css: oneColCommentsStyles\n    }, comments.map((comment2) => /* @__PURE__ */ jsx(TopPick, {\n        key: comment2.id,\n        pillar,\n        comment: comment2,\n        isSignedIn,\n        userMadeComment: !!user && user.userId === comment2.userProfile.userId,\n        onPermalinkClick,\n        onRecommend\n    }))));\n};\nfunction _EMOTION_STRINGIFIED_CSS_ERROR__$2() {\n    return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\";\n}\nconst containerStyles$1 = process.env.NODE_ENV === \"production\" ? {\n    name: \"bjn8wh\",\n    styles: \"position:relative\"\n} : {\n    name: \"15sq7p6-containerStyles\",\n    styles: \"position:relative;label:containerStyles;\",\n    toString: _EMOTION_STRINGIFIED_CSS_ERROR__$2\n};\nconst ulStyles = /* @__PURE__ */ css(\"z-index:2;list-style:none;border:1px solid \", border.secondary, \";margin-left:-8px;padding:0px;display:none;background-color:\", background.primary, \";position:absolute;\", until.tablet, \"{margin-top:4px;border-radius:0;overflow:auto;}\", from.tablet, \"{margin-top:12px;border-radius:3px;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:ulStyles;\"));\nconst ulExpanded = process.env.NODE_ENV === \"production\" ? {\n    name: \"4zleql\",\n    styles: \"display:block\"\n} : {\n    name: \"18t00wp-ulExpanded\",\n    styles: \"display:block;label:ulExpanded;\",\n    toString: _EMOTION_STRINGIFIED_CSS_ERROR__$2\n};\nconst linkStyles = (disabled) => /* @__PURE__ */ css(textSans.small(), \";text-align:left;color:\", disabled ? neutral[86] : neutral[46], \";position:relative;text-decoration:none;margin-top:1px;padding-top:8px;padding-right:30px;padding-bottom:8px;padding-left:8px;width:100%;cursor:\", disabled ? \"default\" : \"pointer\", \";background-color:white;border:none;\", !disabled && `\n    :hover {\n      background-color: ${neutral[93]};\n      text-decoration: underline;\n    }\n\n    :focus {\n      text-decoration: underline;\n    }\n  `, \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:linkStyles;\"));\nconst firstStyles = process.env.NODE_ENV === \"production\" ? {\n    name: \"1i9vogi\",\n    styles: \"margin-top:0\"\n} : {\n    name: \"9imhtt-firstStyles\",\n    styles: \"margin-top:0;label:firstStyles;\",\n    toString: _EMOTION_STRINGIFIED_CSS_ERROR__$2\n};\nconst activeStyles = (pillar) => /* @__PURE__ */ css(\"font-weight:bold;:after{content:'';border:2px solid \", palette[pillarToString(pillar)][400], \";border-top:0px;border-right:0px;position:absolute;top:12px;right:12px;width:8px;height:4px;transform:rotate(-45deg);}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:activeStyles;\"));\nconst buttonStyles = /* @__PURE__ */ css(textSans.small({\n    fontWeight: \"medium\"\n}), \";display:block;cursor:pointer;background:none;border:none;line-height:1.2;color:\", neutral[46], \";transition:color 80ms ease-out;padding:0px 10px 6px 0px;margin:1px 0 0;text-decoration:none;:hover{:after{transform:translateY(0) rotate(45deg);}}:after{content:'';display:inline-block;width:5px;height:5px;transform:translateY(-2px) rotate(45deg);border:1px solid currentColor;border-left:transparent;border-top:transparent;margin-left:5px;vertical-align:middle;transition:transform 250ms ease-out;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:buttonStyles;\"));\nconst expandedStyles = process.env.NODE_ENV === \"production\" ? {\n    name: \"1baa2f8\",\n    styles: \":hover:after{transform:translateY(-1px) rotate(-135deg);}:after{transform:translateY(1px) rotate(-135deg);}\"\n} : {\n    name: \"lvkrvz-expandedStyles\",\n    styles: \":hover:after{transform:translateY(-1px) rotate(-135deg);}:after{transform:translateY(1px) rotate(-135deg);};label:expandedStyles;\",\n    toString: _EMOTION_STRINGIFIED_CSS_ERROR__$2\n};\nconst labelStyles = /* @__PURE__ */ css(textSans.small({\n    fontWeight: \"bold\"\n}), \";color:\", neutral[46], \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:labelStyles;\"));\nconst Dropdown = ({ id, label, options: options2, pillar, onSelect }) => {\n    const [isExpanded, setIsExpanded] = useState(false);\n    useEffect(() => {\n        const dismissOnEsc = (event) => {\n            if (isExpanded && event.code === \"Escape\") {\n                setIsExpanded(false);\n            }\n        };\n        document.addEventListener(\"keydown\", dismissOnEsc, false);\n        return () => document.removeEventListener(\"keydown\", dismissOnEsc);\n    }, [isExpanded]);\n    useEffect(() => {\n        const dismissOnClick = (event) => {\n            if (isExpanded) {\n                event.stopPropagation();\n                setIsExpanded(false);\n            }\n        };\n        document.addEventListener(\"click\", dismissOnClick, false);\n        return () => document.removeEventListener(\"click\", dismissOnClick);\n    }, [isExpanded]);\n    const dropdownID = `dropbox-id-${id}`;\n    const activeLink = options2.find((option) => option.isActive);\n    return /* @__PURE__ */ jsx(\"div\", {\n        css: containerStyles$1\n    }, /* @__PURE__ */ jsx(\"div\", {\n        css: labelStyles\n    }, label, /* @__PURE__ */ jsx(\"button\", {\n        onClick: () => setIsExpanded(!isExpanded),\n        css: [buttonStyles, isExpanded && expandedStyles, process.env.NODE_ENV === \"production\" ? \"\" : \";label:Dropdown;\"],\n        \"aria-controls\": dropdownID,\n        \"aria-expanded\": isExpanded ? \"true\" : \"false\"\n    }, activeLink ? activeLink.title : \"Please select\")), /* @__PURE__ */ jsx(\"ul\", {\n        id: dropdownID,\n        css: [ulStyles, isExpanded && ulExpanded, process.env.NODE_ENV === \"production\" ? \"\" : \";label:Dropdown;\"]\n    }, options2.map((option, index) => /* @__PURE__ */ jsx(\"li\", {\n        key: option.title\n    }, /* @__PURE__ */ jsx(\"button\", {\n        onClick: () => onSelect(option.value),\n        css: [linkStyles(!!option.disabled), option.isActive && activeStyles(pillar), index === 0 && firstStyles, process.env.NODE_ENV === \"production\" ? \"\" : \";label:Dropdown;\"],\n        disabled: option.isActive || option.disabled\n    }, option.title)))));\n};\nconst filterBar = /* @__PURE__ */ css(\"padding-top:\", space[1], \"px;padding-bottom:\", space[2], \"px;border-top:1px solid \", border.secondary, \";display:flex;flex-direction:row;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:filterBar;\"));\nconst dividerStyles = /* @__PURE__ */ css(\"position:relative;margin-left:\", space[2], \"px;:after{content:'';display:block;width:1px;background-color:\", border.secondary, \";position:absolute;top:-\", space[1], \"px;bottom:\", space[1], \"px;left:-\", space[2], \"px;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:dividerStyles;\"));\nconst filterPadding = /* @__PURE__ */ css(\"padding-right:\", space[3], \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:filterPadding;\"));\nconst Filters = ({ filters, pillar, onFilterChange, totalPages, commentCount }) => /* @__PURE__ */ jsx(\"div\", {\n    id: \"comment-filters\",\n    css: filterBar\n}, /* @__PURE__ */ jsx(\"div\", {\n    css: filterPadding\n}, /* @__PURE__ */ jsx(Dropdown, {\n    id: \"order-by-dropdown\",\n    label: \"Sort by\",\n    pillar,\n    options: [{\n            title: \"Newest\",\n            value: \"newest\",\n            isActive: filters.orderBy === \"newest\"\n        }, {\n            title: \"Oldest\",\n            value: \"oldest\",\n            isActive: filters.orderBy === \"oldest\"\n        }, {\n            title: \"Recommendations\",\n            value: \"recommendations\",\n            isActive: filters.orderBy === \"recommendations\"\n        }],\n    onSelect: (value) => onFilterChange({\n        ...filters,\n        orderBy: value\n    })\n})), /* @__PURE__ */ jsx(\"div\", {\n    css: dividerStyles\n}), /* @__PURE__ */ jsx(\"div\", {\n    css: filterPadding\n}, /* @__PURE__ */ jsx(Dropdown, {\n    id: \"page-size-dropdown\",\n    label: \"Per page\",\n    pillar,\n    options: [{\n            title: \"25\",\n            value: \"25\",\n            disabled: commentCount <= 25,\n            isActive: filters.pageSize === 25\n        }, {\n            title: \"50\",\n            value: \"50\",\n            disabled: commentCount <= 50,\n            isActive: filters.pageSize === 50\n        }, {\n            title: \"100\",\n            value: \"100\",\n            disabled: commentCount <= 100,\n            isActive: filters.pageSize === 100\n        }],\n    onSelect: (value) => onFilterChange({\n        ...filters,\n        pageSize: parseInt(value)\n    })\n})), /* @__PURE__ */ jsx(\"div\", {\n    css: dividerStyles\n}), /* @__PURE__ */ jsx(\"div\", {\n    css: filterPadding\n}, /* @__PURE__ */ jsx(Dropdown, {\n    id: \"threads-dropdown\",\n    label: \"Display threads\",\n    pillar,\n    options: [{\n            title: \"Collapsed\",\n            value: \"collapsed\",\n            isActive: filters.threads === \"collapsed\"\n        }, {\n            title: \"Expanded\",\n            value: \"expanded\",\n            isActive: filters.threads === \"expanded\"\n        }, {\n            title: \"Unthreaded\",\n            value: \"unthreaded\",\n            isActive: filters.threads === \"unthreaded\"\n        }],\n    onSelect: (value) => onFilterChange({\n        ...filters,\n        threads: value\n    })\n})));\nfunction _EMOTION_STRINGIFIED_CSS_ERROR__$1() {\n    return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\";\n}\nconst pageButtonStyles = (isSelected) => /* @__PURE__ */ css(\"cursor:pointer;\", textSans.small({\n    fontWeight: \"bold\"\n}), \" text-decoration:none;border-radius:62.5rem;box-sizing:border-box;color:\", isSelected ? neutral[100] : neutral[46], \";background-color:\", isSelected ? neutral[46] : \"transparent\", \";border:none;:hover{border-width:0.0625rem;border-style:solid;border-color:\", neutral[46], \";}margin-right:5px;padding:0 0.125rem;min-width:1.5rem;text-align:center;height:1.5rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:pageButtonStyles;\"));\nconst chevronButtonStyles = ({ isSelected }) => /* @__PURE__ */ css(\"margin-right:\", space[1], \"px;border-radius:62.5rem;border-width:1px;border-style:solid;border-color:\", neutral[86], \";background-color:\", isSelected ? neutral[46] : neutral[100], \";height:22px;min-height:22px;width:22px;>button{height:22px;min-height:22px;width:22px;}:hover{border-color:\", neutral[60], \";}& svg{fill:\", neutral[46], \"!important;width:22px;height:22px;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:chevronButtonStyles;\"));\nconst shiftRight = process.env.NODE_ENV === \"production\" ? {\n    name: \"a7i01j\",\n    styles: \"& svg{margin-left:2px;}\"\n} : {\n    name: \"1ytvtzg-shiftRight\",\n    styles: \"& svg{margin-left:2px;};label:shiftRight;\",\n    toString: _EMOTION_STRINGIFIED_CSS_ERROR__$1\n};\nconst elipsisStyles = process.env.NODE_ENV === \"production\" ? {\n    name: \"q66sc6\",\n    styles: \"line-height:26px;margin-right:5px\"\n} : {\n    name: \"vnwsr5-elipsisStyles\",\n    styles: \"line-height:26px;margin-right:5px;label:elipsisStyles;\",\n    toString: _EMOTION_STRINGIFIED_CSS_ERROR__$1\n};\nconst wrapperStyles = /* @__PURE__ */ css(textSans.small(), \";color:\", neutral[46], \";display:flex;flex-direction:row;justify-content:space-between;width:100%;padding-top:\", space[2], \"px;padding-bottom:\", space[2], \"px;border-top:1px solid \", border.secondary, \";\", until.mobileLandscape, \"{flex-direction:column;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:wrapperStyles;\"));\nconst paginationButtons = process.env.NODE_ENV === \"production\" ? {\n    name: \"kkia9m\",\n    styles: \"display:flex;flex-direction:row;height:25px\"\n} : {\n    name: \"m1fzwr-paginationButtons\",\n    styles: \"display:flex;flex-direction:row;height:25px;label:paginationButtons;\",\n    toString: _EMOTION_STRINGIFIED_CSS_ERROR__$1\n};\nconst paginationText = /* @__PURE__ */ css(textSans.small(), \";margin-left:5px;\", until.mobileLandscape, \"{padding-top:10px;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:paginationText;\"));\nconst Forward = ({ currentPage, setCurrentPage }) => /* @__PURE__ */ jsx(\"div\", {\n    css: [chevronButtonStyles({\n            isSelected: false\n        }), shiftRight, process.env.NODE_ENV === \"production\" ? \"\" : \";label:Forward;\"]\n}, /* @__PURE__ */ jsx(Button, {\n    onClick: () => setCurrentPage(currentPage + 1),\n    \"aria-label\": \"Previous discussion page\",\n    \"data-link-name\": `Pagination view page ${currentPage + 1}`,\n    size: \"xsmall\",\n    priority: \"subdued\"\n}, /* @__PURE__ */ jsx(SvgChevronRightSingle, null)));\nconst Back = ({ currentPage, setCurrentPage }) => {\n    const newPage = Math.max(0, currentPage - 1);\n    return /* @__PURE__ */ jsx(\"div\", {\n        css: chevronButtonStyles({\n            isSelected: false\n        })\n    }, /* @__PURE__ */ jsx(Button, {\n        onClick: () => setCurrentPage(newPage),\n        \"aria-label\": \"Previous discussion page\",\n        \"data-link-name\": `Pagination view page ${newPage}`,\n        size: \"xsmall\",\n        priority: \"subdued\"\n    }, /* @__PURE__ */ jsx(SvgChevronLeftSingle, null)));\n};\nconst PageButton = ({ currentPage, setCurrentPage, isSelected }) => /* @__PURE__ */ jsx(\"button\", {\n    key: currentPage,\n    css: pageButtonStyles(isSelected),\n    onClick: () => setCurrentPage(currentPage),\n    \"data-link-name\": `Pagination view page ${currentPage}`\n}, currentPage);\nconst decideSecondPage = ({ currentPage, totalPages }) => {\n    if (currentPage < 4)\n        return 2;\n    if (currentPage > totalPages - 2)\n        return totalPages - 2;\n    return currentPage - 1;\n};\nconst decideThirdPage = ({ currentPage, totalPages }) => {\n    if (currentPage < 4)\n        return 3;\n    if (currentPage > totalPages - 2)\n        return totalPages - 1;\n    return currentPage;\n};\nconst decideForthPage = ({ currentPage, totalPages }) => {\n    if (currentPage < 4)\n        return 4;\n    if (currentPage > totalPages - 2)\n        return totalPages;\n    return currentPage + 1;\n};\nconst Pagination = ({ totalPages, currentPage, setCurrentPage, commentCount, filters }) => {\n    const showBackButton = totalPages > 4 && currentPage > 1;\n    const showFirstElipsis = totalPages > 4 && currentPage > 3;\n    const secondPage = decideSecondPage({\n        currentPage,\n        totalPages\n    });\n    const thirdPage = decideThirdPage({\n        currentPage,\n        totalPages\n    });\n    const forthPage = decideForthPage({\n        currentPage,\n        totalPages\n    });\n    const showThirdPage = totalPages > 2;\n    const showForthPage = totalPages > 3;\n    const showLastPage = totalPages > 4 && currentPage < totalPages - 1;\n    const lastPage = totalPages;\n    const showSecondElipsis = totalPages > 4 && currentPage < totalPages - 2;\n    const showForwardButton = totalPages > 4 && currentPage !== totalPages;\n    let { pageSize } = filters;\n    let endIndex = pageSize * currentPage;\n    let startIndex = endIndex - (pageSize - 1);\n    if (endIndex > commentCount)\n        endIndex = commentCount;\n    return /* @__PURE__ */ jsx(\"div\", {\n        css: wrapperStyles\n    }, /* @__PURE__ */ jsx(\"div\", {\n        css: paginationButtons\n    }, showBackButton && /* @__PURE__ */ jsx(Back, {\n        currentPage,\n        setCurrentPage\n    }), /* @__PURE__ */ jsx(PageButton, {\n        currentPage: 1,\n        setCurrentPage,\n        isSelected: currentPage === 1\n    }), showFirstElipsis && /* @__PURE__ */ jsx(\"div\", {\n        css: elipsisStyles\n    }, \"\\u2026\"), /* @__PURE__ */ jsx(PageButton, {\n        currentPage: secondPage,\n        setCurrentPage,\n        isSelected: currentPage === secondPage\n    }), showThirdPage && /* @__PURE__ */ jsx(PageButton, {\n        currentPage: thirdPage,\n        setCurrentPage,\n        isSelected: currentPage === thirdPage\n    }), showForthPage && /* @__PURE__ */ jsx(PageButton, {\n        currentPage: forthPage,\n        setCurrentPage,\n        isSelected: currentPage === forthPage\n    }), showSecondElipsis && /* @__PURE__ */ jsx(\"div\", {\n        css: elipsisStyles\n    }, \"\\u2026\"), showLastPage && /* @__PURE__ */ jsx(PageButton, {\n        currentPage: lastPage,\n        setCurrentPage,\n        isSelected: currentPage === lastPage\n    }), showForwardButton && /* @__PURE__ */ jsx(Forward, {\n        currentPage,\n        setCurrentPage\n    })), commentCount && /* @__PURE__ */ jsx(\"div\", {\n        css: paginationText\n    }, `Displaying ${filters.threads === \"unthreaded\" ? \"comments\" : \"threads\"} ${startIndex} to ${endIndex} of ${commentCount}`));\n};\nconst BACKGROUND_COLOUR = neutral[93];\nconst shimmer = keyframes `\n  0% {\n    background-position: -1500px 0;\n  }\n  100% {\n    background-position: 1500px 0;\n  }\n`;\nconst shimmerStyles = /* @__PURE__ */ css(\"animation:\", shimmer, \" 2s infinite linear;background:linear-gradient(\\n\t\tto right,\\n\t\t\", BACKGROUND_COLOUR, \" 4%,\\n\t\t\", neutral[86], \" 25%,\\n\t\t\", BACKGROUND_COLOUR, \" 36%\\n\t);background-size:1500px 100%;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:shimmerStyles;\"));\nconst containerStyles = /* @__PURE__ */ css(\"border-bottom:1px solid \", neutral[86], \";width:620px;display:flex;padding:\", space[2], \"px 0;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:containerStyles;\"));\nconst avatarStyles = (size) => /* @__PURE__ */ css(\"border-radius:\", size + 10, \"px;width:\", size, \"px;height:\", size, \"px;background-color:\", BACKGROUND_COLOUR, \";margin-right:\", space[2], \"px;\", shimmerStyles, \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:avatarStyles;\"));\nconst Grey = ({ height, width, spaceBelow, spaceLeft }) => /* @__PURE__ */ jsx(\"div\", {\n    css: /* @__PURE__ */ css(\"height:\", height, \"px;width:\", width ? `${width}px` : \"100%\", \";margin-bottom:\", spaceBelow && space[spaceBelow], \"px;margin-left:\", spaceLeft && space[spaceLeft], \"px;background-color:\", BACKGROUND_COLOUR, \";\", shimmerStyles, \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:Grey;\"))\n});\nconst LoadingComments = () => /* @__PURE__ */ jsx(\"div\", {\n    css: containerStyles,\n    \"data-testid\": \"loading-comments\"\n}, /* @__PURE__ */ jsx(\"div\", {\n    css: avatarStyles(48)\n}), /* @__PURE__ */ jsx(Column, null, /* @__PURE__ */ jsx(Row, null, /* @__PURE__ */ jsx(Grey, {\n    height: 20,\n    width: 140,\n    spaceBelow: 9\n}), /* @__PURE__ */ jsx(Grey, {\n    height: 15,\n    width: 100,\n    spaceBelow: 9,\n    spaceLeft: 2\n})), /* @__PURE__ */ jsx(Grey, {\n    height: 20,\n    spaceBelow: 1\n}), /* @__PURE__ */ jsx(Grey, {\n    height: 20,\n    spaceBelow: 1\n}), /* @__PURE__ */ jsx(Grey, {\n    height: 20,\n    width: 200,\n    spaceBelow: 5\n}), /* @__PURE__ */ jsx(Row, null, /* @__PURE__ */ jsx(Grey, {\n    height: 15,\n    width: 40\n}), /* @__PURE__ */ jsx(Grey, {\n    height: 15,\n    width: 40,\n    spaceLeft: 6\n}))));\nfunction _EMOTION_STRINGIFIED_CSS_ERROR__() {\n    return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\";\n}\nconst footerStyles = process.env.NODE_ENV === \"production\" ? {\n    name: \"skgbeu\",\n    styles: \"display:flex;justify-content:flex-end\"\n} : {\n    name: \"1w0wkep-footerStyles\",\n    styles: \"display:flex;justify-content:flex-end;label:footerStyles;\",\n    toString: _EMOTION_STRINGIFIED_CSS_ERROR__\n};\nconst commentColumnWrapperStyles = process.env.NODE_ENV === \"production\" ? {\n    name: \"x3a67h\",\n    styles: \"display:flex;flex-direction:column;max-width:100%\"\n} : {\n    name: \"1ayw4q4-commentColumnWrapperStyles\",\n    styles: \"display:flex;flex-direction:column;max-width:100%;label:commentColumnWrapperStyles;\",\n    toString: _EMOTION_STRINGIFIED_CSS_ERROR__\n};\nconst commentContainerStyles = process.env.NODE_ENV === \"production\" ? {\n    name: \"fexp4f\",\n    styles: \"display:flex;flex-direction:column;list-style-type:none;padding-left:0;margin:0\"\n} : {\n    name: \"pj9f3k-commentContainerStyles\",\n    styles: \"display:flex;flex-direction:column;list-style-type:none;padding-left:0;margin:0;label:commentContainerStyles;\",\n    toString: _EMOTION_STRINGIFIED_CSS_ERROR__\n};\nconst picksWrapper = process.env.NODE_ENV === \"production\" ? {\n    name: \"1f3egm3\",\n    styles: \"display:flex;flex-wrap:wrap;justify-content:space-between\"\n} : {\n    name: \"esewvx-picksWrapper\",\n    styles: \"display:flex;flex-wrap:wrap;justify-content:space-between;label:picksWrapper;\",\n    toString: _EMOTION_STRINGIFIED_CSS_ERROR__\n};\nconst DEFAULT_FILTERS = {\n    orderBy: \"newest\",\n    pageSize: 100,\n    threads: \"collapsed\"\n};\nconst NoComments = () => /* @__PURE__ */ jsx(\"div\", {\n    css: /* @__PURE__ */ css(\"color:\", neutral[46], \";\", textSans.small(), \" padding-top:\", space[5], \"px;padding-left:\", space[1], \"px;padding-bottom:\", space[9], \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:NoComments;\"))\n}, \"No comments found\");\nconst rememberFilters = (filtersToRemember) => {\n    try {\n        localStorage.setItem(\"gu.prefs.discussion.threading\", JSON.stringify({\n            value: filtersToRemember.threads\n        }));\n        localStorage.setItem(\"gu.prefs.discussion.pagesize\", JSON.stringify({\n            value: filtersToRemember.pageSize\n        }));\n        localStorage.setItem(\"gu.prefs.discussion.order\", JSON.stringify({\n            value: filtersToRemember.orderBy\n        }));\n    }\n    catch (error) {\n    }\n};\nconst initialiseFilters = ({ pageSizeOverride, orderByOverride, permalinkBeingUsed, isClosedForComments }) => {\n    const initialisedFilters = initFiltersFromLocalStorage({\n        isClosedForComments\n    });\n    return {\n        ...initialisedFilters,\n        pageSize: pageSizeOverride || initialisedFilters.pageSize,\n        orderBy: orderByOverride || initialisedFilters.orderBy,\n        threads: initialisedFilters.threads === \"collapsed\" && permalinkBeingUsed ? \"expanded\" : initialisedFilters.threads\n    };\n};\nconst initFiltersFromLocalStorage = ({ isClosedForComments }) => {\n    let threads;\n    let pageSize;\n    let orderBy;\n    try {\n        orderBy = localStorage.getItem(\"gu.prefs.discussion.order\");\n        threads = localStorage.getItem(\"gu.prefs.discussion.threading\");\n        pageSize = localStorage.getItem(\"gu.prefs.discussion.pagesize\");\n    }\n    catch (error) {\n        return {\n            ...DEFAULT_FILTERS,\n            orderBy: decideDefaultOrderBy()\n        };\n    }\n    function checkPageSize(size) {\n        if (!size)\n            return DEFAULT_FILTERS.pageSize;\n        if (size === \"All\")\n            return DEFAULT_FILTERS.pageSize;\n        const supportedSizes = [25, 50, 100];\n        if (!supportedSizes.includes(size))\n            return DEFAULT_FILTERS.pageSize;\n        return size;\n    }\n    function decideDefaultOrderBy(isClosedForComment) {\n        return isClosedForComments ? \"oldest\" : \"newest\";\n    }\n    return {\n        orderBy: orderBy ? JSON.parse(orderBy).value : decideDefaultOrderBy(),\n        threads: threads ? JSON.parse(threads).value : DEFAULT_FILTERS.threads,\n        pageSize: pageSize ? checkPageSize(JSON.parse(pageSize).value) : DEFAULT_FILTERS.pageSize\n    };\n};\nconst readMutes = () => {\n    let mutes;\n    try {\n        mutes = localStorage.getItem(\"gu.prefs.discussion.mutes\");\n    }\n    catch (error) {\n        return [];\n    }\n    return mutes ? JSON.parse(mutes).value : [];\n};\nconst writeMutes = (mutes) => {\n    try {\n        localStorage.setItem(\"gu.prefs.discussion.mutes\", JSON.stringify({\n            value: mutes\n        }));\n    }\n    catch (error) {\n    }\n};\nconst App = ({ baseUrl, shortUrl, pillar, isClosedForComments, initialPage, commentToScrollTo, pageSizeOverride, orderByOverride, user, additionalHeaders, expanded, onPermalinkClick, apiKey, onRecommend, onComment, onReply, onPreview, onExpand, idApiUrl }) => {\n    const [filters, setFilters] = useState(initialiseFilters({\n        pageSizeOverride,\n        orderByOverride,\n        permalinkBeingUsed: !!commentToScrollTo,\n        isClosedForComments\n    }));\n    const [isExpanded, setIsExpanded] = useState(expanded || window.location.hash === \"#comments\");\n    const [loading, setLoading] = useState(true);\n    const [loadingMore, setLoadingMore] = useState(false);\n    const [totalPages, setTotalPages] = useState(0);\n    const [page, setPage] = useState(initialPage || 1);\n    const [picks, setPicks] = useState([]);\n    const [commentBeingRepliedTo, setCommentBeingRepliedTo] = useState();\n    const [comments, setComments] = useState([]);\n    const [numberOfCommentsToShow, setNumberOfCommentsToShow] = useState(10);\n    const [commentCount, setCommentCount] = useState(0);\n    const [mutes, setMutes] = useState(readMutes());\n    useEffect(() => {\n        if (isExpanded) {\n            const timer = setTimeout(() => {\n                setNumberOfCommentsToShow(comments.length);\n                setLoadingMore(false);\n            }, 0);\n            return () => clearTimeout(timer);\n        }\n        else\n            return;\n    }, [isExpanded, comments.length]);\n    useEffect(() => {\n        setIsExpanded(expanded);\n    }, [expanded]);\n    useEffect(() => {\n        setLoading(true);\n        getDiscussion(shortUrl, {\n            ...filters,\n            page\n        }).then((json) => {\n            setLoading(false);\n            setLoadingMore(true);\n            if (json && json.status !== \"error\") {\n                setComments(json && json.discussion && json.discussion.comments);\n                setCommentCount(json && json.discussion && json.discussion.topLevelCommentCount);\n            }\n            setTotalPages(json && json.pages);\n        });\n    }, [filters, page, shortUrl]);\n    useEffect(() => {\n        const fetchPicks = async () => {\n            const json = await getPicks(shortUrl);\n            setPicks(json);\n        };\n        fetchPicks();\n    }, [shortUrl]);\n    useEffect(() => {\n        setFilters((oldFilters) => {\n            return {\n                ...oldFilters,\n                orderBy: orderByOverride ? orderByOverride : oldFilters.orderBy,\n                pageSize: pageSizeOverride ? pageSizeOverride : oldFilters.pageSize\n            };\n        });\n    }, [pageSizeOverride, orderByOverride]);\n    useEffect(() => {\n        if (initialPage)\n            setPage(initialPage);\n    }, [initialPage, commentToScrollTo]);\n    useEffect(() => {\n        if (commentToScrollTo) {\n            const commentElement = document.getElementById(`comment-${commentToScrollTo}`);\n            commentElement && commentElement.scrollIntoView();\n        }\n    }, [comments, commentToScrollTo]);\n    const onFilterChange = (newFilterObject) => {\n        let maxPagePossible = Math.floor(commentCount / newFilterObject.pageSize);\n        if (commentCount % newFilterObject.pageSize) {\n            maxPagePossible = maxPagePossible + 1;\n        }\n        if (page > maxPagePossible)\n            setPage(maxPagePossible);\n        rememberFilters(newFilterObject);\n        setIsExpanded(true);\n        onExpand == null ? void 0 : onExpand();\n        setFilters(newFilterObject);\n    };\n    const onPageChange = (page2) => {\n        setIsExpanded(true);\n        const element = document.getElementById(\"comment-filters\");\n        element && element.scrollIntoView();\n        setPage(page2);\n    };\n    const toggleMuteStatus = (userId) => {\n        let updatedMutes;\n        if (mutes.includes(userId)) {\n            updatedMutes = mutes.filter((id) => id !== userId);\n        }\n        else {\n            updatedMutes = [...mutes, userId];\n        }\n        setMutes(updatedMutes);\n        writeMutes(updatedMutes);\n    };\n    const onAddComment = (comment2) => {\n        comments.pop();\n        setComments([comment2, ...comments]);\n        if (!isExpanded) {\n            setIsExpanded(true);\n            if (typeof onExpand === \"function\")\n                onExpand();\n        }\n        const commentElement = document.getElementById(`comment-${comment2.id}`);\n        commentElement && commentElement.scrollIntoView();\n    };\n    initialiseApi({\n        additionalHeaders,\n        baseUrl,\n        apiKey,\n        idApiUrl\n    });\n    const showPagination = totalPages > 1;\n    if (!isExpanded && loading) {\n        return /* @__PURE__ */ jsx(\"span\", {\n            \"data-testid\": \"loading-comments\"\n        });\n    }\n    if (!isExpanded) {\n        return /* @__PURE__ */ jsx(\"div\", {\n            css: commentContainerStyles,\n            \"data-component\": \"discussion\"\n        }, picks && picks.length ? /* @__PURE__ */ jsx(\"div\", {\n            css: picksWrapper\n        }, !!picks.length && /* @__PURE__ */ jsx(TopPicks, {\n            pillar,\n            comments: picks.slice(0, 2),\n            isSignedIn: !!user,\n            onPermalinkClick,\n            onRecommend\n        })) : /* @__PURE__ */ jsx(React.Fragment, null, /* @__PURE__ */ jsx(Filters, {\n            pillar,\n            filters,\n            onFilterChange,\n            totalPages,\n            commentCount\n        }), showPagination && /* @__PURE__ */ jsx(Pagination, {\n            totalPages,\n            currentPage: page,\n            setCurrentPage: (newPage) => {\n                onPageChange(newPage);\n            },\n            commentCount,\n            filters\n        }), !comments.length ? /* @__PURE__ */ jsx(NoComments, null) : /* @__PURE__ */ jsx(\"ul\", {\n            css: commentContainerStyles\n        }, comments.slice(0, 2).map((comment2) => /* @__PURE__ */ jsx(\"li\", {\n            key: comment2.id\n        }, /* @__PURE__ */ jsx(CommentContainer, {\n            comment: comment2,\n            pillar,\n            isClosedForComments,\n            shortUrl,\n            user,\n            threads: filters.threads,\n            commentBeingRepliedTo,\n            setCommentBeingRepliedTo,\n            mutes,\n            toggleMuteStatus,\n            onPermalinkClick,\n            onRecommend\n        }))))));\n    }\n    return /* @__PURE__ */ jsx(\"div\", {\n        \"data-component\": \"discussion\",\n        css: commentColumnWrapperStyles\n    }, user && !isClosedForComments && /* @__PURE__ */ jsx(CommentForm, {\n        pillar,\n        shortUrl,\n        onAddComment,\n        user,\n        onComment,\n        onReply,\n        onPreview\n    }), !!picks.length && /* @__PURE__ */ jsx(TopPicks, {\n        pillar,\n        comments: picks,\n        isSignedIn: !!user,\n        onPermalinkClick,\n        onRecommend\n    }), /* @__PURE__ */ jsx(Filters, {\n        pillar,\n        filters,\n        onFilterChange,\n        totalPages,\n        commentCount\n    }), showPagination && /* @__PURE__ */ jsx(Pagination, {\n        totalPages,\n        currentPage: page,\n        setCurrentPage: (newPage) => {\n            onPageChange(newPage);\n        },\n        commentCount,\n        filters\n    }), loading ? /* @__PURE__ */ jsx(LoadingComments, null) : !comments.length ? /* @__PURE__ */ jsx(NoComments, null) : /* @__PURE__ */ jsx(\"ul\", {\n        css: commentContainerStyles\n    }, comments.slice(0, numberOfCommentsToShow).map((comment2) => /* @__PURE__ */ jsx(\"li\", {\n        key: comment2.id\n    }, /* @__PURE__ */ jsx(CommentContainer, {\n        comment: comment2,\n        pillar,\n        isClosedForComments,\n        shortUrl,\n        user,\n        threads: filters.threads,\n        commentBeingRepliedTo,\n        setCommentBeingRepliedTo,\n        commentToScrollTo,\n        mutes,\n        toggleMuteStatus,\n        onPermalinkClick,\n        onRecommend,\n        onReply\n    })))), loadingMore && /* @__PURE__ */ jsx(LoadingComments, null), showPagination && /* @__PURE__ */ jsx(\"footer\", {\n        css: footerStyles\n    }, /* @__PURE__ */ jsx(Pagination, {\n        totalPages,\n        currentPage: page,\n        setCurrentPage: (newPage) => {\n            onPageChange(newPage);\n        },\n        commentCount,\n        filters\n    })), user && !isClosedForComments && comments.length > 10 && /* @__PURE__ */ jsx(CommentForm, {\n        pillar,\n        shortUrl,\n        onAddComment,\n        user,\n        onComment,\n        onReply,\n        onPreview\n    }));\n};\nexport { App };\n","// detect two or more `/` chars after a word boundary\nconst multipleSlashesInRoute = /\\b\\/{2,}/g;\n\nexport const joinUrl = (...args: string[]): string =>\n\targs.join('/').replace(multipleSlashesInRoute, '/');\n","/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_descriptionid--page)\n *\n * Takes the ID of an element and generates a new ID. This should be set as the ID of an element that describes the first element. The generated ID should also be passed to the `aria-describedby` attribute on the first element.\n *\n * @param {string} id - ID of an element\n * @returns {string} ID of an element that describes the first element\n *\n * @example\n *\t\t<form>\n *\t\t\t<input id={id} type=\"text\" aria-describedby={descriptionId(id)} />\n *\t\t\t<p class=\"error\" id={descriptionId(id)} />\n *\t\t</form>\n */\nexport const descriptionId = (id: string): string => `${id}_description`;\n","let sourceIdIndex = 0;\n\nexport const generateSourceId = (): string =>\n\t`src-component-${sourceIdIndex++}`;\n","import { palette } from '../colour/palette';\n\n////////////////////////////\n// Element specific resets\n////////////////////////////\n// TODO: bring element-specific resets into defaults. They can then be removed\n// from individual components\n\nconst legend = `\n\tpadding: 0;\n`;\n\nconst fieldset = `\n\tborder: 0;\n\tpadding: 0;\n\tmargin: 0;\n`;\n\n/*\n * Remove styling of invalid input elements that gets applied in Firefox\n */\nconst input = `\n\t&:invalid {\n\t\tbox-shadow: none;\n\t}\n`;\n\n////////////////////////////\n// Default resets\n////////////////////////////\n// TODO: currently including this is optional but one day will be required\n// see https://github.com/orgs/guardian/teams/client-side-infra/discussions/17\nconst defaults = `\n\t*, *:before, *:after {\n        box-sizing: border-box;\n    }\n    html {\n        -moz-osx-font-smoothing: grayscale;\n        -webkit-font-smoothing: antialiased;\n        /* always show the vertical scroll bar to stop the page\n         * jumping about when navigating between pages where\n         * one has content shorter than the viewport */\n        overflow-y: scroll;\n    }\n    html, body {\n        text-rendering: optimizeLegibility;\n        font-feature-settings: 'kern';\n        font-kerning: normal; /* Safari 7+, Firefox 24+, Chrome 33(?)+, Opera 21 */\n        font-variant-ligatures: common-ligatures;\n    }\n    body {\n        background-color: ${palette.neutral[100]};\n        color: ${palette.neutral[7]};\n    }\n    em {\n        font-style: italic;\n    }\n`;\n\n////////////////////////////\n// Meyer resets\n////////////////////////////\n// Originally sourced from https://github.com/shannonmoeller/reset-css\n// and https://meyerweb.com/eric/tools/css/reset/\nconst resetCSS = `\n\thtml, body, div, span, applet, object, iframe,\n\th1, h2, h3, h4, h5, h6, p, blockquote, pre,\n\ta, abbr, acronym, address, big, cite, code,\n\tdel, dfn, em, img, ins, kbd, q, s, samp,\n\tsmall, strike, strong, sub, sup, tt, var,\n\tb, u, i, center,\n\tdl, dt, dd, menu, ol, ul, li,\n\tfieldset, form, label, legend,\n\ttable, caption, tbody, tfoot, thead, tr, th, td,\n\tarticle, aside, canvas, details, embed,\n\tfigure, figcaption, footer, header, hgroup,\n\tmain, menu, nav, output, ruby, section, summary,\n\ttime, mark, audio, video {\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t\tborder: 0;\n\t\tfont-size: 100%;\n\t\tfont: inherit;\n\t\tvertical-align: baseline;\n\t}\n\t/* HTML5 display-role reset for older browsers */\n\tarticle, aside, details, figcaption, figure,\n\tfooter, header, hgroup, main, menu, nav, section {\n\t\tdisplay: block;\n\t}\n\t/* HTML5 hidden-attribute fix for newer browsers */\n\t*[hidden] {\n\t\tdisplay: none;\n\t}\n\tbody {\n\t\tline-height: 1;\n\t}\n\tmenu, ol, ul {\n\t\tlist-style: none;\n\t}\n\tblockquote, q {\n\t\tquotes: none;\n\t}\n\tblockquote:before, blockquote:after,\n\tq:before, q:after {\n\t\tcontent: '';\n\t\tcontent: none;\n\t}\n\ttable {\n\t\tborder-collapse: collapse;\n\t\tborder-spacing: 0;\n\t}\n\n\t${defaults}\n`;\n\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_css-reset--page)\n *\n * `resets.resetCSS`: sensible default CSS rules to provide a base for a consistent environment across projects and browsers.\n */\nexport const resets = {\n\tlegend,\n\tfieldset,\n\t/** @deprecated This will be removed in a future release, as it relies on the Emotion framework */\n\tinput,\n\tdefaults,\n\tresetCSS,\n};\n","import type { SerializedStyles } from '@emotion/react';\nimport { css } from '@emotion/react';\nimport type { ArticleFormat } from '@guardian/libs';\nimport {\n\tArticleDesign,\n\tArticleDisplay,\n\tArticlePillar,\n\tArticleSpecial,\n} from '@guardian/libs';\nimport {\n\tculture,\n\tlabs,\n\tlifestyle,\n\tneutral,\n\tnews,\n\topinion,\n\tpalette,\n\tspecialReport,\n\tsport,\n} from '@guardian/source-foundations';\nimport type { ButtonPriority } from '@guardian/source-react-components';\n\nexport const defaultFormat = {\n\tdisplay: ArticleDisplay.Standard,\n\tdesign: ArticleDesign.Standard,\n\ttheme: ArticlePillar.News,\n};\n\nconst WHITE = neutral[100];\n\nexport const decideBackground = (\n\tformat: ArticleFormat,\n\tpriority: ButtonPriority,\n): SerializedStyles => {\n\tswitch (priority) {\n\t\tcase 'primary':\n\t\tcase 'secondary':\n\t\t\tswitch (format.theme) {\n\t\t\t\tcase ArticlePillar.News:\n\t\t\t\t\treturn css`\n\t\t\t\t\t\tbackground-color: ${news[300]};\n\t\t\t\t\t\t:hover {\n\t\t\t\t\t\t\tbackground-color: ${news[400]};\n\t\t\t\t\t\t\tborder: 1px solid ${news[400]};\n\t\t\t\t\t\t}\n\t\t\t\t\t`;\n\t\t\t\tcase ArticlePillar.Culture:\n\t\t\t\t\treturn css`\n\t\t\t\t\t\tbackground-color: ${culture[300]};\n\t\t\t\t\t\t:hover {\n\t\t\t\t\t\t\tbackground-color: ${culture[400]};\n\t\t\t\t\t\t\tborder: 1px solid ${culture[400]};\n\t\t\t\t\t\t}\n\t\t\t\t\t`;\n\t\t\t\tcase ArticlePillar.Lifestyle:\n\t\t\t\t\treturn css`\n\t\t\t\t\t\tbackground-color: ${lifestyle[300]};\n\t\t\t\t\t\t:hover {\n\t\t\t\t\t\t\tbackground-color: ${lifestyle[400]};\n\t\t\t\t\t\t\tborder: 1px solid ${lifestyle[400]};\n\t\t\t\t\t\t}\n\t\t\t\t\t`;\n\t\t\t\tcase ArticlePillar.Sport:\n\t\t\t\t\treturn css`\n\t\t\t\t\t\tbackground-color: ${sport[300]};\n\t\t\t\t\t\t:hover {\n\t\t\t\t\t\t\tbackground-color: ${sport[400]};\n\t\t\t\t\t\t\tborder: 1px solid ${sport[400]};\n\t\t\t\t\t\t}\n\t\t\t\t\t`;\n\t\t\t\tcase ArticlePillar.Opinion:\n\t\t\t\t\treturn css`\n\t\t\t\t\t\tbackground-color: ${opinion[300]};\n\t\t\t\t\t\t:hover {\n\t\t\t\t\t\t\tbackground-color: ${opinion[400]};\n\t\t\t\t\t\t\tborder: 1px solid ${opinion[400]};\n\t\t\t\t\t\t}\n\t\t\t\t\t`;\n\t\t\t\tcase ArticleSpecial.Labs:\n\t\t\t\t\treturn css`\n\t\t\t\t\t\tbackground-color: ${labs[300]};\n\t\t\t\t\t\t:hover {\n\t\t\t\t\t\t\tbackground-color: ${labs[400]};\n\t\t\t\t\t\t\tborder: 1px solid ${labs[400]};\n\t\t\t\t\t\t}\n\t\t\t\t\t`;\n\t\t\t\tcase ArticleSpecial.SpecialReport:\n\t\t\t\t\treturn css`\n\t\t\t\t\t\tbackground-color: ${specialReport[300]};\n\t\t\t\t\t\t:hover {\n\t\t\t\t\t\t\tbackground-color: ${specialReport[400]};\n\t\t\t\t\t\t\tborder: 1px solid ${specialReport[400]};\n\t\t\t\t\t\t}\n\t\t\t\t\t`;\n\t\t\t}\n\t\t// falls through\n\t\tcase 'subdued':\n\t\tcase 'tertiary':\n\t\t\treturn css`\n\t\t\t\tbackground-color: transparent;\n\t\t\t`;\n\t}\n};\n\nexport const decideBorder = (\n\tformat: ArticleFormat,\n\tpriority: ButtonPriority,\n): SerializedStyles => {\n\tswitch (priority) {\n\t\tcase 'primary':\n\t\tcase 'secondary':\n\t\tcase 'tertiary':\n\t\t\treturn css`\n\t\t\t\tborder: 1px solid currentColor;\n\t\t\t`;\n\t\tcase 'subdued':\n\t\t\treturn css`\n\t\t\t\tborder: none;\n\t\t\t`;\n\t}\n};\n\nexport const decideFont = (\n\tformat: ArticleFormat,\n\tpriority: ButtonPriority,\n): SerializedStyles => {\n\tswitch (priority) {\n\t\tcase 'primary':\n\t\tcase 'secondary':\n\t\t\treturn css`\n\t\t\t\tcolor: ${WHITE};\n\t\t\t`;\n\t\tcase 'subdued':\n\t\tcase 'tertiary':\n\t\t\tswitch (format.theme) {\n\t\t\t\tcase ArticlePillar.News:\n\t\t\t\t\treturn css`\n\t\t\t\t\t\tcolor: ${news[400]};\n\t\t\t\t\t`;\n\t\t\t\tcase ArticlePillar.Culture:\n\t\t\t\t\treturn css`\n\t\t\t\t\t\tcolor: ${culture[400]};\n\t\t\t\t\t`;\n\t\t\t\tcase ArticlePillar.Lifestyle:\n\t\t\t\t\treturn css`\n\t\t\t\t\t\tcolor: ${lifestyle[400]};\n\t\t\t\t\t`;\n\t\t\t\tcase ArticlePillar.Sport:\n\t\t\t\t\treturn css`\n\t\t\t\t\t\tcolor: ${sport[400]};\n\t\t\t\t\t`;\n\t\t\t\tcase ArticlePillar.Opinion:\n\t\t\t\t\treturn css`\n\t\t\t\t\t\tcolor: ${opinion[400]};\n\t\t\t\t\t`;\n\t\t\t\tcase ArticleSpecial.Labs:\n\t\t\t\t\treturn css`\n\t\t\t\t\t\tcolor: ${labs[400]};\n\t\t\t\t\t`;\n\t\t\t\tcase ArticleSpecial.SpecialReport:\n\t\t\t\t\treturn css`\n\t\t\t\t\t\tcolor: ${specialReport[400]};\n\t\t\t\t\t`;\n\t\t\t\tcase ArticleSpecial.SpecialReportAlt:\n\t\t\t\t\treturn css`\n\t\t\t\t\t\tcolor: ${palette.specialReportAlt[200]};\n\t\t\t\t\t`;\n\t\t\t}\n\t}\n};\n","import type { EmotionJSX } from '@emotion/react/types/jsx-namespace';\nimport type { ButtonProps as CoreButtonProps } from '@guardian/source-react-components';\nimport { Button as CoreButton } from '@guardian/source-react-components';\nimport {\n\tdecideBackground,\n\tdecideBorder,\n\tdecideFont,\n\tdefaultFormat,\n} from './styles';\nimport type { SharedEditorialButtonProps } from './types';\n\nexport interface EditorialButtonProps\n\textends CoreButtonProps,\n\t\tSharedEditorialButtonProps {}\n\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-react-components-development-kitchen_editorialbutton--when-primary) \n * [Design System](https://theguardian.design/2a1e5182b/p/435225-button) \n * [GitHub](https://github.com/guardian/csnx/tree/main/libs/@guardian/source-react-components-development-kitchen/src/editorial-button/EditorialButton.tsx) \n * [NPM](https://www.npmjs.com/package/@guardian/source-react-components-development-kitchen)\n *\n * This is the editorial version of the core Button component.\n * This editorial version requires the format prop and uses that to override Button styles based on `format.theme`\n *\n */\nexport const EditorialButton = ({\n\tformat = defaultFormat,\n\tchildren,\n\tpriority = 'primary',\n\t...props\n}: EditorialButtonProps): EmotionJSX.Element => {\n\tconst backgroundOverrides = decideBackground(format, priority);\n\tconst borderOverrides = decideBorder(format, priority);\n\tconst fontOverrides = decideFont(format, priority);\n\n\treturn (\n\t\t<CoreButton\n\t\t\tpriority={priority}\n\t\t\tcssOverrides={[backgroundOverrides, borderOverrides, fontOverrides]}\n\t\t\t{...props}\n\t\t>\n\t\t\t{children}\n\t\t</CoreButton>\n\t);\n};\n","import type { EmotionJSX } from '@emotion/react/types/jsx-namespace';\nimport { SupportingText } from './SupportingText';\nimport { Text } from './Text';\nimport type { LabelProps } from './types';\n\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/story/source-react-components_label--default-default-theme) \n * [Design System](https://theguardian.design/2a1e5182b/p/40151e-label/b/86af7d) \n * [GitHub](https://github.com/guardian/csnx/tree/main/libs/@guardian/source-react-components/src/label/Label.tsx) \n * [NPM](https://www.npmjs.com/package/@guardian/source-react-components)\n *\n * A label describes a user input field.\n *\n * Label is used by other Source components, such as TextInput. Only use Label\n * if you are building your own form components.\n *\n * The following themes are supported: `light`, `brand`.\n * */\nexport const Label = ({\n\ttext,\n\tsupporting,\n\toptional = false,\n\thideLabel = false,\n\tcssOverrides,\n\tchildren,\n\t...props\n}: LabelProps): EmotionJSX.Element => {\n\treturn (\n\t\t<label css={cssOverrides} {...props}>\n\t\t\t<Text hideLabel={hideLabel} text={text} optional={optional} />\n\t\t\t{supporting ? (\n\t\t\t\t<SupportingText hideLabel={hideLabel}>{supporting}</SupportingText>\n\t\t\t) : (\n\t\t\t\t''\n\t\t\t)}\n\t\t\t{children}\n\t\t</label>\n\t);\n};\n","import { css } from '@emotion/react';\nimport type { EmotionJSX } from '@emotion/react/types/jsx-namespace';\nimport { visuallyHidden as _visuallyHidden } from '@guardian/source-foundations';\nimport type { ReactNode } from 'react';\nimport type { Theme } from '../@types/Theme';\nimport { supportingText } from './styles';\n\nconst visuallyHidden = css`\n\t${_visuallyHidden}\n`;\n\nexport const SupportingText = ({\n\thideLabel,\n\tchildren,\n}: {\n\thideLabel?: boolean;\n\tchildren: ReactNode;\n}): EmotionJSX.Element => {\n\treturn (\n\t\t<p\n\t\t\tcss={(theme: Theme) => [\n\t\t\t\tsupportingText(theme.label),\n\t\t\t\thideLabel ? visuallyHidden : '',\n\t\t\t]}\n\t\t>\n\t\t\t{children}\n\t\t</p>\n\t);\n};\n","import { css } from '@emotion/react';\nimport type { EmotionJSX } from '@emotion/react/types/jsx-namespace';\nimport { visuallyHidden as _visuallyHidden } from '@guardian/source-foundations';\nimport type { Theme } from '../@types/Theme';\nimport { labelText, optionalText } from './styles';\nimport type { LabelProps } from './types';\n\nconst visuallyHidden = css`\n\t${_visuallyHidden}\n`;\n\nexport const Text = ({\n\ttext,\n\toptional,\n\thideLabel,\n}: LabelProps): EmotionJSX.Element => (\n\t<div\n\t\tcss={(theme: Theme) => [\n\t\t\tlabelText(theme.label),\n\t\t\thideLabel ? visuallyHidden : '',\n\t\t]}\n\t>\n\t\t{text}{' '}\n\t\t{optional ? (\n\t\t\t<span css={(theme: Theme) => optionalText(theme.label)}>Optional</span>\n\t\t) : (\n\t\t\t''\n\t\t)}\n\t</div>\n);\n","import type { SerializedStyles } from '@emotion/react';\nimport { css } from '@emotion/react';\nimport { resets, textSans } from '@guardian/source-foundations';\nimport { labelThemeDefault } from './theme';\n\nexport const legend = css`\n\t${resets.legend};\n`;\n\nexport const labelText = (\n\tlabel = labelThemeDefault.label,\n): SerializedStyles => css`\n\t${textSans.medium({ fontWeight: 'bold' })};\n\tcolor: ${label.textLabel};\n`;\n\nexport const optionalText = (\n\tlabel = labelThemeDefault.label,\n): SerializedStyles => css`\n\t${textSans.small()};\n\tcolor: ${label.textOptional};\n\tfont-style: italic;\n`;\n\nexport const supportingText = (\n\tlabel = labelThemeDefault.label,\n): SerializedStyles => css`\n\t${textSans.small()};\n\tcolor: ${label.textSupporting};\n\tmargin: 2px 0 0;\n`;\n","import { palette } from '@guardian/source-foundations';\n\nexport const labelThemeDefault = {\n\tlabel: {\n\t\ttextLabel: palette.neutral[7],\n\t\ttextOptional: palette.neutral[46],\n\t\ttextSupporting: palette.neutral[46],\n\t\ttextError: palette.error[400],\n\t\ttextSuccess: palette.success[400],\n\t},\n};\n\nexport const labelThemeBrand = {\n\tlabel: {\n\t\ttextLabel: palette.neutral[100],\n\t\ttextOptional: palette.brand[800],\n\t\ttextSupporting: palette.brand[800],\n\t\ttextError: palette.error[500],\n\t\ttextSuccess: palette.success[500],\n\t},\n};\n","import { palette } from '@guardian/source-foundations';\nimport { userFeedbackThemeDefault } from '../user-feedback/theme';\n\nexport const textInputThemeDefault = {\n\ttextInput: {\n\t\ttextUserInput: palette.neutral[7],\n\t\ttextLabel: palette.neutral[7],\n\t\ttextLabelOptional: palette.neutral[46],\n\t\ttextLabelSupporting: palette.neutral[46],\n\t\ttextError: palette.neutral[7],\n\t\ttextSuccess: palette.success[400],\n\t\tbackgroundInput: palette.neutral[100],\n\t\tborder: palette.neutral[46],\n\t\tborderActive: palette.focus[400],\n\t\tborderError: palette.error[400],\n\t\tborderSuccess: palette.success[400],\n\t},\n\t...userFeedbackThemeDefault,\n};\n","import type { SerializedStyles } from '@emotion/react';\nimport { css } from '@emotion/react';\nimport {\n\tfocusHalo,\n\theight,\n\tspace,\n\ttextSans,\n} from '@guardian/source-foundations';\nimport { textInputThemeDefault } from './theme';\n\nexport const errorInput = (\n\ttextInput = textInputThemeDefault.textInput,\n): SerializedStyles => css`\n\tborder: 4px solid ${textInput.borderError};\n\tcolor: ${textInput.textError};\n\tmargin-top: 0;\n`;\n\nexport const successInput = (\n\ttextInput = textInputThemeDefault.textInput,\n): SerializedStyles => css`\n\tborder: 4px solid ${textInput.borderSuccess};\n\tcolor: ${textInput.textSuccess};\n\tmargin-top: 0;\n`;\n\nexport const textInput = (\n\ttextInput = textInputThemeDefault.textInput,\n): SerializedStyles =>\n\tcss`\n\t\tbox-sizing: border-box;\n\t\theight: ${height.inputMedium}px;\n\t\t${textSans.medium()};\n\t\tcolor: ${textInput.textUserInput};\n\t\tbackground-color: ${textInput.backgroundInput};\n\t\tborder: 2px solid ${textInput.border};\n\t\tpadding: 0 ${space[2]}px;\n\n\t\t&:focus {\n\t\t\tborder: 2px solid ${textInput.borderActive};\n\t\t\t${focusHalo};\n\t\t}\n\n\t\t&:invalid {\n\t\t\t/* Remove styling of invalid input elements that gets applied in Firefox */\n\t\t\tbox-shadow: none;\n\n\t\t\t/*\n\t\t\tWe automatically apply error styling to fields in an invalid state,\n\t\t\tbut stop short of applying it to empty required fields.\n\t\t\t*/\n\t\t\t&[value]:not([value='']) {\n\t\t\t\t${errorInput(textInput)};\n\t\t\t}\n\t\t}\n\t`;\n\nexport const labelMargin = css`\n\tmargin-top: ${space[1]}px;\n`;\n\nexport const supportingTextMargin = css`\n\tmargin-top: 6px;\n`;\n\nexport const inlineMessageMargin = css`\n\tmargin-top: 2px;\n`;\n\nexport const widthFluid = css`\n\twidth: 100%;\n`;\n\nexport const width30 = css`\n\twidth: 40ex;\n\tmax-width: 100%; /* prevent overflow on narrow viewports */\n`;\n\nexport const width10 = css`\n\twidth: 18ex;\n`;\n\nexport const width4 = css`\n\twidth: 9ex;\n`;\n","import type { SerializedStyles } from '@emotion/react';\nimport type { EmotionJSX } from '@emotion/react/types/jsx-namespace';\nimport { descriptionId, generateSourceId } from '@guardian/source-foundations';\nimport type { InputHTMLAttributes } from 'react';\nimport type { Props } from '../@types/Props';\nimport type { Theme } from '../@types/Theme';\nimport { Label } from '../label/Label';\nimport { InlineError } from '../user-feedback/InlineError';\nimport { InlineSuccess } from '../user-feedback/InlineSuccess';\nimport {\n\terrorInput,\n\tinlineMessageMargin,\n\tlabelMargin,\n\tsuccessInput,\n\tsupportingTextMargin,\n\ttextInput,\n\twidth10,\n\twidth30,\n\twidth4,\n\twidthFluid,\n} from './styles';\n\nexport type Width = 30 | 10 | 4;\n\nconst widths: {\n\t[key in Width]: SerializedStyles;\n} = {\n\t30: width30,\n\t10: width10,\n\t4: width4,\n};\n\nexport interface TextInputProps\n\textends Omit<InputHTMLAttributes<HTMLInputElement>, 'value'>,\n\t\tProps {\n\tid?: string;\n\t/**\n\t * Appears above the text input\n\t */\n\tlabel: string;\n\t/**\n\t * Adds the word \"Optional\" after the label. Non-optional fields are rendered with the `required` attribute.\n\t */\n\toptional?: boolean;\n\t/**\n\t * Visually hides the label and the \"Optional\" text set by the `optional` flag.\n\t */\n\thideLabel?: boolean;\n\t/**\n\t * Additional text that appears below the label\n\t */\n\tsupporting?: string;\n\t/**\n\t * Determines the width of a fixed-length field, based on the specified character length of the user input. If unspecified,\n\t * the width will default to 100% of the field's container.\n\t */\n\twidth?: Width;\n\t/**\n\t * Appears as an inline error message.\n\t */\n\terror?: string;\n\t/**\n\t * Appears as an inline success message.\n\t * This prop should not have a value set at the same time as the error prop. In the event that both are set, errors take precedence.\n\t */\n\tsuccess?: string;\n\t/**\n\t * The contents of the text input field. This is necessary when using the [controlled approach](https://reactjs.org/docs/forms.html#controlled-components) to form state management.\n\t *\n\t * _Note: if you pass the `value` prop, you MUST also pass an `onChange` handler, or the field will be rendered as read-only_\n\t */\n\tvalue?: string;\n}\n\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/story/source-react-components_textinput--default-default-theme) \n * [Design System](https://theguardian.design/2a1e5182b/p/097455-text-input-field/b/050445) \n * [GitHub](https://github.com/guardian/csnx/tree/main/libs/@guardian/source-react-components/src/text-input/TextInput.tsx) \n * [NPM](https://www.npmjs.com/package/@guardian/source-react-components)\n *\n * Single line fields that allow users to enter freeform data.\n *\n * The following themes are supported: `light`\n */\nexport const TextInput = ({\n\tid,\n\tlabel: labelText,\n\toptional = false,\n\thideLabel = false,\n\tsupporting,\n\twidth,\n\terror,\n\tsuccess,\n\tcssOverrides,\n\t...props\n}: TextInputProps): EmotionJSX.Element => {\n\tconst textInputId = id ?? generateSourceId();\n\treturn (\n\t\t<>\n\t\t\t<Label\n\t\t\t\ttext={labelText}\n\t\t\t\toptional={!!optional}\n\t\t\t\thideLabel={hideLabel}\n\t\t\t\tsupporting={supporting}\n\t\t\t\thtmlFor={textInputId}\n\t\t\t>\n\t\t\t\t{error && (\n\t\t\t\t\t<div css={inlineMessageMargin}>\n\t\t\t\t\t\t<InlineError id={descriptionId(textInputId)}>{error}</InlineError>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{!error && success && (\n\t\t\t\t\t<div css={inlineMessageMargin}>\n\t\t\t\t\t\t<InlineSuccess id={descriptionId(textInputId)}>\n\t\t\t\t\t\t\t{success}\n\t\t\t\t\t\t</InlineSuccess>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</Label>\n\t\t\t<input\n\t\t\t\tcss={(theme: Theme) => [\n\t\t\t\t\twidth ? widths[width] : widthFluid,\n\t\t\t\t\ttextInput(theme.textInput),\n\t\t\t\t\tsupporting ? supportingTextMargin : labelMargin,\n\t\t\t\t\terror ? errorInput(theme.textInput) : '',\n\t\t\t\t\t!error && success ? successInput(theme.textInput) : '',\n\t\t\t\t\tcssOverrides,\n\t\t\t\t]}\n\t\t\t\ttype=\"text\"\n\t\t\t\tid={textInputId}\n\t\t\t\taria-required={!optional}\n\t\t\t\taria-invalid={!!error}\n\t\t\t\taria-describedby={error || success ? descriptionId(textInputId) : ''}\n\t\t\t\trequired={!optional}\n\t\t\t\t{...props}\n\t\t\t/>\n\t\t</>\n\t);\n};\n","import type { EmotionJSX } from '@emotion/react/types/jsx-namespace';\nimport { SvgAlertTriangle } from '../../vendor/icons/SvgAlertTriangle';\nimport type { Theme } from '../@types/Theme';\nimport { inlineError } from './styles';\nimport type { UserFeedbackProps } from './types';\n\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/story/source-react-components_inlineerror--inline-error-default-theme) \n * [Design System](https://theguardian.design/2a1e5182b/p/108ed3-user-feedback/b/3803b4) \n * [GitHub](https://github.com/guardian/csnx/tree/main/libs/@guardian/source-react-components/src/user-feedback/InlineError.tsx) \n * [NPM](https://www.npmjs.com/package/@guardian/source-react-components-feedback)\n *\n * Used to inform the user when a validation has failed or user error has occurred. These messages indicate what went wrong and how to fix it.\n *\n * The following themes are supported: `default`, `brand`\n */\nexport const InlineError = ({\n\tchildren,\n\tcssOverrides,\n\t...props\n}: UserFeedbackProps): EmotionJSX.Element => (\n\t<span\n\t\tcss={(theme: Theme) => [inlineError(theme.userFeedback), cssOverrides]}\n\t\trole=\"alert\"\n\t\t{...props}\n\t>\n\t\t<SvgAlertTriangle />\n\t\t{children}\n\t</span>\n);\n","import type { EmotionJSX } from '@emotion/react/types/jsx-namespace';\nimport { SvgTickRound } from '../../vendor/icons/SvgTickRound';\nimport type { Theme } from '../@types/Theme';\nimport { inlineSuccess } from './styles';\nimport type { UserFeedbackProps } from './types';\n\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/story/source-react-components_inlinesuccess--inline-success-default-theme) \n * [Design System](https://theguardian.design/2a1e5182b/p/108ed3-user-feedback/b/3803b4) \n * [GitHub](https://github.com/guardian/csnx/tree/main/libs/@guardian/source-react-components/src/user-feedback/InlineSuccess.tsx) \n * [NPM](https://www.npmjs.com/package/@guardian/source-react-components)\n *\n * Success messages acknowledge a user's action and do not require further action. They inform the user of processes happening in the background. For example, \"Your account details have been saved.\"\n *\n * The following themes are supported: `default`, `brand`\n */\nexport const InlineSuccess = ({\n\tchildren,\n\tcssOverrides,\n\t...props\n}: UserFeedbackProps): EmotionJSX.Element => (\n\t<span\n\t\tcss={(theme: Theme) => [inlineSuccess(theme.userFeedback), cssOverrides]}\n\t\trole=\"alert\"\n\t\t{...props}\n\t>\n\t\t<SvgTickRound />\n\t\t{children}\n\t</span>\n);\n","import type { SerializedStyles } from '@emotion/react';\nimport { css } from '@emotion/react';\nimport { remHeight, remWidth, textSans } from '@guardian/source-foundations';\nimport { userFeedbackThemeDefault } from './theme';\n\nconst inlineMessage = css`\n\tdisplay: flex;\n\talign-items: flex-start;\n\t${textSans.medium()};\n\n\tsvg {\n\t\tfill: currentColor;\n\t\t/* we don't want the SVG to change size depending on available space */\n\t\tflex: none;\n\t\twidth: ${remWidth.iconMedium}rem;\n\t\theight: ${remHeight.iconMedium}rem;\n\n\t\t/*\n\t\ta visual kick to vertically align the icon with the top row of text\n\t\tand horizontally pull it to the beginning of the row\n\t\t */\n\t\ttransform: translate(-4px, -3px);\n\t}\n`;\n\nexport const inlineError = (\n\tuserFeedback = userFeedbackThemeDefault.userFeedback,\n): SerializedStyles => css`\n\t${inlineMessage};\n\tcolor: ${userFeedback.textError};\n`;\n\nexport const inlineSuccess = (\n\tuserFeedback = userFeedbackThemeDefault.userFeedback,\n): SerializedStyles => css`\n\t${inlineMessage};\n\tcolor: ${userFeedback.textSuccess};\n`;\n","import { palette } from '@guardian/source-foundations';\n\nexport const userFeedbackThemeDefault = {\n\tuserFeedback: {\n\t\ttextSuccess: palette.success[400],\n\t\ttextError: palette.error[400],\n\t},\n};\n\nexport const userFeedbackThemeBrand = {\n\tuserFeedback: {\n\t\ttextSuccess: palette.success[500],\n\t\ttextError: palette.error[500],\n\t},\n};\n","// DO NOT EDIT\n// this file is auto-generated by packages/@guardian/source-react-components/scripts/create-icons/index.ts\nimport { css } from '@emotion/react';\nimport type { EmotionJSX } from '@emotion/react/types/jsx-namespace';\nimport { iconSize, visuallyHidden } from '@guardian/source-foundations';\nimport type { IconProps } from '../../src/@types/Icons';\n\nconst Svg = ({ size }: IconProps): EmotionJSX.Element => (\n\t<svg\n\t\twidth={size ? iconSize[size] : undefined}\n\t\theight={undefined}\n\t\tviewBox=\"-3 -3 30 30\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tfocusable={false}\n\t\taria-hidden={true}\n\t>\n\t\t<path\n\t\t\tfillRule=\"evenodd\"\n\t\t\tclipRule=\"evenodd\"\n\t\t\td=\"M11.41 2 1 19.057l.668.943h20.664l.668-.943L12.59 2h-1.18Zm-.063 12.178h1.306l.621-6.917-.856-.728h-.835l-.857.728.62 6.917ZM12 15.452c.7 0 1.274.573 1.274 1.274 0 .7-.573 1.274-1.274 1.274-.7 0-1.274-.573-1.274-1.274 0-.7.573-1.274 1.274-1.274Z\"\n\t\t/>\n\t</svg>\n);\n\nexport const SvgAlertTriangle = ({\n\tsize,\n\tisAnnouncedByScreenReader = false,\n}: IconProps): EmotionJSX.Element => (\n\t<>\n\t\t<Svg size={size} />\n\t\t{isAnnouncedByScreenReader ? (\n\t\t\t<span\n\t\t\t\tcss={css`\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`}\n\t\t\t>\n\t\t\t\tWarning\n\t\t\t</span>\n\t\t) : (\n\t\t\t''\n\t\t)}\n\t</>\n);\n","// DO NOT EDIT\n// this file is auto-generated by packages/@guardian/source-react-components/scripts/create-icons/index.ts\nimport { css } from '@emotion/react';\nimport type { EmotionJSX } from '@emotion/react/types/jsx-namespace';\nimport { iconSize, visuallyHidden } from '@guardian/source-foundations';\nimport type { IconProps } from '../../src/@types/Icons';\n\nconst Svg = ({ size }: IconProps): EmotionJSX.Element => (\n\t<svg\n\t\twidth={size ? iconSize[size] : undefined}\n\t\theight={undefined}\n\t\tviewBox=\"-3 -3 30 30\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tfocusable={false}\n\t\taria-hidden={true}\n\t>\n\t\t<path\n\t\t\tfillRule=\"evenodd\"\n\t\t\tclipRule=\"evenodd\"\n\t\t\td=\"M12.015 14.042 20.707 22 22 20.709 14.06 12 22 3.291 20.707 2l-8.692 7.958L3.293 2.03 2 3.321 9.97 12 2 20.679l1.293 1.291 8.722-7.928Z\"\n\t\t/>\n\t</svg>\n);\n\nexport const SvgCross = ({\n\tsize,\n\tisAnnouncedByScreenReader = false,\n}: IconProps): EmotionJSX.Element => (\n\t<>\n\t\t<Svg size={size} />\n\t\t{isAnnouncedByScreenReader ? (\n\t\t\t<span\n\t\t\t\tcss={css`\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`}\n\t\t\t>\n\t\t\t\tClose\n\t\t\t</span>\n\t\t) : (\n\t\t\t''\n\t\t)}\n\t</>\n);\n","// DO NOT EDIT\n// this file is auto-generated by packages/@guardian/source-react-components/scripts/create-icons/index.ts\nimport { css } from '@emotion/react';\nimport type { EmotionJSX } from '@emotion/react/types/jsx-namespace';\nimport { iconSize, visuallyHidden } from '@guardian/source-foundations';\nimport type { IconProps } from '../../src/@types/Icons';\n\nconst Svg = ({ size }: IconProps): EmotionJSX.Element => (\n\t<svg\n\t\twidth={size ? iconSize[size] : undefined}\n\t\theight={undefined}\n\t\tviewBox=\"-3 -3 30 30\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tfocusable={false}\n\t\taria-hidden={true}\n\t>\n\t\t<path\n\t\t\tfillRule=\"evenodd\"\n\t\t\tclipRule=\"evenodd\"\n\t\t\td=\"m10.8 13.2.425 9.8h1.525l.45-9.8 9.8-.45v-1.525l-9.8-.425-.45-9.8h-1.525l-.425 9.8-9.8.425v1.525l9.8.45Z\"\n\t\t/>\n\t</svg>\n);\n\nexport const SvgPlus = ({\n\tsize,\n\tisAnnouncedByScreenReader = false,\n}: IconProps): EmotionJSX.Element => (\n\t<>\n\t\t<Svg size={size} />\n\t\t{isAnnouncedByScreenReader ? (\n\t\t\t<span\n\t\t\t\tcss={css`\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`}\n\t\t\t>\n\t\t\t\tPlus sign\n\t\t\t</span>\n\t\t) : (\n\t\t\t''\n\t\t)}\n\t</>\n);\n","// DO NOT EDIT\n// this file is auto-generated by packages/@guardian/source-react-components/scripts/create-icons/index.ts\nimport { css } from '@emotion/react';\nimport type { EmotionJSX } from '@emotion/react/types/jsx-namespace';\nimport { iconSize, visuallyHidden } from '@guardian/source-foundations';\nimport type { IconProps } from '../../src/@types/Icons';\n\nconst Svg = ({ size }: IconProps): EmotionJSX.Element => (\n\t<svg\n\t\twidth={size ? iconSize[size] : undefined}\n\t\theight={undefined}\n\t\tviewBox=\"-3 -3 30 30\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tfocusable={false}\n\t\taria-hidden={true}\n\t>\n\t\t<path\n\t\t\tfillRule=\"evenodd\"\n\t\t\tclipRule=\"evenodd\"\n\t\t\td=\"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10Zm-1.773-7.853-2.27-2.17-.8.8 2.709 3.791h.454l7.455-7.716-.82-.8-6.728 6.095Z\"\n\t\t/>\n\t</svg>\n);\n\nexport const SvgTickRound = ({\n\tsize,\n\tisAnnouncedByScreenReader = false,\n}: IconProps): EmotionJSX.Element => (\n\t<>\n\t\t<Svg size={size} />\n\t\t{isAnnouncedByScreenReader ? (\n\t\t\t<span\n\t\t\t\tcss={css`\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`}\n\t\t\t>\n\t\t\t\tTicked\n\t\t\t</span>\n\t\t) : (\n\t\t\t''\n\t\t)}\n\t</>\n);\n","export default function _taggedTemplateLiteral(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}"],"names":["SvgArrowUpStraight","_jsx","size","isAnnouncedByScreenReader","jsxs","Svg","jsx","css","visuallyHidden","children","SvgIndent","joinUrl","parts","filter","part","map","substr","slice","length","join","options","baseUrl","apiKey","headers","idApiUrl","defaultParams","objAsParams","obj","Object","keys","key","getDiscussion","shortUrl","opts","apiOpts","orderBy","pageSize","displayThreaded","threads","maxResponses","page","params","url","fetch","then","resp","json","errorCode","catch","error","console","preview","body","data","URLSearchParams","append","method","toString","commentBody","comment","credentials","reply","parentCommentId","getPicks","discussion","comments","reportAbuse","commentId","categoryId","email","reason","recommend","ok","addUserName","userName","JSON","stringify","publicFields","username","displayName","pickComment","unPickComment","simulateNewComment","user","commentBeingRepliedTo","id","date","Date","isoDateTime","toISOString","status","webUrl","apiUrl","numRecommends","isHighlighted","userProfile","userId","avatar","secureAvatarUrl","badge","responseTo","commentApiUrl","String","commentWebUrl","responses","_ref$3","name","styles","Row","pillarToString","pillar","ArticlePillar","ArticleSpecial","palette","news","opinion","culture","sport","lifestyle","labs","buttonOverrides","priority","textSans","fontWeight","neutral","dark","PillarButton","onClick","type","icon","iconSide","linkName","Button","previewStyle$2","space","textStyling","Text","FirstCommentWelcome","submitForm","cancelSubmit","onPreview","useState","previewBody","setPreviewBody","setUserName","useEffect","fetchShowPreview","preview$1","response","onSubmit","e","preventDefault","headline","TextInput","label","supporting","value","onChange","target","width","React","Link","href","subdued","rel","dangerouslySetInnerHTML","__html","previewStyle$1","spout","Preview$1","previewHtml","boldString","text2","italicsString","strikethroughString","codeString","quoteString","formWrapper$1","commentTextArea","greyPlaceholder","blackPlaceholder","headerTextStyles","errorTextStyles","text","infoTextStyles","msgContainerStyles","linkStyles$3","wrapperHeaderTextStyles","commentAddOns","bottomContainer","Space$2","amount","CommentForm","onAddComment","setCommentBeingRepliedTo","onComment","onReply","isActive","setIsActive","userNameMissing","setUserNameMissing","setBody","setError","info","setInfo","showPreview","setShowPreview","textAreaRef","useRef","_a","_b","document","getElementById","scrollIntoView","querySelector","focus","getHighlightedString","current","selectionStart","selectionEnd","startString","substring","highlightedString","endString","transformText","transfromFunc","textAreaStrings","concat","resetForm","comment$1","reply$1","parseInt","message","submitUserName","errors","privateFields","isPremoderated","placeholder","ref","style","height","onFocus","prompt","highlightedText","linkStringFunc","transformLink","staffBadge","iconStyles","labelText","staffIcon","brand","staffLabel","guardianPickLabel","GuardianStaff","viewBox","d","fill","GuardianContributor","GuardianPick","countStyles","buttonStyles$1","recommended","isSignedIn","arrowStyles","RecommendationCount","initialCount","alreadyRecommended","userMadeComment","onRecommend","count","setCount","setRecommended","newCount","accepted","disabled","formWrapper","inputWrapper","errorMessageStyles","_ref$2","_ref2$1","AbuseReportForm","toggleSetShowForm","modalRef","firstElement","lastElement","addEventListener","contains","keyListener","keyCode","shiftKey","activeElement","removeEventListener","formVariables","setFormVariables","defaultErrorTexts","setErrors","successMessage","setSuccessMessage","event","labelStylesClass","labelStyles$1","htmlFor","Number","SvgCross","hideLabel","monthConverter","dateFormatter","dateString","timeStampYesterday","Math","round","getTime","isLast24Hrs","timeAgo","verbose","daysUntilAbsolute","getDate","getMonth","getFullYear","getHours","getMinutes","padStart","linkStyles$2","timeStyles","Timestamp","callback","delay","savedCallback","onPermalinkClick","timeAgo2","setTimeAgo","setInterval","currentCallback","clearInterval","dateTime","imageStyles","Avatar","imageUrl","src","alt","_ref$1","Column","commentControlsLink","spaceBetween","commentCss","remSpace","blockedCommentStyles","commentLinkStyling","commentWrapper","border","selectedStyles$1","avatarMargin$1","until","colourStyles","boldFont","regularFont","svgReplyArrow","commentDetails","headerStyles","iconWrapper","timestampWrapperStyles","hideBelowMobileLandscape","hideAboveMobileLandscape","from","negativeMargin","cssTextOverflowElip","cssReplyToWrapper","buttonLinkPillarBaseStyles$1","buttonLinkBaseStyles$1","cssReplyAlphaDisplayName","cssReplyBetaDisplayName","Space$1","_ref","_ref2","Comment","comment2","isClosedForComments","isReply","wasScrolledTo","isMuted","toggleMuteStatus","setIsHighlighted","showAbuseReportForm","setAbuseReportForm","pick","unPick","showStaffBadge","find","showPickBadge","showContributorBadge","cssOverrides","encodeURIComponent","some","Space","indentStyles","smallFontStyles","replyPreviewHeaderStyle","bg$1","previewStyle","arrowSize$1","commentStyles","blueLink","buttonLinkPillarBaseStyles","buttonLinkBaseStyles","CommentReplyPreview","displayReplyComment","setDisplayReplyComment","Preview","nestingStyles","topBorder","commentContainerStyles$1","selectedStyles","removeMargin","CommentContainer","commentToScrollTo","mutes","expanded","setExpanded","setResponses","loading","setLoading","showResponses","remainingResponses","includes","responseComment","metaData","responseCount","SvgPlus","displayResponses","getMoreResponses","finally","pickStyles","bg","userNameStyles","avatarMargin","smallFontSize","linkStyles$1","inCommentLinkStyling","titleStyles","inheritColour","wrapStyles","PickBubble","arrowSize","Top","Bottom","PickMeta","TopPick","input","columWrapperStyles","paddingRight","paddingLeft","picksWrapper$1","twoColCommentsStyles","oneColCommentsStyles","TopPicks","leftColComments","rightColComments","forEach","index","push","containerStyles$1","ulStyles","background","ulExpanded","firstStyles","activeStyles","buttonStyles","expandedStyles","labelStyles","Dropdown","options2","onSelect","isExpanded","setIsExpanded","dismissOnEsc","code","dismissOnClick","stopPropagation","dropdownID","activeLink","option","title","filterBar","dividerStyles","filterPadding","Filters","filters","onFilterChange","commentCount","totalPages","pageButtonStyles","isSelected","chevronButtonStyles","shiftRight","elipsisStyles","wrapperStyles","paginationButtons","paginationText","Forward","currentPage","setCurrentPage","SvgChevronRightSingle","Back","newPage","max","SvgChevronLeftSingle","PageButton","Pagination","showBackButton","showFirstElipsis","secondPage","decideSecondPage","thirdPage","decideThirdPage","forthPage","decideForthPage","showThirdPage","showForthPage","showLastPage","lastPage","showSecondElipsis","showForwardButton","endIndex","startIndex","BACKGROUND_COLOUR","shimmer","keyframes","shimmerStyles","containerStyles","Grey","spaceBelow","spaceLeft","LoadingComments","footerStyles","commentColumnWrapperStyles","commentContainerStyles","picksWrapper","DEFAULT_FILTERS","NoComments","App","initialPage","pageSizeOverride","orderByOverride","additionalHeaders","onExpand","permalinkBeingUsed","initialisedFilters","localStorage","getItem","decideDefaultOrderBy","isClosedForComment","parse","initFiltersFromLocalStorage","initialiseFilters","setFilters","window","location","hash","loadingMore","setLoadingMore","setTotalPages","setPage","picks","setPicks","setComments","numberOfCommentsToShow","setNumberOfCommentsToShow","setCommentCount","readMutes","setMutes","timer","setTimeout","clearTimeout","topLevelCommentCount","pages","fetchPicks","oldFilters","commentElement","newFilterObject","maxPagePossible","floor","filtersToRemember","setItem","rememberFilters","onPageChange","page2","element","updatedMutes","writeMutes","pop","initialiseApi","showPagination","multipleSlashesInRoute","args","replace","descriptionId","sourceIdIndex","generateSourceId","legend","fieldset","defaults","resetCSS","display","design","ArticleDesign","theme","WHITE","decideBorder","backgroundOverrides","format","specialReport","borderOverrides","fontOverrides","decideFont","props","visuallyHidden$1","SupportingText","resets","optionalText","supportingText","textLabel","textOptional","textSupporting","textError","textSuccess","labelThemeBrand","textInput","textUserInput","textLabelOptional","textLabelSupporting","backgroundInput","borderActive","borderError","borderSuccess","userFeedbackThemeDefault","successInput","focusHalo","labelMargin","supportingTextMargin","inlineMessageMargin","widthFluid","width30","width10","width4","textInputId","_Fragment","success","remHeight","inlineError","inlineMessage","userFeedback","inlineSuccess","userFeedbackThemeBrand","SvgAlertTriangle","SvgTickRound","_taggedTemplateLiteral","strings","raw","freeze","defineProperties"],"sourceRoot":""}