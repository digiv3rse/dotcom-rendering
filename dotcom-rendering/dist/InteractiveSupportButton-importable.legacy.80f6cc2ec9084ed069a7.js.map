{"version":3,"file":"InteractiveSupportButton-importable.legacy.80f6cc2ec9084ed069a7.js","mappings":"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","sources":["webpack://@guardian/dotcom-rendering/./src/web/components/Hide.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/InteractiveSupportButton.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/lib/contributions.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/getIdapiUserData.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/useOnce.ts","webpack://@guardian/dotcom-rendering/../../../libs/@guardian/libs/src/joinUrl/joinUrl.ts","webpack://@guardian/dotcom-rendering/../../../libs/@guardian/source-foundations/src/breakpoints/breakpoints.ts","webpack://@guardian/dotcom-rendering/../../../libs/@guardian/source-foundations/src/mq/mq.ts","webpack://@guardian/dotcom-rendering/../../../libs/@guardian/source-react-components/src/button/LinkButton.tsx","webpack://@guardian/dotcom-rendering/../../../libs/@guardian/source-react-components/src/button/theme-reader-revenue.ts","webpack://@guardian/dotcom-rendering/../../../libs/@guardian/source-react-components/vendor/icons/SvgArrowRightStraight.tsx"],"sourcesContent":["import { jsx as _jsx } from \"@emotion/react/jsx-runtime\";\nimport { css } from '@emotion/react';\nimport { from, until } from '@guardian/source-foundations';\nexport const Hide = ({ children, when, breakpoint, el, }) => {\n    let whenToHide;\n    if (when === 'below') {\n        whenToHide = css `\n\t\t\t${until[breakpoint]} {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t`;\n    }\n    else {\n        whenToHide = css `\n\t\t\t${from[breakpoint]} {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t`;\n    }\n    return el === 'li' ? (_jsx(\"li\", { css: whenToHide, children: children })) : (_jsx(\"span\", { css: whenToHide, children: children }));\n};\n","import { jsx as _jsx } from \"@emotion/react/jsx-runtime\";\nimport { Hide } from './Hide';\nimport { css, ThemeProvider } from '@emotion/react';\nimport { buttonThemeReaderRevenue } from '@guardian/source-react-components';\nimport { LinkButton, SvgArrowRightStraight, } from '@guardian/source-react-components';\nimport { space } from '@guardian/source-foundations';\nimport { shouldHideSupportMessaging } from '../lib/contributions';\nconst PositionButton = ({ children }) => (_jsx(\"div\", { css: css `\n\t\t\tmargin-top: ${space[1]}px;\n\t\t\tmargin-left: ${space[2]}px;\n\t\t`, children: children }));\nexport const InteractiveSupportButton = ({ editionId, subscribeUrl, }) => {\n    const hideSupportMessaging = shouldHideSupportMessaging();\n    if (!hideSupportMessaging) {\n        return (_jsx(Hide, { when: \"above\", breakpoint: \"tablet\", children: _jsx(ThemeProvider, { theme: buttonThemeReaderRevenue, children: _jsx(PositionButton, { children: _jsx(LinkButton, { priority: \"primary\", size: \"small\", iconSide: \"right\", icon: _jsx(SvgArrowRightStraight, {}), \"data-link-name\": \"nav2 : support-cta\", \"data-edition\": editionId, href: subscribeUrl, children: \"Support us\" }) }) }) }));\n    }\n    return null;\n};\n","import { onConsentChange } from '@guardian/consent-management-platform';\nimport { getCookie } from '@guardian/libs';\nimport { useState } from 'react';\nimport { getIdApiUserData } from './getIdapiUserData';\nimport { useOnce } from './useOnce';\n// User Atributes API cookies (dropped on sign-in)\nexport const HIDE_SUPPORT_MESSAGING_COOKIE = 'gu_hide_support_messaging';\nexport const RECURRING_CONTRIBUTOR_COOKIE = 'gu_recurring_contributor';\nexport const ONE_OFF_CONTRIBUTION_DATE_COOKIE = 'gu_one_off_contribution_date';\nexport const OPT_OUT_OF_ARTICLE_COUNT_COOKIE = 'gu_article_count_opt_out';\n// Support Frontend cookies (dropped when contribution is made)\nexport const SUPPORT_RECURRING_CONTRIBUTOR_MONTHLY_COOKIE = 'gu.contributions.recurring.contrib-timestamp.Monthly';\nexport const SUPPORT_RECURRING_CONTRIBUTOR_ANNUAL_COOKIE = 'gu.contributions.recurring.contrib-timestamp.Annual';\nexport const SUPPORT_ONE_OFF_CONTRIBUTION_COOKIE = 'gu.contributions.contrib-timestamp';\n//  Local storage keys\nconst DAILY_ARTICLE_COUNT_KEY = 'gu.history.dailyArticleCount';\nconst WEEKLY_ARTICLE_COUNT_KEY = 'gu.history.weeklyArticleCount';\nexport const NO_RR_BANNER_TIMESTAMP_KEY = 'gu.noRRBannerTimestamp'; // timestamp of when we were last told not to show a RR banner\n// See https://github.com/guardian/support-dotcom-components/blob/main/module-versions.md\nexport const MODULES_VERSION = 'v3';\n// Cookie set by the User Attributes API upon signing in.\n// Value computed server-side and looks at all of the user's active products,\n// including but not limited to recurring & one-off contributions,\n// paper & digital subscriptions, as well as user tiers (GU supporters/staff/partners/patrons).\n// https://github.com/guardian/members-data-api/blob/3a72dc00b9389968d91e5930686aaf34d8040c52/membership-attribute-service/app/models/Attributes.scala\nconst shouldShowSupportMessaging = () => {\n    const hideSupportMessaging = getCookie({ name: HIDE_SUPPORT_MESSAGING_COOKIE }) === 'true';\n    return !hideSupportMessaging;\n};\n// Determine if user is a recurring contributor by checking if they are signed in\n// AND have at least one of the relevant cookies.\n// We need to look at both User Attributes and Frontend Support cookies\n// as the former might not reflect the latest contributor status, since it's set upon signing in.\n// Frontend Support cookies are set when a contribution is made.\nexport const isRecurringContributor = (isSignedIn) => {\n    // Attributes cookie - we want this to have a specific value\n    const isRecurringContributorFromAttrs = getCookie({ name: RECURRING_CONTRIBUTOR_COOKIE }) === 'true';\n    // Support cookies - we only care whether these exist\n    const hasMonthlyContributionCookie = getCookie({\n        name: SUPPORT_RECURRING_CONTRIBUTOR_MONTHLY_COOKIE,\n        shouldMemoize: true,\n    }) !== null;\n    const hasAnnualContributionCookie = getCookie({\n        name: SUPPORT_RECURRING_CONTRIBUTOR_ANNUAL_COOKIE,\n        shouldMemoize: true,\n    }) !== null;\n    return (isSignedIn &&\n        (isRecurringContributorFromAttrs ||\n            hasMonthlyContributionCookie ||\n            hasAnnualContributionCookie));\n};\n// looks at attribute and support cookies\n// ONE_OFF_CONTRIBUTION_DATE_COOKIE (attributes cookie, when loggin in)\n// SUPPORT_ONE_OFF_CONTRIBUTION_COOKIE (support cookie, when making one-off contribution)\n// Get the date of the latest one-off contribution by looking at the two relevant cookies\n// and returning a Unix epoch string of the latest date found.\nexport const getLastOneOffContributionTimestamp = () => {\n    // Attributes cookie - expects YYYY-MM-DD\n    const contributionDateFromAttributes = getCookie({\n        name: ONE_OFF_CONTRIBUTION_DATE_COOKIE,\n    });\n    // Support cookies - expects Unix epoch\n    const contributionDateFromSupport = getCookie({\n        name: SUPPORT_ONE_OFF_CONTRIBUTION_COOKIE,\n    });\n    if (!contributionDateFromAttributes && !contributionDateFromSupport) {\n        return undefined;\n    }\n    // Parse dates into common format so they can be compared\n    const parsedDateFromAttributes = contributionDateFromAttributes\n        ? Date.parse(contributionDateFromAttributes)\n        : 0;\n    const parsedDateFromSupport = contributionDateFromSupport\n        ? parseInt(contributionDateFromSupport, 10)\n        : 0;\n    // Return most recent date\n    // Condition only passed if 'parsedDateFromAttributes' is NOT NaN\n    if (parsedDateFromAttributes > parsedDateFromSupport) {\n        return parsedDateFromAttributes;\n    }\n    return parsedDateFromSupport || undefined; // This guards against 'parsedDateFromSupport' being NaN\n};\nexport const getLastOneOffContributionDate = () => {\n    const timestamp = getLastOneOffContributionTimestamp();\n    if (timestamp === undefined) {\n        return undefined;\n    }\n    const date = new Date(timestamp);\n    const year = date.getFullYear();\n    const month = (date.getMonth() + 1).toString().padStart(2, '0');\n    const day = date.getDate().toString().padStart(2, '0');\n    return `${year}-${month}-${day}`;\n};\nconst dateDiffDays = (from, to) => {\n    const oneDayMs = 1000 * 60 * 60 * 24;\n    const diffMs = to - from;\n    return Math.floor(diffMs / oneDayMs);\n};\nconst AskPauseDays = 90;\nexport const isRecentOneOffContributor = () => {\n    const lastContributionDate = getLastOneOffContributionTimestamp();\n    if (lastContributionDate !== undefined) {\n        const now = Date.now();\n        return dateDiffDays(lastContributionDate, now) <= AskPauseDays;\n    }\n    return false;\n};\nexport const shouldHideSupportMessaging = (isSignedIn = false) => !shouldShowSupportMessaging() ||\n    isRecurringContributor(isSignedIn) ||\n    isRecentOneOffContributor();\nexport const REQUIRED_CONSENTS_FOR_ARTICLE_COUNT = [1, 3, 7];\nconst REQUIRED_CONSENTS_FOR_BROWSER_ID = [1, 3, 5, 7];\nexport const hasArticleCountOptOutCookie = () => getCookie({ name: OPT_OUT_OF_ARTICLE_COUNT_COOKIE }) !== null;\nconst removeArticleCountsFromLocalStorage = () => {\n    window.localStorage.removeItem(DAILY_ARTICLE_COUNT_KEY);\n    window.localStorage.removeItem(WEEKLY_ARTICLE_COUNT_KEY);\n};\nexport const hasCmpConsentForArticleCount = () => {\n    return new Promise((resolve) => {\n        if (getCookie({ name: 'gu-cmp-disabled', shouldMemoize: true })) {\n            resolve(true);\n        }\n        onConsentChange(({ ccpa, tcfv2, aus }) => {\n            if (ccpa || aus) {\n                resolve(true);\n            }\n            else if (tcfv2) {\n                const hasRequiredConsents = REQUIRED_CONSENTS_FOR_ARTICLE_COUNT.every((consent) => tcfv2.consents[consent]);\n                if (!hasRequiredConsents) {\n                    removeArticleCountsFromLocalStorage();\n                }\n                resolve(hasRequiredConsents);\n            }\n        });\n    });\n};\nexport const hasOptedOutOfArticleCount = async () => {\n    const hasCmpConsent = await hasCmpConsentForArticleCount();\n    return !hasCmpConsent || hasArticleCountOptOutCookie();\n};\n// A hook to find out if a user has opted out of article counting\nexport const useHasOptedOutOfArticleCount = () => {\n    const [hasOptedOut, setHasOptedOut] = useState('Pending');\n    useOnce(() => {\n        hasOptedOutOfArticleCount()\n            .then(setHasOptedOut)\n            .catch(() => setHasOptedOut(true));\n    }, []);\n    return hasOptedOut;\n};\nexport const hasCmpConsentForBrowserId = () => new Promise((resolve) => {\n    if (getCookie({ name: 'gu-cmp-disabled', shouldMemoize: true })) {\n        resolve(true);\n    }\n    onConsentChange(({ ccpa, tcfv2, aus }) => {\n        if (ccpa || aus) {\n            resolve(true);\n        }\n        else if (tcfv2) {\n            const hasRequiredConsents = REQUIRED_CONSENTS_FOR_BROWSER_ID.every((consent) => tcfv2.consents[consent]);\n            resolve(hasRequiredConsents);\n        }\n    });\n});\nconst twentyMins = 20 * 60000;\nexport const withinLocalNoBannerCachePeriod = () => {\n    const item = window.localStorage.getItem(NO_RR_BANNER_TIMESTAMP_KEY);\n    if (item && !Number.isNaN(parseInt(item, 10))) {\n        const withinCachePeriod = parseInt(item, 10) + twentyMins > Date.now();\n        if (!withinCachePeriod) {\n            // Expired\n            window.localStorage.removeItem(NO_RR_BANNER_TIMESTAMP_KEY);\n        }\n        return withinCachePeriod;\n    }\n    return false;\n};\nexport const setLocalNoBannerCachePeriod = () => window.localStorage.setItem(NO_RR_BANNER_TIMESTAMP_KEY, `${Date.now()}`);\nconst getEmail = (ajaxUrl) => {\n    return getIdApiUserData(ajaxUrl)\n        .then((data) => data.user?.primaryEmailAddress)\n        .catch((error) => {\n        window.guardian.modules.sentry.reportError(error, 'getEmail');\n        return undefined;\n    });\n};\nexport const lazyFetchEmailWithTimeout = (idapiUrl) => () => {\n    return new Promise((resolve) => {\n        setTimeout(() => resolve(null), 1000);\n        // eslint-disable-next-line @typescript-eslint/no-floating-promises\n        getEmail(idapiUrl).then((email) => {\n            if (email) {\n                resolve(email);\n            }\n            else {\n                resolve(null);\n            }\n        });\n    });\n};\nexport const getContributionsServiceUrl = (article) => process.env.SDC_URL ?? article.contributionsServiceUrl;\nexport const getPurchaseInfo = () => {\n    const purchaseInfoRaw = getCookie({\n        name: 'GU_CO_COMPLETE',\n        shouldMemoize: true,\n    });\n    if (!purchaseInfoRaw) {\n        return undefined;\n    }\n    let purchaseInfo;\n    try {\n        purchaseInfo = JSON.parse(decodeURIComponent(purchaseInfoRaw));\n    }\n    catch { } // eslint-disable-line no-empty -- silently handle error\n    return purchaseInfo;\n};\n","import { joinUrl } from '@guardian/libs';\nfunction checkForErrors(response) {\n    if (!response.ok) {\n        throw Error(response.statusText ||\n            `getIdApiUserData | An api call returned HTTP status ${response.status}`);\n    }\n    return response;\n}\nconst callApi = (url) => {\n    return fetch(url, {\n        credentials: 'include',\n    })\n        .then(checkForErrors)\n        .then((response) => response.json());\n};\nconst cache = {};\nexport const getIdApiUserData = (ajaxUrl) => {\n    if (!cache.idapiUserMeResponse) {\n        const url = joinUrl(ajaxUrl, 'user/me');\n        cache.idapiUserMeResponse = callApi(url);\n    }\n    return cache.idapiUserMeResponse;\n};\nexport const getIdapiUserIdentifiers = (ajaxUrl) => {\n    if (!cache.idapiUserIdentifiersResponse) {\n        const url = joinUrl(ajaxUrl, 'user/me/identifiers');\n        cache.idapiUserIdentifiersResponse = callApi(url);\n    }\n    return cache.idapiUserIdentifiersResponse;\n};\n","import { useEffect, useState } from 'react';\n/**\n * Ensures that the given task is only run once and only after all items in waitFor are defined\n * @param {Function} task - The task to execute once\n * @param {Array} waitFor - An array of variables that must be defined before the task is executed\n * */\nexport const useOnce = (task, waitFor) => {\n    const [alreadyRun, setAlreadyRun] = useState(false);\n    const isReady = waitFor.every((dep) => dep !== undefined);\n    useEffect(() => {\n        if (!alreadyRun && isReady) {\n            task();\n            setAlreadyRun(true);\n        }\n    }, [alreadyRun, isReady, task]);\n};\n","// detect two or more `/` chars after a word boundary\nconst multipleSlashesInRoute = /\\b\\/{2,}/g;\n\nexport const joinUrl = (...args: string[]): string =>\n\targs.join('/').replace(multipleSlashesInRoute, '/');\n","export type Breakpoint =\n\t| 'mobile'\n\t| 'mobileMedium'\n\t| 'mobileLandscape'\n\t| 'phablet'\n\t| 'tablet'\n\t| 'desktop'\n\t| 'leftCol'\n\t| 'wide';\n\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_media-queries--page) •\n * [Design System](https://theguardian.design/2a1e5182b/p/41be19-grids)\n */\nexport const breakpoints = {\n\tmobile: 320,\n\tmobileMedium: 375,\n\tmobileLandscape: 480,\n\tphablet: 660,\n\ttablet: 740,\n\tdesktop: 980,\n\tleftCol: 1140,\n\twide: 1300,\n} as const;\n","import { breakpoints } from '../breakpoints/breakpoints';\nimport type { Breakpoint } from '../breakpoints/breakpoints';\n\nexport type BreakpointMap = {\n\t[key in Breakpoint]: string;\n};\n\nconst minWidth = (from: number): string => `@media (min-width: ${`${from}px`})`;\n\nconst maxWidth = (until: number): string =>\n\t`@media (max-width: ${`${until - 1}px`})`;\n\nconst minWidthMaxWidth = (from: number, until: number): string =>\n\t`@media (min-width: ${`${from}px`}) and (max-width: ${`${until - 1}px`})`;\n\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_media-queries--page#from)\n *\n * @example\n *\tconst styles = css`\n *\t\t${from.mobileLandscape} {\n *\t\t\tpadding: 0 20px;\n *\t\t}\n * `;\n */\nexport const from: BreakpointMap = {\n\tmobile: minWidth(breakpoints.mobile),\n\tmobileMedium: minWidth(breakpoints.mobileMedium),\n\tmobileLandscape: minWidth(breakpoints.mobileLandscape),\n\tphablet: minWidth(breakpoints.phablet),\n\ttablet: minWidth(breakpoints.tablet),\n\tdesktop: minWidth(breakpoints.desktop),\n\tleftCol: minWidth(breakpoints.leftCol),\n\twide: minWidth(breakpoints.wide),\n};\n\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_media-queries--page#until)\n *\n * @example\n *\tconst styles = css`\n *\t\t${until.wide} {\n *\t\t\tpadding: 0 40px;\n *\t\t}\n * `;\n */\nexport const until: BreakpointMap = {\n\tmobile: maxWidth(breakpoints.mobile),\n\tmobileMedium: maxWidth(breakpoints.mobileMedium),\n\tmobileLandscape: maxWidth(breakpoints.mobileLandscape),\n\tphablet: maxWidth(breakpoints.phablet),\n\ttablet: maxWidth(breakpoints.tablet),\n\tdesktop: maxWidth(breakpoints.desktop),\n\tleftCol: maxWidth(breakpoints.leftCol),\n\twide: maxWidth(breakpoints.wide),\n};\n\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_media-queries--page#betweenand)\n *\n * @example\n *\tconst styles = css`\n *\t\t${between.phablet.and.desktop} {\n *\t\t\tpadding: 0 32px;\n *\t\t}\n * `;\n */\nexport const between = {\n\tmobile: {\n\t\tand: {\n\t\t\tmobileMedium: minWidthMaxWidth(\n\t\t\t\tbreakpoints.mobile,\n\t\t\t\tbreakpoints.mobileMedium,\n\t\t\t),\n\t\t\tmobileLandscape: minWidthMaxWidth(\n\t\t\t\tbreakpoints.mobile,\n\t\t\t\tbreakpoints.mobileLandscape,\n\t\t\t),\n\t\t\tphablet: minWidthMaxWidth(breakpoints.mobile, breakpoints.phablet),\n\t\t\ttablet: minWidthMaxWidth(breakpoints.mobile, breakpoints.tablet),\n\t\t\tdesktop: minWidthMaxWidth(breakpoints.mobile, breakpoints.desktop),\n\t\t\tleftCol: minWidthMaxWidth(breakpoints.mobile, breakpoints.leftCol),\n\t\t\twide: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.wide),\n\t\t},\n\t},\n\tmobileMedium: {\n\t\tand: {\n\t\t\tmobileLandscape: minWidthMaxWidth(\n\t\t\t\tbreakpoints.mobileMedium,\n\t\t\t\tbreakpoints.mobileLandscape,\n\t\t\t),\n\t\t\tphablet: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.phablet),\n\t\t\ttablet: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.tablet),\n\t\t\tdesktop: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.desktop),\n\t\t\tleftCol: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.leftCol),\n\t\t\twide: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.wide),\n\t\t},\n\t},\n\tmobileLandscape: {\n\t\tand: {\n\t\t\tphablet: minWidthMaxWidth(\n\t\t\t\tbreakpoints.mobileLandscape,\n\t\t\t\tbreakpoints.phablet,\n\t\t\t),\n\t\t\ttablet: minWidthMaxWidth(breakpoints.mobileLandscape, breakpoints.tablet),\n\t\t\tdesktop: minWidthMaxWidth(\n\t\t\t\tbreakpoints.mobileLandscape,\n\t\t\t\tbreakpoints.desktop,\n\t\t\t),\n\t\t\tleftCol: minWidthMaxWidth(\n\t\t\t\tbreakpoints.mobileLandscape,\n\t\t\t\tbreakpoints.leftCol,\n\t\t\t),\n\t\t\twide: minWidthMaxWidth(breakpoints.mobileLandscape, breakpoints.wide),\n\t\t},\n\t},\n\tphablet: {\n\t\tand: {\n\t\t\ttablet: minWidthMaxWidth(breakpoints.phablet, breakpoints.tablet),\n\t\t\tdesktop: minWidthMaxWidth(breakpoints.phablet, breakpoints.desktop),\n\t\t\tleftCol: minWidthMaxWidth(breakpoints.phablet, breakpoints.leftCol),\n\t\t\twide: minWidthMaxWidth(breakpoints.phablet, breakpoints.wide),\n\t\t},\n\t},\n\ttablet: {\n\t\tand: {\n\t\t\tdesktop: minWidthMaxWidth(breakpoints.tablet, breakpoints.desktop),\n\t\t\tleftCol: minWidthMaxWidth(breakpoints.tablet, breakpoints.leftCol),\n\t\t\twide: minWidthMaxWidth(breakpoints.tablet, breakpoints.wide),\n\t\t},\n\t},\n\tdesktop: {\n\t\tand: {\n\t\t\tleftCol: minWidthMaxWidth(breakpoints.desktop, breakpoints.leftCol),\n\t\t\twide: minWidthMaxWidth(breakpoints.desktop, breakpoints.wide),\n\t\t},\n\t},\n\tleftCol: {\n\t\tand: {\n\t\t\twide: minWidthMaxWidth(breakpoints.leftCol, breakpoints.wide),\n\t\t},\n\t},\n};\n","import type { EmotionJSX } from '@emotion/react/types/jsx-namespace';\nimport type { AnchorHTMLAttributes } from 'react';\nimport { buttonContents } from './shared';\nimport { buttonStyles } from './styles';\nimport type { SharedButtonProps } from './types';\n\nexport interface LinkButtonProps\n\textends SharedButtonProps,\n\t\tAnchorHTMLAttributes<HTMLAnchorElement> {}\n\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/story/source-react-components_linkbutton--primary-priority-default-theme) •\n * [Design System](https://theguardian.design/2a1e5182b/p/435225-button) •\n * [GitHub](https://github.com/guardian/csnx/tree/main/libs/@guardian/source-react-components/src/button/LinkButton.tsx) •\n * [NPM](https://www.npmjs.com/package/@guardian/source-react-components)\n *\n * Buttons enable users to make choices or perform actions.\n *\n */\nexport const LinkButton = ({\n\tpriority,\n\tsize,\n\ticonSide,\n\ticon: iconSvg,\n\tnudgeIcon,\n\thideLabel,\n\tcssOverrides,\n\tchildren,\n\t...props\n}: LinkButtonProps): EmotionJSX.Element => (\n\t<a\n\t\tcss={buttonStyles({\n\t\t\tsize,\n\t\t\tpriority,\n\t\t\ticon: iconSvg,\n\t\t\thideLabel,\n\t\t\ticonSide,\n\t\t\tnudgeIcon,\n\t\t\tcssOverrides,\n\t\t})}\n\t\t{...props}\n\t>\n\t\t{buttonContents({\n\t\t\thideLabel,\n\t\t\ticonSvg,\n\t\t\tchildren,\n\t\t})}\n\t</a>\n);\n","import { brand, brandAlt, neutral } from '@guardian/source-foundations';\nimport type { ButtonTheme } from './theme';\n\nconst text = {\n\treaderRevenue: {\n\t\tctaPrimary: brand[400],\n\t\tctaTertiary: brand[400],\n\t},\n\treaderRevenueBrand: {\n\t\tctaPrimary: brand[400],\n\t\tctaTertiary: brandAlt[400],\n\t},\n\treaderRevenueBrandAlt: {\n\t\tctaPrimary: neutral[100],\n\t\tctaTertiary: neutral[7],\n\t},\n};\nconst background = {\n\treaderRevenue: {\n\t\tctaPrimary: brandAlt[400],\n\t\tctaPrimaryHover: '#FFD213',\n\t\tctaTertiaryHover: '#E5E5E5',\n\t},\n\treaderRevenueBrand: {\n\t\tctaPrimary: brandAlt[400],\n\t\tctaPrimaryHover: '#FFD213',\n\t\tctaTertiaryHover: brand[300],\n\t},\n\treaderRevenueBrandAlt: {\n\t\tctaPrimary: neutral[7],\n\t\tctaPrimaryHover: '#454545',\n\t\tctaTertiaryHover: '#FFD213',\n\t},\n};\nconst border = {\n\treaderRevenue: {\n\t\tctaTertiary: brand[400],\n\t},\n\treaderRevenueBrand: {\n\t\tctaTertiary: brandAlt[400],\n\t},\n\treaderRevenueBrandAlt: {\n\t\tctaTertiary: neutral[7],\n\t},\n};\n\nexport const buttonThemeReaderRevenue: { button: ButtonTheme } = {\n\tbutton: {\n\t\ttextPrimary: text.readerRevenue.ctaPrimary,\n\t\tbackgroundPrimary: background.readerRevenue.ctaPrimary,\n\t\tbackgroundPrimaryHover: background.readerRevenue.ctaPrimaryHover,\n\t\ttextTertiary: text.readerRevenue.ctaTertiary,\n\t\tbackgroundTertiaryHover: background.readerRevenue.ctaTertiaryHover,\n\t\tborderTertiary: border.readerRevenue.ctaTertiary,\n\t},\n};\nexport const buttonThemeReaderRevenueBrand: { button: ButtonTheme } = {\n\tbutton: {\n\t\ttextPrimary: text.readerRevenueBrand.ctaPrimary,\n\t\tbackgroundPrimary: background.readerRevenueBrand.ctaPrimary,\n\t\tbackgroundPrimaryHover: background.readerRevenueBrand.ctaPrimaryHover,\n\t\ttextTertiary: text.readerRevenueBrand.ctaTertiary,\n\t\tbackgroundTertiaryHover: background.readerRevenueBrand.ctaTertiaryHover,\n\t\tborderTertiary: border.readerRevenueBrand.ctaTertiary,\n\t},\n};\n\nexport const buttonThemeReaderRevenueBrandAlt: { button: ButtonTheme } = {\n\tbutton: {\n\t\ttextPrimary: text.readerRevenueBrandAlt.ctaPrimary,\n\t\tbackgroundPrimary: background.readerRevenueBrandAlt.ctaPrimary,\n\t\tbackgroundPrimaryHover: background.readerRevenueBrandAlt.ctaPrimaryHover,\n\t\ttextTertiary: text.readerRevenueBrandAlt.ctaTertiary,\n\t\tbackgroundTertiaryHover: background.readerRevenueBrandAlt.ctaTertiaryHover,\n\t\tborderTertiary: border.readerRevenueBrandAlt.ctaTertiary,\n\t},\n};\n","// DO NOT EDIT\n// this file is auto-generated by packages/@guardian/source-react-components/scripts/create-icons/index.ts\nimport { css } from '@emotion/react';\nimport type { EmotionJSX } from '@emotion/react/types/jsx-namespace';\nimport { iconSize, visuallyHidden } from '@guardian/source-foundations';\nimport type { IconProps } from '../../src/@types/Icons';\n\nconst Svg = ({ size }: IconProps): EmotionJSX.Element => (\n\t<svg\n\t\twidth={size ? iconSize[size] : undefined}\n\t\theight={undefined}\n\t\tviewBox=\"-3 -3 30 30\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tfocusable={false}\n\t\taria-hidden={true}\n\t>\n\t\t<path\n\t\t\tfillRule=\"evenodd\"\n\t\t\tclipRule=\"evenodd\"\n\t\t\td=\"M1 12.956h18.274l-7.167 8.575.932.932L23 12.478v-.956l-9.96-9.985-.932.932 7.166 8.575H1v1.912Z\"\n\t\t/>\n\t</svg>\n);\n\nexport const SvgArrowRightStraight = ({\n\tsize,\n\tisAnnouncedByScreenReader = false,\n}: IconProps): EmotionJSX.Element => (\n\t<>\n\t\t<Svg size={size} />\n\t\t{isAnnouncedByScreenReader ? (\n\t\t\t<span\n\t\t\t\tcss={css`\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`}\n\t\t\t>\n\t\t\t\tArrow right\n\t\t\t</span>\n\t\t) : (\n\t\t\t''\n\t\t)}\n\t</>\n);\n"],"names":["Hide","whenToHide","children","when","breakpoint","el","css","until","from","_jsx","PositionButton","space","InteractiveSupportButton","editionId","subscribeUrl","shouldHideSupportMessaging","ThemeProvider","theme","buttonThemeReaderRevenue","LinkButton","priority","size","iconSide","icon","SvgArrowRightStraight","href","HIDE_SUPPORT_MESSAGING_COOKIE","RECURRING_CONTRIBUTOR_COOKIE","SUPPORT_RECURRING_CONTRIBUTOR_MONTHLY_COOKIE","SUPPORT_RECURRING_CONTRIBUTOR_ANNUAL_COOKIE","SUPPORT_ONE_OFF_CONTRIBUTION_COOKIE","NO_RR_BANNER_TIMESTAMP_KEY","MODULES_VERSION","shouldShowSupportMessaging","getCookie","name","isRecurringContributor","isSignedIn","isRecurringContributorFromAttrs","hasMonthlyContributionCookie","shouldMemoize","hasAnnualContributionCookie","getLastOneOffContributionTimestamp","contributionDateFromAttributes","contributionDateFromSupport","parsedDateFromAttributes","Date","parse","parsedDateFromSupport","parseInt","undefined","getLastOneOffContributionDate","timestamp","date","year","getFullYear","month","getMonth","toString","padStart","day","getDate","isRecentOneOffContributor","diffMs","lastContributionDate","now","Math","floor","REQUIRED_CONSENTS_FOR_ARTICLE_COUNT","REQUIRED_CONSENTS_FOR_BROWSER_ID","hasCmpConsentForArticleCount","Promise","resolve","onConsentChange","ccpa","tcfv2","aus","hasRequiredConsents","every","consent","consents","window","localStorage","removeItem","hasOptedOutOfArticleCount","hasCmpConsent","useHasOptedOutOfArticleCount","useState","hasOptedOut","setHasOptedOut","useOnce","then","catch","hasCmpConsentForBrowserId","withinLocalNoBannerCachePeriod","item","getItem","Number","isNaN","withinCachePeriod","setLocalNoBannerCachePeriod","setItem","lazyFetchEmailWithTimeout","idapiUrl","ajaxUrl","setTimeout","getIdApiUserData","data","user","primaryEmailAddress","error","guardian","modules","sentry","reportError","email","getPurchaseInfo","purchaseInfoRaw","purchaseInfo","JSON","decodeURIComponent","checkForErrors","response","ok","Error","statusText","status","callApi","url","fetch","credentials","json","cache","idapiUserMeResponse","joinUrl","getIdapiUserIdentifiers","idapiUserIdentifiersResponse","task","waitFor","alreadyRun","setAlreadyRun","isReady","dep","useEffect","multipleSlashesInRoute","args","join","replace","breakpoints","mobile","mobileMedium","mobileLandscape","phablet","tablet","desktop","leftCol","wide","maxWidth","minWidthMaxWidth","minWidth","and","hideLabel","nudgeIcon","cssOverrides","props","iconSvg","readerRevenue","ctaPrimary","brand","ctaTertiary","readerRevenueBrand","brandAlt","readerRevenueBrandAlt","neutral","background","ctaPrimaryHover","ctaTertiaryHover","border","button","textPrimary","backgroundPrimary","backgroundPrimaryHover","textTertiary","backgroundTertiaryHover","borderTertiary","buttonThemeReaderRevenueBrandAlt","isAnnouncedByScreenReader","jsxs","jsx","visuallyHidden"],"sourceRoot":""}