{"version":3,"file":"AnimatePulsingDots-importable.modern.e94f65b7a2c59a06cba6.js","mappings":"wMAGA,MAoBaA,EAAqB,MACjCC,EAAAA,EAAAA,YAAU,MASkB,IANAC,EAAAA,EAAAA,MAAAA,IAC1B,6CAvBeC,SAASC,iBACxB,wCAGOC,SAASC,IACjBA,EAAQC,aAAa,6BAA8B,QAGnDD,EAAQC,aAAa,eAAgB,UAsBrC,IAGM,K","sources":["webpack://@guardian/dotcom-rendering/./src/web/components/AnimatePulsingDots.importable.tsx"],"sourcesContent":["import { storage } from '@guardian/libs';\nimport { useEffect } from 'react';\n\nconst animatePulsingDots = () => {\n\t// Get all the elements that aren't hydrated\n\tconst elements = document.querySelectorAll(\n\t\t`[data-flashing-dot-hydrated=\"false\"]`,\n\t);\n\n\telements.forEach((element) => {\n\t\telement.setAttribute('data-flashing-dot-hydrated', 'true');\n\t\t// In PulsingDot.tsx, we set the animation only to run\n\t\t// if this data attribute is set\n\t\telement.setAttribute('data-animate', 'true');\n\t});\n};\n\n/**\n * Island for animating pulsing dots which aren't already hydrated\n * See PulsingDot.tsx for more info\n *\n * - We use this for fronts, where we add pulsing dots to the page which aren't wrapped in islands\n */\nexport const AnimatePulsingDots = () => {\n\tuseEffect(() => {\n\t\t// Respect the accessibility flag set here\n\t\t// https://www.theguardian.com/help/accessibility-help\n\t\tconst flashingPreference = storage.local.get(\n\t\t\t'gu.prefs.accessibility.flashing-elements',\n\t\t);\n\n\t\t// If the user hasn't explicitly set their flashing preference to 'false'\n\t\t// then we can animate the pulsing dots\n\t\tif (flashingPreference !== false) {\n\t\t\tanimatePulsingDots();\n\t\t}\n\t});\n\n\treturn null;\n};\n"],"names":["AnimatePulsingDots","useEffect","storage","document","querySelectorAll","forEach","element","setAttribute"],"sourceRoot":""}