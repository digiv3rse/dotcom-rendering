{"version":3,"file":"516.modern.c3be4f48517ec05be08b.js","mappings":"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","sources":["webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/vendor/icons/SvgArrowUpStraight.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/vendor/icons/SvgIndent.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/discussion-rendering/build/App.esm.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/libs/esm/joinUrl/joinUrl.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components-development-kitchen/esm/editorial-button/styles.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components-development-kitchen/esm/editorial-button/EditorialButton.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/vendor/icons/SvgCross.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/vendor/icons/SvgPlus.js"],"sourcesContent":["import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden, iconSize } from '@guardian/source-foundations';\n\nconst Svg = ({ size }) => (jsx(\"svg\", { width: size ? iconSize[size] : undefined, height: undefined, viewBox: \"-3 -3 30 30\", xmlns: \"http://www.w3.org/2000/svg\", focusable: false, \"aria-hidden\": true, children: jsx(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M12.956 23V4.726l8.575 7.167.932-.932L12.478 1h-.956l-9.984 9.96.931.932 8.576-7.166V23h1.91Z\" }) }));\nconst SvgArrowUpStraight = ({ size, isAnnouncedByScreenReader = false, }) => (jsxs(Fragment, { children: [jsx(Svg, { size: size }), isAnnouncedByScreenReader ? (jsx(\"span\", { css: css `\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`, children: \"Arrow up\" })) : ('')] }));\n\nexport { SvgArrowUpStraight };\n//# sourceMappingURL=SvgArrowUpStraight.js.map\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden, iconSize } from '@guardian/source-foundations';\n\nconst Svg = ({ size }) => (jsx(\"svg\", { width: size ? iconSize[size] : undefined, height: undefined, viewBox: \"-3 -3 30 30\", xmlns: \"http://www.w3.org/2000/svg\", focusable: false, \"aria-hidden\": true, children: jsx(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M5.025 11.5V7H3v5.45l1.025 1.025H17.75L15 17.05l.85.9L21 12.825v-.675l-5.1-5.125-.9.875 2.75 3.6H5.025Z\" }) }));\nconst SvgIndent = ({ size, isAnnouncedByScreenReader = false, }) => (jsxs(Fragment, { children: [jsx(Svg, { size: size }), isAnnouncedByScreenReader ? (jsx(\"span\", { css: css `\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`, children: \"Indent\" })) : ('')] }));\n\nexport { SvgIndent };\n//# sourceMappingURL=SvgIndent.js.map\n","import { jsx, css, keyframes } from \"@emotion/react\";\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { news, opinion, culture, sport, lifestyle, labs, textSans, neutral, space, headline, text, brand, remSpace, border, until, from, background } from \"@guardian/source-foundations\";\nimport { Button, TextInput, Link, SvgArrowUpStraight, SvgCross, SvgIndent, SvgPlus, SvgChevronRightSingle, SvgChevronLeftSingle } from \"@guardian/source-react-components\";\nimport { ArticleSpecial, ArticlePillar, timeAgo } from \"@guardian/libs\";\nconst joinUrl = (parts) => {\n  const trimmed = parts.filter((part) => part).map((part) => {\n    if (part.substr(0, 1) === \"/\")\n      return part.slice(1);\n    return part;\n  }).map((part) => {\n    if (part.substr(part.length - 1, 1) === \"/\")\n      return part.slice(0, -1);\n    return part;\n  });\n  return trimmed.join(\"/\");\n};\nlet options = {\n  baseUrl: \"https://discussion.theguardian.com/discussion-api\",\n  apiKey: \"discussion-rendering\",\n  headers: {},\n  idApiUrl: \"https://idapi.theguardian.com\"\n};\nlet defaultParams = {\n  \"api-key\": options.apiKey\n};\nconst initialiseApi = ({\n  baseUrl,\n  additionalHeaders,\n  apiKey,\n  idApiUrl\n}) => {\n  options.baseUrl = baseUrl || options.baseUrl;\n  options.headers = additionalHeaders || options.headers;\n  options.apiKey = apiKey || options.apiKey;\n  options.idApiUrl = idApiUrl || options.idApiUrl;\n  defaultParams[\"api-key\"] = options.apiKey;\n};\nconst objAsParams = (obj) => {\n  const params = Object.keys(obj).map((key) => {\n    return `${key}=${obj[key]}`;\n  }).join(\"&\");\n  return \"?\" + params;\n};\nconst getDiscussion = (shortUrl, opts) => {\n  const apiOpts = {\n    ...defaultParams,\n    ...{\n      orderBy: opts.orderBy === \"recommendations\" ? \"mostRecommended\" : opts.orderBy,\n      pageSize: opts.pageSize,\n      displayThreaded: opts.threads !== \"unthreaded\",\n      maxResponses: opts.threads === \"collapsed\" ? 3 : 100,\n      page: opts.page\n    }\n  };\n  const params = objAsParams(apiOpts);\n  const url = joinUrl([options.baseUrl, \"discussion\", shortUrl]) + params;\n  return fetch(url, {\n    headers: {\n      ...options.headers\n    }\n  }).then((resp) => resp.json()).then((json) => {\n    if (json.errorCode === \"DISCUSSION_ONLY_AVAILABLE_IN_LINEAR_FORMAT\") {\n      return getDiscussion(shortUrl, {\n        ...opts,\n        ...{\n          threads: \"unthreaded\"\n        }\n      });\n    }\n    return json;\n  }).catch((error) => console.error(`Error fetching ${url}`, error));\n};\nconst preview = (body) => {\n  const url = joinUrl([options.baseUrl, \"comment/preview\"]) + objAsParams(defaultParams);\n  const data = new URLSearchParams();\n  data.append(\"body\", body);\n  return fetch(url, {\n    method: \"POST\",\n    body: data.toString(),\n    headers: {\n      \"Content-Type\": \"application/x-www-form-urlencoded\",\n      ...options.headers\n    }\n  }).then((resp) => resp.json()).then((json) => json.commentBody).catch((error) => console.error(`Error fetching ${url}`, error));\n};\nconst comment = (shortUrl, body) => {\n  const url = joinUrl([options.baseUrl, \"discussion\", shortUrl, \"comment\"]) + objAsParams(defaultParams);\n  const data = new URLSearchParams();\n  data.append(\"body\", body);\n  return fetch(url, {\n    method: \"POST\",\n    body: data.toString(),\n    headers: {\n      \"Content-Type\": \"application/x-www-form-urlencoded\",\n      ...options.headers\n    },\n    credentials: \"include\"\n  }).then((resp) => resp.json());\n};\nconst reply = (shortUrl, body, parentCommentId) => {\n  const url = joinUrl([options.baseUrl, \"discussion\", shortUrl, \"comment\", parentCommentId.toString(), \"reply\"]) + objAsParams(defaultParams);\n  const data = new URLSearchParams();\n  data.append(\"body\", body);\n  return fetch(url, {\n    method: \"POST\",\n    body: data.toString(),\n    headers: {\n      \"Content-Type\": \"application/x-www-form-urlencoded\",\n      ...options.headers\n    },\n    credentials: \"include\"\n  }).then((resp) => resp.json());\n};\nconst getPicks = (shortUrl) => {\n  const url = joinUrl([options.baseUrl, \"discussion\", shortUrl, \"topcomments\"]) + objAsParams(defaultParams);\n  return fetch(url, {\n    headers: {\n      ...options.headers\n    }\n  }).then((resp) => resp.json()).then((json) => json.discussion.comments).catch((error) => console.error(`Error fetching ${url}`, error));\n};\nconst reportAbuse = ({\n  commentId,\n  categoryId,\n  email,\n  reason\n}) => {\n  const url = joinUrl([options.baseUrl, \"comment\", commentId.toString(), \"reportAbuse\"]) + objAsParams(defaultParams);\n  const data = new URLSearchParams();\n  data.append(\"categoryId\", categoryId.toString());\n  email && data.append(\"email\", email.toString());\n  reason && data.append(\"reason\", reason);\n  return fetch(url, {\n    method: \"POST\",\n    body: data.toString(),\n    headers: {\n      \"Content-Type\": \"application/x-www-form-urlencoded\",\n      ...options.headers\n    }\n  }).then((resp) => resp.json());\n};\nconst recommend = (commentId) => {\n  const url = joinUrl([options.baseUrl, \"comment\", commentId.toString(), \"recommend\"]) + objAsParams(defaultParams);\n  return fetch(url, {\n    method: \"POST\",\n    credentials: \"include\",\n    headers: {\n      ...options.headers\n    }\n  }).then((resp) => resp.ok);\n};\nconst addUserName = (userName) => {\n  const url = options.idApiUrl + `/user/me` + objAsParams(defaultParams);\n  return fetch(url, {\n    method: \"POST\",\n    credentials: \"include\",\n    body: JSON.stringify({\n      publicFields: {\n        username: userName,\n        displayName: userName\n      }\n    }),\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  }).then((resp) => resp.json()).catch((error) => console.error(`Error fetching ${url}`, error));\n};\nconst pickComment = (commentId) => {\n  const url = joinUrl([options.baseUrl, \"comment\", commentId.toString(), \"highlight\"]) + objAsParams(defaultParams);\n  return fetch(url, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/x-www-form-urlencoded\",\n      ...options.headers\n    },\n    credentials: \"include\"\n  }).then((resp) => resp.json()).catch((error) => console.error(`Error fetching ${url}`, error));\n};\nconst unPickComment = (commentId) => {\n  const url = joinUrl([options.baseUrl, \"comment\", commentId.toString(), \"unhighlight\"]) + objAsParams(defaultParams);\n  return fetch(url, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/x-www-form-urlencoded\",\n      ...options.headers\n    },\n    credentials: \"include\"\n  }).then((resp) => resp.json()).catch((error) => console.error(`Error fetching ${url}`, error));\n};\nconst getMoreResponses = (commentId) => {\n  const url = joinUrl([options.baseUrl, \"comment\", commentId.toString()]) + objAsParams({\n    ...defaultParams,\n    ...{\n      displayThreaded: true,\n      displayResponses: true\n    }\n  });\n  return fetch(url, {\n    headers: {\n      ...options.headers\n    }\n  }).then((resp) => resp.json()).catch((error) => console.error(`Error fetching ${url}`, error));\n};\nconst simulateNewComment = (commentId, body, user, commentBeingRepliedTo) => {\n  return {\n    id: commentId,\n    body,\n    date: Date(),\n    isoDateTime: new Date().toISOString(),\n    status: \"visible\",\n    webUrl: `https://discussion.theguardian.com/comment-permalink/${commentId}`,\n    apiUrl: `https://discussion.guardianapis.com/discussion-api/comment/${commentId}`,\n    numRecommends: 0,\n    isHighlighted: false,\n    userProfile: {\n      userId: user.userId,\n      displayName: user.displayName,\n      webUrl: user.webUrl,\n      apiUrl: user.apiUrl,\n      avatar: user.avatar,\n      secureAvatarUrl: user.secureAvatarUrl,\n      badge: user.badge\n    },\n    ...commentBeingRepliedTo ? {\n      responseTo: {\n        displayName: commentBeingRepliedTo.userProfile.displayName,\n        commentApiUrl: `https://discussion.guardianapis.com/discussion-api/comment/${commentBeingRepliedTo.id}`,\n        isoDateTime: commentBeingRepliedTo.isoDateTime,\n        date: commentBeingRepliedTo.date,\n        commentId: String(commentBeingRepliedTo.id),\n        commentWebUrl: `https://discussion.theguardian.com/comment-permalink/${commentBeingRepliedTo.id}`\n      }\n    } : {\n      responses: []\n    }\n  };\n};\nfunction _EMOTION_STRINGIFIED_CSS_ERROR__$b() {\n  return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\";\n}\nvar _ref$3 = process.env.NODE_ENV === \"production\" ? {\n  name: \"ho1qnd\",\n  styles: \"display:flex;flex-direction:row\"\n} : {\n  name: \"ubd564-Row\",\n  styles: \"display:flex;flex-direction:row;label:Row;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$b\n};\nconst Row = ({\n  children\n}) => /* @__PURE__ */ jsx(\"div\", {\n  css: _ref$3\n}, children);\nconst pillarToString = (pillar) => {\n  switch (pillar) {\n    case ArticlePillar.News:\n      return \"news\";\n    case ArticlePillar.Opinion:\n      return \"opinion\";\n    case ArticlePillar.Culture:\n      return \"culture\";\n    case ArticlePillar.Sport:\n      return \"sport\";\n    case ArticlePillar.Lifestyle:\n      return \"lifestyle\";\n    case ArticleSpecial.Labs:\n      return \"labs\";\n    default:\n      return \"news\";\n  }\n};\nconst palette = {\n  news,\n  opinion,\n  culture,\n  sport,\n  lifestyle,\n  labs\n};\nconst dark = (pillar) => {\n  switch (pillar) {\n    case ArticlePillar.Culture:\n      return \"#FBF6EF\";\n    case ArticlePillar.Opinion:\n      return \"#FEF9F5\";\n    case ArticlePillar.Lifestyle:\n      return \"#FEEEF7\";\n    case ArticlePillar.Sport:\n      return \"#F1F8FC\";\n    case ArticlePillar.News:\n    case ArticleSpecial.SpecialReport:\n    case ArticleSpecial.Labs:\n    default:\n      return \"#FFF4F2\";\n  }\n};\nconst buttonOverrides = (pillar, priority) => {\n  switch (priority) {\n    case \"primary\":\n      return /* @__PURE__ */ css(\"button{\", textSans.small({\n        fontWeight: \"bold\"\n      }), \" background-color:\", palette[pillarToString(pillar)][300], \";color:\", neutral[100], \";:hover{background-color:\", palette[pillarToString(pillar)][400], \";}}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:buttonOverrides;\"));\n    case \"secondary\":\n      return /* @__PURE__ */ css(\"button{\", textSans.small({\n        fontWeight: \"bold\"\n      }), \" background-color:transparent;border:1px solid \", palette[pillarToString(pillar)][400], \";color:\", palette[pillarToString(pillar)][400], \";:hover{background-color:\", dark(pillar), \";}}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:buttonOverrides;\"));\n    case \"subdued\":\n      return /* @__PURE__ */ css(\"button{\", textSans.small({\n        fontWeight: \"bold\"\n      }), \" background-color:transparent;color:\", palette[pillarToString(pillar)][400], \";border-radius:0;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:buttonOverrides;\"));\n  }\n};\nconst PillarButton = ({\n  pillar,\n  onClick,\n  type,\n  priority = \"primary\",\n  children,\n  icon,\n  iconSide,\n  linkName,\n  size = \"default\"\n}) => /* @__PURE__ */ jsx(\"div\", {\n  css: buttonOverrides(pillar, priority)\n}, /* @__PURE__ */ jsx(Button, {\n  priority,\n  size,\n  onClick,\n  type,\n  icon,\n  iconSide,\n  \"data-link-name\": linkName\n}, children));\nconst previewStyle$2 = /* @__PURE__ */ css(\"padding:\", space[2], \"px;background-color:\", neutral[93], \";margin-bottom:\", space[5], \"px;position:relative;min-height:\", space[9], \"px;p{padding-left:\", space[2], \"px;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:previewStyle;\"));\nconst textStyling = /* @__PURE__ */ css(textSans.small(), \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:textStyling;\"));\nconst Text = ({\n  children\n}) => /* @__PURE__ */ jsx(\"p\", {\n  css: textStyling\n}, children);\nconst FirstCommentWelcome = ({\n  body,\n  pillar,\n  error = \"\",\n  submitForm,\n  cancelSubmit,\n  onPreview\n}) => {\n  const [previewBody, setPreviewBody] = useState(\"\");\n  const [userName, setUserName] = useState(\"\");\n  useEffect(() => {\n    const fetchShowPreview = async () => {\n      try {\n        const preview$1 = onPreview || preview;\n        const response = await preview$1(body);\n        setPreviewBody(response);\n      } catch (e) {\n        setPreviewBody(\"\");\n      }\n    };\n    fetchShowPreview();\n  }, [body, onPreview]);\n  return /* @__PURE__ */ jsx(\"div\", {\n    css: /* @__PURE__ */ css(\"padding:\", space[2], \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:FirstCommentWelcome;\"))\n  }, /* @__PURE__ */ jsx(\"form\", {\n    onSubmit: (e) => {\n      e.preventDefault();\n      submitForm(userName);\n    }\n  }, /* @__PURE__ */ jsx(\"h3\", {\n    css: /* @__PURE__ */ css(headline.xxsmall({\n      fontWeight: \"bold\"\n    }), \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:FirstCommentWelcome;\"))\n  }, \"Welcome, you\\u2019re about to make your first comment!\"), /* @__PURE__ */ jsx(Text, null, \"Before you post, we\\u2019d like to thank you for joining the debate - we\\u2019re glad you\\u2019ve chosen to participate and we value your opinions and experiences.\"), /* @__PURE__ */ jsx(Text, null, \"Please choose your username under which you would like all your comments to show up. You can only set your username once.\"), /* @__PURE__ */ jsx(TextInput, {\n    label: \"Username:\",\n    supporting: \"Must be 6-20 characters, letters and/or numbers only, no spaces.\",\n    value: userName,\n    onChange: (e) => setUserName(e.target.value),\n    width: 30,\n    error\n  }), /* @__PURE__ */ jsx(Text, null, /* @__PURE__ */ jsx(React.Fragment, null, \"Please keep your posts respectful and abide by the\", \" \", /* @__PURE__ */ jsx(Link, {\n    href: \"/community-standards\",\n    priority: \"primary\",\n    subdued: true,\n    rel: \"nofollow\"\n  }, /* @__PURE__ */ jsx(\"span\", {\n    css: textStyling\n  }, \"community guidelines\")), ` -`, \" and if you spot a comment you think doesn\\u2019t adhere to the guidelines, please use the \\u2018Report\\u2019 link next to it to let us know.\")), /* @__PURE__ */ jsx(Text, null, \"Please preview your comment below and click \\u2018post\\u2019 when you\\u2019re happy with it.\"), /* @__PURE__ */ jsx(\"div\", {\n    css: [previewStyle$2, textStyling, process.env.NODE_ENV === \"production\" ? \"\" : \";label:FirstCommentWelcome;\"],\n    dangerouslySetInnerHTML: {\n      __html: previewBody || \"\"\n    }\n  }), /* @__PURE__ */ jsx(Row, null, /* @__PURE__ */ jsx(PillarButton, {\n    pillar,\n    onClick: () => submitForm(userName),\n    linkName: \"post comment\",\n    size: \"small\"\n  }, \"Post your comment\"), /* @__PURE__ */ jsx(\"div\", {\n    css: /* @__PURE__ */ css(\"width:\", space[3], \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:FirstCommentWelcome;\"))\n  }), /* @__PURE__ */ jsx(PillarButton, {\n    pillar,\n    priority: \"subdued\",\n    onClick: cancelSubmit,\n    linkName: \"cancel-post-comment\",\n    size: \"small\"\n  }, \"Cancel\"))));\n};\nconst previewStyle$1 = /* @__PURE__ */ css(textSans.small(), \" padding:\", space[2], \"px \", space[4], \"px;background-color:\", neutral[93], \";border-radius:5px;margin-top:0;margin-bottom:\", 20, \"px;word-break:break-word;blockquote{margin-top:\", space[3], \"px;margin-bottom:\", space[3], \"px;margin-left:\", space[5], \"px;margin-right:\", space[5], \"px;padding-left:\", space[2], \"px;color:\", neutral[46], \";}i{font-style:italic;}b{font-weight:bold;}code{font-family:monospace;font-size:1em;}p{margin-top:0;margin-bottom:\", space[3], \"px;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:previewStyle;\"));\nconst spout = /* @__PURE__ */ css(\"display:block;left:0;width:0;height:0;border-right:1rem solid transparent;border-bottom:1rem solid \", neutral[93], \";margin-left:12.5rem;border-right-style:inset;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:spout;\"));\nconst Preview$1 = ({\n  previewHtml\n}) => /* @__PURE__ */ jsx(React.Fragment, null, /* @__PURE__ */ jsx(\"div\", {\n  css: spout\n}), /* @__PURE__ */ jsx(\"div\", {\n  css: previewStyle$1,\n  dangerouslySetInnerHTML: {\n    __html: previewHtml || \"\"\n  }\n}));\nfunction _EMOTION_STRINGIFIED_CSS_ERROR__$a() {\n  return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\";\n}\nconst boldString = (text2) => `<b>${text2}</b>`;\nconst italicsString = (text2) => `<i>${text2}</i>`;\nconst strikethroughString = (text2) => `<del>${text2}</del>`;\nconst codeString = (text2) => `<code>${text2}</code>`;\nconst quoteString = (text2) => `<blockquote>${text2}</blockquote>`;\nconst linkStringFunc = (url, highlightedText) => `<a href=\"${url}\" rel=\"nofollow\">${highlightedText ? highlightedText : url}</a>`;\nconst formWrapper$1 = /* @__PURE__ */ css(\"display:flex;flex-wrap:wrap;margin-bottom:\", space[5], \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:formWrapper;\"));\nconst commentTextArea = /* @__PURE__ */ css(\"width:100%;margin-bottom:\", space[3], \"px;padding:8px 10px 10px 8px;\", textSans.small(), \";border-color:\", neutral[86], \";:focus{border-color:\", neutral[46], \";outline:none;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:commentTextArea;\"));\nconst greyPlaceholder = /* @__PURE__ */ css(\"::placeholder{color:\", neutral[46], \";}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:greyPlaceholder;\"));\nconst blackPlaceholder = /* @__PURE__ */ css(\"::placeholder{font-weight:bold;opacity:1;color:\", neutral[0], \";}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:blackPlaceholder;\"));\nconst headerTextStyles = /* @__PURE__ */ css(\"margin:0;\", textSans.xxsmall(), \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:headerTextStyles;\"));\nconst errorTextStyles = /* @__PURE__ */ css(\"margin:0;\", textSans.xxsmall(), \";color:\", text.error, \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:errorTextStyles;\"));\nconst infoTextStyles = /* @__PURE__ */ css(\"margin:0;\", textSans.xxsmall(), \";color:\", text.supporting, \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:infoTextStyles;\"));\nconst msgContainerStyles = process.env.NODE_ENV === \"production\" ? {\n  name: \"hkh81z\",\n  styles: \"margin-top:8px\"\n} : {\n  name: \"zc5kny-msgContainerStyles\",\n  styles: \"margin-top:8px;label:msgContainerStyles;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$a\n};\nconst linkStyles$3 = /* @__PURE__ */ css(\"a{color:\", text.anchorPrimary, \";text-decoration:none;:hover,:focus{text-decoration:underline;}}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:linkStyles;\"));\nconst wrapperHeaderTextStyles = /* @__PURE__ */ css(\"background-color:\", neutral[97], \";padding:8px 10px 10px 8px;width:100%;margin-top:8px;margin-bottom:2px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:wrapperHeaderTextStyles;\"));\nconst commentAddOns = /* @__PURE__ */ css(\"height:22px;font-size:13px;line-height:17px;border:1px solid \", neutral[100], \";color:\", neutral[46], \";text-align:center;cursor:pointer;margin-left:4px;padding:2px 5px 0px 5px;min-width:11px;line-height:17px;list-style-type:none;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:commentAddOns;\"));\nconst bottomContainer = process.env.NODE_ENV === \"production\" ? {\n  name: \"1xnavr4\",\n  styles: \"width:100%;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between;align-items:stretch;align-content:space-between\"\n} : {\n  name: \"6np8dj-bottomContainer\",\n  styles: \"width:100%;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between;align-items:stretch;align-content:space-between;label:bottomContainer;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$a\n};\nconst Space$2 = ({\n  amount\n}) => /* @__PURE__ */ jsx(\"div\", {\n  css: /* @__PURE__ */ css(\"width:\", space[amount], \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:Space;\"))\n});\nconst CommentForm = ({\n  shortUrl,\n  pillar,\n  onAddComment,\n  user,\n  setCommentBeingRepliedTo,\n  commentBeingRepliedTo,\n  onComment,\n  onReply,\n  onPreview\n}) => {\n  const [isActive, setIsActive] = useState(commentBeingRepliedTo ? true : false);\n  const [userNameMissing, setUserNameMissing] = useState(false);\n  const [body, setBody] = useState(\"\");\n  const [previewBody, setPreviewBody] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [info, setInfo] = useState(\"\");\n  const [showPreview, setShowPreview] = useState(false);\n  const textAreaRef = useRef(null);\n  useEffect(() => {\n    var _a, _b;\n    if (commentBeingRepliedTo) {\n      (_a = document.getElementById(`comment-${commentBeingRepliedTo.id}`)) == null ? void 0 : _a.scrollIntoView();\n      (_b = document.querySelector(`#comment-reply-form-${commentBeingRepliedTo.id} textarea`)) == null ? void 0 : _b.focus();\n    }\n  }, [commentBeingRepliedTo]);\n  const getHighlightedString = () => {\n    if (!textAreaRef || !textAreaRef.current)\n      return;\n    const selectionStart = textAreaRef.current.selectionStart;\n    const selectionEnd = textAreaRef.current.selectionEnd;\n    const value = textAreaRef.current.value;\n    const startString = value.substring(0, selectionStart);\n    const highlightedString = value.substring(selectionStart, selectionEnd);\n    const endString = value.substring(selectionEnd, value.length);\n    return {\n      startString,\n      highlightedString,\n      endString\n    };\n  };\n  const transformText = (transfromFunc) => {\n    const textAreaStrings = getHighlightedString();\n    if (!textAreaStrings)\n      return;\n    const {\n      startString,\n      highlightedString,\n      endString\n    } = textAreaStrings;\n    setBody(startString.concat(transfromFunc(highlightedString), endString));\n  };\n  const transformLink = () => {\n    const url = prompt(\"Your URL:\", \"http://www.\");\n    if (url === null)\n      return;\n    const textAreaStrings = getHighlightedString();\n    if (!textAreaStrings)\n      return;\n    const {\n      startString,\n      highlightedString,\n      endString\n    } = textAreaStrings;\n    setBody(startString.concat(linkStringFunc(url, highlightedString), endString));\n  };\n  const fetchShowPreview = async () => {\n    if (!body)\n      return;\n    try {\n      const preview$1 = onPreview || preview;\n      const response = await preview$1(body);\n      setPreviewBody(response);\n      setShowPreview(true);\n    } catch (e) {\n      setError(\"Preview request failed, please try again\");\n      setPreviewBody(\"\");\n      setShowPreview(false);\n    }\n  };\n  const resetForm = () => {\n    setError(\"\");\n    setInfo(\"\");\n    setBody(\"\");\n    setShowPreview(false);\n    setIsActive(false);\n    setCommentBeingRepliedTo && setCommentBeingRepliedTo();\n  };\n  const submitForm = async () => {\n    setError(\"\");\n    setInfo(\"\");\n    if (body) {\n      const comment$1 = onComment || comment;\n      const reply$1 = onReply || reply;\n      const response = commentBeingRepliedTo ? await reply$1(shortUrl, body, commentBeingRepliedTo.id) : await comment$1(shortUrl, body);\n      if (response.errorCode === \"USERNAME_MISSING\") {\n        setUserNameMissing(true);\n      } else if (response.errorCode === \"EMPTY_COMMENT_BODY\") {\n        setError(\"Please write a comment.\");\n      } else if (response.errorCode === \"COMMENT_TOO_LONG\") {\n        setError(\"Your comment must be fewer than 5000 characters long.\");\n      } else if (response.errorCode === \"USER_BANNED\") {\n        setError('Commenting has been disabled for this account (<a href=\"/community-faqs#321a\">why?</a>).');\n      } else if (response.errorCode === \"IP_THROTTLED\") {\n        setError('Commenting has been temporarily blocked for this IP address (<a href=\"/community-faqs\">why?</a>).');\n      } else if (response.errorCode === \"DISCUSSION_CLOSED\") {\n        setError(\"Sorry your comment can not be published as the discussion is now closed for comments.\");\n      } else if (response.errorCode === \"PARENT_COMMENT_MODERATED\") {\n        setError(\"Sorry the comment can not be published as the comment you replied to has been moderated since.\");\n      } else if (response.errorCode === \"COMMENT_RATE_LIMIT_EXCEEDED\") {\n        setError(\"You can only post one comment every minute. Please try again in a moment.\");\n      } else if (response.errorCode === \"INVALID_PROTOCOL\") {\n        setError(`Sorry your comment can not be published as it was not sent over\n                  a secure channel. Please report us this issue using the technical issue link\n                  in the page footer.`);\n      } else if (response.errorCode === \"AUTH_COOKIE_INVALID\") {\n        setError(\"Sorry, your comment was not published as you are no longer signed in. Please sign in and try again.\");\n      } else if (response.errorCode === \"READ-ONLY-MODE\") {\n        setError(`Sorry your comment can not currently be published as\n                  commenting is undergoing maintenance but will be back shortly. Please try\n                  again in a moment.`);\n      } else if (response.errorCode === \"API_CORS_BLOCKED\") {\n        setError(`Could not post due to your internet settings, which might be\n                 controlled by your provider. Please contact your administrator\n                 or disable any proxy servers or VPNs and try again.`);\n      } else if (response.errorCode === \"API_ERROR\") {\n        setError(`Sorry, there was a problem posting your comment. Please try\n                  another browser or network connection.  Reference code `);\n      } else if (response.errorCode === \"EMAIL_VERIFIED\") {\n        setInfo(\"Sent. Please check your email to verify your email address. Once verified post your comment.\");\n      } else if (response.errorCode === \"EMAIL_VERIFIED_FAIL\") {\n        setError(`We are having technical difficulties. Please try again later or\n            <a href=\"#\">\n            <strong>resend the verification</strong></a>.`);\n      } else if (response.errorCode === \"EMAIL_NOT_VALIDATED\") {\n        setError(`Please confirm your email address to comment.<br />\n            If you can't find the email, we can\n            <a href=\"#\">\n            <strong>resend the verification email</strong></a> to your email\n            address.`);\n      } else if (response.status === \"ok\") {\n        onAddComment(simulateNewComment(\n          parseInt(response.message),\n          body,\n          user,\n          commentBeingRepliedTo\n        ));\n        resetForm();\n      } else {\n        setError(\"Sorry, there was a problem posting your comment.\");\n      }\n    }\n  };\n  const submitUserName = async (userName) => {\n    var _a, _b;\n    setError(\"\");\n    if (!userName) {\n      setError(\"Username field cannot be empty\");\n      return;\n    }\n    const response = await addUserName(userName);\n    if (response.status === \"ok\") {\n      submitForm();\n      setUserNameMissing(false);\n    } else {\n      response.errors && setError((_b = (_a = response.errors[0]) == null ? void 0 : _a.message) != null ? _b : \"unknown error\");\n    }\n  };\n  if (userNameMissing && body) {\n    return /* @__PURE__ */ jsx(FirstCommentWelcome, {\n      pillar,\n      body,\n      error,\n      submitForm: submitUserName,\n      cancelSubmit: () => setUserNameMissing(false),\n      onPreview\n    });\n  }\n  return /* @__PURE__ */ jsx(React.Fragment, null, /* @__PURE__ */ jsx(\"form\", {\n    css: formWrapper$1,\n    onSubmit: (e) => {\n      e.preventDefault();\n      submitForm();\n    }\n  }, error && /* @__PURE__ */ jsx(\"div\", {\n    css: msgContainerStyles\n  }, /* @__PURE__ */ jsx(\"p\", {\n    css: [errorTextStyles, linkStyles$3, process.env.NODE_ENV === \"production\" ? \"\" : \";label:CommentForm;\"],\n    dangerouslySetInnerHTML: {\n      __html: error\n    }\n  })), info && /* @__PURE__ */ jsx(\"div\", {\n    css: msgContainerStyles\n  }, /* @__PURE__ */ jsx(\"p\", {\n    css: [infoTextStyles, linkStyles$3, process.env.NODE_ENV === \"production\" ? \"\" : \";label:CommentForm;\"]\n  }, info)), isActive && /* @__PURE__ */ jsx(\"div\", {\n    css: wrapperHeaderTextStyles\n  }, /* @__PURE__ */ jsx(\"p\", {\n    css: [headerTextStyles, linkStyles$3, process.env.NODE_ENV === \"production\" ? \"\" : \";label:CommentForm;\"]\n  }, \"Please keep comments respectful and abide by the\", \" \", /* @__PURE__ */ jsx(\"a\", {\n    href: \"/community-standards\"\n  }, \"community guidelines\"), \".\"), user.privateFields && user.privateFields.isPremoderated && /* @__PURE__ */ jsx(\"p\", {\n    css: [errorTextStyles, linkStyles$3, process.env.NODE_ENV === \"production\" ? \"\" : \";label:CommentForm;\"]\n  }, \"Your comments are currently being pre-moderated (\", /* @__PURE__ */ jsx(\"a\", {\n    href: \"/community-faqs#311\",\n    target: \"_blank\",\n    rel: \"nofollow\"\n  }, \"why?\"), \")\")), /* @__PURE__ */ jsx(\"textarea\", {\n    \"data-testid\": \"comment-input\",\n    placeholder: commentBeingRepliedTo || !isActive ? \"Join the discussion\" : \"\",\n    css: [commentTextArea, commentBeingRepliedTo && isActive && greyPlaceholder, !commentBeingRepliedTo && !isActive && blackPlaceholder, process.env.NODE_ENV === \"production\" ? \"\" : \";label:CommentForm;\"],\n    ref: textAreaRef,\n    style: {\n      height: isActive ? \"132px\" : \"50px\"\n    },\n    onChange: (e) => {\n      setBody(e.target.value || \"\");\n    },\n    value: body,\n    onFocus: () => setIsActive(true)\n  }), /* @__PURE__ */ jsx(\"div\", {\n    css: bottomContainer\n  }, /* @__PURE__ */ jsx(Row, null, /* @__PURE__ */ jsx(React.Fragment, null, /* @__PURE__ */ jsx(PillarButton, {\n    pillar,\n    type: \"submit\",\n    linkName: \"post comment\",\n    size: \"small\"\n  }, \"Post your comment\"), (isActive || body) && /* @__PURE__ */ jsx(React.Fragment, null, /* @__PURE__ */ jsx(Space$2, {\n    amount: 3\n  }), /* @__PURE__ */ jsx(PillarButton, {\n    pillar,\n    onClick: fetchShowPreview,\n    priority: \"secondary\",\n    linkName: \"preview-comment\",\n    size: \"small\"\n  }, \"Preview\"), /* @__PURE__ */ jsx(Space$2, {\n    amount: 3\n  }), /* @__PURE__ */ jsx(PillarButton, {\n    pillar,\n    onClick: resetForm,\n    priority: \"subdued\",\n    linkName: \"cancel-post-comment\",\n    size: \"small\"\n  }, \"Cancel\")))), isActive && /* @__PURE__ */ jsx(Row, null, /* @__PURE__ */ jsx(\"button\", {\n    onClick: (e) => {\n      e.preventDefault();\n      transformText(boldString);\n    },\n    css: commentAddOns,\n    \"data-link-name\": \"formatting-controls-bold\"\n  }, \"B\"), /* @__PURE__ */ jsx(\"button\", {\n    onClick: (e) => {\n      e.preventDefault();\n      transformText(italicsString);\n    },\n    css: commentAddOns,\n    \"data-link-name\": \"formatting-controls-italic\"\n  }, \"i\"), /* @__PURE__ */ jsx(\"button\", {\n    onClick: (e) => {\n      e.preventDefault();\n      transformText(strikethroughString);\n    },\n    css: commentAddOns,\n    \"data-link-name\": \"formatting-controls-strikethrough\"\n  }, `S\\u0336`), /* @__PURE__ */ jsx(\"button\", {\n    onClick: (e) => {\n      e.preventDefault();\n      transformText(codeString);\n    },\n    css: commentAddOns,\n    \"data-link-name\": \"formatting-controls-code\"\n  }, `<>`), /* @__PURE__ */ jsx(\"button\", {\n    onClick: (e) => {\n      e.preventDefault();\n      transformText(quoteString);\n    },\n    css: commentAddOns,\n    \"data-link-name\": \"formatting-controls-quote\"\n  }, '\"'), /* @__PURE__ */ jsx(\"button\", {\n    onClick: (e) => {\n      e.preventDefault();\n      transformLink();\n    },\n    css: commentAddOns,\n    \"data-link-name\": \"formatting-controls-link\"\n  }, \"Link\")))), showPreview && /* @__PURE__ */ jsx(Preview$1, {\n    previewHtml: previewBody\n  }));\n};\nfunction _EMOTION_STRINGIFIED_CSS_ERROR__$9() {\n  return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\";\n}\nconst staffBadge = process.env.NODE_ENV === \"production\" ? {\n  name: \"fhxb3m\",\n  styles: \"display:flex;flex-direction:row;align-items:center\"\n} : {\n  name: \"1ef6nbe-staffBadge\",\n  styles: \"display:flex;flex-direction:row;align-items:center;label:staffBadge;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$9\n};\nconst iconStyles = process.env.NODE_ENV === \"production\" ? {\n  name: \"1g57i33\",\n  styles: \"display:inline-block;width:15px;height:15px\"\n} : {\n  name: \"tmspie-iconStyles\",\n  styles: \"display:inline-block;width:15px;height:15px;label:iconStyles;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$9\n};\nconst labelText = /* @__PURE__ */ css(\"display:inline-block;line-height:15px;margin:0 0 0 \", space[1], \"px;\", textSans.xxsmall({\n  fontWeight: \"bold\"\n}), \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:labelText;\"));\nconst staffIcon = /* @__PURE__ */ css(\"fill:\", brand[400], \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:staffIcon;\"));\nconst staffLabel = /* @__PURE__ */ css(\"color:\", brand[400], \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:staffLabel;\"));\nconst guardianPickLabel = /* @__PURE__ */ css(\"color:\", neutral[7], \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:guardianPickLabel;\"));\nconst GuardianStaff = () => /* @__PURE__ */ jsx(\"div\", {\n  css: staffBadge\n}, /* @__PURE__ */ jsx(\"svg\", {\n  width: \"36\",\n  height: \"36\",\n  viewBox: \"0 0 36 36\",\n  css: [iconStyles, staffIcon, process.env.NODE_ENV === \"production\" ? \"\" : \";label:GuardianStaff;\"]\n}, /* @__PURE__ */ jsx(\"path\", {\n  d: \"M18 0a18 18 0 1 0 0 36 18 18 0 0 0 0-36\"\n}), /* @__PURE__ */ jsx(\"path\", {\n  fill: neutral[100],\n  d: \"M21.2 4.4c2.3.4 5.3 2 6.3 3.1v5.2H27L21.2 5v-.6zm-2.2.4c-4 0-6.3 5.6-6.3 13.2 0 7.7 2.2 13.3 6.3 13.3v.6c-6 .4-14.4-4.2-14-13.8A13.3 13.3 0 0 1 19 4v.7zm10.4 14.4l-1.9.9v8.6c-1 1-3.8 2.6-6.3 3.1V19.9l-2.2-.7v-.6h10.4v.6z\"\n})), /* @__PURE__ */ jsx(\"p\", {\n  css: [labelText, staffLabel, process.env.NODE_ENV === \"production\" ? \"\" : \";label:GuardianStaff;\"]\n}, \"Staff\"));\nconst GuardianContributor = () => /* @__PURE__ */ jsx(\"div\", {\n  css: staffBadge\n}, /* @__PURE__ */ jsx(\"svg\", {\n  width: \"36\",\n  height: \"36\",\n  viewBox: \"0 0 36 36\",\n  css: [iconStyles, staffIcon, process.env.NODE_ENV === \"production\" ? \"\" : \";label:GuardianContributor;\"]\n}, /* @__PURE__ */ jsx(\"path\", {\n  d: \"M18 0a18 18 0 1 0 0 36 18 18 0 0 0 0-36\"\n}), /* @__PURE__ */ jsx(\"path\", {\n  fill: neutral[100],\n  d: \"M21.2 4.4c2.3.4 5.3 2 6.3 3.1v5.2H27L21.2 5v-.6zm-2.2.4c-4 0-6.3 5.6-6.3 13.2 0 7.7 2.2 13.3 6.3 13.3v.6c-6 .4-14.4-4.2-14-13.8A13.3 13.3 0 0 1 19 4v.7zm10.4 14.4l-1.9.9v8.6c-1 1-3.8 2.6-6.3 3.1V19.9l-2.2-.7v-.6h10.4v.6z\"\n})), /* @__PURE__ */ jsx(\"p\", {\n  css: [labelText, staffLabel, process.env.NODE_ENV === \"production\" ? \"\" : \";label:GuardianContributor;\"]\n}, \"Contributor\"));\nconst GuardianPick = () => /* @__PURE__ */ jsx(\"div\", {\n  css: staffBadge\n}, /* @__PURE__ */ jsx(\"svg\", {\n  width: \"36\",\n  height: \"36\",\n  viewBox: \"0 0 36 36\",\n  css: iconStyles\n}, /* @__PURE__ */ jsx(\"path\", {\n  d: \"M18 0a18 18 0 1 0 0 36 18 18 0 0 0 0-36\"\n}), /* @__PURE__ */ jsx(\"path\", {\n  fill: neutral[100],\n  d: \"M21.2 4.4c2.3.4 5.3 2 6.3 3.1v5.2H27L21.2 5v-.6zm-2.2.4c-4 0-6.3 5.6-6.3 13.2 0 7.7 2.2 13.3 6.3 13.3v.6c-6 .4-14.4-4.2-14-13.8A13.3 13.3 0 0 1 19 4v.7zm10.4 14.4l-1.9.9v8.6c-1 1-3.8 2.6-6.3 3.1V19.9l-2.2-.7v-.6h10.4v.6z\"\n})), /* @__PURE__ */ jsx(\"p\", {\n  css: [labelText, guardianPickLabel, process.env.NODE_ENV === \"production\" ? \"\" : \";label:GuardianPick;\"]\n}, \"Guardian Pick\"));\nconst countStyles = /* @__PURE__ */ css(textSans.xxsmall({\n  fontWeight: \"light\"\n}), \" min-width:0.75rem;color:\", neutral[46], \";margin-right:0.3125rem;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:countStyles;\"));\nconst buttonStyles$1 = (recommended, isSignedIn) => /* @__PURE__ */ css(\"cursor:\", recommended || !isSignedIn ? \"default\" : \"pointer\", \";width:1.1875rem;height:1.1875rem;background-color:\", recommended ? brand[400] : neutral[97], \";border-radius:62.5rem;border:none;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:buttonStyles;\"));\nconst arrowStyles = (recommended) => /* @__PURE__ */ css(\"display:flex;flex-direction:column;align-items:center;svg{fill:\", recommended ? neutral[100] : neutral[46], \";height:15px;width:15px;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:arrowStyles;\"));\nconst RecommendationCount = ({\n  commentId,\n  initialCount,\n  alreadyRecommended,\n  isSignedIn,\n  userMadeComment,\n  onRecommend\n}) => {\n  const [count, setCount] = useState(initialCount);\n  const [recommended, setRecommended] = useState(alreadyRecommended);\n  const tryToRecommend = () => {\n    const newCount = count + 1;\n    setCount(newCount);\n    setRecommended(true);\n    const recommend$1 = onRecommend || recommend;\n    recommend$1(commentId).then((accepted) => {\n      if (!accepted) {\n        setCount(newCount - 1);\n        setRecommended(alreadyRecommended);\n      }\n    });\n  };\n  return /* @__PURE__ */ jsx(Row, null, /* @__PURE__ */ jsx(\"div\", {\n    css: countStyles\n  }, count), /* @__PURE__ */ jsx(\"button\", {\n    css: buttonStyles$1(recommended, isSignedIn),\n    onClick: () => tryToRecommend(),\n    disabled: recommended || !isSignedIn || userMadeComment,\n    \"data-link-name\": \"Recommend comment\",\n    \"aria-label\": \"Recommend comment\"\n  }, /* @__PURE__ */ jsx(\"div\", {\n    css: arrowStyles(recommended)\n  }, /* @__PURE__ */ jsx(SvgArrowUpStraight, null))));\n};\nfunction _EMOTION_STRINGIFIED_CSS_ERROR__$8() {\n  return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\";\n}\nconst formWrapper = /* @__PURE__ */ css(\"z-index:1;border:1px solid \", neutral[86], \";position:absolute;width:300px;top:0;right:0;display:flex;flex-direction:column;padding:\", space[3], \"px;background-color:white;\", textSans.xxsmall(), \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:formWrapper;\"));\nconst labelStyles$1 = (pillar) => /* @__PURE__ */ css(\"color:\", palette[pillarToString(pillar)][400], \";\", textSans.small({\n  fontWeight: \"bold\"\n}), \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:labelStyles;\"));\nconst inputWrapper = /* @__PURE__ */ css(\"display:flex;flex-direction:column;margin-bottom:\", space[2], \"px;label{display:block;}select,input,textarea{min-height:\", space[5], \"px;width:75%;border:1px solid \", neutral[86], \";}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:inputWrapper;\"));\nconst errorMessageStyles = process.env.NODE_ENV === \"production\" ? {\n  name: \"hwfcu5\",\n  styles: \"color:red\"\n} : {\n  name: \"qpo29n-errorMessageStyles\",\n  styles: \"color:red;label:errorMessageStyles;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$8\n};\nvar _ref$2 = process.env.NODE_ENV === \"production\" ? {\n  name: \"114fqm7\",\n  styles: \"color:green;margin-left:1em\"\n} : {\n  name: \"ayasr-AbuseReportForm\",\n  styles: \"color:green;margin-left:1em;label:AbuseReportForm;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$8\n};\nvar _ref2$1 = process.env.NODE_ENV === \"production\" ? {\n  name: \"1mwkkc\",\n  styles: \"margin-left:1em\"\n} : {\n  name: \"1x2snws-AbuseReportForm\",\n  styles: \"margin-left:1em;label:AbuseReportForm;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$8\n};\nconst AbuseReportForm = ({\n  commentId,\n  toggleSetShowForm,\n  pillar\n}) => {\n  const modalRef = useRef(null);\n  let firstElement = null;\n  let lastElement = null;\n  useEffect(() => {\n    if (!modalRef.current)\n      return;\n    firstElement = modalRef.current.querySelector('select[name=\"category\"]');\n    lastElement = modalRef.current.querySelector('button[custom-guardian=\"close-modal\"]');\n  }, [modalRef]);\n  useEffect(() => {\n    firstElement && firstElement.focus();\n  }, [firstElement]);\n  useEffect(() => {\n    const closeOnClickAway = (e) => {\n      if (modalRef.current && !modalRef.current.contains(e.target)) {\n        toggleSetShowForm();\n      }\n    };\n    document.addEventListener(\"mousedown\", closeOnClickAway);\n  }, [modalRef, toggleSetShowForm]);\n  useEffect(() => {\n    const keyListener = (e) => {\n      if (e.keyCode === 27) {\n        toggleSetShowForm();\n      } else if (e.keyCode === 9) {\n        if (!firstElement || !lastElement)\n          return;\n        if (!e.shiftKey && document.activeElement === lastElement) {\n          firstElement && firstElement.focus();\n          e.preventDefault();\n        }\n        if (e.shiftKey && document.activeElement === firstElement) {\n          lastElement && lastElement.focus();\n          e.preventDefault();\n        }\n      }\n    };\n    document.addEventListener(\"keydown\", keyListener);\n    return () => document.removeEventListener(\"keydown\", keyListener);\n  });\n  const [formVariables, setFormVariables] = useState({\n    categoryId: 0,\n    reason: \"\",\n    email: \"\"\n  });\n  const defaultErrorTexts = {\n    categoryId: \"\",\n    reason: \"\",\n    email: \"\",\n    response: \"\"\n  };\n  const [errors, setErrors] = useState(defaultErrorTexts);\n  const [successMessage, setSuccessMessage] = useState();\n  const onSubmit = async (event) => {\n    event.preventDefault();\n    const {\n      categoryId,\n      reason,\n      email\n    } = formVariables;\n    setErrors(defaultErrorTexts);\n    if (!categoryId) {\n      setErrors({\n        ...errors,\n        categoryId: \"You must select a category before submitting\"\n      });\n      return;\n    }\n    const response = await reportAbuse({\n      categoryId,\n      reason,\n      email,\n      commentId\n    });\n    if (response.status !== \"ok\") {\n      setErrors({\n        ...errors,\n        response: response.message\n      });\n    } else {\n      setSuccessMessage(\"Report submitted\");\n    }\n  };\n  const labelStylesClass = labelStyles$1(pillar);\n  return /* @__PURE__ */ jsx(\"div\", {\n    \"aria-modal\": \"true\",\n    ref: modalRef\n  }, /* @__PURE__ */ jsx(\"form\", {\n    css: formWrapper,\n    onSubmit\n  }, /* @__PURE__ */ jsx(\"div\", {\n    css: inputWrapper\n  }, /* @__PURE__ */ jsx(\"label\", {\n    css: labelStylesClass,\n    htmlFor: \"category\"\n  }, \"Category\"), /* @__PURE__ */ jsx(\"select\", {\n    name: \"category\",\n    id: \"category\",\n    onChange: (e) => setFormVariables({\n      ...formVariables,\n      categoryId: Number(e.target.value)\n    }),\n    value: formVariables.categoryId\n  }, /* @__PURE__ */ jsx(\"option\", {\n    value: \"0\"\n  }, \"Please select\"), /* @__PURE__ */ jsx(\"option\", {\n    value: \"1\"\n  }, \"Personal abuse\"), /* @__PURE__ */ jsx(\"option\", {\n    value: \"2\"\n  }, \"Off topic\"), /* @__PURE__ */ jsx(\"option\", {\n    value: \"3\"\n  }, \"Legal issue\"), /* @__PURE__ */ jsx(\"option\", {\n    value: \"4\"\n  }, \"Trolling\"), /* @__PURE__ */ jsx(\"option\", {\n    value: \"5\"\n  }, \"Hate speech\"), /* @__PURE__ */ jsx(\"option\", {\n    value: \"6\"\n  }, \"Offensive/Threatening language\"), /* @__PURE__ */ jsx(\"option\", {\n    value: \"7\"\n  }, \"Copyright\"), /* @__PURE__ */ jsx(\"option\", {\n    value: \"8\"\n  }, \"Spam\"), /* @__PURE__ */ jsx(\"option\", {\n    value: \"9\"\n  }, \"Other\")), errors.categoryId && /* @__PURE__ */ jsx(\"span\", {\n    css: errorMessageStyles\n  }, errors.categoryId)), /* @__PURE__ */ jsx(\"div\", {\n    css: inputWrapper\n  }, /* @__PURE__ */ jsx(\"label\", {\n    css: labelStylesClass,\n    htmlFor: \"reason\"\n  }, \"Reason (optional)\"), /* @__PURE__ */ jsx(\"textarea\", {\n    name: \"reason\",\n    id: \"reason\",\n    onChange: (e) => setFormVariables({\n      ...formVariables,\n      reason: e.target.value\n    }),\n    value: formVariables.reason\n  }), errors.reason && /* @__PURE__ */ jsx(\"span\", {\n    css: errorMessageStyles\n  }, errors.reason)), /* @__PURE__ */ jsx(\"div\", {\n    css: inputWrapper\n  }, /* @__PURE__ */ jsx(\"label\", {\n    css: labelStylesClass,\n    htmlFor: \"email\"\n  }, \"Email (optional)\"), /* @__PURE__ */ jsx(\"input\", {\n    type: \"email\",\n    name: \"email\",\n    id: \"email\",\n    onChange: (e) => setFormVariables({\n      ...formVariables,\n      email: e.target.value\n    }),\n    value: formVariables.email\n  }), errors.email && /* @__PURE__ */ jsx(\"span\", {\n    css: errorMessageStyles\n  }, errors.email)), /* @__PURE__ */ jsx(\"div\", null, /* @__PURE__ */ jsx(Button, {\n    type: \"submit\",\n    size: \"small\",\n    \"data-link-name\": \"Post report abuse\"\n  }, \"Report\"), errors.response && /* @__PURE__ */ jsx(\"span\", {\n    css: [errorMessageStyles, _ref2$1, process.env.NODE_ENV === \"production\" ? \"\" : \";label:AbuseReportForm;\"]\n  }, errors.response), successMessage && /* @__PURE__ */ jsx(\"span\", {\n    css: _ref$2\n  }, successMessage)), /* @__PURE__ */ jsx(\"div\", {\n    css: /* @__PURE__ */ css(\"position:absolute;right:\", space[3], \"px;top:\", space[3], \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:AbuseReportForm;\"))\n  }, /* @__PURE__ */ jsx(Button, {\n    \"custom-guardian\": \"close-modal\",\n    size: \"small\",\n    iconSide: \"right\",\n    icon: /* @__PURE__ */ jsx(SvgCross, null),\n    onClick: toggleSetShowForm,\n    \"data-link-name\": \"cancel-report-abuse\",\n    hideLabel: true\n  }, \"close report abuse modal\"))));\n};\nconst monthConverter = {\n  0: \"Jan\",\n  1: \"Feb\",\n  2: \"Mar\",\n  3: \"Apr\",\n  4: \"May\",\n  5: \"Jun\",\n  6: \"Jul\",\n  7: \"Aug\",\n  8: \"Sep\",\n  9: \"Oct\",\n  10: \"Nov\",\n  11: \"Dec\"\n};\nconst isLast24Hrs = (date) => {\n  const timeStamp = Math.round(new Date().getTime() / 1e3);\n  const timeStampYesterday = timeStamp - 24 * 3600;\n  return date.getTime() >= new Date(timeStampYesterday * 1e3).getTime();\n};\nconst dateFormatter = (dateString) => {\n  const date = new Date(dateString);\n  if (isLast24Hrs(date)) {\n    return timeAgo(date.getTime(), {\n      verbose: true,\n      daysUntilAbsolute: 1\n    });\n  }\n  return `${date.getDate()} ${monthConverter[date.getMonth()]} ${date.getFullYear()} ${date.getHours()}.${String(date.getMinutes()).padStart(2, \"0\")}`;\n};\nconst useInterval = (callback, delay) => {\n  const savedCallback = useRef();\n  useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n  useEffect(() => {\n    function tick() {\n      const currentCallback = savedCallback.current;\n      currentCallback();\n    }\n    if (delay !== null) {\n      let id = setInterval(tick, delay);\n      return () => clearInterval(id);\n    } else\n      return;\n  }, [delay]);\n};\nconst linkStyles$2 = /* @__PURE__ */ css(\"color:\", neutral[46], \";text-decoration:none;:hover,:focus{text-decoration:underline;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:linkStyles;\"));\nconst timeStyles = /* @__PURE__ */ css(textSans.xxsmall({\n  fontWeight: \"light\"\n}), \" min-width:0.75rem;margin-right:0.3125rem;white-space:nowrap;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:timeStyles;\"));\nconst Timestamp = ({\n  isoDateTime,\n  webUrl,\n  commentId,\n  onPermalinkClick\n}) => {\n  const [timeAgo2, setTimeAgo] = useState(dateFormatter(isoDateTime));\n  useInterval(() => {\n    setTimeAgo(dateFormatter(isoDateTime));\n  }, 15e3);\n  return /* @__PURE__ */ jsx(\"a\", {\n    href: webUrl,\n    css: linkStyles$2,\n    \"data-link-name\": \"jump-to-comment-timestamp\",\n    onClick: (e) => {\n      onPermalinkClick(commentId);\n      e.preventDefault();\n    },\n    rel: \"nofollow\"\n  }, /* @__PURE__ */ jsx(\"time\", {\n    dateTime: isoDateTime.toString(),\n    css: timeStyles\n  }, timeAgo2));\n};\nconst imageStyles = (size) => /* @__PURE__ */ css(\"border-radius:\", size + 10, \"px;width:\", size, \"px;height:\", size, \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:imageStyles;\"));\nconst Avatar = ({\n  imageUrl = \"https://avatar.guim.co.uk/no-user-image.gif\",\n  displayName,\n  size\n}) => {\n  switch (size) {\n    case \"small\":\n      return /* @__PURE__ */ jsx(\"img\", {\n        src: imageUrl,\n        alt: displayName,\n        css: imageStyles(36)\n      });\n    case \"large\":\n      return /* @__PURE__ */ jsx(\"img\", {\n        src: imageUrl,\n        alt: displayName,\n        css: imageStyles(60)\n      });\n    case \"medium\":\n    default:\n      return /* @__PURE__ */ jsx(\"img\", {\n        src: imageUrl,\n        alt: displayName,\n        css: imageStyles(48)\n      });\n  }\n};\nfunction _EMOTION_STRINGIFIED_CSS_ERROR__$7() {\n  return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\";\n}\nvar _ref$1 = process.env.NODE_ENV === \"production\" ? {\n  name: \"1fttcpj\",\n  styles: \"display:flex;flex-direction:column\"\n} : {\n  name: \"16nl6wb-Column\",\n  styles: \"display:flex;flex-direction:column;label:Column;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$7\n};\nconst Column = ({\n  children\n}) => /* @__PURE__ */ jsx(\"div\", {\n  css: _ref$1\n}, children);\nconst createAuthenticationEventParams = (componentId) => {\n  const params = `componentType=identityauthentication&componentId=${componentId}`;\n  return `componentEventParams=${encodeURIComponent(params)}`;\n};\nfunction _EMOTION_STRINGIFIED_CSS_ERROR__$6() {\n  return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\";\n}\nconst commentControlsLink = (pillar) => /* @__PURE__ */ css(\"margin-top:-2px;a{\", textSans.small({\n  fontWeight: \"bold\"\n}), \" margin-right:\", space[2], \"px;color:\", palette[pillarToString(pillar)][400], \";:hover{text-decoration:none;text-decoration-color:none;span{color:\", palette[pillarToString(pillar)][400], \";text-decoration:underline;text-decoration-color:\", palette[pillarToString(pillar)][400], \";}}}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:commentControlsLink;\"));\nconst spaceBetween = process.env.NODE_ENV === \"production\" ? {\n  name: \"1eoy87d\",\n  styles: \"display:flex;justify-content:space-between\"\n} : {\n  name: \"tsx0rx-spaceBetween\",\n  styles: \"display:flex;justify-content:space-between;label:spaceBetween;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$6\n};\nconst commentCss = /* @__PURE__ */ css(\"display:block;clear:left;\", textSans.small(), \" margin-top:\", remSpace[2], \";margin-bottom:\", remSpace[3], \";word-break:break-word;p{margin-top:0;margin-bottom:\", space[3], \"px;}blockquote{margin-top:\", space[3], \"px;margin-bottom:\", space[3], \"px;margin-left:\", space[5], \"px;margin-right:\", space[5], \"px;padding-left:\", space[2], \"px;color:\", neutral[46], \";}i{font-style:italic;}b{font-weight:bold;}code{font-family:monospace;font-size:1em;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:commentCss;\"));\nconst blockedCommentStyles = /* @__PURE__ */ css(\"color:\", neutral[46], \";\", textSans.xxsmall(), \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:blockedCommentStyles;\"));\nconst commentLinkStyling = /* @__PURE__ */ css(\"a{color:\", brand[500], \";text-decoration:none;:hover{text-decoration:underline;}}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:commentLinkStyling;\"));\nconst commentWrapper = /* @__PURE__ */ css(\"border-top:1px solid \", border.secondary, \";display:flex;padding:\", space[2], \"px 0;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:commentWrapper;\"));\nconst selectedStyles$1 = /* @__PURE__ */ css(\"background-color:\", neutral[97], \";margin-left:-\", space[2], \"px;padding-left:\", space[2], \"px;margin-right:-\", space[2], \"px;padding-right:\", space[2], \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:selectedStyles;\"));\nconst avatarMargin$1 = /* @__PURE__ */ css(\"margin-right:\", space[2], \"px;\", until.mobileLandscape, \"{display:none;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:avatarMargin;\"));\nconst colourStyles = (pillar) => /* @__PURE__ */ css(\"a{color:\", palette[pillarToString(pillar)][400], \";text-decoration-color:\", palette[pillarToString(pillar)][400], \";:hover{color:\", palette[pillarToString(pillar)][400], \";text-decoration-color:\", palette[pillarToString(pillar)][400], \";}}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:colourStyles;\"));\nconst boldFont = /* @__PURE__ */ css(\"a{\", textSans.small({\n  fontWeight: \"bold\"\n}), \";}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:boldFont;\"));\nconst regularFont = /* @__PURE__ */ css(\"a{\", textSans.small(), \";}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:regularFont;\"));\nconst svgReplyArrow = /* @__PURE__ */ css(\"svg{fill:\", neutral[46], \"!important;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:svgReplyArrow;\"));\nconst commentDetails = process.env.NODE_ENV === \"production\" ? {\n  name: \"yr9n6z\",\n  styles: \"flex-grow:1;width:100%\"\n} : {\n  name: \"g1ds39-commentDetails\",\n  styles: \"flex-grow:1;width:100%;label:commentDetails;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$6\n};\nconst headerStyles = process.env.NODE_ENV === \"production\" ? {\n  name: \"4c6dm7\",\n  styles: \"display:flex;flex-direction:row;justify-content:space-between\"\n} : {\n  name: \"1y1oofc-headerStyles\",\n  styles: \"display:flex;flex-direction:row;justify-content:space-between;label:headerStyles;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$6\n};\nconst iconWrapper = process.env.NODE_ENV === \"production\" ? {\n  name: \"n6f5a6\",\n  styles: \"padding:2px;white-space:nowrap\"\n} : {\n  name: \"1hom060-iconWrapper\",\n  styles: \"padding:2px;white-space:nowrap;label:iconWrapper;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$6\n};\nconst timestampWrapperStyles = /* @__PURE__ */ css(\"margin-left:\", space[2], \"px;margin-bottom:-2px;display:flex;flex-direction:column;justify-content:center;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:timestampWrapperStyles;\"));\nconst hideBelowMobileLandscape = /* @__PURE__ */ css(until.mobileLandscape, \"{display:none;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:hideBelowMobileLandscape;\"));\nconst hideAboveMobileLandscape = /* @__PURE__ */ css(from.mobileLandscape, \"{display:none;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:hideAboveMobileLandscape;\"));\nconst negativeMargin = process.env.NODE_ENV === \"production\" ? {\n  name: \"w1bd1c\",\n  styles: \"margin-top:0px;margin-bottom:-6px\"\n} : {\n  name: \"cu5d3a-negativeMargin\",\n  styles: \"margin-top:0px;margin-bottom:-6px;label:negativeMargin;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$6\n};\nconst cssTextOverflowElip = process.env.NODE_ENV === \"production\" ? {\n  name: \"1h52dri\",\n  styles: \"overflow:hidden;text-overflow:ellipsis;white-space:nowrap\"\n} : {\n  name: \"1mber9s-cssTextOverflowElip\",\n  styles: \"overflow:hidden;text-overflow:ellipsis;white-space:nowrap;label:cssTextOverflowElip;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$6\n};\nconst cssReplyToWrapper = /* @__PURE__ */ css(until.mobileLandscape, \"{padding-right:10px;width:calc(100% - 35px);box-sizing:border-box;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:cssReplyToWrapper;\"));\nconst buttonLinkPillarBaseStyles$1 = (pillar) => /* @__PURE__ */ css(\"button{color:\", palette[pillarToString(pillar)][400], \";background-color:transparent;height:18px;min-height:18px;border-radius:0;:hover{text-decoration:underline;text-decoration-color:\", palette[pillarToString(pillar)][400], \";}}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:buttonLinkPillarBaseStyles;\"));\nconst buttonLinkBaseStyles$1 = /* @__PURE__ */ css(\"button{color:\", neutral[46], \";background-color:transparent;height:18px;min-height:18px;border-radius:0;:hover{text-decoration:underline;text-decoration-color:\", neutral[46], \";}}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:buttonLinkBaseStyles;\"));\nconst subdued = process.env.NODE_ENV === \"production\" ? {\n  name: \"g65o95\",\n  styles: \"text-decoration:none\"\n} : {\n  name: \"10ij9gz-subdued\",\n  styles: \"text-decoration:none;label:subdued;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$6\n};\nconst cssReplyAlphaDisplayName = /* @__PURE__ */ css(until.mobileLandscape, \"{\", cssTextOverflowElip, \" width:100%;max-width:fit-content;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:cssReplyAlphaDisplayName;\"));\nconst cssReplyBetaDisplayName = /* @__PURE__ */ css(until.mobileLandscape, \"{\", cssTextOverflowElip, \" min-width:40%;flex-grow:1;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:cssReplyBetaDisplayName;\"));\nconst Space$1 = ({\n  amount\n}) => /* @__PURE__ */ jsx(\"div\", {\n  css: /* @__PURE__ */ css(\"width:\", space[amount], \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:Space;\"))\n});\nvar _ref = process.env.NODE_ENV === \"production\" ? {\n  name: \"bjn8wh\",\n  styles: \"position:relative\"\n} : {\n  name: \"10qj0iv-Comment\",\n  styles: \"position:relative;label:Comment;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$6\n};\nvar _ref2 = process.env.NODE_ENV === \"production\" ? {\n  name: \"hwfcu5\",\n  styles: \"color:red\"\n} : {\n  name: \"105x05d-Comment\",\n  styles: \"color:red;label:Comment;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$6\n};\nconst Comment = ({\n  comment: comment2,\n  pillar,\n  isClosedForComments,\n  setCommentBeingRepliedTo,\n  user,\n  isReply,\n  wasScrolledTo,\n  isMuted,\n  toggleMuteStatus,\n  onPermalinkClick,\n  onRecommend\n}) => {\n  const [isHighlighted, setIsHighlighted] = useState(comment2.isHighlighted);\n  const [error, setError] = useState();\n  const [showAbuseReportForm, setAbuseReportForm] = useState(false);\n  const toggleSetShowForm = () => setAbuseReportForm(!showAbuseReportForm);\n  const pick = async () => {\n    setError(\"\");\n    const response = await pickComment(comment2.id);\n    if (response.status === \"error\") {\n      setError(response.message);\n    } else {\n      setIsHighlighted(true);\n    }\n  };\n  const unPick = async () => {\n    setError(\"\");\n    const response = await unPickComment(comment2.id);\n    if (response.status === \"error\") {\n      setError(response.message);\n    } else {\n      setIsHighlighted(false);\n    }\n  };\n  const showStaffBadge = comment2.userProfile.badge.find((obj) => obj[\"name\"] === \"Staff\");\n  const showPickBadge = comment2.status !== \"blocked\" && isHighlighted;\n  const showContributorBadge = comment2.userProfile.badge.find((obj) => obj[\"name\"] === \"Contributor\");\n  return /* @__PURE__ */ jsx(React.Fragment, null, error && /* @__PURE__ */ jsx(\"span\", {\n    css: _ref2\n  }, error), /* @__PURE__ */ jsx(\"div\", {\n    id: `comment-${comment2.id}`,\n    \"data-testid\": comment2.id,\n    css: [commentWrapper, wasScrolledTo && selectedStyles$1, process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\"]\n  }, /* @__PURE__ */ jsx(\"div\", {\n    css: avatarMargin$1\n  }, /* @__PURE__ */ jsx(Avatar, {\n    imageUrl: comment2.userProfile.avatar,\n    displayName: comment2.userProfile.displayName,\n    size: isReply ? \"small\" : \"medium\"\n  })), /* @__PURE__ */ jsx(\"div\", {\n    css: commentDetails\n  }, /* @__PURE__ */ jsx(\"header\", {\n    css: headerStyles\n  }, /* @__PURE__ */ jsx(\"div\", {\n    css: cssReplyToWrapper\n  }, /* @__PURE__ */ jsx(Column, null, /* @__PURE__ */ jsx(\"div\", {\n    css: [comment2.responseTo && hideBelowMobileLandscape, hideAboveMobileLandscape, process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\"]\n  }, /* @__PURE__ */ jsx(Row, null, /* @__PURE__ */ jsx(\"div\", {\n    css: /* @__PURE__ */ css(\"margin-right:\", space[2], \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\"))\n  }, /* @__PURE__ */ jsx(Avatar, {\n    imageUrl: comment2.userProfile.avatar,\n    displayName: \"\",\n    size: \"small\"\n  })), /* @__PURE__ */ jsx(Column, null, /* @__PURE__ */ jsx(\"div\", {\n    css: [colourStyles(pillar), boldFont, negativeMargin, process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\"]\n  }, /* @__PURE__ */ jsx(Link, {\n    href: comment2.userProfile.webUrl,\n    cssOverrides: subdued,\n    rel: \"nofollow\"\n  }, comment2.userProfile.displayName)), /* @__PURE__ */ jsx(Timestamp, {\n    isoDateTime: comment2.isoDateTime,\n    webUrl: comment2.webUrl,\n    commentId: comment2.id,\n    onPermalinkClick\n  })))), /* @__PURE__ */ jsx(\"div\", {\n    css: [!comment2.responseTo && hideBelowMobileLandscape, process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\"]\n  }, /* @__PURE__ */ jsx(Row, null, /* @__PURE__ */ jsx(\"div\", {\n    css: [colourStyles(pillar), boldFont, cssReplyAlphaDisplayName, process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\"]\n  }, /* @__PURE__ */ jsx(Link, {\n    href: comment2.userProfile.webUrl,\n    cssOverrides: subdued,\n    rel: \"nofollow\"\n  }, comment2.userProfile.displayName)), comment2.responseTo ? /* @__PURE__ */ jsx(\"div\", {\n    css: [colourStyles(pillar), regularFont, svgReplyArrow, cssReplyBetaDisplayName, process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\"]\n  }, /* @__PURE__ */ jsx(Link, {\n    href: `#comment-${comment2.responseTo.commentId}`,\n    cssOverrides: subdued,\n    icon: /* @__PURE__ */ jsx(SvgIndent, null),\n    iconSide: \"left\",\n    rel: \"nofollow\"\n  }, comment2.responseTo.displayName)) : /* @__PURE__ */ jsx(React.Fragment, null), /* @__PURE__ */ jsx(\"div\", {\n    css: [timestampWrapperStyles, comment2.responseTo && hideBelowMobileLandscape, process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\"]\n  }, /* @__PURE__ */ jsx(Timestamp, {\n    isoDateTime: comment2.isoDateTime,\n    webUrl: comment2.webUrl,\n    commentId: comment2.id,\n    onPermalinkClick\n  }))), /* @__PURE__ */ jsx(Row, null, showStaffBadge && /* @__PURE__ */ jsx(\"div\", {\n    css: iconWrapper\n  }, /* @__PURE__ */ jsx(GuardianStaff, null)), showContributorBadge && !showStaffBadge && /* @__PURE__ */ jsx(\"div\", {\n    css: iconWrapper\n  }, /* @__PURE__ */ jsx(GuardianContributor, null)), showPickBadge && /* @__PURE__ */ jsx(\"div\", {\n    css: iconWrapper\n  }, /* @__PURE__ */ jsx(GuardianPick, null)))))), comment2.status !== \"blocked\" && /* @__PURE__ */ jsx(RecommendationCount, {\n    commentId: comment2.id,\n    initialCount: comment2.numRecommends,\n    alreadyRecommended: false,\n    isSignedIn: !!user,\n    onRecommend,\n    userMadeComment: !!user && user.userId === comment2.userProfile.userId\n  })), /* @__PURE__ */ jsx(\"div\", {\n    css: [comment2.responseTo && hideBelowMobileLandscape, hideAboveMobileLandscape, process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\"]\n  }, /* @__PURE__ */ jsx(Row, null, showStaffBadge && /* @__PURE__ */ jsx(\"div\", {\n    css: iconWrapper\n  }, /* @__PURE__ */ jsx(GuardianStaff, null)), showContributorBadge && !showStaffBadge && /* @__PURE__ */ jsx(\"div\", {\n    css: iconWrapper\n  }, /* @__PURE__ */ jsx(GuardianContributor, null)), showPickBadge && /* @__PURE__ */ jsx(\"div\", {\n    css: iconWrapper\n  }, /* @__PURE__ */ jsx(GuardianPick, null)))), isMuted && /* @__PURE__ */ jsx(\"p\", {\n    css: blockedCommentStyles\n  }, /* @__PURE__ */ jsx(Row, null, /* @__PURE__ */ jsx(React.Fragment, null, \"All posts from this user have been muted on this device.\"), /* @__PURE__ */ jsx(Space$1, {\n    amount: 1\n  }), /* @__PURE__ */ jsx(\"div\", {\n    css: [buttonLinkBaseStyles$1, /* @__PURE__ */ css(\"button{\", textSans.xxsmall({\n      fontWeight: \"bold\"\n    }), \";}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\")), process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\"]\n  }, /* @__PURE__ */ jsx(Button, {\n    priority: \"subdued\",\n    size: \"xsmall\",\n    onClick: () => toggleMuteStatus(comment2.userProfile.userId),\n    \"data-link-name\": \"unmute-user\"\n  }, \"Unmute?\")))), !isMuted && comment2.status === \"blocked\" && /* @__PURE__ */ jsx(\"p\", {\n    css: [blockedCommentStyles, commentLinkStyling, process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\"],\n    dangerouslySetInnerHTML: {\n      __html: comment2.body\n    }\n  }), !isMuted && comment2.status !== \"blocked\" && /* @__PURE__ */ jsx(React.Fragment, null, /* @__PURE__ */ jsx(\"div\", {\n    css: [commentCss, commentLinkStyling, process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\"],\n    dangerouslySetInnerHTML: {\n      __html: comment2.body\n    }\n  }), /* @__PURE__ */ jsx(\"div\", {\n    css: spaceBetween\n  }, /* @__PURE__ */ jsx(Row, null, !isClosedForComments && /* @__PURE__ */ jsx(React.Fragment, null, user ? /* @__PURE__ */ jsx(\"div\", {\n    css: [svgReplyArrow, buttonLinkPillarBaseStyles$1(pillar), /* @__PURE__ */ css(\"button{\", textSans.small({\n      fontWeight: \"bold\"\n    }), \";}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\")), process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\"]\n  }, /* @__PURE__ */ jsx(Button, {\n    priority: \"subdued\",\n    onClick: () => setCommentBeingRepliedTo(comment2),\n    icon: /* @__PURE__ */ jsx(SvgIndent, null),\n    iconSide: \"left\",\n    \"data-link-name\": \"reply to comment\"\n  }, \"Reply\")) : /* @__PURE__ */ jsx(\"div\", {\n    css: [svgReplyArrow, commentControlsLink(pillar), process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\"]\n  }, /* @__PURE__ */ jsx(Link, {\n    href: `https://profile.theguardian.com/signin?returnUrl=${comment2.webUrl}&${createAuthenticationEventParams(\"signin_to_reply_comment\")}`,\n    cssOverrides: subdued,\n    icon: /* @__PURE__ */ jsx(SvgIndent, null),\n    iconSide: \"left\",\n    rel: \"nofollow\"\n  }, /* @__PURE__ */ jsx(\"span\", {\n    \"data-link-name\": \"reply to comment\"\n  }, \"Reply\"))), /* @__PURE__ */ jsx(Space$1, {\n    amount: 4\n  })), /* @__PURE__ */ jsx(Space$1, {\n    amount: 4\n  }), user && user.badge.some((e) => e.name === \"Staff\") && user.userId !== comment2.userProfile.userId && /* @__PURE__ */ jsx(\"div\", {\n    css: [buttonLinkPillarBaseStyles$1(pillar), /* @__PURE__ */ css(\"button{\", textSans.small({\n      fontWeight: \"bold\"\n    }), \";}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\")), process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\"]\n  }, /* @__PURE__ */ jsx(Button, {\n    priority: \"subdued\",\n    onClick: isHighlighted ? unPick : pick,\n    \"data-link-name\": isHighlighted ? \"unpick-comment\" : \"pick-comment\"\n  }, isHighlighted ? \"Unpick\" : \"Pick\"))), /* @__PURE__ */ jsx(Row, null, user && comment2.userProfile.userId !== user.userId ? /* @__PURE__ */ jsx(\"div\", {\n    css: [buttonLinkBaseStyles$1, /* @__PURE__ */ css(\"button{\", textSans.xxsmall(), \";}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\")), process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\"]\n  }, /* @__PURE__ */ jsx(Button, {\n    priority: \"subdued\",\n    size: \"small\",\n    onClick: () => toggleMuteStatus(comment2.userProfile.userId),\n    \"data-link-name\": \"mute-user\"\n  }, \"Mute\")) : /* @__PURE__ */ jsx(React.Fragment, null), /* @__PURE__ */ jsx(Space$1, {\n    amount: 4\n  }), /* @__PURE__ */ jsx(\"div\", {\n    css: [buttonLinkBaseStyles$1, /* @__PURE__ */ css(\"button{\", textSans.xxsmall(), \";}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\")), process.env.NODE_ENV === \"production\" ? \"\" : \";label:Comment;\"]\n  }, /* @__PURE__ */ jsx(Button, {\n    priority: \"subdued\",\n    size: \"small\",\n    onClick: toggleSetShowForm,\n    \"data-link-name\": \"Open report abuse\"\n  }, \"Report\")), showAbuseReportForm && /* @__PURE__ */ jsx(\"div\", {\n    css: _ref\n  }, /* @__PURE__ */ jsx(AbuseReportForm, {\n    toggleSetShowForm,\n    pillar,\n    commentId: comment2.id\n  }))))))));\n};\nconst Space = ({\n  amount\n}) => /* @__PURE__ */ jsx(\"div\", {\n  css: /* @__PURE__ */ css(\"width:\", space[amount], \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:Space;\"))\n});\nconst indentStyles = /* @__PURE__ */ css(\"width:18px;svg{fill:\", neutral[46], \"!important;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:indentStyles;\"));\nconst smallFontStyles = /* @__PURE__ */ css(textSans.small(), \";line-height:19px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:smallFontStyles;\"));\nconst replyPreviewHeaderStyle = /* @__PURE__ */ css(textSans.small({\n  fontWeight: \"bold\"\n}), \";margin-top:0px;margin-bottom:\", space[2], \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:replyPreviewHeaderStyle;\"));\nconst arrowSize$1 = 15;\nconst bg$1 = neutral[93];\nconst previewStyle = /* @__PURE__ */ css(\"padding-top:\", space[3], \"px;padding-bottom:\", space[3], \"px;padding-left:\", space[5], \"px;padding-right:\", space[5], \"px;background-color:\", bg$1, \";margin-top:\", arrowSize$1, \"px;margin-bottom:\", arrowSize$1 + 5, \"px;position:relative;display:flex;flex-direction:column;:before{content:'';position:absolute;border-left:\", arrowSize$1, \"px solid \", bg$1, \";border-top:\", arrowSize$1, \"px solid transparent;top:-\", arrowSize$1 - 1, \"px;margin-left:\", space[9], \"px;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:previewStyle;\"));\nconst commentStyles = /* @__PURE__ */ css(\"p{\", textSans.small(), \";margin-top:0px;margin-bottom:\", space[3], \"px;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:commentStyles;\"));\nconst blueLink = /* @__PURE__ */ css(\"color:\", text.anchorPrimary, \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:blueLink;\"));\nconst buttonLinkPillarBaseStyles = (pillar) => /* @__PURE__ */ css(\"button{color:\", palette[pillarToString(pillar)][400], \";background-color:transparent;height:18px;min-height:18px;border-radius:0;:hover{text-decoration:underline;text-decoration-color:\", palette[pillarToString(pillar)][400], \";}}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:buttonLinkPillarBaseStyles;\"));\nconst buttonLinkBaseStyles = /* @__PURE__ */ css(\"button{color:\", neutral[46], \";background-color:transparent;height:18px;min-height:18px;border-radius:0;:hover{text-decoration:underline;text-decoration-color:\", neutral[46], \";}}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:buttonLinkBaseStyles;\"));\nconst CommentReplyPreview = ({\n  pillar,\n  commentBeingRepliedTo\n}) => {\n  const [displayReplyComment, setDisplayReplyComment] = useState(false);\n  return /* @__PURE__ */ jsx(React.Fragment, null, /* @__PURE__ */ jsx(Row, null, /* @__PURE__ */ jsx(\"div\", {\n    css: indentStyles\n  }, /* @__PURE__ */ jsx(SvgIndent, null)), /* @__PURE__ */ jsx(Space, {\n    amount: 1\n  }), /* @__PURE__ */ jsx(\"div\", {\n    css: smallFontStyles\n  }, commentBeingRepliedTo.userProfile.displayName), /* @__PURE__ */ jsx(Space, {\n    amount: 3\n  }), /* @__PURE__ */ jsx(\"div\", {\n    css: [buttonLinkPillarBaseStyles(pillar), /* @__PURE__ */ css(\"button{\", textSans.small({\n      fontWeight: \"bold\"\n    }), \";}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:CommentReplyPreview;\")), process.env.NODE_ENV === \"production\" ? \"\" : \";label:CommentReplyPreview;\"]\n  }, /* @__PURE__ */ jsx(Button, {\n    priority: \"subdued\",\n    onClick: () => setDisplayReplyComment(!displayReplyComment),\n    \"data-link-name\": displayReplyComment ? \"reply-comment-hide\" : \"reply-comment-show\"\n  }, displayReplyComment ? \"Hide Comment\" : \"Show comment\"))), displayReplyComment && /* @__PURE__ */ jsx(Preview, {\n    commentBeingRepliedTo,\n    setDisplayReplyComment,\n    displayReplyComment\n  }));\n};\nconst Preview = ({\n  commentBeingRepliedTo,\n  setDisplayReplyComment,\n  displayReplyComment\n}) => {\n  return /* @__PURE__ */ jsx(\"div\", {\n    css: previewStyle\n  }, /* @__PURE__ */ jsx(\"p\", {\n    css: replyPreviewHeaderStyle\n  }, commentBeingRepliedTo.userProfile.displayName, \" @\", \" \", commentBeingRepliedTo.date, \" said:\"), /* @__PURE__ */ jsx(\"div\", {\n    css: commentStyles,\n    dangerouslySetInnerHTML: {\n      __html: commentBeingRepliedTo.body || \"\"\n    }\n  }), /* @__PURE__ */ jsx(\"div\", {\n    css: [buttonLinkBaseStyles, /* @__PURE__ */ css(\"button{\", textSans.small(), \";}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:Preview;\")), process.env.NODE_ENV === \"production\" ? \"\" : \";label:Preview;\"]\n  }, /* @__PURE__ */ jsx(Button, {\n    priority: \"subdued\",\n    onClick: () => setDisplayReplyComment(!displayReplyComment),\n    \"data-link-name\": \"hide-comment\"\n  }, /* @__PURE__ */ jsx(\"span\", {\n    css: blueLink\n  }, \"Hide Comment\"))));\n};\nfunction _EMOTION_STRINGIFIED_CSS_ERROR__$5() {\n  return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\";\n}\nconst nestingStyles = /* @__PURE__ */ css(\"list-style-type:none;padding-left:\", space[2], \"px;margin-left:\", space[12], \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:nestingStyles;\"));\nconst topBorder = /* @__PURE__ */ css(\"border-top:1px solid \", border.secondary, \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:topBorder;\"));\nconst commentContainerStyles$1 = process.env.NODE_ENV === \"production\" ? {\n  name: \"1nr1hck\",\n  styles: \"list-style-type:none;padding-left:0\"\n} : {\n  name: \"1nau0cv-commentContainerStyles\",\n  styles: \"list-style-type:none;padding-left:0;label:commentContainerStyles;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$5\n};\nconst selectedStyles = /* @__PURE__ */ css(\"background-color:\", neutral[97], \";margin-left:-\", space[2], \"px;padding-left:\", space[2], \"px;margin-right:-\", space[2], \"px;padding-right:\", space[2], \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:selectedStyles;\"));\nconst removeMargin = process.env.NODE_ENV === \"production\" ? {\n  name: \"cfjpzu\",\n  styles: \"margin:0px\"\n} : {\n  name: \"wqf8ry-removeMargin\",\n  styles: \"margin:0px;label:removeMargin;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$5\n};\nconst CommentContainer = ({\n  comment: comment2,\n  pillar,\n  isClosedForComments,\n  user,\n  shortUrl,\n  threads,\n  commentBeingRepliedTo,\n  setCommentBeingRepliedTo,\n  commentToScrollTo,\n  mutes,\n  toggleMuteStatus,\n  onPermalinkClick,\n  onRecommend,\n  onComment,\n  onReply,\n  onPreview\n}) => {\n  const [expanded, setExpanded] = useState(threads === \"expanded\");\n  const [responses, setResponses] = useState(comment2.responses || []);\n  const [loading, setLoading] = useState(false);\n  const showResponses = threads !== \"unthreaded\";\n  const decideShowMoreText = () => {\n    const remainingResponses = comment2.metaData && comment2.metaData.responseCount && comment2.metaData.responseCount - 3;\n    if (remainingResponses === 1)\n      return `Show 1 more reply`;\n    return `Show ${remainingResponses} more replies`;\n  };\n  useEffect(() => {\n    setResponses(comment2.responses || []);\n  }, [comment2]);\n  const expand = (commentId) => {\n    setLoading(true);\n    getMoreResponses(commentId).then((json) => {\n      setExpanded(true);\n      setResponses(json.comment.responses || []);\n    }).finally(() => {\n      setLoading(false);\n    });\n  };\n  return /* @__PURE__ */ jsx(\"div\", {\n    css: [commentToScrollTo === comment2.id && selectedStyles, process.env.NODE_ENV === \"production\" ? \"\" : \";label:CommentContainer;\"]\n  }, /* @__PURE__ */ jsx(Comment, {\n    comment: comment2,\n    pillar,\n    isClosedForComments,\n    setCommentBeingRepliedTo,\n    user,\n    isReply: false,\n    isMuted: mutes.includes(comment2.userProfile.userId),\n    toggleMuteStatus,\n    onPermalinkClick,\n    onRecommend\n  }), /* @__PURE__ */ jsx(React.Fragment, null, showResponses && responses && /* @__PURE__ */ jsx(\"div\", {\n    css: nestingStyles\n  }, /* @__PURE__ */ jsx(\"ul\", {\n    css: [commentContainerStyles$1, removeMargin, process.env.NODE_ENV === \"production\" ? \"\" : \";label:CommentContainer;\"]\n  }, responses.map((responseComment) => /* @__PURE__ */ jsx(\"li\", {\n    key: responseComment.id\n  }, /* @__PURE__ */ jsx(Comment, {\n    comment: responseComment,\n    pillar,\n    isClosedForComments,\n    setCommentBeingRepliedTo,\n    user,\n    isReply: true,\n    wasScrolledTo: commentToScrollTo === responseComment.id,\n    isMuted: mutes.includes(responseComment.userProfile.userId),\n    toggleMuteStatus,\n    onPermalinkClick\n  })))), !expanded && comment2.metaData && comment2.metaData.responseCount && comment2.metaData.responseCount > 3 && /* @__PURE__ */ jsx(\"div\", {\n    css: [topBorder, /* @__PURE__ */ css(\"padding-top:\", space[3], \"px;padding-bottom:\", space[3], \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:CommentContainer;\")), process.env.NODE_ENV === \"production\" ? \"\" : \";label:CommentContainer;\"]\n  }, /* @__PURE__ */ jsx(PillarButton, {\n    priority: \"secondary\",\n    icon: /* @__PURE__ */ jsx(SvgPlus, null),\n    iconSide: \"left\",\n    linkName: \"Show more replies\",\n    onClick: () => expand(comment2.id),\n    pillar,\n    size: \"xsmall\"\n  }, loading ? \"loading...\" : decideShowMoreText()))), commentBeingRepliedTo && (commentBeingRepliedTo.id === comment2.id || responses.find((response) => response.id === commentBeingRepliedTo.id)) && user && /* @__PURE__ */ jsx(\"div\", {\n    id: `comment-reply-form-${commentBeingRepliedTo.id}`,\n    css: nestingStyles\n  }, /* @__PURE__ */ jsx(CommentReplyPreview, {\n    pillar,\n    commentBeingRepliedTo\n  }), /* @__PURE__ */ jsx(CommentForm, {\n    shortUrl,\n    pillar,\n    onAddComment: (response) => setResponses([...responses, response]),\n    user,\n    setCommentBeingRepliedTo,\n    commentBeingRepliedTo,\n    onComment,\n    onReply,\n    onPreview\n  }))));\n};\nfunction _EMOTION_STRINGIFIED_CSS_ERROR__$4() {\n  return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\";\n}\nconst pickStyles = /* @__PURE__ */ css(\"display:flex;flex-direction:column;width:100%;min-width:250px;margin-bottom:\", space[5], \"px;\", textSans.small(), \";blockquote{margin-top:\", space[3], \"px;margin-bottom:\", space[3], \"px;margin-left:\", space[5], \"px;margin-right:\", space[5], \"px;padding-left:\", space[2], \"px;color:\", neutral[46], \";}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:pickStyles;\"));\nconst arrowSize = 25;\nconst bg = neutral[93];\nconst userNameStyles = (pillar) => /* @__PURE__ */ css(\"margin-top:3px;margin-bottom:-6px;font-weight:bold;color:\", palette[pillarToString(pillar)][400], \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:userNameStyles;\"));\nconst avatarMargin = /* @__PURE__ */ css(\"margin-right:\", space[2], \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:avatarMargin;\"));\nconst smallFontSize = /* @__PURE__ */ css(\"a{\", textSans.small(), \";}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:smallFontSize;\"));\nconst linkStyles$1 = process.env.NODE_ENV === \"production\" ? {\n  name: \"icokh\",\n  styles: \"text-decoration:none;:hover{text-decoration:underline;}\"\n} : {\n  name: \"fryv0j-linkStyles\",\n  styles: \"text-decoration:none;:hover{text-decoration:underline;};label:linkStyles;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$4\n};\nconst inCommentLinkStyling = /* @__PURE__ */ css(\"a{color:\", brand[500], \";text-decoration:none;:hover{text-decoration:underline;}}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:inCommentLinkStyling;\"));\nconst titleStyles = /* @__PURE__ */ css(textSans.small(), \";font-weight:bold;margin:0px;margin-bottom:\", space[1], \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:titleStyles;\"));\nconst inheritColour = process.env.NODE_ENV === \"production\" ? {\n  name: \"opde7s\",\n  styles: \"color:inherit\"\n} : {\n  name: \"qxm5sx-inheritColour\",\n  styles: \"color:inherit;label:inheritColour;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$4\n};\nconst wrapStyles = process.env.NODE_ENV === \"production\" ? {\n  name: \"1sdjnkx\",\n  styles: \"word-break:break-word\"\n} : {\n  name: \"1iawgmj-wrapStyles\",\n  styles: \"word-break:break-word;label:wrapStyles;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$4\n};\nconst PickBubble = ({\n  children\n}) => /* @__PURE__ */ jsx(\"div\", {\n  css: /* @__PURE__ */ css(\"display:flex;flex-direction:column;justify-content:space-between;padding:\", space[3], \"px;background-color:\", bg, \";border-radius:15px;margin-bottom:\", arrowSize + 5, \"px;position:relative;\", from.tablet, \"{min-height:150px;}:before{content:'';margin-left:\", space[6], \"px;position:absolute;border-right:\", arrowSize, \"px solid transparent;border-top:\", arrowSize, \"px solid \", bg, \";bottom:-\", arrowSize - 1, \"px;}p{margin-top:0;margin-bottom:\", space[3], \"px;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:PickBubble;\"))\n}, children);\nconst Top = ({\n  children\n}) => /* @__PURE__ */ jsx(\"div\", null, children);\nconst Bottom = ({\n  children\n}) => /* @__PURE__ */ jsx(\"div\", null, children);\nconst PickMeta = ({\n  children\n}) => /* @__PURE__ */ jsx(\"div\", {\n  css: /* @__PURE__ */ css(\"display:flex;justify-content:space-between;padding-top:\", space[1], \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:PickMeta;\"))\n}, children);\nconst truncateText = (input, limit) => {\n  if (input.length > limit)\n    return input.substr(0, limit) + \"&#8230;\";\n  return input;\n};\nconst TopPick = ({\n  pillar,\n  comment: comment2,\n  isSignedIn,\n  userMadeComment,\n  onPermalinkClick,\n  onRecommend\n}) => {\n  const showStaffBadge = comment2.userProfile.badge.find((obj) => obj[\"name\"] === \"Staff\");\n  const showContributorBadge = comment2.userProfile.badge.find((obj) => obj[\"name\"] === \"Contributor\");\n  return /* @__PURE__ */ jsx(\"div\", {\n    css: pickStyles\n  }, /* @__PURE__ */ jsx(PickBubble, null, /* @__PURE__ */ jsx(Top, null, /* @__PURE__ */ jsx(\"h3\", {\n    css: titleStyles\n  }, \"Guardian Pick\"), /* @__PURE__ */ jsx(\"p\", {\n    css: [wrapStyles, inCommentLinkStyling, process.env.NODE_ENV === \"production\" ? \"\" : \";label:TopPick;\"],\n    dangerouslySetInnerHTML: {\n      __html: truncateText(comment2.body, 450)\n    }\n  })), /* @__PURE__ */ jsx(Bottom, null, /* @__PURE__ */ jsx(\"div\", {\n    css: smallFontSize\n  }, /* @__PURE__ */ jsx(Link, {\n    priority: \"primary\",\n    href: comment2.webUrl,\n    onClick: (e) => {\n      onPermalinkClick(comment2.id);\n      e.preventDefault();\n    },\n    rel: \"nofollow\"\n  }, \"Jump to comment\")))), /* @__PURE__ */ jsx(PickMeta, null, /* @__PURE__ */ jsx(Row, null, /* @__PURE__ */ jsx(\"div\", {\n    css: avatarMargin\n  }, /* @__PURE__ */ jsx(Avatar, {\n    imageUrl: comment2.userProfile.avatar,\n    displayName: \"\",\n    size: \"medium\"\n  })), /* @__PURE__ */ jsx(Column, null, /* @__PURE__ */ jsx(\"span\", {\n    css: userNameStyles(pillar)\n  }, /* @__PURE__ */ jsx(\"a\", {\n    href: comment2.userProfile.webUrl,\n    css: [linkStyles$1, inheritColour, process.env.NODE_ENV === \"production\" ? \"\" : \";label:TopPick;\"],\n    rel: \"nofollow\"\n  }, comment2.userProfile.displayName)), /* @__PURE__ */ jsx(Timestamp, {\n    isoDateTime: comment2.isoDateTime,\n    webUrl: comment2.webUrl,\n    commentId: comment2.id,\n    onPermalinkClick\n  }), showStaffBadge && /* @__PURE__ */ jsx(GuardianStaff, null), showContributorBadge && !showStaffBadge && /* @__PURE__ */ jsx(GuardianContributor, null))), /* @__PURE__ */ jsx(RecommendationCount, {\n    commentId: comment2.id,\n    initialCount: comment2.numRecommends,\n    alreadyRecommended: false,\n    isSignedIn,\n    userMadeComment,\n    onRecommend\n  })));\n};\nfunction _EMOTION_STRINGIFIED_CSS_ERROR__$3() {\n  return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\";\n}\nconst columWrapperStyles = process.env.NODE_ENV === \"production\" ? {\n  name: \"1vpe7s3\",\n  styles: \"width:50%;display:flex;flex-direction:column\"\n} : {\n  name: \"13r02rk-columWrapperStyles\",\n  styles: \"width:50%;display:flex;flex-direction:column;label:columWrapperStyles;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$3\n};\nconst paddingRight = process.env.NODE_ENV === \"production\" ? {\n  name: \"qzmnd2\",\n  styles: \"padding-right:10px\"\n} : {\n  name: \"1j5zwvk-paddingRight\",\n  styles: \"padding-right:10px;label:paddingRight;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$3\n};\nconst paddingLeft = process.env.NODE_ENV === \"production\" ? {\n  name: \"vnst0l\",\n  styles: \"padding-left:10px\"\n} : {\n  name: \"1sg36cb-paddingLeft\",\n  styles: \"padding-left:10px;label:paddingLeft;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$3\n};\nconst picksWrapper$1 = process.env.NODE_ENV === \"production\" ? {\n  name: \"798ujy\",\n  styles: \"width:100%;display:flex;flex-wrap:wrap\"\n} : {\n  name: \"es80al-picksWrapper\",\n  styles: \"width:100%;display:flex;flex-wrap:wrap;label:picksWrapper;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$3\n};\nconst twoColCommentsStyles = /* @__PURE__ */ css(\"width:100%;display:flex;flex-direction:row;\", until.tablet, \"{display:none;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:twoColCommentsStyles;\"));\nconst oneColCommentsStyles = /* @__PURE__ */ css(\"width:100%;\", from.tablet, \"{display:none;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:oneColCommentsStyles;\"));\nconst TopPicks = ({\n  pillar,\n  user,\n  comments,\n  isSignedIn,\n  onPermalinkClick,\n  onRecommend\n}) => {\n  const leftColComments = [];\n  const rightColComments = [];\n  comments.forEach((comment2, index) => index % 2 === 0 ? leftColComments.push(comment2) : rightColComments.push(comment2));\n  return /* @__PURE__ */ jsx(\"div\", {\n    css: picksWrapper$1\n  }, /* @__PURE__ */ jsx(\"div\", {\n    css: twoColCommentsStyles\n  }, /* @__PURE__ */ jsx(\"div\", {\n    css: [columWrapperStyles, paddingRight, process.env.NODE_ENV === \"production\" ? \"\" : \";label:TopPicks;\"]\n  }, leftColComments.map((comment2) => /* @__PURE__ */ jsx(TopPick, {\n    key: comment2.id,\n    pillar,\n    comment: comment2,\n    isSignedIn,\n    userMadeComment: !!user && user.userId === comment2.userProfile.userId,\n    onPermalinkClick,\n    onRecommend\n  }))), /* @__PURE__ */ jsx(\"div\", {\n    css: [columWrapperStyles, paddingLeft, process.env.NODE_ENV === \"production\" ? \"\" : \";label:TopPicks;\"]\n  }, rightColComments.map((comment2) => /* @__PURE__ */ jsx(TopPick, {\n    key: comment2.id,\n    pillar,\n    comment: comment2,\n    isSignedIn,\n    userMadeComment: !!user && user.userId === comment2.userProfile.userId,\n    onPermalinkClick,\n    onRecommend\n  })))), /* @__PURE__ */ jsx(\"div\", {\n    css: oneColCommentsStyles\n  }, comments.map((comment2) => /* @__PURE__ */ jsx(TopPick, {\n    key: comment2.id,\n    pillar,\n    comment: comment2,\n    isSignedIn,\n    userMadeComment: !!user && user.userId === comment2.userProfile.userId,\n    onPermalinkClick,\n    onRecommend\n  }))));\n};\nfunction _EMOTION_STRINGIFIED_CSS_ERROR__$2() {\n  return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\";\n}\nconst containerStyles$1 = process.env.NODE_ENV === \"production\" ? {\n  name: \"bjn8wh\",\n  styles: \"position:relative\"\n} : {\n  name: \"15sq7p6-containerStyles\",\n  styles: \"position:relative;label:containerStyles;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$2\n};\nconst ulStyles = /* @__PURE__ */ css(\"z-index:2;list-style:none;border:1px solid \", border.secondary, \";margin-left:-8px;padding:0px;display:none;background-color:\", background.primary, \";position:absolute;\", until.tablet, \"{margin-top:4px;border-radius:0;overflow:auto;}\", from.tablet, \"{margin-top:12px;border-radius:3px;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:ulStyles;\"));\nconst ulExpanded = process.env.NODE_ENV === \"production\" ? {\n  name: \"4zleql\",\n  styles: \"display:block\"\n} : {\n  name: \"18t00wp-ulExpanded\",\n  styles: \"display:block;label:ulExpanded;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$2\n};\nconst linkStyles = (disabled) => /* @__PURE__ */ css(textSans.small(), \";text-align:left;color:\", disabled ? neutral[86] : neutral[46], \";position:relative;text-decoration:none;margin-top:1px;padding-top:8px;padding-right:30px;padding-bottom:8px;padding-left:8px;width:100%;cursor:\", disabled ? \"default\" : \"pointer\", \";background-color:white;border:none;\", !disabled && `\n    :hover {\n      background-color: ${neutral[93]};\n      text-decoration: underline;\n    }\n\n    :focus {\n      text-decoration: underline;\n    }\n  `, \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:linkStyles;\"));\nconst firstStyles = process.env.NODE_ENV === \"production\" ? {\n  name: \"1i9vogi\",\n  styles: \"margin-top:0\"\n} : {\n  name: \"9imhtt-firstStyles\",\n  styles: \"margin-top:0;label:firstStyles;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$2\n};\nconst activeStyles = (pillar) => /* @__PURE__ */ css(\"font-weight:bold;:after{content:'';border:2px solid \", palette[pillarToString(pillar)][400], \";border-top:0px;border-right:0px;position:absolute;top:12px;right:12px;width:8px;height:4px;transform:rotate(-45deg);}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:activeStyles;\"));\nconst buttonStyles = /* @__PURE__ */ css(textSans.small({\n  fontWeight: \"medium\"\n}), \";display:block;cursor:pointer;background:none;border:none;line-height:1.2;color:\", neutral[46], \";transition:color 80ms ease-out;padding:0px 10px 6px 0px;margin:1px 0 0;text-decoration:none;:hover{:after{transform:translateY(0) rotate(45deg);}}:after{content:'';display:inline-block;width:5px;height:5px;transform:translateY(-2px) rotate(45deg);border:1px solid currentColor;border-left:transparent;border-top:transparent;margin-left:5px;vertical-align:middle;transition:transform 250ms ease-out;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:buttonStyles;\"));\nconst expandedStyles = process.env.NODE_ENV === \"production\" ? {\n  name: \"1baa2f8\",\n  styles: \":hover:after{transform:translateY(-1px) rotate(-135deg);}:after{transform:translateY(1px) rotate(-135deg);}\"\n} : {\n  name: \"lvkrvz-expandedStyles\",\n  styles: \":hover:after{transform:translateY(-1px) rotate(-135deg);}:after{transform:translateY(1px) rotate(-135deg);};label:expandedStyles;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$2\n};\nconst labelStyles = /* @__PURE__ */ css(textSans.small({\n  fontWeight: \"bold\"\n}), \";color:\", neutral[46], \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:labelStyles;\"));\nconst Dropdown = ({\n  id,\n  label,\n  options: options2,\n  pillar,\n  onSelect\n}) => {\n  const [isExpanded, setIsExpanded] = useState(false);\n  useEffect(() => {\n    const dismissOnEsc = (event) => {\n      if (isExpanded && event.code === \"Escape\") {\n        setIsExpanded(false);\n      }\n    };\n    document.addEventListener(\"keydown\", dismissOnEsc, false);\n    return () => document.removeEventListener(\"keydown\", dismissOnEsc);\n  }, [isExpanded]);\n  useEffect(() => {\n    const dismissOnClick = (event) => {\n      if (isExpanded) {\n        event.stopPropagation();\n        setIsExpanded(false);\n      }\n    };\n    document.addEventListener(\"click\", dismissOnClick, false);\n    return () => document.removeEventListener(\"click\", dismissOnClick);\n  }, [isExpanded]);\n  const dropdownID = `dropbox-id-${id}`;\n  const activeLink = options2.find((option) => option.isActive);\n  return /* @__PURE__ */ jsx(\"div\", {\n    css: containerStyles$1\n  }, /* @__PURE__ */ jsx(\"div\", {\n    css: labelStyles\n  }, label, /* @__PURE__ */ jsx(\"button\", {\n    onClick: () => setIsExpanded(!isExpanded),\n    css: [buttonStyles, isExpanded && expandedStyles, process.env.NODE_ENV === \"production\" ? \"\" : \";label:Dropdown;\"],\n    \"aria-controls\": dropdownID,\n    \"aria-expanded\": isExpanded ? \"true\" : \"false\"\n  }, activeLink ? activeLink.title : \"Please select\")), /* @__PURE__ */ jsx(\"ul\", {\n    id: dropdownID,\n    css: [ulStyles, isExpanded && ulExpanded, process.env.NODE_ENV === \"production\" ? \"\" : \";label:Dropdown;\"]\n  }, options2.map((option, index) => /* @__PURE__ */ jsx(\"li\", {\n    key: option.title\n  }, /* @__PURE__ */ jsx(\"button\", {\n    onClick: () => onSelect(option.value),\n    css: [linkStyles(!!option.disabled), option.isActive && activeStyles(pillar), index === 0 && firstStyles, process.env.NODE_ENV === \"production\" ? \"\" : \";label:Dropdown;\"],\n    disabled: option.isActive || option.disabled\n  }, option.title)))));\n};\nconst filterBar = /* @__PURE__ */ css(\"padding-top:\", space[1], \"px;padding-bottom:\", space[2], \"px;border-top:1px solid \", border.secondary, \";display:flex;flex-direction:row;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:filterBar;\"));\nconst dividerStyles = /* @__PURE__ */ css(\"position:relative;margin-left:\", space[2], \"px;:after{content:'';display:block;width:1px;background-color:\", border.secondary, \";position:absolute;top:-\", space[1], \"px;bottom:\", space[1], \"px;left:-\", space[2], \"px;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:dividerStyles;\"));\nconst filterPadding = /* @__PURE__ */ css(\"padding-right:\", space[3], \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:filterPadding;\"));\nconst Filters = ({\n  filters,\n  pillar,\n  onFilterChange,\n  totalPages,\n  commentCount\n}) => /* @__PURE__ */ jsx(\"div\", {\n  id: \"comment-filters\",\n  css: filterBar\n}, /* @__PURE__ */ jsx(\"div\", {\n  css: filterPadding\n}, /* @__PURE__ */ jsx(Dropdown, {\n  id: \"order-by-dropdown\",\n  label: \"Sort by\",\n  pillar,\n  options: [{\n    title: \"Newest\",\n    value: \"newest\",\n    isActive: filters.orderBy === \"newest\"\n  }, {\n    title: \"Oldest\",\n    value: \"oldest\",\n    isActive: filters.orderBy === \"oldest\"\n  }, {\n    title: \"Recommendations\",\n    value: \"recommendations\",\n    isActive: filters.orderBy === \"recommendations\"\n  }],\n  onSelect: (value) => onFilterChange({\n    ...filters,\n    orderBy: value\n  })\n})), /* @__PURE__ */ jsx(\"div\", {\n  css: dividerStyles\n}), /* @__PURE__ */ jsx(\"div\", {\n  css: filterPadding\n}, /* @__PURE__ */ jsx(Dropdown, {\n  id: \"page-size-dropdown\",\n  label: \"Per page\",\n  pillar,\n  options: [{\n    title: \"25\",\n    value: \"25\",\n    disabled: commentCount <= 25,\n    isActive: filters.pageSize === 25\n  }, {\n    title: \"50\",\n    value: \"50\",\n    disabled: commentCount <= 50,\n    isActive: filters.pageSize === 50\n  }, {\n    title: \"100\",\n    value: \"100\",\n    disabled: commentCount <= 100,\n    isActive: filters.pageSize === 100\n  }],\n  onSelect: (value) => onFilterChange({\n    ...filters,\n    pageSize: parseInt(value)\n  })\n})), /* @__PURE__ */ jsx(\"div\", {\n  css: dividerStyles\n}), /* @__PURE__ */ jsx(\"div\", {\n  css: filterPadding\n}, /* @__PURE__ */ jsx(Dropdown, {\n  id: \"threads-dropdown\",\n  label: \"Display threads\",\n  pillar,\n  options: [{\n    title: \"Collapsed\",\n    value: \"collapsed\",\n    isActive: filters.threads === \"collapsed\"\n  }, {\n    title: \"Expanded\",\n    value: \"expanded\",\n    isActive: filters.threads === \"expanded\"\n  }, {\n    title: \"Unthreaded\",\n    value: \"unthreaded\",\n    isActive: filters.threads === \"unthreaded\"\n  }],\n  onSelect: (value) => onFilterChange({\n    ...filters,\n    threads: value\n  })\n})));\nfunction _EMOTION_STRINGIFIED_CSS_ERROR__$1() {\n  return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\";\n}\nconst pageButtonStyles = (isSelected) => /* @__PURE__ */ css(\"cursor:pointer;\", textSans.small({\n  fontWeight: \"bold\"\n}), \" text-decoration:none;border-radius:62.5rem;box-sizing:border-box;color:\", isSelected ? neutral[100] : neutral[46], \";background-color:\", isSelected ? neutral[46] : \"transparent\", \";border:none;:hover{border-width:0.0625rem;border-style:solid;border-color:\", neutral[46], \";}margin-right:5px;padding:0 0.125rem;min-width:1.5rem;text-align:center;height:1.5rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:pageButtonStyles;\"));\nconst chevronButtonStyles = ({\n  isSelected\n}) => /* @__PURE__ */ css(\"margin-right:\", space[1], \"px;border-radius:62.5rem;border-width:1px;border-style:solid;border-color:\", neutral[86], \";background-color:\", isSelected ? neutral[46] : neutral[100], \";height:22px;min-height:22px;width:22px;>button{height:22px;min-height:22px;width:22px;}:hover{border-color:\", neutral[60], \";}& svg{fill:\", neutral[46], \"!important;width:22px;height:22px;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:chevronButtonStyles;\"));\nconst shiftRight = process.env.NODE_ENV === \"production\" ? {\n  name: \"a7i01j\",\n  styles: \"& svg{margin-left:2px;}\"\n} : {\n  name: \"1ytvtzg-shiftRight\",\n  styles: \"& svg{margin-left:2px;};label:shiftRight;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$1\n};\nconst elipsisStyles = process.env.NODE_ENV === \"production\" ? {\n  name: \"q66sc6\",\n  styles: \"line-height:26px;margin-right:5px\"\n} : {\n  name: \"vnwsr5-elipsisStyles\",\n  styles: \"line-height:26px;margin-right:5px;label:elipsisStyles;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$1\n};\nconst wrapperStyles = /* @__PURE__ */ css(textSans.small(), \";color:\", neutral[46], \";display:flex;flex-direction:row;justify-content:space-between;width:100%;padding-top:\", space[2], \"px;padding-bottom:\", space[2], \"px;border-top:1px solid \", border.secondary, \";\", until.mobileLandscape, \"{flex-direction:column;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:wrapperStyles;\"));\nconst paginationButtons = process.env.NODE_ENV === \"production\" ? {\n  name: \"kkia9m\",\n  styles: \"display:flex;flex-direction:row;height:25px\"\n} : {\n  name: \"m1fzwr-paginationButtons\",\n  styles: \"display:flex;flex-direction:row;height:25px;label:paginationButtons;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__$1\n};\nconst paginationText = /* @__PURE__ */ css(textSans.small(), \";margin-left:5px;\", until.mobileLandscape, \"{padding-top:10px;}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:paginationText;\"));\nconst Forward = ({\n  currentPage,\n  setCurrentPage\n}) => /* @__PURE__ */ jsx(\"div\", {\n  css: [chevronButtonStyles({\n    isSelected: false\n  }), shiftRight, process.env.NODE_ENV === \"production\" ? \"\" : \";label:Forward;\"]\n}, /* @__PURE__ */ jsx(Button, {\n  onClick: () => setCurrentPage(currentPage + 1),\n  \"aria-label\": \"Previous discussion page\",\n  \"data-link-name\": `Pagination view page ${currentPage + 1}`,\n  size: \"xsmall\",\n  priority: \"subdued\"\n}, /* @__PURE__ */ jsx(SvgChevronRightSingle, null)));\nconst Back = ({\n  currentPage,\n  setCurrentPage\n}) => {\n  const newPage = Math.max(0, currentPage - 1);\n  return /* @__PURE__ */ jsx(\"div\", {\n    css: chevronButtonStyles({\n      isSelected: false\n    })\n  }, /* @__PURE__ */ jsx(Button, {\n    onClick: () => setCurrentPage(newPage),\n    \"aria-label\": \"Previous discussion page\",\n    \"data-link-name\": `Pagination view page ${newPage}`,\n    size: \"xsmall\",\n    priority: \"subdued\"\n  }, /* @__PURE__ */ jsx(SvgChevronLeftSingle, null)));\n};\nconst PageButton = ({\n  currentPage,\n  setCurrentPage,\n  isSelected\n}) => /* @__PURE__ */ jsx(\"button\", {\n  key: currentPage,\n  css: pageButtonStyles(isSelected),\n  onClick: () => setCurrentPage(currentPage),\n  \"data-link-name\": `Pagination view page ${currentPage}`\n}, currentPage);\nconst decideSecondPage = ({\n  currentPage,\n  totalPages\n}) => {\n  if (currentPage < 4)\n    return 2;\n  if (currentPage > totalPages - 2)\n    return totalPages - 2;\n  return currentPage - 1;\n};\nconst decideThirdPage = ({\n  currentPage,\n  totalPages\n}) => {\n  if (currentPage < 4)\n    return 3;\n  if (currentPage > totalPages - 2)\n    return totalPages - 1;\n  return currentPage;\n};\nconst decideForthPage = ({\n  currentPage,\n  totalPages\n}) => {\n  if (currentPage < 4)\n    return 4;\n  if (currentPage > totalPages - 2)\n    return totalPages;\n  return currentPage + 1;\n};\nconst Pagination = ({\n  totalPages,\n  currentPage,\n  setCurrentPage,\n  commentCount,\n  filters\n}) => {\n  const showBackButton = totalPages > 4 && currentPage > 1;\n  const showFirstElipsis = totalPages > 4 && currentPage > 3;\n  const secondPage = decideSecondPage({\n    currentPage,\n    totalPages\n  });\n  const thirdPage = decideThirdPage({\n    currentPage,\n    totalPages\n  });\n  const forthPage = decideForthPage({\n    currentPage,\n    totalPages\n  });\n  const showThirdPage = totalPages > 2;\n  const showForthPage = totalPages > 3;\n  const showLastPage = totalPages > 4 && currentPage < totalPages - 1;\n  const lastPage = totalPages;\n  const showSecondElipsis = totalPages > 4 && currentPage < totalPages - 2;\n  const showForwardButton = totalPages > 4 && currentPage !== totalPages;\n  let {\n    pageSize\n  } = filters;\n  let endIndex = pageSize * currentPage;\n  let startIndex = endIndex - (pageSize - 1);\n  if (endIndex > commentCount)\n    endIndex = commentCount;\n  return /* @__PURE__ */ jsx(\"div\", {\n    css: wrapperStyles\n  }, /* @__PURE__ */ jsx(\"div\", {\n    css: paginationButtons\n  }, showBackButton && /* @__PURE__ */ jsx(Back, {\n    currentPage,\n    setCurrentPage\n  }), /* @__PURE__ */ jsx(PageButton, {\n    currentPage: 1,\n    setCurrentPage,\n    isSelected: currentPage === 1\n  }), showFirstElipsis && /* @__PURE__ */ jsx(\"div\", {\n    css: elipsisStyles\n  }, \"\\u2026\"), /* @__PURE__ */ jsx(PageButton, {\n    currentPage: secondPage,\n    setCurrentPage,\n    isSelected: currentPage === secondPage\n  }), showThirdPage && /* @__PURE__ */ jsx(PageButton, {\n    currentPage: thirdPage,\n    setCurrentPage,\n    isSelected: currentPage === thirdPage\n  }), showForthPage && /* @__PURE__ */ jsx(PageButton, {\n    currentPage: forthPage,\n    setCurrentPage,\n    isSelected: currentPage === forthPage\n  }), showSecondElipsis && /* @__PURE__ */ jsx(\"div\", {\n    css: elipsisStyles\n  }, \"\\u2026\"), showLastPage && /* @__PURE__ */ jsx(PageButton, {\n    currentPage: lastPage,\n    setCurrentPage,\n    isSelected: currentPage === lastPage\n  }), showForwardButton && /* @__PURE__ */ jsx(Forward, {\n    currentPage,\n    setCurrentPage\n  })), commentCount && /* @__PURE__ */ jsx(\"div\", {\n    css: paginationText\n  }, `Displaying ${filters.threads === \"unthreaded\" ? \"comments\" : \"threads\"} ${startIndex} to ${endIndex} of ${commentCount}`));\n};\nconst BACKGROUND_COLOUR = neutral[93];\nconst shimmer = keyframes`\n  0% {\n    background-position: -1500px 0;\n  }\n  100% {\n    background-position: 1500px 0;\n  }\n`;\nconst shimmerStyles = /* @__PURE__ */ css(\"animation:\", shimmer, \" 2s infinite linear;background:linear-gradient(\\n\t\tto right,\\n\t\t\", BACKGROUND_COLOUR, \" 4%,\\n\t\t\", neutral[86], \" 25%,\\n\t\t\", BACKGROUND_COLOUR, \" 36%\\n\t);background-size:1500px 100%;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:shimmerStyles;\"));\nconst containerStyles = /* @__PURE__ */ css(\"border-bottom:1px solid \", neutral[86], \";width:620px;display:flex;padding:\", space[2], \"px 0;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:containerStyles;\"));\nconst avatarStyles = (size) => /* @__PURE__ */ css(\"border-radius:\", size + 10, \"px;width:\", size, \"px;height:\", size, \"px;background-color:\", BACKGROUND_COLOUR, \";margin-right:\", space[2], \"px;\", shimmerStyles, \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:avatarStyles;\"));\nconst Grey = ({\n  height,\n  width,\n  spaceBelow,\n  spaceLeft\n}) => /* @__PURE__ */ jsx(\"div\", {\n  css: /* @__PURE__ */ css(\"height:\", height, \"px;width:\", width ? `${width}px` : \"100%\", \";margin-bottom:\", spaceBelow && space[spaceBelow], \"px;margin-left:\", spaceLeft && space[spaceLeft], \"px;background-color:\", BACKGROUND_COLOUR, \";\", shimmerStyles, \";\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:Grey;\"))\n});\nconst LoadingComments = () => /* @__PURE__ */ jsx(\"div\", {\n  css: containerStyles,\n  \"data-testid\": \"loading-comments\"\n}, /* @__PURE__ */ jsx(\"div\", {\n  css: avatarStyles(48)\n}), /* @__PURE__ */ jsx(Column, null, /* @__PURE__ */ jsx(Row, null, /* @__PURE__ */ jsx(Grey, {\n  height: 20,\n  width: 140,\n  spaceBelow: 9\n}), /* @__PURE__ */ jsx(Grey, {\n  height: 15,\n  width: 100,\n  spaceBelow: 9,\n  spaceLeft: 2\n})), /* @__PURE__ */ jsx(Grey, {\n  height: 20,\n  spaceBelow: 1\n}), /* @__PURE__ */ jsx(Grey, {\n  height: 20,\n  spaceBelow: 1\n}), /* @__PURE__ */ jsx(Grey, {\n  height: 20,\n  width: 200,\n  spaceBelow: 5\n}), /* @__PURE__ */ jsx(Row, null, /* @__PURE__ */ jsx(Grey, {\n  height: 15,\n  width: 40\n}), /* @__PURE__ */ jsx(Grey, {\n  height: 15,\n  width: 40,\n  spaceLeft: 6\n}))));\nfunction _EMOTION_STRINGIFIED_CSS_ERROR__() {\n  return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\";\n}\nconst footerStyles = process.env.NODE_ENV === \"production\" ? {\n  name: \"skgbeu\",\n  styles: \"display:flex;justify-content:flex-end\"\n} : {\n  name: \"1w0wkep-footerStyles\",\n  styles: \"display:flex;justify-content:flex-end;label:footerStyles;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__\n};\nconst commentColumnWrapperStyles = process.env.NODE_ENV === \"production\" ? {\n  name: \"x3a67h\",\n  styles: \"display:flex;flex-direction:column;max-width:100%\"\n} : {\n  name: \"1ayw4q4-commentColumnWrapperStyles\",\n  styles: \"display:flex;flex-direction:column;max-width:100%;label:commentColumnWrapperStyles;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__\n};\nconst commentContainerStyles = process.env.NODE_ENV === \"production\" ? {\n  name: \"fexp4f\",\n  styles: \"display:flex;flex-direction:column;list-style-type:none;padding-left:0;margin:0\"\n} : {\n  name: \"pj9f3k-commentContainerStyles\",\n  styles: \"display:flex;flex-direction:column;list-style-type:none;padding-left:0;margin:0;label:commentContainerStyles;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__\n};\nconst picksWrapper = process.env.NODE_ENV === \"production\" ? {\n  name: \"1f3egm3\",\n  styles: \"display:flex;flex-wrap:wrap;justify-content:space-between\"\n} : {\n  name: \"esewvx-picksWrapper\",\n  styles: \"display:flex;flex-wrap:wrap;justify-content:space-between;label:picksWrapper;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__\n};\nconst DEFAULT_FILTERS = {\n  orderBy: \"newest\",\n  pageSize: 100,\n  threads: \"collapsed\"\n};\nconst NoComments = () => /* @__PURE__ */ jsx(\"div\", {\n  css: /* @__PURE__ */ css(\"color:\", neutral[46], \";\", textSans.small(), \" padding-top:\", space[5], \"px;padding-left:\", space[1], \"px;padding-bottom:\", space[9], \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:NoComments;\"))\n}, \"No comments found\");\nconst rememberFilters = (filtersToRemember) => {\n  try {\n    localStorage.setItem(\"gu.prefs.discussion.threading\", JSON.stringify({\n      value: filtersToRemember.threads\n    }));\n    localStorage.setItem(\"gu.prefs.discussion.pagesize\", JSON.stringify({\n      value: filtersToRemember.pageSize\n    }));\n    localStorage.setItem(\"gu.prefs.discussion.order\", JSON.stringify({\n      value: filtersToRemember.orderBy\n    }));\n  } catch (error) {\n  }\n};\nconst initialiseFilters = ({\n  pageSizeOverride,\n  orderByOverride,\n  permalinkBeingUsed,\n  isClosedForComments\n}) => {\n  const initialisedFilters = initFiltersFromLocalStorage({\n    isClosedForComments\n  });\n  return {\n    ...initialisedFilters,\n    pageSize: pageSizeOverride || initialisedFilters.pageSize,\n    orderBy: orderByOverride || initialisedFilters.orderBy,\n    threads: initialisedFilters.threads === \"collapsed\" && permalinkBeingUsed ? \"expanded\" : initialisedFilters.threads\n  };\n};\nconst initFiltersFromLocalStorage = ({\n  isClosedForComments\n}) => {\n  let threads;\n  let pageSize;\n  let orderBy;\n  try {\n    orderBy = localStorage.getItem(\"gu.prefs.discussion.order\");\n    threads = localStorage.getItem(\"gu.prefs.discussion.threading\");\n    pageSize = localStorage.getItem(\"gu.prefs.discussion.pagesize\");\n  } catch (error) {\n    return {\n      ...DEFAULT_FILTERS,\n      orderBy: decideDefaultOrderBy()\n    };\n  }\n  function checkPageSize(size) {\n    if (!size)\n      return DEFAULT_FILTERS.pageSize;\n    if (size === \"All\")\n      return DEFAULT_FILTERS.pageSize;\n    const supportedSizes = [25, 50, 100];\n    if (!supportedSizes.includes(size))\n      return DEFAULT_FILTERS.pageSize;\n    return size;\n  }\n  function decideDefaultOrderBy(isClosedForComment) {\n    return isClosedForComments ? \"oldest\" : \"newest\";\n  }\n  return {\n    orderBy: orderBy ? JSON.parse(orderBy).value : decideDefaultOrderBy(),\n    threads: threads ? JSON.parse(threads).value : DEFAULT_FILTERS.threads,\n    pageSize: pageSize ? checkPageSize(JSON.parse(pageSize).value) : DEFAULT_FILTERS.pageSize\n  };\n};\nconst readMutes = () => {\n  let mutes;\n  try {\n    mutes = localStorage.getItem(\"gu.prefs.discussion.mutes\");\n  } catch (error) {\n    return [];\n  }\n  return mutes ? JSON.parse(mutes).value : [];\n};\nconst writeMutes = (mutes) => {\n  try {\n    localStorage.setItem(\"gu.prefs.discussion.mutes\", JSON.stringify({\n      value: mutes\n    }));\n  } catch (error) {\n  }\n};\nconst App = ({\n  baseUrl,\n  shortUrl,\n  pillar,\n  isClosedForComments,\n  initialPage,\n  commentToScrollTo,\n  pageSizeOverride,\n  orderByOverride,\n  user,\n  additionalHeaders,\n  expanded,\n  onPermalinkClick,\n  apiKey,\n  onRecommend,\n  onComment,\n  onReply,\n  onPreview,\n  onExpand,\n  idApiUrl\n}) => {\n  const [filters, setFilters] = useState(initialiseFilters({\n    pageSizeOverride,\n    orderByOverride,\n    permalinkBeingUsed: !!commentToScrollTo,\n    isClosedForComments\n  }));\n  const [isExpanded, setIsExpanded] = useState(expanded || window.location.hash === \"#comments\");\n  const [loading, setLoading] = useState(true);\n  const [loadingMore, setLoadingMore] = useState(false);\n  const [totalPages, setTotalPages] = useState(0);\n  const [page, setPage] = useState(initialPage || 1);\n  const [picks, setPicks] = useState([]);\n  const [commentBeingRepliedTo, setCommentBeingRepliedTo] = useState();\n  const [comments, setComments] = useState([]);\n  const [numberOfCommentsToShow, setNumberOfCommentsToShow] = useState(10);\n  const [commentCount, setCommentCount] = useState(0);\n  const [mutes, setMutes] = useState(readMutes());\n  useEffect(() => {\n    if (isExpanded) {\n      const timer = setTimeout(() => {\n        setNumberOfCommentsToShow(comments.length);\n        setLoadingMore(false);\n      }, 0);\n      return () => clearTimeout(timer);\n    } else\n      return;\n  }, [isExpanded, comments.length]);\n  useEffect(() => {\n    setIsExpanded(expanded);\n  }, [expanded]);\n  useEffect(() => {\n    setLoading(true);\n    getDiscussion(shortUrl, {\n      ...filters,\n      page\n    }).then((json) => {\n      setLoading(false);\n      setLoadingMore(true);\n      if (json && json.status !== \"error\") {\n        setComments(json && json.discussion && json.discussion.comments);\n        setCommentCount(json && json.discussion && json.discussion.topLevelCommentCount);\n      }\n      setTotalPages(json && json.pages);\n    });\n  }, [filters, page, shortUrl]);\n  useEffect(() => {\n    const fetchPicks = async () => {\n      const json = await getPicks(shortUrl);\n      setPicks(json);\n    };\n    fetchPicks();\n  }, [shortUrl]);\n  useEffect(() => {\n    setFilters((oldFilters) => {\n      return {\n        ...oldFilters,\n        orderBy: orderByOverride ? orderByOverride : oldFilters.orderBy,\n        pageSize: pageSizeOverride ? pageSizeOverride : oldFilters.pageSize\n      };\n    });\n  }, [pageSizeOverride, orderByOverride]);\n  useEffect(() => {\n    if (initialPage)\n      setPage(initialPage);\n  }, [initialPage, commentToScrollTo]);\n  useEffect(() => {\n    if (commentToScrollTo) {\n      const commentElement = document.getElementById(`comment-${commentToScrollTo}`);\n      commentElement && commentElement.scrollIntoView();\n    }\n  }, [comments, commentToScrollTo]);\n  const onFilterChange = (newFilterObject) => {\n    let maxPagePossible = Math.floor(commentCount / newFilterObject.pageSize);\n    if (commentCount % newFilterObject.pageSize) {\n      maxPagePossible = maxPagePossible + 1;\n    }\n    if (page > maxPagePossible)\n      setPage(maxPagePossible);\n    rememberFilters(newFilterObject);\n    setIsExpanded(true);\n    onExpand == null ? void 0 : onExpand();\n    setFilters(newFilterObject);\n  };\n  const onPageChange = (page2) => {\n    setIsExpanded(true);\n    const element = document.getElementById(\"comment-filters\");\n    element && element.scrollIntoView();\n    setPage(page2);\n  };\n  const toggleMuteStatus = (userId) => {\n    let updatedMutes;\n    if (mutes.includes(userId)) {\n      updatedMutes = mutes.filter((id) => id !== userId);\n    } else {\n      updatedMutes = [...mutes, userId];\n    }\n    setMutes(updatedMutes);\n    writeMutes(updatedMutes);\n  };\n  const onAddComment = (comment2) => {\n    comments.pop();\n    setComments([comment2, ...comments]);\n    if (!isExpanded) {\n      setIsExpanded(true);\n      if (typeof onExpand === \"function\")\n        onExpand();\n    }\n    const commentElement = document.getElementById(`comment-${comment2.id}`);\n    commentElement && commentElement.scrollIntoView();\n  };\n  initialiseApi({\n    additionalHeaders,\n    baseUrl,\n    apiKey,\n    idApiUrl\n  });\n  const showPagination = totalPages > 1;\n  if (!isExpanded && loading) {\n    return /* @__PURE__ */ jsx(\"span\", {\n      \"data-testid\": \"loading-comments\"\n    });\n  }\n  if (!isExpanded) {\n    return /* @__PURE__ */ jsx(\"div\", {\n      css: commentContainerStyles,\n      \"data-component\": \"discussion\"\n    }, picks && picks.length ? /* @__PURE__ */ jsx(\"div\", {\n      css: picksWrapper\n    }, !!picks.length && /* @__PURE__ */ jsx(TopPicks, {\n      pillar,\n      comments: picks.slice(0, 2),\n      isSignedIn: !!user,\n      onPermalinkClick,\n      onRecommend\n    })) : /* @__PURE__ */ jsx(React.Fragment, null, /* @__PURE__ */ jsx(Filters, {\n      pillar,\n      filters,\n      onFilterChange,\n      totalPages,\n      commentCount\n    }), showPagination && /* @__PURE__ */ jsx(Pagination, {\n      totalPages,\n      currentPage: page,\n      setCurrentPage: (newPage) => {\n        onPageChange(newPage);\n      },\n      commentCount,\n      filters\n    }), !comments.length ? /* @__PURE__ */ jsx(NoComments, null) : /* @__PURE__ */ jsx(\"ul\", {\n      css: commentContainerStyles\n    }, comments.slice(0, 2).map((comment2) => /* @__PURE__ */ jsx(\"li\", {\n      key: comment2.id\n    }, /* @__PURE__ */ jsx(CommentContainer, {\n      comment: comment2,\n      pillar,\n      isClosedForComments,\n      shortUrl,\n      user,\n      threads: filters.threads,\n      commentBeingRepliedTo,\n      setCommentBeingRepliedTo,\n      mutes,\n      toggleMuteStatus,\n      onPermalinkClick,\n      onRecommend\n    }))))));\n  }\n  return /* @__PURE__ */ jsx(\"div\", {\n    \"data-component\": \"discussion\",\n    css: commentColumnWrapperStyles\n  }, user && !isClosedForComments && /* @__PURE__ */ jsx(CommentForm, {\n    pillar,\n    shortUrl,\n    onAddComment,\n    user,\n    onComment,\n    onReply,\n    onPreview\n  }), !!picks.length && /* @__PURE__ */ jsx(TopPicks, {\n    pillar,\n    comments: picks,\n    isSignedIn: !!user,\n    onPermalinkClick,\n    onRecommend\n  }), /* @__PURE__ */ jsx(Filters, {\n    pillar,\n    filters,\n    onFilterChange,\n    totalPages,\n    commentCount\n  }), showPagination && /* @__PURE__ */ jsx(Pagination, {\n    totalPages,\n    currentPage: page,\n    setCurrentPage: (newPage) => {\n      onPageChange(newPage);\n    },\n    commentCount,\n    filters\n  }), loading ? /* @__PURE__ */ jsx(LoadingComments, null) : !comments.length ? /* @__PURE__ */ jsx(NoComments, null) : /* @__PURE__ */ jsx(\"ul\", {\n    css: commentContainerStyles\n  }, comments.slice(0, numberOfCommentsToShow).map((comment2) => /* @__PURE__ */ jsx(\"li\", {\n    key: comment2.id\n  }, /* @__PURE__ */ jsx(CommentContainer, {\n    comment: comment2,\n    pillar,\n    isClosedForComments,\n    shortUrl,\n    user,\n    threads: filters.threads,\n    commentBeingRepliedTo,\n    setCommentBeingRepliedTo,\n    commentToScrollTo,\n    mutes,\n    toggleMuteStatus,\n    onPermalinkClick,\n    onRecommend,\n    onReply\n  })))), loadingMore && /* @__PURE__ */ jsx(LoadingComments, null), showPagination && /* @__PURE__ */ jsx(\"footer\", {\n    css: footerStyles\n  }, /* @__PURE__ */ jsx(Pagination, {\n    totalPages,\n    currentPage: page,\n    setCurrentPage: (newPage) => {\n      onPageChange(newPage);\n    },\n    commentCount,\n    filters\n  })), user && !isClosedForComments && comments.length > 10 && /* @__PURE__ */ jsx(CommentForm, {\n    pillar,\n    shortUrl,\n    onAddComment,\n    user,\n    onComment,\n    onReply,\n    onPreview\n  }));\n};\nexport {\n  App\n};\n","// detect two or more `/` chars after a word boundary\nconst multipleSlashesInRoute = /\\b\\/{2,}/g;\nconst joinUrl = (...args) => args.join('/').replace(multipleSlashesInRoute, '/');\n\nexport { joinUrl };\n//# sourceMappingURL=joinUrl.js.map\n","import { css } from '@emotion/react';\nimport { ArticleDisplay, ArticleDesign, ArticlePillar, ArticleSpecial } from '@guardian/libs';\nimport { neutral, specialReport, labs, opinion, sport, lifestyle, culture, news, palette } from '@guardian/source-foundations';\n\nconst defaultFormat = {\n    display: ArticleDisplay.Standard,\n    design: ArticleDesign.Standard,\n    theme: ArticlePillar.News,\n};\nconst WHITE = neutral[100];\nconst decideBackground = (format, priority) => {\n    switch (priority) {\n        case 'primary':\n        case 'secondary':\n            switch (format.theme) {\n                case ArticlePillar.News:\n                    return css `\n\t\t\t\t\t\tbackground-color: ${news[300]};\n\t\t\t\t\t\t:hover {\n\t\t\t\t\t\t\tbackground-color: ${news[400]};\n\t\t\t\t\t\t\tborder: 1px solid ${news[400]};\n\t\t\t\t\t\t}\n\t\t\t\t\t`;\n                case ArticlePillar.Culture:\n                    return css `\n\t\t\t\t\t\tbackground-color: ${culture[300]};\n\t\t\t\t\t\t:hover {\n\t\t\t\t\t\t\tbackground-color: ${culture[400]};\n\t\t\t\t\t\t\tborder: 1px solid ${culture[400]};\n\t\t\t\t\t\t}\n\t\t\t\t\t`;\n                case ArticlePillar.Lifestyle:\n                    return css `\n\t\t\t\t\t\tbackground-color: ${lifestyle[300]};\n\t\t\t\t\t\t:hover {\n\t\t\t\t\t\t\tbackground-color: ${lifestyle[400]};\n\t\t\t\t\t\t\tborder: 1px solid ${lifestyle[400]};\n\t\t\t\t\t\t}\n\t\t\t\t\t`;\n                case ArticlePillar.Sport:\n                    return css `\n\t\t\t\t\t\tbackground-color: ${sport[300]};\n\t\t\t\t\t\t:hover {\n\t\t\t\t\t\t\tbackground-color: ${sport[400]};\n\t\t\t\t\t\t\tborder: 1px solid ${sport[400]};\n\t\t\t\t\t\t}\n\t\t\t\t\t`;\n                case ArticlePillar.Opinion:\n                    return css `\n\t\t\t\t\t\tbackground-color: ${opinion[300]};\n\t\t\t\t\t\t:hover {\n\t\t\t\t\t\t\tbackground-color: ${opinion[400]};\n\t\t\t\t\t\t\tborder: 1px solid ${opinion[400]};\n\t\t\t\t\t\t}\n\t\t\t\t\t`;\n                case ArticleSpecial.Labs:\n                    return css `\n\t\t\t\t\t\tbackground-color: ${labs[300]};\n\t\t\t\t\t\t:hover {\n\t\t\t\t\t\t\tbackground-color: ${labs[400]};\n\t\t\t\t\t\t\tborder: 1px solid ${labs[400]};\n\t\t\t\t\t\t}\n\t\t\t\t\t`;\n                case ArticleSpecial.SpecialReport:\n                    return css `\n\t\t\t\t\t\tbackground-color: ${specialReport[300]};\n\t\t\t\t\t\t:hover {\n\t\t\t\t\t\t\tbackground-color: ${specialReport[400]};\n\t\t\t\t\t\t\tborder: 1px solid ${specialReport[400]};\n\t\t\t\t\t\t}\n\t\t\t\t\t`;\n            }\n        // falls through\n        case 'subdued':\n        case 'tertiary':\n            return css `\n\t\t\t\tbackground-color: transparent;\n\t\t\t`;\n    }\n};\nconst decideBorder = (format, priority) => {\n    switch (priority) {\n        case 'primary':\n        case 'secondary':\n        case 'tertiary':\n            return css `\n\t\t\t\tborder: 1px solid currentColor;\n\t\t\t`;\n        case 'subdued':\n            return css `\n\t\t\t\tborder: none;\n\t\t\t`;\n    }\n};\nconst decideFont = (format, priority) => {\n    switch (priority) {\n        case 'primary':\n        case 'secondary':\n            return css `\n\t\t\t\tcolor: ${WHITE};\n\t\t\t`;\n        case 'subdued':\n        case 'tertiary':\n            switch (format.theme) {\n                case ArticlePillar.News:\n                    return css `\n\t\t\t\t\t\tcolor: ${news[400]};\n\t\t\t\t\t`;\n                case ArticlePillar.Culture:\n                    return css `\n\t\t\t\t\t\tcolor: ${culture[400]};\n\t\t\t\t\t`;\n                case ArticlePillar.Lifestyle:\n                    return css `\n\t\t\t\t\t\tcolor: ${lifestyle[400]};\n\t\t\t\t\t`;\n                case ArticlePillar.Sport:\n                    return css `\n\t\t\t\t\t\tcolor: ${sport[400]};\n\t\t\t\t\t`;\n                case ArticlePillar.Opinion:\n                    return css `\n\t\t\t\t\t\tcolor: ${opinion[400]};\n\t\t\t\t\t`;\n                case ArticleSpecial.Labs:\n                    return css `\n\t\t\t\t\t\tcolor: ${labs[400]};\n\t\t\t\t\t`;\n                case ArticleSpecial.SpecialReport:\n                    return css `\n\t\t\t\t\t\tcolor: ${specialReport[400]};\n\t\t\t\t\t`;\n                case ArticleSpecial.SpecialReportAlt:\n                    return css `\n\t\t\t\t\t\tcolor: ${palette.specialReportAlt[200]};\n\t\t\t\t\t`;\n            }\n    }\n};\n\nexport { decideBackground, decideBorder, decideFont, defaultFormat };\n//# sourceMappingURL=styles.js.map\n","import { jsx } from '@emotion/react/jsx-runtime';\nimport { Button } from '@guardian/source-react-components';\nimport { decideBackground, decideBorder, decideFont, defaultFormat } from './styles.js';\n\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-react-components-development-kitchen_editorialbutton--when-primary) \n * [Design System](https://theguardian.design/2a1e5182b/p/435225-button) \n * [GitHub](https://github.com/guardian/csnx/tree/main/libs/@guardian/source-react-components-development-kitchen/src/editorial-button/EditorialButton.tsx) \n * [NPM](https://www.npmjs.com/package/@guardian/source-react-components-development-kitchen)\n *\n * This is the editorial version of the core Button component.\n * This editorial version requires the format prop and uses that to override Button styles based on `format.theme`\n *\n */\nconst EditorialButton = ({ format = defaultFormat, children, priority = 'primary', ...props }) => {\n    const backgroundOverrides = decideBackground(format, priority);\n    const borderOverrides = decideBorder(format, priority);\n    const fontOverrides = decideFont(format, priority);\n    return (jsx(Button, { priority: priority, cssOverrides: [backgroundOverrides, borderOverrides, fontOverrides], ...props, children: children }));\n};\n\nexport { EditorialButton };\n//# sourceMappingURL=EditorialButton.js.map\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden, iconSize } from '@guardian/source-foundations';\n\nconst Svg = ({ size }) => (jsx(\"svg\", { width: size ? iconSize[size] : undefined, height: undefined, viewBox: \"-3 -3 30 30\", xmlns: \"http://www.w3.org/2000/svg\", focusable: false, \"aria-hidden\": true, children: jsx(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M12.015 14.042 20.707 22 22 20.709 14.06 12 22 3.291 20.707 2l-8.692 7.958L3.293 2.03 2 3.321 9.97 12 2 20.679l1.293 1.291 8.722-7.928Z\" }) }));\nconst SvgCross = ({ size, isAnnouncedByScreenReader = false, }) => (jsxs(Fragment, { children: [jsx(Svg, { size: size }), isAnnouncedByScreenReader ? (jsx(\"span\", { css: css `\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`, children: \"Close\" })) : ('')] }));\n\nexport { SvgCross };\n//# sourceMappingURL=SvgCross.js.map\n","import { jsxs, Fragment, jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { visuallyHidden, iconSize } from '@guardian/source-foundations';\n\nconst Svg = ({ size }) => (jsx(\"svg\", { width: size ? iconSize[size] : undefined, height: undefined, viewBox: \"-3 -3 30 30\", xmlns: \"http://www.w3.org/2000/svg\", focusable: false, \"aria-hidden\": true, children: jsx(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"m10.8 13.2.425 9.8h1.525l.45-9.8 9.8-.45v-1.525l-9.8-.425-.45-9.8h-1.525l-.425 9.8-9.8.425v1.525l9.8.45Z\" }) }));\nconst SvgPlus = ({ size, isAnnouncedByScreenReader = false, }) => (jsxs(Fragment, { children: [jsx(Svg, { size: size }), isAnnouncedByScreenReader ? (jsx(\"span\", { css: css `\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`, children: \"Plus sign\" })) : ('')] }));\n\nexport { SvgPlus };\n//# sourceMappingURL=SvgPlus.js.map\n"],"names":["Svg","size","jsx","width","iconSize","undefined","height","viewBox","xmlns","focusable","children","fillRule","clipRule","d","SvgArrowUpStraight","isAnnouncedByScreenReader","jsxs","Fragment","css","visuallyHidden","SvgIndent","joinUrl","parts","filter","part","map","substr","slice","length","join","options","baseUrl","apiKey","headers","idApiUrl","defaultParams","objAsParams","obj","Object","keys","key","getDiscussion","shortUrl","opts","apiOpts","orderBy","pageSize","displayThreaded","threads","maxResponses","page","params","url","fetch","then","resp","json","errorCode","catch","error","console","preview","body","data","URLSearchParams","append","method","toString","commentBody","comment","credentials","reply","parentCommentId","recommend","commentId","ok","_ref$3","name","styles","Row","pillarToString","pillar","ArticlePillar","ArticleSpecial","palette","news","opinion","culture","sport","lifestyle","labs","buttonOverrides","priority","textSans","fontWeight","neutral","dark","PillarButton","onClick","type","icon","iconSide","linkName","Button","previewStyle$2","space","textStyling","Text","FirstCommentWelcome","submitForm","cancelSubmit","onPreview","previewBody","setPreviewBody","useState","userName","setUserName","useEffect","async","preview$1","response","e","fetchShowPreview","onSubmit","preventDefault","headline","TextInput","label","supporting","value","onChange","target","React","Link","href","subdued","rel","dangerouslySetInnerHTML","__html","previewStyle$1","spout","Preview$1","previewHtml","boldString","text2","italicsString","strikethroughString","codeString","quoteString","formWrapper$1","commentTextArea","greyPlaceholder","blackPlaceholder","headerTextStyles","errorTextStyles","text","infoTextStyles","msgContainerStyles","linkStyles$3","wrapperHeaderTextStyles","commentAddOns","bottomContainer","Space$2","amount","CommentForm","onAddComment","user","setCommentBeingRepliedTo","commentBeingRepliedTo","onComment","onReply","isActive","setIsActive","userNameMissing","setUserNameMissing","setBody","setError","info","setInfo","showPreview","setShowPreview","textAreaRef","useRef","_a","_b","document","getElementById","id","scrollIntoView","querySelector","focus","getHighlightedString","current","selectionStart","selectionEnd","startString","substring","highlightedString","endString","transformText","transfromFunc","textAreaStrings","concat","resetForm","comment$1","reply$1","status","date","Date","isoDateTime","toISOString","webUrl","apiUrl","numRecommends","isHighlighted","userProfile","userId","displayName","avatar","secureAvatarUrl","badge","responseTo","commentApiUrl","String","commentWebUrl","responses","simulateNewComment","parseInt","message","JSON","stringify","publicFields","username","addUserName","errors","privateFields","isPremoderated","placeholder","ref","style","onFocus","prompt","highlightedText","linkStringFunc","transformLink","staffBadge","iconStyles","labelText","staffIcon","brand","staffLabel","guardianPickLabel","GuardianStaff","fill","GuardianContributor","GuardianPick","countStyles","buttonStyles$1","recommended","isSignedIn","arrowStyles","RecommendationCount","initialCount","alreadyRecommended","userMadeComment","onRecommend","count","setCount","setRecommended","newCount","accepted","tryToRecommend","disabled","formWrapper","inputWrapper","errorMessageStyles","_ref$2","_ref2$1","AbuseReportForm","toggleSetShowForm","modalRef","firstElement","lastElement","addEventListener","contains","keyListener","keyCode","shiftKey","activeElement","removeEventListener","formVariables","setFormVariables","categoryId","reason","email","defaultErrorTexts","setErrors","successMessage","setSuccessMessage","labelStylesClass","labelStyles$1","event","reportAbuse","htmlFor","Number","SvgCross","hideLabel","monthConverter","dateFormatter","dateString","timeStampYesterday","Math","round","getTime","isLast24Hrs","timeAgo","verbose","daysUntilAbsolute","getDate","getMonth","getFullYear","getHours","getMinutes","padStart","linkStyles$2","timeStyles","Timestamp","onPermalinkClick","timeAgo2","setTimeAgo","callback","delay","savedCallback","setInterval","currentCallback","clearInterval","useInterval","dateTime","imageStyles","Avatar","imageUrl","src","alt","_ref$1","Column","createAuthenticationEventParams","componentId","encodeURIComponent","commentControlsLink","spaceBetween","commentCss","remSpace","blockedCommentStyles","commentLinkStyling","commentWrapper","border","selectedStyles$1","avatarMargin$1","until","colourStyles","boldFont","regularFont","svgReplyArrow","commentDetails","headerStyles","iconWrapper","timestampWrapperStyles","hideBelowMobileLandscape","hideAboveMobileLandscape","from","negativeMargin","cssTextOverflowElip","cssReplyToWrapper","buttonLinkPillarBaseStyles$1","buttonLinkBaseStyles$1","cssReplyAlphaDisplayName","cssReplyBetaDisplayName","Space$1","_ref","_ref2","Comment","comment2","isClosedForComments","isReply","wasScrolledTo","isMuted","toggleMuteStatus","setIsHighlighted","showAbuseReportForm","setAbuseReportForm","showStaffBadge","find","showPickBadge","showContributorBadge","cssOverrides","some","unPickComment","pickComment","Space","indentStyles","smallFontStyles","replyPreviewHeaderStyle","bg$1","previewStyle","arrowSize$1","commentStyles","blueLink","buttonLinkPillarBaseStyles","buttonLinkBaseStyles","CommentReplyPreview","displayReplyComment","setDisplayReplyComment","Preview","nestingStyles","topBorder","commentContainerStyles$1","selectedStyles","removeMargin","CommentContainer","commentToScrollTo","mutes","expanded","setExpanded","setResponses","loading","setLoading","showResponses","includes","responseComment","metaData","responseCount","SvgPlus","expand","displayResponses","getMoreResponses","finally","remainingResponses","decideShowMoreText","pickStyles","bg","userNameStyles","avatarMargin","smallFontSize","linkStyles$1","inCommentLinkStyling","titleStyles","inheritColour","wrapStyles","PickBubble","arrowSize","Top","Bottom","PickMeta","TopPick","input","columWrapperStyles","paddingRight","paddingLeft","picksWrapper$1","twoColCommentsStyles","oneColCommentsStyles","TopPicks","comments","leftColComments","rightColComments","forEach","index","push","containerStyles$1","ulStyles","background","ulExpanded","firstStyles","activeStyles","buttonStyles","expandedStyles","labelStyles","Dropdown","options2","onSelect","isExpanded","setIsExpanded","dismissOnEsc","code","dismissOnClick","stopPropagation","dropdownID","activeLink","option","title","filterBar","dividerStyles","filterPadding","Filters","filters","onFilterChange","totalPages","commentCount","pageButtonStyles","isSelected","chevronButtonStyles","shiftRight","elipsisStyles","wrapperStyles","paginationButtons","paginationText","Forward","currentPage","setCurrentPage","SvgChevronRightSingle","Back","newPage","max","SvgChevronLeftSingle","PageButton","Pagination","showBackButton","showFirstElipsis","secondPage","decideSecondPage","thirdPage","decideThirdPage","forthPage","decideForthPage","showThirdPage","showForthPage","showLastPage","lastPage","showSecondElipsis","showForwardButton","endIndex","startIndex","BACKGROUND_COLOUR","shimmer","keyframes","shimmerStyles","containerStyles","Grey","spaceBelow","spaceLeft","LoadingComments","footerStyles","commentColumnWrapperStyles","commentContainerStyles","picksWrapper","DEFAULT_FILTERS","NoComments","App","initialPage","pageSizeOverride","orderByOverride","additionalHeaders","onExpand","setFilters","permalinkBeingUsed","initialisedFilters","localStorage","getItem","decideDefaultOrderBy","isClosedForComment","parse","initFiltersFromLocalStorage","initialiseFilters","window","location","hash","loadingMore","setLoadingMore","setTotalPages","setPage","picks","setPicks","setComments","numberOfCommentsToShow","setNumberOfCommentsToShow","setCommentCount","setMutes","readMutes","timer","setTimeout","clearTimeout","discussion","topLevelCommentCount","pages","getPicks","fetchPicks","oldFilters","commentElement","newFilterObject","maxPagePossible","floor","filtersToRemember","setItem","rememberFilters","onPageChange","page2","element","updatedMutes","writeMutes","pop","initialiseApi","showPagination","multipleSlashesInRoute","args","replace","defaultFormat","display","ArticleDisplay","design","ArticleDesign","theme","WHITE","EditorialButton","format","props","backgroundOverrides","specialReport","decideBackground","borderOverrides","decideBorder","fontOverrides","decideFont"],"sourceRoot":""}