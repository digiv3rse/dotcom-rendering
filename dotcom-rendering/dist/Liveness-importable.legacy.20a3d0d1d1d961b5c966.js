"use strict";(self.webpackChunk_guardian_dotcom_rendering=self.webpackChunk_guardian_dotcom_rendering||[]).push([[8706],{3506:(e,t,o)=>{o.d(t,{e:()=>a,t:()=>n});var r=o(8887),n=function(e){if(e instanceof HTMLElement){var t=e.dataset.relativeformat,o=e.getAttribute("datetime");if(!o||!t)return;var n=!1;switch(t){case"short":case"med":n=(0,r.S)(new Date(o).getTime(),{verbose:!1});break;case"long":n=(0,r.S)(new Date(o).getTime(),{verbose:!0})}var a=e.innerText;!1!==n&&n!==a&&(e.innerHTML=n)}},a=function(){document.querySelectorAll("time[data-relativeformat]").forEach(n)}},6191:(e,t,o)=>{o.r(t),o.d(t,{Liveness:()=>A});var r=o(5809),n=o(7800),a=o(3904),i=o(6864),c=o(3506),l=o(6325),s=o(43),d=o(2933),u=o(3729),b=o(2249),p=function(e){var t=e.size,o=t<=24,r=o?0:(t-24)/2;return(0,n.jsx)("svg",{viewBox:o?"0 0 24 24":"-".concat(r," -").concat(r," ").concat(t," ").concat(t),width:t,height:t,children:(0,n.jsx)("path",{d:"M11.588 1a10.928 10.928 0 0 0-9.046 4.786l.126.676.877.527.676-.176C5.85 4.508 8.506 2.98 11.588 2.98c4.936 0 8.995 4.059 8.995 9.045 0 4.961-4.059 8.995-8.995 8.995-2.832 0-5.262-1.252-6.94-3.257l3.632-.601v-1.253H1.866l-.476.476V23h1.227l.627-3.784C5.248 21.546 8.205 23 11.588 23c6.089 0 11.025-4.911 11.025-10.975A11.01 11.01 0 0 0 11.588 1Z"})})},m=function(e){var t=e.count,o=e.onClick,r=e.format;return(0,n.jsxs)("div",{css:(0,s.css)("position:absolute;top:",d.D[2],"px;"),"data-cy":"toast",children:[(0,n.jsx)(u.c,{above:"phablet",children:(0,n.jsx)(b.o,{size:"xsmall",onClick:o,format:r,icon:(0,n.jsx)(p,{size:30}),children:"".concat(t," new update").concat(1===t?"":"s")})}),(0,n.jsx)(u.c,{below:"phablet",children:(0,n.jsx)(b.o,{size:"small",onClick:o,format:r,icon:(0,n.jsx)(p,{size:30}),children:"".concat(t," new update").concat(1===t?"":"s")})})]})},f="undefined"==typeof window,v=f?null:window.document.getElementById("top-of-blog"),h=f?null:window.document.querySelector("[data-gu-marker=liveblog-last-updated]"),g=f?null:window.document.getElementById("toast-root");function w(){var e=document.querySelector("#liveblog-body"),t=null==e?void 0:e.querySelectorAll(".pending.block");null==t||t.forEach((function(e){e.classList.add("reveal-slowly"),e.classList.remove("pending")})),void 0!==t&&t.length>0&&document.dispatchEvent(new CustomEvent("liveblog:blocks-updated"))}var A=function(e){var t=e.pageId,o=e.webTitle,s=e.ajaxUrl,d=e.filterKeyEvents,u=e.format,b=e.enhanceTweetsSwitch,p=e.onFirstPage,f=e.webURL,A=e.mostRecentBlockId,y=e.hasPinnedPost,k=e.selectedTopics,S=(0,a.useState)(!1),L=(0,r.Z)(S,2),D=L[0],O=L[1],C=(0,a.useState)(),j=(0,r.Z)(C,2),x=j[0],P=j[1],E=(0,a.useState)(0),M=(0,r.Z)(E,2),I=M[0],T=M[1],R=(0,a.useState)(A),B=(0,r.Z)(R,2),q=B[0],z=B[1],N=(0,a.useCallback)((function(e){if(e.numNewBlocks&&e.numNewBlocks>0){if(p)try{!function(e,t){var o=document.createElement("template");o.innerHTML=e;var r=o.content,n=r.querySelectorAll("gu-island");(0,i.G)(n);var a=document.querySelector("#liveblog-body");if(a&&v&&(a.insertBefore(r,v.nextSibling),t)){var c=a.querySelectorAll(".pending.block");"undefined"!=typeof twttr&&twttr.ready((function(e){e.widgets.load(Array.from(c))}))}}(e.html,b)}catch(e){console.log(">> failed >>",e)}h&&(h.setAttribute("dateTime",(new Date).toString()),(0,c.t)(h)),p&&x&&"visible"===document.visibilityState?(w(),T(0)):(O(!0),T(I+e.numNewBlocks))}e.mostRecentBlockId&&z(e.mostRecentBlockId)}),[p,x,I,b]);window.mockLiveUpdate=N,(0,l.h)(function(e,t,o,n,a){try{var i=new URL("".concat(e,".json"),t);i.searchParams.set("lastUpdate",o),i.searchParams.set("isLivePage","true"),i.searchParams.set("dcr","true"),i.searchParams.set("filterKeyEvents",n?"true":"false");var c=null!=a?a:[],l=(0,r.Z)(c,1)[0];return l&&i.searchParams.set("topics","".concat(l.type,":").concat(l.value)),i.href}catch(o){return void window.guardian.modules.sentry.reportError(new Error("An error was thrown trying to construct a URL using pageId: ".concat(e," and ajaxUrl: ").concat(t)),"liveness-getkey")}}(t,s,q,d,k),{refreshInterval:1e4,refreshWhenHidden:!0,onSuccess:N}),(0,a.useEffect)((function(){document.title=I>0?"(".concat(I,") ").concat(o):o}),[I,o]),(0,a.useEffect)((function(){if(v){var e=new window.IntersectionObserver((function(e){var t=(0,r.Z)(e,1)[0];t&&(P(t.isIntersecting),t.isIntersecting&&p&&(w(),T(0),O(!1)))}));return e.observe(v),function(){e.disconnect()}}}),[p]),(0,a.useEffect)((function(){var e=function(){"visible"===document.visibilityState&&I>0&&x&&p&&(w(),T(0),O(!1))};return window.addEventListener("visibilitychange",e),function(){window.removeEventListener("visibilitychange",e)}}),[I,p,x]);var Z=(0,a.useCallback)((function(){var e,t=y?"top-of-blog":"maincontent";p?(O(!1),null===(e=document.getElementById(t))||void 0===e||e.scrollIntoView({behavior:"smooth"}),window.history.replaceState({},"","#".concat(t)),w(),T(0)):window.location.href="".concat(f,"#").concat(t)}),[y,p,f]);return g&&D?a.default.createPortal((0,n.jsx)(m,{onClick:Z,count:I,format:u}),g):null}},6325:(e,t,o)=>{o.d(t,{h:()=>a});var r=o(6131);function n(e){if(!e.ok)throw Error(e.statusText||"useApi | An api call returned HTTP status ".concat(e.status));return e}var a=function(e,t,o){var a=(0,r.ZP)(e,function(e){return function(t){return fetch(t,e).then(n).then((function(e){return e.json()}))}}(o),t),i=a.data,c=a.error;return{data:i,error:c,loading:!!e&&!c&&!i}}},8887:(e,t,o)=>{o.d(t,{S:()=>n});var r=function(e,t,o){var r=1!==t;switch(e){case"s":return o?" seconds ago":"s ago";case"m":return o&&r?" minutes ago":o?" minute ago":"m ago";case"h":return o&&r?" hours ago":o?" hour ago":"h ago";case"d":return o?" days ago":"d ago"}},n=function(e,t){var o,n,a,i=new Date(e),c=new Date,l=null==t?void 0:t.verbose,s=null!==(o=null==t?void 0:t.daysUntilAbsolute)&&void 0!==o?o:7,d=Math.floor((c.getTime()-i.getTime())/1e3),u=d<15,b=d<55,p=d<3300,m=(n=i,a=new Date,n.getTime()>a.getTime()-864e5),f=function(e){var t=new Date,o=new Date;return o.setDate(t.getDate()-1),e.toDateString()===o.toDateString()}(i),v=d<24*s*60*60;if(d<0)return!1;if(u)return"now";if(b)return"".concat(d).concat(r("s",d,l));if(p){var h=Math.round(d/60);return"".concat(h).concat(r("m",h,l))}if(m){var g=Math.round(d/3600);return"".concat(g).concat(r("h",g,l))}if(f&&l)return"Yesterday".concat(function(e){return" ".concat(e.getHours(),".").concat(e.getMinutes().toString().padStart(2,"0"))}(i));if(v){var w=Math.round(d/3600/24);return"".concat(w).concat(r("d",w,l))}return[i.getDate(),l?i.toLocaleString("en-GB",{month:"long"}):i.toLocaleString("en-GB",{month:"short"}),i.getFullYear()].join(" ")}},1539:(e,t,o)=>{var r;o.d(t,{Y:()=>r}),function(e){e[e.Standard=0]="Standard",e[e.Gallery=1]="Gallery",e[e.Audio=2]="Audio",e[e.Video=3]="Video",e[e.Review=4]="Review",e[e.Analysis=5]="Analysis",e[e.Explainer=6]="Explainer",e[e.Comment=7]="Comment",e[e.Letter=8]="Letter",e[e.Feature=9]="Feature",e[e.LiveBlog=10]="LiveBlog",e[e.DeadBlog=11]="DeadBlog",e[e.Recipe=12]="Recipe",e[e.MatchReport=13]="MatchReport",e[e.Interview=14]="Interview",e[e.Editorial=15]="Editorial",e[e.Quiz=16]="Quiz",e[e.Interactive=17]="Interactive",e[e.PhotoEssay=18]="PhotoEssay",e[e.PrintShop=19]="PrintShop",e[e.Obituary=20]="Obituary",e[e.Correction=21]="Correction",e[e.FullPageInteractive=22]="FullPageInteractive",e[e.NewsletterSignup=23]="NewsletterSignup",e[e.Timeline=24]="Timeline",e[e.Profile=25]="Profile"}(r||(r={}))},9442:(e,t,o)=>{var r;o.d(t,{D:()=>r}),function(e){e[e.Standard=0]="Standard",e[e.Immersive=1]="Immersive",e[e.Showcase=2]="Showcase",e[e.NumberedList=3]="NumberedList"}(r||(r={}))},4819:(e,t,o)=>{var r;o.d(t,{D:()=>r}),function(e){e[e.News=0]="News",e[e.Opinion=1]="Opinion",e[e.Sport=2]="Sport",e[e.Culture=3]="Culture",e[e.Lifestyle=4]="Lifestyle"}(r||(r={}))},2241:(e,t,o)=>{var r;o.d(t,{v:()=>r}),function(e){e[e.SpecialReport=5]="SpecialReport",e[e.Labs=6]="Labs",e[e.SpecialReportAlt=7]="SpecialReportAlt"}(r||(r={}))},6027:(e,t,o)=>{o.d(t,{A:()=>r});var r={mobile:320,mobileMedium:375,mobileLandscape:480,phablet:660,tablet:740,desktop:980,leftCol:1140,wide:1300}},5246:(e,t,o)=>{o.d(t,{C4:()=>l,Dp:()=>c,vX:()=>s});var r=o(6027),n=function(e){return"@media (min-width: ".concat("".concat(e,"px"),")")},a=function(e){return"@media (max-width: ".concat("".concat(e-1,"px"),")")},i=function(e,t){return"@media (min-width: ".concat("".concat(e,"px"),") and (max-width: ","".concat(t-1,"px"),")")},c={mobile:n(r.A.mobile),mobileMedium:n(r.A.mobileMedium),mobileLandscape:n(r.A.mobileLandscape),phablet:n(r.A.phablet),tablet:n(r.A.tablet),desktop:n(r.A.desktop),leftCol:n(r.A.leftCol),wide:n(r.A.wide)},l={mobile:a(r.A.mobile),mobileMedium:a(r.A.mobileMedium),mobileLandscape:a(r.A.mobileLandscape),phablet:a(r.A.phablet),tablet:a(r.A.tablet),desktop:a(r.A.desktop),leftCol:a(r.A.leftCol),wide:a(r.A.wide)},s={mobile:{and:{mobileMedium:i(r.A.mobile,r.A.mobileMedium),mobileLandscape:i(r.A.mobile,r.A.mobileLandscape),phablet:i(r.A.mobile,r.A.phablet),tablet:i(r.A.mobile,r.A.tablet),desktop:i(r.A.mobile,r.A.desktop),leftCol:i(r.A.mobile,r.A.leftCol),wide:i(r.A.mobileMedium,r.A.wide)}},mobileMedium:{and:{mobileLandscape:i(r.A.mobileMedium,r.A.mobileLandscape),phablet:i(r.A.mobileMedium,r.A.phablet),tablet:i(r.A.mobileMedium,r.A.tablet),desktop:i(r.A.mobileMedium,r.A.desktop),leftCol:i(r.A.mobileMedium,r.A.leftCol),wide:i(r.A.mobileMedium,r.A.wide)}},mobileLandscape:{and:{phablet:i(r.A.mobileLandscape,r.A.phablet),tablet:i(r.A.mobileLandscape,r.A.tablet),desktop:i(r.A.mobileLandscape,r.A.desktop),leftCol:i(r.A.mobileLandscape,r.A.leftCol),wide:i(r.A.mobileLandscape,r.A.wide)}},phablet:{and:{tablet:i(r.A.phablet,r.A.tablet),desktop:i(r.A.phablet,r.A.desktop),leftCol:i(r.A.phablet,r.A.leftCol),wide:i(r.A.phablet,r.A.wide)}},tablet:{and:{desktop:i(r.A.tablet,r.A.desktop),leftCol:i(r.A.tablet,r.A.leftCol),wide:i(r.A.tablet,r.A.wide)}},desktop:{and:{leftCol:i(r.A.desktop,r.A.leftCol),wide:i(r.A.desktop,r.A.wide)}},leftCol:{and:{wide:i(r.A.leftCol,r.A.wide)}}}},2249:(e,t,o)=>{o.d(t,{o:()=>S});var r=o(4649),n=o(8808),a=o(7800),i=o(3965),c=o(43),l=o(9442),s=o(1539),d=o(4819),u=o(2241),b=o(9525),p=o(2522),m={display:l.D.Standard,design:s.Y.Standard,theme:d.D.News},f=b.n$[100],v={name:"1peqg37",styles:"background-color:transparent"},h={name:"1e1ncky",styles:"border:none"},g={name:"xbl920",styles:"border:1px solid currentColor"},w=function(e,t){switch(t){case"primary":case"secondary":case"tertiary":return g;case"subdued":return h}},A=["format","children","priority"];function y(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function k(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?y(Object(o),!0).forEach((function(t){(0,r.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):y(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var S=function(e){var t=e.format,o=void 0===t?m:t,r=e.children,l=e.priority,s=void 0===l?"primary":l,h=(0,n.Z)(e,A),g=function(e,t){switch(t){case"primary":case"secondary":switch(e.theme){case d.D.News:return(0,c.css)("background-color:",b.r[300],";:hover{background-color:",b.r[400],";border:1px solid ",b.r[400],";}");case d.D.Culture:return(0,c.css)("background-color:",b.TG[300],";:hover{background-color:",b.TG[400],";border:1px solid ",b.TG[400],";}");case d.D.Lifestyle:return(0,c.css)("background-color:",b.H5[300],";:hover{background-color:",b.H5[400],";border:1px solid ",b.H5[400],";}");case d.D.Sport:return(0,c.css)("background-color:",b.Fp[300],";:hover{background-color:",b.Fp[400],";border:1px solid ",b.Fp[400],";}");case d.D.Opinion:return(0,c.css)("background-color:",b.VK[300],";:hover{background-color:",b.VK[400],";border:1px solid ",b.VK[400],";}");case u.v.Labs:return(0,c.css)("background-color:",b.lh[300],";:hover{background-color:",b.lh[400],";border:1px solid ",b.lh[400],";}");case u.v.SpecialReport:return(0,c.css)("background-color:",b.qD[300],";:hover{background-color:",b.qD[400],";border:1px solid ",b.qD[400],";}")}case"subdued":case"tertiary":return v}}(o,s),y=w(0,s),S=function(e,t){switch(t){case"primary":case"secondary":return(0,c.css)("color:",f,";");case"subdued":case"tertiary":switch(e.theme){case d.D.News:return(0,c.css)("color:",b.r[400],";");case d.D.Culture:return(0,c.css)("color:",b.TG[400],";");case d.D.Lifestyle:return(0,c.css)("color:",b.H5[400],";");case d.D.Sport:return(0,c.css)("color:",b.Fp[400],";");case d.D.Opinion:return(0,c.css)("color:",b.VK[400],";");case u.v.Labs:return(0,c.css)("color:",b.lh[400],";");case u.v.SpecialReport:return(0,c.css)("color:",b.qD[400],";");case u.v.SpecialReportAlt:return(0,c.css)("color:",p.DG.specialReportAlt[200],";")}}}(o,s);return(0,a.jsx)(i.z,k(k({priority:s,cssOverrides:[g,y,S]},h),{},{children:r}))}},3965:(e,t,o)=>{o.d(t,{z:()=>u});var r=o(4649),n=o(8808),a=o(7800),i=o(8259),c=o(5015),l=["priority","size","icon","iconSide","hideLabel","nudgeIcon","type","isLoading","loadingAnnouncement","cssOverrides","children"];function s(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function d(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?s(Object(o),!0).forEach((function(t){(0,r.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var u=function(e){var t=e.priority,o=e.size,r=e.icon,s=e.iconSide,u=e.hideLabel,b=e.nudgeIcon,p=e.type,m=void 0===p?"button":p,f=e.isLoading,v=void 0!==f&&f,h=e.loadingAnnouncement,g=void 0===h?"Loading":h,w=e.cssOverrides,A=e.children,y=(0,n.Z)(e,l);return(0,a.jsx)("button",d(d({css:(0,c.$)({size:o,priority:t,icon:r,hideLabel:u,iconSide:s,nudgeIcon:b,cssOverrides:w,isLoading:v}),type:m,"aria-live":"polite","aria-label":v?g:void 0},y),{},{children:(0,i._)({hideLabel:u,iconSvg:r,isLoading:v,children:A})}))}},3729:(e,t,o)=>{o.d(t,{c:()=>i});var r=o(7800),n=o(43),a=o(5246),i=function(e){var t,o=e.children,i=e.above,c=e.below,l=e.from,s=void 0===l?i:l,d=e.until,u=void 0===d?c:d;return u&&(t=(0,n.css)(a.C4[u],"{display:none;}")),s&&(t=(0,n.css)(t," ",a.Dp[s],"{display:none;}")),(0,r.jsx)("span",{css:t,children:o})}}}]);
//# sourceMappingURL=Liveness-importable.legacy.20a3d0d1d1d961b5c966.js.map