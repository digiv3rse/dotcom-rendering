{"version":3,"file":"InteractiveBlockComponent-importable.legacy.3731b2d183542f7d96e2.js","mappings":"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","sources":["webpack://@guardian/dotcom-rendering/./src/web/components/Caption.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Figure.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/InteractiveBlockComponent.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Placeholder.tsx","webpack://@guardian/dotcom-rendering/./src/web/layouts/lib/interactiveLegacyStyling.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/center.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/useOnce.ts","webpack://@guardian/dotcom-rendering/./src/static/icons/camera.svg","webpack://@guardian/dotcom-rendering/./src/static/icons/video-icon.svg"],"sourcesContent":["import { jsx as _jsx, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nimport { css } from '@emotion/react';\nimport { ArticleDesign, ArticleDisplay, ArticleSpecial } from '@guardian/libs';\nimport { between, from, space, textSans, until, } from '@guardian/source-foundations';\nimport CameraSvg from '../../static/icons/camera.svg';\nimport VideoSvg from '../../static/icons/video-icon.svg';\nimport { decidePalette } from '../lib/decidePalette';\nconst captionStyle = (palette) => css `\n\t${textSans.xsmall()};\n\tline-height: 135%;\n\tpadding-top: 6px;\n\tword-wrap: break-all;\n\tcolor: ${palette.text.caption};\n`;\nconst bottomMarginStyles = css `\n\tmargin-bottom: 6px;\n`;\nconst overlaidBottomPadding = (format) => {\n    if (format.display === ArticleDisplay.Showcase &&\n        format.design === ArticleDesign.Review) {\n        return css `\n\t\t\tpadding-bottom: 2.5rem;\n\t\t`;\n    }\n    return css `\n\t\tpadding-bottom: 0.375rem;\n\t`;\n};\nconst overlaidStyles = (palette, format) => css `\n\tposition: absolute;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tbackground: rgba(18, 18, 18, 0.8);\n\n\tspan {\n\t\tcolor: ${palette.text.overlaidCaption};\n\t\tfont-size: 0.75rem;\n\t\tline-height: 1rem;\n\t}\n\n\tsvg {\n\t\tfill: ${palette.text.overlaidCaption};\n\t}\n\tcolor: ${palette.text.overlaidCaption};\n\tfont-size: 0.75rem;\n\tline-height: 1rem;\n\tpadding-top: 0.375rem;\n\tpadding-right: 2.5rem;\n\tpadding-left: 0.75rem;\n\t${overlaidBottomPadding(format)};\n\n\tflex-grow: 1;\n\tmin-height: 2.25rem;\n`;\nconst limitedWidth = css `\n\t${from.leftCol} {\n\t\twidth: 140px;\n\t\t/* use absolute position here to allow the article text to push up alongside\n           the caption when it is limited in width */\n\t\tposition: absolute;\n\t}\n\t${from.wide} {\n\t\twidth: 220px;\n\t}\n`;\nconst veryLimitedWidth = css `\n\t${from.leftCol} {\n\t\twidth: 120px;\n\t\t/* use absolute position here to allow the article text to push up alongside\n           the caption when it is limited in width */\n\t\tposition: absolute;\n\t}\n\t${from.wide} {\n\t\twidth: 184px;\n\t}\n`;\nconst captionPadding = css `\n\tpadding-left: 8px;\n\tpadding-right: 8px;\n`;\nconst tabletCaptionPadding = css `\n\t${until.desktop} {\n\t\t${captionPadding}\n\t}\n`;\nconst videoPadding = css `\n\t${until.mobileLandscape} {\n\t\tmargin-left: 10px;\n\t}\n\t${between.mobileLandscape.and.phablet} {\n\t\tmargin-left: ${space[5]}px;\n\t}\n`;\nconst bigLeftMargin = css `\n\twidth: inherit;\n\tmargin-left: ${space[9]}px;\n\t${until.wide} {\n\t\tmargin-left: 20px;\n\t\tmargin-right: 20px;\n\t}\n\t${until.mobileLandscape} {\n\t\tmargin-left: 10px;\n\t\tmargin-right: 10px;\n\t}\n`;\nconst hideIconBelowLeftCol = css `\n\t${until.leftCol} {\n\t\tdisplay: none;\n\t}\n`;\nconst pictureRatio = (13 / 18) * 100;\nconst videoRatio = (23 / 36) * 100;\nconst iconStyle = (palette) => css `\n\tfill: ${palette.fill.cameraCaptionIcon};\n\tmargin-right: ${space[1]}px;\n\tdisplay: inline-block;\n\tposition: relative;\n\twidth: 1em;\n\tvertical-align: baseline;\n\t::before {\n\t\tcontent: ' ';\n\t\tdisplay: block;\n\t\tpadding-top: ${pictureRatio}%;\n\t}\n\tsvg {\n\t\ttop: 0px;\n\t\tright: 0px;\n\t\tbottom: 0px;\n\t\tleft: 0px;\n\t\twidth: 100%;\n\t\tposition: absolute;\n\t\theight: 100%;\n\t}\n`;\nconst videoIconStyle = css `\n\twidth: 1.1em;\n\t::before {\n\t\tpadding-top: ${videoRatio}%;\n\t}\n`;\nconst captionLink = (palette) => css `\n\ta {\n\t\tcolor: ${palette.text.captionLink};\n\t\ttext-decoration: none;\n\t}\n\ta:hover {\n\t\ttext-decoration: underline;\n\t}\n\tstrong {\n\t\tfont-weight: bold;\n\t}\n`;\nconst CameraIcon = ({ palette, format }) => {\n    return (_jsx(\"span\", { css: [\n            iconStyle(palette),\n            format.display === ArticleDisplay.Immersive &&\n                hideIconBelowLeftCol,\n        ], children: _jsx(CameraSvg, {}) }));\n};\nconst VideoIcon = ({ palette, format }) => {\n    return (_jsx(\"span\", { css: [\n            iconStyle(palette),\n            format.display === ArticleDisplay.Immersive &&\n                hideIconBelowLeftCol,\n            videoIconStyle,\n        ], children: _jsx(VideoSvg, {}) }));\n};\nexport const Caption = ({ captionText, format, padCaption = false, credit, displayCredit = true, shouldLimitWidth = false, isOverlaid, isLeftCol, mediaType = 'Gallery', isMainMedia = false, }) => {\n    // Sometimes captions come thorough as a single blank space, so we trim here to ignore those\n    const noCaption = !captionText?.trim();\n    const noCredit = !credit;\n    const hideCredit = !displayCredit;\n    if (noCaption && (noCredit || hideCredit))\n        return null;\n    const palette = decidePalette(format);\n    const isBlog = format.design === ArticleDesign.LiveBlog ||\n        format.design === ArticleDesign.DeadBlog;\n    const defaultCaption = (_jsxs(\"figcaption\", { css: [\n            captionStyle(palette),\n            shouldLimitWidth && limitedWidth,\n            isOverlaid\n                ? overlaidStyles(palette, format)\n                : bottomMarginStyles,\n            isMainMedia && isBlog && tabletCaptionPadding,\n            padCaption && captionPadding,\n            mediaType === 'Video' && videoPadding,\n        ], children: [mediaType === 'Video' ? (_jsx(VideoIcon, { palette: palette, format: format })) : (_jsx(CameraIcon, { palette: palette, format: format })), !!captionText && (_jsx(\"span\", { css: captionLink(palette), dangerouslySetInnerHTML: {\n                    __html: captionText || '',\n                } }, \"caption\")), !!credit && displayCredit && ` ${credit}`] }));\n    switch (format.design) {\n        case ArticleDesign.PhotoEssay:\n            if (format.theme === ArticleSpecial.Labs && isLeftCol) {\n                return defaultCaption;\n            }\n            return (_jsxs(\"figcaption\", { css: [\n                    css `\n\t\t\t\t\t\t\t${textSans.xxsmall({ lineHeight: 'tight' })};\n\t\t\t\t\t\t\tcolor: ${palette.text.caption};\n\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\tmargin-top: ${space[3]}px;\n\t\t\t\t\t\t\tli:not(:first-child) {\n\t\t\t\t\t\t\t\tmargin-top: ${space[3]}px;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tli {\n\t\t\t\t\t\t\t\tpadding-top: ${space[2]}px;\n\t\t\t\t\t\t\t\tborder-top: 1px solid ${palette.text.caption};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t`,\n                    bottomMarginStyles,\n                    padCaption && captionPadding,\n                    shouldLimitWidth && veryLimitedWidth,\n                    shouldLimitWidth && bigLeftMargin,\n                ], children: [!!captionText && (_jsx(\"span\", { css: captionLink(palette), dangerouslySetInnerHTML: {\n                            __html: captionText || '',\n                        } }, \"caption\")), !!credit && displayCredit && ` ${credit}`] }));\n        default:\n            return defaultCaption;\n    }\n};\n","import { jsx as _jsx } from \"@emotion/react/jsx-runtime\";\nimport { css } from '@emotion/react';\nimport { ArticleDesign } from '@guardian/libs';\nimport { from, space, until } from '@guardian/source-foundations';\nconst roleCss = {\n    inline: css `\n\t\tmargin-top: ${space[3]}px;\n\t\tmargin-bottom: ${space[3]}px;\n\t`,\n    supporting: css `\n\t\tclear: left;\n\t\tmargin-top: ${space[3]}px;\n\t\tmargin-bottom: ${space[3]}px;\n\t\t${from.tablet} {\n\t\t\tposition: relative;\n\t\t\tfloat: left;\n\t\t\twidth: 300px;\n\t\t\tmargin-right: 20px;\n\t\t\tline-height: 0;\n\t\t\tmargin-top: ${space[2]}px;\n\t\t}\n\t\t${from.leftCol} {\n\t\t\tmargin-left: -160px;\n\t\t}\n\t\t${from.wide} {\n\t\t\twidth: 380px;\n\t\t\tmargin-left: -240px;\n\t\t}\n\t`,\n    immersive: css `\n\t\tmargin-top: ${space[3]}px;\n\t\tmargin-bottom: ${space[3]}px;\n\t\t${until.tablet} {\n\t\t\tmargin-left: -20px;\n\t\t\tmargin-right: -20px;\n\t\t}\n\t\t${until.mobileLandscape} {\n\t\t\tmargin-left: -10px;\n\t\t\tmargin-right: -10px;\n\t\t}\n\t\t${from.tablet} {\n\t\t\tmargin-left: -20px;\n\t\t\tmargin-right: -100px;\n\t\t}\n\t\t${from.desktop} {\n\t\t\tmargin-left: -20px;\n\t\t\tmargin-right: -340px;\n\t\t}\n\t\t${from.leftCol} {\n\t\t\tmargin-left: -160px;\n\t\t\tmargin-right: -320px;\n\t\t}\n\t\t${from.wide} {\n\t\t\tmargin-left: -240px;\n\t\t\tmargin-right: -400px;\n\t\t}\n\t`,\n    showcase: css `\n\t\tmargin-top: ${space[3]}px;\n\t\tmargin-bottom: ${space[3]}px;\n\t\tposition: relative;\n\t\t${from.leftCol} {\n\t\t\tmargin-left: -160px;\n\t\t}\n\t\t${from.wide} {\n\t\t\tmargin-left: -240px;\n\t\t}\n\t`,\n    thumbnail: css `\n\t\tmargin-top: ${space[2]}px;\n\t\tmargin-bottom: ${space[2]}px;\n\t\tfloat: left;\n\t\tclear: left;\n\t\twidth: 120px;\n\t\tmargin-right: 20px;\n\t\t${from.tablet} {\n\t\t\twidth: 140px;\n\t\t}\n\t\t${from.wide} {\n\t\t\tmargin-left: -240px;\n\t\t}\n\t\t${from.leftCol} {\n\t\t\tposition: relative;\n\t\t\tmargin-left: -160px;\n\t\t}\n\t`,\n    // This is a special use case where we want RichLinks to appear wider when in the left col\n    richLink: css `\n\t\tmargin-bottom: ${space[1]}px;\n\t\tfloat: left;\n\t\tclear: left;\n\t\twidth: 140px;\n\t\tmargin-right: 20px;\n\t\t${from.tablet} {\n\t\t\twidth: 140px;\n\t\t}\n\t\t${from.leftCol} {\n\t\t\tposition: relative;\n\t\t\tmargin-left: -160px;\n\t\t\twidth: 140px;\n\t\t}\n\t\t${from.wide} {\n\t\t\tmargin-left: -240px;\n\t\t\twidth: 220px;\n\t\t}\n\t`,\n    halfWidth: css `\n\t\tmargin-top: ${space[3]}px;\n\t\tmargin-bottom: ${space[3]}px;\n\t\twidth: 50%;\n\t\tfloat: left;\n\t\tclear: left;\n\t\tmargin-right: 16px;\n\t`,\n};\n// Used for vast majority of layouts.\nexport const defaultRoleStyles = (role, format) => {\n    switch (role) {\n        case 'inline':\n            return roleCss.inline;\n        case 'supporting':\n            return roleCss.supporting;\n        case 'immersive':\n            return roleCss.immersive;\n        case 'showcase':\n            return roleCss.showcase;\n        case 'thumbnail':\n            switch (format.design) {\n                case ArticleDesign.LiveBlog:\n                case ArticleDesign.DeadBlog:\n                    // In blogs we don't want to use negative left margins\n                    return css `\n\t\t\t\t\t\t${roleCss.thumbnail}\n\t\t\t\t\t\t/* It's important we use the media query here to ensure we override the default values */\n\t\t\t\t\t\t${from.leftCol} {\n\t\t\t\t\t\t\tmargin-left: 0px;\n\t\t\t\t\t\t}\n\t\t\t\t\t`;\n                default:\n                    return roleCss.thumbnail;\n            }\n        case 'richLink':\n            return roleCss.richLink;\n        case 'halfWidth':\n            return roleCss.halfWidth;\n        default:\n            return roleCss.inline;\n    }\n};\nconst mainMediaFigureStyles = css `\n\theight: 100%;\n`;\nexport const Figure = ({ role = 'inline', format, children, id, isMainMedia, className = '', type, }) => {\n    if (isMainMedia) {\n        // Don't add in-body styles for main media elements\n        // TODO: If we want to support other element types having role position, such\n        // as showcase twitter embeds, then we should remove the role positioning which\n        // currently lives in ImageComponent and hoist it up to here, the same as we're\n        // doing using decidePosition for in-body elements\n        return (_jsx(\"figure\", { id: id, css: mainMediaFigureStyles, children: children }, id));\n    }\n    return (_jsx(\"figure\", { id: id, css: defaultRoleStyles(role, format), \"data-spacefinder-role\": role, \"data-spacefinder-type\": type, className: className, children: children }));\n};\n","import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nimport { css } from '@emotion/react';\nimport { ArticleSpecial } from '@guardian/libs';\nimport { body, space, textSans } from '@guardian/source-foundations';\nimport libDebounce from 'lodash.debounce';\nimport { useRef, useState } from 'react';\nimport { interactiveLegacyFigureClasses } from '../layouts/lib/interactiveLegacyStyling';\nimport { decidePalette } from '../lib/decidePalette';\nimport { useOnce } from '../lib/useOnce';\nimport { Caption } from './Caption';\nimport { defaultRoleStyles } from './Figure';\nimport { Placeholder } from './Placeholder';\n/*\nHISTORY\n\nA CAPI response for an interactive elements looks like:\n{\n    \"type\": \"interactive\",\n    \"assets\": [],\n    \"interactiveTypeData\": {\n        \"originalUrl\": \"https://interactive.guim.co.uk/charts/embed/jan/2019-01-05T14:22:01/embed.html\",\n        \"source\": \"Guardian\",\n        \"alt\": \"china 1978 gdp\",\n        \"scriptUrl\": \"https://interactive.guim.co.uk/embed/iframe-wrapper/0.1/boot.js\",\n        \"html\": \"<a href=\\\"https://interactive.guim.co.uk/charts/embed/jan/2019-01-05T14:22:01/embed.html\\\">china 1978 gdp</a>\",\n        \"scriptName\": \"iframe-wrapper\",\n        \"iframeUrl\": \"https://interactive.guim.co.uk/charts/embed/jan/2019-01-05T14:22:01/embed.html\",\n        \"role\": \"supporting\",\n        \"isMandatory\": false\n        }\n}\n\nOn Frontend, the HTML that we send to the browser is:\n<figure class=\"element element-interactive interactive element--supporting\" data-interactive=\"https://interactive.guim.co.uk/embed/iframe-wrapper/0.1/boot.js\" data-canonical-url=\"https://interactive.guim.co.uk/charts/embed/jan/2019-01-05T14:22:01/embed.html\" data-alt=\"china 1978 gdp\">\n    <a href=\"https://interactive.guim.co.uk/charts/embed/jan/2019-01-05T14:22:01/embed.html\" data-link-name=\"in body link\" class=\"u-underline\">china 1978 gdp</a>\n</figure>\n\nhttps://github.com/guardian/frontend/blob/e38da96c59eaaef143b9f89b2318eab9dcf2fc5a/common/app/views/fragments/inlineJSNonBlocking.scala.html#L52\nWe use the curl AMD loader to load the boot script from the data-interactive attribute:\n    require([el.getAttribute('data-interactive')], function (interactive) {\n        interactive.boot(el, document, window.guardian.config);\n    }\n\nPulling from Kibana, 99% of articles use the standard iframe-wrapper/1.0/boot.js\nA vast minority of pre interactive atom use a customised boot.js\nhttps://gist.github.com/gtrufitt/c8f08caef0ae810a42fde5a4c0549ad0\n\n\nTHE STANDARD BOOT.js\nboot.js is defined from https://github.com/guardian/interactive-boot-scripts/blob/master/iframe-wrapper/boot.js\nand is sent with all interactive elements in the scriptUrl from CAPI to do a two simple things:\n- Create an iframe using the href of the anchor and set the src\n- Add event listener to the window to listen for 'message' of the following types\n    - set-height\n    - navigate\n    - scroll-to\n    - get-location\n    - get-position\n    - monitor-position\n\nIt has not been updated since 2016.\n\nMIGRATION FROM FRONTEND\n- For the standard boot.js, we have re-written the behavior in modern JS to avoid the requirement of an AMD loader\nand to avoid loading the boot.js file.\n- For all other files that do not load the standard boot.js, we'll add a AMD loader to the page\n\nFor the remaining few we dynamically load and AMD loader and support the contract as defined with curl AMD loader\n\n*/\nconst decideHeight = (role) => {\n    switch (role) {\n        case 'supporting':\n            return 200;\n        default:\n            return 500;\n    }\n};\nconst getMinHeight = (role, loaded) => {\n    if (loaded) {\n        return `auto`;\n    }\n    return `${decideHeight(role)}px`;\n};\nconst wrapperStyle = ({ format, role, loaded, palette, }) => css `\n\t${format.theme === ArticleSpecial.Labs ? textSans.medium() : body.medium()};\n\tbackground-color: ${palette.background.article};\n\tmin-height: ${getMinHeight(role, loaded)};\n\tposition: relative;\n`;\nconst placeholderLinkStyle = css `\n\tposition: absolute;\n\tbottom: ${space[1]}px;\n\tleft: ${space[1]}px;\n`;\n// https://interactive.guim.co.uk/embed/iframe-wrapper/0.1/boot.js\nconst setupWindowListeners = (iframe) => {\n    // Calls func on trailing edge of the wait period\n    const postMessage = (message) => {\n        if (iframe.contentWindow) {\n            iframe.contentWindow.postMessage(JSON.stringify(message), '*');\n        }\n    };\n    window.addEventListener('message', (event) => {\n        if (event.source !== iframe.contentWindow) {\n            return;\n        }\n        let message;\n        try {\n            message = JSON.parse(event.data);\n        }\n        catch (e) {\n            window.guardian.modules.sentry.reportError(\n            // @ts-expect-error\n            e, 'Json parse Failed on in interactiveBlockComponent');\n        }\n        if (message === undefined) {\n            return;\n        }\n        const postPositionMessage = (subscribe) => {\n            const iframeBox = iframe.getBoundingClientRect();\n            postMessage({\n                id: message?.id || '',\n                type: message?.type || '',\n                subscribe: !!subscribe,\n                iframeTop: iframeBox.top,\n                iframeRight: iframeBox.right,\n                iframeBottom: iframeBox.bottom,\n                iframeLeft: iframeBox.left,\n                innerHeight: window.innerHeight,\n                innerWidth: window.innerWidth,\n                pageYOffset: window.pageYOffset,\n            });\n        };\n        // Actions\n        switch (message.type) {\n            case 'set-height':\n                if (typeof message.value === 'number') {\n                    iframe.height = message.value.toString();\n                }\n                break;\n            case 'navigate':\n                if (typeof message.value === 'string') {\n                    document.location.href = message.value;\n                }\n                break;\n            case 'scroll-to':\n                if (typeof message.x === 'number' &&\n                    typeof message.y === 'number') {\n                    window.scrollTo(message.x, message.y);\n                }\n                break;\n            case 'get-location':\n                postMessage({\n                    id: message.id,\n                    type: message.type,\n                    hash: window.location.hash,\n                    host: window.location.host,\n                    hostname: window.location.hostname,\n                    href: window.location.href,\n                    origin: window.location.origin,\n                    pathname: window.location.pathname,\n                    port: window.location.port,\n                    protocol: window.location.protocol,\n                    search: window.location.search,\n                });\n                break;\n            case 'get-position':\n                postPositionMessage();\n                break;\n            case 'monitor-position':\n                // Send initial position\n                postPositionMessage(true);\n                // Send updated position on scroll or resize\n                window.addEventListener('scroll', libDebounce(() => {\n                    postPositionMessage(true);\n                }, 50));\n                window.addEventListener('resize', libDebounce(() => {\n                    postPositionMessage(true);\n                }, 50));\n                break;\n        }\n    }, false);\n};\nexport const InteractiveBlockComponent = ({ url, scriptUrl, alt, role = 'inline', caption, format, elementId = '', isMainMedia, }) => {\n    const wrapperRef = useRef(null);\n    const placeholderLinkRef = useRef(null);\n    const [loaded, setLoaded] = useState(false);\n    const palette = decidePalette(format);\n    useOnce(() => {\n        // We've brought the behavior from boot.js into this file to avoid loading 2 extra scripts\n        if (scriptUrl ===\n            'https://interactive.guim.co.uk/embed/iframe-wrapper/0.1/boot.js' &&\n            url &&\n            placeholderLinkRef.current) {\n            const iframe = document.createElement('iframe');\n            iframe.style.width = '100%';\n            iframe.style.border = 'none';\n            iframe.height = decideHeight(role).toString();\n            iframe.title = caption ?? alt ?? 'Interactive Content';\n            if (url.startsWith('http:')) {\n                iframe.src = url.replace('http:', 'https:');\n            }\n            else {\n                iframe.src = url;\n            }\n            setupWindowListeners(iframe);\n            wrapperRef.current?.appendChild(iframe);\n            setLoaded(true);\n        }\n        else if (scriptUrl) {\n            // We're going to use curl AMD loader to load the script that the\n            // interactive has given us.\n            window.require([scriptUrl], (interactive) => {\n                if (wrapperRef.current !== null) {\n                    interactive.boot(wrapperRef.current, document, window.guardian.config);\n                }\n            });\n            setLoaded(true);\n        }\n    }, [loaded]);\n    return (_jsxs(_Fragment, { children: [_jsx(\"figure\", { id: elementId, ref: wrapperRef, css: [\n                    defaultRoleStyles(role, format),\n                    wrapperStyle({ format, role, loaded, palette }),\n                ], className: interactiveLegacyFigureClasses('model.dotcomrendering.pageElements.InteractiveBlockElement', role), \"data-alt\": alt, \"data-cypress\": `interactive-element-${encodeURI(alt ?? '')}`, \"data-spacefinder-role\": role, children: !loaded && (_jsxs(_Fragment, { children: [_jsx(Placeholder // removed by HydrateInteractiveOnce\n                        , { height: decideHeight(role), shouldShimmer: false }), _jsx(\"a\", { ref: placeholderLinkRef, \"data-name\": \"placeholder\" // removed by HydrateInteractiveOnce\n                            , css: placeholderLinkStyle, href: url, children: alt })] })) }), !!caption && (_jsx(Caption, { captionText: caption, format: format, isMainMedia: isMainMedia }))] }));\n};\n","import { jsx as _jsx } from \"@emotion/react/jsx-runtime\";\nimport { css, keyframes } from '@emotion/react';\nimport { neutral, space } from '@guardian/source-foundations';\nconst BACKGROUND_COLOUR = neutral[93];\nconst shimmer = keyframes `\n  0% {\n    background-position: -1500px 0;\n  }\n  100% {\n    background-position: 1500px 0;\n  }\n`;\nconst shimmerStyles = (backgroundColor) => css `\n\tanimation: ${shimmer} 2s infinite linear;\n\tbackground: linear-gradient(\n\t\tto right,\n\t\t${backgroundColor} 4%,\n\t\twhite 25%,\n\t\t${backgroundColor} 36%\n\t);\n\tbackground-size: 1500px 100%;\n`;\nexport const Placeholder = ({ height, rootId, width, spaceBelow, spaceLeft, shouldShimmer = true, backgroundColor = BACKGROUND_COLOUR, }) => (_jsx(\"div\", { id: rootId, css: css `\n\t\t\tflex-grow: 1;\n\t\t`, \"data-name\": \"placeholder\", children: _jsx(\"div\", { css: css `\n\t\t\t\theight: ${height}px;\n\t\t\t\twidth: ${width !== undefined ? `${width}px` : '100%'};\n\t\t\t\tmargin-bottom: ${spaceBelow && space[spaceBelow]}px;\n\t\t\t\tmargin-left: ${spaceLeft && space[spaceLeft]}px;\n\t\t\t\tbackground-color: ${backgroundColor};\n\n\t\t\t\t${shouldShimmer && shimmerStyles(backgroundColor)}\n\t\t\t` }) }));\n","import { css } from '@emotion/react';\nimport { ArticleDesign } from '@guardian/libs';\nimport { from, until } from '@guardian/source-foundations';\nimport { center } from '../../lib/center';\nexport const isInteractive = (design) => design === ArticleDesign.Interactive;\nexport const interactiveLegacyFigureClasses = (elementType, role) => {\n    const elementClasses = {\n        'model.dotcomrendering.pageElements.InteractiveAtomBlockElement': 'element-atom',\n        'model.dotcomrendering.pageElements.InteractiveBlockElement': 'element-interactive',\n    };\n    const roleClass = role ? ` element-${role}` : '';\n    const elementClass = elementClasses[elementType] ?? '';\n    const legacyRoleClass = role ? ` element--${role}` : '';\n    return `element ${elementClass}${legacyRoleClass}${roleClass}`;\n};\n// Classes present in Frontend that we add for legacy interactives.\nexport const interactiveLegacyClasses = {\n    contentInteractive: 'content--interactive',\n    contentLabels: 'content__labels',\n    contentLabelsNotImmersive: 'content__labels--not-immersive',\n    contentMainColumn: 'content__main-column--interactive',\n    headline: 'content__headline',\n    labelLink: 'content__label__link',\n    metaContainer: 'content__meta-container_dcr',\n    standFirst: 'content__standfirst',\n    byline: 'byline',\n    shareIcons: 'meta__social',\n    shareAndCommentCounts: 'meta__comment',\n    // some legacy interactives do not use the content--interactive container\n    // to ensure all editorial content has correct font, we need to target this too\n    interactiveWrapper: 'interactive-wrapper',\n};\n// Styles expected by interactives from the Frontend days. These shouldn't be\n// used for new interactives though.\nexport const interactiveGlobalStyles = css `\n\t/* Scope this as tightly as possible. Otherwise, e.g. box-model will break\n\tfooter. */\n\tbody article {\n\t\t*:before,\n\t\t*:after {\n\t\t\tbox-sizing: content-box;\n\t\t}\n\n\t\t.fc-container__inner,\n\t\t.gs-container {\n\t\t\t${center}\n\t\t}\n\n\t\t/* There is room for better solution where we don't have to load global styles onto the body.\n\t\t\tFor now this works, but we shouldn't support for it for newly made interactives. */\n\t\t.${interactiveLegacyClasses.contentInteractive},\n\t\t\t.${interactiveLegacyClasses.interactiveWrapper} {\n\t\t\tmargin-bottom: 1rem;\n\n\t\t\t/* stylelint-disable */\n\t\t\tfont-family: GuardianTextEgyptian, Guardian Text Egyptian Web,\n\t\t\t\tGeorgia, serif;\n\t\t\t/* stylelint-enable */\n\n\t\t\tfont-size: 1.0625rem;\n\t\t\tline-height: 1.5;\n\t\t\tfont-weight: 400;\n\t\t}\n\n\t\tbutton,\n\t\tinput,\n\t\toptgroup,\n\t\tselect,\n\t\ttextarea {\n\t\t\tcolor: inherit;\n\t\t}\n\n\t\tbutton,\n\t\thtml input[type='button'],\n\t\tinput[type='reset'],\n\t\tinput[type='submit'] {\n\t\t\tcursor: pointer;\n\t\t}\n\n\t\t/* Start social icon support */\n\t\t.meta__social {\n\t\t\tpadding-top: 0.375rem;\n\t\t}\n\n\t\t.social__item {\n\t\t\tfloat: left;\n\t\t\tmin-width: 2rem;\n\t\t\tpadding: 0 0.1875rem 0.375rem 0;\n\t\t\tcursor: pointer;\n\n\t\t\t.inline-icon__fallback {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\n\t\t\t.inline-icon {\n\t\t\t\tbackground-color: transparent;\n\t\t\t\tborder: 1px solid #dcdcdc; /* stylelint-disable-line */\n\t\t\t\ttransition: fill 0.3s ease, background-color 0.3s ease;\n\t\t\t}\n\n\t\t\t.social-icon {\n\t\t\t\twhite-space: nowrap;\n\t\t\t\toverflow: hidden;\n\t\t\t\ttext-overflow: ellipsis;\n\t\t\t\tborder: 0;\n\t\t\t\tmin-width: 2rem;\n\t\t\t\tmax-width: 100%;\n\t\t\t\twidth: auto;\n\t\t\t\theight: 2rem;\n\t\t\t\tsvg {\n\t\t\t\t\theight: 88%;\n\t\t\t\t\twidth: 88%;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t.rounded-icon {\n\t\t\t\tborder-radius: 62.5rem;\n\t\t\t\tdisplay: inline-block;\n\t\t\t\tvertical-align: middle;\n\t\t\t\tposition: relative;\n\t\t\t}\n\n\t\t\t.centered-icon svg {\n\t\t\t\ttop: 0;\n\t\t\t\tbottom: 0;\n\t\t\t\tright: 0;\n\t\t\t\tleft: 0;\n\t\t\t\tmargin: auto;\n\t\t\t\tposition: absolute;\n\t\t\t}\n\t\t}\n\n\t\t.content__dateline {\n\t\t\tfont-size: 0.75rem;\n\t\t\tline-height: 1rem;\n\t\t\tposition: relative;\n\t\t\tbox-sizing: border-box;\n\t\t\tpadding-top: 0.125rem;\n\t\t\tmargin-bottom: 0.375rem;\n\t\t}\n\t\t/* End social icon support */\n\n\t\t/* Typically required for ad display. */\n\t\t${until.tablet} {\n\t\t\t.hide-until-tablet {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\n\t\t${from.tablet} {\n\t\t\t.mobile-only {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\n\t\t.interactive-atom {\n\t\t\tposition: relative;\n\t\t}\n\n\t\tol,\n\t\tul {\n\t\t\tpadding: 0;\n\t\t\tmargin-left: 1.5625rem;\n\t\t}\n\t}\n`;\n","import { css } from '@emotion/react';\nimport { from } from '@guardian/source-foundations';\nexport const center = css `\n\tposition: relative;\n\tmargin: auto;\n\n\t${from.tablet} {\n\t\tmax-width: 740px;\n\t}\n\n\t${from.desktop} {\n\t\tmax-width: 980px;\n\t}\n\n\t${from.leftCol} {\n\t\tmax-width: 1140px;\n\t}\n\n\t${from.wide} {\n\t\tmax-width: 1300px;\n\t}\n`;\n","import { useEffect, useState } from 'react';\n/**\n * Ensures that the given task is only run once and only after all items in waitFor are defined\n * @param {Function} task - The task to execute once\n * @param {Array} waitFor - An array of variables that must be defined before the task is executed\n * */\nexport const useOnce = (task, waitFor) => {\n    const [alreadyRun, setAlreadyRun] = useState(false);\n    const isReady = waitFor.every((dep) => dep !== undefined);\n    useEffect(() => {\n        if (!alreadyRun && isReady) {\n            task();\n            setAlreadyRun(true);\n        }\n    }, [alreadyRun, isReady, task]);\n};\n","\nmodule.exports = {\"attributes\":{\"width\":\"18\",\"height\":\"13\",\"viewBox\":\"0 0 18 13\"},\"content\":\"<path d=\\\"M18 3.5v8l-1.5 1.5h-15l-1.5-1.5v-8l1.5-1.5h3.5l2-2h4l2 2h3.5l1.5 1.5zm-9 7.5c1.9 0 3.5-1.6 3.5-3.5s-1.6-3.5-3.5-3.5-3.5 1.6-3.5 3.5 1.6 3.5 3.5 3.5z\\\"/>\"}\nvar desvg = require('@kossnocorp/desvg/react')\nmodule.exports = desvg(module.exports)\n","\nmodule.exports = {\"attributes\":{\"width\":\"36\",\"height\":\"23\",\"viewBox\":\"0 0 36 23\"},\"content\":\"<path d=\\\"M3.2 0l-3.2 3.3v16.4l3.3 3.3h18.7v-23h-18.8m30.4 1l-8.6 8v5l8.6 8h2.4v-21h-2.4\\\"/>\"}\nvar desvg = require('@kossnocorp/desvg/react')\nmodule.exports = desvg(module.exports)\n"],"names":["captionStyle","palette","css","textSans","text","caption","bottomMarginStyles","overlaidStyles","format","overlaidCaption","display","ArticleDisplay","design","ArticleDesign","overlaidBottomPadding","limitedWidth","from","veryLimitedWidth","captionPadding","tabletCaptionPadding","until","videoPadding","between","space","bigLeftMargin","hideIconBelowLeftCol","iconStyle","fill","cameraCaptionIcon","videoIconStyle","captionLink","CameraIcon","_jsx","children","CameraSvg","VideoIcon","VideoSvg","Caption","captionText","padCaption","credit","displayCredit","shouldLimitWidth","isOverlaid","isLeftCol","mediaType","isMainMedia","trim","decidePalette","isBlog","defaultCaption","_jsxs","dangerouslySetInnerHTML","__html","theme","ArticleSpecial","lineHeight","roleCss","inline","supporting","immersive","showcase","thumbnail","richLink","halfWidth","defaultRoleStyles","role","decideHeight","wrapperStyle","loaded","body","background","article","getMinHeight","placeholderLinkStyle","InteractiveBlockComponent","url","scriptUrl","alt","elementId","wrapperRef","useRef","placeholderLinkRef","useState","setLoaded","useOnce","current","iframe","document","createElement","style","width","border","height","toString","title","startsWith","src","replace","postMessage","message","contentWindow","JSON","stringify","window","addEventListener","event","source","parse","data","e","guardian","modules","sentry","reportError","undefined","postPositionMessage","subscribe","iframeBox","getBoundingClientRect","id","type","iframeTop","top","iframeRight","right","iframeBottom","bottom","iframeLeft","left","innerHeight","innerWidth","pageYOffset","value","location","href","x","y","scrollTo","hash","host","hostname","origin","pathname","port","protocol","search","libDebounce","setupWindowListeners","appendChild","require","interactive","boot","config","_Fragment","ref","className","interactiveLegacyFigureClasses","encodeURI","Placeholder","shouldShimmer","BACKGROUND_COLOUR","neutral","shimmer","keyframes","shimmerStyles","backgroundColor","rootId","spaceBelow","spaceLeft","elementType","roleClass","elementClass","legacyRoleClass","interactiveLegacyClasses","contentInteractive","contentLabels","contentLabelsNotImmersive","contentMainColumn","headline","labelLink","metaContainer","standFirst","byline","shareIcons","shareAndCommentCounts","interactiveWrapper","center","task","waitFor","alreadyRun","setAlreadyRun","isReady","every","dep","useEffect","module","exports","desvg"],"sourceRoot":""}