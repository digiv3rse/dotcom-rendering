{"version":3,"file":"CalloutEmbedBlockComponent-importable.legacy.cf2ee27209e679a44bd5.js","mappings":"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","sources":["webpack://@guardian/dotcom-rendering/../node_modules/@kossnocorp/desvg/index.js","webpack://@guardian/dotcom-rendering/../node_modules/@kossnocorp/desvg/react.js","webpack://@guardian/dotcom-rendering/./src/web/lib/stringifyFileBase64.ts","webpack://@guardian/dotcom-rendering/./src/web/components/CalloutEmbed/FormFields/FieldLabel.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/CalloutEmbed/FormFields/FileUpload.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/CalloutEmbed/FormFields/CheckboxSelect.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/CalloutEmbed/FormFields/RadioSelect.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/CalloutEmbed/FormFields/MultiSelect.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/CalloutEmbed/FormFields/Select.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/CalloutEmbed/FormFields/TextArea.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/CalloutEmbed/FormFields/TextInput.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/CalloutEmbed/Form.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/CalloutEmbedBlockComponent.importable.tsx","webpack://@guardian/dotcom-rendering/../../../libs/@guardian/source-react-components/src/link/Link.tsx","webpack://@guardian/dotcom-rendering/../../../libs/@guardian/source-react-components/src/link/shared.tsx","webpack://@guardian/dotcom-rendering/../../../libs/@guardian/source-react-components/src/link/theme.ts","webpack://@guardian/dotcom-rendering/../../../libs/@guardian/source-react-components/src/link/styles.ts","webpack://@guardian/dotcom-rendering/./src/static/icons/minus.svg","webpack://@guardian/dotcom-rendering/./src/static/icons/plus.svg"],"sourcesContent":["module.exports = desvg\n\nfunction desvg (h, svg, props) {\n  props = props || {}\n\n  var content = svg.content\n  var attributes = svg.attributes\n\n  return function (props) {\n    return h(\n      'svg',\n      Object.assign(\n        { dangerouslySetInnerHTML: { __html: content } },\n        attributes,\n        props\n      ),\n      props && props.children\n    )\n  }\n}\n","var desvg = require('.')\nvar React = require('react')\n\nmodule.exports = desvg.bind(null, React.createElement.bind(React))\n","export const stringifyFileBase64 = (file) => new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.addEventListener('load', () => {\n        const fileAsBase64 = reader.result\n            ?.toString()\n            .split(';base64,')[1];\n        // remove data:*/*;base64, from the start of the base64 string\n        if (fileAsBase64) {\n            resolve(fileAsBase64);\n        }\n        else {\n            reject(new Error('Sorry there was a problem with the file you uploaded above. Check the size and type. We only accept images, pdfs and .doc or .docx files'));\n        }\n    }, false);\n    reader.addEventListener('error', () => {\n        reject(new Error('Sorry there was a problem with the file you uploaded above. Check the size and type. We only accept images, pdfs and .doc or .docx files'));\n    });\n    reader.readAsDataURL(file);\n});\n","import { jsx as _jsx, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nimport { css } from '@emotion/react';\nimport { neutral, textSans, visuallyHidden, } from '@guardian/source-foundations';\nconst fieldLabelStyles = css `\n\t${textSans.medium({ fontWeight: 'bold' })}\n`;\nconst fieldDescription = css `\n\t${textSans.medium()}\n`;\nconst optionalTextStyles = css `\n\t${textSans.small({ fontStyle: 'italic' })}\n\tcolor: ${neutral[46]};\n\tpadding-left: 5px;\n`;\nexport const FieldLabel = ({ formField, hideLabel }) => (_jsxs(\"label\", { css: [fieldLabelStyles, hideLabel && visuallyHidden], htmlFor: formField.name, hidden: formField.hideLabel, children: [formField.label, !formField.required && _jsx(\"span\", { css: optionalTextStyles, children: \"Optional\" }), !!formField.description && (_jsx(\"div\", { children: _jsx(\"span\", { css: fieldDescription, children: `${formField.description}` }) }))] }));\n","import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\n// File upload is the only legacy component that is still used on the old callout form\nimport { css } from '@emotion/react';\nimport { space, text, textSans } from '@guardian/source-foundations';\nimport { useState } from 'react';\nimport { stringifyFileBase64 } from '.././../../lib/stringifyFileBase64';\nimport { FieldLabel } from './FieldLabel';\nconst fileUploadInputStyles = css `\n\tpadding-top: 10px;\n\tpadding-bottom: 10px;\n`;\nconst errorMessagesStyles = css `\n\tpadding-top: ${space[2]}px;\n\tcolor: ${text.error};\n\t${textSans.small({ fontWeight: 'bold' })};\n`;\nexport const FileUpload = ({ formField, formData, setFormData }) => {\n    const [error, setError] = useState('');\n    const onSelectFile = async (event) => {\n        if (event.target.files?.[0]) {\n            setError('');\n            try {\n                const stringifiedFile = await stringifyFileBase64(event.target.files[0]);\n                setFormData({\n                    ...formData,\n                    [formField.id]: stringifiedFile,\n                });\n            }\n            catch (e) {\n                setError('Sorry there was a problem with the file you uploaded above. Check the size and type. We only accept images, pdfs and .doc or .docx files');\n            }\n        }\n    };\n    return (_jsxs(_Fragment, { children: [_jsx(FieldLabel, { formField: formField }), _jsx(\"input\", { \"data-testid\": `form-field-${formField.id}`, css: fileUploadInputStyles, type: \"file\", accept: \"image/*, .pdf\", required: formField.required, onChange: onSelectFile }), _jsx(\"p\", { children: \"We accept images and pdfs. Maximum total file size: 6MB\" }), !!error && _jsx(\"div\", { css: errorMessagesStyles, children: error })] }));\n};\n","import { jsx as _jsx, Fragment as _Fragment } from \"@emotion/react/jsx-runtime\";\nimport { Checkbox, CheckboxGroup } from '@guardian/source-react-components';\nexport const CheckboxSelect = ({ formField, formData, setFormData, validationErrors, }) => (_jsx(_Fragment, { children: _jsx(CheckboxGroup, { error: validationErrors?.[formField.id], hideLabel: formField.hideLabel, name: formField.name, label: formField.label, supporting: formField.description, children: formField.options.map((option, index) => {\n            // data related to this field is mapped to `formData` using `formField.id`\n            // We cannot assume that the data exists, so we need to check if `formField.id` key exists in `formData`\n            const selectedCheckboxesArray = formData[formField.id] ?? [];\n            const isCheckboxChecked = !!selectedCheckboxesArray.find((ele) => ele === option.value);\n            const filterOutCheckboxFromArray = () => selectedCheckboxesArray.filter((ele) => ele !== option.value);\n            const addCheckboxToArray = () => [\n                ...selectedCheckboxesArray,\n                option.value,\n            ];\n            return (_jsx(Checkbox, { \"data-testid\": `form-field-${option.value}`, label: option.label, value: option.value, checked: isCheckboxChecked, error: validationErrors?.[formField.id] ? true : false, onChange: () => {\n                    setFormData({\n                        ...formData,\n                        [formField.id]: isCheckboxChecked\n                            ? filterOutCheckboxFromArray()\n                            : addCheckboxToArray(),\n                    });\n                } }, index));\n        }) }) }));\n","import { jsx as _jsx, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nimport { css } from '@emotion/react';\nimport { Radio, RadioGroup } from '@guardian/source-react-components';\nimport { FieldLabel } from './FieldLabel';\nexport const RadioSelect = ({ validationErrors, formField, formData, setFormData, }) => (\n// work around to enforce `display: flex;` to `RadioGroup`'s fieldset tag\n// https://github.com/guardian/source/issues/580\n_jsxs(\"div\", { css: css `\n\t\t\tfieldset {\n\t\t\t\tdisplay: flex;\n\t\t\t}\n\t\t`, children: [_jsx(FieldLabel, { formField: formField }), _jsx(RadioGroup, { error: validationErrors?.[formField.id], name: formField.name, orientation: formField.options.length > 2 ? 'vertical' : 'horizontal', children: formField.options.map((option, index) => {\n                const isRadioChecked = formField.id in formData &&\n                    formData[formField.id] === option.value;\n                return (_jsx(Radio, { \"data-testid\": `form-field-${option.value}`, label: option.label, value: option.value, name: `${formField.id}`, checked: !!isRadioChecked, onChange: () => setFormData({\n                        ...formData,\n                        [formField.id]: option.value,\n                    }) }, index));\n            }) })] }));\n","import { jsx as _jsx } from \"@emotion/react/jsx-runtime\";\nimport { CheckboxSelect } from './CheckboxSelect';\nimport { RadioSelect } from './RadioSelect';\nexport const MultiSelect = ({ validationErrors, formField, formData, setFormData, multiple, }) => (_jsx(\"div\", { \"data-testid\": `form-field-${formField.id}`, children: multiple ? (_jsx(CheckboxSelect, { validationErrors: validationErrors ?? undefined, formField: formField, formData: formData, setFormData: setFormData })) : (_jsx(RadioSelect, { validationErrors: validationErrors ?? undefined, formField: formField, formData: formData, setFormData: setFormData })) }));\n","import { jsx as _jsx } from \"@emotion/react/jsx-runtime\";\nimport { Select as SourceSelect } from '@guardian/source-react-components';\nexport const Select = ({ validationErrors, formField, formData, setFormData, }) => (_jsx(SourceSelect, { hideLabel: formField.hideLabel, \"data-testid\": `form-field-${formField.id}`, error: validationErrors?.[formField.id], label: formField.label, supporting: formField.description, value: formData[formField.id] ?? '', onChange: (e) => setFormData({\n        ...formData,\n        [formField.id]: e.target.value,\n    }), optional: !formField.required, children: formField.options.map((option, index) => (_jsx(\"option\", { value: option.value, children: option.value }, index))) }));\n","import { jsx as _jsx, Fragment as _Fragment } from \"@emotion/react/jsx-runtime\";\nimport { css } from '@emotion/react';\nimport { space } from '@guardian/source-foundations';\nimport { TextArea as SourceTextArea } from '@guardian/source-react-components';\nconst textAreaStyles = css `\n\twidth: 100%;\n\tmargin-top: ${space[2]}px;\n`;\nexport const TextArea = ({ validationErrors, formField, formData, setFormData, }) => (_jsx(_Fragment, { children: _jsx(SourceTextArea, { hideLabel: formField.hideLabel, \"data-testid\": `form-field-${formField.id}`, label: formField.label, supporting: formField.description, css: textAreaStyles, optional: !formField.required, value: formField.id in formData ? formData[formField.id] : '', error: validationErrors?.[formField.id], onChange: (e) => setFormData({\n            ...formData,\n            [formField.id]: e.target.value,\n        }) }) }));\n","import { jsx as _jsx } from \"@emotion/react/jsx-runtime\";\nimport { css } from '@emotion/react';\nimport { space } from '@guardian/source-foundations';\nimport { TextInput as SourceTextInput } from '@guardian/source-react-components';\nconst textInputStyles = css `\n\tmargin-top: ${space[2]}px;\n`;\nexport const TextInput = ({ validationErrors, formField, formData, setFormData, }) => (_jsx(SourceTextInput, { hideLabel: formField.hideLabel, error: validationErrors?.[formField.id], css: textInputStyles, \"data-testid\": `form-field-${formField.id}`, type: formField.type, label: formField.label, supporting: formField.description, optional: !formField.required, value: formField.id in formData ? formData[formField.id] : '', onChange: (e) => setFormData({\n        ...formData,\n        [formField.id]: e.target.value,\n    }) }));\n","import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nimport { css } from '@emotion/react';\nimport { text, textSans } from '@guardian/source-foundations';\nimport { Button, Link } from '@guardian/source-react-components';\nimport { useState } from 'react';\nimport { FileUpload } from './FormFields/FileUpload';\nimport { MultiSelect } from './FormFields/MultiSelect';\nimport { Select } from './FormFields/Select';\nimport { TextArea } from './FormFields/TextArea';\nimport { TextInput } from './FormFields/TextInput';\nconst formStyles = css `\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: space-between;\n\tpadding-left: 10px;\n\tpadding-right: 10px;\n`;\nconst footerPaddingStyles = css `\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: space-between;\n\tpadding-bottom: 15px;\n`;\nconst errorMessagesStyles = css `\n\tpadding-bottom: 10px;\n\tcolor: ${text.error};\n\t${textSans.medium({ fontWeight: 'bold' })};\n`;\nconst formFieldWrapperStyles = css `\n\tdisplay: flex;\n\tflex-direction: column;\n`;\nconst FormField = ({ formField, formData, setFormData }) => {\n    switch (formField.type) {\n        case 'textarea':\n            return (_jsxs(_Fragment, { children: [_jsx(TextArea, { formField: formField, formData: formData, setFormData: setFormData }), _jsx(\"hr\", {})] }));\n        case 'file':\n            return (_jsxs(_Fragment, { children: [_jsx(FileUpload, { formField: formField, formData: formData, setFormData: setFormData }), _jsx(\"hr\", {})] }));\n        case 'select':\n            return (_jsxs(_Fragment, { children: [_jsx(Select, { formField: formField, formData: formData, setFormData: setFormData }), _jsx(\"hr\", {})] }));\n        case 'checkbox':\n        case 'radio':\n            return (_jsxs(_Fragment, { children: [_jsx(MultiSelect, { formField: formField, formData: formData, setFormData: setFormData, multiple: formField.type === 'checkbox' }), _jsx(\"hr\", {})] }));\n        default: {\n            return (_jsxs(_Fragment, { children: [_jsx(TextInput, { formField: formField, formData: formData, setFormData: setFormData }), _jsx(\"hr\", {})] }));\n        }\n    }\n};\nexport const Form = ({ onSubmit, formFields, error }) => {\n    const [twitterHandle, setTwitterHandle] = useState('');\n    const [formData, setFormData] = useState({});\n    return (_jsxs(\"form\", { action: \"/formstack-campaign/submit\", method: \"post\", css: formStyles, onSubmit: (e) => {\n            e.preventDefault();\n            onSubmit(formData);\n        }, children: [formFields.map((formField, index) => (_jsx(\"div\", { css: formFieldWrapperStyles, \"custom-guardian\": \"callout-form-field\", children: _jsx(FormField, { formField: formField, formData: formData, setFormData: setFormData }) }, index))), _jsx(\"div\", { css: css `\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\tleft: -62.5rem;\n\t\t\t\t`, \"aria-hidden\": \"true\", children: _jsx(\"input\", { name: \"twitter-handle\", type: \"text\", id: \"twitter-handle\", tabIndex: -1, placeholder: \"@mytwitterhandle\", value: twitterHandle, onChange: (e) => setTwitterHandle(e.target.value) }) }), !!error && _jsx(\"div\", { css: errorMessagesStyles, children: error }), _jsxs(\"div\", { css: footerPaddingStyles, children: [_jsx(Button, { priority: \"secondary\", size: \"xsmall\", type: \"submit\", children: \"Share with the Guardian\" }), _jsx(\"div\", { css: css `\n\t\t\t\t\t\ta,\n\t\t\t\t\t\ta:hover {\n\t\t\t\t\t\t\tborder: 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttext-align: right;\n\t\t\t\t\t`, children: _jsx(Link, { priority: \"secondary\", target: \"_blank\", rel: \"noreferrer\", href: \"https://www.theguardian.com/help/terms-of-service\", cssOverrides: css `\n\t\t\t\t\t\t\ttext-decoration: none;\n\t\t\t\t\t\t`, children: \"Terms and conditions\" }) })] })] }));\n};\n","import { jsx as _jsx, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nimport { css } from '@emotion/react';\nimport { brand, neutral, textSans } from '@guardian/source-foundations';\nimport { Button } from '@guardian/source-react-components';\nimport { useEffect, useState } from 'react';\nimport MinusIcon from '../../static/icons/minus.svg';\nimport PlusIcon from '../../static/icons/plus.svg';\nimport { decidePalette } from '../lib/decidePalette';\nimport { Form } from './CalloutEmbed/Form';\nconst wrapperStyles = css `\n\tmargin-bottom: 26px;\n\tmargin-top: 16px;\n`;\nconst calloutDetailsStyles = css `\n\tborder-top: 1px ${neutral[86]} solid;\n\tborder-bottom: 1px ${neutral[86]} solid;\n\tposition: relative;\n\tpadding-bottom: 10px;\n\n\t/* IE does not support summary HTML elements, so we need to hide children ourself */\n\t:not([open]) > *:not(summary) {\n\t\tdisplay: none;\n\t}\n`;\nconst backgroundColorStyle = css `\n\tbackground-color: ${neutral[97]};\n`;\nconst speechBubbleWrapperStyles = css `\n\tmargin-right: 10px;\n`;\nconst successTextStyles = css `\n\t${textSans.medium({ fontWeight: 'bold' })}\n`;\nconst summaryStyles = css `\n\t/* Removing default styles from summary tag */\n\t::-webkit-details-marker {\n\t\tdisplay: none;\n\t}\n\toutline: none;\n\n\t/* We don't want the summary to open when we click anything but the button, so we pointer-event: none the summary */\n\t/* 176da211-05aa-4280-859b-1e3157b3f19e */\n\tpointer-events: none;\n\n\t/*\n        why hide visibility?\n        because we want to prevent the user for tabbing to the summary HTML element\n        without using tabIndex={-1} which would disable focus on all child DOM elements\n\n        NOTE: requires \"visibility: visible;\" on child elements to display and enable focus\n    */\n\tvisibility: hidden;\n\n\ta {\n\t\t/* but we do want to allow click on links */\n\t\tpointer-events: all;\n\t}\n`;\nconst summaryContentWrapper = css `\n\tvisibility: visible;\n\tmin-height: 70px;\n\tdisplay: flex;\n\tflex-direction: row;\n`;\nconst speechBubbleStyles = (palette) => css `\n\t${textSans.medium({ fontWeight: 'bold' })}\n\tcolor: ${neutral[100]};\n\tbackground-color: ${palette.background.speechBubble};\n\tmin-width: 88px;\n\tpadding-bottom: 6px;\n\tpadding-left: 10px;\n\tpadding-right: 10px;\n\t::after {\n\t\tcontent: '';\n\t\twidth: 20px;\n\t\theight: 22px;\n\t\tborder-bottom-right-radius: 18px;\n\t\tposition: absolute;\n\t\tbackground-color: ${palette.background.speechBubble};\n\t}\n`;\nconst headingTextHeaderStyles = css `\n\t${textSans.medium({ fontWeight: 'bold' })}\n`;\nconst descriptionStyles = css `\n\t${textSans.xxsmall({ fontWeight: 'bold' })}\n`;\nconst headingTextStyles = css `\n\ta {\n\t\tcolor: ${brand[500]};\n\t\ttext-decoration: none;\n\t\t:hover {\n\t\t\ttext-decoration: underline;\n\t\t}\n\t}\n`;\nconst buttonWrapperStyles = css `\n\tposition: absolute;\n\tcursor: pointer;\n\tmargin-top: -5px;\n\n\tvisibility: visible;\n\n\t/* We need to ensure our pointer-events are turned back on on the button */\n\t/* 176da211-05aa-4280-859b-1e3157b3f19e */\n\tpointer-events: all;\n`;\n// Normally forms are in Modals, but here they are embedded into the page\n// we therefore need to only focus on expandFormButtonRef if the form has been closed\n// after it was opened\nlet hasFormBeenOpened = true;\n/**\n * # Callout Embed Block Component\n *\n * A callout to readers to share their stories.\n *\n * ## Why does this need to be an Island?\n *\n * We are responding to user interactions on the page,\n * and submitting a form via AJAX.\n *\n * ---\n * [`CalloutEmbedBlockComponent` on Chromatic](https://www.chromatic.com/component?appId=63e251470cfbe61776b0ef19&csfId=components-calloutembedblockcomponent)\n */\nexport const CalloutEmbedBlockComponent = ({ callout, format, }) => {\n    let expandFormButtonRef = null;\n    let firstFieldElementRef = null;\n    let lastElementRef = null;\n    const [isExpanded, setIsExpanded] = useState(false);\n    const [error, setError] = useState('');\n    const [submissionSuccess, setSubmissionSuccess] = useState(false);\n    const palette = decidePalette(format);\n    const { title, description, formFields } = callout;\n    const onSubmit = async (formData) => {\n        // Reset error for new submission attempt\n        setError('');\n        if (formData.twitterHandle) {\n            setError('Sorry we think you are a robot.');\n            return;\n        }\n        // need to add prefix `field_` to all keys in form\n        const formDataWithFieldPrefix = Object.keys(formData).reduce((acc, cur) => ({\n            ...acc,\n            [`field_${cur}`]: formData[cur],\n        }), {});\n        return fetch(callout.calloutsUrl, {\n            method: 'POST',\n            body: JSON.stringify({\n                formId: callout.formId,\n                // TODO: check if we need to send this\n                'twitter-handle': '',\n                ...formDataWithFieldPrefix,\n            }),\n            headers: {\n                'Content-Type': 'application/x-www-form-urlencoded',\n            },\n        })\n            .then((resp) => {\n            if (resp.status === 201) {\n                setSubmissionSuccess(true);\n                setIsExpanded(false);\n            }\n            else {\n                setError('Sorry, there was a problem submitting your form. Please try again later.');\n            }\n        })\n            .catch((respError) => {\n            window.guardian.modules.sentry.reportError(respError, 'callout-embed-submission');\n            setError('Sorry, there was a problem submitting your form. Please try again later.');\n        });\n    };\n    // ***************************\n    // *     Accessibility       *\n    // ***************************\n    useEffect(() => {\n        // we have to use document.querySelector to find DOM elements\n        // as Source library does not yet support react ref\n        // TODO: use `useRef` once supported in Source\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        expandFormButtonRef = document.querySelector('button[custom-guardian=\"callout-form-open-button\"]');\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        firstFieldElementRef = document.querySelector(`\n            *[custom-guardian=\"callout-form-field\"]:first-of-type input,\n            *[custom-guardian=\"callout-form-field\"]:first-of-type select\n        `);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        lastElementRef = document.querySelector('button[custom-guardian=\"callout-form-close-button\"]');\n        // lock shift to the form\n        const keyListener = (e) => {\n            // keyCode 9 is tab key\n            if (e.keyCode === 9) {\n                // If firstElement or lastElement are not defined, do not continue\n                if (!firstFieldElementRef || !lastElementRef)\n                    return;\n                // we use `e.shiftKey` internally to determin the direction of the highlighting\n                // using document.activeElement and e.shiftKey we can check what should be the next element to be highlighted\n                if (!e.shiftKey && document.activeElement === lastElementRef) {\n                    // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition -- it may be missing\n                    firstFieldElementRef?.focus();\n                    e.preventDefault();\n                }\n                if (e.shiftKey &&\n                    document.activeElement === firstFieldElementRef) {\n                    lastElementRef.focus(); // The shift key is down so loop focus back to the last item\n                    e.preventDefault();\n                }\n            }\n        };\n        document.addEventListener('keydown', keyListener);\n        return () => document.removeEventListener('keydown', keyListener);\n    }, [isExpanded]);\n    // on open form, focus on firstFieldElementRef\n    useEffect(() => {\n        if (isExpanded && firstFieldElementRef) {\n            firstFieldElementRef.focus();\n        }\n    }, [isExpanded, firstFieldElementRef]);\n    // on close form, focus on expandFormButtonRef\n    useEffect(() => {\n        if (!isExpanded && expandFormButtonRef && !hasFormBeenOpened) {\n            expandFormButtonRef.focus();\n        }\n    }, [isExpanded, expandFormButtonRef]);\n    // Normally forms are in Modals, but here they are embedded into the page\n    // we therefore need to only focus on expandFormButtonRef if the form has been closed\n    // after it was opened\n    useEffect(() => {\n        if (isExpanded) {\n            hasFormBeenOpened = false;\n        }\n    }, [isExpanded]);\n    // be able to close the form using the escape key for accessibility\n    useEffect(() => {\n        const keyListener = (e) => {\n            // keyCode 27 is the escape key, we want to be able to close the form using it\n            if (e.keyCode === 27) {\n                setIsExpanded(false);\n            }\n        };\n        if (isExpanded) {\n            document.addEventListener('keydown', keyListener);\n        }\n        return () => document.removeEventListener('keydown', keyListener);\n    }, [isExpanded, setIsExpanded]);\n    if (submissionSuccess) {\n        return (_jsx(\"figure\", { \"data-print-layout\": \"hide\", css: wrapperStyles, children: _jsx(\"details\", { css: [calloutDetailsStyles, backgroundColorStyle], \"aria-hidden\": true, open: isExpanded, children: _jsx(\"summary\", { css: summaryStyles, children: _jsxs(\"div\", { css: summaryContentWrapper, children: [_jsx(\"div\", { css: speechBubbleWrapperStyles, children: _jsx(\"div\", { css: speechBubbleStyles(palette), children: _jsx(\"h4\", { children: \"Share your story\" }) }) }), _jsx(\"div\", { css: headingTextStyles, children: _jsx(\"p\", { css: successTextStyles, children: \"Thank you for your contribution\" }) })] }) }) }) }));\n    }\n    return (_jsx(\"figure\", { \"data-print-layout\": \"hide\", css: wrapperStyles, children: _jsxs(\"details\", { css: [calloutDetailsStyles, isExpanded && backgroundColorStyle], \"aria-hidden\": true, open: isExpanded, children: [_jsxs(\"summary\", { css: summaryStyles, children: [_jsxs(\"div\", { css: summaryContentWrapper, children: [_jsx(\"div\", { css: speechBubbleWrapperStyles, children: _jsx(\"div\", { css: speechBubbleStyles(palette), children: _jsx(\"h4\", { children: \"Share your story\" }) }) }), _jsxs(\"div\", { css: headingTextStyles, children: [_jsx(\"h4\", { css: headingTextHeaderStyles, children: title }), !!description && (_jsx(\"div\", { css: descriptionStyles, dangerouslySetInnerHTML: {\n                                                __html: description,\n                                            } }))] })] }), !isExpanded && (_jsx(\"span\", { css: buttonWrapperStyles, \"aria-hidden\": \"true\", children: _jsx(Button, { css: css `\n\t\t\t\t\t\t\t\t\t/* TODO: need to find an nicer way of dynamically setting svg dimensions */\n\t\t\t\t\t\t\t\t\tsvg {\n\t\t\t\t\t\t\t\t\t\t/* stylelint-disable-next-line declaration-no-important */\n\t\t\t\t\t\t\t\t\t\twidth: 15px !important;\n\t\t\t\t\t\t\t\t\t\t/* stylelint-disable-next-line declaration-no-important */\n\t\t\t\t\t\t\t\t\t\theight: 15px !important;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t`, iconSide: \"left\", size: \"xsmall\", icon: _jsx(PlusIcon, {}), onClick: () => setIsExpanded(true), \"custom-guardian\": \"callout-form-open-button\", tabIndex: 0, children: \"Tell us\" }) }))] }), _jsx(Form, { formFields: formFields, onSubmit: onSubmit, error: error }), _jsx(\"span\", { css: buttonWrapperStyles, \"aria-hidden\": \"true\", children: isExpanded && (_jsx(Button, { iconSide: \"left\", size: \"xsmall\", icon: _jsx(MinusIcon, {}), onClick: () => setIsExpanded(false), \"custom-guardian\": \"callout-form-close-button\", children: \"Hide\" })) })] }) }));\n};\n","import type { EmotionJSX } from '@emotion/react/types/jsx-namespace';\nimport type { AnchorHTMLAttributes } from 'react';\nimport { linkContents } from './shared';\nimport { linkStyles } from './styles';\nimport type { SharedLinkProps } from './types';\n\nexport interface LinkProps\n\textends AnchorHTMLAttributes<HTMLAnchorElement>,\n\t\tSharedLinkProps {}\n\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/story/source-react-components_link--primary-link-default-theme) •\n * [Design System](https://theguardian.design/2a1e5182b/p/43c26b-link/b/048fd1) •\n * [GitHub](https://github.com/guardian/csnx/tree/main/libs/@guardian/source-react-components/src/link/Link.tsx) •\n * [NPM](https://www.npmjs.com/package/@guardian/source-react-components)\n *\n * Links are used as navigational aids. They may appear inline in a paragraph, as items in a list or as stand alone text elements.\n *\n * The following themes are supported: `light`, `brand`, `brandYellow`\n */\nexport const Link = ({\n\tpriority = 'primary',\n\ticon: iconSvg,\n\ticonSide = 'left',\n\tcssOverrides,\n\tchildren,\n\t...props\n}: LinkProps): EmotionJSX.Element => {\n\treturn (\n\t\t<a\n\t\t\tcss={linkStyles({\n\t\t\t\tpriority,\n\t\t\t\ticonSvg,\n\t\t\t\ticonSide,\n\t\t\t\tcssOverrides,\n\t\t\t})}\n\t\t\t{...props}\n\t\t>\n\t\t\t{linkContents({ children, iconSvg, iconSide })}\n\t\t</a>\n\t);\n};\n","import type { ReactElement, ReactNode } from 'react';\nimport { cloneElement, Fragment } from 'react';\nimport type { IconSide } from './types';\n\nexport const linkContents = ({\n\tchildren,\n\ticonSvg,\n\ticonSide,\n}: {\n\tchildren: ReactNode;\n\ticonSvg?: ReactElement;\n\ticonSide: IconSide;\n}): ReactNode[] => {\n\t// a bit of underlined space; the icon sits on top\n\tconst spacer = (\n\t\t<Fragment key=\"spacer\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</Fragment>\n\t);\n\tconst linkContents = [children];\n\n\tif (iconSvg) {\n\t\tif (iconSide === 'left') {\n\t\t\tlinkContents.unshift(spacer, cloneElement(iconSvg, { key: 'svg' }));\n\t\t} else {\n\t\t\tlinkContents.push(spacer, cloneElement(iconSvg, { key: 'svg' }));\n\t\t}\n\t}\n\n\treturn linkContents;\n};\n","import { palette } from '@guardian/source-foundations';\n\nexport type LinkTheme = {\n\ttextPrimary: string;\n\ttextPrimaryHover: string;\n\ttextSecondary?: string;\n\ttextSecondaryHover?: string;\n};\n\nexport const linkThemeDefault: { link: LinkTheme } = {\n\tlink: {\n\t\ttextPrimary: palette.brand[500],\n\t\ttextPrimaryHover: palette.brand[500],\n\t\ttextSecondary: palette.neutral[7],\n\t\ttextSecondaryHover: palette.neutral[7],\n\t},\n};\n\nexport const linkThemeBrand: { link: LinkTheme } = {\n\tlink: {\n\t\ttextPrimary: palette.neutral[100],\n\t\ttextPrimaryHover: palette.neutral[100],\n\t},\n};\n\nexport const linkThemeBrandAlt: { link: LinkTheme } = {\n\tlink: {\n\t\ttextPrimary: palette.neutral[7],\n\t\ttextPrimaryHover: palette.neutral[7],\n\t},\n};\n","import type { SerializedStyles } from '@emotion/react';\nimport { css } from '@emotion/react';\nimport {\n\tfocusHalo,\n\tspace,\n\ttextSans,\n\twidth,\n} from '@guardian/source-foundations';\nimport type { ReactElement } from 'react';\nimport type { Theme } from '../@types/Theme';\nimport type { LinkTheme } from './theme';\nimport { linkThemeDefault } from './theme';\nimport type { IconSide, LinkPriority } from './types';\n\nexport const link = css`\n\tposition: relative;\n\t${textSans.medium()};\n\tcursor: pointer;\n\ttext-decoration: underline;\n\ttext-underline-position: under;\n\ttext-underline-offset: 5%;\n\n\tdisplay: inline;\n\talign-items: center;\n\n\t&:focus {\n\t\t${focusHalo};\n\t}\n\n\t&:hover {\n\t\t/* If the hover text decoration thickness is not set, we default to the initial value. */\n\t\ttext-decoration-thickness: var(--source-text-decoration-thickness, auto);\n\t}\n`;\n\nexport const buttonLink = css`\n\t/* override user agent styles */\n\tborder: none;\n\tbackground: transparent;\n\tpadding: 0;\n`;\n\nexport const primary = (\n\tlink: LinkTheme = linkThemeDefault.link,\n): SerializedStyles => css`\n\tcolor: ${link.textPrimary};\n\n\t&:hover {\n\t\tcolor: ${link.textPrimaryHover};\n\t}\n`;\n\nexport const secondary = (\n\tlink: LinkTheme = linkThemeDefault.link,\n): SerializedStyles => css`\n\tcolor: ${link.textSecondary};\n\n\t&:hover {\n\t\tcolor: ${link.textSecondaryHover};\n\t}\n`;\n\nexport const icon = css`\n\tsvg {\n\t\tfill: currentColor;\n\t\t/*\n\t\tTODO: hardcoded bottom margin to vertically align\n\t\ticons with text. This needs to be revisited when\n\t\tthe rules of icon spacing have been formalised\n\t\t */\n\t\tmargin-bottom: -3px;\n\t\twidth: ${width.iconXsmall}px;\n\t\theight: auto;\n\t}\n`;\n\nexport const iconRight = css`\n\tsvg {\n\t\tmargin-left: -${space[5]}px;\n\t}\n`;\n\nexport const iconLeft = css`\n\tsvg {\n\t\tmargin-left: -${space[6]}px;\n\t\tmargin-right: ${space[1]}px;\n\t}\n`;\n\nconst priorities: {\n\t[key in LinkPriority]: (link?: LinkTheme) => SerializedStyles;\n} = {\n\tprimary,\n\tsecondary,\n};\n\nconst iconSides: {\n\t[key in IconSide]: SerializedStyles;\n} = {\n\tright: iconRight,\n\tleft: iconLeft,\n};\n\nexport const linkStyles = ({\n\tisButton,\n\tpriority,\n\ticonSvg,\n\ticonSide = 'left',\n\tcssOverrides,\n}: {\n\tisButton?: boolean;\n\tpriority: LinkPriority;\n\tisSubdued?: boolean;\n\ticonSvg?: ReactElement;\n\ticonSide?: IconSide;\n\tcssOverrides?: SerializedStyles | SerializedStyles[];\n}) => {\n\treturn (\n\t\ttheme: Theme,\n\t): Array<string | SerializedStyles | SerializedStyles[] | undefined> => [\n\t\tlink,\n\t\tisButton ? buttonLink : '',\n\t\tpriorities[priority](theme.link),\n\t\ticonSvg ? icon : '',\n\t\ticonSvg ? iconSides[iconSide] : '',\n\t\tcssOverrides,\n\t];\n};\n","\nmodule.exports = {\"attributes\":{\"viewBox\":\"0 0 32 32\"},\"content\":\"<rect x=\\\"5\\\" y=\\\"15\\\" width=\\\"22\\\" height=\\\"3\\\"></rect>\"}\nvar desvg = require('@kossnocorp/desvg/react')\nmodule.exports = desvg(module.exports)\n","\nmodule.exports = {\"attributes\":{\"width\":\"18\",\"height\":\"18\",\"viewBox\":\"0 0 18 18\"},\"content\":\"<path d=\\\"M8.2 0h1.6l.4 7.8 7.8.4v1.6l-7.8.4-.4 7.8H8.2l-.4-7.8L0 9.8V8.2l7.8-.4.4-7.8z\\\"/>\"}\nvar desvg = require('@kossnocorp/desvg/react')\nmodule.exports = desvg(module.exports)\n"],"names":["module","exports","h","svg","props","content","attributes","Object","assign","dangerouslySetInnerHTML","__html","children","desvg","React","bind","createElement","stringifyFileBase64","file","Promise","resolve","reject","reader","FileReader","addEventListener","fileAsBase64","result","toString","split","Error","readAsDataURL","fieldLabelStyles","css","textSans","fontWeight","fieldDescription","optionalTextStyles","fontStyle","neutral","FieldLabel","formField","hideLabel","_jsxs","visuallyHidden","htmlFor","name","hidden","label","required","_jsx","description","fileUploadInputStyles","errorMessagesStyles","space","text","FileUpload","formData","setFormData","useState","error","setError","onSelectFile","event","target","files","stringifiedFile","id","_Fragment","type","accept","onChange","CheckboxSelect","validationErrors","CheckboxGroup","supporting","options","map","option","index","selectedCheckboxesArray","isCheckboxChecked","find","ele","value","Checkbox","checked","filter","RadioSelect","RadioGroup","orientation","length","isRadioChecked","Radio","MultiSelect","multiple","undefined","Select","SourceSelect","e","optional","textAreaStyles","TextArea","SourceTextArea","textInputStyles","TextInput","SourceTextInput","formStyles","footerPaddingStyles","formFieldWrapperStyles","FormField","Form","onSubmit","formFields","twitterHandle","setTwitterHandle","action","method","preventDefault","tabIndex","placeholder","Button","priority","size","Link","rel","href","cssOverrides","wrapperStyles","calloutDetailsStyles","backgroundColorStyle","speechBubbleWrapperStyles","successTextStyles","summaryStyles","summaryContentWrapper","speechBubbleStyles","palette","background","speechBubble","headingTextHeaderStyles","descriptionStyles","headingTextStyles","brand","buttonWrapperStyles","hasFormBeenOpened","CalloutEmbedBlockComponent","callout","format","expandFormButtonRef","firstFieldElementRef","lastElementRef","isExpanded","setIsExpanded","submissionSuccess","setSubmissionSuccess","decidePalette","title","formDataWithFieldPrefix","keys","reduce","acc","cur","fetch","calloutsUrl","body","JSON","stringify","formId","headers","then","resp","status","catch","respError","window","guardian","modules","sentry","reportError","useEffect","document","querySelector","keyListener","keyCode","shiftKey","activeElement","focus","removeEventListener","open","iconSide","icon","PlusIcon","onClick","MinusIcon","jsx","linkStyles","iconSvg","linkContents","unshift","spacer","link","textPrimary","textPrimaryHover","textSecondary","textSecondaryHover","buttonLink","iconRight","iconLeft","priorities","primary","secondary","iconSides","right","left","isButton","theme"],"sourceRoot":""}