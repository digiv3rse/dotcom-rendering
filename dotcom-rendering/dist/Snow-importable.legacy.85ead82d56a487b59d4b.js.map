{"version":3,"file":"Snow-importable.legacy.85ead82d56a487b59d4b.js","mappings":"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","sources":["webpack://@guardian/dotcom-rendering/./src/web/components/Snow.importable.tsx","webpack://@guardian/dotcom-rendering/../../../libs/@guardian/source-foundations/src/accessibility/focus-halo.ts","webpack://@guardian/dotcom-rendering/../../../libs/@guardian/source-foundations/src/accessibility/visually-hidden.ts","webpack://@guardian/dotcom-rendering/../../../libs/@guardian/source-foundations/src/index.ts","webpack://@guardian/dotcom-rendering/../../../libs/@guardian/source-foundations/src/size/size.ts","webpack://@guardian/dotcom-rendering/../../../libs/@guardian/source-foundations/src/space/space.ts","webpack://@guardian/dotcom-rendering/../../../libs/@guardian/source-react-components/src/link/Link.tsx","webpack://@guardian/dotcom-rendering/../../../libs/@guardian/source-react-components/src/link/shared.tsx","webpack://@guardian/dotcom-rendering/../../../libs/@guardian/source-react-components/src/link/theme.ts","webpack://@guardian/dotcom-rendering/../../../libs/@guardian/source-react-components/src/link/styles.ts","webpack://@guardian/dotcom-rendering/../../../libs/@guardian/source-react-components/vendor/icons/SvgChevronDownSingle.tsx","webpack://@guardian/dotcom-rendering/../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","webpack://@guardian/dotcom-rendering/../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"],"sourcesContent":["import { jsx as _jsx, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nimport { css } from '@emotion/react';\nimport { body, neutral } from '@guardian/source-foundations';\nimport { Link, SvgChevronDownSingle } from '@guardian/source-react-components';\nimport { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nconst Snowflake = ({ name, radius }) => {\n    return (_jsx(\"div\", { className: \"snowflake\", \"data-name\": name, css: {\n            width: radius,\n            height: radius,\n            backgroundColor: 'white',\n            borderRadius: '100%',\n            position: 'absolute',\n            overflow: 'hidden',\n        } }));\n};\nconst linkStyle = css `\n\tcolor: ${neutral[100]};\n\t:hover {\n\t\tcolor: ${neutral[100]};\n\t}\n`;\nconst showMoreTextStyles = (open = false) => css `\n\tdisplay: block;\n\theight: 100%;\n\tsvg {\n\t\tposition: absolute;\n\t\tright: -25px;\n\t\ttop: 6px;\n\t\tfill: currentColor;\n\t\theight: 16px;\n\t\twidth: 16px;\n\t\ttransition: transform 250ms ease-out;\n\t\ttransform: ${open ? undefined : 'translateY(-2px) rotate(-180deg)'};\n\t}\n`;\nconst newFlake = (x, y, radius = 2, velocity = 1.0) => ({\n    x,\n    y,\n    radius,\n    velocity,\n    name: Math.random().toString(36).substring(7),\n});\nconst generateFlake = () => {\n    return newFlake(Math.random() * 100, Math.random() * 1, Math.random() * 15 + 2.0, Math.random() * 0.05 + 0.05);\n};\nexport const Snow = () => {\n    const [flakes, setFlakes] = useState(() => {\n        const initial = {};\n        for (let i = 0; i < 10; i++) {\n            const generatedFlake = generateFlake();\n            initial[generatedFlake.name] = generatedFlake;\n        }\n        return initial;\n    });\n    // Use useRef for mutable variables that we want to persist\n    // without triggering a re-render on their change\n    const requestRef = useRef();\n    const previousTimeRef = useRef();\n    const drift = useRef(2);\n    const renderLoop = (time) => {\n        if (previousTimeRef.current != undefined) {\n            const deltaTime = time - previousTimeRef.current;\n            // Decide a small random change in the direction of the wind.\n            const newDf = Math.random() * 0.1 - 0.05;\n            // A small chance each frame of the random change in wind direction being applied.\n            if (Math.random() * 0.5 < 0.05) {\n                drift.current += newDf;\n            }\n            setFlakes((previousFlakes) => {\n                for (const flakeName in previousFlakes) {\n                    const flake = flakes[flakeName];\n                    if (!flake) {\n                        continue;\n                    }\n                    const updatedFlake = { ...flake };\n                    // Apply the change in x and y coordinate for each snowflake.\n                    updatedFlake.x +=\n                        drift.current * (1 / flake.radius) * 0.04 * deltaTime;\n                    updatedFlake.y += flake.velocity * deltaTime;\n                    // 'teleport' each snowflake to the opposite side of the canvas\n                    // when it reaches a border.\n                    if (updatedFlake.x <= 0) {\n                        updatedFlake.x = 100;\n                    }\n                    else {\n                        updatedFlake.x %= 100;\n                    }\n                    updatedFlake.y %= 200;\n                    previousFlakes[flakeName] = updatedFlake;\n                }\n                document\n                    .querySelectorAll('.snowflake')\n                    .forEach((flake) => {\n                    const previousFlake = flake.dataset.name\n                        ? previousFlakes[flake.dataset.name]\n                        : undefined;\n                    if (previousFlake !== undefined) {\n                        flake.style.transform = `translate3d(${previousFlake.x}vw, ${previousFlake.y}px, 0.0)`;\n                    }\n                });\n                return previousFlakes;\n            });\n        }\n        previousTimeRef.current = time;\n        requestRef.current = requestAnimationFrame(renderLoop);\n    };\n    useEffect(() => {\n        requestRef.current = requestAnimationFrame(renderLoop);\n        return () => cancelAnimationFrame(requestRef.current ?? 0);\n        // eslint-disable-next-line react-hooks/exhaustive-deps -- We only want to start the animation loop once.\n    }, []);\n    const [seeMoreSnowInfo, setSeeMoreSnowInfo] = useState(false);\n    const showHider = useCallback(() => {\n        setSeeMoreSnowInfo(!seeMoreSnowInfo);\n    }, [seeMoreSnowInfo]);\n    // Get the flakes to render.\n    const snowflakes = useMemo(() => {\n        return Object.values(flakes).map((flake) => (_jsx(Snowflake, { radius: flake.radius, name: flake.name }, flake.name)));\n    }, [flakes]);\n    return (_jsxs(\"div\", { css: [\n            {\n                marginBottom: '12px',\n                overflow: 'hidden',\n            },\n        ], children: [snowflakes, _jsxs(\"div\", { css: css `\n\t\t\t\t\tmax-width: 400px;\n\t\t\t\t\tpadding-left: 20px;\n\t\t\t\t\tpadding-top: 4px;\n\t\t\t\t`, children: [_jsxs(Link, { href: \"#Snow\", cssOverrides: [\n                            linkStyle,\n                            css `\n\t\t\t\t\t\t\tmargin-bottom: 12px;\n\t\t\t\t\t\t`,\n                        ], onClick: showHider, children: [\"Why is it snowing?\", _jsx(\"span\", { css: showMoreTextStyles(seeMoreSnowInfo), children: _jsx(SvgChevronDownSingle, {}) })] }), seeMoreSnowInfo && (_jsxs(\"p\", { css: [\n                            body.medium,\n                            { color: 'white', marginTop: '4px' },\n                        ], children: [\"While this is meant to brighten your day, we're aware a lot of people are struggling with the cost of living crisis and many families are sitting freezing in the cold. We hope we can still persuade you to give to our\", ' ', _jsx(Link, { href: \"https://www.theguardian.com/society/2022/dec/09/help-us-support-local-communities-to-tackle-cost-of-living-crisis\", cssOverrides: linkStyle, children: \"charity appeal.\" })] }))] })] }));\n};\n","import { palette } from '../colour/palette';\n\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_focushalo--page)\n *\n * CSS rules that provide a clear visual focus state to support keyboard navigation.\n */\nexport const focusHalo = `\n outline: 0;\n html:not(.src-focus-disabled) & {\n\t box-shadow: 0 0 0 5px ${palette.focus[400]};\n }\n`;\n\nexport const focusHaloSpaced = `\n outline: 0;\n html:not(.src-focus-disabled) & {\n\toutline: 5px solid ${palette.focus[400]};\n\toutline-offset: 3px;\n }\n`;\n","/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_visuallyhidden--page)\n *\n * CSS rules that hide something from sight while still being available to screen readers.\n *\n * @see https://webaim.org/techniques/css/invisiblecontent/\n * @see https://medium.com/@jessebeach/beware-smushed-off-screen-accessible-text-5952a4c2cbfe\n * @see https://www.scottohara.me/blog/2017/04/14/inclusively-hidden.html\n */\nexport const visuallyHidden = `\n\tposition: absolute;\n\toverflow: hidden; /* gets rid of horizontal scrollbar that appears in some circumstances */\n\twhite-space: nowrap; /* The white-space property forces the content to render on one line. */\n\twidth: 1px;  /* ensures content is announced by VoiceOver. */\n\theight: 1px; /* ensures content is announced by VoiceOver. */\n\tmargin: -1px; /* hide or clip content that does not fit into a 1-pixel visible area. */\n\tpadding: 0; /* hide or clip content that does not fit into a 1-pixel visible area. */\n\tborder: 0;\n\tclip: rect(1px, 1px, 1px, 1px); /* clip removes any visible trace of the element */\n\t-webkit-clip-path: inset(50%); /* clip removes any visible trace of the element */\n\tclip-path: inset(50%); /* clip removes any visible trace of the element */\n`;\n","import { palette } from './colour/palette';\n\n// accessibility\nexport { descriptionId } from './accessibility/description-id';\nexport { focusHalo, focusHaloSpaced } from './accessibility/focus-halo';\nexport { generateSourceId } from './accessibility/generate-source-id';\nexport { visuallyHidden } from './accessibility/visually-hidden';\n\n// animation\nexport { transitions } from './animation/transitions';\n\n// breakpoints\nexport type { Breakpoint } from './breakpoints/breakpoints';\nexport { breakpoints } from './breakpoints/breakpoints';\n\n// mq\nexport { between, from, until } from './mq/mq';\n\n// palette\nexport { palette };\n\n/**\n * @deprecated exports - to be removed in a future major version.\n * Colours should now be imported from the `palette` object.\n */\nexport {\n\tbackground,\n\tbrandBackground,\n\tbrandAltBackground,\n\tborder,\n\tbrandBorder,\n\tbrandAltBorder,\n\tline,\n\tbrandLine,\n\tbrandAltLine,\n\ttext,\n\tbrandText,\n\tbrandAltText,\n} from './colour/palette';\n\n/**\n * @deprecated exports - to be removed in a future major version.\n * Colours should now be imported from the `palette` object.\n */\nexport const {\n\tbrand,\n\tbrandAlt,\n\tneutral,\n\terror,\n\tsuccess,\n\tnews,\n\topinion,\n\tsport,\n\tculture,\n\tlifestyle,\n\tlabs,\n\tspecialReport,\n\tfocus,\n} = palette;\n\n// size\nexport {\n\theight,\n\ticonSize,\n\tremHeight,\n\tremWidth,\n\tsize,\n\twidth,\n} from './size/size';\n\n// space\nexport { space, remSpace } from './space/space';\n\n// typography\nexport {\n\ttitlepiece,\n\theadline,\n\tbody,\n\ttextSans,\n\ttitlepieceSizes,\n\theadlineSizes,\n\tbodySizes,\n\ttextSansSizes,\n\tremTitlepieceSizes,\n\tremHeadlineSizes,\n\tremBodySizes,\n\tremTextSansSizes,\n\tfonts,\n\tfontWeights,\n\tlineHeights,\n} from './typography';\n\nexport {\n\tbody as bodyObjectStyles,\n\theadline as headlineObjectStyles,\n\ttextSans as textSansObjectStyles,\n\ttitlepiece as titlepieceObjectStyles,\n} from './typography/obj';\nexport type {\n\tScaleUnit,\n\tCategory,\n\tLineHeight,\n\tFontWeight,\n\tFontStyle,\n\tFontWeightDefinition,\n\tOption,\n\tTypographyStyles,\n\tTypographySizes,\n\tTitlepieceSizes,\n\tHeadlineSizes,\n\tBodySizes,\n\tTextSansSizes,\n\tFs,\n\tFontScaleFunction,\n\tFontScaleFunctionStr,\n\tFontScaleArgs,\n} from './typography/types';\n\n// utils\nexport { appearance } from './utils/supports-queries';\nexport { FocusStyleManager } from './accessibility/focus-style-manager';\nexport { pxToRem, rootPixelFontSize } from './utils/px-to-rem';\nexport { resets } from './utils/resets';\nexport { svgBackgroundImage } from './utils/svg-background-image';\n","import { pxToRem } from '../utils/px-to-rem';\n\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_size--page#global-size-values) •\n * [Design System](https://theguardian.design/2a1e5182b/p/24a3ec-size/t/329aef)\n *\n * May be used for call to action buttons and user input fields.\n */\nexport const size = {\n\txsmall: 24,\n\tsmall: 36,\n\tmedium: 44, // meets WCAG 2.1 AAA compliance for touch targets.\n} as const;\n\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_size--page#global-size-values) •\n * [Design System](https://theguardian.design/2a1e5182b/p/24a3ec-size/t/329aef)\n *\n * May be used for call to action buttons and user input fields.\n *\n ** `remSize.medium` -> 2.75rem\n ** `remSize.small` -> 2.25rem\n ** `remSize.xsmall` -> 1.5rem\n */\nconst remSize: { [K in keyof typeof size]: number } = {\n\txsmall: pxToRem(size.xsmall),\n\tsmall: pxToRem(size.small),\n\tmedium: pxToRem(size.medium),\n};\n\n/*\n   We attempt to use these values for icons within Source components.\n   They are analogous with component heights defined by the size values\n   above. They are based on the size of icons used within the button\n   component.\n*/\nexport const iconSize = {\n\txsmall: 20,\n\tsmall: 26,\n\tmedium: 30,\n} as const;\n\nconst remIconSize: { [K in keyof typeof iconSize]: number } = {\n\txsmall: pxToRem(iconSize.xsmall),\n\tsmall: pxToRem(iconSize.small),\n\tmedium: pxToRem(iconSize.medium),\n};\n\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_size--page#tokens) •\n * [Design System](https://theguardian.design/2a1e5182b/p/24a3ec-size/t/329aef)\n *\n * Height tokens expressed in px\n *\n ** `height.ctaMedium`: call to action buttons and links\n ** `height.ctaSmall`: secondary calls to action\n ** `height.ctaXsmall`: calls to action where there is very limited space\n ** `height.inputMedium`: text input fields, radio and checkbox labels\n ** `height.inputXsmall`: checkables such as checkboxes or radio buttons\n ** `height.iconMedium`\n ** `height.iconSmall`\n ** `height.iconXsmall`\n */\nexport const height = {\n\tctaMedium: size.medium,\n\tctaSmall: size.small,\n\tctaXsmall: size.xsmall,\n\tinputMedium: size.medium,\n\tinputXsmall: size.xsmall,\n\ticonMedium: iconSize.medium,\n\ticonSmall: iconSize.small,\n\ticonXsmall: iconSize.xsmall,\n};\n\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_size--page#tokens) •\n * [Design System](https://theguardian.design/2a1e5182b/p/24a3ec-size/t/329aef)\n *\n * Height tokens expressed in rem\n *\n ** `remHeight.ctaMedium`: call to action buttons and links\n ** `remHeight.ctaSmall`: secondary calls to action\n ** `remHeight.ctaXsmall`: calls to action where there is very limited space\n ** `remHeight.inputMedium`: text input fields, radio and checkbox labels\n ** `remHeight.inputXsmall`: checkables such as checkboxes or radio buttons\n ** `remHeight.iconMedium`\n ** `remHeight.iconSmall`\n ** `remHeight.iconXsmall`\n */\nexport const remHeight = {\n\tctaMedium: remSize.medium,\n\tctaSmall: remSize.small,\n\tctaXsmall: remSize.xsmall,\n\tinputMedium: remSize.medium,\n\tinputXsmall: remSize.xsmall,\n\ticonMedium: remIconSize.medium,\n\ticonSmall: remIconSize.small,\n\ticonXsmall: remIconSize.xsmall,\n};\n\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_size--page#tokens) •\n * [Design System](https://theguardian.design/2a1e5182b/p/00ddcb-tokens/t/797660)\n *\n * Width tokens expressed in px\n *\n ** `width.ctaMedium`: medium height call to action buttons and links\n ** `width.ctaSmall`: small height call to action buttons and links\n ** `width.ctaXsmall`: xsmall height call to action buttons and links\n ** `width.inputMedium`: text input fields, radio and checkbox labels\n ** `width.inputXsmall`: checkables such as checkboxes or radio buttons\n ** `width.inputMedium`\n ** `width.inputXsmall`: checkables such as checkboxes or radio buttons\n ** `width.iconMedium`\n ** `width.iconSmall`\n ** `width.iconXsmall`\n */\nexport const width = {\n\tctaMedium: size.medium,\n\tctaSmall: size.small,\n\tctaXsmall: size.xsmall,\n\tinputXsmall: size.xsmall,\n\ticonMedium: iconSize.medium,\n\ticonSmall: iconSize.small,\n\ticonXsmall: iconSize.xsmall,\n};\n\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_size--page#tokens) •\n * [Design System](https://theguardian.design/2a1e5182b/p/00ddcb-tokens/t/797660)\n *\n * Width tokens expressed in rem\n *\n ** `remWidth.ctaMedium`: medium height call to action buttons and links\n ** `remWidth.ctaSmall`: small height call to action buttons and links\n ** `remWidth.ctaXsmall`: xsmall height call to action buttons and links\n ** `remWidth.inputMedium`: text input fields, radio and checkbox labels\n ** `remWidth.inputXsmall`: checkables such as checkboxes or radio buttons\n ** `remWidth.inputMedium`\n ** `remWidth.inputXsmall`: checkables such as checkboxes or radio buttons\n ** `remWidth.iconMedium`\n ** `remWidth.iconSmall`\n ** `remWidth.iconXsmall`\n */\nexport const remWidth = {\n\tctaMedium: remSize.medium,\n\tctaSmall: remSize.small,\n\tctaXsmall: remSize.xsmall,\n\tinputXsmall: remSize.xsmall,\n\ticonMedium: remIconSize.medium,\n\ticonSmall: remIconSize.small,\n\ticonXsmall: remIconSize.xsmall,\n};\n","import { pxToRem } from '../utils/px-to-rem';\n\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_space--page) •\n * [Design System](https://theguardian.design/2a1e5182b/p/05f835-space)\n *\n * Can be applied to margin or padding properties, vertically or horizontally.\n *\n ** `space[1]` -> 4px\n ** `space[2]` -> 8px\n ** `space[3]` -> 12px\n ** `space[4]` -> 16px\n ** `space[5]` -> 20px\n ** `space[6]` -> 24px\n ** `space[9]` -> 36px\n ** `space[12]` -> 48px\n ** `space[24]` -> 96px\n */\nexport const space = {\n\t1: 4,\n\t2: 8,\n\t3: 12,\n\t4: 16,\n\t5: 20,\n\t6: 24,\n\t9: 36,\n\t12: 48,\n\t24: 96,\n} as const;\n\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_space--page) •\n * [Design System](https://theguardian.design/2a1e5182b/p/05f835-space)\n *\n * Can be applied to margin or padding properties, vertically or horizontally.\n *\n ** `remSpace[1]` -> 0.25rem\n ** `remSpace[2]` -> 0.5rem\n ** `remSpace[3]` -> 0.75rem\n ** `remSpace[4]` -> 1rem\n ** `remSpace[5]` -> 1.25rem\n ** `remSpace[6]` -> 1.5rem\n ** `remSpace[9]` -> 2.25rem\n ** `remSpace[12]` -> 3rem\n ** `remSpace[24]` -> 6rem\n */\nexport const remSpace: { [K in keyof typeof space]: string } = {\n\t1: `${pxToRem(space[1])}rem`,\n\t2: `${pxToRem(space[2])}rem`,\n\t3: `${pxToRem(space[3])}rem`,\n\t4: `${pxToRem(space[4])}rem`,\n\t5: `${pxToRem(space[5])}rem`,\n\t6: `${pxToRem(space[6])}rem`,\n\t9: `${pxToRem(space[9])}rem`,\n\t12: `${pxToRem(space[12])}rem`,\n\t24: `${pxToRem(space[24])}rem`,\n};\n\n/* TODO: this should be exposed as a number instead of a string,\n   so consumers can perform calculations on it */\n","import type { EmotionJSX } from '@emotion/react/types/jsx-namespace';\nimport type { AnchorHTMLAttributes } from 'react';\nimport { linkContents } from './shared';\nimport { linkStyles } from './styles';\nimport type { SharedLinkProps } from './types';\n\nexport interface LinkProps\n\textends AnchorHTMLAttributes<HTMLAnchorElement>,\n\t\tSharedLinkProps {}\n\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/story/source-react-components_link--primary-link-default-theme) •\n * [Design System](https://theguardian.design/2a1e5182b/p/43c26b-link/b/048fd1) •\n * [GitHub](https://github.com/guardian/csnx/tree/main/libs/@guardian/source-react-components/src/link/Link.tsx) •\n * [NPM](https://www.npmjs.com/package/@guardian/source-react-components)\n *\n * Links are used as navigational aids. They may appear inline in a paragraph, as items in a list or as stand alone text elements.\n *\n * The following themes are supported: `light`, `brand`, `brandYellow`\n */\nexport const Link = ({\n\tpriority = 'primary',\n\ticon: iconSvg,\n\ticonSide = 'left',\n\tcssOverrides,\n\tchildren,\n\t...props\n}: LinkProps): EmotionJSX.Element => {\n\treturn (\n\t\t<a\n\t\t\tcss={linkStyles({\n\t\t\t\tpriority,\n\t\t\t\ticonSvg,\n\t\t\t\ticonSide,\n\t\t\t\tcssOverrides,\n\t\t\t})}\n\t\t\t{...props}\n\t\t>\n\t\t\t{linkContents({ children, iconSvg, iconSide })}\n\t\t</a>\n\t);\n};\n","import type { ReactElement, ReactNode } from 'react';\nimport { cloneElement, Fragment } from 'react';\nimport type { IconSide } from './types';\n\nexport const linkContents = ({\n\tchildren,\n\ticonSvg,\n\ticonSide,\n}: {\n\tchildren: ReactNode;\n\ticonSvg?: ReactElement;\n\ticonSide: IconSide;\n}): ReactNode[] => {\n\t// a bit of underlined space; the icon sits on top\n\tconst spacer = (\n\t\t<Fragment key=\"spacer\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</Fragment>\n\t);\n\tconst linkContents = [children];\n\n\tif (iconSvg) {\n\t\tif (iconSide === 'left') {\n\t\t\tlinkContents.unshift(spacer, cloneElement(iconSvg, { key: 'svg' }));\n\t\t} else {\n\t\t\tlinkContents.push(spacer, cloneElement(iconSvg, { key: 'svg' }));\n\t\t}\n\t}\n\n\treturn linkContents;\n};\n","import { palette } from '@guardian/source-foundations';\n\nexport type LinkTheme = {\n\ttextPrimary: string;\n\ttextPrimaryHover: string;\n\ttextSecondary?: string;\n\ttextSecondaryHover?: string;\n};\n\nexport const linkThemeDefault: { link: LinkTheme } = {\n\tlink: {\n\t\ttextPrimary: palette.brand[500],\n\t\ttextPrimaryHover: palette.brand[500],\n\t\ttextSecondary: palette.neutral[7],\n\t\ttextSecondaryHover: palette.neutral[7],\n\t},\n};\n\nexport const linkThemeBrand: { link: LinkTheme } = {\n\tlink: {\n\t\ttextPrimary: palette.neutral[100],\n\t\ttextPrimaryHover: palette.neutral[100],\n\t},\n};\n\nexport const linkThemeBrandAlt: { link: LinkTheme } = {\n\tlink: {\n\t\ttextPrimary: palette.neutral[7],\n\t\ttextPrimaryHover: palette.neutral[7],\n\t},\n};\n","import type { SerializedStyles } from '@emotion/react';\nimport { css } from '@emotion/react';\nimport {\n\tfocusHalo,\n\tspace,\n\ttextSans,\n\twidth,\n} from '@guardian/source-foundations';\nimport type { ReactElement } from 'react';\nimport type { Theme } from '../@types/Theme';\nimport type { LinkTheme } from './theme';\nimport { linkThemeDefault } from './theme';\nimport type { IconSide, LinkPriority } from './types';\n\nexport const link = css`\n\tposition: relative;\n\t${textSans.medium()};\n\tcursor: pointer;\n\ttext-decoration: underline;\n\ttext-underline-position: under;\n\ttext-underline-offset: 5%;\n\n\tdisplay: inline;\n\talign-items: center;\n\n\t&:focus {\n\t\t${focusHalo};\n\t}\n\n\t&:hover {\n\t\t/* If the hover text decoration thickness is not set, we default to the initial value. */\n\t\ttext-decoration-thickness: var(--source-text-decoration-thickness, auto);\n\t}\n`;\n\nexport const buttonLink = css`\n\t/* override user agent styles */\n\tborder: none;\n\tbackground: transparent;\n\tpadding: 0;\n`;\n\nexport const primary = (\n\tlink: LinkTheme = linkThemeDefault.link,\n): SerializedStyles => css`\n\tcolor: ${link.textPrimary};\n\n\t&:hover {\n\t\tcolor: ${link.textPrimaryHover};\n\t}\n`;\n\nexport const secondary = (\n\tlink: LinkTheme = linkThemeDefault.link,\n): SerializedStyles => css`\n\tcolor: ${link.textSecondary};\n\n\t&:hover {\n\t\tcolor: ${link.textSecondaryHover};\n\t}\n`;\n\nexport const icon = css`\n\tsvg {\n\t\tfill: currentColor;\n\t\t/*\n\t\tTODO: hardcoded bottom margin to vertically align\n\t\ticons with text. This needs to be revisited when\n\t\tthe rules of icon spacing have been formalised\n\t\t */\n\t\tmargin-bottom: -3px;\n\t\twidth: ${width.iconXsmall}px;\n\t\theight: auto;\n\t}\n`;\n\nexport const iconRight = css`\n\tsvg {\n\t\tmargin-left: -${space[5]}px;\n\t}\n`;\n\nexport const iconLeft = css`\n\tsvg {\n\t\tmargin-left: -${space[6]}px;\n\t\tmargin-right: ${space[1]}px;\n\t}\n`;\n\nconst priorities: {\n\t[key in LinkPriority]: (link?: LinkTheme) => SerializedStyles;\n} = {\n\tprimary,\n\tsecondary,\n};\n\nconst iconSides: {\n\t[key in IconSide]: SerializedStyles;\n} = {\n\tright: iconRight,\n\tleft: iconLeft,\n};\n\nexport const linkStyles = ({\n\tisButton,\n\tpriority,\n\ticonSvg,\n\ticonSide = 'left',\n\tcssOverrides,\n}: {\n\tisButton?: boolean;\n\tpriority: LinkPriority;\n\tisSubdued?: boolean;\n\ticonSvg?: ReactElement;\n\ticonSide?: IconSide;\n\tcssOverrides?: SerializedStyles | SerializedStyles[];\n}) => {\n\treturn (\n\t\ttheme: Theme,\n\t): Array<string | SerializedStyles | SerializedStyles[] | undefined> => [\n\t\tlink,\n\t\tisButton ? buttonLink : '',\n\t\tpriorities[priority](theme.link),\n\t\ticonSvg ? icon : '',\n\t\ticonSvg ? iconSides[iconSide] : '',\n\t\tcssOverrides,\n\t];\n};\n","// DO NOT EDIT\n// this file is auto-generated by packages/@guardian/source-react-components/scripts/create-icons/index.ts\nimport { css } from '@emotion/react';\nimport type { EmotionJSX } from '@emotion/react/types/jsx-namespace';\nimport { iconSize, visuallyHidden } from '@guardian/source-foundations';\nimport type { IconProps } from '../../src/@types/Icons';\n\nconst Svg = ({ size }: IconProps): EmotionJSX.Element => (\n\t<svg\n\t\twidth={size ? iconSize[size] : undefined}\n\t\theight={undefined}\n\t\tviewBox=\"-3 -3 30 30\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tfocusable={false}\n\t\taria-hidden={true}\n\t>\n\t\t<path\n\t\t\tfillRule=\"evenodd\"\n\t\t\tclipRule=\"evenodd\"\n\t\t\td=\"m1 7.224 10.498 10.498h1.004L23 7.224l-.98-.954L12 14.708 1.98 6.27 1 7.224Z\"\n\t\t/>\n\t</svg>\n);\n\nexport const SvgChevronDownSingle = ({\n\tsize,\n\tisAnnouncedByScreenReader = false,\n}: IconProps): EmotionJSX.Element => (\n\t<>\n\t\t<Svg size={size} />\n\t\t{isAnnouncedByScreenReader ? (\n\t\t\t<span\n\t\t\t\tcss={css`\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`}\n\t\t\t>\n\t\t\t\tExpand to show more\n\t\t\t</span>\n\t\t) : (\n\t\t\t''\n\t\t)}\n\t</>\n);\n","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}"],"names":["Snowflake","name","radius","_jsx","className","css","width","height","backgroundColor","borderRadius","position","overflow","linkStyle","neutral","showMoreTextStyles","open","undefined","Snow","useState","initial","i","generatedFlake","x","y","velocity","Math","random","toString","substring","newFlake","flakes","setFlakes","requestRef","useRef","previousTimeRef","drift","renderLoop","time","current","deltaTime","newDf","previousFlakes","flakeName","flake","updatedFlake","document","querySelectorAll","forEach","previousFlake","dataset","style","transform","requestAnimationFrame","useEffect","cancelAnimationFrame","seeMoreSnowInfo","setSeeMoreSnowInfo","showHider","useCallback","snowflakes","useMemo","Object","values","map","_jsxs","marginBottom","children","Link","href","cssOverrides","onClick","SvgChevronDownSingle","body","color","marginTop","focusHaloSpaced","visuallyHidden","xsmall","small","medium","pxToRem","size","remIconSize","iconSize","ctaMedium","ctaSmall","ctaXsmall","inputMedium","inputXsmall","iconMedium","iconSmall","iconXsmall","remSize","space","jsx","linkStyles","iconSvg","iconSide","props","linkContents","unshift","spacer","link","textPrimary","textPrimaryHover","palette","textSecondary","textSecondaryHover","buttonLink","icon","iconRight","iconLeft","priorities","primary","secondary","iconSides","right","left","isButton","priority","theme","isAnnouncedByScreenReader","jsxs","_objectWithoutProperties","source","excluded","key","target","sourceKeys","keys","length","indexOf","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call"],"sourceRoot":""}