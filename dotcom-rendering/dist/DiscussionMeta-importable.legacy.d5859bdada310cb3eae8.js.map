{"version":3,"file":"DiscussionMeta-importable.legacy.d5859bdada310cb3eae8.js","mappings":"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","sources":["webpack://@guardian/dotcom-rendering/./src/lib/identity-component-event.ts","webpack://@guardian/dotcom-rendering/./src/lib/querystring.ts","webpack://@guardian/dotcom-rendering/./src/web/components/DiscussionMeta.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/SignedInAs.tsx","webpack://@guardian/dotcom-rendering/./src/web/lib/useApi.tsx","webpack://@guardian/dotcom-rendering/./src/web/lib/useDiscussion.ts","webpack://@guardian/dotcom-rendering/../../../libs/@guardian/libs/src/format/ArticleDesign.ts","webpack://@guardian/dotcom-rendering/../../../libs/@guardian/libs/src/format/ArticleDisplay.ts","webpack://@guardian/dotcom-rendering/../../../libs/@guardian/libs/src/format/ArticlePillar.ts","webpack://@guardian/dotcom-rendering/../../../libs/@guardian/libs/src/format/ArticleSpecial.ts","webpack://@guardian/dotcom-rendering/../../../libs/@guardian/libs/src/joinUrl/joinUrl.ts","webpack://@guardian/dotcom-rendering/../../../libs/@guardian/source-foundations/src/breakpoints/breakpoints.ts","webpack://@guardian/dotcom-rendering/../../../libs/@guardian/source-foundations/src/index.ts","webpack://@guardian/dotcom-rendering/../../../libs/@guardian/source-foundations/src/mq/mq.ts","webpack://@guardian/dotcom-rendering/../../../libs/@guardian/source-foundations/src/space/space.ts"],"sourcesContent":["import { constructQuery } from './querystring';\nexport const createAuthenticationEventParams = (componentId, pageViewId) => {\n    const params = {\n        componentType: 'identityauthentication',\n        componentId,\n    };\n    if (pageViewId) {\n        params.viewId = pageViewId;\n    }\n    return `componentEventParams=${encodeURIComponent(constructQuery(params))}`;\n};\n","const constructQuery = (query) => Object.keys(query)\n    .map((param) => {\n    const value = query[param];\n    const queryValue = Array.isArray(value)\n        ? value.map((v) => encodeURIComponent(v)).join(',')\n        : encodeURIComponent(value);\n    return `${param}=${queryValue}`;\n})\n    .join('&');\nexport { constructQuery };\n","import { jsx as _jsx } from \"@emotion/react/jsx-runtime\";\nimport { joinUrl } from '@guardian/libs';\nimport { decidePalette } from '../lib/decidePalette';\nimport { useApi } from '../lib/useApi';\nimport { useDiscussion } from '../lib/useDiscussion';\nimport { SignedInAs } from './SignedInAs';\nexport const DiscussionMeta = ({ format, discussionApiUrl, shortUrlId, enableDiscussionSwitch, }) => {\n    const { commentCount, isClosedForComments } = useDiscussion(joinUrl(discussionApiUrl, 'discussion', shortUrlId));\n    const { data } = useApi(joinUrl(discussionApiUrl, 'profile/me?strict_sanctions_check=false'), {}, {\n        credentials: 'include',\n    });\n    const palette = decidePalette(format);\n    return (_jsx(SignedInAs, { palette: palette, enableDiscussionSwitch: enableDiscussionSwitch, user: data?.userProfile, commentCount: commentCount, isClosedForComments: isClosedForComments }));\n};\n","import { jsxs as _jsxs, jsx as _jsx } from \"@emotion/react/jsx-runtime\";\nimport { css } from '@emotion/react';\nimport { border, headline, neutral, news, space, text, textSans, until, } from '@guardian/source-foundations';\nimport { createAuthenticationEventParams } from '../../lib/identity-component-event';\nconst containerStyles = css `\n\tpadding-top: ${space[1]}px;\n\tpadding-bottom: ${space[1]}px;\n`;\nconst imageStyles = css `\n\tborder-radius: 70px;\n\twidth: 60px;\n\theight: 60px;\n\t${until.desktop} {\n\t\twidth: 36px;\n\t\theight: 36px;\n\t}\n`;\nconst imageWrapper = css `\n\tpadding-bottom: ${space[1]}px;\n\tpadding-right: ${space[2]}px;\n`;\nconst headingStyles = css `\n\t${headline.xxsmall({ fontWeight: 'bold' })};\n\tpadding-bottom: ${space[1]}px;\n`;\nconst textStyles = css `\n\t${textSans.small()}\n\t${until.desktop} {\n\t\t${textSans.xxsmall()}\n\t}\n\tcolor: ${text.supporting};\n\tpadding-bottom: ${space[1]}px;\n`;\nconst headlineStyles = css `\n\t${headline.xxxsmall()}\n\tcolor: ${text.supporting};\n\tpadding-bottom: ${space[1]}px;\n`;\nconst usernameStyles = css `\n\tfont-weight: 700;\n\tcolor: ${text.primary};\n`;\nconst linkStyles = (palette) => css `\n\tcolor: ${palette.text.signInLink};\n\ttext-decoration: none;\n\tborder-bottom: 1px solid ${border.secondary};\n\ttransition: border-color 0.15s ease-out;\n\t:hover {\n\t\tborder-color: ${news[300]};\n\t}\n`;\nconst rowUntilDesktop = css `\n\tdisplay: flex;\n\tflex-direction: column;\n\t${until.desktop} {\n\t\tflex-direction: row;\n\t}\n`;\nconst Heading = ({ count }) => {\n    return (_jsxs(\"h2\", { css: headingStyles, children: [\"comments\", ' ', _jsxs(\"span\", { css: css `\n\t\t\t\t\tcolor: ${neutral[60]};\n\t\t\t\t`, children: [\"(\", count ?? '…', \")\"] })] }));\n};\nexport const SignedInAs = ({ commentCount, palette, enableDiscussionSwitch, user, isClosedForComments, }) => {\n    const isBanned = user?.privateFields && !user.privateFields.canPostComment;\n    if (!enableDiscussionSwitch) {\n        // Discussion is disabled sitewide and user is signed in\n        if (user) {\n            return (_jsxs(\"div\", { css: containerStyles, children: [_jsx(Heading, { count: commentCount }), _jsx(\"span\", { css: headlineStyles, children: \"Commenting has been disabled at this time\" })] }));\n        }\n        // Discussion disabled sitewide and user logged out\n        return (_jsxs(\"div\", { css: containerStyles, children: [_jsx(Heading, { count: commentCount }), _jsxs(\"span\", { css: headlineStyles, children: [\"Commenting has been disabled at this time but you can still\", ' ', _jsx(\"a\", { href: `https://profile.theguardian.com/signin?INTCMP=DOTCOM_COMMENTS_SIGNIN&${createAuthenticationEventParams('signin_to_comment')}`, css: linkStyles(palette), children: \"sign in\" }), ' ', \"or\", ' ', _jsx(\"a\", { href: `https://profile.theguardian.com/register?INTCMP=DOTCOM_COMMENTS_REG&${createAuthenticationEventParams('register_to_comment')}`, css: linkStyles(palette), children: \"create your Guardian account\" }), ' ', \"to join the discussion when it's back\"] })] }));\n    }\n    if (isBanned) {\n        // User is banned\n        return (_jsxs(\"div\", { css: containerStyles, children: [_jsx(Heading, { count: commentCount }), _jsxs(\"span\", { css: headlineStyles, children: [\"Commenting has been disabled for this account (\", _jsx(\"a\", { href: \"https://www.theguardian.com/community-faqs#321a\", css: linkStyles(palette), children: \"why?\" }), ' ', \")\"] })] }));\n    }\n    if (user && isClosedForComments) {\n        // The reader is logged in but the discussion is closed\n        return (_jsxs(\"div\", { css: containerStyles, children: [_jsx(Heading, { count: commentCount }), _jsx(\"span\", { css: headlineStyles, children: \"This discussion is closed for comments\" })] }));\n    }\n    if (!user && isClosedForComments) {\n        // The discussion is closed and the reader is not logged in\n        return (_jsxs(\"div\", { css: containerStyles, children: [_jsx(Heading, { count: commentCount }), _jsxs(\"span\", { css: headlineStyles, children: [\"This discussion is now closed for comments but you can still\", ' ', _jsx(\"a\", { href: `https://profile.theguardian.com/signin?INTCMP=DOTCOM_COMMENTS_SIGNIN&${createAuthenticationEventParams('signin_to_comment')}`, css: linkStyles(palette), children: \"sign in\" }), ' ', \"or\", ' ', _jsx(\"a\", { href: `https://profile.theguardian.com/register?INTCMP=DOTCOM_COMMENTS_REG&${createAuthenticationEventParams('register_to_comment')}`, css: linkStyles(palette), children: \"create your Guardian account\" }), ' ', \"to join the discussion next time\"] })] }));\n    }\n    if (!user) {\n        // The discussion is open but the reader is not logged in\n        return (_jsxs(\"div\", { css: containerStyles, children: [_jsx(Heading, { count: commentCount }), _jsxs(\"span\", { css: headlineStyles, children: [_jsx(\"a\", { href: `https://profile.theguardian.com/signin?INTCMP=DOTCOM_COMMENTS_SIGNIN&${createAuthenticationEventParams('signin_to_comment')}`, css: linkStyles(palette), children: \"Sign in\" }), ' ', \"or\", ' ', _jsx(\"a\", { href: `https://profile.theguardian.com/register?INTCMP=DOTCOM_COMMENTS_REG&${createAuthenticationEventParams('register_to_comment')}`, css: linkStyles(palette), children: \"create your Guardian account\" }), ' ', \"to join the discussion\"] })] }));\n    }\n    // Discussion open and user logged in\n    return (_jsxs(\"div\", { css: containerStyles, children: [_jsx(Heading, { count: commentCount }), _jsxs(\"div\", { css: rowUntilDesktop, children: [_jsx(\"div\", { css: imageWrapper, children: _jsx(\"img\", { src: user.secureAvatarUrl ||\n                                'https://avatar.guim.co.uk/no-user-image.gif', alt: user.displayName || 'Guardian User', css: imageStyles }) }), _jsxs(\"div\", { css: textStyles, children: [\"Signed in as\", _jsx(\"div\", { css: usernameStyles, children: user.displayName || 'Guardian User' })] })] })] }));\n};\n","import useSWR from 'swr';\nfunction checkForErrors(response) {\n    if (!response.ok) {\n        throw Error(response.statusText ||\n            `useApi | An api call returned HTTP status ${response.status}`);\n    }\n    return response;\n}\nconst fetcher = (init) => (url) => fetch(url, init)\n    .then(checkForErrors)\n    .then((res) => res.json());\n/**\n * @description\n * A custom hook to make a GET request using the given url using the SWR lib (https://swr.vercel.app/)\n * returns { loading, error, data }\n * @param {String} url - The url to fetch\n * @param {SWRConfiguration} options - The SWR config object - https://swr.vercel.app/docs/options\n * @param {RequestInit} init - The fetch init object - https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch#supplying_request_options\n * */\nexport const useApi = (url, options, init) => {\n    const { data, error } = useSWR(url, fetcher(init), options);\n    return {\n        data,\n        error,\n        loading: !!url && !error && !data,\n    };\n};\n","import { useApi } from './useApi';\nexport const useDiscussion = (url) => {\n    const { data } = useApi(url, {\n        // The default for dedupingInterval is 2 seconds but we want to wait longer here because the cache time\n        // for a discussion is at least 15 seconds\n        dedupingInterval: 8000,\n    });\n    return {\n        commentCount: data?.discussion.commentCount,\n        isClosedForComments: data?.discussion.isClosedForComments,\n    };\n};\n","export enum ArticleDesign {\n\tStandard,\n\tGallery,\n\tAudio,\n\tVideo,\n\tReview,\n\tAnalysis,\n\tExplainer,\n\tComment,\n\tLetter,\n\tFeature,\n\tLiveBlog,\n\tDeadBlog,\n\tRecipe,\n\tMatchReport,\n\tInterview,\n\tEditorial,\n\tQuiz,\n\tInteractive,\n\tPhotoEssay,\n\tPrintShop,\n\tObituary,\n\tCorrection,\n\tFullPageInteractive,\n\tNewsletterSignup,\n\tTimeline,\n\tProfile,\n}\n","export enum ArticleDisplay {\n\tStandard,\n\tImmersive,\n\tShowcase,\n\tNumberedList,\n}\n","export enum ArticlePillar {\n\tNews = 0,\n\tOpinion = 1,\n\tSport = 2,\n\tCulture = 3,\n\tLifestyle = 4,\n}\n","export enum ArticleSpecial {\n\tSpecialReport = 5,\n\tLabs = 6,\n\tSpecialReportAlt = 7,\n}\n","// detect two or more `/` chars after a word boundary\nconst multipleSlashesInRoute = /\\b\\/{2,}/g;\n\nexport const joinUrl = (...args: string[]): string =>\n\targs.join('/').replace(multipleSlashesInRoute, '/');\n","export type Breakpoint =\n\t| 'mobile'\n\t| 'mobileMedium'\n\t| 'mobileLandscape'\n\t| 'phablet'\n\t| 'tablet'\n\t| 'desktop'\n\t| 'leftCol'\n\t| 'wide';\n\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_media-queries--page) •\n * [Design System](https://theguardian.design/2a1e5182b/p/41be19-grids)\n */\nexport const breakpoints = {\n\tmobile: 320,\n\tmobileMedium: 375,\n\tmobileLandscape: 480,\n\tphablet: 660,\n\ttablet: 740,\n\tdesktop: 980,\n\tleftCol: 1140,\n\twide: 1300,\n} as const;\n","import { palette } from './colour/palette';\n\n// accessibility\nexport { descriptionId } from './accessibility/description-id';\nexport { focusHalo, focusHaloSpaced } from './accessibility/focus-halo';\nexport { generateSourceId } from './accessibility/generate-source-id';\nexport { visuallyHidden } from './accessibility/visually-hidden';\n\n// animation\nexport { transitions } from './animation/transitions';\n\n// breakpoints\nexport type { Breakpoint } from './breakpoints/breakpoints';\nexport { breakpoints } from './breakpoints/breakpoints';\n\n// mq\nexport { between, from, until } from './mq/mq';\n\n// palette\nexport { palette };\n\n/**\n * @deprecated exports - to be removed in a future major version.\n * Colours should now be imported from the `palette` object.\n */\nexport {\n\tbackground,\n\tbrandBackground,\n\tbrandAltBackground,\n\tborder,\n\tbrandBorder,\n\tbrandAltBorder,\n\tline,\n\tbrandLine,\n\tbrandAltLine,\n\ttext,\n\tbrandText,\n\tbrandAltText,\n} from './colour/palette';\n\n/**\n * @deprecated exports - to be removed in a future major version.\n * Colours should now be imported from the `palette` object.\n */\nexport const {\n\tbrand,\n\tbrandAlt,\n\tneutral,\n\terror,\n\tsuccess,\n\tnews,\n\topinion,\n\tsport,\n\tculture,\n\tlifestyle,\n\tlabs,\n\tspecialReport,\n\tfocus,\n} = palette;\n\n// size\nexport {\n\theight,\n\ticonSize,\n\tremHeight,\n\tremWidth,\n\tsize,\n\twidth,\n} from './size/size';\n\n// space\nexport { space, remSpace } from './space/space';\n\n// typography\nexport {\n\ttitlepiece,\n\theadline,\n\tbody,\n\ttextSans,\n\ttitlepieceSizes,\n\theadlineSizes,\n\tbodySizes,\n\ttextSansSizes,\n\tremTitlepieceSizes,\n\tremHeadlineSizes,\n\tremBodySizes,\n\tremTextSansSizes,\n\tfonts,\n\tfontWeights,\n\tlineHeights,\n} from './typography';\n\nexport {\n\tbody as bodyObjectStyles,\n\theadline as headlineObjectStyles,\n\ttextSans as textSansObjectStyles,\n\ttitlepiece as titlepieceObjectStyles,\n} from './typography/obj';\nexport type {\n\tScaleUnit,\n\tCategory,\n\tLineHeight,\n\tFontWeight,\n\tFontStyle,\n\tFontWeightDefinition,\n\tOption,\n\tTypographyStyles,\n\tTypographySizes,\n\tTitlepieceSizes,\n\tHeadlineSizes,\n\tBodySizes,\n\tTextSansSizes,\n\tFs,\n\tFontScaleFunction,\n\tFontScaleFunctionStr,\n\tFontScaleArgs,\n} from './typography/types';\n\n// utils\nexport { appearance } from './utils/supports-queries';\nexport { FocusStyleManager } from './accessibility/focus-style-manager';\nexport { pxToRem, rootPixelFontSize } from './utils/px-to-rem';\nexport { resets } from './utils/resets';\nexport { svgBackgroundImage } from './utils/svg-background-image';\n","import { breakpoints } from '../breakpoints/breakpoints';\nimport type { Breakpoint } from '../breakpoints/breakpoints';\n\nexport type BreakpointMap = {\n\t[key in Breakpoint]: string;\n};\n\nconst minWidth = (from: number): string => `@media (min-width: ${`${from}px`})`;\n\nconst maxWidth = (until: number): string =>\n\t`@media (max-width: ${`${until - 1}px`})`;\n\nconst minWidthMaxWidth = (from: number, until: number): string =>\n\t`@media (min-width: ${`${from}px`}) and (max-width: ${`${until - 1}px`})`;\n\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_media-queries--page#from)\n *\n * @example\n *\tconst styles = css`\n *\t\t${from.mobileLandscape} {\n *\t\t\tpadding: 0 20px;\n *\t\t}\n * `;\n */\nexport const from: BreakpointMap = {\n\tmobile: minWidth(breakpoints.mobile),\n\tmobileMedium: minWidth(breakpoints.mobileMedium),\n\tmobileLandscape: minWidth(breakpoints.mobileLandscape),\n\tphablet: minWidth(breakpoints.phablet),\n\ttablet: minWidth(breakpoints.tablet),\n\tdesktop: minWidth(breakpoints.desktop),\n\tleftCol: minWidth(breakpoints.leftCol),\n\twide: minWidth(breakpoints.wide),\n};\n\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_media-queries--page#until)\n *\n * @example\n *\tconst styles = css`\n *\t\t${until.wide} {\n *\t\t\tpadding: 0 40px;\n *\t\t}\n * `;\n */\nexport const until: BreakpointMap = {\n\tmobile: maxWidth(breakpoints.mobile),\n\tmobileMedium: maxWidth(breakpoints.mobileMedium),\n\tmobileLandscape: maxWidth(breakpoints.mobileLandscape),\n\tphablet: maxWidth(breakpoints.phablet),\n\ttablet: maxWidth(breakpoints.tablet),\n\tdesktop: maxWidth(breakpoints.desktop),\n\tleftCol: maxWidth(breakpoints.leftCol),\n\twide: maxWidth(breakpoints.wide),\n};\n\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_media-queries--page#betweenand)\n *\n * @example\n *\tconst styles = css`\n *\t\t${between.phablet.and.desktop} {\n *\t\t\tpadding: 0 32px;\n *\t\t}\n * `;\n */\nexport const between = {\n\tmobile: {\n\t\tand: {\n\t\t\tmobileMedium: minWidthMaxWidth(\n\t\t\t\tbreakpoints.mobile,\n\t\t\t\tbreakpoints.mobileMedium,\n\t\t\t),\n\t\t\tmobileLandscape: minWidthMaxWidth(\n\t\t\t\tbreakpoints.mobile,\n\t\t\t\tbreakpoints.mobileLandscape,\n\t\t\t),\n\t\t\tphablet: minWidthMaxWidth(breakpoints.mobile, breakpoints.phablet),\n\t\t\ttablet: minWidthMaxWidth(breakpoints.mobile, breakpoints.tablet),\n\t\t\tdesktop: minWidthMaxWidth(breakpoints.mobile, breakpoints.desktop),\n\t\t\tleftCol: minWidthMaxWidth(breakpoints.mobile, breakpoints.leftCol),\n\t\t\twide: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.wide),\n\t\t},\n\t},\n\tmobileMedium: {\n\t\tand: {\n\t\t\tmobileLandscape: minWidthMaxWidth(\n\t\t\t\tbreakpoints.mobileMedium,\n\t\t\t\tbreakpoints.mobileLandscape,\n\t\t\t),\n\t\t\tphablet: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.phablet),\n\t\t\ttablet: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.tablet),\n\t\t\tdesktop: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.desktop),\n\t\t\tleftCol: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.leftCol),\n\t\t\twide: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.wide),\n\t\t},\n\t},\n\tmobileLandscape: {\n\t\tand: {\n\t\t\tphablet: minWidthMaxWidth(\n\t\t\t\tbreakpoints.mobileLandscape,\n\t\t\t\tbreakpoints.phablet,\n\t\t\t),\n\t\t\ttablet: minWidthMaxWidth(breakpoints.mobileLandscape, breakpoints.tablet),\n\t\t\tdesktop: minWidthMaxWidth(\n\t\t\t\tbreakpoints.mobileLandscape,\n\t\t\t\tbreakpoints.desktop,\n\t\t\t),\n\t\t\tleftCol: minWidthMaxWidth(\n\t\t\t\tbreakpoints.mobileLandscape,\n\t\t\t\tbreakpoints.leftCol,\n\t\t\t),\n\t\t\twide: minWidthMaxWidth(breakpoints.mobileLandscape, breakpoints.wide),\n\t\t},\n\t},\n\tphablet: {\n\t\tand: {\n\t\t\ttablet: minWidthMaxWidth(breakpoints.phablet, breakpoints.tablet),\n\t\t\tdesktop: minWidthMaxWidth(breakpoints.phablet, breakpoints.desktop),\n\t\t\tleftCol: minWidthMaxWidth(breakpoints.phablet, breakpoints.leftCol),\n\t\t\twide: minWidthMaxWidth(breakpoints.phablet, breakpoints.wide),\n\t\t},\n\t},\n\ttablet: {\n\t\tand: {\n\t\t\tdesktop: minWidthMaxWidth(breakpoints.tablet, breakpoints.desktop),\n\t\t\tleftCol: minWidthMaxWidth(breakpoints.tablet, breakpoints.leftCol),\n\t\t\twide: minWidthMaxWidth(breakpoints.tablet, breakpoints.wide),\n\t\t},\n\t},\n\tdesktop: {\n\t\tand: {\n\t\t\tleftCol: minWidthMaxWidth(breakpoints.desktop, breakpoints.leftCol),\n\t\t\twide: minWidthMaxWidth(breakpoints.desktop, breakpoints.wide),\n\t\t},\n\t},\n\tleftCol: {\n\t\tand: {\n\t\t\twide: minWidthMaxWidth(breakpoints.leftCol, breakpoints.wide),\n\t\t},\n\t},\n};\n","import { pxToRem } from '../utils/px-to-rem';\n\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_space--page) •\n * [Design System](https://theguardian.design/2a1e5182b/p/05f835-space)\n *\n * Can be applied to margin or padding properties, vertically or horizontally.\n *\n ** `space[1]` -> 4px\n ** `space[2]` -> 8px\n ** `space[3]` -> 12px\n ** `space[4]` -> 16px\n ** `space[5]` -> 20px\n ** `space[6]` -> 24px\n ** `space[9]` -> 36px\n ** `space[12]` -> 48px\n ** `space[24]` -> 96px\n */\nexport const space = {\n\t1: 4,\n\t2: 8,\n\t3: 12,\n\t4: 16,\n\t5: 20,\n\t6: 24,\n\t9: 36,\n\t12: 48,\n\t24: 96,\n} as const;\n\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_space--page) •\n * [Design System](https://theguardian.design/2a1e5182b/p/05f835-space)\n *\n * Can be applied to margin or padding properties, vertically or horizontally.\n *\n ** `remSpace[1]` -> 0.25rem\n ** `remSpace[2]` -> 0.5rem\n ** `remSpace[3]` -> 0.75rem\n ** `remSpace[4]` -> 1rem\n ** `remSpace[5]` -> 1.25rem\n ** `remSpace[6]` -> 1.5rem\n ** `remSpace[9]` -> 2.25rem\n ** `remSpace[12]` -> 3rem\n ** `remSpace[24]` -> 6rem\n */\nexport const remSpace: { [K in keyof typeof space]: string } = {\n\t1: `${pxToRem(space[1])}rem`,\n\t2: `${pxToRem(space[2])}rem`,\n\t3: `${pxToRem(space[3])}rem`,\n\t4: `${pxToRem(space[4])}rem`,\n\t5: `${pxToRem(space[5])}rem`,\n\t6: `${pxToRem(space[6])}rem`,\n\t9: `${pxToRem(space[9])}rem`,\n\t12: `${pxToRem(space[12])}rem`,\n\t24: `${pxToRem(space[24])}rem`,\n};\n\n/* TODO: this should be exposed as a number instead of a string,\n   so consumers can perform calculations on it */\n"],"names":["createAuthenticationEventParams","componentId","pageViewId","params","componentType","viewId","encodeURIComponent","constructQuery","query","Object","keys","map","param","value","queryValue","Array","isArray","v","join","DiscussionMeta","format","discussionApiUrl","shortUrlId","enableDiscussionSwitch","useDiscussion","joinUrl","commentCount","isClosedForComments","data","useApi","credentials","palette","decidePalette","_jsx","SignedInAs","user","userProfile","containerStyles","css","space","imageStyles","until","imageWrapper","headingStyles","headline","fontWeight","textStyles","textSans","text","headlineStyles","usernameStyles","linkStyles","signInLink","border","news","rowUntilDesktop","Heading","count","_jsxs","children","neutral","isBanned","privateFields","canPostComment","href","src","secureAvatarUrl","alt","displayName","checkForErrors","response","ok","Error","statusText","status","url","options","init","useSWR","fetch","then","res","json","fetcher","error","loading","dedupingInterval","discussion","ArticleDesign","ArticleDisplay","ArticlePillar","ArticleSpecial","multipleSlashesInRoute","args","replace","breakpoints","mobile","mobileMedium","mobileLandscape","phablet","tablet","desktop","leftCol","wide","maxWidth","minWidthMaxWidth","from","minWidth","and","pxToRem"],"sourceRoot":""}