{"version":3,"file":"KeyEventsCarousel-importable.legacy.bff6b635cc99e144854c.js","mappings":"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","sources":["webpack://@guardian/dotcom-rendering/./src/web/components/KeyEventCard.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/KeyEventsCarousel.importable.tsx","webpack://@guardian/dotcom-rendering/../../../libs/@guardian/source-react-components/src/hide/Hide.tsx"],"sourcesContent":["import { jsx as _jsx, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nimport { css } from '@emotion/react';\nimport { timeAgo } from '@guardian/libs';\nimport { from, space, textSans } from '@guardian/source-foundations';\nimport { Link } from '@guardian/source-react-components';\nimport { decidePalette } from '../lib/decidePalette';\nconst linkStyles = (palette) => css `\n\ttext-decoration: none;\n\n\t&::before {\n\t\tcontent: '';\n\t\tdisplay: block;\n\t\tposition: relative;\n\t\theight: 13px;\n\t\twidth: 13px;\n\t\tborder-radius: 50%;\n\t\tbackground-color: ${palette.background.keyEventBullet};\n\t\tmargin-bottom: ${space[1]}px;\n\t\tz-index: 2;\n\n\t\t${from.tablet} {\n\t\t\theight: 15px;\n\t\t\twidth: 15px;\n\t\t}\n\t}\n\n\t&:hover::before {\n\t\tbackground-color: ${palette.hover.keyEventBullet};\n\t}\n\n\t&:hover {\n\t\tspan {\n\t\t\tborder-bottom: 1px solid ${palette.hover.keyEventLink};\n\t\t}\n\t\tdiv {\n\t\t\ttext-decoration: underline ${palette.text.keyEvent};\n\t\t\ttext-underline-offset: 1px;\n\t\t}\n\t}\n`;\nconst summaryStyles = (palette) => css `\n\t&::before {\n\t\tbackground-color: ${palette.background.summaryEventBullet};\n\t}\n\n\t&:hover::before {\n\t\tbackground-color: ${palette.hover.summaryEventBullet};\n\t}\n`;\nconst listItemStyles = (palette) => css `\n\tposition: relative;\n\tpadding-bottom: ${space[3]}px;\n\tpadding-top: ${space[3]}px;\n\tpadding-right: ${space[3]}px;\n\tbackground-color: ${palette.background.keyEvent};\n\tlist-style: none;\n\tdisplay: block;\n\twidth: 162px;\n\tscroll-snap-align: start;\n\n\t${from.desktop} {\n\t\tpadding-bottom: ${space[3]}px;\n\t\tbackground-color: ${palette.background.keyEventFromDesktop};\n\t\twidth: 200px;\n\t\tpadding-right: ${space[5]}px;\n\t}\n\n\t&::before {\n\t\tcontent: '';\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\tborder-top: 1px dotted ${palette.border.keyEvent};\n\t\tleft: 0;\n\t\tright: 0;\n\t\ttop: 19px;\n\t}\n\n\t&:last-child::before {\n\t\tborder-top: 0;\n\t}\n`;\nconst textStyles = (palette) => css `\n\t${textSans.small({ fontWeight: 'regular', lineHeight: 'regular' })};\n\tcolor: ${palette.text.keyEvent};\n`;\nconst timeStyles = (palette) => css `\n\t${textSans.xsmall({ fontWeight: 'bold', lineHeight: 'tight' })};\n\tcolor: ${palette.text.keyEventTime};\n\tdisplay: block;\n`;\nexport const KeyEventCard = ({ id, blockFirstPublished, isSummary, title, filterKeyEvents, format, cardPosition = 'unknown position', }) => {\n    const palette = decidePalette(format);\n    const url = `?filterKeyEvents=${String(filterKeyEvents)}&page=with:block-${id}#block-${id}`;\n    const date = new Date(blockFirstPublished);\n    return (_jsx(\"li\", { css: listItemStyles(palette), children: _jsxs(Link, { priority: \"secondary\", css: [linkStyles(palette), isSummary && summaryStyles(palette)], href: url, \"data-link-name\": `key event card | ${cardPosition}`, children: [_jsx(\"time\", { dateTime: date.toISOString(), \"data-relativeformat\": \"med\", title: `${date.toLocaleDateString('en-GB', {\n                        hour: '2-digit',\n                        minute: '2-digit',\n                        weekday: 'long',\n                        year: 'numeric',\n                        month: 'long',\n                        day: 'numeric',\n                        timeZoneName: 'long',\n                    })}`, css: timeStyles(palette), children: timeAgo(date.getTime()) }), _jsx(\"div\", { css: textStyles(palette), children: title })] }) }));\n};\n","import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nimport { css } from '@emotion/react';\nimport { from, headline, space } from '@guardian/source-foundations';\nimport { Button, buttonThemeBrandAlt, Hide, SvgChevronLeftSingle, SvgChevronRightSingle, } from '@guardian/source-react-components';\nimport { useRef } from 'react';\nimport { decidePalette } from '../lib/decidePalette';\nimport { KeyEventCard } from './KeyEventCard';\nconst carouselStyles = (palette) => css `\n\tbackground-color: ${palette.background.keyEvent};\n\tscroll-snap-type: x mandatory;\n\tscroll-behavior: smooth;\n\toverflow-x: auto;\n\toverflow-y: hidden;\n\tmargin-right: -10px;\n\t${from.tablet} {\n\t\tmargin-right: -20px;\n\t}\n\n\t${from.desktop} {\n\t\tmargin-right: 0px;\n\t\tbackground-color: ${palette.background.keyEventFromDesktop};\n\t\tscrollbar-width: none;\n\t\t&::-webkit-scrollbar {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n`;\nconst leftMarginStyles = css `\n\t${from.desktop} {\n\t\tmargin-left: 240px;\n\t}\n`;\nconst marginBottomStyles = css `\n\t${from.desktop} {\n\t\tmargin-bottom: ${space[12]}px;\n\t}\n`;\nconst titleStyles = css `\n\t${headline.xxxsmall({ fontWeight: 'bold', lineHeight: 'regular' })};\n\tpadding-top: ${space[3]}px;\n`;\nconst containerStyles = css `\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tflex-direction: row;\n\talign-items: stretch;\n\twidth: fit-content;\n\tposition: relative;\n`;\nconst buttonStyles = css `\n\tposition: absolute;\n\tbottom: 0;\n\tmargin-bottom: ${space[4]}px;\n\tbackground-color: ${buttonThemeBrandAlt.button.backgroundPrimary};\n\t&:active,\n\t&:hover {\n\t\toutline: none;\n\t\tbackground-color: ${buttonThemeBrandAlt.button.backgroundTertiaryHover};\n\t}\n`;\nconst leftButton = css `\n\tleft: ${space[5]}px;\n`;\nconst rightButton = css `\n\tright: ${space[5]}px;\n`;\nconst isValidKeyEvent = (keyEvent) => {\n    return (typeof keyEvent.title === 'string' &&\n        typeof keyEvent.blockFirstPublished === 'number');\n};\nexport const KeyEventsCarousel = ({ keyEvents, filterKeyEvents, format, id, }) => {\n    const carousel = useRef(null);\n    const palette = decidePalette(format);\n    const cardWidth = 200;\n    const goPrevious = () => {\n        if (carousel.current)\n            carousel.current.scrollLeft -= cardWidth;\n    };\n    const goNext = () => {\n        if (carousel.current)\n            carousel.current.scrollLeft += cardWidth;\n    };\n    const filteredKeyEvents = keyEvents.filter(isValidKeyEvent);\n    const carouselLength = filteredKeyEvents.length;\n    const shortCarousel = carouselLength <= 4;\n    const longCarousel = carouselLength > 6;\n    return (_jsxs(_Fragment, { children: [_jsx(\"span\", { id: id }), _jsx(Hide, { from: \"desktop\", children: _jsx(\"div\", { css: titleStyles, children: \"Key events\" }) }), _jsxs(\"div\", { ref: carousel, id: \"key-events-carousel\", css: [\n                    carouselStyles(palette),\n                    shortCarousel && leftMarginStyles,\n                ], children: [_jsx(\"ul\", { css: [containerStyles, longCarousel && marginBottomStyles], children: filteredKeyEvents.map((keyEvent, index) => {\n                            return (_jsx(KeyEventCard, { format: format, filterKeyEvents: filterKeyEvents, id: keyEvent.id, blockFirstPublished: keyEvent.blockFirstPublished, isSummary: keyEvent.attributes.summary, title: keyEvent.title, cardPosition: `${index} of ${carouselLength}` }, keyEvent.id));\n                        }) }), _jsx(Hide, { until: \"desktop\", children: longCarousel && (_jsxs(_Fragment, { children: [_jsx(Button, { hideLabel: true, cssOverrides: [buttonStyles, leftButton], iconSide: \"left\", icon: _jsx(SvgChevronLeftSingle, {}), onClick: goPrevious, \"aria-label\": \"Move key events carousel backwards\", \"data-link-name\": \"key event carousel left chevron\", size: \"small\" }), _jsx(Button, { hideLabel: true, cssOverrides: [buttonStyles, rightButton], iconSide: \"left\", icon: _jsx(SvgChevronRightSingle, {}), onClick: goNext, \"aria-label\": \"Move key events carousel forwards\", \"data-link-name\": \"key event carousel right chevron\", size: \"small\" })] })) })] })] }));\n};\n","import { css } from '@emotion/react';\nimport type { EmotionJSX } from '@emotion/react/types/jsx-namespace';\nimport { from as fromMq, until as untilMq } from '@guardian/source-foundations';\nimport type { Breakpoint } from '@guardian/source-foundations';\nimport type { HTMLAttributes } from 'react';\nimport type { Props } from '../@types/Props';\n\nexport interface HideProps extends HTMLAttributes<HTMLDivElement>, Props {\n\t/**\n\t * Hide child content if the viewport is narrower than the specified breakpoint.\n\t */\n\tuntil?: Breakpoint;\n\t/**\n\t * Hide child content if the viewport is as wide, or wider than, the specified breakpoint.\n\t */\n\tfrom?: Breakpoint;\n\t/**\n\t * **Deprecated**\n\t *\n\t * Use `from` instead.\n\t *\n\t * @deprecated Use `from` instead.\n\t */\n\tabove?: Breakpoint;\n\t/**\n\t * **Deprecated**\n\t *\n\t * Use `until` instead.\n\t *\n\t * @deprecated Use `until` instead.\n\t */\n\tbelow?: Breakpoint;\n}\n\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/story/source-react-components_hide--hidden-from-tablet-at-mobile) •\n * [Design System](https://theguardian.design/2a1e5182b/p/78cb73-hide) •\n * [GitHub](https://github.com/guardian/csnx/tree/main/libs/@guardian/source-react-components/src/hide/Hide.tsx) •\n * [NPM](https://www.npmjs.com/package/@guardian/source-react-components)\n *\n * Hides child content `until` and/or `from` a given breakpoint.\n */\nexport const Hide = ({\n\tchildren,\n\tabove, // deprecated\n\tbelow, // deprecated\n\tfrom = above,\n\tuntil = below,\n}: HideProps): EmotionJSX.Element => {\n\tlet whenToHide;\n\tif (until) {\n\t\twhenToHide = css`\n\t\t\t${untilMq[until]} {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t`;\n\t}\n\tif (from) {\n\t\twhenToHide = css`\n\t\t\t${whenToHide}\n\t\t\t${fromMq[from]} {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t`;\n\t}\n\n\treturn <span css={whenToHide}>{children}</span>;\n};\n"],"names":["linkStyles","palette","css","background","keyEventBullet","space","from","hover","keyEventLink","text","keyEvent","summaryStyles","summaryEventBullet","listItemStyles","keyEventFromDesktop","border","textStyles","textSans","fontWeight","lineHeight","timeStyles","keyEventTime","KeyEventCard","id","blockFirstPublished","isSummary","title","filterKeyEvents","format","cardPosition","decidePalette","url","String","date","Date","_jsx","children","_jsxs","Link","priority","href","dateTime","toISOString","toLocaleDateString","hour","minute","weekday","year","month","day","timeZoneName","timeAgo","getTime","carouselStyles","leftMarginStyles","marginBottomStyles","titleStyles","headline","containerStyles","buttonStyles","buttonThemeBrandAlt","leftButton","rightButton","isValidKeyEvent","KeyEventsCarousel","keyEvents","carousel","useRef","filteredKeyEvents","filter","carouselLength","length","shortCarousel","longCarousel","_Fragment","Hide","ref","map","index","attributes","summary","until","Button","hideLabel","cssOverrides","iconSide","icon","SvgChevronLeftSingle","onClick","current","scrollLeft","size","SvgChevronRightSingle","below","from$1","until$1"],"sourceRoot":""}