{"version":3,"file":"OnwardsUpper-importable.modern.9c9e9b5020244bf410b0.js","mappings":"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","sources":["webpack://@guardian/dotcom-rendering/./src/web/components/FetchOnwardsData.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Flex.tsx","webpack://@guardian/dotcom-rendering/./src/web/lib/hiddenStyles.tsx","webpack://@guardian/dotcom-rendering/./src/web/lib/edition.ts","webpack://@guardian/dotcom-rendering/./src/web/components/ContainerTitle.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/ElementContainer.tsx","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/src/link/ButtonLink.js","webpack://@guardian/dotcom-rendering/./src/web/components/ShowHideButton.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/SvgCrossword.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Treats.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Section.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/OnwardsUpper.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Placeholder.tsx","webpack://@guardian/dotcom-rendering/./src/web/lib/center.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/decideDesign.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/decideDisplay.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/decideTheme.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/decideFormat.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/decideTrail.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/getDataLinkName.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/revealStyles.ts","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/libs/esm/joinUrl/joinUrl.js"],"sourcesContent":["import { css } from '@emotion/react';\nimport { useEffect } from 'react';\nimport type { OnwardsSource } from '../../types/onwards';\nimport type { FETrailType, TrailType } from '../../types/trails';\nimport { decideTrail } from '../lib/decideTrail';\nimport { revealStyles } from '../lib/revealStyles';\nimport { useApi } from '../lib/useApi';\nimport { Carousel } from './Carousel.importable';\nimport { Placeholder } from './Placeholder';\n\ntype Props = {\n\turl: string;\n\tlimit: number; // Limit the number of items shown (the api often returns more)\n\tonwardsSource: OnwardsSource;\n\tformat: ArticleFormat;\n};\n\ntype OnwardsResponse = {\n\ttrails: FETrailType[];\n\theading: string;\n\tdisplayname: string;\n\tdescription: string;\n};\n\nconst minHeight = css`\n\tmin-height: 300px;\n`;\n\nexport const FetchOnwardsData = ({\n\turl,\n\tlimit,\n\tonwardsSource,\n\tformat,\n}: Props) => {\n\tconst { data, loading, error } = useApi<OnwardsResponse>(url);\n\n\tconst buildTrails = (\n\t\ttrails: FETrailType[],\n\t\ttrailLimit: number,\n\t): TrailType[] => {\n\t\treturn trails.slice(0, trailLimit).map(decideTrail);\n\t};\n\n\tuseEffect(() => {\n\t\tif (data) {\n\t\t\tconst pendingElements = document.querySelectorAll<HTMLElement>(\n\t\t\t\t'.onwards > .pending',\n\t\t\t);\n\t\t\tpendingElements.forEach((element) => {\n\t\t\t\telement.classList.add('reveal');\n\t\t\t\telement.classList.remove('pending');\n\t\t\t});\n\t\t}\n\t});\n\n\tif (error) {\n\t\t// Send the error to Sentry and then prevent the element from rendering\n\t\twindow.guardian.modules.sentry.reportError(error, 'onwards-lower');\n\t\treturn null;\n\t}\n\n\tif (loading) {\n\t\treturn (\n\t\t\t<Placeholder\n\t\t\t\t// 300 is a best guess\n\t\t\t\theight={300}\n\t\t\t\tshouldShimmer={false}\n\t\t\t\tbackgroundColor=\"white\"\n\t\t\t/>\n\t\t);\n\t}\n\n\tif (data?.trails) {\n\t\treturn (\n\t\t\t<div css={[minHeight, revealStyles]} className=\"onwards\">\n\t\t\t\t<div className=\"pending\">\n\t\t\t\t\t<Carousel\n\t\t\t\t\t\theading={data.heading || data.displayname} // Sometimes the api returns heading as 'displayName'\n\t\t\t\t\t\ttrails={buildTrails(data.trails, limit)}\n\t\t\t\t\t\tdescription={data.description}\n\t\t\t\t\t\tonwardsSource={onwardsSource}\n\t\t\t\t\t\tformat={format}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn null;\n};\n","import { css } from '@emotion/react';\n\ntype Props = {\n\tchildren: React.ReactNode;\n\tdirection?: 'row' | 'column';\n\tjustify?: 'space-between' | 'flex-start'; // Extend as required\n\tgap?: 'initial' | string;\n};\n\nexport const Flex = ({\n\tchildren,\n\tdirection = 'row',\n\tjustify = 'space-between',\n\tgap = 'initial',\n}: Props) => (\n\t<div\n\t\tcss={css`\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: ${direction};\n\t\t\tjustify-content: ${justify};\n\t\t\tgap: ${gap};\n\t\t\t/* Fixes IE 10/11 bug that collapses this container by default: */\n\t\t\t/* stylelint-disable-next-line property-no-vendor-prefix */\n\t\t\t-ms-flex-positive: 1;\n\t\t`}\n\t>\n\t\t{children}\n\t</div>\n);\n","import { css } from '@emotion/react';\n\nexport const hiddenStyles = css`\n\t&.hidden {\n\t\tdisplay: none;\n\t}\n`;\n","import type { EditionLinkType } from '../../model/extract-nav';\n\nexport type EditionId = (typeof editionList)[number]['editionId'];\n\nexport const editionList = [\n\t{\n\t\turl: '/preference/edition/au',\n\t\teditionId: 'UK',\n\t\tlongTitle: 'UK edition',\n\t\ttitle: 'UK edition',\n\t\tlocale: 'en-gb',\n\t},\n\t{\n\t\turl: '/preference/edition/us',\n\t\teditionId: 'US',\n\t\tlongTitle: 'US edition',\n\t\ttitle: 'US edition',\n\t\tlocale: 'en-us',\n\t},\n\t{\n\t\turl: '/preference/edition/au',\n\t\teditionId: 'AU',\n\t\tlongTitle: 'Australia edition',\n\t\ttitle: 'AU edition',\n\t\tlocale: 'en-au',\n\t},\n\t{\n\t\turl: '/preference/edition/int',\n\t\teditionId: 'INT',\n\t\tlongTitle: 'International edition',\n\t\ttitle: 'International edition',\n\t\tlocale: 'en-gb',\n\t},\n\t{\n\t\turl: '/preference/edition/eur',\n\t\teditionId: 'EUR',\n\t\tlongTitle: 'Europe edition',\n\t\ttitle: 'Europe edition',\n\t\tlocale: 'en-gb',\n\t},\n] as const;\n\nexport const getEditionFromId = (editionId: EditionId): EditionLinkType => {\n\treturn (\n\t\teditionList.find((edition) => edition.editionId === editionId) ??\n\t\teditionList[0]\n\t);\n};\n\nexport const getRemainingEditions = (\n\teditionId: EditionId,\n): EditionLinkType[] => {\n\treturn editionList.filter((edition) => edition.editionId !== editionId);\n};\n\n/**\n * Determine if a string is one of the permitted edition strings\n *\n * @param s The string to test\n */\nexport const isEditionId = (s: string): s is EditionId =>\n\teditionList.map(({ editionId }) => String(editionId)).includes(s);\n","import { css } from '@emotion/react';\nimport {\n\tbody,\n\theadline,\n\tneutral,\n\tnews,\n\tspace,\n\tuntil,\n} from '@guardian/source-foundations';\nimport type { DCRContainerPalette } from '../../types/front';\nimport type { Colour } from '../../types/palette';\nimport { decideContainerOverrides } from '../lib/decideContainerOverrides';\nimport type { EditionId } from '../lib/edition';\nimport { getEditionFromId } from '../lib/edition';\n\ntype Props = {\n\ttitle?: string;\n\tfontColour?: string;\n\tdescription?: string;\n\turl?: string;\n\tcontainerPalette?: DCRContainerPalette;\n\tshowDateHeader?: boolean;\n\teditionId?: EditionId;\n};\n\nconst linkStyles = css`\n\ttext-decoration: none;\n\tcolor: ${neutral[7]};\n\n\t:hover {\n\t\ttext-decoration: underline;\n\t}\n`;\n\nconst headerStyles = (fontColour?: string) => css`\n\t${headline.xsmall({ fontWeight: 'bold' })};\n\tcolor: ${fontColour ?? neutral[7]};\n\tpadding-bottom: ${space[1]}px;\n\tpadding-top: 6px;\n\toverflow-wrap: break-word; /*if a single word is too long, this will break the word up rather than have the display be affected*/\n`;\n\nconst descriptionStyles = (fontColour?: string) => css`\n\t${body.xsmall({ fontWeight: 'medium' })};\n\tcolor: ${fontColour ?? neutral[46]};\n\tp {\n\t\t/* Handle paragraphs in the description */\n\t\tmargin-bottom: ${space[3]}px;\n\t}\n\ta {\n\t\tcolor: ${neutral[7]};\n\t\ttext-decoration: none;\n\t}\n`;\n\nconst bottomMargin = css`\n\tmargin-bottom: ${space[2]}px;\n`;\n\nconst marginStyles = css`\n\tmargin-left: 0;\n`;\n\nconst dateTextStyles = (color: Colour) => css`\n\t${headline.xxxsmall({ fontWeight: 'bold' })};\n\tcolor: ${color};\n\t${until.tablet} {\n\t\tdisplay: none;\n\t}\n`;\n\n/**\n * ContainerTitle\n *\n * For the date header to be shown, a valid editionId must be passed, as the\n * date is based off of the edition timezone.\n */\nexport const ContainerTitle = ({\n\ttitle,\n\tfontColour,\n\tdescription,\n\turl,\n\tcontainerPalette,\n\tshowDateHeader,\n\teditionId,\n}: Props) => {\n\tif (!title) return null;\n\n\tconst overrides =\n\t\tcontainerPalette && decideContainerOverrides(containerPalette);\n\n\tconst now = new Date();\n\tconst locale = editionId && getEditionFromId(editionId).locale;\n\treturn (\n\t\t<div css={marginStyles}>\n\t\t\t{url ? (\n\t\t\t\t<a css={[linkStyles, bottomMargin]} href={url}>\n\t\t\t\t\t<h2 css={headerStyles(fontColour)}>{title}</h2>\n\t\t\t\t</a>\n\t\t\t) : (\n\t\t\t\t<h2 css={headerStyles(fontColour)}>{title}</h2>\n\t\t\t)}\n\t\t\t{!!description && (\n\t\t\t\t<div\n\t\t\t\t\tcss={[descriptionStyles(fontColour), bottomMargin]}\n\t\t\t\t\tdangerouslySetInnerHTML={{ __html: description }}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t{showDateHeader && editionId && (\n\t\t\t\t<>\n\t\t\t\t\t<span\n\t\t\t\t\t\tcss={dateTextStyles(\n\t\t\t\t\t\t\toverrides?.text.containerDate ?? neutral[0],\n\t\t\t\t\t\t)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{now.toLocaleDateString(locale, { weekday: 'long' })}\n\t\t\t\t\t</span>\n\t\t\t\t\t<span\n\t\t\t\t\t\tcss={[\n\t\t\t\t\t\t\tcss`\n\t\t\t\t\t\t\t\tdisplay: block;\n\t\t\t\t\t\t\t`,\n\t\t\t\t\t\t\tdateTextStyles(\n\t\t\t\t\t\t\t\toverrides?.text.containerDate ?? news[400],\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tbottomMargin,\n\t\t\t\t\t\t]}\n\t\t\t\t\t>\n\t\t\t\t\t\t{now.toLocaleDateString(locale, {\n\t\t\t\t\t\t\tday: 'numeric',\n\t\t\t\t\t\t\tmonth: 'long',\n\t\t\t\t\t\t\tyear: 'numeric',\n\t\t\t\t\t\t})}\n\t\t\t\t\t</span>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n","import { ClassNames, css as emoCss } from '@emotion/react';\nimport { border, from, space } from '@guardian/source-foundations';\n// @ts-expect-error\nimport { jsx as _jsx } from 'react/jsx-runtime';\nimport { center } from '../lib/center';\n\nconst sidePadding = emoCss`\n\tpadding-left: 10px;\n\tpadding-right: 10px;\n\n\t${from.mobileLandscape} {\n\t\tpadding-left: 20px;\n\t\tpadding-right: 20px;\n\t}\n`;\n\nconst bottomPadding = emoCss`\n\tpadding-bottom: ${space[9]}px;\n`;\n\nconst sideBorderStyles = (colour: string) => emoCss`\n\t${from.tablet} {\n\t\tborder-left: 1px solid ${colour};\n\t\tborder-right: 1px solid ${colour};\n\t}\n`;\n\nconst topBorderStyles = (colour: string) => emoCss`\n\tborder-top: 1px solid ${colour};\n`;\n\nconst setBackgroundColour = (colour: string) => emoCss`\n\tbackground-color: ${colour};\n`;\n\ntype Props = {\n\tsectionId?: string;\n\tshowSideBorders?: boolean;\n\tshowTopBorder?: boolean;\n\tpadSides?: boolean;\n\tpadBottom?: boolean;\n\tbackgroundColour?: string;\n\tinnerBackgroundColour?: string;\n\tborderColour?: string;\n\tchildren?: React.ReactNode;\n\tshouldCenter?: boolean;\n\telement?:\n\t\t| 'div'\n\t\t| 'article'\n\t\t| 'aside'\n\t\t| 'nav'\n\t\t| 'main'\n\t\t| 'header'\n\t\t| 'section'\n\t\t| 'footer'; // ElementContainer is generally a top-level wrapper\n\tclassName?: string;\n\tophanComponentName?: string;\n\tophanComponentLink?: string;\n\tcontainerName?: string;\n};\n\n/**\n * @deprecated please use Section fullWidth={true}  instead\n */\nexport const ElementContainer = ({\n\tsectionId,\n\tshowSideBorders = true,\n\tshowTopBorder = true,\n\tpadSides = true,\n\tpadBottom = false,\n\tborderColour = border.secondary,\n\tbackgroundColour,\n\tinnerBackgroundColour,\n\tshouldCenter = true,\n\tchildren,\n\telement = 'div',\n\tclassName,\n\tophanComponentName,\n\tophanComponentLink,\n\tcontainerName,\n}: Props) => (\n\t<ClassNames>\n\t\t{({ css }) => {\n\t\t\tconst child = (\n\t\t\t\t<div\n\t\t\t\t\t/**\n\t\t\t\t\t * id is being used to set the containerId in @see {ShowMore.importable.tsx}\n\t\t\t\t\t * this id pre-existed showMore so is probably also being used for something else.\n\t\t\t\t\t */\n\t\t\t\t\tid={sectionId}\n\t\t\t\t\tcss={[\n\t\t\t\t\t\tshouldCenter && center,\n\t\t\t\t\t\tshowSideBorders && sideBorderStyles(borderColour),\n\t\t\t\t\t\tshowTopBorder && topBorderStyles(borderColour),\n\t\t\t\t\t\tinnerBackgroundColour &&\n\t\t\t\t\t\t\tsetBackgroundColour(innerBackgroundColour),\n\t\t\t\t\t\tpadSides && sidePadding,\n\t\t\t\t\t\tpadBottom && bottomPadding,\n\t\t\t\t\t]}\n\t\t\t\t>\n\t\t\t\t\t{children}\n\t\t\t\t</div>\n\t\t\t);\n\t\t\tconst style = css`\n\t\t\t\t${backgroundColour && setBackgroundColour(backgroundColour)};\n\t\t\t`;\n\t\t\t// Create a react element from the tagName passed in OR\n\t\t\t// default to <div>\n\t\t\treturn _jsx(`${element}`, {\n\t\t\t\t'data-link-name': ophanComponentLink,\n\t\t\t\t'data-component': ophanComponentName,\n\t\t\t\t'data-container-name': containerName,\n\t\t\t\tclassName: className ? `${style} ${className}` : style,\n\t\t\t\tchildren: child,\n\t\t\t});\n\t\t}}\n\t</ClassNames>\n);\n","import { jsx } from '@emotion/react/jsx-runtime';\nimport { linkContents } from './shared.js';\nimport { linkStyles } from './styles.js';\n\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/story/source-react-components_buttonlink--primary-button-link-default-theme) â€¢\n * [Design System](https://theguardian.design/2a1e5182b/p/43c26b-link/b/048fd1) â€¢\n * [GitHub](https://github.com/guardian/csnx/tree/main/libs/@guardian/source-react-components/src/link/ButtonLink.tsx) â€¢\n * [NPM](https://www.npmjs.com/package/@guardian/source-react-components)\n *\n * Links are used as navigational aids. They may appear inline in a paragraph, as items in a list or as stand alone text elements.\n *\n * The following themes are supported: `light`, `brand`, `brandYellow`\n */\nconst ButtonLink = ({ priority = 'primary', icon: iconSvg, iconSide = 'left', cssOverrides, children, ...props }) => {\n    return (jsx(\"button\", { css: linkStyles({\n            isButton: true,\n            priority,\n            iconSvg,\n            iconSide,\n            cssOverrides,\n        }), ...props, children: linkContents({ children, iconSvg, iconSide }) }));\n};\n\nexport { ButtonLink };\n//# sourceMappingURL=ButtonLink.js.map\n","import { css } from '@emotion/react';\nimport { neutral, space, textSans } from '@guardian/source-foundations';\nimport { ButtonLink } from '@guardian/source-react-components';\n\ntype Props = {\n\tsectionId: string;\n\toverrideContainerToggleColour?: string;\n};\n\nconst showHideButtonCss = (\n\toverrideContainerToggleColour: string | undefined,\n) => css`\n\tcolor: ${overrideContainerToggleColour ?? neutral[46]};\n\t${textSans.xsmall()};\n\n\tmargin-top: ${space[2]}px;\n\tmargin-right: 10px;\n\tmargin-bottom: ${space[2]}px;\n\tposition: relative;\n\talign-items: bottom;\n\ttext-decoration: none;\n`;\n\n/**\n * This component creates the styled button for showing & hiding a container,\n * The functionality for this is implemented in a single island 'ShownHideContainers.importable'\n **/\nexport const ShowHideButton = ({\n\tsectionId,\n\toverrideContainerToggleColour,\n}: Props) => {\n\treturn (\n\t\t<ButtonLink\n\t\t\tpriority=\"secondary\"\n\t\t\tcssOverrides={showHideButtonCss(overrideContainerToggleColour)}\n\t\t\tdata-link-name=\"Hide\"\n\t\t\tdata-show-hide-button={sectionId}\n\t\t\taria-controls={sectionId}\n\t\t\taria-expanded={true}\n\t\t>\n\t\t\tHide\n\t\t</ButtonLink>\n\t);\n};\n","export const SvgCrossword = () => (\n\t<svg viewBox=\"0, 0, 106, 106\" width=\"106px\" height=\"106px\">\n\t\t<rect x=\"0\" y=\"0\" fill=\"#000000\" width=\"106\" height=\"106\"></rect>\n\t\t<rect x=\"16\" y=\"61\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"61\" y=\"1\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"91\" y=\"46\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"1\" y=\"61\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"61\" y=\"31\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"46\" y=\"91\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"1\" y=\"46\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"76\" y=\"1\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"61\" y=\"46\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"46\" y=\"31\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"31\" y=\"91\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"31\" y=\"46\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"76\" y=\"61\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"1\" y=\"76\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"91\" y=\"31\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"31\" y=\"31\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"1\" y=\"31\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"31\" y=\"61\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"31\" y=\"16\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"61\" y=\"16\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"91\" y=\"76\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"91\" y=\"16\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"16\" y=\"91\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"61\" y=\"91\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"91\" y=\"1\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"1\" y=\"91\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"46\" y=\"61\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"76\" y=\"91\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"31\" y=\"1\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"91\" y=\"61\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"46\" y=\"1\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"1\" y=\"16\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"16\" y=\"31\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"61\" y=\"61\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"61\" y=\"76\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t\t<rect x=\"91\" y=\"91\" width=\"14\" height=\"14\" fill=\"#ffffff\"></rect>\n\t</svg>\n);\n","import { css } from '@emotion/react';\nimport { ArticleDesign, ArticleDisplay } from '@guardian/libs';\nimport {\n\tfrom,\n\theadline,\n\tneutral,\n\tspace,\n\ttextSans,\n} from '@guardian/source-foundations';\nimport { Link } from '@guardian/source-react-components';\nimport { Fragment } from 'react';\nimport type { TreatType } from '../../types/front';\nimport { decidePalette } from '../lib/decidePalette';\nimport { generateSources, getFallbackSource } from './Picture';\nimport { SvgCrossword } from './SvgCrossword';\n\nconst TextTreat = ({\n\ttext,\n\tlinkTo,\n\tborderColour,\n}: {\n\ttext: string;\n\tlinkTo: string;\n\tborderColour?: string;\n}) => (\n\t<li\n\t\tcss={css`\n\t\t\tmargin-top: ${space[3]}px;\n\t\t\tborder-left: 1px solid ${borderColour ?? neutral[86]};\n\t\t\tborder-top: 1px solid ${borderColour ?? neutral[86]};\n\t\t\tpadding-top: ${space[1]}px;\n\t\t\tpadding-left: ${space[2]}px;\n\t\t`}\n\t>\n\t\t<Link\n\t\t\tpriority=\"secondary\"\n\t\t\tsubdued={true}\n\t\t\tcssOverrides={css`\n\t\t\t\t${textSans.xxsmall()}\n\t\t\t\ttext-decoration: none;\n\t\t\t`}\n\t\t\thref={linkTo}\n\t\t>\n\t\t\t{text}\n\t\t</Link>\n\t</li>\n);\n\nconst ImageTreat = ({\n\timageUrl,\n\tlinks,\n\taltText,\n\tbackgroundColour,\n}: {\n\timageUrl: string;\n\tlinks: { text: string; title?: string; linkTo: string }[];\n\taltText?: string;\n\tbackgroundColour: string;\n}) => {\n\tconst sources = generateSources(imageUrl, [\n\t\t{ breakpoint: 320, width: 130 },\n\t]);\n\tconst fallbackSource = getFallbackSource(sources);\n\n\treturn (\n\t\t<li>\n\t\t\t<div\n\t\t\t\tcss={css`\n\t\t\t\t\t${from.wide} {\n\t\t\t\t\t\tmargin-bottom: -10px;\n\t\t\t\t\t}\n\t\t\t\t\t${from.leftCol} {\n\t\t\t\t\t\tmargin-bottom: -25px;\n\t\t\t\t\t}\n\t\t\t\t`}\n\t\t\t>\n\t\t\t\t<picture>\n\t\t\t\t\t{sources.map((source) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Fragment key={source.breakpoint}>\n\t\t\t\t\t\t\t\t{/* High resolution (HDPI) sources*/}\n\t\t\t\t\t\t\t\t<source\n\t\t\t\t\t\t\t\t\tsrcSet={source.hiResUrl}\n\t\t\t\t\t\t\t\t\tmedia={`(min-width: ${source.breakpoint}px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: ${source.breakpoint}px) and (min-resolution: 120dpi)`}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{/* Low resolution (MDPI) source*/}\n\t\t\t\t\t\t\t\t<source\n\t\t\t\t\t\t\t\t\tsrcSet={source.lowResUrl}\n\t\t\t\t\t\t\t\t\tmedia={`(min-width: ${source.breakpoint}px)`}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={fallbackSource.lowResUrl}\n\t\t\t\t\t\talt={altText}\n\t\t\t\t\t\twidth=\"130px\"\n\t\t\t\t\t\theight=\"auto\"\n\t\t\t\t\t/>\n\t\t\t\t</picture>\n\t\t\t</div>\n\t\t\t{links.map((link, index) => {\n\t\t\t\treturn (\n\t\t\t\t\t<a\n\t\t\t\t\t\tkey={link.linkTo}\n\t\t\t\t\t\thref={link.linkTo}\n\t\t\t\t\t\tdata-ignore=\"global-link-styling\"\n\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\ttext-decoration: none;\n\t\t\t\t\t\t`}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\t\tmargin-bottom: 8px;\n\t\t\t\t\t\t\t\tdisplay: block;\n\t\t\t\t\t\t\t\twidth: 253px;\n\t\t\t\t\t\t\t\tmargin-top: 6px;\n\t\t\t\t\t\t\t\tmargin-left: 10px;\n\t\t\t\t\t\t\t\t${from.leftCol} {\n\t\t\t\t\t\t\t\t\tmargin-left: 0;\n\t\t\t\t\t\t\t\t\twidth: 140px;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t${from.wide} {\n\t\t\t\t\t\t\t\t\twidth: 168px;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\t\t\t${headline.xxxsmall()};\n\t\t\t\t\t\t\t\t\tfont-size: 16px;\n\t\t\t\t\t\t\t\t\tbackground-color: ${index % 2 === 0\n\t\t\t\t\t\t\t\t\t\t? neutral[0]\n\t\t\t\t\t\t\t\t\t\t: backgroundColour};\n\t\t\t\t\t\t\t\t\tpadding: 0 5px 4px;\n\t\t\t\t\t\t\t\t\tbox-decoration-break: clone;\n\t\t\t\t\t\t\t\t\tposition: relative;\n\t\t\t\t\t\t\t\t\tcolor: ${neutral[100]};\n\t\t\t\t\t\t\t\t\ttext-decoration: none;\n\t\t\t\t\t\t\t\t\t:hover {\n\t\t\t\t\t\t\t\t\t\ttext-decoration: underline;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{link.title}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t{link.text}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</a>\n\t\t\t\t);\n\t\t\t})}\n\t\t</li>\n\t);\n};\n\nexport const Treats = ({\n\ttreats,\n\tborderColour,\n}: {\n\ttreats: TreatType[];\n\tborderColour?: string;\n}) => {\n\tif (treats.length === 0) return null;\n\treturn (\n\t\t<ul\n\t\t\tcss={css`\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t`}\n\t\t>\n\t\t\t{treats.map((treat) => {\n\t\t\t\tconst [link] = treat.links;\n\t\t\t\tif (link?.linkTo === '/crosswords' && link.text) {\n\t\t\t\t\t// Treats that link to /crosswords are special. If any\n\t\t\t\t\t// treat has this exact url then an svg of a crossword\n\t\t\t\t\t// is displayed above the text\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Fragment key={link.linkTo}>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<a href={link.linkTo}>\n\t\t\t\t\t\t\t\t\t<SvgCrossword />\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t{treat.links.map(({ linkTo, text }) => (\n\t\t\t\t\t\t\t\t<TextTreat\n\t\t\t\t\t\t\t\t\tkey={linkTo}\n\t\t\t\t\t\t\t\t\ttext={text}\n\t\t\t\t\t\t\t\t\tlinkTo={linkTo}\n\t\t\t\t\t\t\t\t\tborderColour={borderColour}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\ttreat.imageUrl &&\n\t\t\t\t\ttreat.altText &&\n\t\t\t\t\ttreat.theme !== undefined\n\t\t\t\t) {\n\t\t\t\t\tconst palette = decidePalette({\n\t\t\t\t\t\tdisplay: ArticleDisplay.Standard,\n\t\t\t\t\t\tdesign: ArticleDesign.Standard,\n\t\t\t\t\t\ttheme: treat.theme,\n\t\t\t\t\t});\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<ImageTreat\n\t\t\t\t\t\t\tkey={treat.imageUrl}\n\t\t\t\t\t\t\timageUrl={treat.imageUrl}\n\t\t\t\t\t\t\tlinks={treat.links}\n\t\t\t\t\t\t\taltText={treat.altText}\n\t\t\t\t\t\t\tbackgroundColour={palette.background.treat}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn (\n\t\t\t\t\t<>\n\t\t\t\t\t\t{treat.links.map(({ text, linkTo }) => (\n\t\t\t\t\t\t\t<TextTreat\n\t\t\t\t\t\t\t\tkey={linkTo}\n\t\t\t\t\t\t\t\ttext={text}\n\t\t\t\t\t\t\t\tlinkTo={linkTo}\n\t\t\t\t\t\t\t\tborderColour={borderColour}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</>\n\t\t\t\t);\n\t\t\t})}\n\t\t</ul>\n\t);\n};\n","import { css } from '@emotion/react';\nimport type { ArticleFormat } from '@guardian/libs';\nimport { ArticleDesign } from '@guardian/libs';\nimport { from, space, until } from '@guardian/source-foundations';\nimport type { DCRContainerPalette, TreatType } from '../../types/front';\nimport { decideContainerOverrides } from '../lib/decideContainerOverrides';\nimport type { EditionId } from '../lib/edition';\nimport { hiddenStyles } from '../lib/hiddenStyles';\nimport { ContainerTitle } from './ContainerTitle';\nimport { ElementContainer } from './ElementContainer';\nimport { Flex } from './Flex';\nimport { Hide } from './Hide';\nimport { LeftColumn } from './LeftColumn';\nimport { ShowHideButton } from './ShowHideButton';\nimport { Treats } from './Treats';\n\n/**\n * ----- First time here? -----\n * If you're unsure how to use this component, check out `Section.stories.tsx` and\n * try running it in storybook to get an idea of how this component is used!\n */\ntype Props = {\n\t/** This text will be used as the h2 shown in the left column for the section */\n\ttitle?: string;\n\t/** Allows the colour of the title to be changed */\n\tfontColour?: string;\n\t/** This text shows below the title */\n\tdescription?: string;\n\t/** The title can be made into a link using this property */\n\turl?: string;\n\t/** The html `id` property of the element */\n\tsectionId?: string;\n\t/** Defaults to `true`. If we should render the left and right borders */\n\tshowSideBorders?: boolean;\n\tcentralBorder?: 'partial' | 'full';\n\t/** Defaults to `true`. If we should render the top border */\n\tshowTopBorder?: boolean;\n\t/** Defaults to `true`. If we should add padding around the outer left and right edges */\n\tpadSides?: boolean;\n\t/** Defaults to `true`. If we should add padding around the outer left and right edges */\n\tpadBottom?: boolean;\n\t/** Defaults to `false`. If we should add padding to the bottom of `children` */\n\tpadContent?: boolean;\n\t/** The html tag used by Section defaults to `section` but can be overridden here */\n\telement?:\n\t\t| 'div'\n\t\t| 'article'\n\t\t| 'aside'\n\t\t| 'nav'\n\t\t| 'main'\n\t\t| 'header'\n\t\t| 'section'\n\t\t| 'footer';\n\t/** Sets a max width and margin auto to center children */\n\tshouldCenter?: boolean;\n\t/** Defaults to `true`. Adds margins to the top and bottom */\n\tverticalMargins?: boolean;\n\t/** Applies a background colour to the entire width */\n\tbackgroundColour?: string;\n\t/** The colour of borders can be overriden */\n\tborderColour?: string;\n\t/** A React component can be passed to be inserted inside the left column */\n\tleftContent?: React.ReactNode;\n\tchildren?: React.ReactNode;\n\t/** Defaults to `false`. If true, `children` is rendered all the way right */\n\tstretchRight?: boolean;\n\t/** Some page types have a different left column width */\n\tleftColSize?: LeftColSize;\n\tformat?: ArticleFormat;\n\t/** The string used to set the `data-component` Ophan attribute */\n\tophanComponentName?: string;\n\t/** The string used to set the `data-link-name` Ophan attribute */\n\tophanComponentLink?: string;\n\t/**\n\t * ðŸ› ï¸ DEBUG ONLY ðŸ› ï¸\n\t * Used to highlight the name of a container when DCR debug mode is enabled\n\t *\n\t * @see https://github.com/guardian/dotcom-rendering/blob/main/dotcom-rendering/src/web/browser/debug/README.md\n\t */\n\tcontainerName?: string;\n\t/** Fronts containers can have their styling overridden using a `containerPalette` */\n\tcontainerPalette?: DCRContainerPalette;\n\t/** Defaults to `false`. If true a Hide button is show top right allowing this section\n\t * to be collapsed\n\t */\n\ttoggleable?: boolean;\n\t/** Applies a background colour only to the content inside the left and right borders */\n\tinnerBackgroundColour?: string;\n\t/** Defaults to `false`. If true and `editionId` is also passed, then a date string is\n\t * shown under the title. Typically only used on Headlines containers on fronts\n\t */\n\tshowDateHeader?: boolean;\n\t/** Used in parnership with `showDateHeader` to localise the date string */\n\teditionId?: EditionId;\n\t/** A list of related links that appear in the bottom of the left column on fronts */\n\ttreats?: TreatType[];\n\t/** Defaults to `false`. If true, a simplified version of the section is rendered\n\t * without a left column\n\t */\n\tfullWidth?: boolean;\n\t/**\n\t * @deprecated Do not use\n\t *\n\t * Legacy className prop only used for supporting old interactives\n\t */\n\tclassName?: string;\n};\n\nconst containerStyles = css`\n\tdisplay: flex;\n\tflex-grow: 1;\n\tflex-direction: column;\n\twidth: 100%;\n`;\n\nconst headlineContainerStyles = css`\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\n\t${until.leftCol} {\n\t\tjustify-content: space-between;\n\t}\n`;\n\nconst margins = css`\n\tmargin-top: ${space[2]}px;\n\t/*\n\t\tKeep spacing at the bottom of the container consistent at 36px, regardless of\n\t\tbreakpoint, based on chat with Harry Fisher\n\t*/\n\tmargin-bottom: ${space[9]}px;\n`;\n\nconst rightMargin = css`\n\t${from.wide} {\n\t\tmargin-right: 68px;\n\t}\n`;\n\nconst padding = (format?: ArticleFormat) => {\n\tswitch (format?.design) {\n\t\tcase ArticleDesign.LiveBlog:\n\t\tcase ArticleDesign.DeadBlog:\n\t\t\treturn css`\n\t\t\t\tpadding: 0;\n\n\t\t\t\t${from.desktop} {\n\t\t\t\t\tpadding: 0 10px;\n\t\t\t\t}\n\t\t\t`;\n\t\tdefault:\n\t\t\treturn css`\n\t\t\t\tpadding: 0 10px;\n\t\t\t`;\n\t}\n};\n\nconst Content = ({\n\tchildren,\n\tpadded,\n\tverticalMargins,\n\tstretchRight,\n\tformat,\n}: {\n\tchildren: React.ReactNode;\n\tpadded: boolean;\n\tverticalMargins: boolean;\n\tstretchRight: boolean;\n\tformat?: ArticleFormat;\n}) => (\n\t<div\n\t\tcss={[\n\t\t\tcontainerStyles,\n\t\t\tpadded && padding(format),\n\t\t\tverticalMargins && margins,\n\t\t\t!stretchRight && rightMargin,\n\t\t]}\n\t>\n\t\t{children}\n\t</div>\n);\n\n/**\n *\n * A Section component represents a horizontal slice of a page. It defaults to\n * a html section tag but this can be overridden using the `element` prop\n *\n *\n * It provides borders, spacing, colours, a title and also some front specific\n * features like showing a hide button. By default `children` is placed in the center\n * with a leftCol and spacing on the right - this represents a classic Guardian\n * page - but if `fullWidth={true}` is passed then both the leftCol and right spacing\n * are omitted\n */\nexport const Section = ({\n\ttitle,\n\tfontColour,\n\tdescription,\n\turl,\n\tsectionId,\n\tshowSideBorders = true,\n\tcentralBorder,\n\tshowTopBorder = true,\n\tpadSides = true,\n\tpadBottom = false,\n\tpadContent = true,\n\tverticalMargins = true,\n\tborderColour,\n\tbackgroundColour,\n\tchildren,\n\tleftContent,\n\tstretchRight = false,\n\tleftColSize,\n\tformat,\n\tophanComponentLink,\n\tophanComponentName,\n\tcontainerPalette,\n\ttoggleable = false,\n\tinnerBackgroundColour,\n\tshowDateHeader = false,\n\teditionId,\n\tcontainerName,\n\ttreats,\n\tfullWidth = false,\n\telement = 'section',\n\tshouldCenter,\n\tclassName,\n}: Props) => {\n\tconst overrides =\n\t\tcontainerPalette && decideContainerOverrides(containerPalette);\n\n\tif (fullWidth) {\n\t\treturn (\n\t\t\t<ElementContainer\n\t\t\t\tsectionId={sectionId}\n\t\t\t\tshowSideBorders={showSideBorders}\n\t\t\t\tshowTopBorder={showTopBorder}\n\t\t\t\tpadSides={padSides}\n\t\t\t\tpadBottom={padBottom}\n\t\t\t\tborderColour={borderColour ?? overrides?.border.container}\n\t\t\t\tbackgroundColour={\n\t\t\t\t\tbackgroundColour ?? overrides?.background.container\n\t\t\t\t}\n\t\t\t\tophanComponentLink={ophanComponentLink}\n\t\t\t\tophanComponentName={ophanComponentName}\n\t\t\t\tcontainerName={containerName}\n\t\t\t\tinnerBackgroundColour={innerBackgroundColour}\n\t\t\t\tclassName={className}\n\t\t\t\telement={element}\n\t\t\t\tshouldCenter={shouldCenter}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</ElementContainer>\n\t\t);\n\t}\n\n\treturn (\n\t\t<ElementContainer\n\t\t\tsectionId={sectionId}\n\t\t\tshowSideBorders={showSideBorders}\n\t\t\tshowTopBorder={showTopBorder}\n\t\t\tpadSides={padSides}\n\t\t\tborderColour={borderColour ?? overrides?.border.container}\n\t\t\tbackgroundColour={\n\t\t\t\tbackgroundColour ?? overrides?.background.container\n\t\t\t}\n\t\t\telement=\"section\"\n\t\t\tophanComponentLink={ophanComponentLink}\n\t\t\tophanComponentName={ophanComponentName}\n\t\t\tcontainerName={containerName}\n\t\t\tinnerBackgroundColour={innerBackgroundColour}\n\t\t>\n\t\t\t<Flex>\n\t\t\t\t<LeftColumn\n\t\t\t\t\tborderType={centralBorder}\n\t\t\t\t\tborderColour={borderColour ?? overrides?.border.container}\n\t\t\t\t\tsize={leftColSize}\n\t\t\t\t\tverticalMargins={verticalMargins}\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\t\tflex-direction: column;\n\t\t\t\t\t\t\tjustify-content: space-between;\n\t\t\t\t\t\t`}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<ContainerTitle\n\t\t\t\t\t\t\t\ttitle={title}\n\t\t\t\t\t\t\t\tfontColour={\n\t\t\t\t\t\t\t\t\tfontColour ?? overrides?.text.container\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tdescription={description}\n\t\t\t\t\t\t\t\turl={url}\n\t\t\t\t\t\t\t\tcontainerPalette={containerPalette}\n\t\t\t\t\t\t\t\tshowDateHeader={showDateHeader}\n\t\t\t\t\t\t\t\teditionId={editionId}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{leftContent}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{treats && (\n\t\t\t\t\t\t\t<Treats\n\t\t\t\t\t\t\t\ttreats={treats}\n\t\t\t\t\t\t\t\tborderColour={\n\t\t\t\t\t\t\t\t\tborderColour ?? overrides?.border.container\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</LeftColumn>\n\t\t\t\t<Content\n\t\t\t\t\tpadded={padContent}\n\t\t\t\t\tverticalMargins={verticalMargins}\n\t\t\t\t\tstretchRight={stretchRight}\n\t\t\t\t\tformat={format}\n\t\t\t\t>\n\t\t\t\t\t<div css={headlineContainerStyles}>\n\t\t\t\t\t\t<Hide when=\"above\" breakpoint=\"leftCol\">\n\t\t\t\t\t\t\t<ContainerTitle\n\t\t\t\t\t\t\t\ttitle={title}\n\t\t\t\t\t\t\t\tfontColour={\n\t\t\t\t\t\t\t\t\tfontColour ?? overrides?.text.container\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tdescription={description}\n\t\t\t\t\t\t\t\turl={url}\n\t\t\t\t\t\t\t\tcontainerPalette={containerPalette}\n\t\t\t\t\t\t\t\tshowDateHeader={showDateHeader}\n\t\t\t\t\t\t\t\teditionId={editionId}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Hide>\n\t\t\t\t\t\t{toggleable && !!sectionId && (\n\t\t\t\t\t\t\t<ShowHideButton\n\t\t\t\t\t\t\t\tsectionId={sectionId}\n\t\t\t\t\t\t\t\toverrideContainerToggleColour={\n\t\t\t\t\t\t\t\t\toverrides?.text.containerToggle\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t{toggleable && sectionId ? (\n\t\t\t\t\t\t<div css={hiddenStyles} id={`container-${sectionId}`}>\n\t\t\t\t\t\t\t{children}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\tchildren\n\t\t\t\t\t)}\n\t\t\t\t</Content>\n\t\t\t</Flex>\n\t\t</ElementContainer>\n\t);\n};\n","import { css } from '@emotion/react';\nimport { ArticlePillar, joinUrl } from '@guardian/libs';\nimport type { OnwardsSource } from '../../types/onwards';\nimport type { TagType } from '../../types/tag';\nimport type { EditionId } from '../lib/edition';\nimport { FetchOnwardsData } from './FetchOnwardsData.importable';\nimport { Section } from './Section';\n\ntype PillarForContainer =\n\t| 'headlines'\n\t| 'sport'\n\t| 'opinion'\n\t| 'culture'\n\t| 'lifestyle';\n\n/**\n * This list is a direct copy from [`frontend`](https://github.com/guardian/frontend/blob/6da0b3d8bfd58e8e20f80fc738b070fb23ed154e/static/src/javascripts/projects/common/modules/onward/related.js#L27).\n * If you change this list then you should also update `frontend`.\n *\n * Order matters here (first match wins).\n */\nconst ALLOWED_TAGS = [\n\t// sport tags\n\t'sport/cricket',\n\t'sport/rugby-union',\n\t'sport/rugbyleague',\n\t'sport/formulaone',\n\t'sport/tennis',\n\t'sport/cycling',\n\t'sport/motorsports',\n\t'sport/golf',\n\t'sport/horse-racing',\n\t'sport/boxing',\n\t'sport/us-sport',\n\t'sport/australia-sport',\n\n\t// football tags\n\t'football/championsleague',\n\t'football/premierleague',\n\t'football/championship',\n\t'football/europeanfootball',\n\t'football/world-cup-2014',\n\n\t// football team tags\n\t'football/manchester-united',\n\t'football/chelsea',\n\t'football/arsenal',\n\t'football/manchestercity',\n\t'football/tottenham-hotspur',\n\t'football/liverpool',\n] as const;\n\n/** This function looks for item in our allowlist that is present in our keywordIds */\nconst firstPopularTag = (keywordIds: string, isPaidContent: boolean) => {\n\tconst tags = keywordIds.split(',');\n\n\t// For paid content we just return the first tag,\n\t// otherwise we find the allowlist tag that matches\n\treturn isPaidContent\n\t\t? tags[0]\n\t\t: ALLOWED_TAGS.find((tag) => tags.includes(tag));\n};\n\nconst onwardsWrapper = css`\n\twidth: 100%;\n`;\n\n// TODO: EUR edition urls are currently pointing to INT edition\n// containers, once the europe edition is live, we may want to change this\nconst containerUrls = {\n\theadlines: {\n\t\tUK: 'uk-alpha/news/regular-stories',\n\t\tUS: 'c5cad9ee-584d-4e85-85cd-bf8ee481b026',\n\t\tAU: '36b9cf13-bf8b-4cf0-b882-5c5d4feac0a2',\n\t\tINT: '10f21d96-18f6-426f-821b-19df55dfb831',\n\t\tEUR: '10f21d96-18f6-426f-821b-19df55dfb831',\n\t},\n\tsport: {\n\t\tUK: '754c-8e8c-fad9-a927',\n\t\tUS: 'f6dd-d7b1-0e85-4650',\n\t\tAU: 'c45d-318f-896c-3a85',\n\t\tINT: 'd1ad8ec3-5ee2-4673-94c8-cc3f8d261e52',\n\t\tEUR: 'd1ad8ec3-5ee2-4673-94c8-cc3f8d261e52',\n\t},\n\topinion: {\n\t\tUK: '3ff78b30-52f5-4d30-ace8-c887113cbe0d',\n\t\tUS: '98df412d-b0e7-4d9a-98c2-062642823e94',\n\t\tAU: 'au-alpha/contributors/feature-stories',\n\t\tINT: 'ee3386bb-9430-4a6d-8bca-b99d65790f3b',\n\t\tEUR: 'ee3386bb-9430-4a6d-8bca-b99d65790f3b',\n\t},\n\tculture: {\n\t\tUK: 'ae511a89-ef38-4ec9-aab1-3a5ebc96d118',\n\t\tUS: 'fb59c1f8-72a7-41d5-8365-a4d574809bed',\n\t\tAU: '22262088-4bce-4290-9810-cb50bbead8db',\n\t\tINT: 'c7154e22-7292-4d93-a14d-22fd4b6b693d',\n\t\tEUR: 'c7154e22-7292-4d93-a14d-22fd4b6b693d',\n\t},\n\tlifestyle: {\n\t\tUK: 'uk-alpha/features/feature-stories',\n\t\tUS: 'us-alpha/features/feature-stories',\n\t\tAU: '13636104-51ce-4264-bb6b-556c80227331',\n\t\tINT: '7b297ef5-a3f9-45e5-b915-b54951d7f6ec',\n\t\tEUR: '7b297ef5-a3f9-45e5-b915-b54951d7f6ec',\n\t},\n};\n\nconst getContainer = (pillar: PillarForContainer, editionId: EditionId) => {\n\treturn containerUrls[pillar][editionId];\n};\n\nconst getContainerDataUrl = (\n\tpillar: ArticleTheme,\n\teditionId: EditionId,\n\tajaxUrl: string,\n) => {\n\tswitch (pillar) {\n\t\tcase ArticlePillar.Sport:\n\t\t\treturn joinUrl(\n\t\t\t\tajaxUrl,\n\t\t\t\t'container/data',\n\t\t\t\t`${getContainer('sport', editionId)}.json`,\n\t\t\t);\n\t\tcase ArticlePillar.News:\n\t\t\treturn joinUrl(\n\t\t\t\tajaxUrl,\n\t\t\t\t'container/data',\n\t\t\t\t`${getContainer('headlines', editionId)}.json`,\n\t\t\t);\n\t\tcase ArticlePillar.Culture:\n\t\t\treturn joinUrl(\n\t\t\t\tajaxUrl,\n\t\t\t\t'container/data',\n\t\t\t\t`${getContainer('culture', editionId)}.json`,\n\t\t\t);\n\t\tcase ArticlePillar.Lifestyle:\n\t\t\treturn joinUrl(\n\t\t\t\tajaxUrl,\n\t\t\t\t'container/data',\n\t\t\t\t`${getContainer('lifestyle', editionId)}.json`,\n\t\t\t);\n\t\tcase ArticlePillar.Opinion:\n\t\t\treturn joinUrl(\n\t\t\t\tajaxUrl,\n\t\t\t\t'container/data',\n\t\t\t\t`${getContainer('opinion', editionId)}.json`,\n\t\t\t);\n\t\tdefault:\n\t\t\treturn joinUrl(\n\t\t\t\tajaxUrl,\n\t\t\t\t'container/data',\n\t\t\t\t`${getContainer('headlines', editionId)}.json`,\n\t\t\t);\n\t}\n};\n\ntype Props = {\n\tajaxUrl: string;\n\thasRelated: boolean;\n\thasStoryPackage: boolean;\n\tisAdFreeUser: boolean;\n\tpageId: string;\n\tisPaidContent: boolean;\n\tshowRelatedContent: boolean;\n\tkeywordIds: string;\n\tcontentType: string;\n\ttags: TagType[];\n\tformat: ArticleFormat;\n\teditionId: EditionId;\n\tpillar: ArticleTheme;\n\tshortUrlId: string;\n};\n\n/**\n * # Onwards Upper\n *\n * A wrapper around `Carousel` for showing related articles at the bottom\n * of an article. This contains the logic around which articles to show,\n * depending on a series of factors (story package, paid content, series tag, â€¦)\n *\n * ## Why does this need to be an Island?\n *\n * It is a client-side only component, which cannot be rendered on the server,\n * as none of the relevant information comes from the CAPI response.\n *\n * ---\n *\n * [`Carousel` on Chromatic](https://www.chromatic.com/component?appId=63e251470cfbe61776b0ef19&csfId=components-carousel)\n *\n */\nexport const OnwardsUpper = ({\n\tajaxUrl,\n\thasRelated,\n\thasStoryPackage,\n\tisAdFreeUser,\n\tpageId,\n\tisPaidContent,\n\tshowRelatedContent,\n\tkeywordIds,\n\tcontentType,\n\ttags,\n\tformat,\n\tpillar,\n\teditionId,\n\tshortUrlId,\n}: Props) => {\n\t// Related content can be a collection of articles based on\n\t// two things, 1: A popular tag, or 2: A generic text match\n\tconst tagToFilterBy = firstPopularTag(keywordIds, isPaidContent);\n\n\t// In this context, Blog tags are treated the same as Series tags\n\tconst seriesTag = tags.find(\n\t\t(tag) => tag.type === 'Series' || tag.type === 'Blog',\n\t);\n\n\tlet url;\n\tlet onwardsSource: OnwardsSource = 'unknown-source';\n\n\tif (!showRelatedContent) {\n\t\t// Then don't show related content\n\t\t// This is the first priority for deciding whether to include related content\n\t} else if (hasStoryPackage) {\n\t\t// We server render story packages so do nothing\n\t} else if (isAdFreeUser && isPaidContent) {\n\t\t// Don't show any related content (other than story packages) for\n\t\t// adfree users when the content is paid for\n\t} else if (seriesTag) {\n\t\t// Use the series tag to get other data in the same series\n\t\t// Example: {\n\t\t//              id: \"cities/series/the-illustrated-city\",\n\t\t//              title: \"The illustrated city\",\n\t\t//              type: \"Series\",\n\t\t//          }\n\t\t//\n\t\turl = joinUrl(\n\t\t\tajaxUrl,\n\t\t\t'series',\n\t\t\t`${seriesTag.id}.json?dcr&shortUrl=${shortUrlId}`,\n\t\t);\n\t\tonwardsSource = 'series';\n\t} else if (!hasRelated) {\n\t\t// There is no related content to show\n\t} else if (tagToFilterBy) {\n\t\t// Use popular in tag endpoint\n\t\tlet popularInTagUrl = `/popular-in-tag/${tagToFilterBy}.json?dcr=true`;\n\n\t\t// --- Tag excludes --- //\n\t\tconst tagsToExclude = [];\n\t\t// Exclude ad features from non-ad feature content\n\t\tif (!isPaidContent) {\n\t\t\ttagsToExclude.push('tone/advertisement-features');\n\t\t}\n\t\t// We don't want to show professional network content on videos or interactives\n\t\tif (\n\t\t\tcontentType.toLowerCase() === 'video' ||\n\t\t\tcontentType.toLowerCase() === 'interactive'\n\t\t) {\n\t\t\ttagsToExclude.push('guardian-professional/guardian-professional');\n\t\t}\n\n\t\t// Add any exclude tags to the url\n\t\tif (tagsToExclude.length > 0) {\n\t\t\tconst queryParams = tagsToExclude.map(\n\t\t\t\t(tag) => `exclude-tag=${tag}`,\n\t\t\t);\n\t\t\tpopularInTagUrl += `&${queryParams.join('&')}`;\n\t\t}\n\n\t\turl = joinUrl(ajaxUrl, popularInTagUrl);\n\t\tonwardsSource = 'related-content';\n\t} else {\n\t\t// Default to generic related endpoint\n\t\tconst relatedUrl = `/related/${pageId}.json?dcr=true`;\n\n\t\turl = joinUrl(ajaxUrl, relatedUrl);\n\t\tonwardsSource = 'related-stories';\n\t}\n\n\tconst curatedDataUrl = showRelatedContent\n\t\t? getContainerDataUrl(pillar, editionId, ajaxUrl)\n\t\t: undefined;\n\n\treturn (\n\t\t<div css={onwardsWrapper}>\n\t\t\t{!!url && (\n\t\t\t\t<Section fullWidth={true}>\n\t\t\t\t\t<FetchOnwardsData\n\t\t\t\t\t\turl={url}\n\t\t\t\t\t\tlimit={8}\n\t\t\t\t\t\tonwardsSource={onwardsSource}\n\t\t\t\t\t\tformat={format}\n\t\t\t\t\t/>\n\t\t\t\t</Section>\n\t\t\t)}\n\t\t\t{!!(!isPaidContent && curatedDataUrl) && (\n\t\t\t\t<Section fullWidth={true}>\n\t\t\t\t\t<FetchOnwardsData\n\t\t\t\t\t\turl={curatedDataUrl}\n\t\t\t\t\t\tlimit={20}\n\t\t\t\t\t\tonwardsSource=\"curated-content\"\n\t\t\t\t\t\tformat={format}\n\t\t\t\t\t/>\n\t\t\t\t</Section>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport { firstPopularTag };\n","import { css, keyframes } from '@emotion/react';\nimport { neutral, space } from '@guardian/source-foundations';\n\nconst BACKGROUND_COLOUR = neutral[93];\n\ntype Props = {\n\theight: number;\n\trootId?: string;\n\twidth?: number;\n\tspaceBelow?: 1 | 2 | 3 | 4 | 5 | 6 | 9;\n\tspaceLeft?: 1 | 2 | 3 | 4 | 5 | 6 | 9;\n\tshouldShimmer?: boolean;\n\tbackgroundColor?: string;\n};\n\nconst shimmer = keyframes`\n  0% {\n    background-position: -1500px 0;\n  }\n  100% {\n    background-position: 1500px 0;\n  }\n`;\n\nconst shimmerStyles = (backgroundColor: string) => css`\n\tanimation: ${shimmer} 2s infinite linear;\n\tbackground: linear-gradient(\n\t\tto right,\n\t\t${backgroundColor} 4%,\n\t\twhite 25%,\n\t\t${backgroundColor} 36%\n\t);\n\tbackground-size: 1500px 100%;\n`;\n\nexport const Placeholder = ({\n\theight,\n\trootId,\n\twidth,\n\tspaceBelow,\n\tspaceLeft,\n\tshouldShimmer = true,\n\tbackgroundColor = BACKGROUND_COLOUR,\n}: Props) => (\n\t<div\n\t\tid={rootId}\n\t\tcss={css`\n\t\t\tflex-grow: 1;\n\t\t`}\n\t\tdata-name=\"placeholder\"\n\t>\n\t\t<div\n\t\t\tcss={css`\n\t\t\t\theight: ${height}px;\n\t\t\t\twidth: ${width !== undefined ? `${width}px` : '100%'};\n\t\t\t\tmargin-bottom: ${spaceBelow && space[spaceBelow]}px;\n\t\t\t\tmargin-left: ${spaceLeft && space[spaceLeft]}px;\n\t\t\t\tbackground-color: ${backgroundColor};\n\n\t\t\t\t${shouldShimmer && shimmerStyles(backgroundColor)}\n\t\t\t`}\n\t\t/>\n\t</div>\n);\n","import { css } from '@emotion/react';\nimport { from } from '@guardian/source-foundations';\n\nexport const center = css`\n\tposition: relative;\n\tmargin: auto;\n\n\t${from.tablet} {\n\t\tmax-width: 740px;\n\t}\n\n\t${from.desktop} {\n\t\tmax-width: 980px;\n\t}\n\n\t${from.leftCol} {\n\t\tmax-width: 1140px;\n\t}\n\n\t${from.wide} {\n\t\tmax-width: 1300px;\n\t}\n`;\n","import { ArticleDesign } from '@guardian/libs';\n\n/**\n * NOTE: Immersive Opinion pieces are not supported,\n * i.e. when `CommentDesign` and `ImmersiveDisplay` are used jointly.\n */\nexport const decideDesign = ({\n\tdesign,\n\tdisplay,\n}: Partial<FEFormat>): ArticleDesign => {\n\tswitch (design) {\n\t\tcase 'ArticleDesign':\n\t\t\treturn ArticleDesign.Standard;\n\t\tcase 'GalleryDesign':\n\t\t\treturn ArticleDesign.Gallery;\n\t\tcase 'AudioDesign':\n\t\t\treturn ArticleDesign.Audio;\n\t\tcase 'VideoDesign':\n\t\t\treturn ArticleDesign.Video;\n\t\tcase 'ReviewDesign':\n\t\t\treturn ArticleDesign.Review;\n\t\tcase 'AnalysisDesign':\n\t\t\treturn ArticleDesign.Analysis;\n\t\tcase 'CommentDesign':\n\t\t\t// Temporary hack until we can handle Immersive Opinion pieces\n\t\t\treturn display === 'ImmersiveDisplay'\n\t\t\t\t? ArticleDesign.Standard\n\t\t\t\t: ArticleDesign.Comment;\n\t\tcase 'LetterDesign':\n\t\t\treturn ArticleDesign.Letter;\n\t\tcase 'FeatureDesign':\n\t\t\treturn ArticleDesign.Feature;\n\t\tcase 'LiveBlogDesign':\n\t\t\treturn ArticleDesign.LiveBlog;\n\t\tcase 'DeadBlogDesign':\n\t\t\treturn ArticleDesign.DeadBlog;\n\t\tcase 'RecipeDesign':\n\t\t\treturn ArticleDesign.Recipe;\n\t\tcase 'MatchReportDesign':\n\t\t\treturn ArticleDesign.MatchReport;\n\t\tcase 'InterviewDesign':\n\t\t\treturn ArticleDesign.Interview;\n\t\tcase 'EditorialDesign':\n\t\t\treturn ArticleDesign.Editorial;\n\t\tcase 'QuizDesign':\n\t\t\treturn ArticleDesign.Quiz;\n\t\tcase 'InteractiveDesign':\n\t\t\treturn ArticleDesign.Interactive;\n\t\tcase 'PhotoEssayDesign':\n\t\t\treturn ArticleDesign.PhotoEssay;\n\t\tcase 'PrintShopDesign':\n\t\t\treturn ArticleDesign.PrintShop;\n\t\tcase 'ObituaryDesign':\n\t\t\treturn ArticleDesign.Obituary;\n\t\tcase 'FullPageInteractiveDesign':\n\t\t\treturn ArticleDesign.FullPageInteractive;\n\t\tcase 'NewsletterSignupDesign':\n\t\t\treturn ArticleDesign.NewsletterSignup;\n\t\tcase 'ExplainerDesign':\n\t\t\treturn ArticleDesign.Explainer;\n\t\tcase 'TimelineDesign':\n\t\t\treturn ArticleDesign.Timeline;\n\t\tcase 'ProfileDesign':\n\t\t\treturn ArticleDesign.Profile;\n\t\tdefault:\n\t\t\treturn ArticleDesign.Standard;\n\t}\n};\n","import { ArticleDisplay } from '@guardian/libs';\n\nexport const decideDisplay = ({\n\tdisplay,\n}: Partial<FEFormat>): ArticleDisplay => {\n\tswitch (display) {\n\t\tcase 'StandardDisplay':\n\t\t\treturn ArticleDisplay.Standard;\n\t\tcase 'ImmersiveDisplay':\n\t\t\treturn ArticleDisplay.Immersive;\n\t\tcase 'ShowcaseDisplay':\n\t\t\treturn ArticleDisplay.Showcase;\n\t\tcase 'NumberedListDisplay':\n\t\t\treturn ArticleDisplay.NumberedList;\n\t\tdefault:\n\t\t\treturn ArticleDisplay.Standard;\n\t}\n};\n","import { ArticlePillar, ArticleSpecial } from '@guardian/libs';\n\nexport const decideTheme = ({ theme }: Partial<FEFormat>): ArticleTheme => {\n\tswitch (theme) {\n\t\tcase 'NewsPillar':\n\t\t\treturn ArticlePillar.News;\n\t\tcase 'OpinionPillar':\n\t\t\treturn ArticlePillar.Opinion;\n\t\tcase 'SportPillar':\n\t\t\treturn ArticlePillar.Sport;\n\t\tcase 'CulturePillar':\n\t\t\treturn ArticlePillar.Culture;\n\t\tcase 'LifestylePillar':\n\t\t\treturn ArticlePillar.Lifestyle;\n\t\tcase 'SpecialReportTheme':\n\t\t\treturn ArticleSpecial.SpecialReport;\n\t\tcase 'SpecialReportAltTheme':\n\t\t\treturn ArticleSpecial.SpecialReportAlt;\n\t\tcase 'Labs':\n\t\t\treturn ArticleSpecial.Labs;\n\t\tdefault:\n\t\t\treturn ArticlePillar.News;\n\t}\n};\n","import { decideDesign } from './decideDesign';\nimport { decideDisplay } from './decideDisplay';\nimport { decideTheme } from './decideTheme';\n\nexport const decideFormat = (format: Partial<FEFormat>): ArticleFormat => ({\n\tdisplay: decideDisplay(format),\n\ttheme: decideTheme(format),\n\tdesign: decideDesign(format),\n});\n","import type { FETrailType, TrailType } from '../../types/trails';\nimport { decideFormat } from './decideFormat';\nimport { getDataLinkNameCard } from './getDataLinkName';\n\nexport const decideTrail = (trail: FETrailType, index = 0): TrailType => {\n\tconst format: ArticleFormat = decideFormat(trail.format);\n\n\treturn {\n\t\t...trail,\n\t\tformat,\n\t\tdataLinkName: getDataLinkNameCard(format, '0', index + 1),\n\t};\n};\n","import { ArticleDesign, ArticleSpecial } from '@guardian/libs';\n\n/**\n * TODO: missing \"podcast\" and \"external\"\n */\nconst getLinkType = ({ theme, design }: ArticleFormat): RichLinkCardType => {\n\tswitch (theme) {\n\t\tcase ArticleSpecial.SpecialReport:\n\t\t\treturn 'special-report';\n\t\tdefault:\n\t\t\tswitch (design) {\n\t\t\t\tcase ArticleDesign.Analysis:\n\t\t\t\t\treturn 'analysis';\n\t\t\t\tcase ArticleDesign.LiveBlog:\n\t\t\t\t\treturn 'live';\n\t\t\t\tcase ArticleDesign.DeadBlog:\n\t\t\t\t\treturn 'dead';\n\t\t\t\tcase ArticleDesign.Feature:\n\t\t\t\t\treturn 'feature';\n\t\t\t\tcase ArticleDesign.Editorial:\n\t\t\t\t\treturn 'editorial';\n\t\t\t\tcase ArticleDesign.Comment:\n\t\t\t\t\treturn 'comment';\n\t\t\t\tcase ArticleDesign.Gallery:\n\t\t\t\tcase ArticleDesign.Audio:\n\t\t\t\tcase ArticleDesign.Video:\n\t\t\t\t\treturn 'media';\n\t\t\t\tcase ArticleDesign.Review:\n\t\t\t\t\treturn 'review';\n\t\t\t\tcase ArticleDesign.Letter:\n\t\t\t\t\treturn 'letters';\n\n\t\t\t\tdefault:\n\t\t\t\t\treturn 'news';\n\t\t\t}\n\t}\n};\n\n/**\n * Get the `data-link-name` attribute for a card.\n * Used by Ophan for understanding reader journeys. E.g:\n * - `feature | card-2+ | card-@1`\n * - `news | group-0 | card-@5`\n *\n * @see {JSX.IntrinsicAttributes}\n */\nexport const getDataLinkNameCard = (\n\tformat: ArticleFormat,\n\tgroup: string | number,\n\tindex: number,\n): string =>\n\t[getLinkType(format), `group-${group}`, `card-@${index}`].join(' | ');\n","import { css, keyframes } from '@emotion/react';\n\n/**\n * Sometimes we want to animate in new content using plain\n * javascript. We use these classes to do that.\n */\nexport const revealStyles = css`\n\t/* We're using classnames here because we add and remove these classes\n\t   using plain javascript */\n\t.reveal {\n\t\tanimation: ${keyframes`\n\t\t\t0% { opacity: 0; }\n\t\t\t100% { opacity: 1; }\n\t\t`} 1s ease-out;\n\t}\n\t.reveal-slowly {\n\t\tanimation: ${keyframes`\n\t\t\t0% { opacity: 0; }\n\t\t\t100% { opacity: 1; }\n\t\t`} 4s ease-out;\n\t}\n\t.pending {\n\t\tdisplay: none;\n\t}\n`;\n","// detect two or more `/` chars after a word boundary\nconst multipleSlashesInRoute = /\\b\\/{2,}/g;\nconst joinUrl = (...args) => args.join('/').replace(multipleSlashesInRoute, '/');\n\nexport { joinUrl };\n//# sourceMappingURL=joinUrl.js.map\n"],"names":["minHeight","css","FetchOnwardsData","url","limit","onwardsSource","format","data","loading","error","useApi","useEffect","document","querySelectorAll","forEach","element","classList","add","remove","window","guardian","modules","sentry","reportError","Placeholder","height","shouldShimmer","backgroundColor","trails","div","revealStyles","className","Carousel","heading","displayname","trailLimit","slice","map","decideTrail","description","Flex","children","direction","justify","gap","hiddenStyles","editionList","editionId","longTitle","title","locale","linkStyles","neutral","headerStyles","fontColour","headline","fontWeight","space","descriptionStyles","body","bottomMargin","marginStyles","dateTextStyles","color","until","ContainerTitle","containerPalette","showDateHeader","overrides","decideContainerOverrides","now","Date","find","edition","getEditionFromId","a","href","h2","dangerouslySetInnerHTML","__html","span","text","containerDate","toLocaleDateString","weekday","news","day","month","year","sidePadding","emoCss","from","bottomPadding","topBorderStyles","colour","setBackgroundColour","ElementContainer","sectionId","showSideBorders","showTopBorder","padSides","padBottom","borderColour","border","backgroundColour","innerBackgroundColour","shouldCenter","ophanComponentName","ophanComponentLink","containerName","ClassNames","child","id","center","style","_jsx","ButtonLink","priority","icon","iconSvg","iconSide","cssOverrides","props","jsx","isButton","linkContents","showHideButtonCss","overrideContainerToggleColour","textSans","ShowHideButton","data-link-name","data-show-hide-button","aria-controls","aria-expanded","SvgCrossword","svg","viewBox","width","rect","x","y","fill","TextTreat","linkTo","li","Link","subdued","ImageTreat","imageUrl","links","altText","sources","generateSources","breakpoint","fallbackSource","getFallbackSource","picture","source","Fragment","srcSet","hiResUrl","media","lowResUrl","img","src","alt","link","index","data-ignore","Treats","treats","length","ul","treat","undefined","theme","palette","decidePalette","display","ArticleDisplay","design","ArticleDesign","background","containerStyles","headlineContainerStyles","margins","rightMargin","padding","Content","padded","verticalMargins","stretchRight","Section","centralBorder","padContent","leftContent","leftColSize","toggleable","fullWidth","container","LeftColumn","borderType","size","Hide","when","containerToggle","ALLOWED_TAGS","firstPopularTag","keywordIds","isPaidContent","tags","split","tag","includes","onwardsWrapper","containerUrls","headlines","UK","US","AU","INT","EUR","sport","opinion","culture","lifestyle","getContainer","pillar","OnwardsUpper","ajaxUrl","hasRelated","hasStoryPackage","isAdFreeUser","pageId","showRelatedContent","contentType","shortUrlId","tagToFilterBy","seriesTag","type","joinUrl","popularInTagUrl","tagsToExclude","push","toLowerCase","queryParams","join","relatedUrl","curatedDataUrl","ArticlePillar","getContainerDataUrl","BACKGROUND_COLOUR","shimmer","keyframes","shimmerStyles","rootId","spaceBelow","spaceLeft","data-name","decideDesign","decideDisplay","decideTheme","ArticleSpecial","decideFormat","trail","dataLinkName","getDataLinkNameCard","getLinkType","group","multipleSlashesInRoute","args","replace"],"sourceRoot":""}