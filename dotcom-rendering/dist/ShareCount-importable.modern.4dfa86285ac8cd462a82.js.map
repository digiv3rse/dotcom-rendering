{"version":3,"file":"ShareCount-importable.modern.4dfa86285ac8cd462a82.js","mappings":"qHAAAA,EAAOC,QAEP,SAAgBC,EAAGC,EAAKC,GACtBA,EAAQA,GAAS,CAAC,EAElB,IAAIC,EAAUF,EAAIE,QACdC,EAAaH,EAAIG,WAErB,OAAO,SAAUF,GACf,OAAOF,EACL,MACAK,OAAOC,OACL,CAAEC,wBAAyB,CAAEC,OAAQL,IACrCC,EACAF,GAEFA,GAASA,EAAMO,SAEnB,CACF,C,iBCnBA,IAAIC,EAAQ,EAAQ,MAChBC,EAAQ,EAAQ,MAEpBb,EAAOC,QAAUW,EAAME,KAAK,KAAMD,EAAME,cAAcD,KAAKD,G,iBCF3Db,EAAOC,QAAU,CAAC,WAAa,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,MAAQ,8BAA8B,QAAU,qqBACjI,IAAIW,EAAQ,EAAQ,MACpBZ,EAAOC,QAAUW,EAAMZ,EAAOC,Q,28BCkB9B,MAAMe,EAAmBC,IAAqBC,EAAAA,EAAAA,KAAGA,IAI9CC,EAAAA,GAAAA,SAEOF,EAAQG,KAAKC,WAEpBC,EAAAA,GAAAA,QACQL,EAAQG,KAAKG,wBAIlBC,GAAsBN,EAAAA,EAAAA,KAAGA,KAOzBO,EAAcR,IAAqBC,EAAAA,EAAAA,KAAGA,IACnCD,EAAQS,KAAKC,eACnBL,EAAAA,GAAAA,QACOL,EAAQS,KAAKE,4BAIjBC,GAAaX,EAAAA,EAAAA,KAAGA,IAGnBY,EAAAA,GAAAA,QAAAA,IAAAA,MAKGC,GAAcb,EAAAA,EAAAA,KAAGA,IAGpBY,EAAAA,GAAAA,QAAAA,IAAAA,MAKUE,EAAc,I,IAAA,QAAEC,EAAO,OAAEC,EAAM,OAAEC,GAAe,EAC5D,MAAMC,GAAWC,EAAAA,EAAAA,GAAQJ,EAAS,aAAc,GAAU,OAAPC,EAAO,UACpDjB,GAAUqB,EAAAA,EAAAA,GAAcH,IACtBI,KAAMC,EAAWC,MAAOC,IAC/BC,EAAAA,EAAAA,GAAuBP,GACpBM,GACHE,OAAOC,SAASC,QAAQC,OAAOC,YAAYN,EAAY,eAGxD,MAAMrB,EAAamB,aAAAA,EAAAA,EAAWS,YAC9B,QAAmBC,IAAf7B,GAA2C,IAAfA,EAAkB,OAAO,KAEzD,MAAM,MAAE8B,EAAK,KAAEC,IAASC,EAAAA,EAAAA,GAAYhC,GAEpC,OACC,UAACiC,MAAAA,CACApC,IAAKF,EAAgBC,GACrBsC,aAAY,GAAS,OAANJ,EAAM,WACrBK,UAAQ,e,WAER,SAACF,MAAAA,CAAIpC,IAAKM,E,UACT,SAACiC,IAASA,CAACvC,IAAKO,EAAWR,QAE5B,SAACqC,MAAAA,CACAI,cAAY,mBACZxC,IAAKW,EACL8B,cAAY,O,SAEXP,KAEF,SAACE,MAAAA,CACAI,cAAY,oBACZxC,IAAKa,EACL4B,cAAY,O,SAEXR,M,gDCnGL,MCEaE,EACZO,IAEA,QAAcV,IAAVU,EAAqB,MAAO,CAAET,MAAO,IAAKC,KAAM,KACpD,GAAc,IAAVQ,EAAa,MAAO,CAAET,MAAO,IAAKC,KAAM,KAE5C,MAAMS,EAAiBC,SAASF,EAAMG,QAAQ,GAAI,IAC5CC,EDTe,CAACC,IACtB,MAAMC,EAASD,EAAIF,QAAQ,GAAGI,MAAM,IAC9BC,EAAMF,EAAOG,OAEnB,IAAK,IAAIC,EAAIJ,EAAOG,OAAS,EAAGC,GAAK,EAAGA,GAAK,GACvCF,EAAME,GAAK,GAAM,GACrBJ,EAAOK,OAAOD,EAAG,EAAG,KAItB,OAAOJ,EAAOM,KAAK,KCDMC,CAAcZ,GAMvC,MAAO,CACNV,MALAU,EAAiB,IACd,GAAqC,OAAlCa,KAAKC,MAAMd,EAAiB,KAAM,KACrCA,EAAee,WAIlBxB,KAAMY,EACN,C,6DCfF,SAASa,EAAeC,GACvB,IAAKA,EAASC,GACb,MAAMC,MACLF,EAASG,YACR,6CAA6D,OAAhBH,EAASI,SAGzD,OAAOJ,CACR,CAEA,MAmBanC,EAAS,CACrBwC,EACAC,EACAC,KAEA,MAAM,KAAE9C,EAAI,MAAEE,IAAU6C,EAAAA,EAAAA,IAAOH,EAxBhB,CAACE,GAAwBF,GACxCI,MAAMJ,EAAKE,GACTG,KAAKX,GACLW,MAAMC,GAAQA,EAAIC,SAqBgBC,CAAQN,GAAOD,GAEnD,MAAO,CACN7C,OACAE,QACAmD,UAAWT,IAAQ1C,IAAUF,EAC7B,C,8BC3CF,IAAIsD,E,iBACH,SAAUA,GACPA,EAAcA,EAAwB,SAAI,GAAK,WAC/CA,EAAcA,EAAuB,QAAI,GAAK,UAC9CA,EAAcA,EAAqB,MAAI,GAAK,QAC5CA,EAAcA,EAAqB,MAAI,GAAK,QAC5CA,EAAcA,EAAsB,OAAI,GAAK,SAC7CA,EAAcA,EAAwB,SAAI,GAAK,WAC/CA,EAAcA,EAAyB,UAAI,GAAK,YAChDA,EAAcA,EAAuB,QAAI,GAAK,UAC9CA,EAAcA,EAAsB,OAAI,GAAK,SAC7CA,EAAcA,EAAuB,QAAI,GAAK,UAC9CA,EAAcA,EAAwB,SAAI,IAAM,WAChDA,EAAcA,EAAwB,SAAI,IAAM,WAChDA,EAAcA,EAAsB,OAAI,IAAM,SAC9CA,EAAcA,EAA2B,YAAI,IAAM,cACnDA,EAAcA,EAAyB,UAAI,IAAM,YACjDA,EAAcA,EAAyB,UAAI,IAAM,YACjDA,EAAcA,EAAoB,KAAI,IAAM,OAC5CA,EAAcA,EAA2B,YAAI,IAAM,cACnDA,EAAcA,EAA0B,WAAI,IAAM,aAClDA,EAAcA,EAAyB,UAAI,IAAM,YACjDA,EAAcA,EAAwB,SAAI,IAAM,WAChDA,EAAcA,EAA0B,WAAI,IAAM,aAClDA,EAAcA,EAAmC,oBAAI,IAAM,sBAC3DA,EAAcA,EAAgC,iBAAI,IAAM,mBACxDA,EAAcA,EAAwB,SAAI,IAAM,WAChDA,EAAcA,EAAuB,QAAI,IAAM,SAClD,CA3BA,CA2BEA,IAAkBA,EAAgB,CAAC,G,8BC5BtC,IAAIC,E,iBACH,SAAUA,GACPA,EAAeA,EAAyB,SAAI,GAAK,WACjDA,EAAeA,EAA0B,UAAI,GAAK,YAClDA,EAAeA,EAAyB,SAAI,GAAK,WACjDA,EAAeA,EAA6B,aAAI,GAAK,cACxD,CALA,CAKEA,IAAmBA,EAAiB,CAAC,G,8BCNxC,IAAIC,E,iBACH,SAAUA,GACPA,EAAcA,EAAoB,KAAI,GAAK,OAC3CA,EAAcA,EAAuB,QAAI,GAAK,UAC9CA,EAAcA,EAAqB,MAAI,GAAK,QAC5CA,EAAcA,EAAuB,QAAI,GAAK,UAC9CA,EAAcA,EAAyB,UAAI,GAAK,WACnD,CANA,CAMEA,IAAkBA,EAAgB,CAAC,G,8BCPtC,IAAIC,E,iBACH,SAAUA,GACPA,EAAeA,EAA8B,cAAI,GAAK,gBACtDA,EAAeA,EAAqB,KAAI,GAAK,OAC7CA,EAAeA,EAAiC,iBAAI,GAAK,kBAC5D,CAJA,CAIEA,IAAmBA,EAAiB,CAAC,G,+CCJxC,MAAMC,EAAyB,YACzB5D,EAAU,W,2BAAI6D,EAAAA,IAAAA,MAAAA,GAAAA,EAAAA,EAAAA,EAAAA,EAAAA,IAAAA,EAAAA,GAAAA,UAAAA,G,OAASA,EAAK1B,KAAK,KAAK2B,QAAQF,EAAwB,IAAG,C,8CCE/E,MAAMG,EAAc,CAChBC,OAAQ,IACRC,aAAc,IACdC,gBAAiB,IACjBC,QAAS,IACTC,OAAQ,IACRC,QAAS,IACTC,QAAS,KACTC,KAAM,K,+JCYV,MAAM,MAAEC,EAAK,SAAEC,EAAQ,QAAEC,EAAO,MAAEtE,EAAK,QAAEuE,EAAO,KAAEC,EAAI,QAAEC,EAAO,MAAEC,EAAK,QAAEC,EAAO,UAAEC,EAAS,KAAEC,EAAI,cAAEC,EAAa,MAAEC,GAAWvG,EAAAA,E,+ECtB5H,MAAMwG,EAAYC,GAAS,sBAAkC,OAAZ,GAAQ,OAALA,EAAK,MAAI,KACvDC,EAAYrG,GAAU,sBAAuC,OAAjB,GAAa,OAAVA,EAAQ,EAAE,MAAI,KAC7DsG,EAAmB,CAACF,EAAMpG,IAAU,sBAAsD,OAAhC,GAAQ,OAALoG,EAAK,MAAI,sBAAqC,OAAjB,GAAa,OAAVpG,EAAQ,EAAE,MAAI,KAW3GoG,EAAO,CACTrB,OAAQoB,EAASrB,EAAAA,EAAAA,QACjBE,aAAcmB,EAASrB,EAAAA,EAAAA,cACvBG,gBAAiBkB,EAASrB,EAAAA,EAAAA,iBAC1BI,QAASiB,EAASrB,EAAAA,EAAAA,SAClBK,OAAQgB,EAASrB,EAAAA,EAAAA,QACjBM,QAASe,EAASrB,EAAAA,EAAAA,SAClBO,QAASc,EAASrB,EAAAA,EAAAA,SAClBQ,KAAMa,EAASrB,EAAAA,EAAAA,OAYb9E,EAAQ,CACV+E,OAAQsB,EAASvB,EAAAA,EAAAA,QACjBE,aAAcqB,EAASvB,EAAAA,EAAAA,cACvBG,gBAAiBoB,EAASvB,EAAAA,EAAAA,iBAC1BI,QAASmB,EAASvB,EAAAA,EAAAA,SAClBK,OAAQkB,EAASvB,EAAAA,EAAAA,QACjBM,QAASiB,EAASvB,EAAAA,EAAAA,SAClBO,QAASgB,EAASvB,EAAAA,EAAAA,SAClBQ,KAAMe,EAASvB,EAAAA,EAAAA,OAYbtE,EAAU,CACZuE,OAAQ,CACJwB,IAAK,CACDvB,aAAcsB,EAAiBxB,EAAAA,EAAAA,OAAoBA,EAAAA,EAAAA,cACnDG,gBAAiBqB,EAAiBxB,EAAAA,EAAAA,OAAoBA,EAAAA,EAAAA,iBACtDI,QAASoB,EAAiBxB,EAAAA,EAAAA,OAAoBA,EAAAA,EAAAA,SAC9CK,OAAQmB,EAAiBxB,EAAAA,EAAAA,OAAoBA,EAAAA,EAAAA,QAC7CM,QAASkB,EAAiBxB,EAAAA,EAAAA,OAAoBA,EAAAA,EAAAA,SAC9CO,QAASiB,EAAiBxB,EAAAA,EAAAA,OAAoBA,EAAAA,EAAAA,SAC9CQ,KAAMgB,EAAiBxB,EAAAA,EAAAA,aAA0BA,EAAAA,EAAAA,QAGzDE,aAAc,CACVuB,IAAK,CACDtB,gBAAiBqB,EAAiBxB,EAAAA,EAAAA,aAA0BA,EAAAA,EAAAA,iBAC5DI,QAASoB,EAAiBxB,EAAAA,EAAAA,aAA0BA,EAAAA,EAAAA,SACpDK,OAAQmB,EAAiBxB,EAAAA,EAAAA,aAA0BA,EAAAA,EAAAA,QACnDM,QAASkB,EAAiBxB,EAAAA,EAAAA,aAA0BA,EAAAA,EAAAA,SACpDO,QAASiB,EAAiBxB,EAAAA,EAAAA,aAA0BA,EAAAA,EAAAA,SACpDQ,KAAMgB,EAAiBxB,EAAAA,EAAAA,aAA0BA,EAAAA,EAAAA,QAGzDG,gBAAiB,CACbsB,IAAK,CACDrB,QAASoB,EAAiBxB,EAAAA,EAAAA,gBAA6BA,EAAAA,EAAAA,SACvDK,OAAQmB,EAAiBxB,EAAAA,EAAAA,gBAA6BA,EAAAA,EAAAA,QACtDM,QAASkB,EAAiBxB,EAAAA,EAAAA,gBAA6BA,EAAAA,EAAAA,SACvDO,QAASiB,EAAiBxB,EAAAA,EAAAA,gBAA6BA,EAAAA,EAAAA,SACvDQ,KAAMgB,EAAiBxB,EAAAA,EAAAA,gBAA6BA,EAAAA,EAAAA,QAG5DI,QAAS,CACLqB,IAAK,CACDpB,OAAQmB,EAAiBxB,EAAAA,EAAAA,QAAqBA,EAAAA,EAAAA,QAC9CM,QAASkB,EAAiBxB,EAAAA,EAAAA,QAAqBA,EAAAA,EAAAA,SAC/CO,QAASiB,EAAiBxB,EAAAA,EAAAA,QAAqBA,EAAAA,EAAAA,SAC/CQ,KAAMgB,EAAiBxB,EAAAA,EAAAA,QAAqBA,EAAAA,EAAAA,QAGpDK,OAAQ,CACJoB,IAAK,CACDnB,QAASkB,EAAiBxB,EAAAA,EAAAA,OAAoBA,EAAAA,EAAAA,SAC9CO,QAASiB,EAAiBxB,EAAAA,EAAAA,OAAoBA,EAAAA,EAAAA,SAC9CQ,KAAMgB,EAAiBxB,EAAAA,EAAAA,OAAoBA,EAAAA,EAAAA,QAGnDM,QAAS,CACLmB,IAAK,CACDlB,QAASiB,EAAiBxB,EAAAA,EAAAA,QAAqBA,EAAAA,EAAAA,SAC/CQ,KAAMgB,EAAiBxB,EAAAA,EAAAA,QAAqBA,EAAAA,EAAAA,QAGpDO,QAAS,CACLkB,IAAK,CACDjB,KAAMgB,EAAiBxB,EAAAA,EAAAA,QAAqBA,EAAAA,EAAAA,Q","sources":["webpack://@guardian/dotcom-rendering/../node_modules/@kossnocorp/desvg/index.js","webpack://@guardian/dotcom-rendering/../node_modules/@kossnocorp/desvg/react.js","webpack://@guardian/dotcom-rendering/./src/static/icons/share.svg","webpack://@guardian/dotcom-rendering/./src/web/components/ShareCount.importable.tsx","webpack://@guardian/dotcom-rendering/./src/lib/formatters.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/formatCount.ts","webpack://@guardian/dotcom-rendering/./src/web/lib/useApi.tsx","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/libs/esm/format/ArticleDesign.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/libs/esm/format/ArticleDisplay.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/libs/esm/format/ArticlePillar.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/libs/esm/format/ArticleSpecial.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/libs/esm/joinUrl/joinUrl.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-foundations/esm/breakpoints/breakpoints.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-foundations/esm/index.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-foundations/esm/mq/mq.js"],"sourcesContent":["module.exports = desvg\n\nfunction desvg (h, svg, props) {\n  props = props || {}\n\n  var content = svg.content\n  var attributes = svg.attributes\n\n  return function (props) {\n    return h(\n      'svg',\n      Object.assign(\n        { dangerouslySetInnerHTML: { __html: content } },\n        attributes,\n        props\n      ),\n      props && props.children\n    )\n  }\n}\n","var desvg = require('.')\nvar React = require('react')\n\nmodule.exports = desvg.bind(null, React.createElement.bind(React))\n","\nmodule.exports = {\"attributes\":{\"width\":\"12\",\"height\":\"12\",\"viewBox\":\"0 0 12 12\",\"xmlns\":\"http://www.w3.org/2000/svg\"},\"content\":\"<path d=\\\"M10.073 8.4c-.475     0-.906.19-1.225.497l-5.308-2.676.015-.221-.015-.221     5.308-2.676c.319.308.75.497 1.225.497.982 0 1.778-.806     1.778-1.8s-.796-1.8-1.778-1.8-1.778.806-1.778 1.8l.016.233-5.299     2.675c-.32-.313-.755-.507-1.236-.507-.982 0-1.778.806-1.778 1.8s.796 1.8     1.778 1.8c.48 0 .915-.194 1.236-.507l5.299 2.675-.016.233c0 .994.796 1.8     1.778 1.8s1.778-.806 1.778-1.8-.796-1.8-1.778-1.8zm0-7.68c.588 0     1.067.484 1.067 1.08 0 .596-.479 1.08-1.067     1.08s-1.067-.484-1.067-1.08c0-.596.479-1.08 1.067-1.08zm0 10.56c-.588     0-1.067-.484-1.067-1.08 0-.596.479-1.08 1.067-1.08s1.067.484 1.067     1.08c0 .596-.479 1.08-1.067 1.08z\\\"></path>\"}\nvar desvg = require('@kossnocorp/desvg/react')\nmodule.exports = desvg(module.exports)\n","import { css } from '@emotion/react';\nimport { joinUrl } from '@guardian/libs';\nimport { between, textSans, until } from '@guardian/source-foundations';\nimport ShareIcon from '../../static/icons/share.svg';\nimport type { Palette } from '../../types/palette';\nimport { decidePalette } from '../lib/decidePalette';\nimport { formatCount } from '../lib/formatCount';\nimport { useApi } from '../lib/useApi';\n\ntype Props = {\n\tajaxUrl: string;\n\tpageId: string;\n\tformat: ArticleFormat;\n};\n\ntype ShareCountType = {\n\tpath: string;\n\tshare_count: number;\n\trefreshStatus: boolean;\n};\n\nconst containerStyles = (palette: Palette) => css`\n\tdisplay: flex;\n\talign-self: flex-end;\n\tflex-direction: column;\n\t${textSans.medium()};\n\tfont-weight: bold;\n\tcolor: ${palette.text.shareCount};\n\n\t${until.desktop} {\n\t\tcolor: ${palette.text.shareCountUntilDesktop};\n\t}\n`;\n\nconst iconContainerStyles = css`\n\theight: 15px;\n\tmargin: 0;\n\ttext-align: right;\n\tmargin-bottom: 3px;\n`;\n\nconst iconStyles = (palette: Palette) => css`\n\tfill: ${palette.fill.shareCountIcon};\n\t${until.desktop} {\n\t\tfill: ${palette.fill.shareCountIconUntilDesktop};\n\t}\n`;\n\nconst longStyles = css`\n\tdisplay: block;\n\n\t${between.leftCol.and.wide} {\n\t\tdisplay: none;\n\t}\n`;\n\nconst shortStyles = css`\n\tdisplay: none;\n\n\t${between.leftCol.and.wide} {\n\t\tdisplay: block;\n\t}\n`;\n\nexport const ShareCount = ({ ajaxUrl, pageId, format }: Props) => {\n\tconst shareUrl = joinUrl(ajaxUrl, 'sharecount', `${pageId}.json`);\n\tconst palette = decidePalette(format);\n\tconst { data: shareData, error: shareError } =\n\t\tuseApi<ShareCountType>(shareUrl);\n\tif (shareError) {\n\t\twindow.guardian.modules.sentry.reportError(shareError, 'share-count');\n\t}\n\n\tconst shareCount = shareData?.share_count;\n\tif (shareCount === undefined || shareCount === 0) return null;\n\n\tconst { short, long } = formatCount(shareCount);\n\n\treturn (\n\t\t<div\n\t\t\tcss={containerStyles(palette)}\n\t\t\taria-label={`${short} Shares`}\n\t\t\tdata-cy=\"share-counts\"\n\t\t>\n\t\t\t<div css={iconContainerStyles}>\n\t\t\t\t<ShareIcon css={iconStyles(palette)} />\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tdata-testid=\"long-share-count\"\n\t\t\t\tcss={longStyles}\n\t\t\t\taria-hidden=\"true\"\n\t\t\t>\n\t\t\t\t{long}\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tdata-testid=\"short-share-count\"\n\t\t\t\tcss={shortStyles}\n\t\t\t\taria-hidden=\"true\"\n\t\t\t>\n\t\t\t\t{short}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","const integerCommas = (val: number): string => {\n\tconst digits = val.toFixed(0).split('');\n\tconst len = digits.length;\n\n\tfor (let i = digits.length - 1; i >= 1; i -= 1) {\n\t\tif ((len - i) % 3 === 0) {\n\t\t\tdigits.splice(i, 0, ',');\n\t\t}\n\t}\n\n\treturn digits.join('');\n};\n\nexport { integerCommas };\n","import { integerCommas } from '../../lib/formatters';\n\nexport const formatCount = (\n\tcount?: number,\n): { short: string; long: string } => {\n\tif (count === undefined) return { short: '…', long: '…' };\n\tif (count === 0) return { short: '0', long: '0' };\n\n\tconst countAsInteger = parseInt(count.toFixed(0), 10);\n\tconst displayCountLong = integerCommas(countAsInteger);\n\tconst displayCountShort =\n\t\tcountAsInteger > 10000\n\t\t\t? `${Math.round(countAsInteger / 1000)}k`\n\t\t\t: countAsInteger.toString();\n\n\treturn {\n\t\tshort: displayCountShort,\n\t\tlong: displayCountLong,\n\t};\n};\n","import type { SWRConfiguration } from 'swr';\nimport useSWR from 'swr';\n\nfunction checkForErrors(response: Response) {\n\tif (!response.ok) {\n\t\tthrow Error(\n\t\t\tresponse.statusText ||\n\t\t\t\t`useApi | An api call returned HTTP status ${response.status}`,\n\t\t);\n\t}\n\treturn response;\n}\n\nconst fetcher = (init?: RequestInit) => (url: string) =>\n\tfetch(url, init)\n\t\t.then(checkForErrors)\n\t\t.then((res) => res.json());\n\ninterface ApiResponse<T> {\n\tloading: boolean;\n\tdata?: T;\n\terror?: Error;\n}\n\n/**\n * @description\n * A custom hook to make a GET request using the given url using the SWR lib (https://swr.vercel.app/)\n * returns { loading, error, data }\n * @param {String} url - The url to fetch\n * @param {SWRConfiguration} options - The SWR config object - https://swr.vercel.app/docs/options\n * @param {RequestInit} init - The fetch init object - https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch#supplying_request_options\n * */\nexport const useApi = <T,>(\n\turl?: string,\n\toptions?: SWRConfiguration,\n\tinit?: RequestInit,\n): ApiResponse<T> => {\n\tconst { data, error } = useSWR(url, fetcher(init), options);\n\n\treturn {\n\t\tdata,\n\t\terror,\n\t\tloading: !!url && !error && !data,\n\t};\n};\n","var ArticleDesign;\n(function (ArticleDesign) {\n    ArticleDesign[ArticleDesign[\"Standard\"] = 0] = \"Standard\";\n    ArticleDesign[ArticleDesign[\"Gallery\"] = 1] = \"Gallery\";\n    ArticleDesign[ArticleDesign[\"Audio\"] = 2] = \"Audio\";\n    ArticleDesign[ArticleDesign[\"Video\"] = 3] = \"Video\";\n    ArticleDesign[ArticleDesign[\"Review\"] = 4] = \"Review\";\n    ArticleDesign[ArticleDesign[\"Analysis\"] = 5] = \"Analysis\";\n    ArticleDesign[ArticleDesign[\"Explainer\"] = 6] = \"Explainer\";\n    ArticleDesign[ArticleDesign[\"Comment\"] = 7] = \"Comment\";\n    ArticleDesign[ArticleDesign[\"Letter\"] = 8] = \"Letter\";\n    ArticleDesign[ArticleDesign[\"Feature\"] = 9] = \"Feature\";\n    ArticleDesign[ArticleDesign[\"LiveBlog\"] = 10] = \"LiveBlog\";\n    ArticleDesign[ArticleDesign[\"DeadBlog\"] = 11] = \"DeadBlog\";\n    ArticleDesign[ArticleDesign[\"Recipe\"] = 12] = \"Recipe\";\n    ArticleDesign[ArticleDesign[\"MatchReport\"] = 13] = \"MatchReport\";\n    ArticleDesign[ArticleDesign[\"Interview\"] = 14] = \"Interview\";\n    ArticleDesign[ArticleDesign[\"Editorial\"] = 15] = \"Editorial\";\n    ArticleDesign[ArticleDesign[\"Quiz\"] = 16] = \"Quiz\";\n    ArticleDesign[ArticleDesign[\"Interactive\"] = 17] = \"Interactive\";\n    ArticleDesign[ArticleDesign[\"PhotoEssay\"] = 18] = \"PhotoEssay\";\n    ArticleDesign[ArticleDesign[\"PrintShop\"] = 19] = \"PrintShop\";\n    ArticleDesign[ArticleDesign[\"Obituary\"] = 20] = \"Obituary\";\n    ArticleDesign[ArticleDesign[\"Correction\"] = 21] = \"Correction\";\n    ArticleDesign[ArticleDesign[\"FullPageInteractive\"] = 22] = \"FullPageInteractive\";\n    ArticleDesign[ArticleDesign[\"NewsletterSignup\"] = 23] = \"NewsletterSignup\";\n    ArticleDesign[ArticleDesign[\"Timeline\"] = 24] = \"Timeline\";\n    ArticleDesign[ArticleDesign[\"Profile\"] = 25] = \"Profile\";\n})(ArticleDesign || (ArticleDesign = {}));\n\nexport { ArticleDesign };\n//# sourceMappingURL=ArticleDesign.js.map\n","var ArticleDisplay;\n(function (ArticleDisplay) {\n    ArticleDisplay[ArticleDisplay[\"Standard\"] = 0] = \"Standard\";\n    ArticleDisplay[ArticleDisplay[\"Immersive\"] = 1] = \"Immersive\";\n    ArticleDisplay[ArticleDisplay[\"Showcase\"] = 2] = \"Showcase\";\n    ArticleDisplay[ArticleDisplay[\"NumberedList\"] = 3] = \"NumberedList\";\n})(ArticleDisplay || (ArticleDisplay = {}));\n\nexport { ArticleDisplay };\n//# sourceMappingURL=ArticleDisplay.js.map\n","var ArticlePillar;\n(function (ArticlePillar) {\n    ArticlePillar[ArticlePillar[\"News\"] = 0] = \"News\";\n    ArticlePillar[ArticlePillar[\"Opinion\"] = 1] = \"Opinion\";\n    ArticlePillar[ArticlePillar[\"Sport\"] = 2] = \"Sport\";\n    ArticlePillar[ArticlePillar[\"Culture\"] = 3] = \"Culture\";\n    ArticlePillar[ArticlePillar[\"Lifestyle\"] = 4] = \"Lifestyle\";\n})(ArticlePillar || (ArticlePillar = {}));\n\nexport { ArticlePillar };\n//# sourceMappingURL=ArticlePillar.js.map\n","var ArticleSpecial;\n(function (ArticleSpecial) {\n    ArticleSpecial[ArticleSpecial[\"SpecialReport\"] = 5] = \"SpecialReport\";\n    ArticleSpecial[ArticleSpecial[\"Labs\"] = 6] = \"Labs\";\n    ArticleSpecial[ArticleSpecial[\"SpecialReportAlt\"] = 7] = \"SpecialReportAlt\";\n})(ArticleSpecial || (ArticleSpecial = {}));\n\nexport { ArticleSpecial };\n//# sourceMappingURL=ArticleSpecial.js.map\n","// detect two or more `/` chars after a word boundary\nconst multipleSlashesInRoute = /\\b\\/{2,}/g;\nconst joinUrl = (...args) => args.join('/').replace(multipleSlashesInRoute, '/');\n\nexport { joinUrl };\n//# sourceMappingURL=joinUrl.js.map\n","/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_media-queries--page) •\n * [Design System](https://theguardian.design/2a1e5182b/p/41be19-grids)\n */\nconst breakpoints = {\n    mobile: 320,\n    mobileMedium: 375,\n    mobileLandscape: 480,\n    phablet: 660,\n    tablet: 740,\n    desktop: 980,\n    leftCol: 1140,\n    wide: 1300,\n};\n\nexport { breakpoints };\n//# sourceMappingURL=breakpoints.js.map\n","import { palette } from './colour/palette.js';\nexport { background, border, brandAltBackground, brandAltBorder, brandAltLine, brandAltText, brandBackground, brandBorder, brandLine, brandText, line, palette, text } from './colour/palette.js';\nexport { descriptionId } from './accessibility/description-id.js';\nexport { focusHalo, focusHaloSpaced } from './accessibility/focus-halo.js';\nexport { generateSourceId } from './accessibility/generate-source-id.js';\nexport { visuallyHidden } from './accessibility/visually-hidden.js';\nexport { transitions } from './animation/transitions.js';\nexport { breakpoints } from './breakpoints/breakpoints.js';\nexport { between, from, until } from './mq/mq.js';\nexport { height, iconSize, remHeight, remWidth, size, width } from './size/size.js';\nexport { remSpace, space } from './space/space.js';\nexport { body, headline, textSans, titlepiece } from './typography/index.js';\nexport { body as bodyObjectStyles, headline as headlineObjectStyles, textSans as textSansObjectStyles, titlepiece as titlepieceObjectStyles } from './typography/api.js';\nexport { bodySizes, fontWeights, fonts, headlineSizes, lineHeights, remBodySizes, remHeadlineSizes, remTextSansSizes, remTitlepieceSizes, textSansSizes, titlepieceSizes } from './typography/data.js';\nexport { appearance } from './utils/supports-queries.js';\nexport { FocusStyleManager } from './accessibility/focus-style-manager.js';\nexport { pxToRem, rootPixelFontSize } from './utils/px-to-rem.js';\nexport { resets } from './utils/resets.js';\nexport { svgBackgroundImage } from './utils/svg-background-image.js';\n\n/**\n * @deprecated exports - to be removed in a future major version.\n * Colours should now be imported from the `palette` object.\n */\nconst { brand, brandAlt, neutral, error, success, news, opinion, sport, culture, lifestyle, labs, specialReport, focus, } = palette;\n\nexport { brand, brandAlt, culture, error, focus, labs, lifestyle, neutral, news, opinion, specialReport, sport, success };\n//# sourceMappingURL=index.js.map\n","import { breakpoints } from '../breakpoints/breakpoints.js';\n\nconst minWidth = (from) => `@media (min-width: ${`${from}px`})`;\nconst maxWidth = (until) => `@media (max-width: ${`${until - 1}px`})`;\nconst minWidthMaxWidth = (from, until) => `@media (min-width: ${`${from}px`}) and (max-width: ${`${until - 1}px`})`;\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_media-queries--page#from)\n *\n * @example\n *\tconst styles = css`\n *\t\t${from.mobileLandscape} {\n *\t\t\tpadding: 0 20px;\n *\t\t}\n * `;\n */\nconst from = {\n    mobile: minWidth(breakpoints.mobile),\n    mobileMedium: minWidth(breakpoints.mobileMedium),\n    mobileLandscape: minWidth(breakpoints.mobileLandscape),\n    phablet: minWidth(breakpoints.phablet),\n    tablet: minWidth(breakpoints.tablet),\n    desktop: minWidth(breakpoints.desktop),\n    leftCol: minWidth(breakpoints.leftCol),\n    wide: minWidth(breakpoints.wide),\n};\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_media-queries--page#until)\n *\n * @example\n *\tconst styles = css`\n *\t\t${until.wide} {\n *\t\t\tpadding: 0 40px;\n *\t\t}\n * `;\n */\nconst until = {\n    mobile: maxWidth(breakpoints.mobile),\n    mobileMedium: maxWidth(breakpoints.mobileMedium),\n    mobileLandscape: maxWidth(breakpoints.mobileLandscape),\n    phablet: maxWidth(breakpoints.phablet),\n    tablet: maxWidth(breakpoints.tablet),\n    desktop: maxWidth(breakpoints.desktop),\n    leftCol: maxWidth(breakpoints.leftCol),\n    wide: maxWidth(breakpoints.wide),\n};\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_media-queries--page#betweenand)\n *\n * @example\n *\tconst styles = css`\n *\t\t${between.phablet.and.desktop} {\n *\t\t\tpadding: 0 32px;\n *\t\t}\n * `;\n */\nconst between = {\n    mobile: {\n        and: {\n            mobileMedium: minWidthMaxWidth(breakpoints.mobile, breakpoints.mobileMedium),\n            mobileLandscape: minWidthMaxWidth(breakpoints.mobile, breakpoints.mobileLandscape),\n            phablet: minWidthMaxWidth(breakpoints.mobile, breakpoints.phablet),\n            tablet: minWidthMaxWidth(breakpoints.mobile, breakpoints.tablet),\n            desktop: minWidthMaxWidth(breakpoints.mobile, breakpoints.desktop),\n            leftCol: minWidthMaxWidth(breakpoints.mobile, breakpoints.leftCol),\n            wide: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.wide),\n        },\n    },\n    mobileMedium: {\n        and: {\n            mobileLandscape: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.mobileLandscape),\n            phablet: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.phablet),\n            tablet: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.tablet),\n            desktop: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.desktop),\n            leftCol: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.leftCol),\n            wide: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.wide),\n        },\n    },\n    mobileLandscape: {\n        and: {\n            phablet: minWidthMaxWidth(breakpoints.mobileLandscape, breakpoints.phablet),\n            tablet: minWidthMaxWidth(breakpoints.mobileLandscape, breakpoints.tablet),\n            desktop: minWidthMaxWidth(breakpoints.mobileLandscape, breakpoints.desktop),\n            leftCol: minWidthMaxWidth(breakpoints.mobileLandscape, breakpoints.leftCol),\n            wide: minWidthMaxWidth(breakpoints.mobileLandscape, breakpoints.wide),\n        },\n    },\n    phablet: {\n        and: {\n            tablet: minWidthMaxWidth(breakpoints.phablet, breakpoints.tablet),\n            desktop: minWidthMaxWidth(breakpoints.phablet, breakpoints.desktop),\n            leftCol: minWidthMaxWidth(breakpoints.phablet, breakpoints.leftCol),\n            wide: minWidthMaxWidth(breakpoints.phablet, breakpoints.wide),\n        },\n    },\n    tablet: {\n        and: {\n            desktop: minWidthMaxWidth(breakpoints.tablet, breakpoints.desktop),\n            leftCol: minWidthMaxWidth(breakpoints.tablet, breakpoints.leftCol),\n            wide: minWidthMaxWidth(breakpoints.tablet, breakpoints.wide),\n        },\n    },\n    desktop: {\n        and: {\n            leftCol: minWidthMaxWidth(breakpoints.desktop, breakpoints.leftCol),\n            wide: minWidthMaxWidth(breakpoints.desktop, breakpoints.wide),\n        },\n    },\n    leftCol: {\n        and: {\n            wide: minWidthMaxWidth(breakpoints.leftCol, breakpoints.wide),\n        },\n    },\n};\n\nexport { between, from, until };\n//# sourceMappingURL=mq.js.map\n"],"names":["module","exports","h","svg","props","content","attributes","Object","assign","dangerouslySetInnerHTML","__html","children","desvg","React","bind","createElement","containerStyles","palette","css","textSans","text","shareCount","until","shareCountUntilDesktop","iconContainerStyles","iconStyles","fill","shareCountIcon","shareCountIconUntilDesktop","longStyles","between","shortStyles","ShareCount","ajaxUrl","pageId","format","shareUrl","joinUrl","decidePalette","data","shareData","error","shareError","useApi","window","guardian","modules","sentry","reportError","share_count","undefined","short","long","formatCount","div","aria-label","data-cy","ShareIcon","data-testid","aria-hidden","count","countAsInteger","parseInt","toFixed","displayCountLong","val","digits","split","len","length","i","splice","join","integerCommas","Math","round","toString","checkForErrors","response","ok","Error","statusText","status","url","options","init","useSWR","fetch","then","res","json","fetcher","loading","ArticleDesign","ArticleDisplay","ArticlePillar","ArticleSpecial","multipleSlashesInRoute","args","replace","breakpoints","mobile","mobileMedium","mobileLandscape","phablet","tablet","desktop","leftCol","wide","brand","brandAlt","neutral","success","news","opinion","sport","culture","lifestyle","labs","specialReport","focus","minWidth","from","maxWidth","minWidthMaxWidth","and"],"sourceRoot":""}