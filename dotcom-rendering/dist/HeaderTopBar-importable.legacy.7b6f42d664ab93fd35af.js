(self.webpackChunk_guardian_dotcom_rendering=self.webpackChunk_guardian_dotcom_rendering||[]).push([[9717],{1625:(e,t,n)=>{"use strict";n.d(t,{F:()=>i});var r=n(9123),i=function(e,t){var n={componentType:"identityauthentication",componentId:e};return t&&(n.viewId=t),"componentEventParams=".concat(encodeURIComponent((0,r.A)(n)))}},9123:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var r=function(e){return Object.keys(e).map((function(t){var n=e[t],r=Array.isArray(n)?n.map((function(e){return encodeURIComponent(e)})).join(","):encodeURIComponent(n);return"".concat(t,"=").concat(r)})).join("&")}},3998:(e,t,n)=>{"use strict";n.d(t,{L:()=>C});var r=n(5809),i=n(7800),o=n(43),a=n(5246),s=n(7162),c=n(2522),d=n(9525),u=n(9861),l=n(3904),p=n(3203),f=n(2290),h=n(9213),x=n(3287),m=(0,o.css)((0,f.K)("dropdown")," list-style:none;li::before{content:'\\200B';display:block;height:0;width:0;}background-color:white;padding:6px 0;box-shadow:0 0 0 1px rgba(0, 0, 0, 0.1);",a.C4.tablet,"{position:fixed;border-radius:0;top:32px;left:0;right:0;width:auto;max-height:calc(100% - 50px);overflow:auto;}",a.Dp.tablet,"{position:absolute;top:100%;width:200px;border-radius:3px;}"),g={name:"8k1832",styles:"position:relative;display:flex"},v={name:"4zleql",styles:"display:block"},b={name:"eivff4",styles:"display:none"},w=(0,o.css)(s.OS.small(),";color:",c.fL.anchorSecondary,";position:relative;transition:color 80ms ease-out;margin:-1px 0 0 0;text-decoration:none;display:block;padding:10px 18px 15px 30px;:hover{background-color:",d.n$[93],";text-decoration:none;}:focus{text-decoration:underline;}:before{content:'';border-top:1px solid ",c.Cg.secondary,";display:block;position:absolute;top:0px;left:30px;right:0px;}"),y=(0,o.css)("font-weight:bold;:after{content:'';border:2px solid ",d.r[400],";border-top:0px;border-right:0px;position:absolute;top:19px;left:12px;width:10px;height:4px;transform:rotate(-45deg);}"),k={name:"1mx8uxy",styles:":before{content:none;}"},j=(0,o.css)(s.OS.medium(),";display:block;cursor:pointer;background:none;border:none;line-height:1.2;color:",c.zb.primary,";transition:color 80ms ease-out;padding:0px 10px 6px 5px;margin:1px 0 0;text-decoration:none;position:relative;:hover{color:",d.A5[400],";:after{transform:translateY(0) rotate(45deg);}}:after{content:'';display:inline-block;width:5px;height:5px;transform:translateY(-2px) rotate(45deg);border:1px solid currentColor;border-left:transparent;border-top:transparent;margin-left:5px;vertical-align:middle;transition:transform 250ms ease-out;}"),O={name:"1baa2f8",styles:":hover:after{transform:translateY(-1px) rotate(-135deg);}:after{transform:translateY(1px) rotate(-135deg);}"},U=c.DG.error[400],S=function(e){return(0,o.css)("background-color:",U,";color:",c.DG.neutral[100],";text-align:center;display:flex;justify-content:center;align-items:center;",s.OS.xsmall(),";line-height:1;width:",e,"px;height:",e,"px;border-radius:",e,"px;")},I={name:"1l2bf3g",styles:"position:absolute;top:0;left:0;margin-left:-10px;margin-top:-3px"},A=(0,o.css)(s.OS.xxsmall(),";"),D=function(e){var t=e.diameter;return(0,i.jsx)("div",{css:S(t),children:(0,i.jsx)("span",{children:"!"})})},E=function(e){var t=e.notification.message;return(0,i.jsx)("div",{css:A,children:t})},L={name:"11a2lst",styles:"margin-top:12px;margin-right:8px"},z=function(e){var t,n=e.link,o=e.index,a=(0,l.useMemo)((function(){return function(e){if(e.notifications&&e.notifications.length>0)return{componentType:"RETENTION_HEADER",id:e.id,labels:e.notifications.map((function(e){return e.ophanLabel}))}}(n)}),[n]),s=(0,h.O)({debounce:!0}),c=(0,r.Z)(s,2),d=c[0],u=c[1],f=(0,l.useState)(!1),m=(0,r.Z)(f,2),v=m[0],b=m[1];(0,l.useEffect)((function(){d&&a&&n.notifications&&n.notifications.length>0&&!v&&(b(!0),n.notifications.forEach((function(e){var t;null===(t=e.logImpression)||void 0===t||t.call(e)})),(0,p.X4)({component:a,action:"VIEW"}))}),[d,a,n.notifications,v,n.id]),(0,x.t)((function(){a&&(0,p.X4)({component:a,action:"INSERT"})}),[a]);var j=a?function(e,t){var n=encodeURIComponent(JSON.stringify({source:"GUARDIAN_WEB",componentId:t.id,componentType:t.componentType,campaignCode:t.id,referrerPageviewId:window.guardian.config.ophan.pageViewId,referrerUrl:window.location.origin+window.location.pathname,labels:t.labels})),r=e.includes("?")?"&":"?";return"".concat(e).concat(r,"acquisitionData=").concat(n)}(n.url,a):n.url,O=void 0!==n.notifications&&n.notifications.length>0;return(0,i.jsxs)("li",{css:g,ref:u,children:[(0,i.jsxs)("a",{href:j,css:[w,!!n.isActive&&y,0===o&&k],"data-link-name":n.dataLinkName,onClick:function(){a&&(0,p.X4)({component:a,action:"CLICK"})},children:[n.title,null===(t=n.notifications)||void 0===t?void 0:t.map((function(e){return(0,i.jsx)(E,{notification:e},e.id)}))]}),O&&(0,i.jsx)("div",{css:L,children:(0,i.jsx)(D,{diameter:22})})]},n.title)},C=function(e){var t=e.id,n=e.label,a=e.links,s=e.dataLinkName,c=e.cssOverrides,d=e.children,p=(0,l.useState)(!1),f=(0,r.Z)(p,2),h=f[0],x=f[1],g=(0,l.useState)(!0),U=(0,r.Z)(g,2),S=U[0],A=U[1];(0,l.useEffect)((function(){A(!1)}),[]),(0,l.useEffect)((function(){var e=function(e){h&&"Escape"===e.code&&x(!1)};return document.addEventListener("keydown",e,!1),function(){return document.removeEventListener("keydown",e)}}),[h]),(0,l.useEffect)((function(){var e=function(e){h&&(e.stopPropagation(),x(!1))};return document.addEventListener("click",e,!1),function(){return document.removeEventListener("click",e)}}),[h]);var E="dropbox-id-".concat(t),L="checkbox-id-".concat(t),C=function(e){return e.reduce((function(e,t){var n,r;return e+(null!==(n=null===(r=t.notifications)||void 0===r?void 0:r.length)&&void 0!==n?n:0)}),0)}(a);return(0,i.jsx)(i.Fragment,{children:S?(0,i.jsxs)("div",{css:(0,o.css)("#".concat(L),"{",u.j,";}","#".concat(E),"{display:none;}","#".concat(L),":checked+","#".concat(E),"{display:block;}"),children:[(0,i.jsx)("label",{htmlFor:L,css:[j,c],children:n}),(0,i.jsx)("input",{type:"checkbox",id:L,"aria-checked":"false",tabIndex:-1}),(0,i.jsx)("ul",{id:E,css:[m,c],children:a.map((function(e,t){return(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:e.url,css:[w,!!e.isActive&&y,0===t&&k],"data-link-name":e.dataLinkName,children:e.title})},e.title)}))})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("button",{onClick:function(){return x(!h)},css:[j,c,h&&O],"aria-expanded":h?"true":"false","data-link-name":s,"data-cy":"dropdown-button",type:"button",children:[n,C>0&&(0,i.jsx)("div",{css:I,children:(0,i.jsx)(D,{diameter:18})})]}),(0,i.jsx)("div",{css:h?v:b,children:d?(0,i.jsx)(i.Fragment,{children:d}):(0,i.jsx)("ul",{css:[m,c],"data-cy":"dropdown-options",children:a.map((function(e,t){return(0,i.jsx)(z,{link:e,index:t},e.id)}))})})]})})}},3134:(e,t,n)=>{"use strict";n.r(t),n.d(t,{HeaderTopBar:()=>le});var r=n(7800),i=n(43),o=n(4857),a=n(9525),s=n(5246),c=n(2933),d=n(8982),u=n(4649),l=n(126),p=n(2290),f=n(3998),h=n(5809),x=n(8808),m=n(3742),g=n(7162),v=n(3904),b=n(1625),w=n(8347),y=n.n(w);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=function(e){return Boolean(e.extras.message)&&Boolean(e.extras.target)&&Boolean(e.extras.ophanLabel)},U=n(6325),S=n(6849),I=["idApiUrl"];function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=(0,i.css)("display:flex;align-items:center;",s.Dp.tablet,"{align-items:stretch;}",s.Dp.desktop,"{:before{content:'';border-left:1px solid ",a.UQ[600],";height:24px;}}"),L=(0,i.css)("display:flex;align-items:center;height:fit-content;position:relative;",g.OS.medium(),";font-size:1rem;line-height:1;color:",a.n$[100],";transition:color 80ms ease-out;text-decoration:none;padding:0;",s.Dp.tablet,"{padding:7px 10px 7px 6px;}",s.Dp.desktop,"{font-weight:bold;}:hover,:focus{text-decoration:underline;}svg{fill:currentColor;float:left;height:18px;width:18px;margin:0 4px 0 0;}",(0,p.K)("myAccountDropdown"),";"),z=function(e){var t=e.idUrl;return(0,r.jsxs)("a",{css:L,href:"".concat(t,"/signin?INTCMP=DOTCOM_NEWHEADER_SIGNIN&ABCMP=ab-sign-in&").concat((0,b.F)("guardian_signin_header")),"data-link-name":"nav3 : topbar : signin",children:[(0,r.jsx)(y(),{})," Sign in"]})},C=(0,i.css)("color:",a.n$[100],";padding-right:0;padding-bottom:0;margin-top:0;font-size:1rem;&:not(ul):hover{color:",a.n$[100],";text-decoration:underline;}",s.Dp.tablet,"{right:0;}",s.Dp.desktop,"{font-weight:bold;}"),P=function(e){var t=e.mmaUrl,n=e.idUrl,i=e.discussionApiUrl,o=e.notifications,a=(0,U.h)((0,m.p)(i,"profile/me?strict_sanctions_check=false"),{},{credentials:"include"}),s=a.data;if(a.error||null==s||!s.userProfile.userId)return(0,r.jsx)(z,{idUrl:n});var c=function(e,t,n){return[{id:"account_overview",url:"".concat(e,"/"),title:"Account overview",dataLinkName:"nav3 : topbar : account overview"},{id:"edit_profile",url:"".concat(e,"/public-settings"),title:"Profile",dataLinkName:"nav3 : topbar : edit profile"},{id:"email_prefs",url:"".concat(e,"/email-prefs"),title:"Emails & marketing",dataLinkName:"nav3 : topbar : email prefs"},{id:"settings",url:"".concat(e,"/account-settings"),title:"Settings",dataLinkName:"nav3 : topbar : settings"},{id:"help",url:"".concat(e,"/help"),title:"Help",dataLinkName:"nav3 : topbar : help"},{id:"comment_activity",url:"".concat(t,"/user/id/").concat(n),title:"Comments & replies",dataLinkName:"nav3 : topbar : comment activity"},{id:"sign_out",url:"".concat(t,"/signout"),title:"Sign out",dataLinkName:"nav3 : topbar : sign out"}]}(t,n,s.userProfile.userId),d=function(e,t){var n=function(e){return e.reduce((function(e,t){var n;return e[t.target]=(null!==(n=e[t.target])&&void 0!==n?n:[]).concat(t),e}),{})}(t);return e.map((function(e){var t,r,i=(null!==(t=e.notifications)&&void 0!==t?t:[]).concat(null!==(r=n[e.id])&&void 0!==r?r:[]);return 0===i.length?e:j(j({},e),{},{notifications:i})}))}(c,o);return(0,r.jsxs)("div",{css:L,children:[(0,r.jsx)(y(),{}),(0,r.jsx)(f.L,{label:"My account",links:d,id:"my-account",dataLinkName:"nav3 : topbar: my account",cssOverrides:C})]})},N=function(e){var t=e.idApiUrl,n=(0,x.Z)(e,I),i=(0,S._)(t).brazeCards,o=(0,v.useState)([]),a=(0,h.Z)(o,2),s=a[0],c=a[1];return(0,v.useEffect)((function(){if(i){var e=i.getCardsForProfileBadge().filter(O).map((function(e){return{id:e.id,target:e.extras.target,message:e.extras.message,ophanLabel:e.extras.ophanLabel,logImpression:function(){e.logImpression()}}}));e.length&&c(e)}}),[i]),(0,r.jsx)(P,D(D({},n),{},{notifications:s}))},T=function(e){var t=e.mmaUrl,n=e.idUrl,i=e.discussionApiUrl,o=e.idApiUrl,a=e.isSignedIn;return(0,r.jsx)("div",{css:E,children:a?(0,r.jsx)(N,{mmaUrl:t,idUrl:n,discussionApiUrl:i,idApiUrl:o}):(0,r.jsx)(z,{idUrl:n})})};function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=(0,i.css)((0,p.K)("editionDropdown"),";display:flex;position:relative;:before{content:'';border-left:1px solid ",a.UQ[600],";height:24px;}"),R=function(e){var t,n=e.editionId,o=e.dataLinkName,a=e.isInEuropeTest,s={id:"uk",url:"/preference/edition/uk",title:"UK edition",dataLinkName:"nav3 : topbar : edition-picker: UK"},c=[s,{id:"us",url:"/preference/edition/us",title:"US edition",dataLinkName:"nav3 : topbar : edition-picker: US"},{id:"au",url:"/preference/edition/au",title:"Australia edition",dataLinkName:"nav3 : topbar : edition-picker: AU"},{id:"int",url:"/preference/edition/int",title:"International edition",dataLinkName:"nav3 : topbar : edition-picker: INT"}].concat((0,l.Z)(a?[{id:"eur",url:"/preference/edition/eur",title:"Europe edition",dataLinkName:"nav3 : topbar : edition-picker: EUR"}]:[])).map((function(e){return e.id.toUpperCase()===n?Z(Z({},e),{},{isActive:!0}):e})),d=null!==(t=c.find((function(e){return e.isActive})))&&void 0!==t?t:Z(Z({},s),{},{isActive:!0}),u=[d].concat((0,l.Z)(c.filter((function(e){return!e.isActive}))));return(0,r.jsx)("div",{css:_,children:(0,r.jsx)(f.L,{label:d.title,links:u,id:"edition",dataLinkName:o,cssOverrides:(0,i.css)(C,";padding-top:6px;")})})},B=n(2902),H=n.n(B),V=n(2376),K=(0,i.css)("display:none;",s.Dp.desktop,"{display:flex;}"),F=(0,i.css)("display:flex;align-items:center;",g.OS.medium({fontWeight:"bold"}),";font-size:1rem;height:fit-content;line-height:1;color:",a.A5[400],";transition:color 80ms ease-out;text-decoration:none;padding:7px 0;",s.Dp.tablet,"{padding:7px 10px 7px 6px;}:hover,:focus{text-decoration:underline;}svg{fill:currentColor;float:left;height:18px;width:18px;margin:0 4px 0 0;}"),W=function(e){var t=e.editionId,n=(0,v.useState)(""),i=(0,h.Z)(n,2),o=i[0],a=i[1],s=(0,v.useState)(""),c=(0,h.Z)(s,2),d=c[0],u=c[1];(0,v.useEffect)((function(){a(window.guardian.config.ophan.pageViewId),u(window.location.origin+window.location.pathname)}),[]);var l=(0,V.y)({base:"https://support.theguardian.com/subscribe".concat("UK"===t?"":"/weekly"),componentType:"ACQUISITIONS_HEADER",componentId:"PrintSubscriptionsHeaderLink",pageViewId:o,referrerUrl:d});return(0,r.jsx)("div",{css:K,children:(0,r.jsxs)("a",{href:l,css:F,"data-link-name":"nav3 : topbar : printsubs",children:[(0,r.jsx)(H(),{}),(0,r.jsx)(r.Fragment,{children:"Print subscriptions"})]})})},$=n(5723),Q=n.n($),G=(0,i.css)("display:flex;align-items:center;",g.OS.medium({fontWeight:"bold"}),";line-height:1;font-size:1rem;height:fit-content;color:",a.n$[100],";transition:color 80ms ease-out;text-decoration:none;padding:7px 0;",s.Dp.tablet,"{padding:7px 10px 7px 6px;}:hover,:focus{text-decoration:underline;}svg{fill:currentColor;float:left;height:18px;width:18px;margin:0 4px 0 0;}",(0,p.K)("searchHeaderLink"),";"),q=(0,i.css)("display:none;:before{content:'';border-left:1px solid ",a.UQ[600],";height:24px;}",s.Dp.desktop,"{display:flex;}"),J=function(e){var t=e.href,n=e.dataLinkName;return(0,r.jsx)("div",{css:q,children:(0,r.jsxs)("a",{href:t,css:G,"data-link-name":n,children:[(0,r.jsx)(Q(),{}),(0,r.jsx)(r.Fragment,{children:"Search"})]})})},X=n(3698),Y=n.n(X),ee=n(2209),te=n.n(ee),ne=(0,i.css)("display:flex;align-items:center;",g.OS.medium({fontWeight:"bold"}),";line-height:1;font-size:1rem;height:fit-content;color:",a.n$[100],";transition:color 80ms ease-out;text-decoration:none;padding:7px 0;",s.Dp.tablet,"{padding:7px 10px 7px 6px;}:hover,:focus{text-decoration:underline;}svg{fill:currentColor;float:left;height:18px;width:18px;margin:0 4px 0 0;}",(0,p.K)("searchHeaderLink"),";"),re=(0,i.css)("display:none;position:relative;:before{content:'';border-left:1px solid ",a.UQ[600],";height:24px;}",s.Dp.desktop,"{display:flex;}"),ie={name:"1eju6h",styles:"background:none;border:0;&:hover{transform:scale(1.2);transition:all 0.3s ease;}"},oe=function(){var e=(0,v.useState)(!1),t=(0,h.Z)(e,2),n=t[0],o=t[1],s=(0,v.useState)(),c=(0,h.Z)(s,2),d=c[0],u=c[1],l=(0,v.useRef)(null),p=(0,U.h)(d?"https://content.guardianapis.com/search?api-key=d1280925-708c-4940-9162-0952ac6e728f&q=".concat(d):void 0).data,f=(0,v.useRef)(null),x=(0,v.useRef)(null);return(0,v.useEffect)((function(){function e(e){var t,r;null!==(t=x.current)&&void 0!==t&&t.contains(e.target)||null!==(r=f.current)&&void 0!==r&&r.contains(e.target)||!n||(u(void 0),o(!1))}return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[f,n]),(0,v.useEffect)((function(){var e=function(e){"Escape"===e.key&&(u(void 0),o(!1))};return document.addEventListener("keydown",e,!1),function(){document.removeEventListener("keydown",e,!1)}}),[]),(0,v.useEffect)((function(){var e;n&&(null===(e=l.current)||void 0===e||e.focus())}),[n]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{css:re,ref:x,children:(0,r.jsxs)("a",{href:"https://www.google.co.uk/advanced_search?q=site:www.theguardian.com",type:"button",css:ne,"data-link-name":"nav3 : search",onClick:function(e){return e.preventDefault(),n?(u(void 0),o(!1)):o(!0),!1},children:[n?(0,r.jsx)(te(),{}):(0,r.jsx)(Q(),{}),(0,r.jsx)(r.Fragment,{children:"Search"})]})}),n&&(0,r.jsxs)("form",{css:(0,i.css)("position:absolute;background:",a.UQ[400],";z-index:1000;right:0;width:50%;top:35px;"),onSubmit:function(e){var t;e.preventDefault(),u(null===(t=l.current)||void 0===t?void 0:t.value)},ref:f,children:[(0,r.jsxs)("div",{css:(0,i.css)("background:",a.n$[100],";display:flex;justify-content:space-between;"),children:[(0,r.jsx)("input",{name:"q",type:"text",css:(0,i.css)("border:none;",g.OS.small()," font-size:16px;padding:0px 8px 0px 20px;width:100%;height:44px;"),ref:l,autoComplete:"off"}),(0,r.jsx)("button",{css:ie,type:"submit",children:(0,r.jsx)(Y(),{})})]}),p&&0==p.response.results.length&&(0,r.jsx)("p",{css:(0,i.css)(g.OS.medium(),";padding:1rem 25px;color:",a.n$[100],";:hover{color:",a.A5[400],";}"),children:"There are no results"}),p&&p.response.results.length>0&&(0,r.jsx)("ul",{css:(0,i.css)("border:1px solid ",a.n$[46],";border-top:none;padding-top:8px;"),children:p.response.results.map((function(e){return(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:e.webUrl,css:(0,i.css)(g.Se.xxxsmall(),";text-decoration:none;color:",a.n$[100],";display:block;padding-left:20px;:hover{color:",a.A5[400],";}"),children:(0,r.jsx)("div",{css:(0,i.css)("border-top:1px solid ",a.n$[46],";padding:4px 50px 16px 0;"),children:e.webTitle})})},e.webUrl)}))})]})]})},ae=(0,i.css)(g.OS.medium({fontWeight:"bold"}),";font-size:1rem;line-height:1;color:",a.n$[100],";transition:color 80ms ease-out;text-decoration:none;padding:7px 0;",s.Dp.tablet,"{padding:8px 10px 7px 6px;}:hover,:focus{text-decoration:underline;}"),se=(0,i.css)("display:none;:before{content:'';border-left:1px solid ",a.UQ[600],";height:24px;}",s.Dp.desktop,"{display:flex;}"),ce=function(){return(0,r.jsx)("div",{css:se,children:(0,r.jsx)("a",{href:"https://jobs.theguardian.com",css:ae,"data-link-name":"nav3 : job-cta",children:"Search jobs"})})},de=n(4026),ue=(0,i.css)("display:flex;height:30px;background-color:",a.UQ[300],";box-sizing:border-box;padding-left:10px;",s.Dp.mobileLandscape,"{padding-left:",c.D[5],"px;}",s.Dp.tablet,"{padding-left:15px;}",s.Dp.desktop,"{height:35px;justify-content:flex-end;padding-right:",c.D[5],"px;}",s.Dp.wide,"{padding-right:96px;}"),le=function(e){var t=e.editionId,n=e.dataLinkName,s=e.idUrl,c=e.mmaUrl,u=e.discussionApiUrl,l=e.idApiUrl,p=e.headerTopBarSearchCapiSwitch,f=e.isInEuropeTest,h=!("undefined"==typeof window||!(0,o.e)({name:"GU_U",shouldMemoize:!0}));return(0,r.jsx)("div",{css:(0,i.css)("background-color:",a.UQ[300],";"),children:(0,r.jsxs)("div",{css:[ue,d.b],children:[(0,r.jsx)(W,{editionId:t}),(0,r.jsx)(T,{mmaUrl:null!=c?c:"https://manage.theguardian.com",idUrl:null!=s?s:"https://profile.theguardian.com",discussionApiUrl:u,idApiUrl:l,isSignedIn:h}),(0,r.jsx)(ce,{}),!p&&(0,r.jsx)(J,{href:"https://www.google.co.uk/advanced_search?q=site:www.theguardian.com",dataLinkName:"nav3 : search"}),p&&(0,r.jsx)(oe,{}),(0,r.jsx)(de.c,{when:"below",breakpoint:"desktop",children:(0,r.jsx)(R,{editionId:t,dataLinkName:n,isInEuropeTest:f})})]})})}},4026:(e,t,n)=>{"use strict";n.d(t,{c:()=>a});var r=n(7800),i=n(43),o=n(5246),a=function(e){var t,n=e.children,a=e.when,s=e.breakpoint,c=e.el;return t="below"===a?(0,i.css)(o.C4[s],"{display:none;}"):(0,i.css)(o.Dp[s],"{display:none;}"),"li"===c?(0,r.jsx)("li",{css:t,children:n}):(0,r.jsx)("span",{css:t,children:n})}},2376:(e,t,n)=>{"use strict";n.d(t,{y:()=>i});var r=n(9123),i=function(e){var t=e.base,n=e.componentType,i=e.componentId,o=e.campaignCode,a=e.abTest,s=e.pageViewId,c=e.referrerUrl;if(t.search(/(support.theguardian.com)(\/[a-z]*)?\/(contribute|subscribe)/)>=0){var d={source:"GUARDIAN_WEB",componentId:i,componentType:n,campaignCode:o,abTest:a,referrerPageviewId:s,referrerUrl:c},u={REFPVID:s,INTCMP:o,acquisitionData:JSON.stringify(d)};return"".concat(t).concat(t.includes("?")?"&":"?").concat((0,r.A)(u))}return t}},8982:(e,t,n)=>{"use strict";n.d(t,{b:()=>o});var r=n(43),i=n(5246),o=(0,r.css)("position:relative;margin:auto;",i.Dp.tablet,"{max-width:740px;}",i.Dp.desktop,"{max-width:980px;}",i.Dp.leftCol,"{max-width:1140px;}",i.Dp.wide,"{max-width:1300px;}")},2516:(e,t,n)=>{"use strict";n.d(t,{T:()=>c,_:()=>s});var r=n(3742);function i(e){if(!e.ok)throw Error(e.statusText||"getIdApiUserData | An api call returned HTTP status ".concat(e.status));return e}var o=function(e){return fetch(e,{credentials:"include"}).then(i).then((function(e){return e.json()}))},a={},s=function(e){if(!a.idapiUserMeResponse){var t=(0,r.p)(e,"user/me");a.idapiUserMeResponse=o(t)}return a.idapiUserMeResponse},c=function(e){if(!a.idapiUserIdentifiersResponse){var t=(0,r.p)(e,"user/me/identifiers");a.idapiUserIdentifiersResponse=o(t)}return a.idapiUserIdentifiersResponse}},2290:(e,t,n)=>{"use strict";n.d(t,{K:()=>i});var r=["sticky-video-button","sticky-video","banner","dropdown","burger","expanded-veggie-menu-wrapper","expanded-veggie-menu","mobileSticky","stickyAdWrapperLabsHeader","stickyAdWrapper","stickyAdWrapperNav","editionDropdown","toast","onwardsCarousel","myAccountDropdown","searchHeaderLink","TheGuardian","headerWrapper","articleHeadline","immersiveBlackBox","bodyArea","rightColumnArea","mainMedia","card-nested-link","card-link"],i=function(e){return"z-index: ".concat((t=e,-1===(n=r.indexOf(t))?-1:r.length-n),";");var t,n}},6325:(e,t,n)=>{"use strict";n.d(t,{h:()=>o});var r=n(6131);function i(e){if(!e.ok)throw Error(e.statusText||"useApi | An api call returned HTTP status ".concat(e.status));return e}var o=function(e,t,n){var o=(0,r.ZP)(e,function(e){return function(t){return fetch(t,e).then(i).then((function(e){return e.json()}))}}(n),t),a=o.data,s=o.error;return{data:a,error:s,loading:!!e&&!s&&!a}}},6849:(e,t,n)=>{"use strict";n.d(t,{_:()=>A});var r=n(1504),i=n(2699),o=n(7791),a=n(824),s=n.n(a),c=n(232),d=n(4857),u=n(6621),l=n(7789),p=n(3203),f="gu.brazeUserSet",h=n(2516),x=function(){var e=(0,o.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.T)(t).then((function(e){return e.brazeUuid})).catch((function(e){window.guardian.modules.sentry.reportError(e,"getBrazeUuid")})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=n(5226);function g(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b,w=function(e,t,n){return{isSuccessful:!1,failure:{field:e,data:t},data:n}},y=function(e,t){return[{name:"apiKey",value:Promise.resolve(window.guardian.config.page.brazeApiKey)},{name:"brazeSwitch",value:Promise.resolve(window.guardian.config.switches.brazeSwitch)},{name:"brazeUuid",value:e?x(t):Promise.resolve(null)},{name:"consent",value:new Promise((function(e,t){(0,m.onConsentChange)((function(n){try{e((0,m.getConsentFor)("braze",n))}catch(e){t(e)}}))}))},{name:"isNotPaidContent",value:Promise.resolve(!window.guardian.config.page.isPaidContent)}]},k=function(){var e=(0,o.Z)(s().mark((function e(t,n){var r,i,o,a,c,d,u,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=y(t,n),i={},o=g(r),e.prev=3,o.s();case 5:if((a=o.n()).done){e.next=23;break}return c=a.value,d=c.name,u=c.value,e.prev=7,e.next=10,u;case 10:if(!(l=e.sent)){e.next=15;break}i[d]=l,e.next=16;break;case 15:return e.abrupt("return",w(d,l,i));case 16:e.next=21;break;case 18:return e.prev=18,e.t0=e.catch(7),e.abrupt("return",w(d,e.t0 instanceof Error?e.t0.message:e.t0,i));case 21:e.next=5;break;case 23:e.next=28;break;case 25:e.prev=25,e.t1=e.catch(3),o.e(e.t1);case 28:return e.prev=28,o.f(),e.finish(28);case 31:return e.abrupt("return",{isSuccessful:!0,data:i});case 32:case"end":return e.stop()}}),e,null,[[3,25,28,31],[7,18]])})));return function(t,n){return e.apply(this,arguments)}}(),j={enableLogging:!0,noCookies:!0,baseUrl:"https://sdk.fra-01.braze.eu/api/v3",sessionTimeoutInSeconds:1,minimumIntervalBetweenTriggerActionsInSeconds:0,devicePropertyAllowlist:[]},O=function(){var e=(0,o.Z)(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(7845).then(n.t.bind(n,8e3,23));case 2:return(r=e.sent).setLogger((function(e){return(0,u.c)("tx",e)})),r.initialize(t,j),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(e){return void 0===b&&(b=O(e)),b},S=function(){var e=(0,o.Z)(s().mark((function e(t,n,i,o){var a,c,d;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a="true"===localStorage.getItem(f),c=!i&&a,d=!o&&a,!(!n&&a||c||d)){e.next=18;break}if(e.prev=5,!t){e.next=11;break}return e.next=9,U(t);case 9:e.sent.wipeData();case 11:r.dL.clear(),localStorage.removeItem(f),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),window.guardian.modules.sentry.reportError(e.t0,"braze-maybeWipeUserData");case 18:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(t,n,r,i){return e.apply(this,arguments)}}(),I=function(){var e=(0,o.Z)(s().mark((function e(t){var n,i,o,a,h,x,m,g,v,b;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.t.local.isAvailable()){e.next=2;break}return e.abrupt("return",{brazeMessages:new r.Vp,brazeCards:new r.J9});case 2:return n=!!(0,d.e)({name:"GU_U",shouldMemoize:!0}),e.next=5,k(n,t);case 5:if((i=e.sent).isSuccessful){e.next=12;break}return o=i.failure,a=i.data,(0,u.c)("tx","Not attempting to show Braze messages. Dependency ".concat(o.field," failed with ").concat(String(o.data),".")),e.next=11,S(a.apiKey,a.brazeUuid,a.consent,a.brazeSwitch);case 11:return e.abrupt("return",{brazeMessages:new r.Vp,brazeCards:new r.J9});case 12:return e.prev=12,(h=(0,l.i)("braze-sdk-load")).start(),e.next=17,U(i.data.apiKey);case 17:return x=e.sent,m=h.end(),(0,p.IM)({component:"braze-sdk-load-timing",value:m}),g=function(e,t){window.guardian.modules.sentry.reportError(e,t)},localStorage.setItem(f,"true"),x.changeUser(i.data.brazeUuid),x.openSession(),v=window.guardian.config.switches.brazeContentCards?new r.BX(x,g):new r.J9,b=new r.uU(x,r.dL,g),e.abrupt("return",{brazeMessages:b,brazeCards:v});case 29:return e.prev=29,e.t0=e.catch(12),e.abrupt("return",{brazeMessages:new r.Vp,brazeCards:new r.J9});case 32:case"end":return e.stop()}}),e,null,[[12,29]])})));return function(t){return e.apply(this,arguments)}}(),A=function(e){var t=(0,i.Z)("braze-message",(function(){return I(e)})),n=t.data;return t.error?{brazeMessages:new r.Vp,brazeCards:new r.J9}:{brazeMessages:null==n?void 0:n.brazeMessages,brazeCards:null==n?void 0:n.brazeCards}}},9213:(e,t,n)=>{"use strict";n.d(t,{O:()=>s});var r=n(5809),i=n(3198),o=n.n(i),a=n(3904),s=function(e){var t,n=(0,a.useState)(!1),i=(0,r.Z)(n,2),s=i[0],c=i[1],d=(0,a.useState)(null!==(t=e.node)&&void 0!==t?t:null),u=(0,r.Z)(d,2),l=u[0],p=u[1],f=(0,a.useRef)(null),h=function(t){var n=(0,r.Z)(t,1)[0];n&&(n.isIntersecting?c(!0):e.repeat&&c(!1))},x=e.debounce?o()(h,200):h;return(0,a.useEffect)((function(){return f.current&&f.current.disconnect(),window.IntersectionObserver&&(f.current=new window.IntersectionObserver(x,e),l&&f.current.observe(l)),function(){var e;return null===(e=f.current)||void 0===e?void 0:e.disconnect()}}),[l,e,x]),[s,p]}},3287:(e,t,n)=>{"use strict";n.d(t,{t:()=>o});var r=n(5809),i=n(3904),o=function(e,t){var n=(0,i.useState)(!1),o=(0,r.Z)(n,2),a=o[0],s=o[1],c=t.every((function(e){return void 0!==e}));(0,i.useEffect)((function(){!a&&c&&(e(),s(!0))}),[a,c,e])}},3698:(e,t,n)=>{e.exports={attributes:{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 30 30"},content:'<path d="M22.8 14.6l-7.6-7.6-.7.7 5.5 6.6h-14v1.5h14l-5.5 6.6.7.7 7.6-7.6v-.9"/>'};var r=n(5951);e.exports=r(e.exports)},2902:(e,t,n)=>{e.exports={attributes:{width:"18",height:"18",viewBox:"-4 -4 32 32",xmlns:"http://www.w3.org/2000/svg"},content:'<path d="M12,-4 a15,15 0,0,0 0,32 15,15 0,0,0 0,-32     M20 21L19 21H5L4 21V3L5 2H16L20 6V21Z     M18 8H6V9.5H18V8Z     M18 11H6V12.5H18V11Z     M13 14H6V15.5H13V14Z" />'};var r=n(5951);e.exports=r(e.exports)},8347:(e,t,n)=>{e.exports={attributes:{width:"14",height:"14",viewBox:"0 0 14 14"},content:'<path d="M7 0C3.1 0 0 3.1 0 7c0 2 .9 3.9 2.4 5.2C3.6 13.4 5.3 14 7 14c1.7 0 3.4-.6 4.7-1.8C13.2 10.9 14 9 14 7c0-3.9-3.1-7-7-7zm0 1.8c1.3 0 2.1.8 2.1 2.1S8 6.3 7 6.3c-.8 0-2-1.1-2-2.4 0-1.4.7-2.1 2-2.1zm0 11.6c-1.7 0-3.3-.7-4.5-1.8l.8-3.2.5-.5c1-.4 2.1-.5 3.1-.5 1.1 0 2.1.2 3.1.5l.5.5.9 3.2c-1.1 1.2-2.7 1.8-4.4 1.8z"/>'};var r=n(5951);e.exports=r(e.exports)},5723:(e,t,n)=>{e.exports={attributes:{width:"18",height:"18",viewBox:"0 0 18 18"},content:'<path d="M6.5 1.6c2.7 0 4.9 2.2 4.9 4.9s-2.2 4.9-4.9 4.9-4.9-2.2-4.9-4.9 2.2-4.9 4.9-4.9m0-1.6c-3.6 0-6.5 2.9-6.5 6.5s2.9 6.5 6.5 6.5 6.5-2.9 6.5-6.5-2.9-6.5-6.5-6.5zm6.6 11.5l4.9 4.9-1.6 1.6-4.9-4.9v-.8l.8-.8h.8z"/>'};var r=n(5951);e.exports=r(e.exports)},2209:(e,t,n)=>{e.exports={attributes:{width:"18",height:"18",viewBox:"0 0 18 18"},content:'<path d="M7.5 9L1 2l1-1 7 6.5L16 1l1 1-6.5 7 6.5 7-1 1-7-6.5L2 17l-1-1 6.5-7z"></path>'};var r=n(5951);e.exports=r(e.exports)}}]);
//# sourceMappingURL=HeaderTopBar-importable.legacy.7b6f42d664ab93fd35af.js.map