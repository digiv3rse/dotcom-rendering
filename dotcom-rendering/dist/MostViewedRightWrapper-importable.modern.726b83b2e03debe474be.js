"use strict";(self.webpackChunk_guardian_dotcom_rendering=self.webpackChunk_guardian_dotcom_rendering||[]).push([[6891],{835:(e,t,n)=>{n.r(t),n.d(t,{MostViewedRightWrapper:()=>F});var r=n(7800),s=n(43),i=n(3904),o=n(9372),c=n(3196),a=n(9461),l=n(6533),u=n(4466),d=n(1919),p=n(683),f=n(7357),g=n(6392),m=n(9931),h=n(751);function v(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function b(){const e=v(["\n\tlist-style: none;\n\t/* https://developer.mozilla.org/en-US/docs/Web/CSS/list-style#accessibility_concerns */\n\t/* Needs double escape char: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#es2018_revision_of_illegal_escape_sequences */\n\t&::before {\n\t\tcontent: '\\200B'; /* Zero width space */\n\t\tdisplay: block;\n\t\theight: 0;\n\t\twidth: 0;\n\t}\n\tpadding-top: 4px;\n\tmargin-bottom: 12px;\n\tborder-top: 1px solid ",";\n\n\t&:first-of-type {\n\t\tpadding-top: 0;\n\t\tborder-top: none;\n\t}\n"],["\n\tlist-style: none;\n\t/* https://developer.mozilla.org/en-US/docs/Web/CSS/list-style#accessibility_concerns */\n\t/* Needs double escape char: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#es2018_revision_of_illegal_escape_sequences */\n\t&::before {\n\t\tcontent: '\\\\200B'; /* Zero width space */\n\t\tdisplay: block;\n\t\theight: 0;\n\t\twidth: 0;\n\t}\n\tpadding-top: 4px;\n\tmargin-bottom: 12px;\n\tborder-top: 1px solid ",";\n\n\t&:first-of-type {\n\t\tpadding-top: 0;\n\t\tborder-top: none;\n\t}\n"]);return b=function(){return e},e}function y(){const e=v(["\n\ttext-decoration: none;\n\tfont-weight: 500;\n\t",";\n\n\t&:link,\n\t&:active {\n\t\tcolor: ",";\n\t}\n\n\t&:visited h4 {\n\t\tcolor: ",";\n\t}\n\n\t&:hover h4 {\n\t\ttext-decoration: underline;\n\t}\n"]);return y=function(){return e},e}function x(){const e=v(["\n\tdisplay: flex;\n"]);return x=function(){return e},e}function w(){const e=v(["\n\twidth: calc(100% - 82px);\n\tdisplay: flex;\n\tflex-direction: column;\n"]);return w=function(){return e},e}function D(){const e=v(["\n\twidth: 72px;\n\theight: 72px;\n\tmargin-top: 3px;\n\tmargin-right: 10px;\n"]);return D=function(){return e},e}function j(){const e=v(["\n\tmargin-top: 4px;\n"]);return j=function(){return e},e}const S=(0,s.css)(b(),p.Cg.secondary),Y=(0,s.css)(y(),c.Se.xxxsmall(),p.fL.anchorSecondary,f.n$[46]),O=(0,s.css)(x()),P=(0,s.css)(w()),k=(0,s.css)(D()),L=(0,s.css)(j()),R=e=>{let{trail:t,mostViewedItemIndex:n}=e;const[s,o]=function(){const[e,t]=(0,i.useState)(!1),n=(0,i.useRef)(null),r=()=>t(!0),s=()=>t(!1);return(0,i.useEffect)((()=>{const e=n.current;return e?(e.addEventListener("mouseover",r),e.addEventListener("mouseout",s),()=>{e.removeEventListener("mouseover",r),e.removeEventListener("mouseout",s)}):()=>{}}),[]),[n,e]}();return(0,r.jsx)("li",{css:S,"data-link-name":"trail | ".concat(n+1),children:(0,r.jsx)("a",{css:Y,href:t.url,ref:s,children:(0,r.jsxs)("div",{css:O,children:[!!t.image&&(0,r.jsx)("div",{css:k,children:(0,r.jsx)(m.q,{src:t.image,alt:"",format:t.format})}),(0,r.jsxs)("div",{css:P,children:[t.format.design===d.Y.LiveBlog?(0,r.jsx)(h.o,{headlineText:t.headline,format:t.format,size:"small",showUnderline:o,kickerText:"Live",hideLineBreak:!0,byline:t.showByline?t.byline:void 0}):(0,r.jsx)(h.o,{headlineText:t.headline,format:t.format,size:"small",showUnderline:o,byline:t.showByline?t.byline:void 0}),(0,r.jsx)("div",{css:L,children:!!t.ageWarning&&(0,r.jsx)(g.a,{age:t.ageWarning,size:"small"})})]})]})})})};function _(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function E(){const e=_(["\n\tmargin-top: 24px;\n\tpadding-bottom: 48px;\n"]);return E=function(){return e},e}function A(){const e=_(["\n\tposition: sticky;\n\ttop: 0;\n"]);return A=function(){return e},e}function B(){const e=_(["\n\t","\n\tmargin-bottom: 8px;\n"]);return B=function(){return e},e}function I(){const e=_(["\n\t\t\t\t\t\tdisplay: block;\n\t\t\t\t\t"]);return I=function(){return e},e}const z=(0,s.css)(E()),T=(0,s.css)(A()),Q=(0,s.css)(B(),c.Se.xxxsmall({fontWeight:"bold"})),C=e=>{let{limitItems:t=5,isAdFreeUser:n,adBlockerDetected:i}=e;const{data:o,error:c}=(0,u.h)("https://api.nextgen.guardianapps.co.uk/most-read-geo.json?dcr=true");if(c)return window.guardian.modules.sentry.reportError(c,"most-viewed-right"),null;if(o){const e=o.trails.slice(0,t).map(l.R),c=i||n;return(0,r.jsxs)("div",{css:[z,c&&T],"data-component":"geo-most-popular",children:[(0,r.jsx)(a.Z,{cssOverrides:(0,s.css)(I()),count:4}),(0,r.jsx)("h3",{css:Q,children:"Most viewed"}),(0,r.jsx)("ul",{"data-link-name":"Right hand most popular geo GB",children:e.map(((e,t)=>(0,r.jsx)(R,{trail:e,mostViewedItemIndex:t},e.url)))})]})}return null};function N(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function U(){const e=N(["\n\t\theight: calc(100% - ","px);\n\t"]);return U=function(){return e},e}function W(){const e=N(["\n\t\t\t\theight: auto;\n\t\t\t"]);return W=function(){return e},e}const F=e=>{let{limitItems:t,isAdFreeUser:n}=e;const c=(0,o.c)(),a=(0,i.useRef)(null),[l,u]=(0,i.useState)(!1);(0,i.useEffect)((()=>{const e=e=>{if(!l&&e.current){const{offsetHeight:t}=e.current;u(t>530)}};e(a),setTimeout((()=>{e(a)}))}),[l]);const d=c?400:1059,p=(0,s.css)(U(),d);return l?(0,r.jsx)("div",{ref:a,css:(0,s.css)(W()),children:(0,r.jsx)(C,{limitItems:t,isAdFreeUser:n,adBlockerDetected:!!c})}):(0,r.jsx)("div",{ref:a,css:p})}},1111:(e,t,n)=>{n.d(t,{d:()=>u});var r=n(1919);const s=e=>{let{design:t,display:n}=e;switch(t){case"ArticleDesign":default:return r.Y.Standard;case"GalleryDesign":return r.Y.Gallery;case"AudioDesign":return r.Y.Audio;case"VideoDesign":return r.Y.Video;case"ReviewDesign":return r.Y.Review;case"AnalysisDesign":return r.Y.Analysis;case"CommentDesign":return"ImmersiveDisplay"===n?r.Y.Standard:r.Y.Comment;case"LetterDesign":return r.Y.Letter;case"FeatureDesign":return r.Y.Feature;case"LiveBlogDesign":return r.Y.LiveBlog;case"DeadBlogDesign":return r.Y.DeadBlog;case"RecipeDesign":return r.Y.Recipe;case"MatchReportDesign":return r.Y.MatchReport;case"InterviewDesign":return r.Y.Interview;case"EditorialDesign":return r.Y.Editorial;case"QuizDesign":return r.Y.Quiz;case"InteractiveDesign":return r.Y.Interactive;case"PhotoEssayDesign":return r.Y.PhotoEssay;case"PrintShopDesign":return r.Y.PrintShop;case"ObituaryDesign":return r.Y.Obituary;case"FullPageInteractiveDesign":return r.Y.FullPageInteractive;case"NewsletterSignupDesign":return r.Y.NewsletterSignup;case"ExplainerDesign":return r.Y.Explainer;case"TimelineDesign":return r.Y.Timeline;case"ProfileDesign":return r.Y.Profile}};var i=n(4516);const o=e=>{let{display:t}=e;switch(t){case"StandardDisplay":default:return i.D.Standard;case"ImmersiveDisplay":return i.D.Immersive;case"ShowcaseDisplay":return i.D.Showcase;case"NumberedListDisplay":return i.D.NumberedList}};var c=n(5575),a=n(5364);const l=e=>{let{theme:t}=e;switch(t){case"NewsPillar":default:return c.D.News;case"OpinionPillar":return c.D.Opinion;case"SportPillar":return c.D.Sport;case"CulturePillar":return c.D.Culture;case"LifestylePillar":return c.D.Lifestyle;case"SpecialReportTheme":return a.v.SpecialReport;case"SpecialReportAltTheme":return a.v.SpecialReportAlt;case"Labs":return a.v.Labs}},u=e=>({display:o(e),theme:l(e),design:s(e)})},6533:(e,t,n)=>{n.d(t,{R:()=>o});var r=n(1111),s=n(2782);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=(0,r.d)(e.format);return o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}({},e),c=null!=(c={format:n,dataLinkName:(0,s.S)(n,"0",t+1)})?c:{},Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(c)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(c)).forEach((function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(c,e))})),o;var o,c}},2782:(e,t,n)=>{n.d(t,{S:()=>o});var r=n(5364),s=n(1919);const i=e=>{let{theme:t,design:n}=e;if(t===r.v.SpecialReport)return"special-report";switch(n){case s.Y.Analysis:return"analysis";case s.Y.LiveBlog:return"live";case s.Y.DeadBlog:return"dead";case s.Y.Feature:return"feature";case s.Y.Editorial:return"editorial";case s.Y.Comment:return"comment";case s.Y.Gallery:case s.Y.Audio:case s.Y.Video:return"media";case s.Y.Review:return"review";case s.Y.Letter:return"letters";default:return"news"}},o=(e,t,n)=>[i(e),"group-".concat(t),"card-@".concat(n)].join(" | ")},9372:(e,t,n)=>{n.d(t,{c:()=>i});var r=n(521),s=n(3904);const i=()=>{const[e,t]=(0,s.useState)();return(0,s.useEffect)((()=>{(0,r.Hy)().then((e=>{t(e)}))}),[]),e}},4466:(e,t,n)=>{n.d(t,{h:()=>i});var r=n(6131);function s(e){if(!e.ok)throw Error(e.statusText||"useApi | An api call returned HTTP status ".concat(e.status));return e}const i=(e,t,n)=>{const{data:i,error:o}=(0,r.ZP)(e,(e=>t=>fetch(t,e).then(s).then((e=>e.json())))(n),t);return{data:i,error:o,loading:!!e&&!o&&!i}}},4436:(e,t,n)=>{n.d(t,{D:()=>s,K:()=>i});var r=n(4486);const s={1:4,2:8,3:12,4:16,5:20,6:24,9:36,12:48,24:96},i={1:"".concat((0,r.Q)(s[1]),"rem"),2:"".concat((0,r.Q)(s[2]),"rem"),3:"".concat((0,r.Q)(s[3]),"rem"),4:"".concat((0,r.Q)(s[4]),"rem"),5:"".concat((0,r.Q)(s[5]),"rem"),6:"".concat((0,r.Q)(s[6]),"rem"),9:"".concat((0,r.Q)(s[9]),"rem"),12:"".concat((0,r.Q)(s[12]),"rem"),24:"".concat((0,r.Q)(s[24]),"rem")}},9461:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(7800),s=n(4436),i=n(863),o=n(7357);const c=s.D[1],a=i.A.wide,l=e=>{let{count:t=4,color:n=o.n$[86],cssOverrides:s}=e;const i=(e=>c*(e-1)+1)(t),l="0 0 ".concat(a," ").concat(i),u=[];for(let e=0;e<t;e++)u.push((0,r.jsx)("line",{x1:0,x2:a,y1:e*c+.5,y2:e*c+.5},e));return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:i,viewBox:l,preserveAspectRatio:"none",stroke:n,strokeWidth:1,css:s,"aria-hidden":"true",focusable:"false",children:u})}}}]);
//# sourceMappingURL=MostViewedRightWrapper-importable.modern.726b83b2e03debe474be.js.map