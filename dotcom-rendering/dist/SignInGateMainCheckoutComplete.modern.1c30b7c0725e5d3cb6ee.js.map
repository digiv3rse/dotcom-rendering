{"version":3,"file":"SignInGateMainCheckoutComplete.modern.1c30b7c0725e5d3cb6ee.js","mappings":"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","sources":["webpack://@guardian/dotcom-rendering/./src/web/components/SignInGate/componentEventTracking.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/SignInGate/gateDesigns/SignInGateMain.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/SignInGate/gateDesigns/SignInGateMainCheckoutComplete.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/SignInGate/gateDesigns/shared.tsx"],"sourcesContent":["import type { OphanComponent, OphanComponentEvent } from '@guardian/libs';\nimport type { CurrentSignInGateABTest } from './types';\n\nconst isServer = typeof window === 'undefined';\n\nexport type ComponentEventParams = {\n\tcomponentType: string;\n\tcomponentId?: string;\n\tabTestName: string;\n\tabTestVariant: string;\n\tviewId?: string;\n\tbrowserId?: string;\n\tvisitId?: string;\n};\n\nconst ophan = isServer ? undefined : window.guardian.ophan;\n\n// ophan helper methods\nconst submitComponentEventTracking = (componentEvent: OphanComponentEvent) => {\n\tophan?.record({ componentEvent });\n};\n\nexport const submitViewEventTracking = (\n\tcomponentEvent: Omit<OphanComponentEvent, 'action'>,\n) =>\n\tsubmitComponentEventTracking({\n\t\t...componentEvent,\n\t\taction: 'VIEW',\n\t});\n\nconst submitClickEventTracking = (\n\tcomponentEvent: Omit<OphanComponentEvent, 'action'>,\n) =>\n\tsubmitComponentEventTracking({\n\t\t...componentEvent,\n\t\taction: 'CLICK',\n\t});\n\nexport const withComponentId: (id: string) => OphanComponent = (id = '') => ({\n\tcomponentType: 'SIGN_IN_GATE',\n\tid,\n});\n\nexport const trackLink = (\n\tcomponentId: string,\n\tvalue: string,\n\tabTest?: CurrentSignInGateABTest,\n): void => {\n\tconst component = withComponentId(componentId);\n\n\tsubmitClickEventTracking({\n\t\tcomponent,\n\t\tabTest,\n\t\tvalue,\n\t});\n};\n","import { cmp } from '@guardian/consent-management-platform';\nimport { Button, Link, LinkButton } from '@guardian/source-react-components';\nimport { trackLink } from '../componentEventTracking';\nimport type { SignInGateProps } from '../types';\nimport {\n\tactionButtons,\n\tbodyBold,\n\tbodySeparator,\n\tbodyText,\n\tfaq,\n\tfirstParagraphOverlay,\n\theadingStyles,\n\thideElementsCss,\n\tlaterButton,\n\tprivacyLink,\n\tregisterButton,\n\tsignInGateContainer,\n\tsignInHeader,\n\tsignInLink,\n} from './shared';\n\nexport const SignInGateMain = ({\n\tsignInUrl,\n\tguUrl,\n\tdismissGate,\n\tabTest,\n\tophanComponentId,\n\tisMandatory = false,\n}: SignInGateProps) => {\n\treturn (\n\t\t<div css={signInGateContainer} data-cy=\"sign-in-gate-main\">\n\t\t\t<style>{hideElementsCss}</style>\n\t\t\t<div css={firstParagraphOverlay} />\n\t\t\t<h1 css={headingStyles}>You need to register to keep reading</h1>\n\t\t\t<p css={bodyBold}>\n\t\t\t\tIt’s still free to read – this is not a paywall\n\t\t\t</p>\n\t\t\t<p css={bodyText}>\n\t\t\t\tWe’re committed to keeping our quality reporting open. By\n\t\t\t\tregistering and providing us with insight into your preferences,\n\t\t\t\tyou’re helping us to engage with you more deeply, and that\n\t\t\t\tallows us to keep our journalism free for all. You’ll always be\n\t\t\t\table to control your own{' '}\n\t\t\t\t<button\n\t\t\t\t\tdata-cy=\"sign-in-gate-main_privacy\"\n\t\t\t\t\tcss={privacyLink}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tcmp.showPrivacyManager();\n\t\t\t\t\t\ttrackLink(ophanComponentId, 'privacy', abTest);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tprivacy settings\n\t\t\t\t</button>\n\t\t\t\t.\n\t\t\t</p>\n\t\t\t<div css={actionButtons}>\n\t\t\t\t<LinkButton\n\t\t\t\t\tdata-cy=\"sign-in-gate-main_register\"\n\t\t\t\t\tdata-ignore=\"global-link-styling\"\n\t\t\t\t\tcss={registerButton}\n\t\t\t\t\tpriority=\"primary\"\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\thref={signInUrl}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\ttrackLink(ophanComponentId, 'register-link', abTest);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tRegister for free\n\t\t\t\t</LinkButton>\n\t\t\t\t{!isMandatory && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tdata-cy=\"sign-in-gate-main_dismiss\"\n\t\t\t\t\t\tdata-ignore=\"global-link-styling\"\n\t\t\t\t\t\tcss={laterButton}\n\t\t\t\t\t\tpriority=\"subdued\"\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tdismissGate();\n\t\t\t\t\t\t\ttrackLink(ophanComponentId, 'not-now', abTest);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\tI’ll do it later\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t<p css={[bodySeparator, bodyBold, signInHeader]}>\n\t\t\t\tHave a subscription? Made a contribution? Already registered?\n\t\t\t</p>\n\n\t\t\t<Link\n\t\t\t\tdata-cy=\"sign-in-gate-main_signin\"\n\t\t\t\tdata-ignore=\"global-link-styling\"\n\t\t\t\tcss={signInLink}\n\t\t\t\thref={signInUrl}\n\t\t\t\tonClick={() => {\n\t\t\t\t\ttrackLink(ophanComponentId, 'sign-in-link', abTest);\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\tSign In\n\t\t\t</Link>\n\n\t\t\t<div css={faq}>\n\t\t\t\t<Link\n\t\t\t\t\tdata-ignore=\"global-link-styling\"\n\t\t\t\t\thref={`${guUrl}/membership/2019/dec/20/signing-in-to-the-guardian`}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\ttrackLink(ophanComponentId, 'how-link', abTest);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tWhy register & how does it help?\n\t\t\t\t</Link>\n\n\t\t\t\t<Link\n\t\t\t\t\tdata-ignore=\"global-link-styling\"\n\t\t\t\t\thref={`${guUrl}/info/2014/nov/03/why-your-data-matters-to-us-full-text`}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\ttrackLink(ophanComponentId, 'why-link', abTest);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tHow will my information & data be used?\n\t\t\t\t</Link>\n\n\t\t\t\t<Link\n\t\t\t\t\tdata-ignore=\"global-link-styling\"\n\t\t\t\t\thref={`${guUrl}/help/identity-faq`}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\ttrackLink(ophanComponentId, 'help-link', abTest);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tGet help with registering or signing in\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import { css } from '@emotion/react';\nimport {\n\tbody,\n\tbrand,\n\tfrom,\n\theadline,\n\tneutral,\n\tspace,\n} from '@guardian/source-foundations';\nimport { Button, Link, LinkButton } from '@guardian/source-react-components';\nimport { trackLink } from '../componentEventTracking';\nimport type { Product, SignInGateProps, UserType } from '../types';\nimport {\n\tfirstParagraphOverlay,\n\thideElementsCss,\n\tregisterButton,\n\tsignInGateContainer,\n} from './shared';\nimport { SignInGateMain } from './SignInGateMain';\n\nconst personalisedHeadingStyles = css`\n\t${headline.small({ fontWeight: 'bold' })};\n\tborder-top: 2px ${brand[400]} solid;\n\t${from.phablet} {\n\t\tpadding-right: 160px;\n\t\t${headline.medium({ fontWeight: 'bold' })};\n\t}\n\tpadding-bottom: ${space[2]}px;\n`;\n\nconst personalisedBodyBold = css`\n\t${body.medium({ fontWeight: 'bold' })}\n\t${from.phablet} {\n\t\tpadding-right: 130px;\n\t}\n\tcolor: ${brand[400]};\n`;\n\nconst bulletStyles = css`\n\ttext-indent: -30px; /* second line indentation */\n\tmargin-left: 30px; /* second line indentation */\n\tcolor: ${neutral[100]};\n\tdisplay: flex;\n\tflex-direction: column;\n\tli:not(:first-of-type) {\n\t\tmargin-top: ${space[1]}px;\n\t}\n\tli::before {\n\t\tcontent: '';\n\t\tdisplay: inline-block;\n\t\twidth: 12px;\n\t\theight: 12px;\n\t\tmargin-right: ${space[4]}px;\n\t\tbackground: ${brand[400]};\n\t\tborder-radius: 50%;\n\t}\n`;\n\nconst personalisedBodyTextList = css`\n\t${body.medium({ fontWeight: 'medium' })};\n\tcolor: black;\n`;\n\nconst personalisedActionButtons = css`\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: flex-start;\n\tmargin-top: 20px;\n\tmargin-bottom: 20px;\n\n\t> a {\n\t\t/* stylelint-disable-next-line declaration-no-important */\n\t\tmargin-right: ${space[4]}px !important;\n\n\t\t${from.mobileMedium} {\n\t\t\t/* stylelint-disable-next-line declaration-no-important */\n\t\t\tmargin-right: ${space[9]}px !important;\n\t\t}\n\n\t\t/* stylelint-disable-next-line declaration-no-important */\n\t\ttext-decoration: none !important;\n\t}\n`;\n\nconst notNowButton = css`\n\t/* stylelint-disable-next-line declaration-no-important */\n\tcolor: ${brand[400]} !important;\n\ttext-decoration: none;\n`;\n\nconst faqPersonalised = css`\n\tpadding-bottom: 18px;\n\tmargin-top: ${space[3]}px;\n\t& a {\n\t\tdisplay: block;\n\t\tmargin-top: ${space[6]}px;\n\t\tmargin-bottom: ${space[4]}px;\n\t\tcolor: ${brand[500]};\n\t\ttext-decoration-color: ${brand[500]};\n\t\ttext-underline-position: under;\n\t}\n\n\t& a:hover {\n\t\tcolor: ${brand[500]};\n\t\ttext-decoration-color: ${brand[500]};\n\t}\n`;\n\nexport const bodySpacing = css`\n\tpadding-top: ${space[2]}px;\n\tpadding-bottom: ${space[2]}px;\n`;\n\n// HEADER TEXT\nconst SUBSCRIPTION_HEADER = 'Thank you for subscribing';\nconst SUPPORTER_HEADER = 'Thank you for your support';\n\n// SUBHEADER TEXT\nconst SIGN_IN_PROMPT = 'Remember to sign in for a better experience.';\n\n// BODY TEXT\nconst SIGN_IN_INCENTIVES_DIGITAL = [\n\t'Supporter rewards – unlock the benefits of your support',\n\t'Incisive analysis and original reporting direct to your inbox, with our newsletters',\n\t'Get involved in the discussion – comment on stories',\n];\n\nconst SIGN_IN_INCENTIVES_NON_DIGITAL = [\n\t'Fewer interruptions',\n\t'Incisive analysis and original reporting direct to your inbox, with our newsletters',\n\t'Get involved in the discussion – comment on stories',\n];\n\n// BUTTON TEXT\nconst COMPLETE_REGISTRATION_BUTTON = 'Complete registration';\nconst SIGN_IN_BUTTON = 'Sign in';\n\nconst getHeadingText: (product: Product) => string = (product) => {\n\tconst headingMap: Record<Product, string> = {\n\t\tSupporterPlus: SUBSCRIPTION_HEADER,\n\t\tPaper: SUBSCRIPTION_HEADER,\n\t\tGuardianWeekly: SUBSCRIPTION_HEADER,\n\t\tContribution: SUPPORTER_HEADER,\n\t};\n\treturn headingMap[product];\n};\n\nconst getButtonText: (userType: UserType) => string = (userType) => {\n\tconst buttonMap: Record<UserType, string> = {\n\t\tnew: COMPLETE_REGISTRATION_BUTTON,\n\t\tguest: COMPLETE_REGISTRATION_BUTTON,\n\t\tcurrent: SIGN_IN_BUTTON,\n\t};\n\treturn buttonMap[userType];\n};\n\nconst getBodyText: (product: Product) => string[] = (product) => {\n\tconst bodyTextMap: Record<Product, string[]> = {\n\t\tSupporterPlus: SIGN_IN_INCENTIVES_DIGITAL,\n\t\tPaper: SIGN_IN_INCENTIVES_NON_DIGITAL,\n\t\tGuardianWeekly: SIGN_IN_INCENTIVES_NON_DIGITAL,\n\t\tContribution: SIGN_IN_INCENTIVES_NON_DIGITAL,\n\t};\n\treturn bodyTextMap[product];\n};\n\nexport const SignInGateMainCheckoutComplete = ({\n\tsignInUrl,\n\tguUrl,\n\tdismissGate,\n\tabTest,\n\tophanComponentId,\n\tisMandatory = false,\n\tcheckoutCompleteCookieData,\n}: SignInGateProps) => {\n\t// There is a type check above which means this shouldn't be\n\t// possible to be undefined here, so this is just handling\n\t// the fact that the type is optional.\n\t// It's an optional type because `SignInGateProps` is shared\n\t// with other components that don't use this type\n\tif (checkoutCompleteCookieData === undefined) {\n\t\treturn (\n\t\t\t<SignInGateMain\n\t\t\t\tsignInUrl={signInUrl}\n\t\t\t\tguUrl={guUrl}\n\t\t\t\tdismissGate={dismissGate}\n\t\t\t\tabTest={abTest}\n\t\t\t\tophanComponentId={ophanComponentId}\n\t\t\t\tisMandatory={false}\n\t\t\t/>\n\t\t);\n\t}\n\tconst { userType, product } = checkoutCompleteCookieData;\n\n\t// send new/guest userType to the /register page instead of /signin\n\tconst personaliseSignInURl = (url: string): string => {\n\t\tif (userType === 'new' || userType == 'guest') {\n\t\t\tconst regex = /\\/(signin)/;\n\t\t\tconst substitution = `/register`;\n\t\t\treturn url.replace(regex, substitution);\n\t\t}\n\t\treturn url;\n\t};\n\n\treturn (\n\t\t<div css={signInGateContainer} data-cy=\"sign-in-gate-main\">\n\t\t\t<style>{hideElementsCss}</style>\n\t\t\t<div css={firstParagraphOverlay} />\n\t\t\t<h1 css={personalisedHeadingStyles}>{getHeadingText(product)}</h1>\n\t\t\t<div css={bodySpacing}>\n\t\t\t\t<p css={personalisedBodyBold}>{SIGN_IN_PROMPT}</p>\n\t\t\t\t<p css={personalisedBodyBold}>This includes: </p>\n\t\t\t</div>\n\t\t\t<ul css={bulletStyles}>\n\t\t\t\t{getBodyText(product).map((item) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<li css={personalisedBodyTextList} key={item}>\n\t\t\t\t\t\t\t{item}\n\t\t\t\t\t\t</li>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</ul>\n\t\t\t<div css={personalisedActionButtons}>\n\t\t\t\t<LinkButton\n\t\t\t\t\tdata-cy=\"sign-in-gate-main_register\"\n\t\t\t\t\tdata-ignore=\"global-link-styling\"\n\t\t\t\t\tcss={registerButton}\n\t\t\t\t\tpriority=\"primary\"\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\thref={personaliseSignInURl(signInUrl)}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\ttrackLink(ophanComponentId, 'register-link', abTest);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{getButtonText(userType)}\n\t\t\t\t</LinkButton>\n\t\t\t\t{!isMandatory && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tdata-cy=\"sign-in-gate-main_dismiss\"\n\t\t\t\t\t\tdata-ignore=\"global-link-styling\"\n\t\t\t\t\t\tcss={notNowButton}\n\t\t\t\t\t\tpriority=\"subdued\"\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tdismissGate();\n\t\t\t\t\t\t\ttrackLink(ophanComponentId, 'not-now', abTest);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\tNot now\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t<div css={faqPersonalised}>\n\t\t\t\t<Link\n\t\t\t\t\tdata-ignore=\"global-link-styling\"\n\t\t\t\t\thref={`${guUrl}/info/2014/nov/03/why-your-data-matters-to-us-full-text`}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\ttrackLink(ophanComponentId, 'why-link', abTest);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tHow will my information & data be used?\n\t\t\t\t</Link>\n\n\t\t\t\t<Link\n\t\t\t\t\tdata-ignore=\"global-link-styling\"\n\t\t\t\t\thref={`${guUrl}/help/identity-faq`}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\ttrackLink(ophanComponentId, 'help-link', abTest);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tGet help with registering or signing in\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import { css } from '@emotion/react';\nimport {\n\tbrand,\n\tfrom,\n\theadline,\n\tline,\n\tspace,\n\ttext,\n\ttextSans,\n} from '@guardian/source-foundations';\n\nexport const signInGateContainer = css`\n\tmax-width: 617px;\n\n\t${from.desktop} {\n\t\tmin-height: 600px;\n\t}\n`;\n\nexport const headingStyles = css`\n\t${headline.small({ fontWeight: 'bold' })};\n\tborder-top: 2px black solid;\n\tpadding-bottom: ${space[12]}px;\n\n\t${from.phablet} {\n\t\tpadding-right: 160px;\n\t\t${headline.medium({ fontWeight: 'bold' })};\n\t}\n`;\n\nexport const bodySeparator = css`\n\tborder-top: 1px ${line.primary} solid;\n`;\n\nexport const bodyBold = css`\n\t${textSans.medium({ fontWeight: 'bold' })}\n\tpadding-bottom: 20px;\n\t${from.phablet} {\n\t\tpadding-right: 130px;\n\t}\n`;\n\nexport const bodyText = css`\n\t${textSans.medium({ lineHeight: 'regular' })}\n\tpadding-bottom: ${space[6]}px;\n\n\t${from.phablet} {\n\t\tpadding-right: 160px;\n\t}\n`;\n\nexport const signInHeader = css`\n\tpadding-bottom: 0;\n`;\n\nexport const actionButtons = css`\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: flex-start;\n\tmargin-bottom: 42px;\n\n\t> a {\n\t\t/* stylelint-disable-next-line declaration-no-important */\n\t\tmargin-right: ${space[4]}px !important;\n\n\t\t${from.mobileMedium} {\n\t\t\t/* stylelint-disable-next-line declaration-no-important */\n\t\t\tmargin-right: ${space[9]}px !important;\n\t\t}\n\n\t\t/* stylelint-disable-next-line declaration-no-important */\n\t\ttext-decoration: none !important;\n\t}\n`;\n\nexport const registerButton = css`\n\t/* stylelint-disable-next-line declaration-no-important */\n\tcolor: ${text.ctaPrimary} !important;\n`;\n\nexport const laterButton = css`\n\t/* stylelint-disable-next-line declaration-no-important */\n\tcolor: ${brand[400]} !important;\n`;\n\nexport const signInLink = css`\n\t/* stylelint-disable-next-line declaration-no-important */\n\tcolor: ${text.anchorPrimary} !important;\n\t/* stylelint-disable-next-line declaration-no-important */\n\ttext-decoration-color: ${line.primary} !important;\n\ttext-underline-position: under;\n`;\n\nexport const faq = css`\n\tpadding-top: ${space[3]}px;\n\tpadding-bottom: 18px;\n\tmargin-top: ${space[5]}px;\n\n\t& a {\n\t\tcolor: ${text.anchorPrimary};\n\t\tdisplay: block;\n\t\tmargin-bottom: ${space[4]}px;\n\t\ttext-decoration-color: ${line.primary};\n\t\ttext-underline-position: under;\n\t}\n\n\t& a:hover {\n\t\tcolor: ${text.anchorPrimary};\n\t}\n`;\n\nexport const privacyLink = css`\n\tcolor: ${text.anchorPrimary};\n\ttext-decoration: underline;\n\ttext-decoration-color: ${line.primary};\n\ttext-underline-position: under;\n\tborder: 0;\n\tbackground: transparent;\n\t/* stylelint-disable-next-line property-disallowed-list */\n\tfont-family: inherit;\n\tfont-size: inherit;\n\tpadding: 0;\n\tcursor: pointer;\n`;\n\nexport const firstParagraphOverlay = css`\n\tmargin-top: -250px;\n\twidth: 100%;\n\theight: 250px;\n\tposition: absolute;\n`;\n\n/**\n * This CSS hides everything in an article, except the first two paragraphs and\n * the sign-in gate. The order in which rules are laid out matters.\n */\nexport const hideElementsCss = [\n\t// 1. hide all article content\n\t`.article-body-commercial-selector > * {\n        display: none;\n    }`,\n\t// 2. make the sign in gate and the first 2 paragraphs of the article visible\n\t`#sign-in-gate, .article-body-commercial-selector p:nth-of-type(-n + 3) {\n        display: block;\n    }`,\n\t// 3. mask the first and second with a gradient overlay\n\t`.article-body-commercial-selector > p:nth-of-type(1) {\n        -webkit-mask-image: linear-gradient(black, rgba(0, 0, 0, 0.5));\n        mask-image: linear-gradient(black, rgba(0, 0, 0, 0.5));\n    }\n\t.article-body-commercial-selector > p:nth-of-type(2) {\n        -webkit-mask-image: linear-gradient(rgba(0, 0, 0, 0.5), transparent);\n        mask-image: linear-gradient(rgba(0, 0, 0, 0.5), transparent);\n    }\n\t`,\n\t// 4. hide any siblings after the sign in gate in case a paragraph\n\t// is still visible because of the CSS in 2\n\t`#sign-in-gate ~ * {\n        display: none;\n    }`,\n\t`#slot-body-end {\n        display: none;\n    }`,\n].join('\\n');\n"],"names":["ophan","window","undefined","guardian","submitComponentEventTracking","componentEvent","record","submitViewEventTracking","action","withComponentId","componentType","id","trackLink","componentId","value","abTest","component","SignInGateMain","signInUrl","guUrl","dismissGate","ophanComponentId","isMandatory","div","css","signInGateContainer","data-cy","style","hideElementsCss","firstParagraphOverlay","h1","headingStyles","p","bodyBold","bodyText","button","privacyLink","onClick","cmp","actionButtons","LinkButton","data-ignore","registerButton","priority","size","href","Button","laterButton","bodySeparator","signInHeader","Link","signInLink","faq","personalisedHeadingStyles","headline","fontWeight","brand","from","space","personalisedBodyBold","body","bulletStyles","neutral","personalisedBodyTextList","personalisedActionButtons","notNowButton","faqPersonalised","bodySpacing","SUBSCRIPTION_HEADER","SIGN_IN_INCENTIVES_DIGITAL","SIGN_IN_INCENTIVES_NON_DIGITAL","COMPLETE_REGISTRATION_BUTTON","getHeadingText","product","SupporterPlus","Paper","GuardianWeekly","Contribution","getButtonText","userType","new","guest","current","getBodyText","SignInGateMainCheckoutComplete","checkoutCompleteCookieData","ul","map","item","li","url","regex","substitution","replace","personaliseSignInURl","line","textSans","lineHeight","text","join"],"sourceRoot":""}