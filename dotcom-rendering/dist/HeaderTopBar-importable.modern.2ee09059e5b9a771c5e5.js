(self.webpackChunk_guardian_dotcom_rendering=self.webpackChunk_guardian_dotcom_rendering||[]).push([[9717],{3698:(t,e,n)=>{t.exports={attributes:{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 30 30"},content:'<path d="M22.8 14.6l-7.6-7.6-.7.7 5.5 6.6h-14v1.5h14l-5.5 6.6.7.7 7.6-7.6v-.9"/>'};var r=n(5951);t.exports=r(t.exports)},2902:(t,e,n)=>{t.exports={attributes:{width:"18",height:"18",viewBox:"-4 -4 32 32",xmlns:"http://www.w3.org/2000/svg"},content:'<path d="M12,-4 a15,15 0,0,0 0,32 15,15 0,0,0 0,-32     M20 21L19 21H5L4 21V3L5 2H16L20 6V21Z     M18 8H6V9.5H18V8Z     M18 11H6V12.5H18V11Z     M13 14H6V15.5H13V14Z" />'};var r=n(5951);t.exports=r(t.exports)},8347:(t,e,n)=>{t.exports={attributes:{width:"14",height:"14",viewBox:"0 0 14 14"},content:'<path d="M7 0C3.1 0 0 3.1 0 7c0 2 .9 3.9 2.4 5.2C3.6 13.4 5.3 14 7 14c1.7 0 3.4-.6 4.7-1.8C13.2 10.9 14 9 14 7c0-3.9-3.1-7-7-7zm0 1.8c1.3 0 2.1.8 2.1 2.1S8 6.3 7 6.3c-.8 0-2-1.1-2-2.4 0-1.4.7-2.1 2-2.1zm0 11.6c-1.7 0-3.3-.7-4.5-1.8l.8-3.2.5-.5c1-.4 2.1-.5 3.1-.5 1.1 0 2.1.2 3.1.5l.5.5.9 3.2c-1.1 1.2-2.7 1.8-4.4 1.8z"/>'};var r=n(5951);t.exports=r(t.exports)},5723:(t,e,n)=>{t.exports={attributes:{width:"18",height:"18",viewBox:"0 0 18 18"},content:'<path d="M6.5 1.6c2.7 0 4.9 2.2 4.9 4.9s-2.2 4.9-4.9 4.9-4.9-2.2-4.9-4.9 2.2-4.9 4.9-4.9m0-1.6c-3.6 0-6.5 2.9-6.5 6.5s2.9 6.5 6.5 6.5 6.5-2.9 6.5-6.5-2.9-6.5-6.5-6.5zm6.6 11.5l4.9 4.9-1.6 1.6-4.9-4.9v-.8l.8-.8h.8z"/>'};var r=n(5951);t.exports=r(t.exports)},2209:(t,e,n)=>{t.exports={attributes:{width:"18",height:"18",viewBox:"0 0 18 18"},content:'<path d="M7.5 9L1 2l1-1 7 6.5L16 1l1 1-6.5 7 6.5 7-1 1-7-6.5L2 17l-1-1 6.5-7z"></path>'};var r=n(5951);t.exports=r(t.exports)},9365:(t,e,n)=>{"use strict";n.d(e,{F:()=>o});var r=n(828);const o=(t,e)=>{const n={componentType:"identityauthentication",componentId:t};return e&&(n.viewId=e),"componentEventParams=".concat(encodeURIComponent((0,r.A)(n)))}},828:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r=t=>Object.keys(t).map((e=>{const n=t[e],r=Array.isArray(n)?n.map((t=>encodeURIComponent(t))).join(","):encodeURIComponent(n);return"".concat(e,"=").concat(r)})).join("&")},748:(t,e,n)=>{"use strict";n.r(e),n.d(e,{HeaderTopBar:()=>Mt});var r=n(7800),o=n(43),i=n(1614),a=n(7357),s=n(1810),c=n(4436),l=n(5504),u=n(9901),d=n(4730),p=n(5726),f=n(3196),h=n(3904),g=n(9365),m=n(8347),v=n.n(m);function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const y=t=>Boolean(t.extras.message)&&Boolean(t.extras.target)&&Boolean(t.extras.ophanLabel),x=(t,e)=>{const n=(t=>t.reduce(((t,e)=>{var n;return t[e.target]=(null!==(n=t[e.target])&&void 0!==n?n:[]).concat(e),t}),{}))(e);return t.map((t=>{var e,r;const o=(null!==(e=t.notifications)&&void 0!==e?e:[]).concat(null!==(r=n[t.id])&&void 0!==r?r:[]);return 0===o.length?t:(i=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){b(t,e,n[e])}))}return t}({},t),a=null!=(a={notifications:o})?a:{},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n.push.apply(n,r)}return n}(Object(a)).forEach((function(t){Object.defineProperty(i,t,Object.getOwnPropertyDescriptor(a,t))})),i);var i,a}))};var w=n(4466),j=n(7617);function O(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function C(){const t=k(["\n\tdisplay: flex;\n\talign-items: center;\n\t"," {\n\t\talign-items: stretch;\n\t}\n\t"," {\n\t\t:before {\n\t\t\tcontent: '';\n\t\t\tborder-left: 1px solid ",";\n\t\t\theight: 24px;\n\t\t}\n\t}\n"]);return C=function(){return t},t}function U(){const t=k(["\n\tdisplay: flex;\n\talign-items: center;\n\theight: fit-content;\n\tposition: relative;\n\t",";\n\tfont-size: 1rem;\n\tline-height: 1;\n\tcolor: ",";\n\ttransition: color 80ms ease-out;\n\ttext-decoration: none;\n\tpadding: 0;\n\n\t"," {\n\t\tpadding: 7px 10px 7px 6px;\n\t}\n\n\t"," {\n\t\tfont-weight: bold;\n\t}\n\n\t:hover,\n\t:focus {\n\t\ttext-decoration: underline;\n\t}\n\n\tsvg {\n\t\tfill: currentColor;\n\t\tfloat: left;\n\t\theight: 18px;\n\t\twidth: 18px;\n\t\tmargin: 0 4px 0 0;\n\t}\n\t","\n"]);return U=function(){return t},t}function I(){const t=k(["\n\tcolor: ",";\n\tpadding-right: 0;\n\tpadding-bottom: 0;\n\tmargin-top: 0;\n\n\tfont-size: 1rem;\n\n\t&:not(ul):hover {\n\t\tcolor: ",";\n\t\ttext-decoration: underline;\n\t}\n\n\t"," {\n\t\tright: 0;\n\t}\n\n\t"," {\n\t\tfont-weight: bold;\n\t}\n"]);return I=function(){return t},t}const S=(0,o.css)(C(),s.Dp.tablet,s.Dp.desktop,a.UQ[600]),P=(0,o.css)(U(),f.OS.medium(),a.n$[100],s.Dp.tablet,s.Dp.desktop,(0,u.K)("myAccountDropdown")),z=t=>{let{idUrl:e}=t;return(0,r.jsxs)("a",{css:P,href:"".concat(e,"/signin?INTCMP=DOTCOM_NEWHEADER_SIGNIN&ABCMP=ab-sign-in&").concat((0,g.F)("guardian_signin_header")),"data-link-name":"nav3 : topbar : signin",children:[(0,r.jsx)(v(),{})," Sign in"]})},E=(0,o.css)(I(),a.n$[100],a.n$[100],s.Dp.tablet,s.Dp.desktop),A=t=>{let{mmaUrl:e,idUrl:n,discussionApiUrl:o,notifications:i}=t;const{data:a,error:s}=(0,w.h)((0,p.p)(o,"profile/me?strict_sanctions_check=false"),{},{credentials:"include"});if(s||!(null==a?void 0:a.userProfile.userId))return(0,r.jsx)(z,{idUrl:n});const c=((t,e,n)=>[{id:"account_overview",url:"".concat(t,"/"),title:"Account overview",dataLinkName:"nav3 : topbar : account overview"},{id:"edit_profile",url:"".concat(t,"/public-settings"),title:"Profile",dataLinkName:"nav3 : topbar : edit profile"},{id:"email_prefs",url:"".concat(t,"/email-prefs"),title:"Emails & marketing",dataLinkName:"nav3 : topbar : email prefs"},{id:"settings",url:"".concat(t,"/account-settings"),title:"Settings",dataLinkName:"nav3 : topbar : settings"},{id:"help",url:"".concat(t,"/help"),title:"Help",dataLinkName:"nav3 : topbar : help"},{id:"comment_activity",url:"".concat(e,"/user/id/").concat(n),title:"Comments & replies",dataLinkName:"nav3 : topbar : comment activity"},{id:"sign_out",url:"".concat(e,"/signout"),title:"Sign out",dataLinkName:"nav3 : topbar : sign out"}])(e,n,a.userProfile.userId),l=x(c,i);return(0,r.jsxs)("div",{css:P,children:[(0,r.jsx)(v(),{}),(0,r.jsx)(d.L,{label:"My account",links:l,id:"my-account",dataLinkName:"nav3 : topbar: my account",cssOverrides:E})]})},B=t=>{var{idApiUrl:e}=t,n=function(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}(t,["idApiUrl"]);const{brazeCards:o}=(0,j._)(e),[i,a]=(0,h.useState)([]);return(0,h.useEffect)((()=>{if(o){const t=o.getCardsForProfileBadge().filter(y).map((t=>({id:t.id,target:t.extras.target,message:t.extras.message,ophanLabel:t.extras.ophanLabel,logImpression:()=>{t.logImpression()}})));t.length&&a(t)}}),[o]),(0,r.jsx)(A,(s=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){O(t,e,n[e])}))}return t}({},n),c=null!=(c={notifications:i})?c:{},Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(c)):function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n.push.apply(n,r)}return n}(Object(c)).forEach((function(t){Object.defineProperty(s,t,Object.getOwnPropertyDescriptor(c,t))})),s));var s,c},D=t=>{let{mmaUrl:e,idUrl:n,discussionApiUrl:o,idApiUrl:i,isSignedIn:a}=t;return(0,r.jsx)("div",{css:S,children:a?(0,r.jsx)(B,{mmaUrl:e,idUrl:n,discussionApiUrl:o,idApiUrl:i}):(0,r.jsx)(z,{idUrl:n})})};function M(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){M(t,e,n[e])}))}return t}function L(t,e){return e=null!=e?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n.push.apply(n,r)}return n}(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})),t}function H(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function T(){const t=H(["\n\t",";\n\tdisplay: flex;\n\tposition: relative;\n\t:before {\n\t\tcontent: '';\n\t\tborder-left: 1px solid ",";\n\t\theight: 24px;\n\t}\n"]);return T=function(){return t},t}function F(){const t=H(["\n\t\t\t\t\t",";\n\t\t\t\t\tpadding-top: 6px;\n\t\t\t\t"]);return F=function(){return t},t}const _=(0,o.css)(T(),(0,u.K)("editionDropdown"),a.UQ[600]),R=t=>{let{editionId:e,dataLinkName:n,isInEuropeTest:i}=t;const a={id:"uk",url:"/preference/edition/uk",title:"UK edition",dataLinkName:"nav3 : topbar : edition-picker: UK"},s=[a,{id:"us",url:"/preference/edition/us",title:"US edition",dataLinkName:"nav3 : topbar : edition-picker: US"},{id:"au",url:"/preference/edition/au",title:"Australia edition",dataLinkName:"nav3 : topbar : edition-picker: AU"},{id:"int",url:"/preference/edition/int",title:"International edition",dataLinkName:"nav3 : topbar : edition-picker: INT"},...i?[{id:"eur",url:"/preference/edition/eur",title:"Europe edition",dataLinkName:"nav3 : topbar : edition-picker: EUR"}]:[]].map((t=>t.id.toUpperCase()===e?L(N({},t),{isActive:!0}):t));var c;const l=null!==(c=s.find((t=>{let{isActive:e}=t;return e})))&&void 0!==c?c:L(N({},a),{isActive:!0}),u=[l,...s.filter((t=>{let{isActive:e}=t;return!e}))];return(0,r.jsx)("div",{css:_,children:(0,r.jsx)(d.L,{label:l.title,links:u,id:"edition",dataLinkName:n,cssOverrides:(0,o.css)(F(),E)})})};var V=n(2902),q=n.n(V),W=n(3424);function $(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function K(){const t=$(["\n\tdisplay: none;\n\n\t"," {\n\t\tdisplay: flex;\n\t}\n"]);return K=function(){return t},t}function Q(){const t=$(["\n\tdisplay: flex;\n\talign-items: center;\n\t",";\n\tfont-size: 1rem;\n\theight: fit-content;\n\tline-height: 1;\n\tcolor: ",";\n\ttransition: color 80ms ease-out;\n\ttext-decoration: none;\n\tpadding: 7px 0;\n\n\t"," {\n\t\tpadding: 7px 10px 7px 6px;\n\t}\n\n\t:hover,\n\t:focus {\n\t\ttext-decoration: underline;\n\t}\n\n\tsvg {\n\t\tfill: currentColor;\n\t\tfloat: left;\n\t\theight: 18px;\n\t\twidth: 18px;\n\t\tmargin: 0 4px 0 0;\n\t}\n"]);return Q=function(){return t},t}const J=(0,o.css)(K(),s.Dp.desktop),Z=(0,o.css)(Q(),f.OS.medium({fontWeight:"bold"}),a.A5[400],s.Dp.tablet),G=t=>{let{editionId:e}=t;const[n,o]=(0,h.useState)(""),[i,a]=(0,h.useState)("");(0,h.useEffect)((()=>{o(window.guardian.config.ophan.pageViewId),a(window.location.origin+window.location.pathname)}),[]);const s=(0,W.y)({base:"https://support.theguardian.com/subscribe".concat("UK"===e?"":"/weekly"),componentType:"ACQUISITIONS_HEADER",componentId:"PrintSubscriptionsHeaderLink",pageViewId:n,referrerUrl:i});return(0,r.jsx)("div",{css:J,children:(0,r.jsxs)("a",{href:s,css:Z,"data-link-name":"nav3 : topbar : printsubs",children:[(0,r.jsx)(q(),{}),(0,r.jsx)(r.Fragment,{children:"Print subscriptions"})]})})};var Y=n(5723),X=n.n(Y);function tt(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function et(){const t=tt(["\n\tdisplay: flex;\n\talign-items: center;\n\t",";\n\tline-height: 1;\n\tfont-size: 1rem;\n\theight: fit-content;\n\tcolor: ",";\n\ttransition: color 80ms ease-out;\n\ttext-decoration: none;\n\tpadding: 7px 0;\n\n\t"," {\n\t\tpadding: 7px 10px 7px 6px;\n\t}\n\n\t:hover,\n\t:focus {\n\t\ttext-decoration: underline;\n\t}\n\n\tsvg {\n\t\tfill: currentColor;\n\t\tfloat: left;\n\t\theight: 18px;\n\t\twidth: 18px;\n\t\tmargin: 0 4px 0 0;\n\t}\n\t","\n"]);return et=function(){return t},t}function nt(){const t=tt(["\n\tdisplay: none;\n\n\t:before {\n\t\tcontent: '';\n\t\tborder-left: 1px solid ",";\n\t\theight: 24px;\n\t}\n\n\t"," {\n\t\tdisplay: flex;\n\t}\n"]);return nt=function(){return t},t}const rt=(0,o.css)(et(),f.OS.medium({fontWeight:"bold"}),a.n$[100],s.Dp.tablet,(0,u.K)("searchHeaderLink")),ot=(0,o.css)(nt(),a.UQ[600],s.Dp.desktop),it=t=>{let{href:e,dataLinkName:n}=t;return(0,r.jsx)("div",{css:ot,children:(0,r.jsxs)("a",{href:e,css:rt,"data-link-name":n,children:[(0,r.jsx)(X(),{}),(0,r.jsx)(r.Fragment,{children:"Search"})]})})};var at=n(3698),st=n.n(at),ct=n(2209),lt=n.n(ct);function ut(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function dt(){const t=ut(["\n\tdisplay: flex;\n\talign-items: center;\n\t",";\n\tline-height: 1;\n\tfont-size: 1rem;\n\theight: fit-content;\n\tcolor: ",";\n\ttransition: color 80ms ease-out;\n\ttext-decoration: none;\n\tpadding: 7px 0;\n\n\t"," {\n\t\tpadding: 7px 10px 7px 6px;\n\t}\n\n\t:hover,\n\t:focus {\n\t\ttext-decoration: underline;\n\t}\n\n\tsvg {\n\t\tfill: currentColor;\n\t\tfloat: left;\n\t\theight: 18px;\n\t\twidth: 18px;\n\t\tmargin: 0 4px 0 0;\n\t}\n\t","\n"]);return dt=function(){return t},t}function pt(){const t=ut(["\n\tdisplay: none;\n\tposition: relative;\n\n\t:before {\n\t\tcontent: '';\n\t\tborder-left: 1px solid ",";\n\t\theight: 24px;\n\t}\n\n\t"," {\n\t\tdisplay: flex;\n\t}\n"]);return pt=function(){return t},t}function ft(){const t=ut(["\n\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\tbackground: ",";\n\t\t\t\t\t\tz-index: 1000;\n\t\t\t\t\t\tright: 0;\n\t\t\t\t\t\twidth: 50%;\n\t\t\t\t\t\ttop: 35px;\n\t\t\t\t\t"]);return ft=function(){return t},t}function ht(){const t=ut(["\n\t\t\t\t\t\t\tbackground: ",";\n\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\tjustify-content: space-between;\n\t\t\t\t\t\t"]);return ht=function(){return t},t}function gt(){const t=ut(["\n\t\t\t\t\t\t\t\tborder: none;\n\t\t\t\t\t\t\t\t","\n\t\t\t\t\t\t\t\tfont-size: 16px;\n\t\t\t\t\t\t\t\tpadding: 0px 8px 0px 20px;\n\t\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\t\theight: 44px;\n\t\t\t\t\t\t\t"]);return gt=function(){return t},t}function mt(){const t=ut(["\n\t\t\t\t\t\t\t\tbackground: none;\n\t\t\t\t\t\t\t\tborder: 0;\n\n\t\t\t\t\t\t\t\t&:hover {\n\t\t\t\t\t\t\t\t\ttransform: scale(1.2);\n\t\t\t\t\t\t\t\t\ttransition: all 0.3s ease;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t"]);return mt=function(){return t},t}function vt(){const t=ut(["\n\t\t\t\t\t\t\t\t",";\n\t\t\t\t\t\t\t\tpadding: 1rem 25px;\n\t\t\t\t\t\t\t\tcolor: ",";\n\n\t\t\t\t\t\t\t\t:hover {\n\t\t\t\t\t\t\t\t\tcolor: ",";\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t"]);return vt=function(){return t},t}function bt(){const t=ut(["\n\t\t\t\t\t\t\t\tborder: 1px solid ",";\n\t\t\t\t\t\t\t\tborder-top: none;\n\t\t\t\t\t\t\t\tpadding-top: 8px;\n\t\t\t\t\t\t\t"]);return bt=function(){return t},t}function yt(){const t=ut(["\n\t\t\t\t\t\t\t\t\t\t\t\t",";\n\t\t\t\t\t\t\t\t\t\t\t\ttext-decoration: none;\n\t\t\t\t\t\t\t\t\t\t\t\tcolor: ",";\n\t\t\t\t\t\t\t\t\t\t\t\tdisplay: block;\n\t\t\t\t\t\t\t\t\t\t\t\tpadding-left: 20px;\n\n\t\t\t\t\t\t\t\t\t\t\t\t:hover {\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: ",";\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t"]);return yt=function(){return t},t}function xt(){const t=ut(["\n\t\t\t\t\t\t\t\t\t\t\t\t\tborder-top: 1px solid\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t",";\n\t\t\t\t\t\t\t\t\t\t\t\t\tpadding: 4px 50px 16px 0;\n\t\t\t\t\t\t\t\t\t\t\t\t"]);return xt=function(){return t},t}const wt=(0,o.css)(dt(),f.OS.medium({fontWeight:"bold"}),a.n$[100],s.Dp.tablet,(0,u.K)("searchHeaderLink")),jt=(0,o.css)(pt(),a.UQ[600],s.Dp.desktop),Ot=()=>{const[t,e]=(0,h.useState)(!1),[n,i]=(0,h.useState)(),s=(0,h.useRef)(null),{data:c}=(0,w.h)(n?"https://content.guardianapis.com/search?api-key=d1280925-708c-4940-9162-0952ac6e728f&q=".concat(n):void 0),l=(0,h.useRef)(null),u=(0,h.useRef)(null);return(0,h.useEffect)((()=>{function n(n){var r,o;(null===(r=u.current)||void 0===r?void 0:r.contains(n.target))||(null===(o=l.current)||void 0===o?void 0:o.contains(n.target))||!t||(i(void 0),e(!1))}return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}}),[l,t]),(0,h.useEffect)((()=>{const t=t=>{"Escape"===t.key&&(i(void 0),e(!1))};return document.addEventListener("keydown",t,!1),()=>{document.removeEventListener("keydown",t,!1)}}),[]),(0,h.useEffect)((()=>{var e;t&&(null===(e=s.current)||void 0===e||e.focus())}),[t]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{css:jt,ref:u,children:(0,r.jsxs)("a",{href:"https://www.google.co.uk/advanced_search?q=site:www.theguardian.com",type:"button",css:wt,"data-link-name":"nav3 : search",onClick:n=>(n.preventDefault(),t?(i(void 0),e(!1)):e(!0),!1),children:[t?(0,r.jsx)(lt(),{}):(0,r.jsx)(X(),{}),(0,r.jsx)(r.Fragment,{children:"Search"})]})}),t&&(0,r.jsxs)("form",{css:(0,o.css)(ft(),a.UQ[400]),onSubmit:t=>{var e;t.preventDefault(),i(null===(e=s.current)||void 0===e?void 0:e.value)},ref:l,children:[(0,r.jsxs)("div",{css:(0,o.css)(ht(),a.n$[100]),children:[(0,r.jsx)("input",{name:"q",type:"text",css:(0,o.css)(gt(),f.OS.small()),ref:s,autoComplete:"off"}),(0,r.jsx)("button",{css:(0,o.css)(mt()),type:"submit",children:(0,r.jsx)(st(),{})})]}),c&&0==c.response.results.length&&(0,r.jsx)("p",{css:(0,o.css)(vt(),f.OS.medium(),a.n$[100],a.A5[400]),children:"There are no results"}),c&&c.response.results.length>0&&(0,r.jsx)("ul",{css:(0,o.css)(bt(),a.n$[46]),children:c.response.results.map((t=>(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:t.webUrl,css:(0,o.css)(yt(),f.Se.xxxsmall(),a.n$[100],a.A5[400]),children:(0,r.jsx)("div",{css:(0,o.css)(xt(),a.n$[46]),children:t.webTitle})})},t.webUrl)))})]})]})};function kt(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Ct(){const t=kt(["\n\t",";\n\tfont-size: 1rem;\n\tline-height: 1;\n\tcolor: ",";\n\ttransition: color 80ms ease-out;\n\ttext-decoration: none;\n\tpadding: 7px 0;\n\n\t"," {\n\t\tpadding: 8px 10px 7px 6px;\n\t}\n\n\t:hover,\n\t:focus {\n\t\ttext-decoration: underline;\n\t}\n"]);return Ct=function(){return t},t}function Ut(){const t=kt(["\n\tdisplay: none;\n\n\t:before {\n\t\tcontent: '';\n\t\tborder-left: 1px solid ",";\n\t\theight: 24px;\n\t}\n\n\t"," {\n\t\tdisplay: flex;\n\t}\n"]);return Ut=function(){return t},t}const It=(0,o.css)(Ct(),f.OS.medium({fontWeight:"bold"}),a.n$[100],s.Dp.tablet),St=(0,o.css)(Ut(),a.UQ[600],s.Dp.desktop),Pt=()=>(0,r.jsx)("div",{css:St,children:(0,r.jsx)("a",{href:"https://jobs.theguardian.com",css:It,"data-link-name":"nav3 : job-cta",children:"Search jobs"})});var zt=n(2188);function Et(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function At(){const t=Et(["\n\tdisplay: flex;\n\theight: 30px;\n\tbackground-color: ",";\n\tbox-sizing: border-box;\n\tpadding-left: 10px;\n\t"," {\n\t\tpadding-left: ","px;\n\t}\n\t"," {\n\t\tpadding-left: 15px;\n\t}\n\t"," {\n\t\theight: 35px;\n\t\tjustify-content: flex-end;\n\t\tpadding-right: ","px;\n\t}\n\t"," {\n\t\tpadding-right: 96px;\n\t}\n"]);return At=function(){return t},t}function Bt(){const t=Et(["\n\t\t\t\tbackground-color: ",";\n\t\t\t"]);return Bt=function(){return t},t}const Dt=(0,o.css)(At(),a.UQ[300],s.Dp.mobileLandscape,c.D[5],s.Dp.tablet,s.Dp.desktop,c.D[5],s.Dp.wide),Mt=t=>{let{editionId:e,dataLinkName:n,idUrl:s,mmaUrl:c,discussionApiUrl:u,idApiUrl:d,headerTopBarSearchCapiSwitch:p,isInEuropeTest:f}=t;const h=!("undefined"==typeof window||!(0,i.e)({name:"GU_U",shouldMemoize:!0}));return(0,r.jsx)("div",{css:(0,o.css)(Bt(),a.UQ[300]),children:(0,r.jsxs)("div",{css:[Dt,l.b],children:[(0,r.jsx)(G,{editionId:e}),(0,r.jsx)(D,{mmaUrl:null!=c?c:"https://manage.theguardian.com",idUrl:null!=s?s:"https://profile.theguardian.com",discussionApiUrl:u,idApiUrl:d,isSignedIn:h}),(0,r.jsx)(Pt,{}),!p&&(0,r.jsx)(it,{href:"https://www.google.co.uk/advanced_search?q=site:www.theguardian.com",dataLinkName:"nav3 : search"}),p&&(0,r.jsx)(Ot,{}),(0,r.jsx)(zt.c,{when:"below",breakpoint:"desktop",children:(0,r.jsx)(R,{editionId:e,dataLinkName:n,isInEuropeTest:f})})]})})}},2188:(t,e,n)=>{"use strict";n.d(e,{c:()=>l});var r=n(7800),o=n(43),i=n(1810);function a(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function s(){const t=a(["\n\t\t\t"," {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t"]);return s=function(){return t},t}function c(){const t=a(["\n\t\t\t"," {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t"]);return c=function(){return t},t}const l=t=>{let e,{children:n,when:a,breakpoint:l,el:u}=t;return e="below"===a?(0,o.css)(s(),i.C4[l]):(0,o.css)(c(),i.Dp[l]),"li"===u?(0,r.jsx)("li",{css:e,children:n}):(0,r.jsx)("span",{css:e,children:n})}},3424:(t,e,n)=>{"use strict";n.d(e,{y:()=>o});var r=n(828);const o=t=>{let{base:e,componentType:n,componentId:o,campaignCode:i,abTest:a,pageViewId:s,referrerUrl:c}=t;if(e.search(/(support.theguardian.com)(\/[a-z]*)?\/(contribute|subscribe)/)>=0){const t={source:"GUARDIAN_WEB",componentId:o,componentType:n,campaignCode:i,abTest:a,referrerPageviewId:s,referrerUrl:c},l={REFPVID:s,INTCMP:i,acquisitionData:JSON.stringify(t)};return"".concat(e).concat(e.includes("?")?"&":"?").concat((0,r.A)(l))}return e}},5504:(t,e,n)=>{"use strict";n.d(e,{b:()=>a});var r=n(43),o=n(1810);function i(){const t=(e=["\n\tposition: relative;\n\tmargin: auto;\n\n\t"," {\n\t\tmax-width: 740px;\n\t}\n\n\t"," {\n\t\tmax-width: 980px;\n\t}\n\n\t"," {\n\t\tmax-width: 1140px;\n\t}\n\n\t"," {\n\t\tmax-width: 1300px;\n\t}\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));var e,n;return i=function(){return t},t}const a=(0,r.css)(i(),o.Dp.tablet,o.Dp.desktop,o.Dp.leftCol,o.Dp.wide)},3179:(t,e,n)=>{"use strict";n.d(e,{T:()=>c,_:()=>s});var r=n(5726);function o(t){if(!t.ok)throw Error(t.statusText||"getIdApiUserData | An api call returned HTTP status ".concat(t.status));return t}const i=t=>fetch(t,{credentials:"include"}).then(o).then((t=>t.json())),a={},s=t=>{if(!a.idapiUserMeResponse){const e=(0,r.p)(t,"user/me");a.idapiUserMeResponse=i(e)}return a.idapiUserMeResponse},c=t=>{if(!a.idapiUserIdentifiersResponse){const e=(0,r.p)(t,"user/me/identifiers");a.idapiUserIdentifiersResponse=i(e)}return a.idapiUserIdentifiersResponse}},4466:(t,e,n)=>{"use strict";n.d(e,{h:()=>i});var r=n(6131);function o(t){if(!t.ok)throw Error(t.statusText||"useApi | An api call returned HTTP status ".concat(t.status));return t}const i=(t,e,n)=>{const{data:i,error:a}=(0,r.ZP)(t,(t=>e=>fetch(e,t).then(o).then((t=>t.json())))(n),e);return{data:i,error:a,loading:!!t&&!a&&!i}}},7617:(t,e,n)=>{"use strict";n.d(e,{_:()=>b});var r=n(5970),o=n(2699),i=n(9103),a=n(1614),s=n(2803),c=n(8869),l=n(9038);const u="gu.brazeUserSet";var d=n(3179);const p=async t=>(0,d.T)(t).then((t=>t.brazeUuid)).catch((t=>{window.guardian.modules.sentry.reportError(t,"getBrazeUuid")}));var f=n(8706);const h=(t,e,n)=>({isSuccessful:!1,failure:{field:t,data:e},data:n}),g={enableLogging:!0,noCookies:!0,baseUrl:"https://sdk.fra-01.braze.eu/api/v3",sessionTimeoutInSeconds:1,minimumIntervalBetweenTriggerActionsInSeconds:0,devicePropertyAllowlist:[]},m=(()=>{let t;return e=>(void 0===t&&(t=(async t=>{const e=await n.e(7845).then(n.t.bind(n,8e3,23));return e.setLogger((t=>(0,s.c)("tx",t))),e.initialize(t,g),e})(e)),t)})(),v=async t=>{if(!i.t.local.isAvailable())return{brazeMessages:new r.Vp,brazeCards:new r.J9};const e=!!(0,a.e)({name:"GU_U",shouldMemoize:!0}),n=await(async(t,e)=>{const n=((t,e)=>[{name:"apiKey",value:Promise.resolve(window.guardian.config.page.brazeApiKey)},{name:"brazeSwitch",value:Promise.resolve(window.guardian.config.switches.brazeSwitch)},{name:"brazeUuid",value:t?p(e):Promise.resolve(null)},{name:"consent",value:new Promise(((t,e)=>{(0,f.onConsentChange)((n=>{try{t((0,f.getConsentFor)("braze",n))}catch(t){e(t)}}))}))},{name:"isNotPaidContent",value:Promise.resolve(!window.guardian.config.page.isPaidContent)}])(t,e),r={};for(const{name:t,value:e}of n)try{const n=await e;if(!n)return h(t,n,r);r[t]=n}catch(e){return h(t,e instanceof Error?e.message:e,r)}return{isSuccessful:!0,data:r}})(e,t);if(!n.isSuccessful){const{failure:t,data:e}=n;return(0,s.c)("tx","Not attempting to show Braze messages. Dependency ".concat(t.field," failed with ").concat(String(t.data),".")),await(async(t,e,n,o)=>{const i="true"===localStorage.getItem(u);if(!e&&i||!n&&i||!o&&i)try{t&&(await m(t)).wipeData(),r.dL.clear(),localStorage.removeItem(u)}catch(t){window.guardian.modules.sentry.reportError(t,"braze-maybeWipeUserData")}})(e.apiKey,e.brazeUuid,e.consent,e.brazeSwitch),{brazeMessages:new r.Vp,brazeCards:new r.J9}}try{const t=(0,c.i)("braze-sdk-load");t.start();const e=await m(n.data.apiKey),o=t.end();(0,l.IM)({component:"braze-sdk-load-timing",value:o});const i=(t,e)=>{window.guardian.modules.sentry.reportError(t,e)};localStorage.setItem(u,"true"),e.changeUser(n.data.brazeUuid),e.openSession();const a=window.guardian.config.switches.brazeContentCards?new r.BX(e,i):new r.J9;return{brazeMessages:new r.uU(e,r.dL,i),brazeCards:a}}catch(t){return{brazeMessages:new r.Vp,brazeCards:new r.J9}}},b=t=>{const{data:e,error:n}=(0,o.Z)("braze-message",(()=>v(t)));return n?{brazeMessages:new r.Vp,brazeCards:new r.J9}:{brazeMessages:null==e?void 0:e.brazeMessages,brazeCards:null==e?void 0:e.brazeCards}}},5970:(t,e,n)=>{"use strict";n.d(e,{BX:()=>U,J9:()=>I,Vp:()=>k,dL:()=>A,uU:()=>O});var r=n(9103);function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){s=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(t,e)||l(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){if(t){if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var d,p,f,h,g=["https://media.guim.co.uk/","https://i.guim.co.uk/"],m=function(t){return g.some((function(e){return t.startsWith(e)}))},v=["%%CURRENCY_SYMBOL%%","%%COUNTRY_NAME%%"],b=/%%.*?%%/g,y=function(t){var e,n,r=t.buttonText,o=t.buttonUrl,i=t.ophanComponentId,a=t.highlightedText,s=x(t),c=!!(n=null===(e=((a||"")+" "+s.join(" ")).match(b))||void 0===e?void 0:e.filter((function(t){return!v.includes("".concat(t))})))&&n.length>0;return Boolean(r&&o&&i&&s.length>0&&!c)},x=function(t){var e,n=[],r=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=l(t))){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(Object.keys(t).filter((function(t){return/^paragraph\d$/.test(t)})).sort());try{for(r.s();!(e=r.n()).done;){var o=t[e.value];o&&n.push(o)}}catch(t){r.e(t)}finally{r.f()}return n},w=(s(d={},"AppBanner",(function(t){var e=t.header,n=t.body,r=t.cta,o=t.imageUrl;return!(!(e&&n&&r&&o)||!m(o)&&(console.log("Image URL ".concat(o," is not allowed")),1))})),s(d,"BannerWithLink",(function(t){var e=t.header,n=t.body,r=t.buttonText,o=t.buttonUrl,i=t.imageUrl,a=t.ophanComponentId;return i&&!m(i)?(console.log("Image URL ".concat(i," is not allowed")),!1):Boolean(e&&n&&r&&o&&i&&a)})),s(d,"BannerNewsletter",(function(t){var e=t.header,n=t.body,r=t.imageUrl,o=t.ophanComponentId,i=t.newsletterId,a=t.frequency;return r&&!m(r)?(console.log("Image URL ".concat(r," is not allowed")),!1):Boolean(e&&n&&r&&o&&i&&a)})),s(d,"Epic",y),s(d,"EpicWithSpecialHeader",(function(t){var e=y(t);if(e){var n=t.authoredEpicImageUrl,r=t.authoredEpicImageAltText,o=t.authoredEpicBylineName;return Boolean(n&&r&&o)}return e})),s(d,"NewsletterEpic",(function(t){var e=t.header,n=t.frequency,r=t.paragraph1,o=t.imageUrl,i=t.newsletterId,a=t.ophanComponentId;return!(!(e&&n&&r&&o&&i&&a)||!m(o)&&(console.log("Image URL ".concat(o," is not allowed")),1))})),s(d,"USNewsletterEpic",(function(t){var e=t.header,n=t.frequency,r=t.paragraph1,o=t.ophanComponentId;return Boolean(e&&n&&r&&o)})),s(d,"AUNewsletterEpic",(function(t){var e=t.header,n=t.frequency,r=t.paragraph1,o=t.ophanComponentId;return Boolean(e&&n&&r&&o)})),s(d,"UKNewsletterEpic",(function(t){var e=t.header,n=t.frequency,r=t.paragraph1,o=t.ophanComponentId;return Boolean(e&&n&&r&&o)})),s(d,"DownToEarthNewsletterEpic",(function(t){var e=t.header,n=t.frequency,r=t.paragraph1,o=t.ophanComponentId;return Boolean(e&&n&&r&&o)})),s(d,"EpicNewsletter_AU_AfternoonUpdate",(function(t){var e=t.header,n=t.frequency,r=t.paragraph1,o=t.ophanComponentId;return Boolean(e&&n&&r&&o)})),s(d,"EpicNewsletter_TheGuide",(function(t){var e=t.header,n=t.frequency,r=t.paragraph1,o=t.ophanComponentId;return Boolean(e&&n&&r&&o)})),d),j=function(){function t(e,n,r,i,a,s){o(this,t),this.id=void 0,this.appboy=void 0,this.message=void 0,this.slotName=void 0,this.cache=void 0,this.errorHandler=void 0,this.id=e,this.message=n,this.appboy=r,this.slotName=i,this.cache=a,this.errorHandler=s}return a(t,[{key:"logImpression",value:function(){try{this.appboy.logInAppMessageImpression(this.message)}catch(t){t instanceof Error&&this.errorHandler(t,"BrazeMessage.logImpression")}this.cache.remove(this.slotName,this.id,this.errorHandler)}},{key:"logButtonClick",value:function(t){var e=new this.appboy.InAppMessageButton("Button: ID ".concat(t),void 0,void 0,void 0,void 0,void 0,t);try{this.appboy.logInAppMessageButtonClick(e,this.message)}catch(t){t instanceof Error&&this.errorHandler(t,"BrazeMessage.logButtonClick")}}},{key:"extras",get:function(){return this.message.extras}}]),t}(),O=function(){function t(e,n,r){o(this,t),this.appboy=void 0,this.freshMessageBySlot=void 0,this.cache=void 0,this.errorHandler=void 0,this.appboy=e,this.cache=n,this.freshMessageBySlot={Banner:this.getFreshMessagesForSlot("Banner"),EndOfArticle:this.getFreshMessagesForSlot("EndOfArticle")},this.errorHandler=r}return a(t,[{key:"getFreshMessagesForSlot",value:function(t){var e=this;return new Promise((function(n){e.appboy.subscribeToInAppMessage((function(r){var o=r,i=o.extras;i&&i.slotName&&i.slotName===t&&(e.cache.push(t,{message:o,id:"".concat(Math.random().toString(16).slice(2),"-").concat((new Date).getTime())},e.errorHandler),n(o))}))}))}},{key:"getMessageForBanner",value:function(t){return this.getMessageForSlot("Banner",t)}},{key:"getMessageForEndOfArticle",value:function(t){return this.getMessageForSlot("EndOfArticle",t)}},{key:"getMessageForSlot",value:function(t,e){var n=this,r=this.getHighestPriorityMessageFromCache(t,e);return r?Promise.resolve(r):this.freshMessageBySlot[t].then((function(){var r=n.getHighestPriorityMessageFromCache(t,e);if(r)return Promise.resolve(r);throw new Error("No valid messages for ".concat(t," slot"))}))}},{key:"getHighestPriorityMessageFromCache",value:function(t,e){var n,r=this.cache.all(t,this.appboy,this.errorHandler).filter((function(t){return!!(e=t.message.extras)&&!!w[e.componentName]&&w[e.componentName](e);var e})),o={messagesWithFilters:(n=r).filter((function(t){return Boolean(t.message.extras.section)})),messagesWithoutFilters:n.filter((function(t){return!Boolean(t.message.extras.section)}))},i=o.messagesWithoutFilters,a=c(o.messagesWithFilters.concat(i).filter((function(t){var n;if(!t.message.extras.section||"string"!=typeof t.message.extras.section)return!0;var r=null==e||null===(n=e.section)||void 0===n?void 0:n.toLowerCase();return!!r&&t.message.extras.section.split("|").map((function(t){return t.toLowerCase()})).includes(r)})),1)[0];if(a)return new j(a.id,a.message,this.appboy,t,this.cache,this.errorHandler)}}]),t}(),k=function(){function t(){o(this,t)}return a(t,[{key:"getMessageForBanner",value:function(){return Promise.reject(new Error("No banner message"))}},{key:"getMessageForEndOfArticle",value:function(){return Promise.reject(new Error("No end of article message"))}}]),t}();(h=p||(p={})).Banner="Banner",h.EndOfArticle="EndOfArticle",function(t){t.ProfileBadge="ProfileBadge"}(f||(f={}));var C=function(){function t(e,n,r,i,a){o(this,t),this.id=void 0,this.slotName=void 0,this.card=void 0,this.appboy=void 0,this.errorHandler=void 0,this.id=e,this.slotName=n,this.card=r,this.appboy=i,this.errorHandler=a}return a(t,[{key:"logImpression",value:function(){try{this.appboy.logCardImpressions([this.card],!0)||this.errorHandler(new Error("Failed to log card impression event"),"BrazeCard.logImpressions")}catch(t){t instanceof Error&&this.errorHandler(t,"BrazeCard.logImpressions")}}},{key:"logCardClick",value:function(){try{this.appboy.logCardClick(this.card,!0)||this.errorHandler(new Error("Failed to log card click event"),"BrazeCard.logCardClick")}catch(t){t instanceof Error&&this.errorHandler(t,"BrazeCard.logCardClick")}}},{key:"logCardDismissal",value:function(){try{this.appboy.logCardDismissal(this.card)||this.errorHandler(new Error("Failed to log card dismiss event"),"BrazeCard.logCardDismiss")}catch(t){t instanceof Error&&this.errorHandler(t,"BrazeCard.logCardDismiss")}}},{key:"extras",get:function(){var t=this.card.extras;return void 0===t?{}:t}},{key:"expiry",get:function(){var t=this.card.expiresAt;return null===t?void 0:t}}]),t}(),U=function(){function t(e,n){o(this,t),this.appboy=void 0,this.errorHandler=void 0,this.appboy=e,this.errorHandler=n}return a(t,[{key:"getCardsForProfileBadge",value:function(){return this.getCardsForSlot(f.ProfileBadge)}},{key:"getCardsForSlot",value:function(t){var e=this;return this.appboy.getCachedContentCards().cards.flatMap((function(n){var r=n.extras;return r&&r.slotName&&r.slotName===t?void 0===n.id?(e.errorHandler(new Error("appboy card had no ID"),"BrazeCards.getCardsForSlot"),[]):[new C(n.id,t,n,e.appboy,e.errorHandler)]:[]}))}},{key:"lastUpdated",get:function(){return this.appboy.getCachedContentCards().lastUpdated}}]),t}(),I=function(){function t(){o(this,t)}return a(t,[{key:"getCardsForProfileBadge",value:function(){return[]}}]),t}(),S=function(t){return"".concat("gu.brazeMessageCache",".").concat(t)},P=function(t,e){var n=S(t);r.t.local.set(n,e)},z=function(t,e){return new e.HtmlMessage(t.message,t.extras,t.campaignId,t.cardId,t.triggerId,t.dismissType,t.duration,t.animateIn,t.animateOut,t.frameColor,t.htmlId,t.css,t.messageFields)},E=function(t,e){var n=function(t){var e=S(t),n=r.t.local.get(e);return Array.isArray(n)?n:[]}(t),o=n.filter((function(t){return e=t,Boolean((null==e?void 0:e.expires)&&Number.isFinite(null==e?void 0:e.expires)&&(null==e||null===(n=e.message)||void 0===n?void 0:n.id)&&(null==e||null===(r=e.message)||void 0===r||null===(o=r.message)||void 0===o?void 0:o.triggerId)&&(null==e||null===(i=e.message)||void 0===i||null===(a=i.message)||void 0===a?void 0:a.extras));var e,n,r,o,i,a})).filter((function(t){return t.expires>Date.now()}));if(n.length!==o.length){var i=n.length-o.length;e(Error("Removed ".concat(i," expired message").concat(1===i?"":"s"," from queue")),"LocalMessageCache"),P(t,o)}return o},A=function(){function t(){o(this,t)}return a(t,null,[{key:"peek",value:function(t,e,n){var r=E(t,n)[0];if(r)return{id:r.message.id,message:z(r.message.message,e)}}},{key:"all",value:function(t,e,n){return E(t,n).map((function(t){return{id:t.message.id,message:z(t.message.message,e)}}))}},{key:"remove",value:function(t,e,n){var r=E(t,n),o=r.findIndex((function(t){return t.message.id===e}));return!!(o>=0&&r.splice(o,1))&&(P(t,r),!0)}},{key:"push",value:function(t,e,n){var r=E(t,n);if(r.length<2){var o={message:e,expires:Date.now()+864e5};return r.push(o),P(t,r),!0}return n(new Error("Failed to add message to queue - queue full"),"LocalMessageCache"),!1}},{key:"clear",value:function(){for(var t in p){var e=S(t);r.t.local.remove(e)}}}]),t}()},1083:(t,e,n)=>{"use strict";n.d(e,{j:()=>r});const r="\n\tposition: absolute;\n\toverflow: hidden; /* gets rid of horizontal scrollbar that appears in some circumstances */\n\twhite-space: nowrap; /* The white-space property forces the content to render on one line. */\n\twidth: 1px;  /* ensures content is announced by VoiceOver. */\n\theight: 1px; /* ensures content is announced by VoiceOver. */\n\tmargin: -1px; /* hide or clip content that does not fit into a 1-pixel visible area. */\n\tpadding: 0; /* hide or clip content that does not fit into a 1-pixel visible area. */\n\tborder: 0;\n\tclip: rect(1px, 1px, 1px, 1px); /* clip removes any visible trace of the element */\n\t-webkit-clip-path: inset(50%); /* clip removes any visible trace of the element */\n\tclip-path: inset(50%); /* clip removes any visible trace of the element */\n"}}]);
//# sourceMappingURL=HeaderTopBar-importable.modern.2ee09059e5b9a771c5e5.js.map