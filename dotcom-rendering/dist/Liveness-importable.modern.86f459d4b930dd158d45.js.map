{"version":3,"file":"Liveness-importable.modern.86f459d4b930dd158d45.js","mappings":"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","sources":["webpack://@guardian/dotcom-rendering/./src/web/browser/relativeTime/updateTimeElements.ts","webpack://@guardian/dotcom-rendering/./src/web/components/Toast.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/Liveness.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/lib/useApi.tsx","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/libs/esm/datetime/timeAgo.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/libs/esm/format/ArticleDesign.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/libs/esm/format/ArticleDisplay.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/libs/esm/format/ArticlePillar.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/libs/esm/format/ArticleSpecial.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-foundations/esm/breakpoints/breakpoints.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-foundations/esm/mq/mq.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components-development-kitchen/esm/editorial-button/styles.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components-development-kitchen/esm/editorial-button/EditorialButton.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/src/button/Button.js","webpack://@guardian/dotcom-rendering/../node_modules/@guardian/source-react-components/esm/src/hide/Hide.js"],"sourcesContent":["import { timeAgo } from '@guardian/libs';\n\nexport const updateTimeElement = (element: Element): void => {\n\tif (element instanceof HTMLElement) {\n\t\t// Get required values\n\t\tconst { relativeformat: relativeFormat } = element.dataset;\n\t\tconst absoluteTime = element.getAttribute('datetime');\n\t\tif (!absoluteTime || !relativeFormat) return;\n\n\t\tlet newTime: false | string = false;\n\t\tswitch (relativeFormat) {\n\t\t\tcase 'short':\n\t\t\tcase 'med':\n\t\t\t\tnewTime = timeAgo(new Date(absoluteTime).getTime(), {\n\t\t\t\t\tverbose: false,\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tcase 'long':\n\t\t\t\tnewTime = timeAgo(new Date(absoluteTime).getTime(), {\n\t\t\t\t\tverbose: true,\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t}\n\t\tconst oldTime = element.innerText;\n\t\tif (newTime !== false && newTime !== oldTime)\n\t\t\telement.innerHTML = newTime;\n\t}\n};\n\nexport const updateTimeElements = (): void => {\n\tdocument\n\t\t.querySelectorAll('time[data-relativeformat]')\n\t\t.forEach(updateTimeElement);\n};\n","import { css } from '@emotion/react';\nimport { space } from '@guardian/source-foundations';\nimport { Hide } from '@guardian/source-react-components';\nimport { EditorialButton } from '@guardian/source-react-components-development-kitchen';\n\ntype Props = {\n\tcount: number;\n\tonClick: () => void;\n\tformat: ArticleFormat;\n};\n\n/** This icon will be added to Source at a subsequent time */\nconst SvgReload = ({ size }: { size: 12 | 16 | 18 | 24 | 26 | 28 | 30 }) => {\n\tconst tight = size <= 24;\n\tconst padding = tight ? 0 : (size - 24) / 2;\n\treturn (\n\t\t<svg\n\t\t\tviewBox={\n\t\t\t\ttight ? '0 0 24 24' : `-${padding} -${padding} ${size} ${size}`\n\t\t\t}\n\t\t\twidth={size}\n\t\t\theight={size}\n\t\t>\n\t\t\t<path d=\"M11.588 1a10.928 10.928 0 0 0-9.046 4.786l.126.676.877.527.676-.176C5.85 4.508 8.506 2.98 11.588 2.98c4.936 0 8.995 4.059 8.995 9.045 0 4.961-4.059 8.995-8.995 8.995-2.832 0-5.262-1.252-6.94-3.257l3.632-.601v-1.253H1.866l-.476.476V23h1.227l.627-3.784C5.248 21.546 8.205 23 11.588 23c6.089 0 11.025-4.911 11.025-10.975A11.01 11.01 0 0 0 11.588 1Z\" />\n\t\t</svg>\n\t);\n};\n\n/**\n * A button to scroll to the top when new content exists.\n *\n * This element is rendered using a Portal into the `toast-root` div. This\n * root div has position: sticky\n */\nexport const Toast = ({ count, onClick, format }: Props) => {\n\treturn (\n\t\t<div\n\t\t\tcss={css`\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: ${space[2]}px;\n\t\t\t`}\n\t\t\tdata-cy=\"toast\"\n\t\t>\n\t\t\t<Hide above=\"phablet\">\n\t\t\t\t<EditorialButton\n\t\t\t\t\tsize=\"xsmall\" // <-- Mobile version is xsmall\n\t\t\t\t\tonClick={onClick}\n\t\t\t\t\tformat={format}\n\t\t\t\t\ticon={<SvgReload size={30} />}\n\t\t\t\t>{`${count} new update${\n\t\t\t\t\tcount === 1 ? '' : 's'\n\t\t\t\t}`}</EditorialButton>\n\t\t\t</Hide>\n\t\t\t<Hide below=\"phablet\">\n\t\t\t\t<EditorialButton\n\t\t\t\t\tsize=\"small\" // <-- Desktop version is small\n\t\t\t\t\tonClick={onClick}\n\t\t\t\t\tformat={format}\n\t\t\t\t\ticon={<SvgReload size={30} />}\n\t\t\t\t>{`${count} new update${\n\t\t\t\t\tcount === 1 ? '' : 's'\n\t\t\t\t}`}</EditorialButton>\n\t\t\t</Hide>\n\t\t</div>\n\t);\n};\n","import { useCallback, useEffect, useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport { initHydration } from '../browser/islands/initHydration';\nimport { updateTimeElement } from '../browser/relativeTime/updateTimeElements';\nimport { useApi } from '../lib/useApi';\nimport { Toast } from './Toast';\n\ntype Props = {\n\tpageId: string;\n\twebTitle: string;\n\tajaxUrl: string;\n\tfilterKeyEvents: boolean;\n\tformat: ArticleFormat;\n\tenhanceTweetsSwitch: boolean;\n\tonFirstPage: boolean;\n\twebURL: string;\n\tmostRecentBlockId: string;\n\thasPinnedPost: boolean;\n\tselectedTopics?: Topic[];\n};\n\nconst isServer = typeof window === 'undefined';\n\nconst topOfBlog: Element | null = !isServer\n\t? window.document.getElementById('top-of-blog')\n\t: null;\n\nconst lastUpdated: Element | null = !isServer\n\t? window.document.querySelector('[data-gu-marker=liveblog-last-updated]')\n\t: null;\n\nconst toastRoot: Element | null = !isServer\n\t? window.document.getElementById('toast-root')\n\t: null;\n\n/**\n * insert\n *\n * Takes html, parses and hydrates it, inserts the resulting blocks\n * at the top of the liveblog, and then enhances any tweets\n *\n * @param {string} html The block html to be inserted\n * @returns void\n */\nfunction insert(html: string, enhanceTweetsSwitch: boolean) {\n\t// Create\n\t// ------\n\tconst template = document.createElement('template');\n\ttemplate.innerHTML = html;\n\tconst fragment = template.content;\n\n\t// Hydrate\n\t// -------\n\tconst islands = fragment.querySelectorAll('gu-island');\n\tinitHydration(islands);\n\n\t// Insert\n\t// ------\n\t// Shouldn't we sanitise this html?\n\t// We're being sent this string by our own backend, not reader input, so we\n\t// trust that the tags and attributes it contains are safe and intentional\n\tconst blogBody = document.querySelector<HTMLElement>('#liveblog-body');\n\tif (!blogBody || !topOfBlog) return;\n\t// nextSibling? See: https://developer.mozilla.org/en-US/docs/Web/API/Node/insertBefore#example_2\n\tblogBody.insertBefore(fragment, topOfBlog.nextSibling);\n\n\t// Enhance\n\t// -----------\n\tif (enhanceTweetsSwitch) {\n\t\tconst pendingBlocks =\n\t\t\tblogBody.querySelectorAll<HTMLElement>('.pending.block');\n\t\t// https://developer.twitter.com/en/docs/twitter-for-websites/javascript-api/guides/scripting-loading-and-initialization\n\t\tif (typeof twttr !== 'undefined') {\n\t\t\ttwttr.ready((twitter) => {\n\t\t\t\ttwitter.widgets.load(Array.from(pendingBlocks));\n\t\t\t});\n\t\t}\n\t}\n}\n\n/**\n * reveal any blocks that have been inserted but are still hidden\n */\nfunction revealPendingBlocks() {\n\tconst blogBody = document.querySelector<HTMLElement>('#liveblog-body');\n\tconst pendingBlocks =\n\t\tblogBody?.querySelectorAll<HTMLElement>('.pending.block');\n\tpendingBlocks?.forEach((block) => {\n\t\tblock.classList.add('reveal-slowly');\n\t\tblock.classList.remove('pending');\n\t});\n\n\tif (pendingBlocks !== undefined && pendingBlocks.length > 0)\n\t\t// Notify commercial that new blocks are available and they can re-run spacefinder\n\t\tdocument.dispatchEvent(new CustomEvent('liveblog:blocks-updated'));\n}\n\n/**\n * This abstracts the code to construct the url we use for polling. Of note is the fact\n * we have put `latestBlockId` in react state; by doing this we are able to change the url\n * that SWR uses for the request whilst still benefitting from the polling logic\n *\n * @returns string\n */\nfunction getKey(\n\tpageId: string,\n\tajaxUrl: string,\n\tlatestBlockId: string,\n\tfilterKeyEvents: boolean,\n\tselectedTopics?: Topic[],\n): string | undefined {\n\ttry {\n\t\t// Construct the url to poll\n\t\tconst url = new URL(`${pageId}.json`, ajaxUrl);\n\t\turl.searchParams.set('lastUpdate', latestBlockId);\n\t\turl.searchParams.set('isLivePage', 'true');\n\t\turl.searchParams.set('dcr', 'true');\n\t\turl.searchParams.set(\n\t\t\t'filterKeyEvents',\n\t\t\tfilterKeyEvents ? 'true' : 'false',\n\t\t);\n\t\tconst [topic] = selectedTopics ?? [];\n\t\tif (topic) {\n\t\t\turl.searchParams.set('topics', `${topic.type}:${topic.value}`);\n\t\t}\n\n\t\treturn url.href;\n\t} catch {\n\t\twindow.guardian.modules.sentry.reportError(\n\t\t\tnew Error(\n\t\t\t\t`An error was thrown trying to construct a URL using pageId: ${pageId} and ajaxUrl: ${ajaxUrl}`,\n\t\t\t),\n\t\t\t'liveness-getkey',\n\t\t);\n\t\t// Returning undefined here means the request is never made\n\t\t// See: https://swr.vercel.app/docs/conditional-fetching#conditional\n\t\treturn undefined;\n\t}\n}\n\n/**\n * # Liveness\n *\n * Allow new blocks on live blogs to be added without page reload.\n * Polls the content API inserts news blocks if the user\n * is at the top of the article.\n * If they have scrolled down, show them a toast to scroll back up.\n *\n * This component insert HTML directly, which is generated from @see LiveBlock\n * and received from the `blocksToHtml` handler.\n */\nexport const Liveness = ({\n\tpageId,\n\twebTitle,\n\tajaxUrl,\n\tfilterKeyEvents,\n\tformat,\n\tenhanceTweetsSwitch,\n\tonFirstPage,\n\twebURL,\n\tmostRecentBlockId,\n\thasPinnedPost,\n\tselectedTopics,\n}: Props) => {\n\tconst [showToast, setShowToast] = useState(false);\n\tconst [topOfBlogVisible, setTopOfBlogVisible] = useState<boolean>();\n\tconst [numHiddenBlocks, setNumHiddenBlocks] = useState(0);\n\tconst [latestBlockId, setLatestBlockId] = useState(mostRecentBlockId);\n\n\t/**\n\t * This function runs (once) after every successful useApi call. This is useful because it\n\t * allows us to avoid the problems of imperative code being executed multiple times\n\t * inside react's declarative structure (things get re-rendered when any state changes)\n\t */\n\tconst onSuccess = useCallback(\n\t\t(data: LiveUpdateType) => {\n\t\t\tif (data.numNewBlocks && data.numNewBlocks > 0) {\n\t\t\t\t// Insert the new blocks in the dom (but hidden)\n\t\t\t\tif (onFirstPage) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tinsert(data.html, enhanceTweetsSwitch);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tconsole.log('>> failed >>', e);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (lastUpdated) {\n\t\t\t\t\tlastUpdated.setAttribute('dateTime', new Date().toString());\n\t\t\t\t\tupdateTimeElement(lastUpdated);\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\tonFirstPage &&\n\t\t\t\t\ttopOfBlogVisible &&\n\t\t\t\t\tdocument.visibilityState === 'visible'\n\t\t\t\t) {\n\t\t\t\t\trevealPendingBlocks();\n\t\t\t\t\tsetNumHiddenBlocks(0);\n\t\t\t\t} else {\n\t\t\t\t\tsetShowToast(true);\n\t\t\t\t\t// Increment the count of new posts\n\t\t\t\t\tsetNumHiddenBlocks(numHiddenBlocks + data.numNewBlocks);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Update the block id we use for polling\n\t\t\tif (data.mostRecentBlockId) {\n\t\t\t\tsetLatestBlockId(data.mostRecentBlockId);\n\t\t\t}\n\t\t},\n\t\t[onFirstPage, topOfBlogVisible, numHiddenBlocks, enhanceTweetsSwitch],\n\t);\n\n\t/**\n\t * This is a utility used by our Cypress end to end tests\n\t *\n\t * Rather than expect these scripts to depend on polling, we\n\t * expose this function to allow Cypress to manually trigger\n\t * updates with whatever html and properties it wants\n\t *\n\t */\n\twindow.mockLiveUpdate = onSuccess;\n\n\t// useApi returns { data, loading, error } but we're not using them here\n\tuseApi(\n\t\tgetKey(pageId, ajaxUrl, latestBlockId, filterKeyEvents, selectedTopics),\n\t\t{\n\t\t\trefreshInterval: 10_000,\n\t\t\trefreshWhenHidden: true,\n\t\t\tonSuccess,\n\t\t},\n\t);\n\n\tuseEffect(() => {\n\t\tdocument.title =\n\t\t\tnumHiddenBlocks > 0 ? `(${numHiddenBlocks}) ${webTitle}` : webTitle;\n\t}, [numHiddenBlocks, webTitle]);\n\n\tuseEffect(() => {\n\t\tif (!topOfBlog) return;\n\n\t\tconst observer = new window.IntersectionObserver(([entry]) => {\n\t\t\tif (!entry) return;\n\n\t\t\tsetTopOfBlogVisible(entry.isIntersecting);\n\n\t\t\tif (entry.isIntersecting && onFirstPage) {\n\t\t\t\t// If on first page, reveal blocks\n\t\t\t\trevealPendingBlocks();\n\t\t\t\tsetNumHiddenBlocks(0);\n\t\t\t\tsetShowToast(false);\n\t\t\t}\n\t\t});\n\n\t\tobserver.observe(topOfBlog);\n\n\t\treturn () => {\n\t\t\tobserver.disconnect();\n\t\t};\n\t}, [onFirstPage]);\n\n\t/**\n\t * This useEffect sets up a listener for when the page is backgrounded or restored. We\n\t * do this so that any new blocks that were fetched while the blog was in the\n\t * background are animated in at the point when focus is restored\n\t */\n\tuseEffect(() => {\n\t\tconst handleVisibilityChange = () => {\n\t\t\t// The blog was either hidden or has become visible\n\t\t\tif (\n\t\t\t\t// If we're returning to a blog that has pending blocks and the reader\n\t\t\t\t// is at the top of the first page then...\n\t\t\t\tdocument.visibilityState === 'visible' &&\n\t\t\t\tnumHiddenBlocks > 0 &&\n\t\t\t\ttopOfBlogVisible &&\n\t\t\t\tonFirstPage\n\t\t\t) {\n\t\t\t\trevealPendingBlocks();\n\t\t\t\tsetNumHiddenBlocks(0);\n\t\t\t\tsetShowToast(false);\n\t\t\t}\n\t\t};\n\n\t\twindow.addEventListener('visibilitychange', handleVisibilityChange);\n\n\t\treturn () => {\n\t\t\twindow.removeEventListener(\n\t\t\t\t'visibilitychange',\n\t\t\t\thandleVisibilityChange,\n\t\t\t);\n\t\t};\n\t}, [numHiddenBlocks, onFirstPage, topOfBlogVisible]);\n\n\tconst handleToastClick = useCallback(() => {\n\t\t// We adjust the position we scroll readers to based on if there is a pinned\n\t\t// post or not. If there is we want to scroll them to a position below it, if\n\t\t// there is then we want to scroll them to a position that ensures they still\n\t\t// see the key events filter\n\t\tconst placeToScrollTo = hasPinnedPost ? 'top-of-blog' : 'maincontent';\n\t\tif (onFirstPage) {\n\t\t\tsetShowToast(false);\n\n\t\t\tdocument.getElementById(placeToScrollTo)?.scrollIntoView({\n\t\t\t\tbehavior: 'smooth',\n\t\t\t});\n\t\t\twindow.history.replaceState({}, '', `#${placeToScrollTo}`);\n\t\t\trevealPendingBlocks();\n\t\t\tsetNumHiddenBlocks(0);\n\t\t} else {\n\t\t\twindow.location.href = `${webURL}#${placeToScrollTo}`;\n\t\t}\n\t}, [hasPinnedPost, onFirstPage, webURL]);\n\n\tif (toastRoot && showToast) {\n\t\t/**\n\t\t * Why `createPortal`?\n\t\t *\n\t\t * We use a Portal because of a the way different browsers implement `position: sticky`.\n\t\t * A [stickily positioned element][] depends on its [containing block][] to determine\n\t\t * when to become stuck.\n\t\t *\n\t\t * In Safari the containing block is set to the immediate parent\n\t\t * whereas Chrome, Firefox and other browser are more forgiving.\n\t\t *\n\t\t * By using a Portal we can insert the Toast as a sibling to the Island, which works around\n\t\t * Safari's behaviour.\n\t\t *\n\t\t * [stickily positioned element]: https://developer.mozilla.org/en-US/docs/Web/CSS/position#types_of_positioning\n\t\t * [containing block]: https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n\t\t */\n\t\treturn ReactDOM.createPortal(\n\t\t\t<Toast\n\t\t\t\tonClick={handleToastClick}\n\t\t\t\tcount={numHiddenBlocks}\n\t\t\t\tformat={format}\n\t\t\t/>,\n\t\t\ttoastRoot,\n\t\t);\n\t}\n\n\treturn null;\n};\n","import type { SWRConfiguration } from 'swr';\nimport useSWR from 'swr';\n\nfunction checkForErrors(response: Response) {\n\tif (!response.ok) {\n\t\tthrow Error(\n\t\t\tresponse.statusText ||\n\t\t\t\t`useApi | An api call returned HTTP status ${response.status}`,\n\t\t);\n\t}\n\treturn response;\n}\n\nconst fetcher = (init?: RequestInit) => (url: string) =>\n\tfetch(url, init)\n\t\t.then(checkForErrors)\n\t\t.then((res) => res.json());\n\ninterface ApiResponse<T> {\n\tloading: boolean;\n\tdata?: T;\n\terror?: Error;\n}\n\n/**\n * @description\n * A custom hook to make a GET request using the given url using the SWR lib (https://swr.vercel.app/)\n * returns { loading, error, data }\n * @param {String} url - The url to fetch\n * @param {SWRConfiguration} options - The SWR config object - https://swr.vercel.app/docs/options\n * @param {RequestInit} init - The fetch init object - https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch#supplying_request_options\n * */\nexport const useApi = <T,>(\n\turl?: string,\n\toptions?: SWRConfiguration,\n\tinit?: RequestInit,\n): ApiResponse<T> => {\n\tconst { data, error } = useSWR(url, fetcher(init), options);\n\n\treturn {\n\t\tdata,\n\t\terror,\n\t\tloading: !!url && !error && !data,\n\t};\n};\n","const pad = (n) => n.toString().padStart(2, '0');\nconst isWithin24Hours = (date) => {\n    const today = new Date();\n    return date.getTime() > today.getTime() - 24 * 60 * 60 * 1000;\n};\nconst isYesterday = (relative) => {\n    const today = new Date();\n    const yesterday = new Date();\n    yesterday.setDate(today.getDate() - 1);\n    return relative.toDateString() === yesterday.toDateString();\n};\nconst getSuffix = (type, value, verbose) => {\n    const shouldPluralise = value !== 1;\n    switch (type) {\n        case 's': {\n            // Always pluralised, as less than 15 seconds returns “now”\n            if (verbose)\n                return ' seconds ago';\n            return 's ago';\n        }\n        case 'm': {\n            if (verbose && shouldPluralise)\n                return ' minutes ago';\n            if (verbose)\n                return ' minute ago';\n            return 'm ago';\n        }\n        case 'h': {\n            if (verbose && shouldPluralise)\n                return ' hours ago';\n            if (verbose)\n                return ' hour ago';\n            return 'h ago';\n        }\n        case 'd': {\n            // Always pluralised, as less than 2 days returns “Yesterday HH.MM”\n            if (verbose)\n                return ' days ago';\n            return 'd ago';\n        }\n    }\n};\nconst withTime = (date) => ` ${date.getHours()}.${pad(date.getMinutes())}`;\n/**\n * Takes an absolute date in [epoch format] and returns a string representing\n * relative time ago.\n *\n * Time is formatted according to [the Guardian and Observer Style Guide (T)][T]\n *\n * @param {number} epoch The date when an event happened in epoch format\n * @param {Object} [options] Options to control the formatting\n * @returns {string | false} A formatted relative time string, or `false` if the epoch is in the future\n *\n * [epoch format]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date#description\n * [T]: https://www.theguardian.com/guardian-observer-style-guide-t\n */\nconst timeAgo = (epoch, options) => {\n    const then = new Date(epoch);\n    const now = new Date();\n    const verbose = options?.verbose;\n    const daysUntilAbsolute = options?.daysUntilAbsolute ?? 7;\n    const secondsAgo = Math.floor((now.getTime() - then.getTime()) / 1000);\n    const veryClose = secondsAgo < 15;\n    const within55Seconds = secondsAgo < 55;\n    const withinTheHour = secondsAgo < 55 * 60;\n    const within24hrs = isWithin24Hours(then);\n    const wasYesterday = isYesterday(then);\n    const withinAbsoluteCutoff = secondsAgo < daysUntilAbsolute * 24 * 60 * 60;\n    if (secondsAgo < 0) {\n        // Dates in the future are not supported\n        return false;\n    }\n    else if (veryClose) {\n        // Now\n        return 'now';\n    }\n    else if (within55Seconds) {\n        // Seconds\n        return `${secondsAgo}${getSuffix('s', secondsAgo, verbose)}`;\n    }\n    else if (withinTheHour) {\n        // Minutes\n        const minutes = Math.round(secondsAgo / 60);\n        return `${minutes}${getSuffix('m', minutes, verbose)}`;\n    }\n    else if (within24hrs) {\n        // Hours\n        const hours = Math.round(secondsAgo / 3600);\n        return `${hours}${getSuffix('h', hours, verbose)}`;\n    }\n    else if (wasYesterday && verbose) {\n        // Yesterday\n        return `Yesterday${withTime(then)}`;\n    }\n    else if (withinAbsoluteCutoff) {\n        // Days\n        const days = Math.round(secondsAgo / 3600 / 24);\n        return `${days}${getSuffix('d', days, verbose)}`;\n    }\n    else {\n        // Simple date - \"9 Nov 2019\"\n        return [\n            then.getDate(),\n            verbose\n                ? then.toLocaleString('en-GB', { month: 'long' })\n                : then.toLocaleString('en-GB', { month: 'short' }),\n            then.getFullYear(),\n        ].join(' ');\n    }\n};\n\nexport { timeAgo };\n//# sourceMappingURL=timeAgo.js.map\n","var ArticleDesign;\n(function (ArticleDesign) {\n    ArticleDesign[ArticleDesign[\"Standard\"] = 0] = \"Standard\";\n    ArticleDesign[ArticleDesign[\"Gallery\"] = 1] = \"Gallery\";\n    ArticleDesign[ArticleDesign[\"Audio\"] = 2] = \"Audio\";\n    ArticleDesign[ArticleDesign[\"Video\"] = 3] = \"Video\";\n    ArticleDesign[ArticleDesign[\"Review\"] = 4] = \"Review\";\n    ArticleDesign[ArticleDesign[\"Analysis\"] = 5] = \"Analysis\";\n    ArticleDesign[ArticleDesign[\"Explainer\"] = 6] = \"Explainer\";\n    ArticleDesign[ArticleDesign[\"Comment\"] = 7] = \"Comment\";\n    ArticleDesign[ArticleDesign[\"Letter\"] = 8] = \"Letter\";\n    ArticleDesign[ArticleDesign[\"Feature\"] = 9] = \"Feature\";\n    ArticleDesign[ArticleDesign[\"LiveBlog\"] = 10] = \"LiveBlog\";\n    ArticleDesign[ArticleDesign[\"DeadBlog\"] = 11] = \"DeadBlog\";\n    ArticleDesign[ArticleDesign[\"Recipe\"] = 12] = \"Recipe\";\n    ArticleDesign[ArticleDesign[\"MatchReport\"] = 13] = \"MatchReport\";\n    ArticleDesign[ArticleDesign[\"Interview\"] = 14] = \"Interview\";\n    ArticleDesign[ArticleDesign[\"Editorial\"] = 15] = \"Editorial\";\n    ArticleDesign[ArticleDesign[\"Quiz\"] = 16] = \"Quiz\";\n    ArticleDesign[ArticleDesign[\"Interactive\"] = 17] = \"Interactive\";\n    ArticleDesign[ArticleDesign[\"PhotoEssay\"] = 18] = \"PhotoEssay\";\n    ArticleDesign[ArticleDesign[\"PrintShop\"] = 19] = \"PrintShop\";\n    ArticleDesign[ArticleDesign[\"Obituary\"] = 20] = \"Obituary\";\n    ArticleDesign[ArticleDesign[\"Correction\"] = 21] = \"Correction\";\n    ArticleDesign[ArticleDesign[\"FullPageInteractive\"] = 22] = \"FullPageInteractive\";\n    ArticleDesign[ArticleDesign[\"NewsletterSignup\"] = 23] = \"NewsletterSignup\";\n    ArticleDesign[ArticleDesign[\"Timeline\"] = 24] = \"Timeline\";\n    ArticleDesign[ArticleDesign[\"Profile\"] = 25] = \"Profile\";\n})(ArticleDesign || (ArticleDesign = {}));\n\nexport { ArticleDesign };\n//# sourceMappingURL=ArticleDesign.js.map\n","var ArticleDisplay;\n(function (ArticleDisplay) {\n    ArticleDisplay[ArticleDisplay[\"Standard\"] = 0] = \"Standard\";\n    ArticleDisplay[ArticleDisplay[\"Immersive\"] = 1] = \"Immersive\";\n    ArticleDisplay[ArticleDisplay[\"Showcase\"] = 2] = \"Showcase\";\n    ArticleDisplay[ArticleDisplay[\"NumberedList\"] = 3] = \"NumberedList\";\n})(ArticleDisplay || (ArticleDisplay = {}));\n\nexport { ArticleDisplay };\n//# sourceMappingURL=ArticleDisplay.js.map\n","var ArticlePillar;\n(function (ArticlePillar) {\n    ArticlePillar[ArticlePillar[\"News\"] = 0] = \"News\";\n    ArticlePillar[ArticlePillar[\"Opinion\"] = 1] = \"Opinion\";\n    ArticlePillar[ArticlePillar[\"Sport\"] = 2] = \"Sport\";\n    ArticlePillar[ArticlePillar[\"Culture\"] = 3] = \"Culture\";\n    ArticlePillar[ArticlePillar[\"Lifestyle\"] = 4] = \"Lifestyle\";\n})(ArticlePillar || (ArticlePillar = {}));\n\nexport { ArticlePillar };\n//# sourceMappingURL=ArticlePillar.js.map\n","var ArticleSpecial;\n(function (ArticleSpecial) {\n    ArticleSpecial[ArticleSpecial[\"SpecialReport\"] = 5] = \"SpecialReport\";\n    ArticleSpecial[ArticleSpecial[\"Labs\"] = 6] = \"Labs\";\n    ArticleSpecial[ArticleSpecial[\"SpecialReportAlt\"] = 7] = \"SpecialReportAlt\";\n})(ArticleSpecial || (ArticleSpecial = {}));\n\nexport { ArticleSpecial };\n//# sourceMappingURL=ArticleSpecial.js.map\n","/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_media-queries--page) •\n * [Design System](https://theguardian.design/2a1e5182b/p/41be19-grids)\n */\nconst breakpoints = {\n    mobile: 320,\n    mobileMedium: 375,\n    mobileLandscape: 480,\n    phablet: 660,\n    tablet: 740,\n    desktop: 980,\n    leftCol: 1140,\n    wide: 1300,\n};\n\nexport { breakpoints };\n//# sourceMappingURL=breakpoints.js.map\n","import { breakpoints } from '../breakpoints/breakpoints.js';\n\nconst minWidth = (from) => `@media (min-width: ${`${from}px`})`;\nconst maxWidth = (until) => `@media (max-width: ${`${until - 1}px`})`;\nconst minWidthMaxWidth = (from, until) => `@media (min-width: ${`${from}px`}) and (max-width: ${`${until - 1}px`})`;\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_media-queries--page#from)\n *\n * @example\n *\tconst styles = css`\n *\t\t${from.mobileLandscape} {\n *\t\t\tpadding: 0 20px;\n *\t\t}\n * `;\n */\nconst from = {\n    mobile: minWidth(breakpoints.mobile),\n    mobileMedium: minWidth(breakpoints.mobileMedium),\n    mobileLandscape: minWidth(breakpoints.mobileLandscape),\n    phablet: minWidth(breakpoints.phablet),\n    tablet: minWidth(breakpoints.tablet),\n    desktop: minWidth(breakpoints.desktop),\n    leftCol: minWidth(breakpoints.leftCol),\n    wide: minWidth(breakpoints.wide),\n};\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_media-queries--page#until)\n *\n * @example\n *\tconst styles = css`\n *\t\t${until.wide} {\n *\t\t\tpadding: 0 40px;\n *\t\t}\n * `;\n */\nconst until = {\n    mobile: maxWidth(breakpoints.mobile),\n    mobileMedium: maxWidth(breakpoints.mobileMedium),\n    mobileLandscape: maxWidth(breakpoints.mobileLandscape),\n    phablet: maxWidth(breakpoints.phablet),\n    tablet: maxWidth(breakpoints.tablet),\n    desktop: maxWidth(breakpoints.desktop),\n    leftCol: maxWidth(breakpoints.leftCol),\n    wide: maxWidth(breakpoints.wide),\n};\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-foundations_media-queries--page#betweenand)\n *\n * @example\n *\tconst styles = css`\n *\t\t${between.phablet.and.desktop} {\n *\t\t\tpadding: 0 32px;\n *\t\t}\n * `;\n */\nconst between = {\n    mobile: {\n        and: {\n            mobileMedium: minWidthMaxWidth(breakpoints.mobile, breakpoints.mobileMedium),\n            mobileLandscape: minWidthMaxWidth(breakpoints.mobile, breakpoints.mobileLandscape),\n            phablet: minWidthMaxWidth(breakpoints.mobile, breakpoints.phablet),\n            tablet: minWidthMaxWidth(breakpoints.mobile, breakpoints.tablet),\n            desktop: minWidthMaxWidth(breakpoints.mobile, breakpoints.desktop),\n            leftCol: minWidthMaxWidth(breakpoints.mobile, breakpoints.leftCol),\n            wide: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.wide),\n        },\n    },\n    mobileMedium: {\n        and: {\n            mobileLandscape: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.mobileLandscape),\n            phablet: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.phablet),\n            tablet: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.tablet),\n            desktop: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.desktop),\n            leftCol: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.leftCol),\n            wide: minWidthMaxWidth(breakpoints.mobileMedium, breakpoints.wide),\n        },\n    },\n    mobileLandscape: {\n        and: {\n            phablet: minWidthMaxWidth(breakpoints.mobileLandscape, breakpoints.phablet),\n            tablet: minWidthMaxWidth(breakpoints.mobileLandscape, breakpoints.tablet),\n            desktop: minWidthMaxWidth(breakpoints.mobileLandscape, breakpoints.desktop),\n            leftCol: minWidthMaxWidth(breakpoints.mobileLandscape, breakpoints.leftCol),\n            wide: minWidthMaxWidth(breakpoints.mobileLandscape, breakpoints.wide),\n        },\n    },\n    phablet: {\n        and: {\n            tablet: minWidthMaxWidth(breakpoints.phablet, breakpoints.tablet),\n            desktop: minWidthMaxWidth(breakpoints.phablet, breakpoints.desktop),\n            leftCol: minWidthMaxWidth(breakpoints.phablet, breakpoints.leftCol),\n            wide: minWidthMaxWidth(breakpoints.phablet, breakpoints.wide),\n        },\n    },\n    tablet: {\n        and: {\n            desktop: minWidthMaxWidth(breakpoints.tablet, breakpoints.desktop),\n            leftCol: minWidthMaxWidth(breakpoints.tablet, breakpoints.leftCol),\n            wide: minWidthMaxWidth(breakpoints.tablet, breakpoints.wide),\n        },\n    },\n    desktop: {\n        and: {\n            leftCol: minWidthMaxWidth(breakpoints.desktop, breakpoints.leftCol),\n            wide: minWidthMaxWidth(breakpoints.desktop, breakpoints.wide),\n        },\n    },\n    leftCol: {\n        and: {\n            wide: minWidthMaxWidth(breakpoints.leftCol, breakpoints.wide),\n        },\n    },\n};\n\nexport { between, from, until };\n//# sourceMappingURL=mq.js.map\n","import { css } from '@emotion/react';\nimport { ArticleDisplay, ArticleDesign, ArticlePillar, ArticleSpecial } from '@guardian/libs';\nimport { neutral, specialReport, labs, opinion, sport, lifestyle, culture, news, palette } from '@guardian/source-foundations';\n\nconst defaultFormat = {\n    display: ArticleDisplay.Standard,\n    design: ArticleDesign.Standard,\n    theme: ArticlePillar.News,\n};\nconst WHITE = neutral[100];\nconst decideBackground = (format, priority) => {\n    switch (priority) {\n        case 'primary':\n        case 'secondary':\n            switch (format.theme) {\n                case ArticlePillar.News:\n                    return css `\n\t\t\t\t\t\tbackground-color: ${news[300]};\n\t\t\t\t\t\t:hover {\n\t\t\t\t\t\t\tbackground-color: ${news[400]};\n\t\t\t\t\t\t\tborder: 1px solid ${news[400]};\n\t\t\t\t\t\t}\n\t\t\t\t\t`;\n                case ArticlePillar.Culture:\n                    return css `\n\t\t\t\t\t\tbackground-color: ${culture[300]};\n\t\t\t\t\t\t:hover {\n\t\t\t\t\t\t\tbackground-color: ${culture[400]};\n\t\t\t\t\t\t\tborder: 1px solid ${culture[400]};\n\t\t\t\t\t\t}\n\t\t\t\t\t`;\n                case ArticlePillar.Lifestyle:\n                    return css `\n\t\t\t\t\t\tbackground-color: ${lifestyle[300]};\n\t\t\t\t\t\t:hover {\n\t\t\t\t\t\t\tbackground-color: ${lifestyle[400]};\n\t\t\t\t\t\t\tborder: 1px solid ${lifestyle[400]};\n\t\t\t\t\t\t}\n\t\t\t\t\t`;\n                case ArticlePillar.Sport:\n                    return css `\n\t\t\t\t\t\tbackground-color: ${sport[300]};\n\t\t\t\t\t\t:hover {\n\t\t\t\t\t\t\tbackground-color: ${sport[400]};\n\t\t\t\t\t\t\tborder: 1px solid ${sport[400]};\n\t\t\t\t\t\t}\n\t\t\t\t\t`;\n                case ArticlePillar.Opinion:\n                    return css `\n\t\t\t\t\t\tbackground-color: ${opinion[300]};\n\t\t\t\t\t\t:hover {\n\t\t\t\t\t\t\tbackground-color: ${opinion[400]};\n\t\t\t\t\t\t\tborder: 1px solid ${opinion[400]};\n\t\t\t\t\t\t}\n\t\t\t\t\t`;\n                case ArticleSpecial.Labs:\n                    return css `\n\t\t\t\t\t\tbackground-color: ${labs[300]};\n\t\t\t\t\t\t:hover {\n\t\t\t\t\t\t\tbackground-color: ${labs[400]};\n\t\t\t\t\t\t\tborder: 1px solid ${labs[400]};\n\t\t\t\t\t\t}\n\t\t\t\t\t`;\n                case ArticleSpecial.SpecialReport:\n                    return css `\n\t\t\t\t\t\tbackground-color: ${specialReport[300]};\n\t\t\t\t\t\t:hover {\n\t\t\t\t\t\t\tbackground-color: ${specialReport[400]};\n\t\t\t\t\t\t\tborder: 1px solid ${specialReport[400]};\n\t\t\t\t\t\t}\n\t\t\t\t\t`;\n            }\n        // falls through\n        case 'subdued':\n        case 'tertiary':\n            return css `\n\t\t\t\tbackground-color: transparent;\n\t\t\t`;\n    }\n};\nconst decideBorder = (format, priority) => {\n    switch (priority) {\n        case 'primary':\n        case 'secondary':\n        case 'tertiary':\n            return css `\n\t\t\t\tborder: 1px solid currentColor;\n\t\t\t`;\n        case 'subdued':\n            return css `\n\t\t\t\tborder: none;\n\t\t\t`;\n    }\n};\nconst decideFont = (format, priority) => {\n    switch (priority) {\n        case 'primary':\n        case 'secondary':\n            return css `\n\t\t\t\tcolor: ${WHITE};\n\t\t\t`;\n        case 'subdued':\n        case 'tertiary':\n            switch (format.theme) {\n                case ArticlePillar.News:\n                    return css `\n\t\t\t\t\t\tcolor: ${news[400]};\n\t\t\t\t\t`;\n                case ArticlePillar.Culture:\n                    return css `\n\t\t\t\t\t\tcolor: ${culture[400]};\n\t\t\t\t\t`;\n                case ArticlePillar.Lifestyle:\n                    return css `\n\t\t\t\t\t\tcolor: ${lifestyle[400]};\n\t\t\t\t\t`;\n                case ArticlePillar.Sport:\n                    return css `\n\t\t\t\t\t\tcolor: ${sport[400]};\n\t\t\t\t\t`;\n                case ArticlePillar.Opinion:\n                    return css `\n\t\t\t\t\t\tcolor: ${opinion[400]};\n\t\t\t\t\t`;\n                case ArticleSpecial.Labs:\n                    return css `\n\t\t\t\t\t\tcolor: ${labs[400]};\n\t\t\t\t\t`;\n                case ArticleSpecial.SpecialReport:\n                    return css `\n\t\t\t\t\t\tcolor: ${specialReport[400]};\n\t\t\t\t\t`;\n                case ArticleSpecial.SpecialReportAlt:\n                    return css `\n\t\t\t\t\t\tcolor: ${palette.specialReportAlt[200]};\n\t\t\t\t\t`;\n            }\n    }\n};\n\nexport { decideBackground, decideBorder, decideFont, defaultFormat };\n//# sourceMappingURL=styles.js.map\n","import { jsx } from '@emotion/react/jsx-runtime';\nimport { Button } from '@guardian/source-react-components';\nimport { decideBackground, decideBorder, decideFont, defaultFormat } from './styles.js';\n\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/docs/source-react-components-development-kitchen_editorialbutton--when-primary) •\n * [Design System](https://theguardian.design/2a1e5182b/p/435225-button) •\n * [GitHub](https://github.com/guardian/csnx/tree/main/libs/@guardian/source-react-components-development-kitchen/src/editorial-button/EditorialButton.tsx) •\n * [NPM](https://www.npmjs.com/package/@guardian/source-react-components-development-kitchen)\n *\n * This is the editorial version of the core Button component.\n * This editorial version requires the format prop and uses that to override Button styles based on `format.theme`\n *\n */\nconst EditorialButton = ({ format = defaultFormat, children, priority = 'primary', ...props }) => {\n    const backgroundOverrides = decideBackground(format, priority);\n    const borderOverrides = decideBorder(format, priority);\n    const fontOverrides = decideFont(format, priority);\n    return (jsx(Button, { priority: priority, cssOverrides: [backgroundOverrides, borderOverrides, fontOverrides], ...props, children: children }));\n};\n\nexport { EditorialButton };\n//# sourceMappingURL=EditorialButton.js.map\n","import { jsx } from '@emotion/react/jsx-runtime';\nimport { buttonContents } from './shared.js';\nimport { buttonStyles } from './styles.js';\n\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/story/source-react-components_button--primary-priority-default-theme) •\n * [Design System](https://theguardian.design/2a1e5182b/p/435225-button) •\n * [GitHub](https://github.com/guardian/csnx/tree/main/libs/@guardian/source-react-components/src/button/Button.tsx) •\n * [NPM](https://www.npmjs.com/package/@guardian/source-react-components)\n *\n * Buttons enable users to make choices or perform actions.\n *\n */\nconst Button = ({ priority, size, icon: iconSvg, iconSide, hideLabel, nudgeIcon, type = 'button', isLoading = false, loadingAnnouncement = 'Loading', cssOverrides, children, ...props }) => (jsx(\"button\", { css: buttonStyles({\n        size,\n        priority,\n        icon: iconSvg,\n        hideLabel,\n        iconSide,\n        nudgeIcon,\n        cssOverrides,\n        isLoading,\n    }), type: type, \"aria-live\": \"polite\", \"aria-label\": isLoading ? loadingAnnouncement : undefined, ...props, children: buttonContents({\n        hideLabel,\n        iconSvg,\n        isLoading,\n        children,\n    }) }));\n\nexport { Button };\n//# sourceMappingURL=Button.js.map\n","import { jsx } from '@emotion/react/jsx-runtime';\nimport { css } from '@emotion/react';\nimport { until, from } from '@guardian/source-foundations';\n\n/**\n * [Storybook](https://guardian.github.io/csnx/?path=/story/source-react-components_hide--hidden-from-tablet-at-mobile) •\n * [Design System](https://theguardian.design/2a1e5182b/p/78cb73-hide) •\n * [GitHub](https://github.com/guardian/csnx/tree/main/libs/@guardian/source-react-components/src/hide/Hide.tsx) •\n * [NPM](https://www.npmjs.com/package/@guardian/source-react-components)\n *\n * Hides child content `until` and/or `from` a given breakpoint.\n */\nconst Hide = ({ children, above, // deprecated\nbelow, // deprecated\nfrom: from$1 = above, until: until$1 = below, }) => {\n    let whenToHide;\n    if (until$1) {\n        whenToHide = css `\n\t\t\t${until[until$1]} {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t`;\n    }\n    if (from$1) {\n        whenToHide = css `\n\t\t\t${whenToHide}\n\t\t\t${from[from$1]} {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t`;\n    }\n    return jsx(\"span\", { css: whenToHide, children: children });\n};\n\nexport { Hide };\n//# sourceMappingURL=Hide.js.map\n"],"names":["updateTimeElement","element","HTMLElement","relativeformat","relativeFormat","dataset","absoluteTime","getAttribute","newTime","timeAgo","Date","getTime","verbose","oldTime","innerText","innerHTML","updateTimeElements","document","querySelectorAll","forEach","SvgReload","size","tight","padding","svg","viewBox","width","height","path","d","Toast","count","onClick","format","div","css","space","data-cy","Hide","above","EditorialButton","icon","below","isServer","window","topOfBlog","getElementById","lastUpdated","querySelector","toastRoot","revealPendingBlocks","blogBody","pendingBlocks","block","classList","add","remove","undefined","length","dispatchEvent","CustomEvent","Liveness","pageId","webTitle","ajaxUrl","filterKeyEvents","enhanceTweetsSwitch","onFirstPage","webURL","mostRecentBlockId","hasPinnedPost","selectedTopics","showToast","setShowToast","useState","topOfBlogVisible","setTopOfBlogVisible","numHiddenBlocks","setNumHiddenBlocks","latestBlockId","setLatestBlockId","onSuccess","useCallback","data","numNewBlocks","html","template","createElement","fragment","content","islands","initHydration","insertBefore","nextSibling","twttr","ready","twitter","widgets","load","Array","from","insert","e","console","log","setAttribute","toString","visibilityState","mockLiveUpdate","useApi","url","URL","searchParams","set","topic","type","value","href","guardian","modules","sentry","reportError","Error","getKey","refreshInterval","refreshWhenHidden","useEffect","title","observer","IntersectionObserver","entry","isIntersecting","observe","disconnect","handleVisibilityChange","addEventListener","removeEventListener","handleToastClick","placeToScrollTo","scrollIntoView","behavior","history","replaceState","location","ReactDOM","checkForErrors","response","ok","statusText","status","options","init","error","useSWR","fetch","then","res","json","fetcher","loading","getSuffix","shouldPluralise","epoch","now","daysUntilAbsolute","secondsAgo","Math","floor","veryClose","within55Seconds","withinTheHour","within24hrs","date","today","isWithin24Hours","wasYesterday","relative","yesterday","setDate","getDate","toDateString","isYesterday","withinAbsoluteCutoff","minutes","round","hours","pad","getHours","getMinutes","padStart","days","toLocaleString","month","getFullYear","join","ArticleDesign","ArticleDisplay","ArticlePillar","ArticleSpecial","breakpoints","mobile","mobileMedium","mobileLandscape","phablet","tablet","desktop","leftCol","wide","minWidth","maxWidth","until","minWidthMaxWidth","between","and","defaultFormat","display","design","theme","WHITE","neutral","children","priority","props","backgroundOverrides","news","culture","lifestyle","sport","opinion","labs","specialReport","decideBackground","borderOverrides","decideBorder","fontOverrides","palette","decideFont","jsx","Button","cssOverrides","iconSvg","iconSide","hideLabel","nudgeIcon","isLoading","loadingAnnouncement","buttonStyles","buttonContents","whenToHide","from$1","until$1"],"sourceRoot":""}