{"version":3,"file":"YoutubeBlockComponent-importable.legacy.76c9ea8aac01d3bcf2a3.js","mappings":"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","sources":["webpack://@guardian/dotcom-rendering/../node_modules/@kossnocorp/desvg/index.js","webpack://@guardian/dotcom-rendering/../node_modules/@kossnocorp/desvg/react.js","webpack://@guardian/dotcom-rendering/./src/web/components/Caption.tsx","webpack://@guardian/dotcom-rendering/../../../libs/@guardian/source-react-components/vendor/icons/SvgAlertRound.tsx","webpack://@guardian/dotcom-rendering/./src/web/components/YoutubeBlockComponent.importable.tsx","webpack://@guardian/dotcom-rendering/./src/web/lib/useAB.ts","webpack://@guardian/dotcom-rendering/../../../libs/@guardian/libs/src/format/ArticleDisplay.ts","webpack://@guardian/dotcom-rendering/./src/static/icons/camera.svg","webpack://@guardian/dotcom-rendering/./src/static/icons/video-icon.svg"],"sourcesContent":["module.exports = desvg\n\nfunction desvg (h, svg, props) {\n  props = props || {}\n\n  var content = svg.content\n  var attributes = svg.attributes\n\n  return function (props) {\n    return h(\n      'svg',\n      Object.assign(\n        { dangerouslySetInnerHTML: { __html: content } },\n        attributes,\n        props\n      ),\n      props && props.children\n    )\n  }\n}\n","var desvg = require('.')\nvar React = require('react')\n\nmodule.exports = desvg.bind(null, React.createElement.bind(React))\n","import { jsx as _jsx, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nimport { css } from '@emotion/react';\nimport { ArticleDesign, ArticleDisplay, ArticleSpecial } from '@guardian/libs';\nimport { between, from, space, textSans, until, } from '@guardian/source-foundations';\nimport CameraSvg from '../../static/icons/camera.svg';\nimport VideoSvg from '../../static/icons/video-icon.svg';\nimport { decidePalette } from '../lib/decidePalette';\nconst captionStyle = (palette) => css `\n\t${textSans.xsmall()};\n\tline-height: 135%;\n\tpadding-top: 6px;\n\tword-wrap: break-all;\n\tcolor: ${palette.text.caption};\n`;\nconst bottomMarginStyles = css `\n\tmargin-bottom: 6px;\n`;\nconst overlaidBottomPadding = (format) => {\n    if (format.display === ArticleDisplay.Showcase &&\n        format.design === ArticleDesign.Review) {\n        return css `\n\t\t\tpadding-bottom: 2.5rem;\n\t\t`;\n    }\n    return css `\n\t\tpadding-bottom: 0.375rem;\n\t`;\n};\nconst overlaidStyles = (palette, format) => css `\n\tposition: absolute;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tbackground: rgba(18, 18, 18, 0.8);\n\n\tspan {\n\t\tcolor: ${palette.text.overlaidCaption};\n\t\tfont-size: 0.75rem;\n\t\tline-height: 1rem;\n\t}\n\n\tsvg {\n\t\tfill: ${palette.text.overlaidCaption};\n\t}\n\tcolor: ${palette.text.overlaidCaption};\n\tfont-size: 0.75rem;\n\tline-height: 1rem;\n\tpadding-top: 0.375rem;\n\tpadding-right: 2.5rem;\n\tpadding-left: 0.75rem;\n\t${overlaidBottomPadding(format)};\n\n\tflex-grow: 1;\n\tmin-height: 2.25rem;\n`;\nconst limitedWidth = css `\n\t${from.leftCol} {\n\t\twidth: 140px;\n\t\t/* use absolute position here to allow the article text to push up alongside\n           the caption when it is limited in width */\n\t\tposition: absolute;\n\t}\n\t${from.wide} {\n\t\twidth: 220px;\n\t}\n`;\nconst veryLimitedWidth = css `\n\t${from.leftCol} {\n\t\twidth: 120px;\n\t\t/* use absolute position here to allow the article text to push up alongside\n           the caption when it is limited in width */\n\t\tposition: absolute;\n\t}\n\t${from.wide} {\n\t\twidth: 184px;\n\t}\n`;\nconst captionPadding = css `\n\tpadding-left: 8px;\n\tpadding-right: 8px;\n`;\nconst tabletCaptionPadding = css `\n\t${until.desktop} {\n\t\t${captionPadding}\n\t}\n`;\nconst videoPadding = css `\n\t${until.mobileLandscape} {\n\t\tmargin-left: 10px;\n\t}\n\t${between.mobileLandscape.and.phablet} {\n\t\tmargin-left: ${space[5]}px;\n\t}\n`;\nconst bigLeftMargin = css `\n\twidth: inherit;\n\tmargin-left: ${space[9]}px;\n\t${until.wide} {\n\t\tmargin-left: 20px;\n\t\tmargin-right: 20px;\n\t}\n\t${until.mobileLandscape} {\n\t\tmargin-left: 10px;\n\t\tmargin-right: 10px;\n\t}\n`;\nconst hideIconBelowLeftCol = css `\n\t${until.leftCol} {\n\t\tdisplay: none;\n\t}\n`;\nconst pictureRatio = (13 / 18) * 100;\nconst videoRatio = (23 / 36) * 100;\nconst iconStyle = (palette) => css `\n\tfill: ${palette.fill.cameraCaptionIcon};\n\tmargin-right: ${space[1]}px;\n\tdisplay: inline-block;\n\tposition: relative;\n\twidth: 1em;\n\tvertical-align: baseline;\n\t::before {\n\t\tcontent: ' ';\n\t\tdisplay: block;\n\t\tpadding-top: ${pictureRatio}%;\n\t}\n\tsvg {\n\t\ttop: 0px;\n\t\tright: 0px;\n\t\tbottom: 0px;\n\t\tleft: 0px;\n\t\twidth: 100%;\n\t\tposition: absolute;\n\t\theight: 100%;\n\t}\n`;\nconst videoIconStyle = css `\n\twidth: 1.1em;\n\t::before {\n\t\tpadding-top: ${videoRatio}%;\n\t}\n`;\nconst captionLink = (palette) => css `\n\ta {\n\t\tcolor: ${palette.text.captionLink};\n\t\ttext-decoration: none;\n\t}\n\ta:hover {\n\t\ttext-decoration: underline;\n\t}\n\tstrong {\n\t\tfont-weight: bold;\n\t}\n`;\nconst CameraIcon = ({ palette, format }) => {\n    return (_jsx(\"span\", { css: [\n            iconStyle(palette),\n            format.display === ArticleDisplay.Immersive &&\n                hideIconBelowLeftCol,\n        ], children: _jsx(CameraSvg, {}) }));\n};\nconst VideoIcon = ({ palette, format }) => {\n    return (_jsx(\"span\", { css: [\n            iconStyle(palette),\n            format.display === ArticleDisplay.Immersive &&\n                hideIconBelowLeftCol,\n            videoIconStyle,\n        ], children: _jsx(VideoSvg, {}) }));\n};\nexport const Caption = ({ captionText, format, padCaption = false, credit, displayCredit = true, shouldLimitWidth = false, isOverlaid, isLeftCol, mediaType = 'Gallery', isMainMedia = false, }) => {\n    // Sometimes captions come thorough as a single blank space, so we trim here to ignore those\n    const noCaption = !captionText?.trim();\n    const noCredit = !credit;\n    const hideCredit = !displayCredit;\n    if (noCaption && (noCredit || hideCredit))\n        return null;\n    const palette = decidePalette(format);\n    const isBlog = format.design === ArticleDesign.LiveBlog ||\n        format.design === ArticleDesign.DeadBlog;\n    const defaultCaption = (_jsxs(\"figcaption\", { css: [\n            captionStyle(palette),\n            shouldLimitWidth && limitedWidth,\n            isOverlaid\n                ? overlaidStyles(palette, format)\n                : bottomMarginStyles,\n            isMainMedia && isBlog && tabletCaptionPadding,\n            padCaption && captionPadding,\n            mediaType === 'Video' && videoPadding,\n        ], children: [mediaType === 'Video' ? (_jsx(VideoIcon, { palette: palette, format: format })) : (_jsx(CameraIcon, { palette: palette, format: format })), !!captionText && (_jsx(\"span\", { css: captionLink(palette), dangerouslySetInnerHTML: {\n                    __html: captionText || '',\n                } }, \"caption\")), !!credit && displayCredit && ` ${credit}`] }));\n    switch (format.design) {\n        case ArticleDesign.PhotoEssay:\n            if (format.theme === ArticleSpecial.Labs && isLeftCol) {\n                return defaultCaption;\n            }\n            return (_jsxs(\"figcaption\", { css: [\n                    css `\n\t\t\t\t\t\t\t${textSans.xxsmall({ lineHeight: 'tight' })};\n\t\t\t\t\t\t\tcolor: ${palette.text.caption};\n\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\tmargin-top: ${space[3]}px;\n\t\t\t\t\t\t\tli:not(:first-child) {\n\t\t\t\t\t\t\t\tmargin-top: ${space[3]}px;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tli {\n\t\t\t\t\t\t\t\tpadding-top: ${space[2]}px;\n\t\t\t\t\t\t\t\tborder-top: 1px solid ${palette.text.caption};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t`,\n                    bottomMarginStyles,\n                    padCaption && captionPadding,\n                    shouldLimitWidth && veryLimitedWidth,\n                    shouldLimitWidth && bigLeftMargin,\n                ], children: [!!captionText && (_jsx(\"span\", { css: captionLink(palette), dangerouslySetInnerHTML: {\n                            __html: captionText || '',\n                        } }, \"caption\")), !!credit && displayCredit && ` ${credit}`] }));\n        default:\n            return defaultCaption;\n    }\n};\n","// DO NOT EDIT\n// this file is auto-generated by packages/@guardian/source-react-components/scripts/create-icons/index.ts\nimport { css } from '@emotion/react';\nimport type { EmotionJSX } from '@emotion/react/types/jsx-namespace';\nimport { iconSize, visuallyHidden } from '@guardian/source-foundations';\nimport type { IconProps } from '../../src/@types/Icons';\n\nconst Svg = ({ size }: IconProps): EmotionJSX.Element => (\n\t<svg\n\t\twidth={size ? iconSize[size] : undefined}\n\t\theight={undefined}\n\t\tviewBox=\"-3 -3 30 30\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tfocusable={false}\n\t\taria-hidden={true}\n\t>\n\t\t<path\n\t\t\tfillRule=\"evenodd\"\n\t\t\tclipRule=\"evenodd\"\n\t\t\td=\"M22 12c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10Zm-10.704 1.818h1.386l.659-8.636-.91-.91h-.885l-.91.91.66 8.636Zm2.068 3.637c0-.75-.614-1.364-1.364-1.364-.75 0-1.364.614-1.364 1.364 0 .75.614 1.363 1.364 1.363.75 0 1.364-.613 1.364-1.363Z\"\n\t\t/>\n\t</svg>\n);\n\nexport const SvgAlertRound = ({\n\tsize,\n\tisAnnouncedByScreenReader = false,\n}: IconProps): EmotionJSX.Element => (\n\t<>\n\t\t<Svg size={size} />\n\t\t{isAnnouncedByScreenReader ? (\n\t\t\t<span\n\t\t\t\tcss={css`\n\t\t\t\t\t${visuallyHidden}\n\t\t\t\t`}\n\t\t\t>\n\t\t\t\tWarning\n\t\t\t</span>\n\t\t) : (\n\t\t\t''\n\t\t)}\n\t</>\n);\n","import { jsx as _jsx, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nimport { css } from '@emotion/react';\nimport { YoutubeAtom } from '@guardian/atoms-rendering';\nimport { body, neutral, space } from '@guardian/source-foundations';\nimport { SvgAlertRound } from '@guardian/source-react-components';\nimport { useEffect, useState } from 'react';\nimport { trackVideoInteraction } from '../browser/ga/ga';\nimport { record } from '../browser/ophan/ophan';\nimport { useAB } from '../lib/useAB';\nimport { Caption } from './Caption';\nconst expiredOverlayStyles = (overrideImage) => overrideImage\n    ? css `\n\t\t\t\theight: 0px;\n\t\t\t\tposition: relative;\n\t\t\t\tbackground-image: url(${overrideImage});\n\t\t\t\tbackground-size: cover;\n\t\t\t\tbackground-position: 49% 49%;\n\t\t\t\tbackground-repeat: no-repeat;\n\t\t\t\tpadding-bottom: 56%;\n\t\t\t\tcolor: ${neutral[100]};\n\t\t\t\tbackground-color: ${neutral[20]};\n\t\t  `\n    : undefined;\nconst expiredTextWrapperStyles = css `\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-items: center;\n\n\tpadding-top: ${space[4]}px;\n\tpadding-bottom: ${space[4]}px;\n\tpadding-left: ${space[1]}px;\n\tpadding-right: ${space[12]}px;\n\tcolor: ${neutral[100]};\n\tbackground-color: ${neutral[20]};\n`;\nconst expiredSVGWrapperStyles = css `\n\tpadding-right: ${space[1]}px;\n\tsvg {\n\t\twidth: ${space[12]}px;\n\t\theight: ${space[12]}px;\n\t\tfill: ${neutral[100]};\n\t}\n`;\nexport const YoutubeBlockComponent = ({ id, elementId, assetId, mediaTitle, altText, format, hideCaption, overrideImage, posterImage, expired, role, adTargeting, isMainMedia, height = 259, width = 460, duration, origin, stickyVideos, }) => {\n    const [consentState, setConsentState] = useState(undefined);\n    const abTests = useAB();\n    const abTestsApi = abTests?.api;\n    const imaEnabled = abTestsApi?.isUserInVariant('IntegrateIma', 'variant') ?? false;\n    const abTestParticipations = abTests?.participations ?? {};\n    useEffect(() => {\n        const defineConsentState = async () => {\n            const { onConsentChange } = await import('@guardian/consent-management-platform');\n            onConsentChange((newConsent) => {\n                setConsentState(newConsent);\n            });\n        };\n        defineConsentState().catch((error) => {\n            window.guardian.modules.sentry.reportError(error instanceof Error ? error : new Error(`Error: unknown`), 'youtube-consent');\n        });\n    }, []);\n    const shouldLimitWidth = !isMainMedia &&\n        (role === 'showcase' || role === 'supporting' || role === 'immersive');\n    if (expired) {\n        return (_jsxs(\"figure\", { css: css `\n\t\t\t\t\tmargin-top: 16px;\n\t\t\t\t\tmargin-bottom: 16px;\n\t\t\t\t`, children: [_jsx(\"div\", { css: expiredOverlayStyles(overrideImage), children: _jsxs(\"div\", { css: expiredTextWrapperStyles, children: [_jsx(\"div\", { css: expiredSVGWrapperStyles, children: _jsx(SvgAlertRound, {}) }), _jsx(\"p\", { css: css `\n\t\t\t\t\t\t\t\t${body.medium({\n                                    lineHeight: 'tight',\n                                })}\n\t\t\t\t\t\t\t`, children: \"This video has been removed. This could be because it launched early, our rights have expired, there was a legal issue, or for another reason.\" })] }) }), !hideCaption && (_jsx(Caption, { captionText: mediaTitle ?? '', format: format, displayCredit: false, shouldLimitWidth: shouldLimitWidth, mediaType: \"Video\", isMainMedia: isMainMedia }))] }));\n    }\n    const ophanTracking = (trackingEvent) => {\n        if (!id)\n            return;\n        record({\n            video: {\n                id: `gu-video-youtube-${id}`,\n                eventType: `video:content:${trackingEvent}`,\n            },\n        });\n    };\n    const gaTracking = (trackingEvent) => {\n        if (!id)\n            return;\n        trackVideoInteraction({\n            trackingEvent,\n            elementId: id,\n        });\n    };\n    return (_jsxs(\"div\", { \"data-chromatic\": \"ignore\", \"data-component\": \"youtube-atom\", children: [_jsx(YoutubeAtom, { elementId: elementId, videoId: assetId, overrideImage: overrideImage\n                    ? [\n                        {\n                            srcSet: [\n                                {\n                                    src: overrideImage,\n                                    width: 500, // we do not have width for overlayImage so set a random number\n                                },\n                            ],\n                        },\n                    ]\n                    : undefined, posterImage: posterImage\n                    ? [\n                        {\n                            srcSet: posterImage.map((img) => ({\n                                src: img.url,\n                                width: img.width,\n                            })),\n                        },\n                    ]\n                    : undefined, role: role, alt: altText ?? mediaTitle ?? '', adTargeting: adTargeting, consentState: consentState, height: height, width: width, title: mediaTitle, duration: duration, eventEmitters: [ophanTracking, gaTracking], pillar: format.theme, origin: process.env.NODE_ENV === 'development' ? '' : origin, shouldStick: stickyVideos, isMainMedia: isMainMedia, imaEnabled: imaEnabled, abTestParticipations: abTestParticipations }), !hideCaption && (_jsx(Caption, { captionText: mediaTitle ?? '', format: format, displayCredit: false, shouldLimitWidth: shouldLimitWidth, mediaType: \"Video\", isMainMedia: isMainMedia }))] }));\n};\n","import { mutate } from 'swr';\nimport useSWRImmutable from 'swr/immutable';\nconst apiPromise = new Promise(() => { });\nconst key = 'ab-tests';\n/**\n * A hook which returns the AB Test Api when available,\n * or undefined otherwise.\n *\n * Leverages an immutable SWR to satisfy all requests to the\n * AB Core. As soon as the tests are available, all instances of\n * the useAB hook will render.\n */\nexport const useAB = () => {\n    const { data } = useSWRImmutable(key, () => apiPromise);\n    return data;\n};\nexport const setABTests = ({ api, participations }) => {\n    void mutate(key, { api, participations }, false);\n};\n","export enum ArticleDisplay {\n\tStandard,\n\tImmersive,\n\tShowcase,\n\tNumberedList,\n}\n","\nmodule.exports = {\"attributes\":{\"width\":\"18\",\"height\":\"13\",\"viewBox\":\"0 0 18 13\"},\"content\":\"<path d=\\\"M18 3.5v8l-1.5 1.5h-15l-1.5-1.5v-8l1.5-1.5h3.5l2-2h4l2 2h3.5l1.5 1.5zm-9 7.5c1.9 0 3.5-1.6 3.5-3.5s-1.6-3.5-3.5-3.5-3.5 1.6-3.5 3.5 1.6 3.5 3.5 3.5z\\\"/>\"}\nvar desvg = require('@kossnocorp/desvg/react')\nmodule.exports = desvg(module.exports)\n","\nmodule.exports = {\"attributes\":{\"width\":\"36\",\"height\":\"23\",\"viewBox\":\"0 0 36 23\"},\"content\":\"<path d=\\\"M3.2 0l-3.2 3.3v16.4l3.3 3.3h18.7v-23h-18.8m30.4 1l-8.6 8v5l8.6 8h2.4v-21h-2.4\\\"/>\"}\nvar desvg = require('@kossnocorp/desvg/react')\nmodule.exports = desvg(module.exports)\n"],"names":["module","exports","h","svg","props","content","attributes","Object","assign","dangerouslySetInnerHTML","__html","children","desvg","React","bind","createElement","captionStyle","palette","css","textSans","text","caption","bottomMarginStyles","overlaidStyles","format","overlaidCaption","display","ArticleDisplay","design","ArticleDesign","overlaidBottomPadding","limitedWidth","from","veryLimitedWidth","captionPadding","tabletCaptionPadding","until","videoPadding","between","space","bigLeftMargin","hideIconBelowLeftCol","iconStyle","fill","cameraCaptionIcon","videoIconStyle","captionLink","CameraIcon","_jsx","CameraSvg","VideoIcon","VideoSvg","Caption","captionText","padCaption","credit","displayCredit","shouldLimitWidth","isOverlaid","isLeftCol","mediaType","isMainMedia","trim","decidePalette","isBlog","defaultCaption","_jsxs","theme","ArticleSpecial","lineHeight","SvgAlertRound","size","isAnnouncedByScreenReader","jsxs","jsx","visuallyHidden","expiredOverlayStyles","overrideImage","neutral","undefined","expiredTextWrapperStyles","expiredSVGWrapperStyles","YoutubeBlockComponent","id","elementId","assetId","mediaTitle","altText","hideCaption","posterImage","expired","role","adTargeting","height","width","duration","origin","stickyVideos","useState","consentState","setConsentState","abTests","useAB","abTestsApi","api","imaEnabled","isUserInVariant","abTestParticipations","participations","useEffect","defineConsentState","onConsentChange","newConsent","catch","error","window","guardian","modules","sentry","reportError","Error","body","YoutubeAtom","videoId","srcSet","src","map","img","url","alt","title","eventEmitters","trackingEvent","record","video","eventType","trackVideoInteraction","pillar","shouldStick","apiPromise","Promise","key","useSWRImmutable","data","setABTests","mutate"],"sourceRoot":""}