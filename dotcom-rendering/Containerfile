# This container is used in our CICD pipelines for running E2E and regression tests.
# Keep the Node version in sync with `.nvmrc`
FROM node:18.16.1-alpine

WORKDIR /opt/app/dotcom-rendering/dotcom-rendering

COPY ./dotcom-rendering/dist /opt/app/dotcom-rendering/dotcom-rendering/dist

EXPOSE 9000

ENV DISABLE_LOGGING_AND_METRICS=true
ENV NODE_ENV=production

ENTRYPOINT ["node", "dist/server.js"]
